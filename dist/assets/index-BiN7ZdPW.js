var Pte=s=>{throw TypeError(s)};var pte=(s,o,_)=>o.has(s)||Pte("Cannot "+_);var EI=(s,o,_)=>(pte(s,o,"read from private field"),_?_.call(s):o.get(s)),G$=(s,o,_)=>o.has(s)?Pte("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(s):o.set(s,_),k$=(s,o,_,j)=>(pte(s,o,"write to private field"),j?j.call(s,_):o.set(s,_),_),ZN=(s,o,_)=>(pte(s,o,"access private method"),_);var ote=(s,o,_,j)=>({set _(et){k$(s,o,et,_)},get _(){return EI(s,o,j)}});function _mergeNamespaces(s,o){for(var _=0;_<o.length;_++){const j=o[_];if(typeof j!="string"&&!Array.isArray(j)){for(const et in j)if(et!=="default"&&!(et in s)){const st=Object.getOwnPropertyDescriptor(j,et);st&&Object.defineProperty(s,et,st.get?st:{enumerable:!0,get:()=>j[et]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))j(et);new MutationObserver(et=>{for(const st of et)if(st.type==="childList")for(const nt of st.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&j(nt)}).observe(document,{childList:!0,subtree:!0});function _(et){const st={};return et.integrity&&(st.integrity=et.integrity),et.referrerPolicy&&(st.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?st.credentials="include":et.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function j(et){if(et.ep)return;et.ep=!0;const st=_(et);fetch(et.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var o=s.default;if(typeof o=="function"){var _=function j(){return this instanceof j?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};_.prototype=o.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(s).forEach(function(j){var et=Object.getOwnPropertyDescriptor(s,j);Object.defineProperty(_,j,et.get?et:{enumerable:!0,get:function(){return s[j]}})}),_}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$b=Symbol.for("react.forward_ref"),w$8=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$3(s){return s===null||typeof s!="object"?null:(s=z$5&&s[z$5]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$4(s,o,_){this.props=s,this.context=o,this.refs=D$1,this.updater=_||B$1}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(s,o){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,o,"setState")};E$4.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$2(){}F$2.prototype=E$4.prototype;function G$1(s,o,_){this.props=s,this.context=o,this.refs=D$1,this.updater=_||B$1}var H$1=G$1.prototype=new F$2;H$1.constructor=G$1;C$1(H$1,E$4.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(s,o,_){var j,et={},st=null,nt=null;if(o!=null)for(j in o.ref!==void 0&&(nt=o.ref),o.key!==void 0&&(st=""+o.key),o)J$1.call(o,j)&&!L$2.hasOwnProperty(j)&&(et[j]=o[j]);var ct=arguments.length-2;if(ct===1)et.children=_;else if(1<ct){for(var At=Array(ct),mt=0;mt<ct;mt++)At[mt]=arguments[mt+2];et.children=At}if(s&&s.defaultProps)for(j in ct=s.defaultProps,ct)et[j]===void 0&&(et[j]=ct[j]);return{$$typeof:l$3,type:s,key:st,ref:nt,props:et,_owner:K$1.current}}function N$1(s,o){return{$$typeof:l$3,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}}function O$2(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$3}function escape(s){var o={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(_){return o[_]})}var P$2=/\/+/g;function Q$2(s,o){return typeof s=="object"&&s!==null&&s.key!=null?escape(""+s.key):o.toString(36)}function R$2(s,o,_,j,et){var st=typeof s;(st==="undefined"||st==="boolean")&&(s=null);var nt=!1;if(s===null)nt=!0;else switch(st){case"string":case"number":nt=!0;break;case"object":switch(s.$$typeof){case l$3:case n$4:nt=!0}}if(nt)return nt=s,et=et(nt),s=j===""?"."+Q$2(nt,0):j,I$1(et)?(_="",s!=null&&(_=s.replace(P$2,"$&/")+"/"),R$2(et,o,_,"",function(mt){return mt})):et!=null&&(O$2(et)&&(et=N$1(et,_+(!et.key||nt&&nt.key===et.key?"":(""+et.key).replace(P$2,"$&/")+"/")+s)),o.push(et)),1;if(nt=0,j=j===""?".":j+":",I$1(s))for(var ct=0;ct<s.length;ct++){st=s[ct];var At=j+Q$2(st,ct);nt+=R$2(st,o,_,At,et)}else if(At=A$3(s),typeof At=="function")for(s=At.call(s),ct=0;!(st=s.next()).done;)st=st.value,At=j+Q$2(st,ct++),nt+=R$2(st,o,_,At,et);else if(st==="object")throw o=String(s),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return nt}function S$1(s,o,_){if(s==null)return s;var j=[],et=0;return R$2(s,j,"","",function(st){return o.call(_,st,et++)}),j}function T$2(s){if(s._status===-1){var o=s._result;o=o(),o.then(function(_){(s._status===0||s._status===-1)&&(s._status=1,s._result=_)},function(_){(s._status===0||s._status===-1)&&(s._status=2,s._result=_)}),s._status===-1&&(s._status=0,s._result=o)}if(s._status===1)return s._result.default;throw s._result}var U$3={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(s,o,_){S$1(s,function(){o.apply(this,arguments)},_)},count:function(s){var o=0;return S$1(s,function(){o++}),o},toArray:function(s){return S$1(s,function(o){return o})||[]},only:function(s){if(!O$2(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$4;react_production_min.Fragment=p$5;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$8;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(s,o,_){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var j=C$1({},s.props),et=s.key,st=s.ref,nt=s._owner;if(o!=null){if(o.ref!==void 0&&(st=o.ref,nt=K$1.current),o.key!==void 0&&(et=""+o.key),s.type&&s.type.defaultProps)var ct=s.type.defaultProps;for(At in o)J$1.call(o,At)&&!L$2.hasOwnProperty(At)&&(j[At]=o[At]===void 0&&ct!==void 0?ct[At]:o[At])}var At=arguments.length-2;if(At===1)j.children=_;else if(1<At){ct=Array(At);for(var mt=0;mt<At;mt++)ct[mt]=arguments[mt+2];j.children=ct}return{$$typeof:l$3,type:s.type,key:et,ref:st,props:j,_owner:nt}};react_production_min.createContext=function(s){return s={$$typeof:u$3,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$3,_context:s},s.Consumer=s};react_production_min.createElement=M$2;react_production_min.createFactory=function(s){var o=M$2.bind(null,s);return o.type=s,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$b,render:s}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(s){return{$$typeof:y$2,_payload:{_status:-1,_result:s},_init:T$2}};react_production_min.memo=function(s,o){return{$$typeof:x$1,type:s,compare:o===void 0?null:o}};react_production_min.startTransition=function(s){var o=V$2.transition;V$2.transition={};try{s()}finally{V$2.transition=o}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(s,o){return U$3.current.useCallback(s,o)};react_production_min.useContext=function(s){return U$3.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$3.current.useDeferredValue(s)};react_production_min.useEffect=function(s,o){return U$3.current.useEffect(s,o)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(s,o,_){return U$3.current.useImperativeHandle(s,o,_)};react_production_min.useInsertionEffect=function(s,o){return U$3.current.useInsertionEffect(s,o)};react_production_min.useLayoutEffect=function(s,o){return U$3.current.useLayoutEffect(s,o)};react_production_min.useMemo=function(s,o){return U$3.current.useMemo(s,o)};react_production_min.useReducer=function(s,o,_){return U$3.current.useReducer(s,o,_)};react_production_min.useRef=function(s){return U$3.current.useRef(s)};react_production_min.useState=function(s){return U$3.current.useState(s)};react_production_min.useSyncExternalStore=function(s,o,_){return U$3.current.useSyncExternalStore(s,o,_)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const Z$3=getDefaultExportFromCjs(reactExports),ReactOriginal=_mergeNamespaces({__proto__:null,default:Z$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$4(s,o,_){var j,et={},st=null,nt=null;_!==void 0&&(st=""+_),o.key!==void 0&&(st=""+o.key),o.ref!==void 0&&(nt=o.ref);for(j in o)m$3.call(o,j)&&!p$4.hasOwnProperty(j)&&(et[j]=o[j]);if(s&&s.defaultProps)for(j in o=s.defaultProps,o)et[j]===void 0&&(et[j]=o[j]);return{$$typeof:k$2,type:s,key:st,ref:nt,props:et,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function o(Tn,ao){var uu=Tn.length;Tn.push(ao);e:for(;0<uu;){var hu=uu-1>>>1,tA=Tn[hu];if(0<et(tA,ao))Tn[hu]=ao,Tn[uu]=tA,uu=hu;else break e}}function _(Tn){return Tn.length===0?null:Tn[0]}function j(Tn){if(Tn.length===0)return null;var ao=Tn[0],uu=Tn.pop();if(uu!==ao){Tn[0]=uu;e:for(var hu=0,tA=Tn.length,Sv=tA>>>1;hu<Sv;){var W0=2*(hu+1)-1,l1=Tn[W0],X1=W0+1,kI=Tn[X1];if(0>et(l1,uu))X1<tA&&0>et(kI,l1)?(Tn[hu]=kI,Tn[X1]=uu,hu=X1):(Tn[hu]=l1,Tn[W0]=uu,hu=W0);else if(X1<tA&&0>et(kI,uu))Tn[hu]=kI,Tn[X1]=uu,hu=X1;else break e}}return ao}function et(Tn,ao){var uu=Tn.sortIndex-ao.sortIndex;return uu!==0?uu:Tn.id-ao.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;s.unstable_now=function(){return st.now()}}else{var nt=Date,ct=nt.now();s.unstable_now=function(){return nt.now()-ct}}var At=[],mt=[],gt=1,_t=null,Et=3,Ct=!1,Bt=!1,Dt=!1,Ft=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,Nt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Gt(Tn){for(var ao=_(mt);ao!==null;){if(ao.callback===null)j(mt);else if(ao.startTime<=Tn)j(mt),ao.sortIndex=ao.expirationTime,o(At,ao);else break;ao=_(mt)}}function dr(Tn){if(Dt=!1,Gt(Tn),!Bt)if(_(At)!==null)Bt=!0,Ko(ts);else{var ao=_(mt);ao!==null&&ru(dr,ao.startTime-Tn)}}function ts(Tn,ao){Bt=!1,Dt&&(Dt=!1,Rt(tn),tn=-1),Ct=!0;var uu=Et;try{for(Gt(ao),_t=_(At);_t!==null&&(!(_t.expirationTime>ao)||Tn&&!$n());){var hu=_t.callback;if(typeof hu=="function"){_t.callback=null,Et=_t.priorityLevel;var tA=hu(_t.expirationTime<=ao);ao=s.unstable_now(),typeof tA=="function"?_t.callback=tA:_t===_(At)&&j(At),Gt(ao)}else j(At);_t=_(At)}if(_t!==null)var Sv=!0;else{var W0=_(mt);W0!==null&&ru(dr,W0.startTime-ao),Sv=!1}return Sv}finally{_t=null,Et=uu,Ct=!1}}var es=!1,ds=null,tn=-1,rn=5,un=-1;function $n(){return!(s.unstable_now()-un<rn)}function kn(){if(ds!==null){var Tn=s.unstable_now();un=Tn;var ao=!0;try{ao=ds(!0,Tn)}finally{ao?lo():(es=!1,ds=null)}}else es=!1}var lo;if(typeof Nt=="function")lo=function(){Nt(kn)};else if(typeof MessageChannel<"u"){var Il=new MessageChannel,cu=Il.port2;Il.port1.onmessage=kn,lo=function(){cu.postMessage(null)}}else lo=function(){Ft(kn,0)};function Ko(Tn){ds=Tn,es||(es=!0,lo())}function ru(Tn,ao){tn=Ft(function(){Tn(s.unstable_now())},ao)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Tn){Tn.callback=null},s.unstable_continueExecution=function(){Bt||Ct||(Bt=!0,Ko(ts))},s.unstable_forceFrameRate=function(Tn){0>Tn||125<Tn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rn=0<Tn?Math.floor(1e3/Tn):5},s.unstable_getCurrentPriorityLevel=function(){return Et},s.unstable_getFirstCallbackNode=function(){return _(At)},s.unstable_next=function(Tn){switch(Et){case 1:case 2:case 3:var ao=3;break;default:ao=Et}var uu=Et;Et=ao;try{return Tn()}finally{Et=uu}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Tn,ao){switch(Tn){case 1:case 2:case 3:case 4:case 5:break;default:Tn=3}var uu=Et;Et=Tn;try{return ao()}finally{Et=uu}},s.unstable_scheduleCallback=function(Tn,ao,uu){var hu=s.unstable_now();switch(typeof uu=="object"&&uu!==null?(uu=uu.delay,uu=typeof uu=="number"&&0<uu?hu+uu:hu):uu=hu,Tn){case 1:var tA=-1;break;case 2:tA=250;break;case 5:tA=1073741823;break;case 4:tA=1e4;break;default:tA=5e3}return tA=uu+tA,Tn={id:gt++,callback:ao,priorityLevel:Tn,startTime:uu,expirationTime:tA,sortIndex:-1},uu>hu?(Tn.sortIndex=uu,o(mt,Tn),_(At)===null&&Tn===_(mt)&&(Dt?(Rt(tn),tn=-1):Dt=!0,ru(dr,uu-hu))):(Tn.sortIndex=tA,o(At,Tn),Bt||Ct||(Bt=!0,Ko(ts))),Tn},s.unstable_shouldYield=$n,s.unstable_wrapCallback=function(Tn){var ao=Et;return function(){var uu=Et;Et=ao;try{return Tn.apply(this,arguments)}finally{Et=uu}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$3(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,_=1;_<arguments.length;_++)o+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(s,o){ha$1(s,o),ha$1(s+"Capture",o)}function ha$1(s,o){for(ea$1[s]=o,s=0;s<o.length;s++)da$1.add(o[s])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(s){return ja$1.call(ma$1,s)?!0:ja$1.call(la$1,s)?!1:ka$1.test(s)?ma$1[s]=!0:(la$1[s]=!0,!1)}function pa$1(s,o,_,j){if(_!==null&&_.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:_!==null?!_.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa$1(s,o,_,j){if(o===null||typeof o>"u"||pa$1(s,o,_,j))return!0;if(j)return!1;if(_!==null)switch(_.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$a(s,o,_,j,et,st,nt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=et,this.mustUseProperty=_,this.propertyName=s,this.type=o,this.sanitizeURL=st,this.removeEmptyString=nt}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$4[s]=new v$a(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];z$4[o]=new v$a(o,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$4[s]=new v$a(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$4[s]=new v$a(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$4[s]=new v$a(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$4[s]=new v$a(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$4[s]=new v$a(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$4[s]=new v$a(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$4[s]=new v$a(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(ra$1,sa$1);z$4[o]=new v$a(o,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(ra$1,sa$1);z$4[o]=new v$a(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(ra$1,sa$1);z$4[o]=new v$a(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$4[s]=new v$a(s,1,!1,s.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$4[s]=new v$a(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta$1(s,o,_,j){var et=z$4.hasOwnProperty(o)?z$4[o]:null;(et!==null?et.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa$1(o,_,et,j)&&(_=null),j||et===null?oa$1(o)&&(_===null?s.removeAttribute(o):s.setAttribute(o,""+_)):et.mustUseProperty?s[et.propertyName]=_===null?et.type===3?!1:"":_:(o=et.attributeName,j=et.attributeNamespace,_===null?s.removeAttribute(o):(et=et.type,_=et===3||et===4&&_===!0?"":""+_,j?s.setAttributeNS(j,o,_):s.setAttribute(o,_))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(s){return s===null||typeof s!="object"?null:(s=Ja$1&&s[Ja$1]||s["@@iterator"],typeof s=="function"?s:null)}var A$2=Object.assign,La$1;function Ma$1(s){if(La$1===void 0)try{throw Error()}catch(_){var o=_.stack.trim().match(/\n( *(at )?)/);La$1=o&&o[1]||""}return`
`+La$1+s}var Na$1=!1;function Oa$1(s,o){if(!s||Na$1)return"";Na$1=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(mt){var j=mt}Reflect.construct(s,[],o)}else{try{o.call()}catch(mt){j=mt}s.call(o.prototype)}else{try{throw Error()}catch(mt){j=mt}s()}}catch(mt){if(mt&&j&&typeof mt.stack=="string"){for(var et=mt.stack.split(`
`),st=j.stack.split(`
`),nt=et.length-1,ct=st.length-1;1<=nt&&0<=ct&&et[nt]!==st[ct];)ct--;for(;1<=nt&&0<=ct;nt--,ct--)if(et[nt]!==st[ct]){if(nt!==1||ct!==1)do if(nt--,ct--,0>ct||et[nt]!==st[ct]){var At=`
`+et[nt].replace(" at new "," at ");return s.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",s.displayName)),At}while(1<=nt&&0<=ct);break}}}finally{Na$1=!1,Error.prepareStackTrace=_}return(s=s?s.displayName||s.name:"")?Ma$1(s):""}function Pa$1(s){switch(s.tag){case 5:return Ma$1(s.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return s=Oa$1(s.type,!1),s;case 11:return s=Oa$1(s.type.render,!1),s;case 1:return s=Oa$1(s.type,!0),s;default:return""}}function Qa$1(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca$1:return(s.displayName||"Context")+".Consumer";case Ba$1:return(s._context.displayName||"Context")+".Provider";case Da$1:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga$1:return o=s.displayName||null,o!==null?o:Qa$1(s.type)||"Memo";case Ha$1:o=s._payload,s=s._init;try{return Qa$1(s(o))}catch{}}return null}function Ra$1(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(o);case 8:return o===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa$1(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta$1(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua$1(s){var o=Ta$1(s)?"checked":"value",_=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),j=""+s[o];if(!s.hasOwnProperty(o)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var et=_.get,st=_.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return et.call(this)},set:function(nt){j=""+nt,st.call(this,nt)}}),Object.defineProperty(s,o,{enumerable:_.enumerable}),{getValue:function(){return j},setValue:function(nt){j=""+nt},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Va$1(s){s._valueTracker||(s._valueTracker=Ua$1(s))}function Wa$1(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var _=o.getValue(),j="";return s&&(j=Ta$1(s)?s.checked?"true":"false":s.value),s=j,s!==_?(o.setValue(s),!0):!1}function Xa$1(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya$1(s,o){var _=o.checked;return A$2({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??s._wrapperState.initialChecked})}function Za$1(s,o){var _=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;_=Sa$1(o.value!=null?o.value:_),s._wrapperState={initialChecked:j,initialValue:_,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab$1(s,o){o=o.checked,o!=null&&ta$1(s,"checked",o,!1)}function bb$1(s,o){ab$1(s,o);var _=Sa$1(o.value),j=o.type;if(_!=null)j==="number"?(_===0&&s.value===""||s.value!=_)&&(s.value=""+_):s.value!==""+_&&(s.value=""+_);else if(j==="submit"||j==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?cb$1(s,o.type,_):o.hasOwnProperty("defaultValue")&&cb$1(s,o.type,Sa$1(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function db$1(s,o,_){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,_||o===s.value||(s.value=o),s.defaultValue=o}_=s.name,_!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,_!==""&&(s.name=_)}function cb$1(s,o,_){(o!=="number"||Xa$1(s.ownerDocument)!==s)&&(_==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+_&&(s.defaultValue=""+_))}var eb$1=Array.isArray;function fb$1(s,o,_,j){if(s=s.options,o){o={};for(var et=0;et<_.length;et++)o["$"+_[et]]=!0;for(_=0;_<s.length;_++)et=o.hasOwnProperty("$"+s[_].value),s[_].selected!==et&&(s[_].selected=et),et&&j&&(s[_].defaultSelected=!0)}else{for(_=""+Sa$1(_),o=null,et=0;et<s.length;et++){if(s[et].value===_){s[et].selected=!0,j&&(s[et].defaultSelected=!0);return}o!==null||s[et].disabled||(o=s[et])}o!==null&&(o.selected=!0)}}function gb$1(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb$1(s,o){var _=o.value;if(_==null){if(_=o.children,o=o.defaultValue,_!=null){if(o!=null)throw Error(p$3(92));if(eb$1(_)){if(1<_.length)throw Error(p$3(93));_=_[0]}o=_}o==null&&(o=""),_=o}s._wrapperState={initialValue:Sa$1(_)}}function ib$1(s,o){var _=Sa$1(o.value),j=Sa$1(o.defaultValue);_!=null&&(_=""+_,_!==s.value&&(s.value=_),o.defaultValue==null&&s.defaultValue!==_&&(s.defaultValue=_)),j!=null&&(s.defaultValue=""+j)}function jb$1(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function kb$1(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?kb$1(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb$1,nb$1=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,_,j,et){MSApp.execUnsafeLocalFunction(function(){return s(o,_,j,et)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb$1.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ob$1(s,o){if(o){var _=s.firstChild;if(_&&_===s.lastChild&&_.nodeType===3){_.nodeValue=o;return}}s.textContent=o}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(s){qb$1.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pb$1[o]=pb$1[s]})});function rb$1(s,o,_){return o==null||typeof o=="boolean"||o===""?"":_||typeof o!="number"||o===0||pb$1.hasOwnProperty(s)&&pb$1[s]?(""+o).trim():o+"px"}function sb(s,o){s=s.style;for(var _ in o)if(o.hasOwnProperty(_)){var j=_.indexOf("--")===0,et=rb$1(_,o[_],j);_==="float"&&(_="cssFloat"),j?s.setProperty(_,et):s[_]=et}}var tb$1=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(s,o){if(o){if(tb$1[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$3(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$3(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$3(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$3(62))}}function vb$1(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(s){if(s=Cb$1(s)){if(typeof yb$1!="function")throw Error(p$3(280));var o=s.stateNode;o&&(o=Db$1(o),yb$1(s.stateNode,s.type,o))}}function Eb$1(s){zb$1?Ab$1?Ab$1.push(s):Ab$1=[s]:zb$1=s}function Fb$1(){if(zb$1){var s=zb$1,o=Ab$1;if(Ab$1=zb$1=null,Bb$1(s),o)for(s=0;s<o.length;s++)Bb$1(o[s])}}function Gb$1(s,o){return s(o)}function Hb$1(){}var Ib$1=!1;function Jb(s,o,_){if(Ib$1)return s(o,_);Ib$1=!0;try{return Gb$1(s,o,_)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(s,o){var _=s.stateNode;if(_===null)return null;var j=Db$1(_);if(j===null)return null;_=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(s=s.type,j=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!j;break e;default:s=!1}if(s)return null;if(_&&typeof _!="function")throw Error(p$3(231,o,typeof _));return _}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(s,o,_,j,et,st,nt,ct,At){var mt=Array.prototype.slice.call(arguments,3);try{o.apply(_,mt)}catch(gt){this.onError(gt)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(s){Ob$1=!0,Pb$1=s}};function Tb$1(s,o,_,j,et,st,nt,ct,At){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(s,o,_,j,et,st,nt,ct,At){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var mt=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$3(198));Qb$1||(Qb$1=!0,Rb$1=mt)}}function Vb$1(s){var o=s,_=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(_=o.return),s=o.return;while(s)}return o.tag===3?_:null}function Wb$1(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Xb$1(s){if(Vb$1(s)!==s)throw Error(p$3(188))}function Yb$1(s){var o=s.alternate;if(!o){if(o=Vb$1(s),o===null)throw Error(p$3(188));return o!==s?null:s}for(var _=s,j=o;;){var et=_.return;if(et===null)break;var st=et.alternate;if(st===null){if(j=et.return,j!==null){_=j;continue}break}if(et.child===st.child){for(st=et.child;st;){if(st===_)return Xb$1(et),s;if(st===j)return Xb$1(et),o;st=st.sibling}throw Error(p$3(188))}if(_.return!==j.return)_=et,j=st;else{for(var nt=!1,ct=et.child;ct;){if(ct===_){nt=!0,_=et,j=st;break}if(ct===j){nt=!0,j=et,_=st;break}ct=ct.sibling}if(!nt){for(ct=st.child;ct;){if(ct===_){nt=!0,_=st,j=et;break}if(ct===j){nt=!0,j=st,_=et;break}ct=ct.sibling}if(!nt)throw Error(p$3(189))}}if(_.alternate!==j)throw Error(p$3(190))}if(_.tag!==3)throw Error(p$3(188));return _.stateNode.current===_?s:o}function Zb(s){return s=Yb$1(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=$b(s);if(o!==null)return o;s=s.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(s){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,s,void 0,(s.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(s){return s>>>=0,s===0?32:31-(pc$1(s)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc$1(s,o){var _=s.pendingLanes;if(_===0)return 0;var j=0,et=s.suspendedLanes,st=s.pingedLanes,nt=_&268435455;if(nt!==0){var ct=nt&~et;ct!==0?j=tc$1(ct):(st&=nt,st!==0&&(j=tc$1(st)))}else nt=_&~et,nt!==0?j=tc$1(nt):st!==0&&(j=tc$1(st));if(j===0)return 0;if(o!==0&&o!==j&&!(o&et)&&(et=j&-j,st=o&-o,et>=st||et===16&&(st&4194240)!==0))return o;if(j&4&&(j|=_&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=j;0<o;)_=31-oc$1(o),et=1<<_,j|=s[_],o&=~et;return j}function vc$1(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(s,o){for(var _=s.suspendedLanes,j=s.pingedLanes,et=s.expirationTimes,st=s.pendingLanes;0<st;){var nt=31-oc$1(st),ct=1<<nt,At=et[nt];At===-1?(!(ct&_)||ct&j)&&(et[nt]=vc$1(ct,o)):At<=o&&(s.expiredLanes|=ct),st&=~ct}}function xc$1(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc$1(){var s=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),s}function zc$1(s){for(var o=[],_=0;31>_;_++)o.push(s);return o}function Ac$1(s,o,_){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-oc$1(o),s[o]=_}function Bc$1(s,o){var _=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var j=s.eventTimes;for(s=s.expirationTimes;0<_;){var et=31-oc$1(_),st=1<<et;o[et]=0,j[et]=-1,s[et]=-1,_&=~st}}function Cc$1(s,o){var _=s.entangledLanes|=o;for(s=s.entanglements;_;){var j=31-oc$1(_),et=1<<j;et&o|s[j]&o&&(s[j]|=o),_&=~et}}var C=0;function Dc$1(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc,Ic$1,Jc=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(s,o){switch(s){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(o.pointerId)}}function Tc$1(s,o,_,j,et,st){return s===null||s.nativeEvent!==st?(s={blockedOn:o,domEventName:_,eventSystemFlags:j,nativeEvent:st,targetContainers:[et]},o!==null&&(o=Cb$1(o),o!==null&&Fc$1(o)),s):(s.eventSystemFlags|=j,o=s.targetContainers,et!==null&&o.indexOf(et)===-1&&o.push(et),s)}function Uc$1(s,o,_,j,et){switch(o){case"focusin":return Lc$1=Tc$1(Lc$1,s,o,_,j,et),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,s,o,_,j,et),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,s,o,_,j,et),!0;case"pointerover":var st=et.pointerId;return Oc$1.set(st,Tc$1(Oc$1.get(st)||null,s,o,_,j,et)),!0;case"gotpointercapture":return st=et.pointerId,Pc$1.set(st,Tc$1(Pc$1.get(st)||null,s,o,_,j,et)),!0}return!1}function Vc$1(s){var o=Wc$1(s.target);if(o!==null){var _=Vb$1(o);if(_!==null){if(o=_.tag,o===13){if(o=Wb$1(_),o!==null){s.blockedOn=o,Ic$1(s.priority,function(){Gc$1(_)});return}}else if(o===3&&_.stateNode.current.memoizedState.isDehydrated){s.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc$1(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var _=Yc$1(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(_===null){_=s.nativeEvent;var j=new _.constructor(_.type,_);wb$1=j,_.target.dispatchEvent(j),wb$1=null}else return o=Cb$1(_),o!==null&&Fc$1(o),s.blockedOn=_,!1;o.shift()}return!0}function Zc$1(s,o,_){Xc$1(s)&&_.delete(o)}function $c(){Jc=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(s,o){s.blockedOn===o&&(s.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd$1(s){function o(et){return ad$1(et,s)}if(0<Kc$1.length){ad$1(Kc$1[0],s);for(var _=1;_<Kc$1.length;_++){var j=Kc$1[_];j.blockedOn===s&&(j.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,s),Mc$1!==null&&ad$1(Mc$1,s),Nc$1!==null&&ad$1(Nc$1,s),Oc$1.forEach(o),Pc$1.forEach(o),_=0;_<Qc$1.length;_++)j=Qc$1[_],j.blockedOn===s&&(j.blockedOn=null);for(;0<Qc$1.length&&(_=Qc$1[0],_.blockedOn===null);)Vc$1(_),_.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(s,o,_,j){var et=C,st=cd$1.transition;cd$1.transition=null;try{C=1,fd$1(s,o,_,j)}finally{C=et,cd$1.transition=st}}function gd$1(s,o,_,j){var et=C,st=cd$1.transition;cd$1.transition=null;try{C=4,fd$1(s,o,_,j)}finally{C=et,cd$1.transition=st}}function fd$1(s,o,_,j){if(dd$1){var et=Yc$1(s,o,_,j);if(et===null)hd$1(s,o,j,id$1,_),Sc$1(s,j);else if(Uc$1(et,s,o,_,j))j.stopPropagation();else if(Sc$1(s,j),o&4&&-1<Rc$1.indexOf(s)){for(;et!==null;){var st=Cb$1(et);if(st!==null&&Ec$1(st),st=Yc$1(s,o,_,j),st===null&&hd$1(s,o,j,id$1,_),st===et)break;et=st}et!==null&&j.stopPropagation()}else hd$1(s,o,j,null,_)}}var id$1=null;function Yc$1(s,o,_,j){if(id$1=null,s=xb$1(j),s=Wc$1(s),s!==null)if(o=Vb$1(s),o===null)s=null;else if(_=o.tag,_===13){if(s=Wb$1(o),s!==null)return s;s=null}else if(_===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return id$1=s,null}function jd$1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var s,o=ld$1,_=o.length,j,et="value"in kd$1?kd$1.value:kd$1.textContent,st=et.length;for(s=0;s<_&&o[s]===et[s];s++);var nt=_-s;for(j=1;j<=nt&&o[_-j]===et[st-j];j++);return md$1=et.slice(s,1<j?1-j:void 0)}function od$1(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(s){function o(_,j,et,st,nt){this._reactName=_,this._targetInst=et,this.type=j,this.nativeEvent=st,this.target=nt,this.currentTarget=null;for(var ct in s)s.hasOwnProperty(ct)&&(_=s[ct],this[ct]=_?_(st):st[ct]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$2(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),o}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$2({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$2({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd$1&&(yd$1&&s.type==="mousemove"?(wd$1=s.screenX-yd$1.screenX,xd$1=s.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=s),wd$1)},movementY:function(s){return"movementY"in s?s.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$2({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$2({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$2({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$2({},sd$1,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$2({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Od$1[s])?!!o[s]:!1}function zd$1(){return Pd$1}var Qd$1=A$2({},ud$1,{key:function(s){if(s.key){var o=Md$1[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=od$1(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd$1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(s){return s.type==="keypress"?od$1(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od$1(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$2({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$2({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$2({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$2({},Ad$1,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be=null;ia$1&&"documentMode"in document&&(be=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be,de$1=ia$1&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe$3=!1;function ge$1(s,o){switch(s){case"keyup":return $d$1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie$1=!1;function je(s,o){switch(s){case"compositionend":return he$2(o);case"keypress":return o.which!==32?null:(fe$3=!0,ee$1);case"textInput":return s=o.data,s===ee$1&&fe$3?null:s;default:return null}}function ke$1(s,o){if(ie$1)return s==="compositionend"||!ae$1&&ge$1(s,o)?(s=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$1&&o.locale!=="ko"?null:o.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!le$3[s.type]:o==="textarea"}function ne$2(s,o,_,j){Eb$1(j),o=oe(o,"onChange"),0<o.length&&(_=new td$1("onChange","change",null,_,j),s.push({event:_,listeners:o}))}var pe$1=null,qe$1=null;function re$1(s){se$1(s,0)}function te(s){var o=ue$3(s);if(Wa$1(o))return s}function ve(s,o){if(s==="change")return o}var we$1=!1;if(ia$1){var xe$1;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(s){if(s.propertyName==="value"&&te(qe$1)){var o=[];ne$2(o,qe$1,s,xb$1(s)),Jb(re$1,o)}}function Ce(s,o,_){s==="focusin"?(Ae$1(),pe$1=o,qe$1=_,pe$1.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae$1()}function De$2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe$1)}function Ee$2(s,o){if(s==="click")return te(o)}function Fe$1(s,o){if(s==="input"||s==="change")return te(o)}function Ge(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(s,o){if(He$1(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var _=Object.keys(s),j=Object.keys(o);if(_.length!==j.length)return!1;for(j=0;j<_.length;j++){var et=_[j];if(!ja$1.call(o,et)||!He$1(s[et],o[et]))return!1}return!0}function Je$1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke$1(s,o){var _=Je$1(s);s=0;for(var j;_;){if(_.nodeType===3){if(j=s+_.textContent.length,s<=o&&j>=o)return{node:_,offset:o-s};s=j}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Je$1(_)}}function Le$2(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Le$2(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Me$1(){for(var s=window,o=Xa$1();o instanceof s.HTMLIFrameElement;){try{var _=typeof o.contentWindow.location.href=="string"}catch{_=!1}if(_)s=o.contentWindow;else break;o=Xa$1(s.document)}return o}function Ne(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Oe(s){var o=Me$1(),_=s.focusedElem,j=s.selectionRange;if(o!==_&&_&&_.ownerDocument&&Le$2(_.ownerDocument.documentElement,_)){if(j!==null&&Ne(_)){if(o=j.start,s=j.end,s===void 0&&(s=o),"selectionStart"in _)_.selectionStart=o,_.selectionEnd=Math.min(s,_.value.length);else if(s=(o=_.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var et=_.textContent.length,st=Math.min(j.start,et);j=j.end===void 0?st:Math.min(j.end,et),!s.extend&&st>j&&(et=j,j=st,st=et),et=Ke$1(_,st);var nt=Ke$1(_,j);et&&nt&&(s.rangeCount!==1||s.anchorNode!==et.node||s.anchorOffset!==et.offset||s.focusNode!==nt.node||s.focusOffset!==nt.offset)&&(o=o.createRange(),o.setStart(et.node,et.offset),s.removeAllRanges(),st>j?(s.addRange(o),s.extend(nt.node,nt.offset)):(o.setEnd(nt.node,nt.offset),s.addRange(o)))}}for(o=[],s=_;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<o.length;_++)s=o[_],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re=null,Se$2=null,Te$1=!1;function Ue$2(s,o,_){var j=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa$1(j)||(j=Qe$1,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se$2&&Ie$1(Se$2,j)||(Se$2=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td$1("onSelect","select",null,o,_),s.push({event:o,listeners:j}),o.target=Qe$1)))}function Ve(s,o){var _={};return _[s.toLowerCase()]=o.toLowerCase(),_["Webkit"+s]="webkit"+o,_["Moz"+s]="moz"+o,_}var We$1={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe$1={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(s){if(Xe$1[s])return Xe$1[s];if(!We$1[s])return s;var o=We$1[s],_;for(_ in o)if(o.hasOwnProperty(_)&&_ in Ye)return Xe$1[s]=o[_];return s}var $e$3=Ze$1("animationend"),af$1=Ze$1("animationiteration"),bf$1=Ze$1("animationstart"),cf$1=Ze$1("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(s,o){df$1.set(s,o),fa$1(o,[s])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$3,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(s,o,_){var j=s.type||"unknown-event";s.currentTarget=_,Ub$1(j,o,void 0,s),s.currentTarget=null}function se$1(s,o){o=(o&4)!==0;for(var _=0;_<s.length;_++){var j=s[_],et=j.event;j=j.listeners;e:{var st=void 0;if(o)for(var nt=j.length-1;0<=nt;nt--){var ct=j[nt],At=ct.instance,mt=ct.currentTarget;if(ct=ct.listener,At!==st&&et.isPropagationStopped())break e;nf$1(et,ct,mt),st=At}else for(nt=0;nt<j.length;nt++){if(ct=j[nt],At=ct.instance,mt=ct.currentTarget,ct=ct.listener,At!==st&&et.isPropagationStopped())break e;nf$1(et,ct,mt),st=At}}}if(Qb$1)throw s=Rb$1,Qb$1=!1,Rb$1=null,s}function D(s,o){var _=o[of$1];_===void 0&&(_=o[of$1]=new Set);var j=s+"__bubble";_.has(j)||(pf$1(o,s,2,!1),_.add(j))}function qf$1(s,o,_){var j=0;o&&(j|=4),pf$1(_,s,j,o)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(s){if(!s[rf$1]){s[rf$1]=!0,da$1.forEach(function(_){_!=="selectionchange"&&(mf$1.has(_)||qf$1(_,!1,s),qf$1(_,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rf$1]||(o[rf$1]=!0,qf$1("selectionchange",!1,o))}}function pf$1(s,o,_,j){switch(jd$1(o)){case 1:var et=ed$1;break;case 4:et=gd$1;break;default:et=fd$1}_=et.bind(null,o,_,s),et=void 0,!Lb$1||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(et=!0),j?et!==void 0?s.addEventListener(o,_,{capture:!0,passive:et}):s.addEventListener(o,_,!0):et!==void 0?s.addEventListener(o,_,{passive:et}):s.addEventListener(o,_,!1)}function hd$1(s,o,_,j,et){var st=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var nt=j.tag;if(nt===3||nt===4){var ct=j.stateNode.containerInfo;if(ct===et||ct.nodeType===8&&ct.parentNode===et)break;if(nt===4)for(nt=j.return;nt!==null;){var At=nt.tag;if((At===3||At===4)&&(At=nt.stateNode.containerInfo,At===et||At.nodeType===8&&At.parentNode===et))return;nt=nt.return}for(;ct!==null;){if(nt=Wc$1(ct),nt===null)return;if(At=nt.tag,At===5||At===6){j=st=nt;continue e}ct=ct.parentNode}}j=j.return}Jb(function(){var mt=st,gt=xb$1(_),_t=[];e:{var Et=df$1.get(s);if(Et!==void 0){var Ct=td$1,Bt=s;switch(s){case"keypress":if(od$1(_)===0)break e;case"keydown":case"keyup":Ct=Rd$1;break;case"focusin":Bt="focus",Ct=Fd$1;break;case"focusout":Bt="blur",Ct=Fd$1;break;case"beforeblur":case"afterblur":Ct=Fd$1;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Vd$1;break;case $e$3:case af$1:case bf$1:Ct=Hd$1;break;case cf$1:Ct=Xd$1;break;case"scroll":Ct=vd$1;break;case"wheel":Ct=Zd$1;break;case"copy":case"cut":case"paste":Ct=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Td$1}var Dt=(o&4)!==0,Ft=!Dt&&s==="scroll",Rt=Dt?Et!==null?Et+"Capture":null:Et;Dt=[];for(var Nt=mt,Gt;Nt!==null;){Gt=Nt;var dr=Gt.stateNode;if(Gt.tag===5&&dr!==null&&(Gt=dr,Rt!==null&&(dr=Kb$1(Nt,Rt),dr!=null&&Dt.push(tf$1(Nt,dr,Gt)))),Ft)break;Nt=Nt.return}0<Dt.length&&(Et=new Ct(Et,Bt,null,_,gt),_t.push({event:Et,listeners:Dt}))}}if(!(o&7)){e:{if(Et=s==="mouseover"||s==="pointerover",Ct=s==="mouseout"||s==="pointerout",Et&&_!==wb$1&&(Bt=_.relatedTarget||_.fromElement)&&(Wc$1(Bt)||Bt[uf$1]))break e;if((Ct||Et)&&(Et=gt.window===gt?gt:(Et=gt.ownerDocument)?Et.defaultView||Et.parentWindow:window,Ct?(Bt=_.relatedTarget||_.toElement,Ct=mt,Bt=Bt?Wc$1(Bt):null,Bt!==null&&(Ft=Vb$1(Bt),Bt!==Ft||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Ct=null,Bt=mt),Ct!==Bt)){if(Dt=Bd$1,dr="onMouseLeave",Rt="onMouseEnter",Nt="mouse",(s==="pointerout"||s==="pointerover")&&(Dt=Td$1,dr="onPointerLeave",Rt="onPointerEnter",Nt="pointer"),Ft=Ct==null?Et:ue$3(Ct),Gt=Bt==null?Et:ue$3(Bt),Et=new Dt(dr,Nt+"leave",Ct,_,gt),Et.target=Ft,Et.relatedTarget=Gt,dr=null,Wc$1(gt)===mt&&(Dt=new Dt(Rt,Nt+"enter",Bt,_,gt),Dt.target=Gt,Dt.relatedTarget=Ft,dr=Dt),Ft=dr,Ct&&Bt)t:{for(Dt=Ct,Rt=Bt,Nt=0,Gt=Dt;Gt;Gt=vf$1(Gt))Nt++;for(Gt=0,dr=Rt;dr;dr=vf$1(dr))Gt++;for(;0<Nt-Gt;)Dt=vf$1(Dt),Nt--;for(;0<Gt-Nt;)Rt=vf$1(Rt),Gt--;for(;Nt--;){if(Dt===Rt||Rt!==null&&Dt===Rt.alternate)break t;Dt=vf$1(Dt),Rt=vf$1(Rt)}Dt=null}else Dt=null;Ct!==null&&wf$1(_t,Et,Ct,Dt,!1),Bt!==null&&Ft!==null&&wf$1(_t,Ft,Bt,Dt,!0)}}e:{if(Et=mt?ue$3(mt):window,Ct=Et.nodeName&&Et.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&Et.type==="file")var ts=ve;else if(me$1(Et))if(we$1)ts=Fe$1;else{ts=De$2;var es=Ce}else(Ct=Et.nodeName)&&Ct.toLowerCase()==="input"&&(Et.type==="checkbox"||Et.type==="radio")&&(ts=Ee$2);if(ts&&(ts=ts(s,mt))){ne$2(_t,ts,_,gt);break e}es&&es(s,Et,mt),s==="focusout"&&(es=Et._wrapperState)&&es.controlled&&Et.type==="number"&&cb$1(Et,"number",Et.value)}switch(es=mt?ue$3(mt):window,s){case"focusin":(me$1(es)||es.contentEditable==="true")&&(Qe$1=es,Re=mt,Se$2=null);break;case"focusout":Se$2=Re=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$2(_t,_,gt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$2(_t,_,gt)}var ds;if(ae$1)e:{switch(s){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else ie$1?ge$1(s,_)&&(tn="onCompositionEnd"):s==="keydown"&&_.keyCode===229&&(tn="onCompositionStart");tn&&(de$1&&_.locale!=="ko"&&(ie$1||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&ie$1&&(ds=nd$1()):(kd$1=gt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),es=oe(mt,tn),0<es.length&&(tn=new Ld$1(tn,s,null,_,gt),_t.push({event:tn,listeners:es}),ds?tn.data=ds:(ds=he$2(_),ds!==null&&(tn.data=ds)))),(ds=ce$1?je(s,_):ke$1(s,_))&&(mt=oe(mt,"onBeforeInput"),0<mt.length&&(gt=new Ld$1("onBeforeInput","beforeinput",null,_,gt),_t.push({event:gt,listeners:mt}),gt.data=ds))}se$1(_t,o)})}function tf$1(s,o,_){return{instance:s,listener:o,currentTarget:_}}function oe(s,o){for(var _=o+"Capture",j=[];s!==null;){var et=s,st=et.stateNode;et.tag===5&&st!==null&&(et=st,st=Kb$1(s,_),st!=null&&j.unshift(tf$1(s,st,et)),st=Kb$1(s,o),st!=null&&j.push(tf$1(s,st,et))),s=s.return}return j}function vf$1(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf$1(s,o,_,j,et){for(var st=o._reactName,nt=[];_!==null&&_!==j;){var ct=_,At=ct.alternate,mt=ct.stateNode;if(At!==null&&At===j)break;ct.tag===5&&mt!==null&&(ct=mt,et?(At=Kb$1(_,st),At!=null&&nt.unshift(tf$1(_,At,ct))):et||(At=Kb$1(_,st),At!=null&&nt.push(tf$1(_,At,ct)))),_=_.return}nt.length!==0&&s.push({event:o,listeners:nt})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(s){return(typeof s=="string"?s:""+s).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(s,o,_){if(o=zf$1(o),zf$1(s)!==o&&_)throw Error(p$3(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(s){return Hf$1.resolve(null).then(s).catch(If$1)}:Ff$1;function If$1(s){setTimeout(function(){throw s})}function Kf$1(s,o){var _=o,j=0;do{var et=_.nextSibling;if(s.removeChild(_),et&&et.nodeType===8)if(_=et.data,_==="/$"){if(j===0){s.removeChild(et),bd$1(o);return}j--}else _!=="$"&&_!=="$?"&&_!=="$!"||j++;_=et}while(_);bd$1(o)}function Lf$1(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Mf$1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var _=s.data;if(_==="$"||_==="$!"||_==="$?"){if(o===0)return s;o--}else _==="/$"&&o++}s=s.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(s){var o=s[Of$1];if(o)return o;for(var _=s.parentNode;_;){if(o=_[uf$1]||_[Of$1]){if(_=o.alternate,o.child!==null||_!==null&&_.child!==null)for(s=Mf$1(s);s!==null;){if(_=s[Of$1])return _;s=Mf$1(s)}return o}s=_,_=s.parentNode}return null}function Cb$1(s){return s=s[Of$1]||s[uf$1],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$3(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$3(33))}function Db$1(s){return s[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(s){return{current:s}}function E$3(s){0>Tf$1||(s.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G(s,o){Tf$1++,Sf$1[Tf$1]=s.current,s.current=o}var Vf$1={},H=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(s,o){var _=s.type.contextTypes;if(!_)return Vf$1;var j=s.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var et={},st;for(st in _)et[st]=o[st];return j&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=et),et}function Zf$1(s){return s=s.childContextTypes,s!=null}function $f$1(){E$3(Wf$1),E$3(H)}function ag$1(s,o,_){if(H.current!==Vf$1)throw Error(p$3(168));G(H,o),G(Wf$1,_)}function bg$1(s,o,_){var j=s.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return _;j=j.getChildContext();for(var et in j)if(!(et in o))throw Error(p$3(108,Ra$1(s)||"Unknown",et));return A$2({},_,j)}function cg$1(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H.current,G(H,s),G(Wf$1,Wf$1.current),!0}function dg$1(s,o,_){var j=s.stateNode;if(!j)throw Error(p$3(169));_?(s=bg$1(s,o,Xf$1),j.__reactInternalMemoizedMergedChildContext=s,E$3(Wf$1),E$3(H),G(H,s)):E$3(Wf$1),G(Wf$1,_)}var eg$1=null,fg$1=!1,gg=!1;function hg$1(s){eg$1===null?eg$1=[s]:eg$1.push(s)}function ig$1(s){fg$1=!0,hg$1(s)}function jg$1(){if(!gg&&eg$1!==null){gg=!0;var s=0,o=C;try{var _=eg$1;for(C=1;s<_.length;s++){var j=_[s];do j=j(!0);while(j!==null)}eg$1=null,fg$1=!1}catch(et){throw eg$1!==null&&(eg$1=eg$1.slice(s+1)),ac$1(fc$1,jg$1),et}finally{C=o,gg=!1}}return null}var kg$1=[],lg$1=0,mg$1=null,ng$1=0,og$1=[],pg$1=0,qg$1=null,rg$1=1,sg$1="";function tg$1(s,o){kg$1[lg$1++]=ng$1,kg$1[lg$1++]=mg$1,mg$1=s,ng$1=o}function ug$1(s,o,_){og$1[pg$1++]=rg$1,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg$1,qg$1=s;var j=rg$1;s=sg$1;var et=32-oc$1(j)-1;j&=~(1<<et),_+=1;var st=32-oc$1(o)+et;if(30<st){var nt=et-et%5;st=(j&(1<<nt)-1).toString(32),j>>=nt,et-=nt,rg$1=1<<32-oc$1(o)+et|_<<et|j,sg$1=st+s}else rg$1=1<<st|_<<et|j,sg$1=s}function vg$1(s){s.return!==null&&(tg$1(s,1),ug$1(s,1,0))}function wg$1(s){for(;s===mg$1;)mg$1=kg$1[--lg$1],kg$1[lg$1]=null,ng$1=kg$1[--lg$1],kg$1[lg$1]=null;for(;s===qg$1;)qg$1=og$1[--pg$1],og$1[pg$1]=null,sg$1=og$1[--pg$1],og$1[pg$1]=null,rg$1=og$1[--pg$1],og$1[pg$1]=null}var xg$1=null,yg=null,I=!1,zg$1=null;function Ag$1(s,o){var _=Bg$1(5,null,null,0);_.elementType="DELETED",_.stateNode=o,_.return=s,o=s.deletions,o===null?(s.deletions=[_],s.flags|=16):o.push(_)}function Cg$1(s,o){switch(s.tag){case 5:var _=s.type;return o=o.nodeType!==1||_.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,xg$1=s,yg=Lf$1(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,xg$1=s,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(_=qg$1!==null?{id:rg$1,overflow:sg$1}:null,s.memoizedState={dehydrated:o,treeContext:_,retryLane:1073741824},_=Bg$1(18,null,null,0),_.stateNode=o,_.return=s,s.child=_,xg$1=s,yg=null,!0):!1;default:return!1}}function Dg$1(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg$1(s){if(I){var o=yg;if(o){var _=o;if(!Cg$1(s,o)){if(Dg$1(s))throw Error(p$3(418));o=Lf$1(_.nextSibling);var j=xg$1;o&&Cg$1(s,o)?Ag$1(j,_):(s.flags=s.flags&-4097|2,I=!1,xg$1=s)}}else{if(Dg$1(s))throw Error(p$3(418));s.flags=s.flags&-4097|2,I=!1,xg$1=s}}}function Fg$1(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg$1=s}function Gg$1(s){if(s!==xg$1)return!1;if(!I)return Fg$1(s),I=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Ef$1(s.type,s.memoizedProps)),o&&(o=yg)){if(Dg$1(s))throw Hg$1(),Error(p$3(418));for(;o;)Ag$1(s,o),o=Lf$1(o.nextSibling)}if(Fg$1(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$3(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var _=s.data;if(_==="/$"){if(o===0){yg=Lf$1(s.nextSibling);break e}o--}else _!=="$"&&_!=="$!"&&_!=="$?"||o++}s=s.nextSibling}yg=null}}else yg=xg$1?Lf$1(s.stateNode.nextSibling):null;return!0}function Hg$1(){for(var s=yg;s;)s=Lf$1(s.nextSibling)}function Ig$1(){yg=xg$1=null,I=!1}function Jg$1(s){zg$1===null?zg$1=[s]:zg$1.push(s)}var Kg$1=ua$1.ReactCurrentBatchConfig;function Lg$1(s,o,_){if(s=_.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(p$3(309));var j=_.stateNode}if(!j)throw Error(p$3(147,s));var et=j,st=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===st?o.ref:(o=function(nt){var ct=et.refs;nt===null?delete ct[st]:ct[st]=nt},o._stringRef=st,o)}if(typeof s!="string")throw Error(p$3(284));if(!_._owner)throw Error(p$3(290,s))}return s}function Mg$1(s,o){throw s=Object.prototype.toString.call(o),Error(p$3(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ng$1(s){var o=s._init;return o(s._payload)}function Og$1(s){function o(Rt,Nt){if(s){var Gt=Rt.deletions;Gt===null?(Rt.deletions=[Nt],Rt.flags|=16):Gt.push(Nt)}}function _(Rt,Nt){if(!s)return null;for(;Nt!==null;)o(Rt,Nt),Nt=Nt.sibling;return null}function j(Rt,Nt){for(Rt=new Map;Nt!==null;)Nt.key!==null?Rt.set(Nt.key,Nt):Rt.set(Nt.index,Nt),Nt=Nt.sibling;return Rt}function et(Rt,Nt){return Rt=Pg$1(Rt,Nt),Rt.index=0,Rt.sibling=null,Rt}function st(Rt,Nt,Gt){return Rt.index=Gt,s?(Gt=Rt.alternate,Gt!==null?(Gt=Gt.index,Gt<Nt?(Rt.flags|=2,Nt):Gt):(Rt.flags|=2,Nt)):(Rt.flags|=1048576,Nt)}function nt(Rt){return s&&Rt.alternate===null&&(Rt.flags|=2),Rt}function ct(Rt,Nt,Gt,dr){return Nt===null||Nt.tag!==6?(Nt=Qg$1(Gt,Rt.mode,dr),Nt.return=Rt,Nt):(Nt=et(Nt,Gt),Nt.return=Rt,Nt)}function At(Rt,Nt,Gt,dr){var ts=Gt.type;return ts===ya$1?gt(Rt,Nt,Gt.props.children,dr,Gt.key):Nt!==null&&(Nt.elementType===ts||typeof ts=="object"&&ts!==null&&ts.$$typeof===Ha$1&&Ng$1(ts)===Nt.type)?(dr=et(Nt,Gt.props),dr.ref=Lg$1(Rt,Nt,Gt),dr.return=Rt,dr):(dr=Rg$1(Gt.type,Gt.key,Gt.props,null,Rt.mode,dr),dr.ref=Lg$1(Rt,Nt,Gt),dr.return=Rt,dr)}function mt(Rt,Nt,Gt,dr){return Nt===null||Nt.tag!==4||Nt.stateNode.containerInfo!==Gt.containerInfo||Nt.stateNode.implementation!==Gt.implementation?(Nt=Sg$1(Gt,Rt.mode,dr),Nt.return=Rt,Nt):(Nt=et(Nt,Gt.children||[]),Nt.return=Rt,Nt)}function gt(Rt,Nt,Gt,dr,ts){return Nt===null||Nt.tag!==7?(Nt=Tg$1(Gt,Rt.mode,dr,ts),Nt.return=Rt,Nt):(Nt=et(Nt,Gt),Nt.return=Rt,Nt)}function _t(Rt,Nt,Gt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Nt=Qg$1(""+Nt,Rt.mode,Gt),Nt.return=Rt,Nt;if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va$1:return Gt=Rg$1(Nt.type,Nt.key,Nt.props,null,Rt.mode,Gt),Gt.ref=Lg$1(Rt,null,Nt),Gt.return=Rt,Gt;case wa$1:return Nt=Sg$1(Nt,Rt.mode,Gt),Nt.return=Rt,Nt;case Ha$1:var dr=Nt._init;return _t(Rt,dr(Nt._payload),Gt)}if(eb$1(Nt)||Ka$1(Nt))return Nt=Tg$1(Nt,Rt.mode,Gt,null),Nt.return=Rt,Nt;Mg$1(Rt,Nt)}return null}function Et(Rt,Nt,Gt,dr){var ts=Nt!==null?Nt.key:null;if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return ts!==null?null:ct(Rt,Nt,""+Gt,dr);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case va$1:return Gt.key===ts?At(Rt,Nt,Gt,dr):null;case wa$1:return Gt.key===ts?mt(Rt,Nt,Gt,dr):null;case Ha$1:return ts=Gt._init,Et(Rt,Nt,ts(Gt._payload),dr)}if(eb$1(Gt)||Ka$1(Gt))return ts!==null?null:gt(Rt,Nt,Gt,dr,null);Mg$1(Rt,Gt)}return null}function Ct(Rt,Nt,Gt,dr,ts){if(typeof dr=="string"&&dr!==""||typeof dr=="number")return Rt=Rt.get(Gt)||null,ct(Nt,Rt,""+dr,ts);if(typeof dr=="object"&&dr!==null){switch(dr.$$typeof){case va$1:return Rt=Rt.get(dr.key===null?Gt:dr.key)||null,At(Nt,Rt,dr,ts);case wa$1:return Rt=Rt.get(dr.key===null?Gt:dr.key)||null,mt(Nt,Rt,dr,ts);case Ha$1:var es=dr._init;return Ct(Rt,Nt,Gt,es(dr._payload),ts)}if(eb$1(dr)||Ka$1(dr))return Rt=Rt.get(Gt)||null,gt(Nt,Rt,dr,ts,null);Mg$1(Nt,dr)}return null}function Bt(Rt,Nt,Gt,dr){for(var ts=null,es=null,ds=Nt,tn=Nt=0,rn=null;ds!==null&&tn<Gt.length;tn++){ds.index>tn?(rn=ds,ds=null):rn=ds.sibling;var un=Et(Rt,ds,Gt[tn],dr);if(un===null){ds===null&&(ds=rn);break}s&&ds&&un.alternate===null&&o(Rt,ds),Nt=st(un,Nt,tn),es===null?ts=un:es.sibling=un,es=un,ds=rn}if(tn===Gt.length)return _(Rt,ds),I&&tg$1(Rt,tn),ts;if(ds===null){for(;tn<Gt.length;tn++)ds=_t(Rt,Gt[tn],dr),ds!==null&&(Nt=st(ds,Nt,tn),es===null?ts=ds:es.sibling=ds,es=ds);return I&&tg$1(Rt,tn),ts}for(ds=j(Rt,ds);tn<Gt.length;tn++)rn=Ct(ds,Rt,tn,Gt[tn],dr),rn!==null&&(s&&rn.alternate!==null&&ds.delete(rn.key===null?tn:rn.key),Nt=st(rn,Nt,tn),es===null?ts=rn:es.sibling=rn,es=rn);return s&&ds.forEach(function($n){return o(Rt,$n)}),I&&tg$1(Rt,tn),ts}function Dt(Rt,Nt,Gt,dr){var ts=Ka$1(Gt);if(typeof ts!="function")throw Error(p$3(150));if(Gt=ts.call(Gt),Gt==null)throw Error(p$3(151));for(var es=ts=null,ds=Nt,tn=Nt=0,rn=null,un=Gt.next();ds!==null&&!un.done;tn++,un=Gt.next()){ds.index>tn?(rn=ds,ds=null):rn=ds.sibling;var $n=Et(Rt,ds,un.value,dr);if($n===null){ds===null&&(ds=rn);break}s&&ds&&$n.alternate===null&&o(Rt,ds),Nt=st($n,Nt,tn),es===null?ts=$n:es.sibling=$n,es=$n,ds=rn}if(un.done)return _(Rt,ds),I&&tg$1(Rt,tn),ts;if(ds===null){for(;!un.done;tn++,un=Gt.next())un=_t(Rt,un.value,dr),un!==null&&(Nt=st(un,Nt,tn),es===null?ts=un:es.sibling=un,es=un);return I&&tg$1(Rt,tn),ts}for(ds=j(Rt,ds);!un.done;tn++,un=Gt.next())un=Ct(ds,Rt,tn,un.value,dr),un!==null&&(s&&un.alternate!==null&&ds.delete(un.key===null?tn:un.key),Nt=st(un,Nt,tn),es===null?ts=un:es.sibling=un,es=un);return s&&ds.forEach(function(kn){return o(Rt,kn)}),I&&tg$1(Rt,tn),ts}function Ft(Rt,Nt,Gt,dr){if(typeof Gt=="object"&&Gt!==null&&Gt.type===ya$1&&Gt.key===null&&(Gt=Gt.props.children),typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case va$1:e:{for(var ts=Gt.key,es=Nt;es!==null;){if(es.key===ts){if(ts=Gt.type,ts===ya$1){if(es.tag===7){_(Rt,es.sibling),Nt=et(es,Gt.props.children),Nt.return=Rt,Rt=Nt;break e}}else if(es.elementType===ts||typeof ts=="object"&&ts!==null&&ts.$$typeof===Ha$1&&Ng$1(ts)===es.type){_(Rt,es.sibling),Nt=et(es,Gt.props),Nt.ref=Lg$1(Rt,es,Gt),Nt.return=Rt,Rt=Nt;break e}_(Rt,es);break}else o(Rt,es);es=es.sibling}Gt.type===ya$1?(Nt=Tg$1(Gt.props.children,Rt.mode,dr,Gt.key),Nt.return=Rt,Rt=Nt):(dr=Rg$1(Gt.type,Gt.key,Gt.props,null,Rt.mode,dr),dr.ref=Lg$1(Rt,Nt,Gt),dr.return=Rt,Rt=dr)}return nt(Rt);case wa$1:e:{for(es=Gt.key;Nt!==null;){if(Nt.key===es)if(Nt.tag===4&&Nt.stateNode.containerInfo===Gt.containerInfo&&Nt.stateNode.implementation===Gt.implementation){_(Rt,Nt.sibling),Nt=et(Nt,Gt.children||[]),Nt.return=Rt,Rt=Nt;break e}else{_(Rt,Nt);break}else o(Rt,Nt);Nt=Nt.sibling}Nt=Sg$1(Gt,Rt.mode,dr),Nt.return=Rt,Rt=Nt}return nt(Rt);case Ha$1:return es=Gt._init,Ft(Rt,Nt,es(Gt._payload),dr)}if(eb$1(Gt))return Bt(Rt,Nt,Gt,dr);if(Ka$1(Gt))return Dt(Rt,Nt,Gt,dr);Mg$1(Rt,Gt)}return typeof Gt=="string"&&Gt!==""||typeof Gt=="number"?(Gt=""+Gt,Nt!==null&&Nt.tag===6?(_(Rt,Nt.sibling),Nt=et(Nt,Gt),Nt.return=Rt,Rt=Nt):(_(Rt,Nt),Nt=Qg$1(Gt,Rt.mode,dr),Nt.return=Rt,Rt=Nt),nt(Rt)):_(Rt,Nt)}return Ft}var Ug$1=Og$1(!0),Vg$1=Og$1(!1),Wg$1=Uf$1(null),Xg$1=null,Yg$1=null,Zg$1=null;function $g$1(){Zg$1=Yg$1=Xg$1=null}function ah$1(s){var o=Wg$1.current;E$3(Wg$1),s._currentValue=o}function bh$1(s,o,_){for(;s!==null;){var j=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),s===_)break;s=s.return}}function ch$1(s,o){Xg$1=s,Zg$1=Yg$1=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(dh$1=!0),s.firstContext=null)}function eh$1(s){var o=s._currentValue;if(Zg$1!==s)if(s={context:s,memoizedValue:o,next:null},Yg$1===null){if(Xg$1===null)throw Error(p$3(308));Yg$1=s,Xg$1.dependencies={lanes:0,firstContext:s}}else Yg$1=Yg$1.next=s;return o}var fh$1=null;function gh$1(s){fh$1===null?fh$1=[s]:fh$1.push(s)}function hh$1(s,o,_,j){var et=o.interleaved;return et===null?(_.next=_,gh$1(o)):(_.next=et.next,et.next=_),o.interleaved=_,ih$1(s,j)}function ih$1(s,o){s.lanes|=o;var _=s.alternate;for(_!==null&&(_.lanes|=o),_=s,s=s.return;s!==null;)s.childLanes|=o,_=s.alternate,_!==null&&(_.childLanes|=o),_=s,s=s.return;return _.tag===3?_.stateNode:null}var jh$1=!1;function kh$1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh$1(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function nh$1(s,o,_){var j=s.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var et=j.pending;return et===null?o.next=o:(o.next=et.next,et.next=o),j.pending=o,ih$1(s,_)}return et=j.interleaved,et===null?(o.next=o,gh$1(j)):(o.next=et.next,et.next=o),j.interleaved=o,ih$1(s,_)}function oh$1(s,o,_){if(o=o.updateQueue,o!==null&&(o=o.shared,(_&4194240)!==0)){var j=o.lanes;j&=s.pendingLanes,_|=j,o.lanes=_,Cc$1(s,_)}}function ph$1(s,o){var _=s.updateQueue,j=s.alternate;if(j!==null&&(j=j.updateQueue,_===j)){var et=null,st=null;if(_=_.firstBaseUpdate,_!==null){do{var nt={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};st===null?et=st=nt:st=st.next=nt,_=_.next}while(_!==null);st===null?et=st=o:st=st.next=o}else et=st=o;_={baseState:j.baseState,firstBaseUpdate:et,lastBaseUpdate:st,shared:j.shared,effects:j.effects},s.updateQueue=_;return}s=_.lastBaseUpdate,s===null?_.firstBaseUpdate=o:s.next=o,_.lastBaseUpdate=o}function qh$1(s,o,_,j){var et=s.updateQueue;jh$1=!1;var st=et.firstBaseUpdate,nt=et.lastBaseUpdate,ct=et.shared.pending;if(ct!==null){et.shared.pending=null;var At=ct,mt=At.next;At.next=null,nt===null?st=mt:nt.next=mt,nt=At;var gt=s.alternate;gt!==null&&(gt=gt.updateQueue,ct=gt.lastBaseUpdate,ct!==nt&&(ct===null?gt.firstBaseUpdate=mt:ct.next=mt,gt.lastBaseUpdate=At))}if(st!==null){var _t=et.baseState;nt=0,gt=mt=At=null,ct=st;do{var Et=ct.lane,Ct=ct.eventTime;if((j&Et)===Et){gt!==null&&(gt=gt.next={eventTime:Ct,lane:0,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null});e:{var Bt=s,Dt=ct;switch(Et=o,Ct=_,Dt.tag){case 1:if(Bt=Dt.payload,typeof Bt=="function"){_t=Bt.call(Ct,_t,Et);break e}_t=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Dt.payload,Et=typeof Bt=="function"?Bt.call(Ct,_t,Et):Bt,Et==null)break e;_t=A$2({},_t,Et);break e;case 2:jh$1=!0}}ct.callback!==null&&ct.lane!==0&&(s.flags|=64,Et=et.effects,Et===null?et.effects=[ct]:Et.push(ct))}else Ct={eventTime:Ct,lane:Et,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},gt===null?(mt=gt=Ct,At=_t):gt=gt.next=Ct,nt|=Et;if(ct=ct.next,ct===null){if(ct=et.shared.pending,ct===null)break;Et=ct,ct=Et.next,Et.next=null,et.lastBaseUpdate=Et,et.shared.pending=null}}while(!0);if(gt===null&&(At=_t),et.baseState=At,et.firstBaseUpdate=mt,et.lastBaseUpdate=gt,o=et.shared.interleaved,o!==null){et=o;do nt|=et.lane,et=et.next;while(et!==o)}else st===null&&(et.shared.lanes=0);rh$1|=nt,s.lanes=nt,s.memoizedState=_t}}function sh$1(s,o,_){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var j=s[o],et=j.callback;if(et!==null){if(j.callback=null,j=_,typeof et!="function")throw Error(p$3(191,et));et.call(j)}}}var th$1={},uh$1=Uf$1(th$1),vh$1=Uf$1(th$1),wh$1=Uf$1(th$1);function xh$1(s){if(s===th$1)throw Error(p$3(174));return s}function yh$1(s,o){switch(G(wh$1,o),G(vh$1,s),G(uh$1,th$1),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb$1(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=lb$1(o,s)}E$3(uh$1),G(uh$1,o)}function zh$1(){E$3(uh$1),E$3(vh$1),E$3(wh$1)}function Ah$1(s){xh$1(wh$1.current);var o=xh$1(uh$1.current),_=lb$1(o,s.type);o!==_&&(G(vh$1,s),G(uh$1,_))}function Bh$1(s){vh$1.current===s&&(E$3(uh$1),E$3(vh$1))}var L$1=Uf$1(0);function Ch$1(s){for(var o=s;o!==null;){if(o.tag===13){var _=o.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh$1=[];function Eh$1(){for(var s=0;s<Dh$1.length;s++)Dh$1[s]._workInProgressVersionPrimary=null;Dh$1.length=0}var Fh$1=ua$1.ReactCurrentDispatcher,Gh$1=ua$1.ReactCurrentBatchConfig,Hh$1=0,M$1=null,N=null,O$1=null,Ih$1=!1,Jh$1=!1,Kh$1=0,Lh$1=0;function P$1(){throw Error(p$3(321))}function Mh$1(s,o){if(o===null)return!1;for(var _=0;_<o.length&&_<s.length;_++)if(!He$1(s[_],o[_]))return!1;return!0}function Nh$1(s,o,_,j,et,st){if(Hh$1=st,M$1=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh$1.current=s===null||s.memoizedState===null?Oh$1:Ph$1,s=_(j,et),Jh$1){st=0;do{if(Jh$1=!1,Kh$1=0,25<=st)throw Error(p$3(301));st+=1,O$1=N=null,o.updateQueue=null,Fh$1.current=Qh$1,s=_(j,et)}while(Jh$1)}if(Fh$1.current=Rh$1,o=N!==null&&N.next!==null,Hh$1=0,O$1=N=M$1=null,Ih$1=!1,o)throw Error(p$3(300));return s}function Sh$1(){var s=Kh$1!==0;return Kh$1=0,s}function Th$1(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=s:O$1=O$1.next=s,O$1}function Uh$1(){if(N===null){var s=M$1.alternate;s=s!==null?s.memoizedState:null}else s=N.next;var o=O$1===null?M$1.memoizedState:O$1.next;if(o!==null)O$1=o,N=s;else{if(s===null)throw Error(p$3(310));N=s,s={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=s:O$1=O$1.next=s}return O$1}function Vh$1(s,o){return typeof o=="function"?o(s):o}function Wh$1(s){var o=Uh$1(),_=o.queue;if(_===null)throw Error(p$3(311));_.lastRenderedReducer=s;var j=N,et=j.baseQueue,st=_.pending;if(st!==null){if(et!==null){var nt=et.next;et.next=st.next,st.next=nt}j.baseQueue=et=st,_.pending=null}if(et!==null){st=et.next,j=j.baseState;var ct=nt=null,At=null,mt=st;do{var gt=mt.lane;if((Hh$1&gt)===gt)At!==null&&(At=At.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),j=mt.hasEagerState?mt.eagerState:s(j,mt.action);else{var _t={lane:gt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};At===null?(ct=At=_t,nt=j):At=At.next=_t,M$1.lanes|=gt,rh$1|=gt}mt=mt.next}while(mt!==null&&mt!==st);At===null?nt=j:At.next=ct,He$1(j,o.memoizedState)||(dh$1=!0),o.memoizedState=j,o.baseState=nt,o.baseQueue=At,_.lastRenderedState=j}if(s=_.interleaved,s!==null){et=s;do st=et.lane,M$1.lanes|=st,rh$1|=st,et=et.next;while(et!==s)}else et===null&&(_.lanes=0);return[o.memoizedState,_.dispatch]}function Xh$1(s){var o=Uh$1(),_=o.queue;if(_===null)throw Error(p$3(311));_.lastRenderedReducer=s;var j=_.dispatch,et=_.pending,st=o.memoizedState;if(et!==null){_.pending=null;var nt=et=et.next;do st=s(st,nt.action),nt=nt.next;while(nt!==et);He$1(st,o.memoizedState)||(dh$1=!0),o.memoizedState=st,o.baseQueue===null&&(o.baseState=st),_.lastRenderedState=st}return[st,j]}function Yh$1(){}function Zh$1(s,o){var _=M$1,j=Uh$1(),et=o(),st=!He$1(j.memoizedState,et);if(st&&(j.memoizedState=et,dh$1=!0),j=j.queue,$h$1(ai$1.bind(null,_,j,s),[s]),j.getSnapshot!==o||st||O$1!==null&&O$1.memoizedState.tag&1){if(_.flags|=2048,bi$1(9,ci.bind(null,_,j,et,o),void 0,null),Q$1===null)throw Error(p$3(349));Hh$1&30||di$1(_,o,et)}return et}function di$1(s,o,_){s.flags|=16384,s={getSnapshot:o,value:_},o=M$1.updateQueue,o===null?(o={lastEffect:null,stores:null},M$1.updateQueue=o,o.stores=[s]):(_=o.stores,_===null?o.stores=[s]:_.push(s))}function ci(s,o,_,j){o.value=_,o.getSnapshot=j,ei$1(o)&&fi$1(s)}function ai$1(s,o,_){return _(function(){ei$1(o)&&fi$1(s)})}function ei$1(s){var o=s.getSnapshot;s=s.value;try{var _=o();return!He$1(s,_)}catch{return!0}}function fi$1(s){var o=ih$1(s,1);o!==null&&gi$1(o,s,1,-1)}function hi$1(s){var o=Th$1();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh$1,lastRenderedState:s},o.queue=s,s=s.dispatch=ii$1.bind(null,M$1,s),[o.memoizedState,s]}function bi$1(s,o,_,j){return s={tag:s,create:o,destroy:_,deps:j,next:null},o=M$1.updateQueue,o===null?(o={lastEffect:null,stores:null},M$1.updateQueue=o,o.lastEffect=s.next=s):(_=o.lastEffect,_===null?o.lastEffect=s.next=s:(j=_.next,_.next=s,s.next=j,o.lastEffect=s)),s}function ji$1(){return Uh$1().memoizedState}function ki$1(s,o,_,j){var et=Th$1();M$1.flags|=s,et.memoizedState=bi$1(1|o,_,void 0,j===void 0?null:j)}function li$1(s,o,_,j){var et=Uh$1();j=j===void 0?null:j;var st=void 0;if(N!==null){var nt=N.memoizedState;if(st=nt.destroy,j!==null&&Mh$1(j,nt.deps)){et.memoizedState=bi$1(o,_,st,j);return}}M$1.flags|=s,et.memoizedState=bi$1(1|o,_,st,j)}function mi$1(s,o){return ki$1(8390656,8,s,o)}function $h$1(s,o){return li$1(2048,8,s,o)}function ni$1(s,o){return li$1(4,2,s,o)}function oi$1(s,o){return li$1(4,4,s,o)}function pi$1(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function qi$1(s,o,_){return _=_!=null?_.concat([s]):null,li$1(4,4,pi$1.bind(null,o,s),_)}function ri$1(){}function si$1(s,o){var _=Uh$1();o=o===void 0?null:o;var j=_.memoizedState;return j!==null&&o!==null&&Mh$1(o,j[1])?j[0]:(_.memoizedState=[s,o],s)}function ti$1(s,o){var _=Uh$1();o=o===void 0?null:o;var j=_.memoizedState;return j!==null&&o!==null&&Mh$1(o,j[1])?j[0]:(s=s(),_.memoizedState=[s,o],s)}function ui(s,o,_){return Hh$1&21?(He$1(_,o)||(_=yc$1(),M$1.lanes|=_,rh$1|=_,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,dh$1=!0),s.memoizedState=_)}function vi$1(s,o){var _=C;C=_!==0&&4>_?_:4,s(!0);var j=Gh$1.transition;Gh$1.transition={};try{s(!1),o()}finally{C=_,Gh$1.transition=j}}function wi$1(){return Uh$1().memoizedState}function xi$1(s,o,_){var j=yi$1(s);if(_={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null},zi$1(s))Ai$1(o,_);else if(_=hh$1(s,o,_,j),_!==null){var et=R$1();gi$1(_,s,j,et),Bi$1(_,o,j)}}function ii$1(s,o,_){var j=yi$1(s),et={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null};if(zi$1(s))Ai$1(o,et);else{var st=s.alternate;if(s.lanes===0&&(st===null||st.lanes===0)&&(st=o.lastRenderedReducer,st!==null))try{var nt=o.lastRenderedState,ct=st(nt,_);if(et.hasEagerState=!0,et.eagerState=ct,He$1(ct,nt)){var At=o.interleaved;At===null?(et.next=et,gh$1(o)):(et.next=At.next,At.next=et),o.interleaved=et;return}}catch{}finally{}_=hh$1(s,o,et,j),_!==null&&(et=R$1(),gi$1(_,s,j,et),Bi$1(_,o,j))}}function zi$1(s){var o=s.alternate;return s===M$1||o!==null&&o===M$1}function Ai$1(s,o){Jh$1=Ih$1=!0;var _=s.pending;_===null?o.next=o:(o.next=_.next,_.next=o),s.pending=o}function Bi$1(s,o,_){if(_&4194240){var j=o.lanes;j&=s.pendingLanes,_|=j,o.lanes=_,Cc$1(s,_)}}var Rh$1={readContext:eh$1,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh$1={readContext:eh$1,useCallback:function(s,o){return Th$1().memoizedState=[s,o===void 0?null:o],s},useContext:eh$1,useEffect:mi$1,useImperativeHandle:function(s,o,_){return _=_!=null?_.concat([s]):null,ki$1(4194308,4,pi$1.bind(null,o,s),_)},useLayoutEffect:function(s,o){return ki$1(4194308,4,s,o)},useInsertionEffect:function(s,o){return ki$1(4,2,s,o)},useMemo:function(s,o){var _=Th$1();return o=o===void 0?null:o,s=s(),_.memoizedState=[s,o],s},useReducer:function(s,o,_){var j=Th$1();return o=_!==void 0?_(o):o,j.memoizedState=j.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},j.queue=s,s=s.dispatch=xi$1.bind(null,M$1,s),[j.memoizedState,s]},useRef:function(s){var o=Th$1();return s={current:s},o.memoizedState=s},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(s){return Th$1().memoizedState=s},useTransition:function(){var s=hi$1(!1),o=s[0];return s=vi$1.bind(null,s[1]),Th$1().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,_){var j=M$1,et=Th$1();if(I){if(_===void 0)throw Error(p$3(407));_=_()}else{if(_=o(),Q$1===null)throw Error(p$3(349));Hh$1&30||di$1(j,o,_)}et.memoizedState=_;var st={value:_,getSnapshot:o};return et.queue=st,mi$1(ai$1.bind(null,j,st,s),[s]),j.flags|=2048,bi$1(9,ci.bind(null,j,st,_,o),void 0,null),_},useId:function(){var s=Th$1(),o=Q$1.identifierPrefix;if(I){var _=sg$1,j=rg$1;_=(j&~(1<<32-oc$1(j)-1)).toString(32)+_,o=":"+o+"R"+_,_=Kh$1++,0<_&&(o+="H"+_.toString(32)),o+=":"}else _=Lh$1++,o=":"+o+"r"+_.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ph$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh$1,useRef:ji$1,useState:function(){return Wh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(s){var o=Uh$1();return ui(o,N.memoizedState,s)},useTransition:function(){var s=Wh$1(Vh$1)[0],o=Uh$1().memoizedState;return[s,o]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1},Qh$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h$1,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh$1,useRef:ji$1,useState:function(){return Xh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(s){var o=Uh$1();return N===null?o.memoizedState=s:ui(o,N.memoizedState,s)},useTransition:function(){var s=Xh$1(Vh$1)[0],o=Uh$1().memoizedState;return[s,o]},useMutableSource:Yh$1,useSyncExternalStore:Zh$1,useId:wi$1,unstable_isNewReconciler:!1};function Ci$1(s,o){if(s&&s.defaultProps){o=A$2({},o),s=s.defaultProps;for(var _ in s)o[_]===void 0&&(o[_]=s[_]);return o}return o}function Di$1(s,o,_,j){o=s.memoizedState,_=_(j,o),_=_==null?o:A$2({},o,_),s.memoizedState=_,s.lanes===0&&(s.updateQueue.baseState=_)}var Ei$1={isMounted:function(s){return(s=s._reactInternals)?Vb$1(s)===s:!1},enqueueSetState:function(s,o,_){s=s._reactInternals;var j=R$1(),et=yi$1(s),st=mh$1(j,et);st.payload=o,_!=null&&(st.callback=_),o=nh$1(s,st,et),o!==null&&(gi$1(o,s,et,j),oh$1(o,s,et))},enqueueReplaceState:function(s,o,_){s=s._reactInternals;var j=R$1(),et=yi$1(s),st=mh$1(j,et);st.tag=1,st.payload=o,_!=null&&(st.callback=_),o=nh$1(s,st,et),o!==null&&(gi$1(o,s,et,j),oh$1(o,s,et))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var _=R$1(),j=yi$1(s),et=mh$1(_,j);et.tag=2,o!=null&&(et.callback=o),o=nh$1(s,et,j),o!==null&&(gi$1(o,s,j,_),oh$1(o,s,j))}};function Fi$1(s,o,_,j,et,st,nt){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(j,st,nt):o.prototype&&o.prototype.isPureReactComponent?!Ie$1(_,j)||!Ie$1(et,st):!0}function Gi$1(s,o,_){var j=!1,et=Vf$1,st=o.contextType;return typeof st=="object"&&st!==null?st=eh$1(st):(et=Zf$1(o)?Xf$1:H.current,j=o.contextTypes,st=(j=j!=null)?Yf$1(s,et):Vf$1),o=new o(_,st),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei$1,s.stateNode=o,o._reactInternals=s,j&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=et,s.__reactInternalMemoizedMaskedChildContext=st),o}function Hi$1(s,o,_,j){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(_,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(_,j),o.state!==s&&Ei$1.enqueueReplaceState(o,o.state,null)}function Ii$1(s,o,_,j){var et=s.stateNode;et.props=_,et.state=s.memoizedState,et.refs={},kh$1(s);var st=o.contextType;typeof st=="object"&&st!==null?et.context=eh$1(st):(st=Zf$1(o)?Xf$1:H.current,et.context=Yf$1(s,st)),et.state=s.memoizedState,st=o.getDerivedStateFromProps,typeof st=="function"&&(Di$1(s,o,st,_),et.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(o=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),o!==et.state&&Ei$1.enqueueReplaceState(et,et.state,null),qh$1(s,_,et,j),et.state=s.memoizedState),typeof et.componentDidMount=="function"&&(s.flags|=4194308)}function Ji$1(s,o){try{var _="",j=o;do _+=Pa$1(j),j=j.return;while(j);var et=_}catch(st){et=`
Error generating stack: `+st.message+`
`+st.stack}return{value:s,source:o,stack:et,digest:null}}function Ki$1(s,o,_){return{value:s,source:null,stack:_??null,digest:o??null}}function Li$1(s,o){try{console.error(o.value)}catch(_){setTimeout(function(){throw _})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(s,o,_){_=mh$1(-1,_),_.tag=3,_.payload={element:null};var j=o.value;return _.callback=function(){Oi$1||(Oi$1=!0,Pi$1=j),Li$1(s,o)},_}function Qi$1(s,o,_){_=mh$1(-1,_),_.tag=3;var j=s.type.getDerivedStateFromError;if(typeof j=="function"){var et=o.value;_.payload=function(){return j(et)},_.callback=function(){Li$1(s,o)}}var st=s.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(_.callback=function(){Li$1(s,o),typeof j!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var nt=o.stack;this.componentDidCatch(o.value,{componentStack:nt!==null?nt:""})}),_}function Si(s,o,_){var j=s.pingCache;if(j===null){j=s.pingCache=new Mi$1;var et=new Set;j.set(o,et)}else et=j.get(o),et===void 0&&(et=new Set,j.set(o,et));et.has(_)||(et.add(_),s=Ti$1.bind(null,s,o,_),o.then(s,s))}function Ui$1(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Vi$1(s,o,_,j,et){return s.mode&1?(s.flags|=65536,s.lanes=et,s):(s===o?s.flags|=65536:(s.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(o=mh$1(-1,1),o.tag=2,nh$1(_,o,1))),_.lanes|=1),s)}var Wi$1=ua$1.ReactCurrentOwner,dh$1=!1;function Xi$1(s,o,_,j){o.child=s===null?Vg$1(o,null,_,j):Ug$1(o,s.child,_,j)}function Yi$1(s,o,_,j,et){_=_.render;var st=o.ref;return ch$1(o,et),j=Nh$1(s,o,_,j,st,et),_=Sh$1(),s!==null&&!dh$1?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~et,Zi$1(s,o,et)):(I&&_&&vg$1(o),o.flags|=1,Xi$1(s,o,j,et),o.child)}function $i$1(s,o,_,j,et){if(s===null){var st=_.type;return typeof st=="function"&&!aj$1(st)&&st.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(o.tag=15,o.type=st,bj$1(s,o,st,j,et)):(s=Rg$1(_.type,null,j,o,o.mode,et),s.ref=o.ref,s.return=o,o.child=s)}if(st=s.child,!(s.lanes&et)){var nt=st.memoizedProps;if(_=_.compare,_=_!==null?_:Ie$1,_(nt,j)&&s.ref===o.ref)return Zi$1(s,o,et)}return o.flags|=1,s=Pg$1(st,j),s.ref=o.ref,s.return=o,o.child=s}function bj$1(s,o,_,j,et){if(s!==null){var st=s.memoizedProps;if(Ie$1(st,j)&&s.ref===o.ref)if(dh$1=!1,o.pendingProps=j=st,(s.lanes&et)!==0)s.flags&131072&&(dh$1=!0);else return o.lanes=s.lanes,Zi$1(s,o,et)}return cj$1(s,o,_,j,et)}function dj$1(s,o,_){var j=o.pendingProps,et=j.children,st=s!==null?s.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej$1,fj$1),fj$1|=_;else{if(!(_&1073741824))return s=st!==null?st.baseLanes|_:_,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,G(ej$1,fj$1),fj$1|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=st!==null?st.baseLanes:_,G(ej$1,fj$1),fj$1|=j}else st!==null?(j=st.baseLanes|_,o.memoizedState=null):j=_,G(ej$1,fj$1),fj$1|=j;return Xi$1(s,o,et,_),o.child}function gj$1(s,o){var _=o.ref;(s===null&&_!==null||s!==null&&s.ref!==_)&&(o.flags|=512,o.flags|=2097152)}function cj$1(s,o,_,j,et){var st=Zf$1(_)?Xf$1:H.current;return st=Yf$1(o,st),ch$1(o,et),_=Nh$1(s,o,_,j,st,et),j=Sh$1(),s!==null&&!dh$1?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~et,Zi$1(s,o,et)):(I&&j&&vg$1(o),o.flags|=1,Xi$1(s,o,_,et),o.child)}function hj$1(s,o,_,j,et){if(Zf$1(_)){var st=!0;cg$1(o)}else st=!1;if(ch$1(o,et),o.stateNode===null)ij$1(s,o),Gi$1(o,_,j),Ii$1(o,_,j,et),j=!0;else if(s===null){var nt=o.stateNode,ct=o.memoizedProps;nt.props=ct;var At=nt.context,mt=_.contextType;typeof mt=="object"&&mt!==null?mt=eh$1(mt):(mt=Zf$1(_)?Xf$1:H.current,mt=Yf$1(o,mt));var gt=_.getDerivedStateFromProps,_t=typeof gt=="function"||typeof nt.getSnapshotBeforeUpdate=="function";_t||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(ct!==j||At!==mt)&&Hi$1(o,nt,j,mt),jh$1=!1;var Et=o.memoizedState;nt.state=Et,qh$1(o,j,nt,et),At=o.memoizedState,ct!==j||Et!==At||Wf$1.current||jh$1?(typeof gt=="function"&&(Di$1(o,_,gt,j),At=o.memoizedState),(ct=jh$1||Fi$1(o,_,ct,j,Et,At,mt))?(_t||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount()),typeof nt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof nt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=At),nt.props=j,nt.state=At,nt.context=mt,j=ct):(typeof nt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{nt=o.stateNode,lh$1(s,o),ct=o.memoizedProps,mt=o.type===o.elementType?ct:Ci$1(o.type,ct),nt.props=mt,_t=o.pendingProps,Et=nt.context,At=_.contextType,typeof At=="object"&&At!==null?At=eh$1(At):(At=Zf$1(_)?Xf$1:H.current,At=Yf$1(o,At));var Ct=_.getDerivedStateFromProps;(gt=typeof Ct=="function"||typeof nt.getSnapshotBeforeUpdate=="function")||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(ct!==_t||Et!==At)&&Hi$1(o,nt,j,At),jh$1=!1,Et=o.memoizedState,nt.state=Et,qh$1(o,j,nt,et);var Bt=o.memoizedState;ct!==_t||Et!==Bt||Wf$1.current||jh$1?(typeof Ct=="function"&&(Di$1(o,_,Ct,j),Bt=o.memoizedState),(mt=jh$1||Fi$1(o,_,mt,j,Et,Bt,At)||!1)?(gt||typeof nt.UNSAFE_componentWillUpdate!="function"&&typeof nt.componentWillUpdate!="function"||(typeof nt.componentWillUpdate=="function"&&nt.componentWillUpdate(j,Bt,At),typeof nt.UNSAFE_componentWillUpdate=="function"&&nt.UNSAFE_componentWillUpdate(j,Bt,At)),typeof nt.componentDidUpdate=="function"&&(o.flags|=4),typeof nt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof nt.componentDidUpdate!="function"||ct===s.memoizedProps&&Et===s.memoizedState||(o.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||ct===s.memoizedProps&&Et===s.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=Bt),nt.props=j,nt.state=Bt,nt.context=At,j=mt):(typeof nt.componentDidUpdate!="function"||ct===s.memoizedProps&&Et===s.memoizedState||(o.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||ct===s.memoizedProps&&Et===s.memoizedState||(o.flags|=1024),j=!1)}return jj$1(s,o,_,j,st,et)}function jj$1(s,o,_,j,et,st){gj$1(s,o);var nt=(o.flags&128)!==0;if(!j&&!nt)return et&&dg$1(o,_,!1),Zi$1(s,o,st);j=o.stateNode,Wi$1.current=o;var ct=nt&&typeof _.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,s!==null&&nt?(o.child=Ug$1(o,s.child,null,st),o.child=Ug$1(o,null,ct,st)):Xi$1(s,o,ct,st),o.memoizedState=j.state,et&&dg$1(o,_,!0),o.child}function kj$1(s){var o=s.stateNode;o.pendingContext?ag$1(s,o.pendingContext,o.pendingContext!==o.context):o.context&&ag$1(s,o.context,!1),yh$1(s,o.containerInfo)}function lj$1(s,o,_,j,et){return Ig$1(),Jg$1(et),o.flags|=256,Xi$1(s,o,_,j),o.child}var mj$1={dehydrated:null,treeContext:null,retryLane:0};function nj$1(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj$1(s,o,_){var j=o.pendingProps,et=L$1.current,st=!1,nt=(o.flags&128)!==0,ct;if((ct=nt)||(ct=s!==null&&s.memoizedState===null?!1:(et&2)!==0),ct?(st=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(et|=1),G(L$1,et&1),s===null)return Eg$1(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(nt=j.children,s=j.fallback,st?(j=o.mode,st=o.child,nt={mode:"hidden",children:nt},!(j&1)&&st!==null?(st.childLanes=0,st.pendingProps=nt):st=pj$1(nt,j,0,null),s=Tg$1(s,j,_,null),st.return=o,s.return=o,st.sibling=s,o.child=st,o.child.memoizedState=nj$1(_),o.memoizedState=mj$1,s):qj$1(o,nt));if(et=s.memoizedState,et!==null&&(ct=et.dehydrated,ct!==null))return rj$1(s,o,nt,j,ct,et,_);if(st){st=j.fallback,nt=o.mode,et=s.child,ct=et.sibling;var At={mode:"hidden",children:j.children};return!(nt&1)&&o.child!==et?(j=o.child,j.childLanes=0,j.pendingProps=At,o.deletions=null):(j=Pg$1(et,At),j.subtreeFlags=et.subtreeFlags&14680064),ct!==null?st=Pg$1(ct,st):(st=Tg$1(st,nt,_,null),st.flags|=2),st.return=o,j.return=o,j.sibling=st,o.child=j,j=st,st=o.child,nt=s.child.memoizedState,nt=nt===null?nj$1(_):{baseLanes:nt.baseLanes|_,cachePool:null,transitions:nt.transitions},st.memoizedState=nt,st.childLanes=s.childLanes&~_,o.memoizedState=mj$1,j}return st=s.child,s=st.sibling,j=Pg$1(st,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=_),j.return=o,j.sibling=null,s!==null&&(_=o.deletions,_===null?(o.deletions=[s],o.flags|=16):_.push(s)),o.child=j,o.memoizedState=null,j}function qj$1(s,o){return o=pj$1({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function sj$1(s,o,_,j){return j!==null&&Jg$1(j),Ug$1(o,s.child,null,_),s=qj$1(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rj$1(s,o,_,j,et,st,nt){if(_)return o.flags&256?(o.flags&=-257,j=Ki$1(Error(p$3(422))),sj$1(s,o,nt,j)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(st=j.fallback,et=o.mode,j=pj$1({mode:"visible",children:j.children},et,0,null),st=Tg$1(st,et,nt,null),st.flags|=2,j.return=o,st.return=o,j.sibling=st,o.child=j,o.mode&1&&Ug$1(o,s.child,null,nt),o.child.memoizedState=nj$1(nt),o.memoizedState=mj$1,st);if(!(o.mode&1))return sj$1(s,o,nt,null);if(et.data==="$!"){if(j=et.nextSibling&&et.nextSibling.dataset,j)var ct=j.dgst;return j=ct,st=Error(p$3(419)),j=Ki$1(st,j,void 0),sj$1(s,o,nt,j)}if(ct=(nt&s.childLanes)!==0,dh$1||ct){if(j=Q$1,j!==null){switch(nt&-nt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(j.suspendedLanes|nt)?0:et,et!==0&&et!==st.retryLane&&(st.retryLane=et,ih$1(s,et),gi$1(j,s,et,-1))}return tj$1(),j=Ki$1(Error(p$3(421))),sj$1(s,o,nt,j)}return et.data==="$?"?(o.flags|=128,o.child=s.child,o=uj$1.bind(null,s),et._reactRetry=o,null):(s=st.treeContext,yg=Lf$1(et.nextSibling),xg$1=o,I=!0,zg$1=null,s!==null&&(og$1[pg$1++]=rg$1,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg$1,rg$1=s.id,sg$1=s.overflow,qg$1=o),o=qj$1(o,j.children),o.flags|=4096,o)}function vj$1(s,o,_){s.lanes|=o;var j=s.alternate;j!==null&&(j.lanes|=o),bh$1(s.return,o,_)}function wj$1(s,o,_,j,et){var st=s.memoizedState;st===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:_,tailMode:et}:(st.isBackwards=o,st.rendering=null,st.renderingStartTime=0,st.last=j,st.tail=_,st.tailMode=et)}function xj$1(s,o,_){var j=o.pendingProps,et=j.revealOrder,st=j.tail;if(Xi$1(s,o,j.children,_),j=L$1.current,j&2)j=j&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj$1(s,_,o);else if(s.tag===19)vj$1(s,_,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}j&=1}if(G(L$1,j),!(o.mode&1))o.memoizedState=null;else switch(et){case"forwards":for(_=o.child,et=null;_!==null;)s=_.alternate,s!==null&&Ch$1(s)===null&&(et=_),_=_.sibling;_=et,_===null?(et=o.child,o.child=null):(et=_.sibling,_.sibling=null),wj$1(o,!1,et,_,st);break;case"backwards":for(_=null,et=o.child,o.child=null;et!==null;){if(s=et.alternate,s!==null&&Ch$1(s)===null){o.child=et;break}s=et.sibling,et.sibling=_,_=et,et=s}wj$1(o,!0,_,null,st);break;case"together":wj$1(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij$1(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Zi$1(s,o,_){if(s!==null&&(o.dependencies=s.dependencies),rh$1|=o.lanes,!(_&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(p$3(153));if(o.child!==null){for(s=o.child,_=Pg$1(s,s.pendingProps),o.child=_,_.return=o;s.sibling!==null;)s=s.sibling,_=_.sibling=Pg$1(s,s.pendingProps),_.return=o;_.sibling=null}return o.child}function yj$1(s,o,_){switch(o.tag){case 3:kj$1(o),Ig$1();break;case 5:Ah$1(o);break;case 1:Zf$1(o.type)&&cg$1(o);break;case 4:yh$1(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,et=o.memoizedProps.value;G(Wg$1,j._currentValue),j._currentValue=et;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(L$1,L$1.current&1),o.flags|=128,null):_&o.child.childLanes?oj$1(s,o,_):(G(L$1,L$1.current&1),s=Zi$1(s,o,_),s!==null?s.sibling:null);G(L$1,L$1.current&1);break;case 19:if(j=(_&o.childLanes)!==0,s.flags&128){if(j)return xj$1(s,o,_);o.flags|=128}if(et=o.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G(L$1,L$1.current),j)break;return null;case 22:case 23:return o.lanes=0,dj$1(s,o,_)}return Zi$1(s,o,_)}var zj$1,Aj$1,Bj$1,Cj$1;zj$1=function(s,o){for(var _=o.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break;for(;_.sibling===null;){if(_.return===null||_.return===o)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Aj$1=function(){};Bj$1=function(s,o,_,j){var et=s.memoizedProps;if(et!==j){s=o.stateNode,xh$1(uh$1.current);var st=null;switch(_){case"input":et=Ya$1(s,et),j=Ya$1(s,j),st=[];break;case"select":et=A$2({},et,{value:void 0}),j=A$2({},j,{value:void 0}),st=[];break;case"textarea":et=gb$1(s,et),j=gb$1(s,j),st=[];break;default:typeof et.onClick!="function"&&typeof j.onClick=="function"&&(s.onclick=Bf$1)}ub$1(_,j);var nt;_=null;for(mt in et)if(!j.hasOwnProperty(mt)&&et.hasOwnProperty(mt)&&et[mt]!=null)if(mt==="style"){var ct=et[mt];for(nt in ct)ct.hasOwnProperty(nt)&&(_||(_={}),_[nt]="")}else mt!=="dangerouslySetInnerHTML"&&mt!=="children"&&mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea$1.hasOwnProperty(mt)?st||(st=[]):(st=st||[]).push(mt,null));for(mt in j){var At=j[mt];if(ct=et!=null?et[mt]:void 0,j.hasOwnProperty(mt)&&At!==ct&&(At!=null||ct!=null))if(mt==="style")if(ct){for(nt in ct)!ct.hasOwnProperty(nt)||At&&At.hasOwnProperty(nt)||(_||(_={}),_[nt]="");for(nt in At)At.hasOwnProperty(nt)&&ct[nt]!==At[nt]&&(_||(_={}),_[nt]=At[nt])}else _||(st||(st=[]),st.push(mt,_)),_=At;else mt==="dangerouslySetInnerHTML"?(At=At?At.__html:void 0,ct=ct?ct.__html:void 0,At!=null&&ct!==At&&(st=st||[]).push(mt,At)):mt==="children"?typeof At!="string"&&typeof At!="number"||(st=st||[]).push(mt,""+At):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(mt)?(At!=null&&mt==="onScroll"&&D("scroll",s),st||ct===At||(st=[])):(st=st||[]).push(mt,At))}_&&(st=st||[]).push("style",_);var mt=st;(o.updateQueue=mt)&&(o.flags|=4)}};Cj$1=function(s,o,_,j){_!==j&&(o.flags|=4)};function Dj$1(s,o){if(!I)switch(s.tailMode){case"hidden":o=s.tail;for(var _=null;o!==null;)o.alternate!==null&&(_=o),o=o.sibling;_===null?s.tail=null:_.sibling=null;break;case"collapsed":_=s.tail;for(var j=null;_!==null;)_.alternate!==null&&(j=_),_=_.sibling;j===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:j.sibling=null}}function S(s){var o=s.alternate!==null&&s.alternate.child===s.child,_=0,j=0;if(o)for(var et=s.child;et!==null;)_|=et.lanes|et.childLanes,j|=et.subtreeFlags&14680064,j|=et.flags&14680064,et.return=s,et=et.sibling;else for(et=s.child;et!==null;)_|=et.lanes|et.childLanes,j|=et.subtreeFlags,j|=et.flags,et.return=s,et=et.sibling;return s.subtreeFlags|=j,s.childLanes=_,o}function Ej$1(s,o,_){var j=o.pendingProps;switch(wg$1(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf$1(o.type)&&$f$1(),S(o),null;case 3:return j=o.stateNode,zh$1(),E$3(Wf$1),E$3(H),Eh$1(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(s===null||s.child===null)&&(Gg$1(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg$1!==null&&(Fj$1(zg$1),zg$1=null))),Aj$1(s,o),S(o),null;case 5:Bh$1(o);var et=xh$1(wh$1.current);if(_=o.type,s!==null&&o.stateNode!=null)Bj$1(s,o,_,j,et),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$3(166));return S(o),null}if(s=xh$1(uh$1.current),Gg$1(o)){j=o.stateNode,_=o.type;var st=o.memoizedProps;switch(j[Of$1]=o,j[Pf$1]=st,s=(o.mode&1)!==0,_){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(et=0;et<lf$1.length;et++)D(lf$1[et],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za$1(j,st),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!st.multiple},D("invalid",j);break;case"textarea":hb$1(j,st),D("invalid",j)}ub$1(_,st),et=null;for(var nt in st)if(st.hasOwnProperty(nt)){var ct=st[nt];nt==="children"?typeof ct=="string"?j.textContent!==ct&&(st.suppressHydrationWarning!==!0&&Af$1(j.textContent,ct,s),et=["children",ct]):typeof ct=="number"&&j.textContent!==""+ct&&(st.suppressHydrationWarning!==!0&&Af$1(j.textContent,ct,s),et=["children",""+ct]):ea$1.hasOwnProperty(nt)&&ct!=null&&nt==="onScroll"&&D("scroll",j)}switch(_){case"input":Va$1(j),db$1(j,st,!0);break;case"textarea":Va$1(j),jb$1(j);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(j.onclick=Bf$1)}j=et,o.updateQueue=j,j!==null&&(o.flags|=4)}else{nt=et.nodeType===9?et:et.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb$1(_)),s==="http://www.w3.org/1999/xhtml"?_==="script"?(s=nt.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof j.is=="string"?s=nt.createElement(_,{is:j.is}):(s=nt.createElement(_),_==="select"&&(nt=s,j.multiple?nt.multiple=!0:j.size&&(nt.size=j.size))):s=nt.createElementNS(s,_),s[Of$1]=o,s[Pf$1]=j,zj$1(s,o,!1,!1),o.stateNode=s;e:{switch(nt=vb$1(_,j),_){case"dialog":D("cancel",s),D("close",s),et=j;break;case"iframe":case"object":case"embed":D("load",s),et=j;break;case"video":case"audio":for(et=0;et<lf$1.length;et++)D(lf$1[et],s);et=j;break;case"source":D("error",s),et=j;break;case"img":case"image":case"link":D("error",s),D("load",s),et=j;break;case"details":D("toggle",s),et=j;break;case"input":Za$1(s,j),et=Ya$1(s,j),D("invalid",s);break;case"option":et=j;break;case"select":s._wrapperState={wasMultiple:!!j.multiple},et=A$2({},j,{value:void 0}),D("invalid",s);break;case"textarea":hb$1(s,j),et=gb$1(s,j),D("invalid",s);break;default:et=j}ub$1(_,et),ct=et;for(st in ct)if(ct.hasOwnProperty(st)){var At=ct[st];st==="style"?sb(s,At):st==="dangerouslySetInnerHTML"?(At=At?At.__html:void 0,At!=null&&nb$1(s,At)):st==="children"?typeof At=="string"?(_!=="textarea"||At!=="")&&ob$1(s,At):typeof At=="number"&&ob$1(s,""+At):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea$1.hasOwnProperty(st)?At!=null&&st==="onScroll"&&D("scroll",s):At!=null&&ta$1(s,st,At,nt))}switch(_){case"input":Va$1(s),db$1(s,j,!1);break;case"textarea":Va$1(s),jb$1(s);break;case"option":j.value!=null&&s.setAttribute("value",""+Sa$1(j.value));break;case"select":s.multiple=!!j.multiple,st=j.value,st!=null?fb$1(s,!!j.multiple,st,!1):j.defaultValue!=null&&fb$1(s,!!j.multiple,j.defaultValue,!0);break;default:typeof et.onClick=="function"&&(s.onclick=Bf$1)}switch(_){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(s&&o.stateNode!=null)Cj$1(s,o,s.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$3(166));if(_=xh$1(wh$1.current),xh$1(uh$1.current),Gg$1(o)){if(j=o.stateNode,_=o.memoizedProps,j[Of$1]=o,(st=j.nodeValue!==_)&&(s=xg$1,s!==null))switch(s.tag){case 3:Af$1(j.nodeValue,_,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af$1(j.nodeValue,_,(s.mode&1)!==0)}st&&(o.flags|=4)}else j=(_.nodeType===9?_:_.ownerDocument).createTextNode(j),j[Of$1]=o,o.stateNode=j}return S(o),null;case 13:if(E$3(L$1),j=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg$1(),Ig$1(),o.flags|=98560,st=!1;else if(st=Gg$1(o),j!==null&&j.dehydrated!==null){if(s===null){if(!st)throw Error(p$3(318));if(st=o.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$3(317));st[Of$1]=o}else Ig$1(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),st=!1}else zg$1!==null&&(Fj$1(zg$1),zg$1=null),st=!0;if(!st)return o.flags&65536?o:null}return o.flags&128?(o.lanes=_,o):(j=j!==null,j!==(s!==null&&s.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&(s===null||L$1.current&1?T$1===0&&(T$1=3):tj$1())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return zh$1(),Aj$1(s,o),s===null&&sf$1(o.stateNode.containerInfo),S(o),null;case 10:return ah$1(o.type._context),S(o),null;case 17:return Zf$1(o.type)&&$f$1(),S(o),null;case 19:if(E$3(L$1),st=o.memoizedState,st===null)return S(o),null;if(j=(o.flags&128)!==0,nt=st.rendering,nt===null)if(j)Dj$1(st,!1);else{if(T$1!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(nt=Ch$1(s),nt!==null){for(o.flags|=128,Dj$1(st,!1),j=nt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=_,_=o.child;_!==null;)st=_,s=j,st.flags&=14680066,nt=st.alternate,nt===null?(st.childLanes=0,st.lanes=s,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=nt.childLanes,st.lanes=nt.lanes,st.child=nt.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=nt.memoizedProps,st.memoizedState=nt.memoizedState,st.updateQueue=nt.updateQueue,st.type=nt.type,s=nt.dependencies,st.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),_=_.sibling;return G(L$1,L$1.current&1|2),o.child}s=s.sibling}st.tail!==null&&B()>Gj$1&&(o.flags|=128,j=!0,Dj$1(st,!1),o.lanes=4194304)}else{if(!j)if(s=Ch$1(nt),s!==null){if(o.flags|=128,j=!0,_=s.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),Dj$1(st,!0),st.tail===null&&st.tailMode==="hidden"&&!nt.alternate&&!I)return S(o),null}else 2*B()-st.renderingStartTime>Gj$1&&_!==1073741824&&(o.flags|=128,j=!0,Dj$1(st,!1),o.lanes=4194304);st.isBackwards?(nt.sibling=o.child,o.child=nt):(_=st.last,_!==null?_.sibling=nt:o.child=nt,st.last=nt)}return st.tail!==null?(o=st.tail,st.rendering=o,st.tail=o.sibling,st.renderingStartTime=B(),o.sibling=null,_=L$1.current,G(L$1,j?_&1|2:_&1),o):(S(o),null);case 22:case 23:return Hj$1(),j=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?fj$1&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$3(156,o.tag))}function Ij$1(s,o){switch(wg$1(o),o.tag){case 1:return Zf$1(o.type)&&$f$1(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return zh$1(),E$3(Wf$1),E$3(H),Eh$1(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Bh$1(o),null;case 13:if(E$3(L$1),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(p$3(340));Ig$1()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return E$3(L$1),null;case 4:return zh$1(),null;case 10:return ah$1(o.type._context),null;case 22:case 23:return Hj$1(),null;case 24:return null;default:return null}}var Jj$1=!1,U$2=!1,Kj$1=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj$1(s,o){var _=s.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(j){W$1(s,o,j)}else _.current=null}function Mj$1(s,o,_){try{_()}catch(j){W$1(s,o,j)}}var Nj$1=!1;function Oj$1(s,o){if(Cf$1=dd$1,s=Me$1(),Ne(s)){if("selectionStart"in s)var _={start:s.selectionStart,end:s.selectionEnd};else e:{_=(_=s.ownerDocument)&&_.defaultView||window;var j=_.getSelection&&_.getSelection();if(j&&j.rangeCount!==0){_=j.anchorNode;var et=j.anchorOffset,st=j.focusNode;j=j.focusOffset;try{_.nodeType,st.nodeType}catch{_=null;break e}var nt=0,ct=-1,At=-1,mt=0,gt=0,_t=s,Et=null;t:for(;;){for(var Ct;_t!==_||et!==0&&_t.nodeType!==3||(ct=nt+et),_t!==st||j!==0&&_t.nodeType!==3||(At=nt+j),_t.nodeType===3&&(nt+=_t.nodeValue.length),(Ct=_t.firstChild)!==null;)Et=_t,_t=Ct;for(;;){if(_t===s)break t;if(Et===_&&++mt===et&&(ct=nt),Et===st&&++gt===j&&(At=nt),(Ct=_t.nextSibling)!==null)break;_t=Et,Et=_t.parentNode}_t=Ct}_=ct===-1||At===-1?null:{start:ct,end:At}}else _=null}_=_||{start:0,end:0}}else _=null;for(Df$1={focusedElem:s,selectionRange:_},dd$1=!1,V$1=o;V$1!==null;)if(o=V$1,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,V$1=s;else for(;V$1!==null;){o=V$1;try{var Bt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Dt=Bt.memoizedProps,Ft=Bt.memoizedState,Rt=o.stateNode,Nt=Rt.getSnapshotBeforeUpdate(o.elementType===o.type?Dt:Ci$1(o.type,Dt),Ft);Rt.__reactInternalSnapshotBeforeUpdate=Nt}break;case 3:var Gt=o.stateNode.containerInfo;Gt.nodeType===1?Gt.textContent="":Gt.nodeType===9&&Gt.documentElement&&Gt.removeChild(Gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(dr){W$1(o,o.return,dr)}if(s=o.sibling,s!==null){s.return=o.return,V$1=s;break}V$1=o.return}return Bt=Nj$1,Nj$1=!1,Bt}function Pj$1(s,o,_){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var et=j=j.next;do{if((et.tag&s)===s){var st=et.destroy;et.destroy=void 0,st!==void 0&&Mj$1(o,_,st)}et=et.next}while(et!==j)}}function Qj$1(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var _=o=o.next;do{if((_.tag&s)===s){var j=_.create;_.destroy=j()}_=_.next}while(_!==o)}}function Rj$1(s){var o=s.ref;if(o!==null){var _=s.stateNode;switch(s.tag){case 5:s=_;break;default:s=_}typeof o=="function"?o(s):o.current=s}}function Sj$1(s){var o=s.alternate;o!==null&&(s.alternate=null,Sj$1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Of$1],delete o[Pf$1],delete o[of$1],delete o[Qf$1],delete o[Rf$1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj$1(s){return s.tag===5||s.tag===3||s.tag===4}function Uj$1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj$1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj$1(s,o,_){var j=s.tag;if(j===5||j===6)s=s.stateNode,o?_.nodeType===8?_.parentNode.insertBefore(s,o):_.insertBefore(s,o):(_.nodeType===8?(o=_.parentNode,o.insertBefore(s,_)):(o=_,o.appendChild(s)),_=_._reactRootContainer,_!=null||o.onclick!==null||(o.onclick=Bf$1));else if(j!==4&&(s=s.child,s!==null))for(Vj$1(s,o,_),s=s.sibling;s!==null;)Vj$1(s,o,_),s=s.sibling}function Wj$1(s,o,_){var j=s.tag;if(j===5||j===6)s=s.stateNode,o?_.insertBefore(s,o):_.appendChild(s);else if(j!==4&&(s=s.child,s!==null))for(Wj$1(s,o,_),s=s.sibling;s!==null;)Wj$1(s,o,_),s=s.sibling}var X$1=null,Xj$1=!1;function Yj$1(s,o,_){for(_=_.child;_!==null;)Zj$1(s,o,_),_=_.sibling}function Zj$1(s,o,_){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,_)}catch{}switch(_.tag){case 5:U$2||Lj$1(_,o);case 6:var j=X$1,et=Xj$1;X$1=null,Yj$1(s,o,_),X$1=j,Xj$1=et,X$1!==null&&(Xj$1?(s=X$1,_=_.stateNode,s.nodeType===8?s.parentNode.removeChild(_):s.removeChild(_)):X$1.removeChild(_.stateNode));break;case 18:X$1!==null&&(Xj$1?(s=X$1,_=_.stateNode,s.nodeType===8?Kf$1(s.parentNode,_):s.nodeType===1&&Kf$1(s,_),bd$1(s)):Kf$1(X$1,_.stateNode));break;case 4:j=X$1,et=Xj$1,X$1=_.stateNode.containerInfo,Xj$1=!0,Yj$1(s,o,_),X$1=j,Xj$1=et;break;case 0:case 11:case 14:case 15:if(!U$2&&(j=_.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){et=j=j.next;do{var st=et,nt=st.destroy;st=st.tag,nt!==void 0&&(st&2||st&4)&&Mj$1(_,o,nt),et=et.next}while(et!==j)}Yj$1(s,o,_);break;case 1:if(!U$2&&(Lj$1(_,o),j=_.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=_.memoizedProps,j.state=_.memoizedState,j.componentWillUnmount()}catch(ct){W$1(_,o,ct)}Yj$1(s,o,_);break;case 21:Yj$1(s,o,_);break;case 22:_.mode&1?(U$2=(j=U$2)||_.memoizedState!==null,Yj$1(s,o,_),U$2=j):Yj$1(s,o,_);break;default:Yj$1(s,o,_)}}function ak$1(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var _=s.stateNode;_===null&&(_=s.stateNode=new Kj$1),o.forEach(function(j){var et=bk$1.bind(null,s,j);_.has(j)||(_.add(j),j.then(et,et))})}}function ck$1(s,o){var _=o.deletions;if(_!==null)for(var j=0;j<_.length;j++){var et=_[j];try{var st=s,nt=o,ct=nt;e:for(;ct!==null;){switch(ct.tag){case 5:X$1=ct.stateNode,Xj$1=!1;break e;case 3:X$1=ct.stateNode.containerInfo,Xj$1=!0;break e;case 4:X$1=ct.stateNode.containerInfo,Xj$1=!0;break e}ct=ct.return}if(X$1===null)throw Error(p$3(160));Zj$1(st,nt,et),X$1=null,Xj$1=!1;var At=et.alternate;At!==null&&(At.return=null),et.return=null}catch(mt){W$1(et,o,mt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk$1(o,s),o=o.sibling}function dk$1(s,o){var _=s.alternate,j=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck$1(o,s),ek$1(s),j&4){try{Pj$1(3,s,s.return),Qj$1(3,s)}catch(Dt){W$1(s,s.return,Dt)}try{Pj$1(5,s,s.return)}catch(Dt){W$1(s,s.return,Dt)}}break;case 1:ck$1(o,s),ek$1(s),j&512&&_!==null&&Lj$1(_,_.return);break;case 5:if(ck$1(o,s),ek$1(s),j&512&&_!==null&&Lj$1(_,_.return),s.flags&32){var et=s.stateNode;try{ob$1(et,"")}catch(Dt){W$1(s,s.return,Dt)}}if(j&4&&(et=s.stateNode,et!=null)){var st=s.memoizedProps,nt=_!==null?_.memoizedProps:st,ct=s.type,At=s.updateQueue;if(s.updateQueue=null,At!==null)try{ct==="input"&&st.type==="radio"&&st.name!=null&&ab$1(et,st),vb$1(ct,nt);var mt=vb$1(ct,st);for(nt=0;nt<At.length;nt+=2){var gt=At[nt],_t=At[nt+1];gt==="style"?sb(et,_t):gt==="dangerouslySetInnerHTML"?nb$1(et,_t):gt==="children"?ob$1(et,_t):ta$1(et,gt,_t,mt)}switch(ct){case"input":bb$1(et,st);break;case"textarea":ib$1(et,st);break;case"select":var Et=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!st.multiple;var Ct=st.value;Ct!=null?fb$1(et,!!st.multiple,Ct,!1):Et!==!!st.multiple&&(st.defaultValue!=null?fb$1(et,!!st.multiple,st.defaultValue,!0):fb$1(et,!!st.multiple,st.multiple?[]:"",!1))}et[Pf$1]=st}catch(Dt){W$1(s,s.return,Dt)}}break;case 6:if(ck$1(o,s),ek$1(s),j&4){if(s.stateNode===null)throw Error(p$3(162));et=s.stateNode,st=s.memoizedProps;try{et.nodeValue=st}catch(Dt){W$1(s,s.return,Dt)}}break;case 3:if(ck$1(o,s),ek$1(s),j&4&&_!==null&&_.memoizedState.isDehydrated)try{bd$1(o.containerInfo)}catch(Dt){W$1(s,s.return,Dt)}break;case 4:ck$1(o,s),ek$1(s);break;case 13:ck$1(o,s),ek$1(s),et=s.child,et.flags&8192&&(st=et.memoizedState!==null,et.stateNode.isHidden=st,!st||et.alternate!==null&&et.alternate.memoizedState!==null||(fk$1=B())),j&4&&ak$1(s);break;case 22:if(gt=_!==null&&_.memoizedState!==null,s.mode&1?(U$2=(mt=U$2)||gt,ck$1(o,s),U$2=mt):ck$1(o,s),ek$1(s),j&8192){if(mt=s.memoizedState!==null,(s.stateNode.isHidden=mt)&&!gt&&s.mode&1)for(V$1=s,gt=s.child;gt!==null;){for(_t=V$1=gt;V$1!==null;){switch(Et=V$1,Ct=Et.child,Et.tag){case 0:case 11:case 14:case 15:Pj$1(4,Et,Et.return);break;case 1:Lj$1(Et,Et.return);var Bt=Et.stateNode;if(typeof Bt.componentWillUnmount=="function"){j=Et,_=Et.return;try{o=j,Bt.props=o.memoizedProps,Bt.state=o.memoizedState,Bt.componentWillUnmount()}catch(Dt){W$1(j,_,Dt)}}break;case 5:Lj$1(Et,Et.return);break;case 22:if(Et.memoizedState!==null){gk$1(_t);continue}}Ct!==null?(Ct.return=Et,V$1=Ct):gk$1(_t)}gt=gt.sibling}e:for(gt=null,_t=s;;){if(_t.tag===5){if(gt===null){gt=_t;try{et=_t.stateNode,mt?(st=et.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(ct=_t.stateNode,At=_t.memoizedProps.style,nt=At!=null&&At.hasOwnProperty("display")?At.display:null,ct.style.display=rb$1("display",nt))}catch(Dt){W$1(s,s.return,Dt)}}}else if(_t.tag===6){if(gt===null)try{_t.stateNode.nodeValue=mt?"":_t.memoizedProps}catch(Dt){W$1(s,s.return,Dt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===s)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===s)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===s)break e;gt===_t&&(gt=null),_t=_t.return}gt===_t&&(gt=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:ck$1(o,s),ek$1(s),j&4&&ak$1(s);break;case 21:break;default:ck$1(o,s),ek$1(s)}}function ek$1(s){var o=s.flags;if(o&2){try{e:{for(var _=s.return;_!==null;){if(Tj$1(_)){var j=_;break e}_=_.return}throw Error(p$3(160))}switch(j.tag){case 5:var et=j.stateNode;j.flags&32&&(ob$1(et,""),j.flags&=-33);var st=Uj$1(s);Wj$1(s,st,et);break;case 3:case 4:var nt=j.stateNode.containerInfo,ct=Uj$1(s);Vj$1(s,ct,nt);break;default:throw Error(p$3(161))}}catch(At){W$1(s,s.return,At)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function hk$1(s,o,_){V$1=s,ik$1(s)}function ik$1(s,o,_){for(var j=(s.mode&1)!==0;V$1!==null;){var et=V$1,st=et.child;if(et.tag===22&&j){var nt=et.memoizedState!==null||Jj$1;if(!nt){var ct=et.alternate,At=ct!==null&&ct.memoizedState!==null||U$2;ct=Jj$1;var mt=U$2;if(Jj$1=nt,(U$2=At)&&!mt)for(V$1=et;V$1!==null;)nt=V$1,At=nt.child,nt.tag===22&&nt.memoizedState!==null?jk$1(et):At!==null?(At.return=nt,V$1=At):jk$1(et);for(;st!==null;)V$1=st,ik$1(st),st=st.sibling;V$1=et,Jj$1=ct,U$2=mt}kk$1(s)}else et.subtreeFlags&8772&&st!==null?(st.return=et,V$1=st):kk$1(s)}}function kk$1(s){for(;V$1!==null;){var o=V$1;if(o.flags&8772){var _=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U$2||Qj$1(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U$2)if(_===null)j.componentDidMount();else{var et=o.elementType===o.type?_.memoizedProps:Ci$1(o.type,_.memoizedProps);j.componentDidUpdate(et,_.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var st=o.updateQueue;st!==null&&sh$1(o,st,j);break;case 3:var nt=o.updateQueue;if(nt!==null){if(_=null,o.child!==null)switch(o.child.tag){case 5:_=o.child.stateNode;break;case 1:_=o.child.stateNode}sh$1(o,nt,_)}break;case 5:var ct=o.stateNode;if(_===null&&o.flags&4){_=ct;var At=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":At.autoFocus&&_.focus();break;case"img":At.src&&(_.src=At.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var mt=o.alternate;if(mt!==null){var gt=mt.memoizedState;if(gt!==null){var _t=gt.dehydrated;_t!==null&&bd$1(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$2||o.flags&512&&Rj$1(o)}catch(Et){W$1(o,o.return,Et)}}if(o===s){V$1=null;break}if(_=o.sibling,_!==null){_.return=o.return,V$1=_;break}V$1=o.return}}function gk$1(s){for(;V$1!==null;){var o=V$1;if(o===s){V$1=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V$1=_;break}V$1=o.return}}function jk$1(s){for(;V$1!==null;){var o=V$1;try{switch(o.tag){case 0:case 11:case 15:var _=o.return;try{Qj$1(4,o)}catch(At){W$1(o,_,At)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var et=o.return;try{j.componentDidMount()}catch(At){W$1(o,et,At)}}var st=o.return;try{Rj$1(o)}catch(At){W$1(o,st,At)}break;case 5:var nt=o.return;try{Rj$1(o)}catch(At){W$1(o,nt,At)}}}catch(At){W$1(o,o.return,At)}if(o===s){V$1=null;break}var ct=o.sibling;if(ct!==null){ct.return=o.return,V$1=ct;break}V$1=o.return}}var lk$1=Math.ceil,mk$1=ua$1.ReactCurrentDispatcher,nk$1=ua$1.ReactCurrentOwner,ok$1=ua$1.ReactCurrentBatchConfig,K=0,Q$1=null,Y=null,Z$2=0,fj$1=0,ej$1=Uf$1(0),T$1=0,pk$1=null,rh$1=0,qk$1=0,rk$1=0,sk$1=null,tk$1=null,fk$1=0,Gj$1=1/0,uk$1=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk$1=!1,wk$1=null,xk$1=0,yk$1=0,zk$1=null,Ak$1=-1,Bk$1=0;function R$1(){return K&6?B():Ak$1!==-1?Ak$1:Ak$1=B()}function yi$1(s){return s.mode&1?K&2&&Z$2!==0?Z$2&-Z$2:Kg$1.transition!==null?(Bk$1===0&&(Bk$1=yc$1()),Bk$1):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd$1(s.type)),s):1}function gi$1(s,o,_,j){if(50<yk$1)throw yk$1=0,zk$1=null,Error(p$3(185));Ac$1(s,_,j),(!(K&2)||s!==Q$1)&&(s===Q$1&&(!(K&2)&&(qk$1|=_),T$1===4&&Ck$1(s,Z$2)),Dk$1(s,j),_===1&&K===0&&!(o.mode&1)&&(Gj$1=B()+500,fg$1&&jg$1()))}function Dk$1(s,o){var _=s.callbackNode;wc$1(s,o);var j=uc$1(s,s===Q$1?Z$2:0);if(j===0)_!==null&&bc$1(_),s.callbackNode=null,s.callbackPriority=0;else if(o=j&-j,s.callbackPriority!==o){if(_!=null&&bc$1(_),o===1)s.tag===0?ig$1(Ek$1.bind(null,s)):hg$1(Ek$1.bind(null,s)),Jf$1(function(){!(K&6)&&jg$1()}),_=null;else{switch(Dc$1(j)){case 1:_=fc$1;break;case 4:_=gc$1;break;case 16:_=hc$1;break;case 536870912:_=jc$1;break;default:_=hc$1}_=Fk$1(_,Gk$1.bind(null,s))}s.callbackPriority=o,s.callbackNode=_}}function Gk$1(s,o){if(Ak$1=-1,Bk$1=0,K&6)throw Error(p$3(327));var _=s.callbackNode;if(Hk$1()&&s.callbackNode!==_)return null;var j=uc$1(s,s===Q$1?Z$2:0);if(j===0)return null;if(j&30||j&s.expiredLanes||o)o=Ik$1(s,j);else{o=j;var et=K;K|=2;var st=Jk$1();(Q$1!==s||Z$2!==o)&&(uk$1=null,Gj$1=B()+500,Kk$1(s,o));do try{Lk$1();break}catch(ct){Mk$1(s,ct)}while(!0);$g$1(),mk$1.current=st,K=et,Y!==null?o=0:(Q$1=null,Z$2=0,o=T$1)}if(o!==0){if(o===2&&(et=xc$1(s),et!==0&&(j=et,o=Nk$1(s,et))),o===1)throw _=pk$1,Kk$1(s,0),Ck$1(s,j),Dk$1(s,B()),_;if(o===6)Ck$1(s,j);else{if(et=s.current.alternate,!(j&30)&&!Ok$1(et)&&(o=Ik$1(s,j),o===2&&(st=xc$1(s),st!==0&&(j=st,o=Nk$1(s,st))),o===1))throw _=pk$1,Kk$1(s,0),Ck$1(s,j),Dk$1(s,B()),_;switch(s.finishedWork=et,s.finishedLanes=j,o){case 0:case 1:throw Error(p$3(345));case 2:Pk$1(s,tk$1,uk$1);break;case 3:if(Ck$1(s,j),(j&130023424)===j&&(o=fk$1+500-B(),10<o)){if(uc$1(s,0)!==0)break;if(et=s.suspendedLanes,(et&j)!==j){R$1(),s.pingedLanes|=s.suspendedLanes&et;break}s.timeoutHandle=Ff$1(Pk$1.bind(null,s,tk$1,uk$1),o);break}Pk$1(s,tk$1,uk$1);break;case 4:if(Ck$1(s,j),(j&4194240)===j)break;for(o=s.eventTimes,et=-1;0<j;){var nt=31-oc$1(j);st=1<<nt,nt=o[nt],nt>et&&(et=nt),j&=~st}if(j=et,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk$1(j/1960))-j,10<j){s.timeoutHandle=Ff$1(Pk$1.bind(null,s,tk$1,uk$1),j);break}Pk$1(s,tk$1,uk$1);break;case 5:Pk$1(s,tk$1,uk$1);break;default:throw Error(p$3(329))}}}return Dk$1(s,B()),s.callbackNode===_?Gk$1.bind(null,s):null}function Nk$1(s,o){var _=sk$1;return s.current.memoizedState.isDehydrated&&(Kk$1(s,o).flags|=256),s=Ik$1(s,o),s!==2&&(o=tk$1,tk$1=_,o!==null&&Fj$1(o)),s}function Fj$1(s){tk$1===null?tk$1=s:tk$1.push.apply(tk$1,s)}function Ok$1(s){for(var o=s;;){if(o.flags&16384){var _=o.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var j=0;j<_.length;j++){var et=_[j],st=et.getSnapshot;et=et.value;try{if(!He$1(st(),et))return!1}catch{return!1}}}if(_=o.child,o.subtreeFlags&16384&&_!==null)_.return=o,o=_;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck$1(s,o){for(o&=~rk$1,o&=~qk$1,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var _=31-oc$1(o),j=1<<_;s[_]=-1,o&=~j}}function Ek$1(s){if(K&6)throw Error(p$3(327));Hk$1();var o=uc$1(s,0);if(!(o&1))return Dk$1(s,B()),null;var _=Ik$1(s,o);if(s.tag!==0&&_===2){var j=xc$1(s);j!==0&&(o=j,_=Nk$1(s,j))}if(_===1)throw _=pk$1,Kk$1(s,0),Ck$1(s,o),Dk$1(s,B()),_;if(_===6)throw Error(p$3(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Pk$1(s,tk$1,uk$1),Dk$1(s,B()),null}function Qk$1(s,o){var _=K;K|=1;try{return s(o)}finally{K=_,K===0&&(Gj$1=B()+500,fg$1&&jg$1())}}function Rk$1(s){wk$1!==null&&wk$1.tag===0&&!(K&6)&&Hk$1();var o=K;K|=1;var _=ok$1.transition,j=C;try{if(ok$1.transition=null,C=1,s)return s()}finally{C=j,ok$1.transition=_,K=o,!(K&6)&&jg$1()}}function Hj$1(){fj$1=ej$1.current,E$3(ej$1)}function Kk$1(s,o){s.finishedWork=null,s.finishedLanes=0;var _=s.timeoutHandle;if(_!==-1&&(s.timeoutHandle=-1,Gf(_)),Y!==null)for(_=Y.return;_!==null;){var j=_;switch(wg$1(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f$1();break;case 3:zh$1(),E$3(Wf$1),E$3(H),Eh$1();break;case 5:Bh$1(j);break;case 4:zh$1();break;case 13:E$3(L$1);break;case 19:E$3(L$1);break;case 10:ah$1(j.type._context);break;case 22:case 23:Hj$1()}_=_.return}if(Q$1=s,Y=s=Pg$1(s.current,null),Z$2=fj$1=o,T$1=0,pk$1=null,rk$1=qk$1=rh$1=0,tk$1=sk$1=null,fh$1!==null){for(o=0;o<fh$1.length;o++)if(_=fh$1[o],j=_.interleaved,j!==null){_.interleaved=null;var et=j.next,st=_.pending;if(st!==null){var nt=st.next;st.next=et,j.next=nt}_.pending=j}fh$1=null}return s}function Mk$1(s,o){do{var _=Y;try{if($g$1(),Fh$1.current=Rh$1,Ih$1){for(var j=M$1.memoizedState;j!==null;){var et=j.queue;et!==null&&(et.pending=null),j=j.next}Ih$1=!1}if(Hh$1=0,O$1=N=M$1=null,Jh$1=!1,Kh$1=0,nk$1.current=null,_===null||_.return===null){T$1=1,pk$1=o,Y=null;break}e:{var st=s,nt=_.return,ct=_,At=o;if(o=Z$2,ct.flags|=32768,At!==null&&typeof At=="object"&&typeof At.then=="function"){var mt=At,gt=ct,_t=gt.tag;if(!(gt.mode&1)&&(_t===0||_t===11||_t===15)){var Et=gt.alternate;Et?(gt.updateQueue=Et.updateQueue,gt.memoizedState=Et.memoizedState,gt.lanes=Et.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Ct=Ui$1(nt);if(Ct!==null){Ct.flags&=-257,Vi$1(Ct,nt,ct,st,o),Ct.mode&1&&Si(st,mt,o),o=Ct,At=mt;var Bt=o.updateQueue;if(Bt===null){var Dt=new Set;Dt.add(At),o.updateQueue=Dt}else Bt.add(At);break e}else{if(!(o&1)){Si(st,mt,o),tj$1();break e}At=Error(p$3(426))}}else if(I&&ct.mode&1){var Ft=Ui$1(nt);if(Ft!==null){!(Ft.flags&65536)&&(Ft.flags|=256),Vi$1(Ft,nt,ct,st,o),Jg$1(Ji$1(At,ct));break e}}st=At=Ji$1(At,ct),T$1!==4&&(T$1=2),sk$1===null?sk$1=[st]:sk$1.push(st),st=nt;do{switch(st.tag){case 3:st.flags|=65536,o&=-o,st.lanes|=o;var Rt=Ni$1(st,At,o);ph$1(st,Rt);break e;case 1:ct=At;var Nt=st.type,Gt=st.stateNode;if(!(st.flags&128)&&(typeof Nt.getDerivedStateFromError=="function"||Gt!==null&&typeof Gt.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(Gt)))){st.flags|=65536,o&=-o,st.lanes|=o;var dr=Qi$1(st,ct,o);ph$1(st,dr);break e}}st=st.return}while(st!==null)}Sk$1(_)}catch(ts){o=ts,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(!0)}function Jk$1(){var s=mk$1.current;return mk$1.current=Rh$1,s===null?Rh$1:s}function tj$1(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh$1&268435455)&&!(qk$1&268435455)||Ck$1(Q$1,Z$2)}function Ik$1(s,o){var _=K;K|=2;var j=Jk$1();(Q$1!==s||Z$2!==o)&&(uk$1=null,Kk$1(s,o));do try{Tk$1();break}catch(et){Mk$1(s,et)}while(!0);if($g$1(),K=_,mk$1.current=j,Y!==null)throw Error(p$3(261));return Q$1=null,Z$2=0,T$1}function Tk$1(){for(;Y!==null;)Uk$1(Y)}function Lk$1(){for(;Y!==null&&!cc$1();)Uk$1(Y)}function Uk$1(s){var o=Vk$1(s.alternate,s,fj$1);s.memoizedProps=s.pendingProps,o===null?Sk$1(s):Y=o,nk$1.current=null}function Sk$1(s){var o=s;do{var _=o.alternate;if(s=o.return,o.flags&32768){if(_=Ij$1(_,o),_!==null){_.flags&=32767,Y=_;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T$1=6,Y=null;return}}else if(_=Ej$1(_,o,fj$1),_!==null){Y=_;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=s}while(o!==null);T$1===0&&(T$1=5)}function Pk$1(s,o,_){var j=C,et=ok$1.transition;try{ok$1.transition=null,C=1,Wk$1(s,o,_,j)}finally{ok$1.transition=et,C=j}return null}function Wk$1(s,o,_,j){do Hk$1();while(wk$1!==null);if(K&6)throw Error(p$3(327));_=s.finishedWork;var et=s.finishedLanes;if(_===null)return null;if(s.finishedWork=null,s.finishedLanes=0,_===s.current)throw Error(p$3(177));s.callbackNode=null,s.callbackPriority=0;var st=_.lanes|_.childLanes;if(Bc$1(s,st),s===Q$1&&(Y=Q$1=null,Z$2=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||vk$1||(vk$1=!0,Fk$1(hc$1,function(){return Hk$1(),null})),st=(_.flags&15990)!==0,_.subtreeFlags&15990||st){st=ok$1.transition,ok$1.transition=null;var nt=C;C=1;var ct=K;K|=4,nk$1.current=null,Oj$1(s,_),dk$1(_,s),Oe(Df$1),dd$1=!!Cf$1,Df$1=Cf$1=null,s.current=_,hk$1(_),dc$1(),K=ct,C=nt,ok$1.transition=st}else s.current=_;if(vk$1&&(vk$1=!1,wk$1=s,xk$1=et),st=s.pendingLanes,st===0&&(Ri$1=null),mc$1(_.stateNode),Dk$1(s,B()),o!==null)for(j=s.onRecoverableError,_=0;_<o.length;_++)et=o[_],j(et.value,{componentStack:et.stack,digest:et.digest});if(Oi$1)throw Oi$1=!1,s=Pi$1,Pi$1=null,s;return xk$1&1&&s.tag!==0&&Hk$1(),st=s.pendingLanes,st&1?s===zk$1?yk$1++:(yk$1=0,zk$1=s):yk$1=0,jg$1(),null}function Hk$1(){if(wk$1!==null){var s=Dc$1(xk$1),o=ok$1.transition,_=C;try{if(ok$1.transition=null,C=16>s?16:s,wk$1===null)var j=!1;else{if(s=wk$1,wk$1=null,xk$1=0,K&6)throw Error(p$3(331));var et=K;for(K|=4,V$1=s.current;V$1!==null;){var st=V$1,nt=st.child;if(V$1.flags&16){var ct=st.deletions;if(ct!==null){for(var At=0;At<ct.length;At++){var mt=ct[At];for(V$1=mt;V$1!==null;){var gt=V$1;switch(gt.tag){case 0:case 11:case 15:Pj$1(8,gt,st)}var _t=gt.child;if(_t!==null)_t.return=gt,V$1=_t;else for(;V$1!==null;){gt=V$1;var Et=gt.sibling,Ct=gt.return;if(Sj$1(gt),gt===mt){V$1=null;break}if(Et!==null){Et.return=Ct,V$1=Et;break}V$1=Ct}}}var Bt=st.alternate;if(Bt!==null){var Dt=Bt.child;if(Dt!==null){Bt.child=null;do{var Ft=Dt.sibling;Dt.sibling=null,Dt=Ft}while(Dt!==null)}}V$1=st}}if(st.subtreeFlags&2064&&nt!==null)nt.return=st,V$1=nt;else e:for(;V$1!==null;){if(st=V$1,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Pj$1(9,st,st.return)}var Rt=st.sibling;if(Rt!==null){Rt.return=st.return,V$1=Rt;break e}V$1=st.return}}var Nt=s.current;for(V$1=Nt;V$1!==null;){nt=V$1;var Gt=nt.child;if(nt.subtreeFlags&2064&&Gt!==null)Gt.return=nt,V$1=Gt;else e:for(nt=Nt;V$1!==null;){if(ct=V$1,ct.flags&2048)try{switch(ct.tag){case 0:case 11:case 15:Qj$1(9,ct)}}catch(ts){W$1(ct,ct.return,ts)}if(ct===nt){V$1=null;break e}var dr=ct.sibling;if(dr!==null){dr.return=ct.return,V$1=dr;break e}V$1=ct.return}}if(K=et,jg$1(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,s)}catch{}j=!0}return j}finally{C=_,ok$1.transition=o}}return!1}function Xk$1(s,o,_){o=Ji$1(_,o),o=Ni$1(s,o,1),s=nh$1(s,o,1),o=R$1(),s!==null&&(Ac$1(s,1,o),Dk$1(s,o))}function W$1(s,o,_){if(s.tag===3)Xk$1(s,s,_);else for(;o!==null;){if(o.tag===3){Xk$1(o,s,_);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(j))){s=Ji$1(_,s),s=Qi$1(o,s,1),o=nh$1(o,s,1),s=R$1(),o!==null&&(Ac$1(o,1,s),Dk$1(o,s));break}}o=o.return}}function Ti$1(s,o,_){var j=s.pingCache;j!==null&&j.delete(o),o=R$1(),s.pingedLanes|=s.suspendedLanes&_,Q$1===s&&(Z$2&_)===_&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B()-fk$1?Kk$1(s,0):rk$1|=_),Dk$1(s,o)}function Yk$1(s,o){o===0&&(s.mode&1?(o=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):o=1);var _=R$1();s=ih$1(s,o),s!==null&&(Ac$1(s,o,_),Dk$1(s,_))}function uj$1(s){var o=s.memoizedState,_=0;o!==null&&(_=o.retryLane),Yk$1(s,_)}function bk$1(s,o){var _=0;switch(s.tag){case 13:var j=s.stateNode,et=s.memoizedState;et!==null&&(_=et.retryLane);break;case 19:j=s.stateNode;break;default:throw Error(p$3(314))}j!==null&&j.delete(o),Yk$1(s,_)}var Vk$1;Vk$1=function(s,o,_){if(s!==null)if(s.memoizedProps!==o.pendingProps||Wf$1.current)dh$1=!0;else{if(!(s.lanes&_)&&!(o.flags&128))return dh$1=!1,yj$1(s,o,_);dh$1=!!(s.flags&131072)}else dh$1=!1,I&&o.flags&1048576&&ug$1(o,ng$1,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;ij$1(s,o),s=o.pendingProps;var et=Yf$1(o,H.current);ch$1(o,_),et=Nh$1(null,o,j,s,et,_);var st=Sh$1();return o.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf$1(j)?(st=!0,cg$1(o)):st=!1,o.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh$1(o),et.updater=Ei$1,o.stateNode=et,et._reactInternals=o,Ii$1(o,j,s,_),o=jj$1(null,o,j,!0,st,_)):(o.tag=0,I&&st&&vg$1(o),Xi$1(null,o,et,_),o=o.child),o;case 16:j=o.elementType;e:{switch(ij$1(s,o),s=o.pendingProps,et=j._init,j=et(j._payload),o.type=j,et=o.tag=Zk$1(j),s=Ci$1(j,s),et){case 0:o=cj$1(null,o,j,s,_);break e;case 1:o=hj$1(null,o,j,s,_);break e;case 11:o=Yi$1(null,o,j,s,_);break e;case 14:o=$i$1(null,o,j,Ci$1(j.type,s),_);break e}throw Error(p$3(306,j,""))}return o;case 0:return j=o.type,et=o.pendingProps,et=o.elementType===j?et:Ci$1(j,et),cj$1(s,o,j,et,_);case 1:return j=o.type,et=o.pendingProps,et=o.elementType===j?et:Ci$1(j,et),hj$1(s,o,j,et,_);case 3:e:{if(kj$1(o),s===null)throw Error(p$3(387));j=o.pendingProps,st=o.memoizedState,et=st.element,lh$1(s,o),qh$1(o,j,null,_);var nt=o.memoizedState;if(j=nt.element,st.isDehydrated)if(st={element:j,isDehydrated:!1,cache:nt.cache,pendingSuspenseBoundaries:nt.pendingSuspenseBoundaries,transitions:nt.transitions},o.updateQueue.baseState=st,o.memoizedState=st,o.flags&256){et=Ji$1(Error(p$3(423)),o),o=lj$1(s,o,j,_,et);break e}else if(j!==et){et=Ji$1(Error(p$3(424)),o),o=lj$1(s,o,j,_,et);break e}else for(yg=Lf$1(o.stateNode.containerInfo.firstChild),xg$1=o,I=!0,zg$1=null,_=Vg$1(o,null,j,_),o.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ig$1(),j===et){o=Zi$1(s,o,_);break e}Xi$1(s,o,j,_)}o=o.child}return o;case 5:return Ah$1(o),s===null&&Eg$1(o),j=o.type,et=o.pendingProps,st=s!==null?s.memoizedProps:null,nt=et.children,Ef$1(j,et)?nt=null:st!==null&&Ef$1(j,st)&&(o.flags|=32),gj$1(s,o),Xi$1(s,o,nt,_),o.child;case 6:return s===null&&Eg$1(o),null;case 13:return oj$1(s,o,_);case 4:return yh$1(o,o.stateNode.containerInfo),j=o.pendingProps,s===null?o.child=Ug$1(o,null,j,_):Xi$1(s,o,j,_),o.child;case 11:return j=o.type,et=o.pendingProps,et=o.elementType===j?et:Ci$1(j,et),Yi$1(s,o,j,et,_);case 7:return Xi$1(s,o,o.pendingProps,_),o.child;case 8:return Xi$1(s,o,o.pendingProps.children,_),o.child;case 12:return Xi$1(s,o,o.pendingProps.children,_),o.child;case 10:e:{if(j=o.type._context,et=o.pendingProps,st=o.memoizedProps,nt=et.value,G(Wg$1,j._currentValue),j._currentValue=nt,st!==null)if(He$1(st.value,nt)){if(st.children===et.children&&!Wf$1.current){o=Zi$1(s,o,_);break e}}else for(st=o.child,st!==null&&(st.return=o);st!==null;){var ct=st.dependencies;if(ct!==null){nt=st.child;for(var At=ct.firstContext;At!==null;){if(At.context===j){if(st.tag===1){At=mh$1(-1,_&-_),At.tag=2;var mt=st.updateQueue;if(mt!==null){mt=mt.shared;var gt=mt.pending;gt===null?At.next=At:(At.next=gt.next,gt.next=At),mt.pending=At}}st.lanes|=_,At=st.alternate,At!==null&&(At.lanes|=_),bh$1(st.return,_,o),ct.lanes|=_;break}At=At.next}}else if(st.tag===10)nt=st.type===o.type?null:st.child;else if(st.tag===18){if(nt=st.return,nt===null)throw Error(p$3(341));nt.lanes|=_,ct=nt.alternate,ct!==null&&(ct.lanes|=_),bh$1(nt,_,o),nt=st.sibling}else nt=st.child;if(nt!==null)nt.return=st;else for(nt=st;nt!==null;){if(nt===o){nt=null;break}if(st=nt.sibling,st!==null){st.return=nt.return,nt=st;break}nt=nt.return}st=nt}Xi$1(s,o,et.children,_),o=o.child}return o;case 9:return et=o.type,j=o.pendingProps.children,ch$1(o,_),et=eh$1(et),j=j(et),o.flags|=1,Xi$1(s,o,j,_),o.child;case 14:return j=o.type,et=Ci$1(j,o.pendingProps),et=Ci$1(j.type,et),$i$1(s,o,j,et,_);case 15:return bj$1(s,o,o.type,o.pendingProps,_);case 17:return j=o.type,et=o.pendingProps,et=o.elementType===j?et:Ci$1(j,et),ij$1(s,o),o.tag=1,Zf$1(j)?(s=!0,cg$1(o)):s=!1,ch$1(o,_),Gi$1(o,j,et),Ii$1(o,j,et,_),jj$1(null,o,j,!0,s,_);case 19:return xj$1(s,o,_);case 22:return dj$1(s,o,_)}throw Error(p$3(156,o.tag))};function Fk$1(s,o){return ac$1(s,o)}function $k$1(s,o,_,j){this.tag=s,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg$1(s,o,_,j){return new $k$1(s,o,_,j)}function aj$1(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk$1(s){if(typeof s=="function")return aj$1(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da$1)return 11;if(s===Ga$1)return 14}return 2}function Pg$1(s,o){var _=s.alternate;return _===null?(_=Bg$1(s.tag,o,s.key,s.mode),_.elementType=s.elementType,_.type=s.type,_.stateNode=s.stateNode,_.alternate=s,s.alternate=_):(_.pendingProps=o,_.type=s.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=s.flags&14680064,_.childLanes=s.childLanes,_.lanes=s.lanes,_.child=s.child,_.memoizedProps=s.memoizedProps,_.memoizedState=s.memoizedState,_.updateQueue=s.updateQueue,o=s.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},_.sibling=s.sibling,_.index=s.index,_.ref=s.ref,_}function Rg$1(s,o,_,j,et,st){var nt=2;if(j=s,typeof s=="function")aj$1(s)&&(nt=1);else if(typeof s=="string")nt=5;else e:switch(s){case ya$1:return Tg$1(_.children,et,st,o);case za$1:nt=8,et|=8;break;case Aa$1:return s=Bg$1(12,_,o,et|2),s.elementType=Aa$1,s.lanes=st,s;case Ea$1:return s=Bg$1(13,_,o,et),s.elementType=Ea$1,s.lanes=st,s;case Fa$1:return s=Bg$1(19,_,o,et),s.elementType=Fa$1,s.lanes=st,s;case Ia$1:return pj$1(_,et,st,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba$1:nt=10;break e;case Ca$1:nt=9;break e;case Da$1:nt=11;break e;case Ga$1:nt=14;break e;case Ha$1:nt=16,j=null;break e}throw Error(p$3(130,s==null?s:typeof s,""))}return o=Bg$1(nt,_,o,et),o.elementType=s,o.type=j,o.lanes=st,o}function Tg$1(s,o,_,j){return s=Bg$1(7,s,j,o),s.lanes=_,s}function pj$1(s,o,_,j){return s=Bg$1(22,s,j,o),s.elementType=Ia$1,s.lanes=_,s.stateNode={isHidden:!1},s}function Qg$1(s,o,_){return s=Bg$1(6,s,null,o),s.lanes=_,s}function Sg$1(s,o,_){return o=Bg$1(4,s.children!==null?s.children:[],s.key,o),o.lanes=_,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function al$1(s,o,_,j,et){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=j,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl$1(s,o,_,j,et,st,nt,ct,At){return s=new al$1(s,o,_,ct,At),o===1?(o=1,st===!0&&(o|=8)):o=0,st=Bg$1(3,null,null,o),s.current=st,st.stateNode=s,st.memoizedState={element:j,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh$1(st),s}function cl$1(s,o,_){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:j==null?null:""+j,children:s,containerInfo:o,implementation:_}}function dl$1(s){if(!s)return Vf$1;s=s._reactInternals;e:{if(Vb$1(s)!==s||s.tag!==1)throw Error(p$3(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf$1(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$3(171))}if(s.tag===1){var _=s.type;if(Zf$1(_))return bg$1(s,_,o)}return o}function el$1(s,o,_,j,et,st,nt,ct,At){return s=bl$1(_,j,!0,s,et,st,nt,ct,At),s.context=dl$1(null),_=s.current,j=R$1(),et=yi$1(_),st=mh$1(j,et),st.callback=o??null,nh$1(_,st,et),s.current.lanes=et,Ac$1(s,et,j),Dk$1(s,j),s}function fl$1(s,o,_,j){var et=o.current,st=R$1(),nt=yi$1(et);return _=dl$1(_),o.context===null?o.context=_:o.pendingContext=_,o=mh$1(st,nt),o.payload={element:s},j=j===void 0?null:j,j!==null&&(o.callback=j),s=nh$1(et,o,nt),s!==null&&(gi$1(s,et,nt,st),oh$1(s,et,nt)),nt}function gl$1(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl$1(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var _=s.retryLane;s.retryLane=_!==0&&_<o?_:o}}function il$1(s,o){hl$1(s,o),(s=s.alternate)&&hl$1(s,o)}function jl$1(){return null}var kl$1=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll$1(s){this._internalRoot=s}ml$1.prototype.render=ll$1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(p$3(409));fl$1(s,o,null,null)};ml$1.prototype.unmount=ll$1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Rk$1(function(){fl$1(null,s,null,null)}),o[uf$1]=null}};function ml$1(s){this._internalRoot=s}ml$1.prototype.unstable_scheduleHydration=function(s){if(s){var o=Hc();s={blockedOn:null,target:s,priority:o};for(var _=0;_<Qc$1.length&&o!==0&&o<Qc$1[_].priority;_++);Qc$1.splice(_,0,s),_===0&&Vc$1(s)}};function nl$1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol$1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl$1(){}function ql$1(s,o,_,j,et){if(et){if(typeof j=="function"){var st=j;j=function(){var mt=gl$1(nt);st.call(mt)}}var nt=el$1(o,j,s,0,null,!1,!1,"",pl$1);return s._reactRootContainer=nt,s[uf$1]=nt.current,sf$1(s.nodeType===8?s.parentNode:s),Rk$1(),nt}for(;et=s.lastChild;)s.removeChild(et);if(typeof j=="function"){var ct=j;j=function(){var mt=gl$1(At);ct.call(mt)}}var At=bl$1(s,0,!1,null,null,!1,!1,"",pl$1);return s._reactRootContainer=At,s[uf$1]=At.current,sf$1(s.nodeType===8?s.parentNode:s),Rk$1(function(){fl$1(o,At,_,j)}),At}function rl$1(s,o,_,j,et){var st=_._reactRootContainer;if(st){var nt=st;if(typeof et=="function"){var ct=et;et=function(){var At=gl$1(nt);ct.call(At)}}fl$1(o,nt,s,et)}else nt=ql$1(_,o,s,et,j);return gl$1(nt)}Ec$1=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var _=tc$1(o.pendingLanes);_!==0&&(Cc$1(o,_|1),Dk$1(o,B()),!(K&6)&&(Gj$1=B()+500,jg$1()))}break;case 13:Rk$1(function(){var j=ih$1(s,1);if(j!==null){var et=R$1();gi$1(j,s,1,et)}}),il$1(s,1)}};Fc$1=function(s){if(s.tag===13){var o=ih$1(s,134217728);if(o!==null){var _=R$1();gi$1(o,s,134217728,_)}il$1(s,134217728)}};Gc$1=function(s){if(s.tag===13){var o=yi$1(s),_=ih$1(s,o);if(_!==null){var j=R$1();gi$1(_,s,o,j)}il$1(s,o)}};Hc=function(){return C};Ic$1=function(s,o){var _=C;try{return C=s,o()}finally{C=_}};yb$1=function(s,o,_){switch(o){case"input":if(bb$1(s,_),o=_.name,_.type==="radio"&&o!=null){for(_=s;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<_.length;o++){var j=_[o];if(j!==s&&j.form===s.form){var et=Db$1(j);if(!et)throw Error(p$3(90));Wa$1(j),bb$1(j,et)}}}break;case"textarea":ib$1(s,_);break;case"select":o=_.value,o!=null&&fb$1(s,!!_.multiple,o,!1)}};Gb$1=Qk$1;Hb$1=Rk$1;var sl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue$3,Db$1,Eb$1,Fb$1,Qk$1]},tl$1={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul$1={bundleType:tl$1.bundleType,version:tl$1.version,rendererPackageName:tl$1.rendererPackageName,rendererConfig:tl$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl$1.findFiberByHostInstance||jl$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl$1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl$1.isDisabled&&vl$1.supportsFiber)try{kc$1=vl$1.inject(ul$1),lc$1=vl$1}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(s,o){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl$1(o))throw Error(p$3(200));return cl$1(s,o,null,_)};reactDom_production_min.createRoot=function(s,o){if(!nl$1(s))throw Error(p$3(299));var _=!1,j="",et=kl$1;return o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(et=o.onRecoverableError)),o=bl$1(s,1,!1,null,null,_,!1,j,et),s[uf$1]=o.current,sf$1(s.nodeType===8?s.parentNode:s),new ll$1(o)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(p$3(188)):(s=Object.keys(s).join(","),Error(p$3(268,s)));return s=Zb(o),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk$1(s)};reactDom_production_min.hydrate=function(s,o,_){if(!ol$1(o))throw Error(p$3(200));return rl$1(null,s,o,!0,_)};reactDom_production_min.hydrateRoot=function(s,o,_){if(!nl$1(s))throw Error(p$3(405));var j=_!=null&&_.hydratedSources||null,et=!1,st="",nt=kl$1;if(_!=null&&(_.unstable_strictMode===!0&&(et=!0),_.identifierPrefix!==void 0&&(st=_.identifierPrefix),_.onRecoverableError!==void 0&&(nt=_.onRecoverableError)),o=el$1(o,null,s,1,_??null,et,!1,st,nt),s[uf$1]=o.current,sf$1(s),j)for(s=0;s<j.length;s++)_=j[s],et=_._getVersion,et=et(_._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[_,et]:o.mutableSourceEagerHydrationData.push(_,et);return new ml$1(o)};reactDom_production_min.render=function(s,o,_){if(!ol$1(o))throw Error(p$3(200));return rl$1(null,s,o,!1,_)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol$1(s))throw Error(p$3(40));return s._reactRootContainer?(Rk$1(function(){rl$1(null,null,s,!1,function(){s._reactRootContainer=null,s[uf$1]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk$1;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,o,_,j){if(!ol$1(_))throw Error(p$3(200));if(s==null||s._reactInternals===void 0)throw Error(p$3(38));return rl$1(s,o,_,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(s[j]=_[j])}return s},_extends$4.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function o(j,et){let{pathname:st,search:nt,hash:ct}=j.location;return createLocation("",{pathname:st,search:nt,hash:ct},et.state&&et.state.usr||null,et.state&&et.state.key||"default")}function _(j,et){return typeof et=="string"?et:createPath(et)}return getUrlBasedHistory(o,_,null,s)}function invariant(s,o){if(s===!1||s===null||typeof s>"u")throw new Error(o)}function warning(s,o){if(!s){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,o){return{usr:s.state,key:s.key,idx:o}}function createLocation(s,o,_,j){return _===void 0&&(_=null),_extends$4({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:_,key:o&&o.key||j||createKey()})}function createPath(s){let{pathname:o="/",search:_="",hash:j=""}=s;return _&&_!=="?"&&(o+=_.charAt(0)==="?"?_:"?"+_),j&&j!=="#"&&(o+=j.charAt(0)==="#"?j:"#"+j),o}function parsePath(s){let o={};if(s){let _=s.indexOf("#");_>=0&&(o.hash=s.substr(_),s=s.substr(0,_));let j=s.indexOf("?");j>=0&&(o.search=s.substr(j),s=s.substr(0,j)),s&&(o.pathname=s)}return o}function getUrlBasedHistory(s,o,_,j){j===void 0&&(j={});let{window:et=document.defaultView,v5Compat:st=!1}=j,nt=et.history,ct=Action.Pop,At=null,mt=gt();mt==null&&(mt=0,nt.replaceState(_extends$4({},nt.state,{idx:mt}),""));function gt(){return(nt.state||{idx:null}).idx}function _t(){ct=Action.Pop;let Ft=gt(),Rt=Ft==null?null:Ft-mt;mt=Ft,At&&At({action:ct,location:Dt.location,delta:Rt})}function Et(Ft,Rt){ct=Action.Push;let Nt=createLocation(Dt.location,Ft,Rt);mt=gt()+1;let Gt=getHistoryState(Nt,mt),dr=Dt.createHref(Nt);try{nt.pushState(Gt,"",dr)}catch(ts){if(ts instanceof DOMException&&ts.name==="DataCloneError")throw ts;et.location.assign(dr)}st&&At&&At({action:ct,location:Dt.location,delta:1})}function Ct(Ft,Rt){ct=Action.Replace;let Nt=createLocation(Dt.location,Ft,Rt);mt=gt();let Gt=getHistoryState(Nt,mt),dr=Dt.createHref(Nt);nt.replaceState(Gt,"",dr),st&&At&&At({action:ct,location:Dt.location,delta:0})}function Bt(Ft){let Rt=et.location.origin!=="null"?et.location.origin:et.location.href,Nt=typeof Ft=="string"?Ft:createPath(Ft);return Nt=Nt.replace(/ $/,"%20"),invariant(Rt,"No window.location.(origin|href) available to create URL for href: "+Nt),new URL(Nt,Rt)}let Dt={get action(){return ct},get location(){return s(et,nt)},listen(Ft){if(At)throw new Error("A history only accepts one active listener");return et.addEventListener(PopStateEventType,_t),At=Ft,()=>{et.removeEventListener(PopStateEventType,_t),At=null}},createHref(Ft){return o(et,Ft)},createURL:Bt,encodeLocation(Ft){let Rt=Bt(Ft);return{pathname:Rt.pathname,search:Rt.search,hash:Rt.hash}},push:Et,replace:Ct,go(Ft){return nt.go(Ft)}};return Dt}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,o,_){return _===void 0&&(_="/"),matchRoutesImpl(s,o,_,!1)}function matchRoutesImpl(s,o,_,j){let et=typeof o=="string"?parsePath(o):o,st=stripBasename(et.pathname||"/",_);if(st==null)return null;let nt=flattenRoutes(s);rankRouteBranches(nt);let ct=null;for(let At=0;ct==null&&At<nt.length;++At){let mt=decodePath(st);ct=matchRouteBranch(nt[At],mt,j)}return ct}function flattenRoutes(s,o,_,j){o===void 0&&(o=[]),_===void 0&&(_=[]),j===void 0&&(j="");let et=(st,nt,ct)=>{let At={relativePath:ct===void 0?st.path||"":ct,caseSensitive:st.caseSensitive===!0,childrenIndex:nt,route:st};At.relativePath.startsWith("/")&&(invariant(At.relativePath.startsWith(j),'Absolute route path "'+At.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),At.relativePath=At.relativePath.slice(j.length));let mt=joinPaths([j,At.relativePath]),gt=_.concat(At);st.children&&st.children.length>0&&(invariant(st.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+mt+'".')),flattenRoutes(st.children,o,gt,mt)),!(st.path==null&&!st.index)&&o.push({path:mt,score:computeScore(mt,st.index),routesMeta:gt})};return s.forEach((st,nt)=>{var ct;if(st.path===""||!((ct=st.path)!=null&&ct.includes("?")))et(st,nt);else for(let At of explodeOptionalSegments(st.path))et(st,nt,At)}),o}function explodeOptionalSegments(s){let o=s.split("/");if(o.length===0)return[];let[_,...j]=o,et=_.endsWith("?"),st=_.replace(/\?$/,"");if(j.length===0)return et?[st,""]:[st];let nt=explodeOptionalSegments(j.join("/")),ct=[];return ct.push(...nt.map(At=>At===""?st:[st,At].join("/"))),et&&ct.push(...nt),ct.map(At=>s.startsWith("/")&&At===""?"/":At)}function rankRouteBranches(s){s.sort((o,_)=>o.score!==_.score?_.score-o.score:compareIndexes(o.routesMeta.map(j=>j.childrenIndex),_.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,o){let _=s.split("/"),j=_.length;return _.some(isSplat)&&(j+=splatPenalty),o&&(j+=indexRouteValue),_.filter(et=>!isSplat(et)).reduce((et,st)=>et+(paramRe.test(st)?dynamicSegmentValue:st===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes(s,o){return s.length===o.length&&s.slice(0,-1).every((j,et)=>j===o[et])?s[s.length-1]-o[o.length-1]:0}function matchRouteBranch(s,o,_){let{routesMeta:j}=s,et={},st="/",nt=[];for(let ct=0;ct<j.length;++ct){let At=j[ct],mt=ct===j.length-1,gt=st==="/"?o:o.slice(st.length)||"/",_t=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:mt},gt),Et=At.route;if(!_t&&mt&&_&&!j[j.length-1].route.index&&(_t=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:!1},gt)),!_t)return null;Object.assign(et,_t.params),nt.push({params:et,pathname:joinPaths([st,_t.pathname]),pathnameBase:normalizePathname(joinPaths([st,_t.pathnameBase])),route:Et}),_t.pathnameBase!=="/"&&(st=joinPaths([st,_t.pathnameBase]))}return nt}function matchPath(s,o){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[_,j]=compilePath(s.path,s.caseSensitive,s.end),et=o.match(_);if(!et)return null;let st=et[0],nt=st.replace(/(.)\/+$/,"$1"),ct=et.slice(1);return{params:j.reduce((mt,gt,_t)=>{let{paramName:Et,isOptional:Ct}=gt;if(Et==="*"){let Dt=ct[_t]||"";nt=st.slice(0,st.length-Dt.length).replace(/(.)\/+$/,"$1")}const Bt=ct[_t];return Ct&&!Bt?mt[Et]=void 0:mt[Et]=(Bt||"").replace(/%2F/g,"/"),mt},{}),pathname:st,pathnameBase:nt,pattern:s}}function compilePath(s,o,_){o===void 0&&(o=!1),_===void 0&&(_=!0),warning(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let j=[],et="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(nt,ct,At)=>(j.push({paramName:ct,isOptional:At!=null}),At?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(j.push({paramName:"*"}),et+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_?et+="\\/*$":s!==""&&s!=="/"&&(et+="(?:(?=\\/|$))"),[new RegExp(et,o?void 0:"i"),j]}function decodePath(s){try{return s.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),s}}function stripBasename(s,o){if(o==="/")return s;if(!s.toLowerCase().startsWith(o.toLowerCase()))return null;let _=o.endsWith("/")?o.length-1:o.length,j=s.charAt(_);return j&&j!=="/"?null:s.slice(_)||"/"}function resolvePath(s,o){o===void 0&&(o="/");let{pathname:_,search:j="",hash:et=""}=typeof s=="string"?parsePath(s):s;return{pathname:_?_.startsWith("/")?_:resolvePathname(_,o):o,search:normalizeSearch(j),hash:normalizeHash(et)}}function resolvePathname(s,o){let _=o.replace(/\/+$/,"").split("/");return s.split("/").forEach(et=>{et===".."?_.length>1&&_.pop():et!=="."&&_.push(et)}),_.length>1?_.join("/"):"/"}function getInvalidPathError(s,o,_,j){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+_+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((o,_)=>_===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(s,o){let _=getPathContributingMatches(s);return o?_.map((j,et)=>et===_.length-1?j.pathname:j.pathnameBase):_.map(j=>j.pathnameBase)}function resolveTo(s,o,_,j){j===void 0&&(j=!1);let et;typeof s=="string"?et=parsePath(s):(et=_extends$4({},s),invariant(!et.pathname||!et.pathname.includes("?"),getInvalidPathError("?","pathname","search",et)),invariant(!et.pathname||!et.pathname.includes("#"),getInvalidPathError("#","pathname","hash",et)),invariant(!et.search||!et.search.includes("#"),getInvalidPathError("#","search","hash",et)));let st=s===""||et.pathname==="",nt=st?"/":et.pathname,ct;if(nt==null)ct=_;else{let _t=o.length-1;if(!j&&nt.startsWith("..")){let Et=nt.split("/");for(;Et[0]==="..";)Et.shift(),_t-=1;et.pathname=Et.join("/")}ct=_t>=0?o[_t]:"/"}let At=resolvePath(et,ct),mt=nt&&nt!=="/"&&nt.endsWith("/"),gt=(st||nt===".")&&_.endsWith("/");return!At.pathname.endsWith("/")&&(mt||gt)&&(At.pathname+="/"),At}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(s[j]=_[j])}return s},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,o){let{relative:_}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:j,navigator:et}=reactExports.useContext(NavigationContext),{hash:st,pathname:nt,search:ct}=useResolvedPath(s,{relative:_}),At=nt;return j!=="/"&&(At=nt==="/"?j:joinPaths([j,nt])),et.createHref({pathname:At,search:ct,hash:st})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let s=reactExports.useContext(DataRouterContext),{basename:o,future:_,navigator:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),nt=JSON.stringify(getResolveToMatches(et,_.v7_relativeSplatPath)),ct=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ct.current=!0}),reactExports.useCallback(function(mt,gt){if(gt===void 0&&(gt={}),!ct.current)return;if(typeof mt=="number"){j.go(mt);return}let _t=resolveTo(mt,JSON.parse(nt),st,gt.relative==="path");s==null&&o!=="/"&&(_t.pathname=_t.pathname==="/"?o:joinPaths([o,_t.pathname])),(gt.replace?j.replace:j.push)(_t,gt.state,gt)},[o,j,nt,st,s])}function useParams(){let{matches:s}=reactExports.useContext(RouteContext),o=s[s.length-1];return o?o.params:{}}function useResolvedPath(s,o){let{relative:_}=o===void 0?{}:o,{future:j}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),nt=JSON.stringify(getResolveToMatches(et,j.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(nt),st,_==="path"),[s,nt,st,_])}function useRoutes(s,o){return useRoutesImpl(s,o)}function useRoutesImpl(s,o,_,j){useInRouterContext()||invariant(!1);let{navigator:et}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),nt=st[st.length-1],ct=nt?nt.params:{};nt&&nt.pathname;let At=nt?nt.pathnameBase:"/";nt&&nt.route;let mt=useLocation(),gt;if(o){var _t;let Ft=typeof o=="string"?parsePath(o):o;At==="/"||(_t=Ft.pathname)!=null&&_t.startsWith(At)||invariant(!1),gt=Ft}else gt=mt;let Et=gt.pathname||"/",Ct=Et;if(At!=="/"){let Ft=At.replace(/^\//,"").split("/");Ct="/"+Et.replace(/^\//,"").split("/").slice(Ft.length).join("/")}let Bt=matchRoutes(s,{pathname:Ct}),Dt=_renderMatches(Bt&&Bt.map(Ft=>Object.assign({},Ft,{params:Object.assign({},ct,Ft.params),pathname:joinPaths([At,et.encodeLocation?et.encodeLocation(Ft.pathname).pathname:Ft.pathname]),pathnameBase:Ft.pathnameBase==="/"?At:joinPaths([At,et.encodeLocation?et.encodeLocation(Ft.pathnameBase).pathname:Ft.pathnameBase])})),st,_,j);return o&&Dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},gt),navigationType:Action.Pop}},Dt):Dt}function DefaultErrorComponent(){let s=useRouteError(),o=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),_=s instanceof Error?s.stack:null,et={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),_?reactExports.createElement("pre",{style:et},_):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,_){return _.location!==o.location||_.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:_.error,location:_.location,revalidation:o.revalidation||_.revalidation}}componentDidCatch(o,_){console.error("React Router caught the following error during render",o,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:o,match:_,children:j}=s,et=reactExports.useContext(DataRouterContext);return et&&et.static&&et.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(et.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:o},j)}function _renderMatches(s,o,_,j){var et;if(o===void 0&&(o=[]),_===void 0&&(_=null),j===void 0&&(j=null),s==null){var st;if(!_)return null;if(_.errors)s=_.matches;else if((st=j)!=null&&st.v7_partialHydration&&o.length===0&&!_.initialized&&_.matches.length>0)s=_.matches;else return null}let nt=s,ct=(et=_)==null?void 0:et.errors;if(ct!=null){let gt=nt.findIndex(_t=>_t.route.id&&(ct==null?void 0:ct[_t.route.id])!==void 0);gt>=0||invariant(!1),nt=nt.slice(0,Math.min(nt.length,gt+1))}let At=!1,mt=-1;if(_&&j&&j.v7_partialHydration)for(let gt=0;gt<nt.length;gt++){let _t=nt[gt];if((_t.route.HydrateFallback||_t.route.hydrateFallbackElement)&&(mt=gt),_t.route.id){let{loaderData:Et,errors:Ct}=_,Bt=_t.route.loader&&Et[_t.route.id]===void 0&&(!Ct||Ct[_t.route.id]===void 0);if(_t.route.lazy||Bt){At=!0,mt>=0?nt=nt.slice(0,mt+1):nt=[nt[0]];break}}}return nt.reduceRight((gt,_t,Et)=>{let Ct,Bt=!1,Dt=null,Ft=null;_&&(Ct=ct&&_t.route.id?ct[_t.route.id]:void 0,Dt=_t.route.errorElement||defaultErrorElement,At&&(mt<0&&Et===0?(Bt=!0,Ft=null):mt===Et&&(Bt=!0,Ft=_t.route.hydrateFallbackElement||null)));let Rt=o.concat(nt.slice(0,Et+1)),Nt=()=>{let Gt;return Ct?Gt=Dt:Bt?Gt=Ft:_t.route.Component?Gt=reactExports.createElement(_t.route.Component,null):_t.route.element?Gt=_t.route.element:Gt=gt,reactExports.createElement(RenderedRoute,{match:_t,routeContext:{outlet:gt,matches:Rt,isDataRoute:_!=null},children:Gt})};return _&&(_t.route.ErrorBoundary||_t.route.errorElement||Et===0)?reactExports.createElement(RenderErrorBoundary,{location:_.location,revalidation:_.revalidation,component:Dt,error:Ct,children:Nt(),routeContext:{outlet:null,matches:Rt,isDataRoute:!0}}):Nt()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext(s){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(s){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(s){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(s){let o=useRouteContext(),_=o.matches[o.matches.length-1];return _.route.id||invariant(!1),_.route.id}function useRouteError(){var s;let o=reactExports.useContext(RouteErrorContext),_=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o!==void 0?o:(s=_.errors)==null?void 0:s[j]}function useNavigateStable(){let{router:s}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{_.current=!0}),reactExports.useCallback(function(et,st){st===void 0&&(st={}),_.current&&(typeof et=="number"?s.navigate(et):s.navigate(et,_extends$3({fromRouteId:o},st)))},[s,o])}function Route(s){invariant(!1)}function Router(s){let{basename:o="/",children:_=null,location:j,navigationType:et=Action.Pop,navigator:st,static:nt=!1,future:ct}=s;useInRouterContext()&&invariant(!1);let At=o.replace(/^\/*/,"/"),mt=reactExports.useMemo(()=>({basename:At,navigator:st,static:nt,future:_extends$3({v7_relativeSplatPath:!1},ct)}),[At,ct,st,nt]);typeof j=="string"&&(j=parsePath(j));let{pathname:gt="/",search:_t="",hash:Et="",state:Ct=null,key:Bt="default"}=j,Dt=reactExports.useMemo(()=>{let Ft=stripBasename(gt,At);return Ft==null?null:{location:{pathname:Ft,search:_t,hash:Et,state:Ct,key:Bt},navigationType:et}},[At,gt,_t,Et,Ct,Bt,et]);return Dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:mt},reactExports.createElement(LocationContext.Provider,{children:_,value:Dt}))}function Routes(s){let{children:o,location:_}=s;return useRoutes(createRoutesFromChildren(o),_)}new Promise(()=>{});function createRoutesFromChildren(s,o){o===void 0&&(o=[]);let _=[];return reactExports.Children.forEach(s,(j,et)=>{if(!reactExports.isValidElement(j))return;let st=[...o,et];if(j.type===reactExports.Fragment){_.push.apply(_,createRoutesFromChildren(j.props.children,st));return}j.type!==Route&&invariant(!1),!j.props.index||!j.props.children||invariant(!1);let nt={id:j.props.id||st.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(nt.children=createRoutesFromChildren(j.props.children,st)),_.push(nt)}),_}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(s[j]=_[j])}return s},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$3(s,o){if(s==null)return{};var _={},j=Object.keys(s),et,st;for(st=0;st<j.length;st++)et=j[st],!(o.indexOf(et)>=0)&&(_[et]=s[et]);return _}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,o){return s.button===0&&(!o||o==="_self")&&!isModifiedEvent(s)}const _excluded$b=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=ReactOriginal[START_TRANSITION];function BrowserRouter(s){let{basename:o,children:_,future:j,window:et}=s,st=reactExports.useRef();st.current==null&&(st.current=createBrowserHistory({window:et,v5Compat:!0}));let nt=st.current,[ct,At]=reactExports.useState({action:nt.action,location:nt.location}),{v7_startTransition:mt}=j||{},gt=reactExports.useCallback(_t=>{mt&&startTransitionImpl?startTransitionImpl(()=>At(_t)):At(_t)},[At,mt]);return reactExports.useLayoutEffect(()=>nt.listen(gt),[nt,gt]),reactExports.createElement(Router,{basename:o,children:_,location:ct.location,navigationType:ct.action,navigator:nt,future:j})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,_){let{onClick:j,relative:et,reloadDocument:st,replace:nt,state:ct,target:At,to:mt,preventScrollReset:gt,viewTransition:_t}=o,Et=_objectWithoutPropertiesLoose$3(o,_excluded$b),{basename:Ct}=reactExports.useContext(NavigationContext),Bt,Dt=!1;if(typeof mt=="string"&&ABSOLUTE_URL_REGEX.test(mt)&&(Bt=mt,isBrowser$1))try{let Gt=new URL(window.location.href),dr=mt.startsWith("//")?new URL(Gt.protocol+mt):new URL(mt),ts=stripBasename(dr.pathname,Ct);dr.origin===Gt.origin&&ts!=null?mt=ts+dr.search+dr.hash:Dt=!0}catch{}let Ft=useHref(mt,{relative:et}),Rt=useLinkClickHandler(mt,{replace:nt,state:ct,target:At,preventScrollReset:gt,relative:et,viewTransition:_t});function Nt(Gt){j&&j(Gt),Gt.defaultPrevented||Rt(Gt)}return reactExports.createElement("a",_extends$2({},Et,{href:Bt||Ft,onClick:Dt||st?j:Nt,ref:_,target:At}))});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(s,o){let{target:_,replace:j,state:et,preventScrollReset:st,relative:nt,viewTransition:ct}=o===void 0?{}:o,At=useNavigate(),mt=useLocation(),gt=useResolvedPath(s,{relative:nt});return reactExports.useCallback(_t=>{if(shouldProcessLinkClick(_t,_)){_t.preventDefault();let Et=j!==void 0?j:createPath(mt)===createPath(gt);At(s,{replace:Et,state:et,preventScrollReset:st,relative:nt,viewTransition:ct})}},[mt,At,gt,j,et,_,s,st,nt,ct])}const scriptRel="modulepreload",assetsURL=function(s){return"/"+s},seen={},__vitePreload=function(o,_,j){let et=Promise.resolve();if(_&&_.length>0){document.getElementsByTagName("link");const nt=document.querySelector("meta[property=csp-nonce]"),ct=(nt==null?void 0:nt.nonce)||(nt==null?void 0:nt.getAttribute("nonce"));et=Promise.allSettled(_.map(At=>{if(At=assetsURL(At),At in seen)return;seen[At]=!0;const mt=At.endsWith(".css"),gt=mt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${At}"]${gt}`))return;const _t=document.createElement("link");if(_t.rel=mt?"stylesheet":scriptRel,mt||(_t.as="script"),_t.crossOrigin="",_t.href=At,ct&&_t.setAttribute("nonce",ct),document.head.appendChild(_t),mt)return new Promise((Et,Ct)=>{_t.addEventListener("load",Et),_t.addEventListener("error",()=>Ct(new Error(`Unable to preload CSS for ${At}`)))})}))}function st(nt){const ct=new Event("vite:preloadError",{cancelable:!0});if(ct.payload=nt,window.dispatchEvent(ct),!ct.defaultPrevented)throw nt}return et.then(nt=>{for(const ct of nt||[])ct.status==="rejected"&&st(ct.reason);return o().catch(st)})};var tF=Object.create,vg=Object.defineProperty,rF=Object.getOwnPropertyDescriptor,iF=Object.getOwnPropertyNames,nF=Object.getPrototypeOf,sF=Object.prototype.hasOwnProperty,oF=(s,o,_)=>o in s?vg(s,o,{enumerable:!0,configurable:!0,writable:!0,value:_}):s[o]=_,Zo=(s,o)=>()=>(o||s((o={exports:{}}).exports,o),o.exports),aF=(s,o)=>{for(var _ in o)vg(s,_,{get:o[_],enumerable:!0})},lF=(s,o,_,j)=>{if(o&&typeof o=="object"||typeof o=="function")for(let et of iF(o))!sF.call(s,et)&&et!==_&&vg(s,et,{get:()=>o[et],enumerable:!(j=rF(o,et))||j.enumerable});return s},Jo=(s,o,_)=>(_=s!=null?tF(nF(s)):{},lF(o||!s||!s.__esModule?vg(_,"default",{value:s,enumerable:!0}):_,s)),nc=(s,o,_)=>(oF(s,typeof o!="symbol"?o+"":o,_),_),FI=Zo((s,o)=>{(function(_,j){typeof s=="object"?o.exports=j():typeof define=="function"&&define.amd?define(j):_.Alea=j()})(s,function(){return _.importState=function(et){var st=new _;return st.importState(et),st},_;function _(){return function(et){var st=0,nt=0,ct=0,At=1;et.length==0&&(et=[+new Date]);var mt=j();st=mt(" "),nt=mt(" "),ct=mt(" ");for(var gt=0;gt<et.length;gt++)st-=mt(et[gt]),st<0&&(st+=1),nt-=mt(et[gt]),nt<0&&(nt+=1),ct-=mt(et[gt]),ct<0&&(ct+=1);mt=null;var _t=function(){var Et=2091639*st+At*23283064365386963e-26;return st=nt,nt=ct,ct=Et-(At=Et|0)};return _t.next=_t,_t.uint32=function(){return _t()*4294967296},_t.fract53=function(){return _t()+(_t()*2097152|0)*11102230246251565e-32},_t.version="Alea 0.9",_t.args=et,_t.exportState=function(){return[st,nt,ct,At]},_t.importState=function(Et){st=+Et[0]||0,nt=+Et[1]||0,ct=+Et[2]||0,At=+Et[3]||0},_t}(Array.prototype.slice.call(arguments))}function j(){var et=4022871197,st=function(nt){nt=nt.toString();for(var ct=0;ct<nt.length;ct++){et+=nt.charCodeAt(ct);var At=.02519603282416938*et;et=At>>>0,At-=et,At*=et,et=At>>>0,At-=et,et+=At*4294967296}return(et>>>0)*23283064365386963e-26};return st.version="Mash 0.9",st}})}),iA=Zo((s,o)=>{(function(_,j){typeof s=="object"&&typeof o<"u"?j(s):typeof define=="function"&&define.amd?define(["exports"],j):j((_=typeof globalThis<"u"?globalThis:_||self).SVDJS={})})(s,function(_){_.SVD=function(j,et,st,nt,ct){if(et=et===void 0||et,st=st===void 0||st,ct=1e-64/(nt=nt||Math.pow(2,-52)),!j)throw new TypeError("Matrix a is not defined");var At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr=j[0].length,ts=j.length;if(ts<dr)throw new TypeError("Invalid matrix: m < n");for(var es=[],ds=[],tn=[],rn=et==="f"?ts:dr,un=Rt=Bt=0;un<ts;un++)ds[un]=new Array(rn).fill(0);for(un=0;un<dr;un++)tn[un]=new Array(dr).fill(0);var $n,kn=new Array(dr).fill(0);for(un=0;un<ts;un++)for(At=0;At<dr;At++)ds[un][At]=j[un][At];for(un=0;un<dr;un++){for(es[un]=Bt,Ft=0,gt=un+1,At=un;At<ts;At++)Ft+=Math.pow(ds[At][un],2);if(Ft<ct)Bt=0;else for(Dt=(Ct=ds[un][un])*(Bt=Ct<0?Math.sqrt(Ft):-Math.sqrt(Ft))-Ft,ds[un][un]=Ct-Bt,At=gt;At<dr;At++){for(Ft=0,mt=un;mt<ts;mt++)Ft+=ds[mt][un]*ds[mt][At];for(Ct=Ft/Dt,mt=un;mt<ts;mt++)ds[mt][At]=ds[mt][At]+Ct*ds[mt][un]}for(kn[un]=Bt,Ft=0,At=gt;At<dr;At++)Ft+=Math.pow(ds[un][At],2);if(Ft<ct)Bt=0;else{for(Dt=(Ct=ds[un][un+1])*(Bt=Ct<0?Math.sqrt(Ft):-Math.sqrt(Ft))-Ft,ds[un][un+1]=Ct-Bt,At=gt;At<dr;At++)es[At]=ds[un][At]/Dt;for(At=gt;At<ts;At++){for(Ft=0,mt=gt;mt<dr;mt++)Ft+=ds[At][mt]*ds[un][mt];for(mt=gt;mt<dr;mt++)ds[At][mt]=ds[At][mt]+Ft*es[mt]}}Rt<(Nt=Math.abs(kn[un])+Math.abs(es[un]))&&(Rt=Nt)}if(st)for(un=dr-1;0<=un;un--){if(Bt!==0){for(Dt=ds[un][un+1]*Bt,At=gt;At<dr;At++)tn[At][un]=ds[un][At]/Dt;for(At=gt;At<dr;At++){for(Ft=0,mt=gt;mt<dr;mt++)Ft+=ds[un][mt]*tn[mt][At];for(mt=gt;mt<dr;mt++)tn[mt][At]=tn[mt][At]+Ft*tn[mt][un]}}for(At=gt;At<dr;At++)tn[un][At]=0,tn[At][un]=0;tn[un][un]=1,Bt=es[un],gt=un}if(et){if(et==="f")for(un=dr;un<ts;un++){for(At=dr;At<ts;At++)ds[un][At]=0;ds[un][un]=1}for(un=dr-1;0<=un;un--){for(gt=un+1,Bt=kn[un],At=gt;At<rn;At++)ds[un][At]=0;if(Bt!==0){for(Dt=ds[un][un]*Bt,At=gt;At<rn;At++){for(Ft=0,mt=gt;mt<ts;mt++)Ft+=ds[mt][un]*ds[mt][At];for(Ct=Ft/Dt,mt=un;mt<ts;mt++)ds[mt][At]=ds[mt][At]+Ct*ds[mt][un]}for(At=un;At<ts;At++)ds[At][un]=ds[At][un]/Bt}else for(At=un;At<ts;At++)ds[At][un]=0;ds[un][un]=ds[un][un]+1}}for(nt*=Rt,mt=dr-1;0<=mt;mt--)for(var lo=0;lo<50;lo++){for($n=!1,gt=mt;0<=gt;gt--){if(Math.abs(es[gt])<=nt){$n=!0;break}if(Math.abs(kn[gt-1])<=nt)break}if(!$n){for(Et=0,_t=gt-(Ft=1),un=gt;un<mt+1&&(Ct=Ft*es[un],es[un]=Et*es[un],!(Math.abs(Ct)<=nt));un++)if(Bt=kn[un],kn[un]=Math.sqrt(Ct*Ct+Bt*Bt),Et=Bt/(Dt=kn[un]),Ft=-Ct/Dt,et)for(At=0;At<ts;At++)Nt=ds[At][_t],Gt=ds[At][un],ds[At][_t]=Nt*Et+Gt*Ft,ds[At][un]=-Nt*Ft+Gt*Et}if(Gt=kn[mt],gt===mt){if(Gt<0&&(kn[mt]=-Gt,st))for(At=0;At<dr;At++)tn[At][mt]=-tn[At][mt];break}for(Rt=kn[gt],Ct=(((Nt=kn[mt-1])-Gt)*(Nt+Gt)+((Bt=es[mt-1])-(Dt=es[mt]))*(Bt+Dt))/(2*Dt*Nt),Bt=Math.sqrt(Ct*Ct+1),Ct=((Rt-Gt)*(Rt+Gt)+Dt*(Nt/(Ct<0?Ct-Bt:Ct+Bt)-Dt))/Rt,un=gt+(Ft=Et=1);un<mt+1;un++){if(Bt=es[un],Nt=kn[un],Dt=Ft*Bt,Bt*=Et,Gt=Math.sqrt(Ct*Ct+Dt*Dt),Ct=Rt*(Et=Ct/(es[un-1]=Gt))+Bt*(Ft=Dt/Gt),Bt=-Rt*Ft+Bt*Et,Dt=Nt*Ft,Nt*=Et,st)for(At=0;At<dr;At++)Rt=tn[At][un-1],Gt=tn[At][un],tn[At][un-1]=Rt*Et+Gt*Ft,tn[At][un]=-Rt*Ft+Gt*Et;if(Gt=Math.sqrt(Ct*Ct+Dt*Dt),Ct=(Et=Ct/(kn[un-1]=Gt))*Bt+(Ft=Dt/Gt)*Nt,Rt=-Ft*Bt+Et*Nt,et)for(At=0;At<ts;At++)Nt=ds[At][un-1],Gt=ds[At][un],ds[At][un-1]=Nt*Et+Gt*Ft,ds[At][un]=-Nt*Ft+Gt*Et}es[gt]=0,es[mt]=Ct,kn[mt]=Rt}for(un=0;un<dr;un++)kn[un]<nt&&(kn[un]=0);return{u:ds,q:kn,v:tn}},_.VERSION="1.1.1",Object.defineProperty(_,"__esModule",{value:!0})})}),pO=Zo((s,o)=>{(function(_,j){typeof s=="object"&&typeof o<"u"?o.exports=j():typeof define=="function"&&define.amd?define(j):(_=_||self,_.TinyQueue=j())})(s,function(){var _=function(et,st){if(et===void 0&&(et=[]),st===void 0&&(st=j),this.data=et,this.length=this.data.length,this.compare=st,this.length>0)for(var nt=(this.length>>1)-1;nt>=0;nt--)this._down(nt)};_.prototype.push=function(et){this.data.push(et),this.length++,this._up(this.length-1)},_.prototype.pop=function(){if(this.length!==0){var et=this.data[0],st=this.data.pop();return this.length--,this.length>0&&(this.data[0]=st,this._down(0)),et}},_.prototype.peek=function(){return this.data[0]},_.prototype._up=function(et){for(var st=this,nt=st.data,ct=st.compare,At=nt[et];et>0;){var mt=et-1>>1,gt=nt[mt];if(ct(At,gt)>=0)break;nt[et]=gt,et=mt}nt[et]=At},_.prototype._down=function(et){for(var st=this,nt=st.data,ct=st.compare,At=this.length>>1,mt=nt[et];et<At;){var gt=(et<<1)+1,_t=nt[gt],Et=gt+1;if(Et<this.length&&ct(nt[Et],_t)<0&&(gt=Et,_t=nt[Et]),ct(_t,mt)>=0)break;nt[et]=_t,et=gt}nt[et]=mt};function j(et,st){return et<st?-1:et>st?1:0}return _})}),gO=Zo((s,o)=>{var _=pO();_.default&&(_=_.default),o.exports=j,o.exports.default=j;function j(mt,gt,_t){gt=gt||1;for(var Et,Ct,Bt,Dt,Ft=0;Ft<mt[0].length;Ft++){var Rt=mt[0][Ft];(!Ft||Rt[0]<Et)&&(Et=Rt[0]),(!Ft||Rt[1]<Ct)&&(Ct=Rt[1]),(!Ft||Rt[0]>Bt)&&(Bt=Rt[0]),(!Ft||Rt[1]>Dt)&&(Dt=Rt[1])}var Nt=Bt-Et,Gt=Dt-Ct,dr=Math.min(Nt,Gt),ts=dr/2;if(dr===0){var es=[Et,Ct];return es.distance=0,es}for(var ds=new _(void 0,et),tn=Et;tn<Bt;tn+=dr)for(var rn=Ct;rn<Dt;rn+=dr)ds.push(new st(tn+ts,rn+ts,ts,mt));var un=ct(mt),$n=new st(Et+Nt/2,Ct+Gt/2,0,mt);$n.d>un.d&&(un=$n);for(var kn=ds.length;ds.length;){var lo=ds.pop();lo.d>un.d&&(un=lo,_t&&console.log("found best %d after %d probes",Math.round(1e4*lo.d)/1e4,kn)),!(lo.max-un.d<=gt)&&(ts=lo.h/2,ds.push(new st(lo.x-ts,lo.y-ts,ts,mt)),ds.push(new st(lo.x+ts,lo.y-ts,ts,mt)),ds.push(new st(lo.x-ts,lo.y+ts,ts,mt)),ds.push(new st(lo.x+ts,lo.y+ts,ts,mt)),kn+=4)}_t&&(console.log("num probes: "+kn),console.log("best distance: "+un.d));var Il=[un.x,un.y];return Il.distance=un.d,Il}function et(mt,gt){return gt.max-mt.max}function st(mt,gt,_t,Et){this.x=mt,this.y=gt,this.h=_t,this.d=nt(mt,gt,Et),this.max=this.d+this.h*Math.SQRT2}function nt(mt,gt,_t){for(var Et=!1,Ct=1/0,Bt=0;Bt<_t.length;Bt++)for(var Dt=_t[Bt],Ft=0,Rt=Dt.length,Nt=Rt-1;Ft<Rt;Nt=Ft++){var Gt=Dt[Ft],dr=Dt[Nt];Gt[1]>gt!=dr[1]>gt&&mt<(dr[0]-Gt[0])*(gt-Gt[1])/(dr[1]-Gt[1])+Gt[0]&&(Et=!Et),Ct=Math.min(Ct,At(mt,gt,Gt,dr))}return Ct===0?0:(Et?1:-1)*Math.sqrt(Ct)}function ct(mt){for(var gt=0,_t=0,Et=0,Ct=mt[0],Bt=0,Dt=Ct.length,Ft=Dt-1;Bt<Dt;Ft=Bt++){var Rt=Ct[Bt],Nt=Ct[Ft],Gt=Rt[0]*Nt[1]-Nt[0]*Rt[1];_t+=(Rt[0]+Nt[0])*Gt,Et+=(Rt[1]+Nt[1])*Gt,gt+=Gt*3}return gt===0?new st(Ct[0][0],Ct[0][1],0,mt):new st(_t/gt,Et/gt,0,mt)}function At(mt,gt,_t,Et){var Ct=_t[0],Bt=_t[1],Dt=Et[0]-Ct,Ft=Et[1]-Bt;if(Dt!==0||Ft!==0){var Rt=((mt-Ct)*Dt+(gt-Bt)*Ft)/(Dt*Dt+Ft*Ft);Rt>1?(Ct=Et[0],Bt=Et[1]):Rt>0&&(Ct+=Dt*Rt,Bt+=Ft*Rt)}return Dt=mt-Ct,Ft=gt-Bt,Dt*Dt+Ft*Ft}}),mR=Zo((s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=_;function _(j){if(j===null||j===!0||j===!1)return NaN;var et=Number(j);return isNaN(et)?et:et<0?Math.ceil(et):Math.floor(et)}o.exports=s.default}),yR=Zo((s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=_;function _(j){var et=new Date(Date.UTC(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds()));return et.setUTCFullYear(j.getFullYear()),j.getTime()-et.getTime()}o.exports=s.default}),pL=Zo((s,o)=>{function _(st,nt){function ct(){this.constructor=st}ct.prototype=nt.prototype,st.prototype=new ct}function j(st,nt,ct,At){this.message=st,this.expected=nt,this.found=ct,this.location=At,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,j)}_(j,Error),j.buildMessage=function(st,nt){var ct={literal:function(Bt){return'"'+mt(Bt.text)+'"'},class:function(Bt){var Dt="",Ft;for(Ft=0;Ft<Bt.parts.length;Ft++)Dt+=Bt.parts[Ft]instanceof Array?gt(Bt.parts[Ft][0])+"-"+gt(Bt.parts[Ft][1]):gt(Bt.parts[Ft]);return"["+(Bt.inverted?"^":"")+Dt+"]"},any:function(Bt){return"any character"},end:function(Bt){return"end of input"},other:function(Bt){return Bt.description}};function At(Bt){return Bt.charCodeAt(0).toString(16).toUpperCase()}function mt(Bt){return Bt.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Dt){return"\\x0"+At(Dt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Dt){return"\\x"+At(Dt)})}function gt(Bt){return Bt.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Dt){return"\\x0"+At(Dt)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Dt){return"\\x"+At(Dt)})}function _t(Bt){return ct[Bt.type](Bt)}function Et(Bt){var Dt=new Array(Bt.length),Ft,Rt;for(Ft=0;Ft<Bt.length;Ft++)Dt[Ft]=_t(Bt[Ft]);if(Dt.sort(),Dt.length>0){for(Ft=1,Rt=1;Ft<Dt.length;Ft++)Dt[Ft-1]!==Dt[Ft]&&(Dt[Rt]=Dt[Ft],Rt++);Dt.length=Rt}switch(Dt.length){case 1:return Dt[0];case 2:return Dt[0]+" or "+Dt[1];default:return Dt.slice(0,-1).join(", ")+", or "+Dt[Dt.length-1]}}function Ct(Bt){return Bt?'"'+mt(Bt)+'"':"end of input"}return"Expected "+Et(st)+" but "+Ct(nt)+" found."};function et(st,nt){nt=nt!==void 0?nt:{};var ct={},At={svg_path:YQ},mt=YQ,gt=function(AA){if(!AA)return[];for(var q0=[],gR=0;gR<AA.length;gR++)q0=q0.concat.apply(q0,AA[gR]);var lu=q0[0];return lu&&lu.code=="m"&&(delete lu.relative,lu.code="M"),q0},_t=function(AA,q0){return DK(AA,q0)},Et=/^[Mm]/,Ct=R$(["M","m"],!1,!1),Bt=function(AA,q0,gR){var lu=kq(AA,[q0]);return gR&&(lu=lu.concat(kq(AA=="M"?"L":"l",gR[1]))),lu},Dt=/^[Zz]/,Ft=R$(["Z","z"],!1,!1),Rt=function(){return kq("Z")},Nt=/^[Ll]/,Gt=R$(["L","l"],!1,!1),dr=function(AA,q0){return kq(AA,q0)},ts=/^[Hh]/,es=R$(["H","h"],!1,!1),ds=function(AA,q0){return kq(AA,q0.map(function(gR){return{x:gR}}))},tn=/^[Vv]/,rn=R$(["V","v"],!1,!1),un=function(AA,q0){return kq(AA,q0.map(function(gR){return{y:gR}}))},$n=/^[Cc]/,kn=R$(["C","c"],!1,!1),lo=function(AA,q0,gR){return{x1:AA.x,y1:AA.y,x2:q0.x,y2:q0.y,x:gR.x,y:gR.y}},Il=/^[Ss]/,cu=R$(["S","s"],!1,!1),Ko=function(AA,q0){return{x2:AA.x,y2:AA.y,x:q0.x,y:q0.y}},ru=/^[Qq]/,Tn=R$(["Q","q"],!1,!1),ao=function(AA,q0){return{x1:AA.x,y1:AA.y,x:q0.x,y:q0.y}},uu=/^[Tt]/,hu=R$(["T","t"],!1,!1),tA=/^[Aa]/,Sv=R$(["A","a"],!1,!1),W0=function(AA,q0,gR,lu,wA,p0){return{rx:AA,ry:q0,xAxisRotation:gR,largeArc:lu,sweep:wA,x:p0.x,y:p0.y}},l1=function(AA,q0){return{x:AA,y:q0}},X1=function(AA){return AA*1},kI=function(AA){return AA.join("")*1},q1=/^[01]/,UE=R$(["0","1"],!1,!1),a1=function(AA){return AA=="1"},LE=function(){return""},rS=",",gD=F$(",",!1),NI=function(AA){return AA.join("")},a$=".",x$=F$(".",!1),l$=/^[eE]/,pR=R$(["e","E"],!1,!1),h$=/^[+\-]/,w$=R$(["+","-"],!1,!1),E$=/^[0-9]/,Vx=R$([["0","9"]],!1,!1),b0=function(AA){return AA.join("")},o$=/^[ \t\n\r]/,m$=R$([" ","	",`
`,"\r"],!1,!1),t0=0,_$=[{line:1,column:1}],D$=0,M$=[],p$;if("startRule"in nt){if(!(nt.startRule in At))throw new Error(`Can't start parsing from rule "`+nt.startRule+'".');mt=At[nt.startRule]}function F$(AA,q0){return{type:"literal",text:AA,ignoreCase:q0}}function R$(AA,q0,gR){return{type:"class",parts:AA,inverted:q0,ignoreCase:gR}}function O$(){return{type:"end"}}function j$(AA){var q0=_$[AA],gR;if(q0)return q0;for(gR=AA-1;!_$[gR];)gR--;for(q0=_$[gR],q0={line:q0.line,column:q0.column};gR<AA;)st.charCodeAt(gR)===10?(q0.line++,q0.column=1):q0.column++,gR++;return _$[AA]=q0,q0}function U$(AA,q0){var gR=j$(AA),lu=j$(q0);return{start:{offset:AA,line:gR.line,column:gR.column},end:{offset:q0,line:lu.line,column:lu.column}}}function z$(AA){t0<D$||(t0>D$&&(D$=t0,M$=[]),M$.push(AA))}function kQ(AA,q0,gR){return new j(j.buildMessage(AA,q0),AA,q0,gR)}function YQ(){var AA,q0,gR,lu,wA;for(AA=t0,q0=[],gR=K$();gR!==ct;)q0.push(gR),gR=K$();if(q0!==ct)if(gR=mO(),gR===ct&&(gR=null),gR!==ct){for(lu=[],wA=K$();wA!==ct;)lu.push(wA),wA=K$();lu!==ct?(q0=gt(gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;else t0=AA,AA=ct;return AA}function mO(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=f$(),q0!==ct){for(gR=[],lu=t0,wA=[],p0=K$();p0!==ct;)wA.push(p0),p0=K$();for(wA!==ct?(p0=f$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;){for(gR.push(lu),lu=t0,wA=[],p0=K$();p0!==ct;)wA.push(p0),p0=K$();wA!==ct?(p0=f$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct)}gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function f$(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=I$(),q0!==ct){for(gR=[],lu=t0,wA=[],p0=K$();p0!==ct;)wA.push(p0),p0=K$();for(wA!==ct?(p0=b$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;){for(gR.push(lu),lu=t0,wA=[],p0=K$();p0!==ct;)wA.push(p0),p0=K$();wA!==ct?(p0=b$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct)}gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function b$(){var AA;return AA=V$(),AA===ct&&(AA=X$(),AA===ct&&(AA=I7(),AA===ct&&(AA=zQ(),AA===ct&&(AA=Tq(),AA===ct&&(AA=Cee(),AA===ct&&(AA=eS(),AA===ct&&(AA=d$(),AA===ct&&(AA=L$())))))))),AA}function I$(){var AA,q0,gR,lu,wA,p0,s$;if(AA=t0,Et.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(Ct)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=H$(),lu!==ct?(wA=t0,p0=q$(),p0===ct&&(p0=null),p0!==ct?(s$=JQ(),s$!==ct?(p0=[p0,s$],wA=p0):(t0=wA,wA=ct)):(t0=wA,wA=ct),wA===ct&&(wA=null),wA!==ct?(q0=Bt(q0,lu,wA),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function V$(){var AA,q0;return AA=t0,Dt.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(Ft)),q0!==ct&&(q0=Rt()),AA=q0,AA}function X$(){var AA,q0,gR,lu;if(AA=t0,Nt.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(Gt)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=JQ(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function JQ(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=H$(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=H$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=H$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function I7(){var AA,q0,gR,lu;if(AA=t0,ts.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(es)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=TK(),lu!==ct?(q0=ds(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function TK(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=Y$(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=Y$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=Y$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function zQ(){var AA,q0,gR,lu;if(AA=t0,tn.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(rn)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=TK(),lu!==ct?(q0=un(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function Tq(){var AA,q0,gR,lu;if(AA=t0,$n.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(kn)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=yK(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function yK(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=nee(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=nee(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=nee(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function nee(){var AA,q0,gR,lu,wA,p0;return AA=t0,q0=H$(),q0!==ct?(gR=q$(),gR===ct&&(gR=null),gR!==ct?(lu=H$(),lu!==ct?(wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=H$(),p0!==ct?(q0=lo(q0,lu,p0),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct),AA}function Cee(){var AA,q0,gR,lu;if(AA=t0,Il.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(cu)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=Bee(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function Bee(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=ree(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=ree(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=ree(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function ree(){var AA,q0,gR,lu;return AA=t0,q0=H$(),q0!==ct?(gR=q$(),gR===ct&&(gR=null),gR!==ct?(lu=H$(),lu!==ct?(q0=Ko(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct),AA}function eS(){var AA,q0,gR,lu;if(AA=t0,ru.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(Tn)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=A$(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function A$(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=g$(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=g$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=g$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function g$(){var AA,q0,gR,lu;return AA=t0,q0=H$(),q0!==ct?(gR=q$(),gR===ct&&(gR=null),gR!==ct?(lu=H$(),lu!==ct?(q0=ao(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct),AA}function d$(){var AA,q0,gR,lu;if(AA=t0,uu.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(hu)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=v$(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function v$(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=H$(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=H$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=H$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function L$(){var AA,q0,gR,lu;if(AA=t0,tA.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(Sv)),q0!==ct){for(gR=[],lu=K$();lu!==ct;)gR.push(lu),lu=K$();gR!==ct?(lu=W$(),lu!==ct?(q0=dr(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function W$(){var AA,q0,gR,lu,wA,p0;if(AA=t0,q0=Q$(),q0!==ct){for(gR=[],lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=Q$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);lu!==ct;)gR.push(lu),lu=t0,wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=Q$(),p0!==ct?(wA=[wA,p0],lu=wA):(t0=lu,lu=ct)):(t0=lu,lu=ct);gR!==ct?(q0=_t(q0,gR),AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;return AA}function Q$(){var AA,q0,gR,lu,wA,p0,s$,c$,r$,y$,C$,B$;return AA=t0,q0=HQ(),q0!==ct?(gR=q$(),gR===ct&&(gR=null),gR!==ct?(lu=HQ(),lu!==ct?(wA=q$(),wA===ct&&(wA=null),wA!==ct?(p0=Y$(),p0!==ct?(s$=q$(),s$!==ct?(c$=J$(),c$!==ct?(r$=q$(),r$===ct&&(r$=null),r$!==ct?(y$=J$(),y$!==ct?(C$=q$(),C$===ct&&(C$=null),C$!==ct?(B$=H$(),B$!==ct?(q0=W0(q0,lu,p0,c$,y$,B$),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct),AA}function H$(){var AA,q0,gR,lu;return AA=t0,q0=Y$(),q0!==ct?(gR=q$(),gR===ct&&(gR=null),gR!==ct?(lu=Y$(),lu!==ct?(q0=l1(q0,lu),AA=q0):(t0=AA,AA=ct)):(t0=AA,AA=ct)):(t0=AA,AA=ct),AA}function HQ(){var AA,q0;return AA=t0,q0=PK(),q0===ct&&(q0=Q9()),q0!==ct&&(q0=X1(q0)),AA=q0,AA}function Y$(){var AA,q0,gR,lu;return AA=t0,q0=t0,gR=Z$(),gR===ct&&(gR=null),gR!==ct?(lu=PK(),lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct),q0===ct&&(q0=t0,gR=Z$(),gR===ct&&(gR=null),gR!==ct?(lu=Q9(),lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct)),q0!==ct&&(q0=kI(q0)),AA=q0,AA}function J$(){var AA,q0;return AA=t0,q1.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(UE)),q0!==ct&&(q0=a1(q0)),AA=q0,AA}function q$(){var AA,q0,gR,lu,wA;if(AA=t0,q0=[],gR=K$(),gR!==ct)for(;gR!==ct;)q0.push(gR),gR=K$();else q0=ct;if(q0!==ct)if(gR=_7(),gR===ct&&(gR=null),gR!==ct){for(lu=[],wA=K$();wA!==ct;)lu.push(wA),wA=K$();lu!==ct?(q0=[q0,gR,lu],AA=q0):(t0=AA,AA=ct)}else t0=AA,AA=ct;else t0=AA,AA=ct;if(AA===ct){if(AA=t0,q0=t0,gR=_7(),gR!==ct){for(lu=[],wA=K$();wA!==ct;)lu.push(wA),wA=K$();lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)}else t0=q0,q0=ct;q0!==ct&&(q0=LE()),AA=q0}return AA}function _7(){var AA;return st.charCodeAt(t0)===44?(AA=rS,t0++):(AA=ct,z$(gD)),AA}function PK(){var AA,q0,gR,lu;return AA=t0,q0=t0,gR=Fq(),gR!==ct?(lu=KQ(),lu===ct&&(lu=null),lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct),q0===ct&&(q0=t0,gR=Q9(),gR!==ct?(lu=KQ(),lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct)),q0!==ct&&(q0=NI(q0)),AA=q0,AA}function Fq(){var AA,q0,gR,lu,wA;return AA=t0,q0=t0,gR=Q9(),gR===ct&&(gR=null),gR!==ct?(st.charCodeAt(t0)===46?(lu=a$,t0++):(lu=ct,z$(x$)),lu!==ct?(wA=Q9(),wA!==ct?(gR=[gR,lu,wA],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct)):(t0=q0,q0=ct),q0===ct&&(q0=t0,gR=Q9(),gR!==ct?(st.charCodeAt(t0)===46?(lu=a$,t0++):(lu=ct,z$(x$)),lu!==ct?(gR=[gR,lu],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct)),q0!==ct&&(q0=NI(q0)),AA=q0,AA}function KQ(){var AA,q0,gR,lu,wA;return AA=t0,q0=t0,l$.test(st.charAt(t0))?(gR=st.charAt(t0),t0++):(gR=ct,z$(pR)),gR!==ct?(lu=Z$(),lu===ct&&(lu=null),lu!==ct?(wA=Q9(),wA!==ct?(gR=[gR,lu,wA],q0=gR):(t0=q0,q0=ct)):(t0=q0,q0=ct)):(t0=q0,q0=ct),q0!==ct&&(q0=NI(q0)),AA=q0,AA}function Z$(){var AA;return h$.test(st.charAt(t0))?(AA=st.charAt(t0),t0++):(AA=ct,z$(w$)),AA}function Q9(){var AA,q0,gR;if(AA=t0,q0=[],E$.test(st.charAt(t0))?(gR=st.charAt(t0),t0++):(gR=ct,z$(Vx)),gR!==ct)for(;gR!==ct;)q0.push(gR),E$.test(st.charAt(t0))?(gR=st.charAt(t0),t0++):(gR=ct,z$(Vx));else q0=ct;return q0!==ct&&(q0=b0(q0)),AA=q0,AA}function K$(){var AA,q0;return AA=t0,o$.test(st.charAt(t0))?(q0=st.charAt(t0),t0++):(q0=ct,z$(m$)),q0!==ct&&(q0=LE()),AA=q0,AA}function DK(AA,q0){if(!q0)return[AA];for(var gR=[AA],lu=0,wA=q0.length;lu<wA;lu++)gR[lu+1]=q0[lu][1];return gR}var gX={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var gK in gX)gX[gK.toUpperCase()]=gX[gK];function kq(AA,q0){q0||(q0=[{}]);for(var gR=q0.length;gR--;){var lu={code:AA,command:gX[AA]};AA==AA.toLowerCase()&&(lu.relative=!0);for(var wA in q0[gR])lu[wA]=q0[gR][wA];q0[gR]=lu}return q0}if(p$=mt(),p$!==ct&&t0===st.length)return p$;throw p$!==ct&&t0<st.length&&z$(O$()),kQ(M$,D$<st.length?st.charAt(D$):null,D$<st.length?U$(D$,D$+1):U$(D$,D$))}o.exports={SyntaxError:j,parse:et}}),WE=Zo((s,o)=>{var _=pL().parse;_.parseSVG=_,_.makeAbsolute=j,o.exports=_;function j(et){var st,nt={x:0,y:0},ct={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return et.forEach(function(At){At.command==="moveto"&&(st=At),At.x0=nt.x,At.y0=nt.y;for(var mt in ct)mt in At&&(At[mt]+=At.relative?At[ct[mt]]:0);"x"in At||(At.x=nt.x),"y"in At||(At.y=nt.y),At.relative=!1,At.code=At.code.toUpperCase(),At.command=="closepath"&&(At.x=st.x,At.y=st.y),nt=At}),et}}),JN=Zo((s,o)=>{o.exports=function(_,j){for(var et=_.split("."),st=j.split("."),nt=0;nt<3;nt++){var ct=Number(et[nt]),At=Number(st[nt]);if(ct>At)return 1;if(At>ct)return-1;if(!isNaN(ct)&&isNaN(At))return 1;if(isNaN(ct)&&!isNaN(At))return-1}return 0}}),la="149",Xn={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},cF=0,cT=1,uF=2,Ay=1,hF=2,Jf=3,Hn=0,pi=1,fi=2,Jt=0,Ya=1,uT=2,hT=3,dT=4,dF=5,Tu=100,fF=101,pF=102,fT=103,pT=104,mF=200,gF=201,yF=202,vF=203,kC=204,GC=205,xF=206,bF=207,SF=208,wF=209,AF=210,EF=0,MF=1,TF=2,zS=3,CF=4,PF=5,_F=6,DF=7,jC=0,IF=1,OF=2,Is=0,RF=1,LF$2=2,BF=3,NF=4,FF=5,HC=300,Qa=301,Ka=302,kS=303,GS=304,Zu=306,Os=1e3,Xt=1001,jS=1002,Vt=1003,mT=1004,iS=1005,rt=1006,VF=1007,dc=1008,_r$1=1009,UF=1010,zF=1011,WC=1012,kF=1013,Ds=1014,br=1015,Wn=1016,GF=1017,jF=1018,Xa=1020,HF=1021,qr=1023,WF=1024,qF=1025,uc=1026,Za=1027,YF=1028,XF=1029,Ju=1030,QF=1031,ww=1033,nS=33776,sS=33777,oS=33778,aS=33779,gT$1=35840,yT=35841,vT=35842,xT=35843,KF=36196,bT=37492,ST=37496,wT=37808,AT=37809,ET=37810,MT=37811,TT=37812,CT=37813,PT=37814,_T=37815,DT=37816,IT=37817,OT=37818,RT=37819,LT=37820,BT=37821,lS=36492,ZF=36283,NT=36284,FT=36285,VT=36286,Aw=2200,Ew=2201,Sp=2202,Xg=2300,Qg=2301,cS=2302,Cu=2400,Pu=2401,Kg=2402,Mw=2500,JF=2501,mn=3e3,at=3001,Bi=3200,Tw=3201,$F=0,eV=1,co="srgb",sp="srgb-linear",uS=7680,tV=519,HS=35044,qC=35048,UT="300 es",WS$1=1035,pr=class{addEventListener(s,o){this._listeners===void 0&&(this._listeners={});let _=this._listeners;_[s]===void 0&&(_[s]=[]),_[s].indexOf(o)===-1&&_[s].push(o)}hasEventListener(s,o){if(this._listeners===void 0)return!1;let _=this._listeners;return _[s]!==void 0&&_[s].indexOf(o)!==-1}removeEventListener(s,o){if(this._listeners===void 0)return;let _=this._listeners[s];if(_!==void 0){let j=_.indexOf(o);j!==-1&&_.splice(j,1)}}dispatchEvent(s){if(this._listeners===void 0)return;let o=this._listeners[s.type];if(o!==void 0){s.target=this;let _=o.slice(0);for(let j=0,et=_.length;j<et;j++)_[j].call(this,s);s.target=null}}},nn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],zT=1234567,ep=Math.PI/180,op$7=180/Math.PI;function is$1(){let s=Math.random()*4294967295|0,o=Math.random()*4294967295|0,_=Math.random()*4294967295|0,j=Math.random()*4294967295|0;return(nn[s&255]+nn[s>>8&255]+nn[s>>16&255]+nn[s>>24&255]+"-"+nn[o&255]+nn[o>>8&255]+"-"+nn[o>>16&15|64]+nn[o>>24&255]+"-"+nn[_&63|128]+nn[_>>8&255]+"-"+nn[_>>16&255]+nn[_>>24&255]+nn[j&255]+nn[j>>8&255]+nn[j>>16&255]+nn[j>>24&255]).toLowerCase()}function di(s,o,_){return Math.max(o,Math.min(_,s))}function Cw(s,o){return(s%o+o)%o}function rV(s,o,_,j,et){return j+(s-o)*(et-j)/(_-o)}function iV(s,o,_){return s!==o?(_-s)/(o-s):0}function tp(s,o,_){return(1-_)*s+_*o}function nV(s,o,_,j){return tp(s,o,1-Math.exp(-_*j))}function sV(s,o=1){return o-Math.abs(Cw(s,o*2)-o)}function oV(s,o,_){return s<=o?0:s>=_?1:(s=(s-o)/(_-o),s*s*(3-2*s))}function aV(s,o,_){return s<=o?0:s>=_?1:(s=(s-o)/(_-o),s*s*s*(s*(s*6-15)+10))}function lV(s,o){return s+Math.floor(Math.random()*(o-s+1))}function cV(s,o){return s+Math.random()*(o-s)}function uV(s){return s*(.5-Math.random())}function hV(s){s!==void 0&&(zT=s);let o=zT+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}function dV(s){return s*ep}function fV(s){return s*op$7}function qS(s){return(s&s-1)===0&&s!==0}function YC(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function Zg(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function pV(s,o,_,j,et){let st=Math.cos,nt=Math.sin,ct=st(_/2),At=nt(_/2),mt=st((o+j)/2),gt=nt((o+j)/2),_t=st((o-j)/2),Et=nt((o-j)/2),Ct=st((j-o)/2),Bt=nt((j-o)/2);switch(et){case"XYX":s.set(ct*gt,At*_t,At*Et,ct*mt);break;case"YZY":s.set(At*Et,ct*gt,At*_t,ct*mt);break;case"ZXZ":s.set(At*_t,At*Et,ct*gt,ct*mt);break;case"XZX":s.set(ct*gt,At*Bt,At*Ct,ct*mt);break;case"YXY":s.set(At*Ct,ct*gt,At*Bt,ct*mt);break;case"ZYZ":s.set(At*Bt,At*Ct,ct*gt,ct*mt);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+et)}}function oa(s,o){switch(o.constructor){case Float32Array:return s;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function xr$1(s,o){switch(o.constructor){case Float32Array:return s;case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}var we=Object.freeze({__proto__:null,DEG2RAD:ep,RAD2DEG:op$7,ceilPowerOfTwo:YC,clamp:di,damp:nV,degToRad:dV,denormalize:oa,euclideanModulo:Cw,floorPowerOfTwo:Zg,generateUUID:is$1,inverseLerp:iV,isPowerOfTwo:qS,lerp:tp,mapLinear:rV,normalize:xr$1,pingpong:sV,radToDeg:fV,randFloat:cV,randFloatSpread:uV,randInt:lV,seededRandom:hV,setQuaternionFromProperEuler:pV,smootherstep:aV,smoothstep:oV}),U$1=class{constructor(o=0,_=0){U$1.prototype.isVector2=!0,this.x=o,this.y=_}get width(){return this.x}set width(o){this.x=o}get height(){return this.y}set height(o){this.y=o}set(o,_){return this.x=o,this.y=_,this}setScalar(o){return this.x=o,this.y=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setComponent(o,_){switch(o){case 0:this.x=_;break;case 1:this.y=_;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y)}copy(o){return this.x=o.x,this.y=o.y,this}add(o){return this.x+=o.x,this.y+=o.y,this}addScalar(o){return this.x+=o,this.y+=o,this}addVectors(o,_){return this.x=o.x+_.x,this.y=o.y+_.y,this}addScaledVector(o,_){return this.x+=o.x*_,this.y+=o.y*_,this}sub(o){return this.x-=o.x,this.y-=o.y,this}subScalar(o){return this.x-=o,this.y-=o,this}subVectors(o,_){return this.x=o.x-_.x,this.y=o.y-_.y,this}multiply(o){return this.x*=o.x,this.y*=o.y,this}multiplyScalar(o){return this.x*=o,this.y*=o,this}divide(o){return this.x/=o.x,this.y/=o.y,this}divideScalar(o){return this.multiplyScalar(1/o)}applyMatrix3(o){let _=this.x,j=this.y,et=o.elements;return this.x=et[0]*_+et[3]*j+et[6],this.y=et[1]*_+et[4]*j+et[7],this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this}clamp(o,_){return this.x=Math.max(o.x,Math.min(_.x,this.x)),this.y=Math.max(o.y,Math.min(_.y,this.y)),this}clampScalar(o,_){return this.x=Math.max(o,Math.min(_,this.x)),this.y=Math.max(o,Math.min(_,this.y)),this}clampLength(o,_){let j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(_,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){let _=this.x-o.x,j=this.y-o.y;return _*_+j*j}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,_){return this.x+=(o.x-this.x)*_,this.y+=(o.y-this.y)*_,this}lerpVectors(o,_,j){return this.x=o.x+(_.x-o.x)*j,this.y=o.y+(_.y-o.y)*j,this}equals(o){return o.x===this.x&&o.y===this.y}fromArray(o,_=0){return this.x=o[_],this.y=o[_+1],this}toArray(o=[],_=0){return o[_]=this.x,o[_+1]=this.y,o}fromBufferAttribute(o,_){return this.x=o.getX(_),this.y=o.getY(_),this}rotateAround(o,_){let j=Math.cos(_),et=Math.sin(_),st=this.x-o.x,nt=this.y-o.y;return this.x=st*j-nt*et+o.x,this.y=st*et+nt*j+o.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},fr$7=class{constructor(){fr$7.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(o,_,j,et,st,nt,ct,At,mt){let gt=this.elements;return gt[0]=o,gt[1]=et,gt[2]=ct,gt[3]=_,gt[4]=st,gt[5]=At,gt[6]=j,gt[7]=nt,gt[8]=mt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(o){let _=this.elements,j=o.elements;return _[0]=j[0],_[1]=j[1],_[2]=j[2],_[3]=j[3],_[4]=j[4],_[5]=j[5],_[6]=j[6],_[7]=j[7],_[8]=j[8],this}extractBasis(o,_,j){return o.setFromMatrix3Column(this,0),_.setFromMatrix3Column(this,1),j.setFromMatrix3Column(this,2),this}setFromMatrix4(o){let _=o.elements;return this.set(_[0],_[4],_[8],_[1],_[5],_[9],_[2],_[6],_[10]),this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,_){let j=o.elements,et=_.elements,st=this.elements,nt=j[0],ct=j[3],At=j[6],mt=j[1],gt=j[4],_t=j[7],Et=j[2],Ct=j[5],Bt=j[8],Dt=et[0],Ft=et[3],Rt=et[6],Nt=et[1],Gt=et[4],dr=et[7],ts=et[2],es=et[5],ds=et[8];return st[0]=nt*Dt+ct*Nt+At*ts,st[3]=nt*Ft+ct*Gt+At*es,st[6]=nt*Rt+ct*dr+At*ds,st[1]=mt*Dt+gt*Nt+_t*ts,st[4]=mt*Ft+gt*Gt+_t*es,st[7]=mt*Rt+gt*dr+_t*ds,st[2]=Et*Dt+Ct*Nt+Bt*ts,st[5]=Et*Ft+Ct*Gt+Bt*es,st[8]=Et*Rt+Ct*dr+Bt*ds,this}multiplyScalar(o){let _=this.elements;return _[0]*=o,_[3]*=o,_[6]*=o,_[1]*=o,_[4]*=o,_[7]*=o,_[2]*=o,_[5]*=o,_[8]*=o,this}determinant(){let o=this.elements,_=o[0],j=o[1],et=o[2],st=o[3],nt=o[4],ct=o[5],At=o[6],mt=o[7],gt=o[8];return _*nt*gt-_*ct*mt-j*st*gt+j*ct*At+et*st*mt-et*nt*At}invert(){let o=this.elements,_=o[0],j=o[1],et=o[2],st=o[3],nt=o[4],ct=o[5],At=o[6],mt=o[7],gt=o[8],_t=gt*nt-ct*mt,Et=ct*At-gt*st,Ct=mt*st-nt*At,Bt=_*_t+j*Et+et*Ct;if(Bt===0)return this.set(0,0,0,0,0,0,0,0,0);let Dt=1/Bt;return o[0]=_t*Dt,o[1]=(et*mt-gt*j)*Dt,o[2]=(ct*j-et*nt)*Dt,o[3]=Et*Dt,o[4]=(gt*_-et*At)*Dt,o[5]=(et*st-ct*_)*Dt,o[6]=Ct*Dt,o[7]=(j*At-mt*_)*Dt,o[8]=(nt*_-j*st)*Dt,this}transpose(){let o,_=this.elements;return o=_[1],_[1]=_[3],_[3]=o,o=_[2],_[2]=_[6],_[6]=o,o=_[5],_[5]=_[7],_[7]=o,this}getNormalMatrix(o){return this.setFromMatrix4(o).invert().transpose()}transposeIntoArray(o){let _=this.elements;return o[0]=_[0],o[1]=_[3],o[2]=_[6],o[3]=_[1],o[4]=_[4],o[5]=_[7],o[6]=_[2],o[7]=_[5],o[8]=_[8],this}setUvTransform(o,_,j,et,st,nt,ct){let At=Math.cos(st),mt=Math.sin(st);return this.set(j*At,j*mt,-j*(At*nt+mt*ct)+nt+o,-et*mt,et*At,-et*(-mt*nt+At*ct)+ct+_,0,0,1),this}scale(o,_){return this.premultiply(hS.makeScale(o,_)),this}rotate(o){return this.premultiply(hS.makeRotation(-o)),this}translate(o,_){return this.premultiply(hS.makeTranslation(o,_)),this}makeTranslation(o,_){return this.set(1,0,o,0,1,_,0,0,1),this}makeRotation(o){let _=Math.cos(o),j=Math.sin(o);return this.set(_,-j,0,j,_,0,0,0,1),this}makeScale(o,_){return this.set(o,0,0,0,_,0,0,0,1),this}equals(o){let _=this.elements,j=o.elements;for(let et=0;et<9;et++)if(_[et]!==j[et])return!1;return!0}fromArray(o,_=0){for(let j=0;j<9;j++)this.elements[j]=o[j+_];return this}toArray(o=[],_=0){let j=this.elements;return o[_]=j[0],o[_+1]=j[1],o[_+2]=j[2],o[_+3]=j[3],o[_+4]=j[4],o[_+5]=j[5],o[_+6]=j[6],o[_+7]=j[7],o[_+8]=j[8],o}clone(){return new this.constructor().fromArray(this.elements)}},hS=new fr$7;function XC(s){for(let o=s.length-1;o>=0;--o)if(s[o]>=65535)return!0;return!1}var mV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xg(s,o){return new mV[s](o)}function ap(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function hc(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function Yg(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}var dS={[co]:{[sp]:hc},[sp]:{[co]:Yg}},dn={legacyMode:!0,get workingColorSpace(){return sp},set workingColorSpace(s){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(s,o,_){if(this.legacyMode||o===_||!o||!_)return s;if(dS[o]&&dS[o][_]!==void 0){let j=dS[o][_];return s.r=j(s.r),s.g=j(s.g),s.b=j(s.b),s}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(s,o){return this.convert(s,this.workingColorSpace,o)},toWorkingColorSpace:function(s,o){return this.convert(s,o,this.workingColorSpace)}},QC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wi={r:0,g:0,b:0},Cs={h:0,s:0,l:0},bg={h:0,s:0,l:0};function fS(s,o,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?s+(o-s)*6*_:_<1/2?o:_<2/3?s+(o-s)*6*(2/3-_):s}function Sg(s,o){return o.r=s.r,o.g=s.g,o.b=s.b,o}var We=class{constructor(s,o,_){return this.isColor=!0,this.r=1,this.g=1,this.b=1,o===void 0&&_===void 0?this.set(s):this.setRGB(s,o,_)}set(s){return s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s),this}setScalar(s){return this.r=s,this.g=s,this.b=s,this}setHex(s,o=co){return s=Math.floor(s),this.r=(s>>16&255)/255,this.g=(s>>8&255)/255,this.b=(s&255)/255,dn.toWorkingColorSpace(this,o),this}setRGB(s,o,_,j=dn.workingColorSpace){return this.r=s,this.g=o,this.b=_,dn.toWorkingColorSpace(this,j),this}setHSL(s,o,_,j=dn.workingColorSpace){if(s=Cw(s,1),o=di(o,0,1),_=di(_,0,1),o===0)this.r=this.g=this.b=_;else{let et=_<=.5?_*(1+o):_+o-_*o,st=2*_-et;this.r=fS(st,et,s+1/3),this.g=fS(st,et,s),this.b=fS(st,et,s-1/3)}return dn.toWorkingColorSpace(this,j),this}setStyle(s,o=co){function _(et){et!==void 0&&parseFloat(et)<1&&console.warn("THREE.Color: Alpha component of "+s+" will be ignored.")}let j;if(j=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(s)){let et,st=j[1],nt=j[2];switch(st){case"rgb":case"rgba":if(et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return this.r=Math.min(255,parseInt(et[1],10))/255,this.g=Math.min(255,parseInt(et[2],10))/255,this.b=Math.min(255,parseInt(et[3],10))/255,dn.toWorkingColorSpace(this,o),_(et[4]),this;if(et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return this.r=Math.min(100,parseInt(et[1],10))/100,this.g=Math.min(100,parseInt(et[2],10))/100,this.b=Math.min(100,parseInt(et[3],10))/100,dn.toWorkingColorSpace(this,o),_(et[4]),this;break;case"hsl":case"hsla":if(et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt)){let ct=parseFloat(et[1])/360,At=parseFloat(et[2])/100,mt=parseFloat(et[3])/100;return _(et[4]),this.setHSL(ct,At,mt,o)}break}}else if(j=/^\#([A-Fa-f\d]+)$/.exec(s)){let et=j[1],st=et.length;if(st===3)return this.r=parseInt(et.charAt(0)+et.charAt(0),16)/255,this.g=parseInt(et.charAt(1)+et.charAt(1),16)/255,this.b=parseInt(et.charAt(2)+et.charAt(2),16)/255,dn.toWorkingColorSpace(this,o),this;if(st===6)return this.r=parseInt(et.charAt(0)+et.charAt(1),16)/255,this.g=parseInt(et.charAt(2)+et.charAt(3),16)/255,this.b=parseInt(et.charAt(4)+et.charAt(5),16)/255,dn.toWorkingColorSpace(this,o),this}return s&&s.length>0?this.setColorName(s,o):this}setColorName(s,o=co){let _=QC[s.toLowerCase()];return _!==void 0?this.setHex(_,o):console.warn("THREE.Color: Unknown color "+s),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(s){return this.r=s.r,this.g=s.g,this.b=s.b,this}copySRGBToLinear(s){return this.r=hc(s.r),this.g=hc(s.g),this.b=hc(s.b),this}copyLinearToSRGB(s){return this.r=Yg(s.r),this.g=Yg(s.g),this.b=Yg(s.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(s=co){return dn.fromWorkingColorSpace(Sg(this,wi),s),di(wi.r*255,0,255)<<16^di(wi.g*255,0,255)<<8^di(wi.b*255,0,255)<<0}getHexString(s=co){return("000000"+this.getHex(s).toString(16)).slice(-6)}getHSL(s,o=dn.workingColorSpace){dn.fromWorkingColorSpace(Sg(this,wi),o);let _=wi.r,j=wi.g,et=wi.b,st=Math.max(_,j,et),nt=Math.min(_,j,et),ct,At,mt=(nt+st)/2;if(nt===st)ct=0,At=0;else{let gt=st-nt;switch(At=mt<=.5?gt/(st+nt):gt/(2-st-nt),st){case _:ct=(j-et)/gt+(j<et?6:0);break;case j:ct=(et-_)/gt+2;break;case et:ct=(_-j)/gt+4;break}ct/=6}return s.h=ct,s.s=At,s.l=mt,s}getRGB(s,o=dn.workingColorSpace){return dn.fromWorkingColorSpace(Sg(this,wi),o),s.r=wi.r,s.g=wi.g,s.b=wi.b,s}getStyle(s=co){return dn.fromWorkingColorSpace(Sg(this,wi),s),s!==co?`color(${s} ${wi.r} ${wi.g} ${wi.b})`:`rgb(${wi.r*255|0},${wi.g*255|0},${wi.b*255|0})`}offsetHSL(s,o,_){return this.getHSL(Cs),Cs.h+=s,Cs.s+=o,Cs.l+=_,this.setHSL(Cs.h,Cs.s,Cs.l),this}add(s){return this.r+=s.r,this.g+=s.g,this.b+=s.b,this}addColors(s,o){return this.r=s.r+o.r,this.g=s.g+o.g,this.b=s.b+o.b,this}addScalar(s){return this.r+=s,this.g+=s,this.b+=s,this}sub(s){return this.r=Math.max(0,this.r-s.r),this.g=Math.max(0,this.g-s.g),this.b=Math.max(0,this.b-s.b),this}multiply(s){return this.r*=s.r,this.g*=s.g,this.b*=s.b,this}multiplyScalar(s){return this.r*=s,this.g*=s,this.b*=s,this}lerp(s,o){return this.r+=(s.r-this.r)*o,this.g+=(s.g-this.g)*o,this.b+=(s.b-this.b)*o,this}lerpColors(s,o,_){return this.r=s.r+(o.r-s.r)*_,this.g=s.g+(o.g-s.g)*_,this.b=s.b+(o.b-s.b)*_,this}lerpHSL(s,o){this.getHSL(Cs),s.getHSL(bg);let _=tp(Cs.h,bg.h,o),j=tp(Cs.s,bg.s,o),et=tp(Cs.l,bg.l,o);return this.setHSL(_,j,et),this}equals(s){return s.r===this.r&&s.g===this.g&&s.b===this.b}fromArray(s,o=0){return this.r=s[o],this.g=s[o+1],this.b=s[o+2],this}toArray(s=[],o=0){return s[o]=this.r,s[o+1]=this.g,s[o+2]=this.b,s}fromBufferAttribute(s,o){return this.r=s.getX(o),this.g=s.getY(o),this.b=s.getZ(o),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};We.NAMES=QC;var du,Jg=class{static getDataURL(s){if(/^data:/i.test(s.src)||typeof HTMLCanvasElement>"u")return s.src;let o;if(s instanceof HTMLCanvasElement)o=s;else{du===void 0&&(du=ap("canvas")),du.width=s.width,du.height=s.height;let _=du.getContext("2d");s instanceof ImageData?_.putImageData(s,0,0):_.drawImage(s,0,0,s.width,s.height),o=du}return o.width>2048||o.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",s),o.toDataURL("image/jpeg",.6)):o.toDataURL("image/png")}static sRGBToLinear(s){if(typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap){let o=ap("canvas");o.width=s.width,o.height=s.height;let _=o.getContext("2d");_.drawImage(s,0,0,s.width,s.height);let j=_.getImageData(0,0,s.width,s.height),et=j.data;for(let st=0;st<et.length;st++)et[st]=hc(et[st]/255)*255;return _.putImageData(j,0,0),o}else if(s.data){let o=s.data.slice(0);for(let _=0;_<o.length;_++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[_]=Math.floor(hc(o[_]/255)*255):o[_]=hc(o[_]);return{data:o,width:s.width,height:s.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),s}},$g=class{constructor(s=null){this.isSource=!0,this.uuid=is$1(),this.data=s,this.version=0}set needsUpdate(s){s===!0&&this.version++}toJSON(s){let o=s===void 0||typeof s=="string";if(!o&&s.images[this.uuid]!==void 0)return s.images[this.uuid];let _={uuid:this.uuid,url:""},j=this.data;if(j!==null){let et;if(Array.isArray(j)){et=[];for(let st=0,nt=j.length;st<nt;st++)j[st].isDataTexture?et.push(pS(j[st].image)):et.push(pS(j[st]))}else et=pS(j);_.url=et}return o||(s.images[this.uuid]=_),_}};function pS(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?Jg.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var gV=0,$t=class extends pr{constructor(s=$t.DEFAULT_IMAGE,o=$t.DEFAULT_MAPPING,_=Xt,j=Xt,et=rt,st=dc,nt=qr,ct=_r$1,At=$t.DEFAULT_ANISOTROPY,mt=mn){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gV++}),this.uuid=is$1(),this.name="",this.source=new $g(s),this.mipmaps=[],this.mapping=o,this.wrapS=_,this.wrapT=j,this.magFilter=et,this.minFilter=st,this.anisotropy=At,this.format=nt,this.internalFormat=null,this.type=ct,this.offset=new U$1(0,0),this.repeat=new U$1(1,1),this.center=new U$1(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fr$7,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=mt,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(s){this.source.data=s}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(s){return this.name=s.name,this.source=s.source,this.mipmaps=s.mipmaps.slice(0),this.mapping=s.mapping,this.wrapS=s.wrapS,this.wrapT=s.wrapT,this.magFilter=s.magFilter,this.minFilter=s.minFilter,this.anisotropy=s.anisotropy,this.format=s.format,this.internalFormat=s.internalFormat,this.type=s.type,this.offset.copy(s.offset),this.repeat.copy(s.repeat),this.center.copy(s.center),this.rotation=s.rotation,this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrix.copy(s.matrix),this.generateMipmaps=s.generateMipmaps,this.premultiplyAlpha=s.premultiplyAlpha,this.flipY=s.flipY,this.unpackAlignment=s.unpackAlignment,this.encoding=s.encoding,this.userData=JSON.parse(JSON.stringify(s.userData)),this.needsUpdate=!0,this}toJSON(s){let o=s===void 0||typeof s=="string";if(!o&&s.textures[this.uuid]!==void 0)return s.textures[this.uuid];let _={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(s).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(_.userData=this.userData),o||(s.textures[this.uuid]=_),_}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(s){if(this.mapping!==HC)return s;if(s.applyMatrix3(this.matrix),s.x<0||s.x>1)switch(this.wrapS){case Os:s.x=s.x-Math.floor(s.x);break;case Xt:s.x=s.x<0?0:1;break;case jS:Math.abs(Math.floor(s.x)%2)===1?s.x=Math.ceil(s.x)-s.x:s.x=s.x-Math.floor(s.x);break}if(s.y<0||s.y>1)switch(this.wrapT){case Os:s.y=s.y-Math.floor(s.y);break;case Xt:s.y=s.y<0?0:1;break;case jS:Math.abs(Math.floor(s.y)%2)===1?s.y=Math.ceil(s.y)-s.y:s.y=s.y-Math.floor(s.y);break}return this.flipY&&(s.y=1-s.y),s}set needsUpdate(s){s===!0&&(this.version++,this.source.needsUpdate=!0)}};$t.DEFAULT_IMAGE=null;$t.DEFAULT_MAPPING=HC;$t.DEFAULT_ANISOTROPY=1;var Ze=class{constructor(s=0,o=0,_=0,j=1){Ze.prototype.isVector4=!0,this.x=s,this.y=o,this.z=_,this.w=j}get width(){return this.z}set width(s){this.z=s}get height(){return this.w}set height(s){this.w=s}set(s,o,_,j){return this.x=s,this.y=o,this.z=_,this.w=j,this}setScalar(s){return this.x=s,this.y=s,this.z=s,this.w=s,this}setX(s){return this.x=s,this}setY(s){return this.y=s,this}setZ(s){return this.z=s,this}setW(s){return this.w=s,this}setComponent(s,o){switch(s){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+s)}return this}getComponent(s){switch(s){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+s)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w!==void 0?s.w:1,this}add(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this.w+=s.w,this}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}addVectors(s,o){return this.x=s.x+o.x,this.y=s.y+o.y,this.z=s.z+o.z,this.w=s.w+o.w,this}addScaledVector(s,o){return this.x+=s.x*o,this.y+=s.y*o,this.z+=s.z*o,this.w+=s.w*o,this}sub(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this.w-=s.w,this}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}subVectors(s,o){return this.x=s.x-o.x,this.y=s.y-o.y,this.z=s.z-o.z,this.w=s.w-o.w,this}multiply(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this.w*=s.w,this}multiplyScalar(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this}applyMatrix4(s){let o=this.x,_=this.y,j=this.z,et=this.w,st=s.elements;return this.x=st[0]*o+st[4]*_+st[8]*j+st[12]*et,this.y=st[1]*o+st[5]*_+st[9]*j+st[13]*et,this.z=st[2]*o+st[6]*_+st[10]*j+st[14]*et,this.w=st[3]*o+st[7]*_+st[11]*j+st[15]*et,this}divideScalar(s){return this.multiplyScalar(1/s)}setAxisAngleFromQuaternion(s){this.w=2*Math.acos(s.w);let o=Math.sqrt(1-s.w*s.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=s.x/o,this.y=s.y/o,this.z=s.z/o),this}setAxisAngleFromRotationMatrix(s){let o,_,j,et,st=s.elements,nt=st[0],ct=st[4],At=st[8],mt=st[1],gt=st[5],_t=st[9],Et=st[2],Ct=st[6],Bt=st[10];if(Math.abs(ct-mt)<.01&&Math.abs(At-Et)<.01&&Math.abs(_t-Ct)<.01){if(Math.abs(ct+mt)<.1&&Math.abs(At+Et)<.1&&Math.abs(_t+Ct)<.1&&Math.abs(nt+gt+Bt-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;let Ft=(nt+1)/2,Rt=(gt+1)/2,Nt=(Bt+1)/2,Gt=(ct+mt)/4,dr=(At+Et)/4,ts=(_t+Ct)/4;return Ft>Rt&&Ft>Nt?Ft<.01?(_=0,j=.707106781,et=.707106781):(_=Math.sqrt(Ft),j=Gt/_,et=dr/_):Rt>Nt?Rt<.01?(_=.707106781,j=0,et=.707106781):(j=Math.sqrt(Rt),_=Gt/j,et=ts/j):Nt<.01?(_=.707106781,j=.707106781,et=0):(et=Math.sqrt(Nt),_=dr/et,j=ts/et),this.set(_,j,et,o),this}let Dt=Math.sqrt((Ct-_t)*(Ct-_t)+(At-Et)*(At-Et)+(mt-ct)*(mt-ct));return Math.abs(Dt)<.001&&(Dt=1),this.x=(Ct-_t)/Dt,this.y=(At-Et)/Dt,this.z=(mt-ct)/Dt,this.w=Math.acos((nt+gt+Bt-1)/2),this}min(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this.w=Math.min(this.w,s.w),this}max(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this.w=Math.max(this.w,s.w),this}clamp(s,o){return this.x=Math.max(s.x,Math.min(o.x,this.x)),this.y=Math.max(s.y,Math.min(o.y,this.y)),this.z=Math.max(s.z,Math.min(o.z,this.z)),this.w=Math.max(s.w,Math.min(o.w,this.w)),this}clampScalar(s,o){return this.x=Math.max(s,Math.min(o,this.x)),this.y=Math.max(s,Math.min(o,this.y)),this.z=Math.max(s,Math.min(o,this.z)),this.w=Math.max(s,Math.min(o,this.w)),this}clampLength(s,o){let _=this.length();return this.divideScalar(_||1).multiplyScalar(Math.max(s,Math.min(o,_)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(s){return this.normalize().multiplyScalar(s)}lerp(s,o){return this.x+=(s.x-this.x)*o,this.y+=(s.y-this.y)*o,this.z+=(s.z-this.z)*o,this.w+=(s.w-this.w)*o,this}lerpVectors(s,o,_){return this.x=s.x+(o.x-s.x)*_,this.y=s.y+(o.y-s.y)*_,this.z=s.z+(o.z-s.z)*_,this.w=s.w+(o.w-s.w)*_,this}equals(s){return s.x===this.x&&s.y===this.y&&s.z===this.z&&s.w===this.w}fromArray(s,o=0){return this.x=s[o],this.y=s[o+1],this.z=s[o+2],this.w=s[o+3],this}toArray(s=[],o=0){return s[o]=this.x,s[o+1]=this.y,s[o+2]=this.z,s[o+3]=this.w,s}fromBufferAttribute(s,o){return this.x=s.getX(o),this.y=s.getY(o),this.z=s.getZ(o),this.w=s.getW(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},dt=class extends pr{constructor(s=1,o=1,_={}){super(),this.isWebGLRenderTarget=!0,this.width=s,this.height=o,this.depth=1,this.scissor=new Ze(0,0,s,o),this.scissorTest=!1,this.viewport=new Ze(0,0,s,o);let j={width:s,height:o,depth:1};this.texture=new $t(j,_.mapping,_.wrapS,_.wrapT,_.magFilter,_.minFilter,_.format,_.type,_.anisotropy,_.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=_.generateMipmaps!==void 0?_.generateMipmaps:!1,this.texture.internalFormat=_.internalFormat!==void 0?_.internalFormat:null,this.texture.minFilter=_.minFilter!==void 0?_.minFilter:rt,this.depthBuffer=_.depthBuffer!==void 0?_.depthBuffer:!0,this.stencilBuffer=_.stencilBuffer!==void 0?_.stencilBuffer:!1,this.depthTexture=_.depthTexture!==void 0?_.depthTexture:null,this.samples=_.samples!==void 0?_.samples:0}setSize(s,o,_=1){(this.width!==s||this.height!==o||this.depth!==_)&&(this.width=s,this.height=o,this.depth=_,this.texture.image.width=s,this.texture.image.height=o,this.texture.image.depth=_,this.dispose()),this.viewport.set(0,0,s,o),this.scissor.set(0,0,s,o)}clone(){return new this.constructor().copy(this)}copy(s){this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.copy(s.viewport),this.texture=s.texture.clone(),this.texture.isRenderTargetTexture=!0;let o=Object.assign({},s.texture.image);return this.texture.source=new $g(o),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,s.depthTexture!==null&&(this.depthTexture=s.depthTexture.clone()),this.samples=s.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},ey=class extends $t{constructor(s=null,o=1,_=1,j=1){super(null),this.isDataArrayTexture=!0,this.image={data:s,width:o,height:_,depth:j},this.magFilter=Vt,this.minFilter=Vt,this.wrapR=Xt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ty=class extends $t{constructor(s=null,o=1,_=1,j=1){super(null),this.isData3DTexture=!0,this.image={data:s,width:o,height:_,depth:j},this.magFilter=Vt,this.minFilter=Vt,this.wrapR=Xt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ry=class extends dt{constructor(s=1,o=1,_=1,j={}){super(s,o,j),this.isWebGLMultipleRenderTargets=!0;let et=this.texture;this.texture=[];for(let st=0;st<_;st++)this.texture[st]=et.clone(),this.texture[st].isRenderTargetTexture=!0}setSize(s,o,_=1){if(this.width!==s||this.height!==o||this.depth!==_){this.width=s,this.height=o,this.depth=_;for(let j=0,et=this.texture.length;j<et;j++)this.texture[j].image.width=s,this.texture[j].image.height=o,this.texture[j].image.depth=_;this.dispose()}return this.viewport.set(0,0,s,o),this.scissor.set(0,0,s,o),this}copy(s){this.dispose(),this.width=s.width,this.height=s.height,this.depth=s.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,s.depthTexture!==null&&(this.depthTexture=s.depthTexture.clone()),this.texture.length=0;for(let o=0,_=s.texture.length;o<_;o++)this.texture[o]=s.texture[o].clone(),this.texture[o].isRenderTargetTexture=!0;return this}},Qe=class{constructor(s=0,o=0,_=0,j=1){this.isQuaternion=!0,this._x=s,this._y=o,this._z=_,this._w=j}static slerpFlat(s,o,_,j,et,st,nt){let ct=_[j+0],At=_[j+1],mt=_[j+2],gt=_[j+3],_t=et[st+0],Et=et[st+1],Ct=et[st+2],Bt=et[st+3];if(nt===0){s[o+0]=ct,s[o+1]=At,s[o+2]=mt,s[o+3]=gt;return}if(nt===1){s[o+0]=_t,s[o+1]=Et,s[o+2]=Ct,s[o+3]=Bt;return}if(gt!==Bt||ct!==_t||At!==Et||mt!==Ct){let Dt=1-nt,Ft=ct*_t+At*Et+mt*Ct+gt*Bt,Rt=Ft>=0?1:-1,Nt=1-Ft*Ft;if(Nt>Number.EPSILON){let dr=Math.sqrt(Nt),ts=Math.atan2(dr,Ft*Rt);Dt=Math.sin(Dt*ts)/dr,nt=Math.sin(nt*ts)/dr}let Gt=nt*Rt;if(ct=ct*Dt+_t*Gt,At=At*Dt+Et*Gt,mt=mt*Dt+Ct*Gt,gt=gt*Dt+Bt*Gt,Dt===1-nt){let dr=1/Math.sqrt(ct*ct+At*At+mt*mt+gt*gt);ct*=dr,At*=dr,mt*=dr,gt*=dr}}s[o]=ct,s[o+1]=At,s[o+2]=mt,s[o+3]=gt}static multiplyQuaternionsFlat(s,o,_,j,et,st){let nt=_[j],ct=_[j+1],At=_[j+2],mt=_[j+3],gt=et[st],_t=et[st+1],Et=et[st+2],Ct=et[st+3];return s[o]=nt*Ct+mt*gt+ct*Et-At*_t,s[o+1]=ct*Ct+mt*_t+At*gt-nt*Et,s[o+2]=At*Ct+mt*Et+nt*_t-ct*gt,s[o+3]=mt*Ct-nt*gt-ct*_t-At*Et,s}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get w(){return this._w}set w(s){this._w=s,this._onChangeCallback()}set(s,o,_,j){return this._x=s,this._y=o,this._z=_,this._w=j,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(s){return this._x=s.x,this._y=s.y,this._z=s.z,this._w=s.w,this._onChangeCallback(),this}setFromEuler(s,o){let _=s._x,j=s._y,et=s._z,st=s._order,nt=Math.cos,ct=Math.sin,At=nt(_/2),mt=nt(j/2),gt=nt(et/2),_t=ct(_/2),Et=ct(j/2),Ct=ct(et/2);switch(st){case"XYZ":this._x=_t*mt*gt+At*Et*Ct,this._y=At*Et*gt-_t*mt*Ct,this._z=At*mt*Ct+_t*Et*gt,this._w=At*mt*gt-_t*Et*Ct;break;case"YXZ":this._x=_t*mt*gt+At*Et*Ct,this._y=At*Et*gt-_t*mt*Ct,this._z=At*mt*Ct-_t*Et*gt,this._w=At*mt*gt+_t*Et*Ct;break;case"ZXY":this._x=_t*mt*gt-At*Et*Ct,this._y=At*Et*gt+_t*mt*Ct,this._z=At*mt*Ct+_t*Et*gt,this._w=At*mt*gt-_t*Et*Ct;break;case"ZYX":this._x=_t*mt*gt-At*Et*Ct,this._y=At*Et*gt+_t*mt*Ct,this._z=At*mt*Ct-_t*Et*gt,this._w=At*mt*gt+_t*Et*Ct;break;case"YZX":this._x=_t*mt*gt+At*Et*Ct,this._y=At*Et*gt+_t*mt*Ct,this._z=At*mt*Ct-_t*Et*gt,this._w=At*mt*gt-_t*Et*Ct;break;case"XZY":this._x=_t*mt*gt-At*Et*Ct,this._y=At*Et*gt-_t*mt*Ct,this._z=At*mt*Ct+_t*Et*gt,this._w=At*mt*gt+_t*Et*Ct;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+st)}return o!==!1&&this._onChangeCallback(),this}setFromAxisAngle(s,o){let _=o/2,j=Math.sin(_);return this._x=s.x*j,this._y=s.y*j,this._z=s.z*j,this._w=Math.cos(_),this._onChangeCallback(),this}setFromRotationMatrix(s){let o=s.elements,_=o[0],j=o[4],et=o[8],st=o[1],nt=o[5],ct=o[9],At=o[2],mt=o[6],gt=o[10],_t=_+nt+gt;if(_t>0){let Et=.5/Math.sqrt(_t+1);this._w=.25/Et,this._x=(mt-ct)*Et,this._y=(et-At)*Et,this._z=(st-j)*Et}else if(_>nt&&_>gt){let Et=2*Math.sqrt(1+_-nt-gt);this._w=(mt-ct)/Et,this._x=.25*Et,this._y=(j+st)/Et,this._z=(et+At)/Et}else if(nt>gt){let Et=2*Math.sqrt(1+nt-_-gt);this._w=(et-At)/Et,this._x=(j+st)/Et,this._y=.25*Et,this._z=(ct+mt)/Et}else{let Et=2*Math.sqrt(1+gt-_-nt);this._w=(st-j)/Et,this._x=(et+At)/Et,this._y=(ct+mt)/Et,this._z=.25*Et}return this._onChangeCallback(),this}setFromUnitVectors(s,o){let _=s.dot(o)+1;return _<Number.EPSILON?(_=0,Math.abs(s.x)>Math.abs(s.z)?(this._x=-s.y,this._y=s.x,this._z=0,this._w=_):(this._x=0,this._y=-s.z,this._z=s.y,this._w=_)):(this._x=s.y*o.z-s.z*o.y,this._y=s.z*o.x-s.x*o.z,this._z=s.x*o.y-s.y*o.x,this._w=_),this.normalize()}angleTo(s){return 2*Math.acos(Math.abs(di(this.dot(s),-1,1)))}rotateTowards(s,o){let _=this.angleTo(s);if(_===0)return this;let j=Math.min(1,o/_);return this.slerp(s,j),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(s){return this._x*s._x+this._y*s._y+this._z*s._z+this._w*s._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let s=this.length();return s===0?(this._x=0,this._y=0,this._z=0,this._w=1):(s=1/s,this._x=this._x*s,this._y=this._y*s,this._z=this._z*s,this._w=this._w*s),this._onChangeCallback(),this}multiply(s){return this.multiplyQuaternions(this,s)}premultiply(s){return this.multiplyQuaternions(s,this)}multiplyQuaternions(s,o){let _=s._x,j=s._y,et=s._z,st=s._w,nt=o._x,ct=o._y,At=o._z,mt=o._w;return this._x=_*mt+st*nt+j*At-et*ct,this._y=j*mt+st*ct+et*nt-_*At,this._z=et*mt+st*At+_*ct-j*nt,this._w=st*mt-_*nt-j*ct-et*At,this._onChangeCallback(),this}slerp(s,o){if(o===0)return this;if(o===1)return this.copy(s);let _=this._x,j=this._y,et=this._z,st=this._w,nt=st*s._w+_*s._x+j*s._y+et*s._z;if(nt<0?(this._w=-s._w,this._x=-s._x,this._y=-s._y,this._z=-s._z,nt=-nt):this.copy(s),nt>=1)return this._w=st,this._x=_,this._y=j,this._z=et,this;let ct=1-nt*nt;if(ct<=Number.EPSILON){let Et=1-o;return this._w=Et*st+o*this._w,this._x=Et*_+o*this._x,this._y=Et*j+o*this._y,this._z=Et*et+o*this._z,this.normalize(),this._onChangeCallback(),this}let At=Math.sqrt(ct),mt=Math.atan2(At,nt),gt=Math.sin((1-o)*mt)/At,_t=Math.sin(o*mt)/At;return this._w=st*gt+this._w*_t,this._x=_*gt+this._x*_t,this._y=j*gt+this._y*_t,this._z=et*gt+this._z*_t,this._onChangeCallback(),this}slerpQuaternions(s,o,_){return this.copy(s).slerp(o,_)}random(){let s=Math.random(),o=Math.sqrt(1-s),_=Math.sqrt(s),j=2*Math.PI*Math.random(),et=2*Math.PI*Math.random();return this.set(o*Math.cos(j),_*Math.sin(et),_*Math.cos(et),o*Math.sin(j))}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._w===this._w}fromArray(s,o=0){return this._x=s[o],this._y=s[o+1],this._z=s[o+2],this._w=s[o+3],this._onChangeCallback(),this}toArray(s=[],o=0){return s[o]=this._x,s[o+1]=this._y,s[o+2]=this._z,s[o+3]=this._w,s}fromBufferAttribute(s,o){return this._x=s.getX(o),this._y=s.getY(o),this._z=s.getZ(o),this._w=s.getW(o),this}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},E$2=class{constructor(o=0,_=0,j=0){E$2.prototype.isVector3=!0,this.x=o,this.y=_,this.z=j}set(o,_,j){return j===void 0&&(j=this.z),this.x=o,this.y=_,this.z=j,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setComponent(o,_){switch(o){case 0:this.x=_;break;case 1:this.y=_;break;case 2:this.z=_;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this}addVectors(o,_){return this.x=o.x+_.x,this.y=o.y+_.y,this.z=o.z+_.z,this}addScaledVector(o,_){return this.x+=o.x*_,this.y+=o.y*_,this.z+=o.z*_,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this}subVectors(o,_){return this.x=o.x-_.x,this.y=o.y-_.y,this.z=o.z-_.z,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this}multiplyVectors(o,_){return this.x=o.x*_.x,this.y=o.y*_.y,this.z=o.z*_.z,this}applyEuler(o){return this.applyQuaternion(kT.setFromEuler(o))}applyAxisAngle(o,_){return this.applyQuaternion(kT.setFromAxisAngle(o,_))}applyMatrix3(o){let _=this.x,j=this.y,et=this.z,st=o.elements;return this.x=st[0]*_+st[3]*j+st[6]*et,this.y=st[1]*_+st[4]*j+st[7]*et,this.z=st[2]*_+st[5]*j+st[8]*et,this}applyNormalMatrix(o){return this.applyMatrix3(o).normalize()}applyMatrix4(o){let _=this.x,j=this.y,et=this.z,st=o.elements,nt=1/(st[3]*_+st[7]*j+st[11]*et+st[15]);return this.x=(st[0]*_+st[4]*j+st[8]*et+st[12])*nt,this.y=(st[1]*_+st[5]*j+st[9]*et+st[13])*nt,this.z=(st[2]*_+st[6]*j+st[10]*et+st[14])*nt,this}applyQuaternion(o){let _=this.x,j=this.y,et=this.z,st=o.x,nt=o.y,ct=o.z,At=o.w,mt=At*_+nt*et-ct*j,gt=At*j+ct*_-st*et,_t=At*et+st*j-nt*_,Et=-st*_-nt*j-ct*et;return this.x=mt*At+Et*-st+gt*-ct-_t*-nt,this.y=gt*At+Et*-nt+_t*-st-mt*-ct,this.z=_t*At+Et*-ct+mt*-nt-gt*-st,this}project(o){return this.applyMatrix4(o.matrixWorldInverse).applyMatrix4(o.projectionMatrix)}unproject(o){return this.applyMatrix4(o.projectionMatrixInverse).applyMatrix4(o.matrixWorld)}transformDirection(o){let _=this.x,j=this.y,et=this.z,st=o.elements;return this.x=st[0]*_+st[4]*j+st[8]*et,this.y=st[1]*_+st[5]*j+st[9]*et,this.z=st[2]*_+st[6]*j+st[10]*et,this.normalize()}divide(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z,this}divideScalar(o){return this.multiplyScalar(1/o)}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this}clamp(o,_){return this.x=Math.max(o.x,Math.min(_.x,this.x)),this.y=Math.max(o.y,Math.min(_.y,this.y)),this.z=Math.max(o.z,Math.min(_.z,this.z)),this}clampScalar(o,_){return this.x=Math.max(o,Math.min(_,this.x)),this.y=Math.max(o,Math.min(_,this.y)),this.z=Math.max(o,Math.min(_,this.z)),this}clampLength(o,_){let j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(_,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,_){return this.x+=(o.x-this.x)*_,this.y+=(o.y-this.y)*_,this.z+=(o.z-this.z)*_,this}lerpVectors(o,_,j){return this.x=o.x+(_.x-o.x)*j,this.y=o.y+(_.y-o.y)*j,this.z=o.z+(_.z-o.z)*j,this}cross(o){return this.crossVectors(this,o)}crossVectors(o,_){let j=o.x,et=o.y,st=o.z,nt=_.x,ct=_.y,At=_.z;return this.x=et*At-st*ct,this.y=st*nt-j*At,this.z=j*ct-et*nt,this}projectOnVector(o){let _=o.lengthSq();if(_===0)return this.set(0,0,0);let j=o.dot(this)/_;return this.copy(o).multiplyScalar(j)}projectOnPlane(o){return mS.copy(this).projectOnVector(o),this.sub(mS)}reflect(o){return this.sub(mS.copy(o).multiplyScalar(2*this.dot(o)))}angleTo(o){let _=Math.sqrt(this.lengthSq()*o.lengthSq());if(_===0)return Math.PI/2;let j=this.dot(o)/_;return Math.acos(di(j,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){let _=this.x-o.x,j=this.y-o.y,et=this.z-o.z;return _*_+j*j+et*et}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)+Math.abs(this.z-o.z)}setFromSpherical(o){return this.setFromSphericalCoords(o.radius,o.phi,o.theta)}setFromSphericalCoords(o,_,j){let et=Math.sin(_)*o;return this.x=et*Math.sin(j),this.y=Math.cos(_)*o,this.z=et*Math.cos(j),this}setFromCylindrical(o){return this.setFromCylindricalCoords(o.radius,o.theta,o.y)}setFromCylindricalCoords(o,_,j){return this.x=o*Math.sin(_),this.y=j,this.z=o*Math.cos(_),this}setFromMatrixPosition(o){let _=o.elements;return this.x=_[12],this.y=_[13],this.z=_[14],this}setFromMatrixScale(o){let _=this.setFromMatrixColumn(o,0).length(),j=this.setFromMatrixColumn(o,1).length(),et=this.setFromMatrixColumn(o,2).length();return this.x=_,this.y=j,this.z=et,this}setFromMatrixColumn(o,_){return this.fromArray(o.elements,_*4)}setFromMatrix3Column(o,_){return this.fromArray(o.elements,_*3)}setFromEuler(o){return this.x=o._x,this.y=o._y,this.z=o._z,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z}fromArray(o,_=0){return this.x=o[_],this.y=o[_+1],this.z=o[_+2],this}toArray(o=[],_=0){return o[_]=this.x,o[_+1]=this.y,o[_+2]=this.z,o}fromBufferAttribute(o,_){return this.x=o.getX(_),this.y=o.getY(_),this.z=o.getZ(_),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let o=(Math.random()-.5)*2,_=Math.random()*Math.PI*2,j=Math.sqrt(1-o**2);return this.x=j*Math.cos(_),this.y=j*Math.sin(_),this.z=o,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},mS=new E$2,kT=new Qe,jt=class{constructor(s=new E$2(1/0,1/0,1/0),o=new E$2(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=s,this.max=o}set(s,o){return this.min.copy(s),this.max.copy(o),this}setFromArray(s){let o=1/0,_=1/0,j=1/0,et=-1/0,st=-1/0,nt=-1/0;for(let ct=0,At=s.length;ct<At;ct+=3){let mt=s[ct],gt=s[ct+1],_t=s[ct+2];mt<o&&(o=mt),gt<_&&(_=gt),_t<j&&(j=_t),mt>et&&(et=mt),gt>st&&(st=gt),_t>nt&&(nt=_t)}return this.min.set(o,_,j),this.max.set(et,st,nt),this}setFromBufferAttribute(s){let o=1/0,_=1/0,j=1/0,et=-1/0,st=-1/0,nt=-1/0;for(let ct=0,At=s.count;ct<At;ct++){let mt=s.getX(ct),gt=s.getY(ct),_t=s.getZ(ct);mt<o&&(o=mt),gt<_&&(_=gt),_t<j&&(j=_t),mt>et&&(et=mt),gt>st&&(st=gt),_t>nt&&(nt=_t)}return this.min.set(o,_,j),this.max.set(et,st,nt),this}setFromPoints(s){this.makeEmpty();for(let o=0,_=s.length;o<_;o++)this.expandByPoint(s[o]);return this}setFromCenterAndSize(s,o){let _=sc.copy(o).multiplyScalar(.5);return this.min.copy(s).sub(_),this.max.copy(s).add(_),this}setFromObject(s,o=!1){return this.makeEmpty(),this.expandByObject(s,o)}clone(){return new this.constructor().copy(this)}copy(s){return this.min.copy(s.min),this.max.copy(s.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(s){return this.isEmpty()?s.set(0,0,0):s.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(s){return this.isEmpty()?s.set(0,0,0):s.subVectors(this.max,this.min)}expandByPoint(s){return this.min.min(s),this.max.max(s),this}expandByVector(s){return this.min.sub(s),this.max.add(s),this}expandByScalar(s){return this.min.addScalar(-s),this.max.addScalar(s),this}expandByObject(s,o=!1){s.updateWorldMatrix(!1,!1);let _=s.geometry;if(_!==void 0)if(o&&_.attributes!=null&&_.attributes.position!==void 0){let et=_.attributes.position;for(let st=0,nt=et.count;st<nt;st++)sc.fromBufferAttribute(et,st).applyMatrix4(s.matrixWorld),this.expandByPoint(sc)}else _.boundingBox===null&&_.computeBoundingBox(),gS.copy(_.boundingBox),gS.applyMatrix4(s.matrixWorld),this.union(gS);let j=s.children;for(let et=0,st=j.length;et<st;et++)this.expandByObject(j[et],o);return this}containsPoint(s){return!(s.x<this.min.x||s.x>this.max.x||s.y<this.min.y||s.y>this.max.y||s.z<this.min.z||s.z>this.max.z)}containsBox(s){return this.min.x<=s.min.x&&s.max.x<=this.max.x&&this.min.y<=s.min.y&&s.max.y<=this.max.y&&this.min.z<=s.min.z&&s.max.z<=this.max.z}getParameter(s,o){return o.set((s.x-this.min.x)/(this.max.x-this.min.x),(s.y-this.min.y)/(this.max.y-this.min.y),(s.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(s){return!(s.max.x<this.min.x||s.min.x>this.max.x||s.max.y<this.min.y||s.min.y>this.max.y||s.max.z<this.min.z||s.min.z>this.max.z)}intersectsSphere(s){return this.clampPoint(s.center,sc),sc.distanceToSquared(s.center)<=s.radius*s.radius}intersectsPlane(s){let o,_;return s.normal.x>0?(o=s.normal.x*this.min.x,_=s.normal.x*this.max.x):(o=s.normal.x*this.max.x,_=s.normal.x*this.min.x),s.normal.y>0?(o+=s.normal.y*this.min.y,_+=s.normal.y*this.max.y):(o+=s.normal.y*this.max.y,_+=s.normal.y*this.min.y),s.normal.z>0?(o+=s.normal.z*this.min.z,_+=s.normal.z*this.max.z):(o+=s.normal.z*this.max.z,_+=s.normal.z*this.min.z),o<=-s.constant&&_>=-s.constant}intersectsTriangle(s){if(this.isEmpty())return!1;this.getCenter(jf),wg.subVectors(this.max,jf),fu.subVectors(s.a,jf),pu.subVectors(s.b,jf),mu.subVectors(s.c,jf),Ga.subVectors(pu,fu),ja.subVectors(mu,pu),oc.subVectors(fu,mu);let o=[0,-Ga.z,Ga.y,0,-ja.z,ja.y,0,-oc.z,oc.y,Ga.z,0,-Ga.x,ja.z,0,-ja.x,oc.z,0,-oc.x,-Ga.y,Ga.x,0,-ja.y,ja.x,0,-oc.y,oc.x,0];return!yS(o,fu,pu,mu,wg)||(o=[1,0,0,0,1,0,0,0,1],!yS(o,fu,pu,mu,wg))?!1:(Ag.crossVectors(Ga,ja),o=[Ag.x,Ag.y,Ag.z],yS(o,fu,pu,mu,wg))}clampPoint(s,o){return o.copy(s).clamp(this.min,this.max)}distanceToPoint(s){return sc.copy(s).clamp(this.min,this.max).sub(s).length()}getBoundingSphere(s){return this.getCenter(s.center),s.radius=this.getSize(sc).length()*.5,s}intersect(s){return this.min.max(s.min),this.max.min(s.max),this.isEmpty()&&this.makeEmpty(),this}union(s){return this.min.min(s.min),this.max.max(s.max),this}applyMatrix4(s){return this.isEmpty()?this:($o[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(s),$o[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(s),$o[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(s),$o[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(s),$o[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(s),$o[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(s),$o[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(s),$o[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(s),this.setFromPoints($o),this)}translate(s){return this.min.add(s),this.max.add(s),this}equals(s){return s.min.equals(this.min)&&s.max.equals(this.max)}},$o=[new E$2,new E$2,new E$2,new E$2,new E$2,new E$2,new E$2,new E$2],sc=new E$2,gS=new jt,fu=new E$2,pu=new E$2,mu=new E$2,Ga=new E$2,ja=new E$2,oc=new E$2,jf=new E$2,wg=new E$2,Ag=new E$2,ac=new E$2;function yS(s,o,_,j,et){for(let st=0,nt=s.length-3;st<=nt;st+=3){ac.fromArray(s,st);let ct=et.x*Math.abs(ac.x)+et.y*Math.abs(ac.y)+et.z*Math.abs(ac.z),At=o.dot(ac),mt=_.dot(ac),gt=j.dot(ac);if(Math.max(-Math.max(At,mt,gt),Math.min(At,mt,gt))>ct)return!1}return!0}var yV=new jt,Hf=new E$2,vS=new E$2,Or$1=class{constructor(o=new E$2,_=-1){this.center=o,this.radius=_}set(o,_){return this.center.copy(o),this.radius=_,this}setFromPoints(o,_){let j=this.center;_!==void 0?j.copy(_):yV.setFromPoints(o).getCenter(j);let et=0;for(let st=0,nt=o.length;st<nt;st++)et=Math.max(et,j.distanceToSquared(o[st]));return this.radius=Math.sqrt(et),this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(o){return o.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(o){return o.distanceTo(this.center)-this.radius}intersectsSphere(o){let _=this.radius+o.radius;return o.center.distanceToSquared(this.center)<=_*_}intersectsBox(o){return o.intersectsSphere(this)}intersectsPlane(o){return Math.abs(o.distanceToPoint(this.center))<=this.radius}clampPoint(o,_){let j=this.center.distanceToSquared(o);return _.copy(o),j>this.radius*this.radius&&(_.sub(this.center).normalize(),_.multiplyScalar(this.radius).add(this.center)),_}getBoundingBox(o){return this.isEmpty()?(o.makeEmpty(),o):(o.set(this.center,this.center),o.expandByScalar(this.radius),o)}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}expandByPoint(o){if(this.isEmpty())return this.center.copy(o),this.radius=0,this;Hf.subVectors(o,this.center);let _=Hf.lengthSq();if(_>this.radius*this.radius){let j=Math.sqrt(_),et=(j-this.radius)*.5;this.center.addScaledVector(Hf,et/j),this.radius+=et}return this}union(o){return o.isEmpty()?this:this.isEmpty()?(this.copy(o),this):(this.center.equals(o.center)===!0?this.radius=Math.max(this.radius,o.radius):(vS.subVectors(o.center,this.center).setLength(o.radius),this.expandByPoint(Hf.copy(o.center).add(vS)),this.expandByPoint(Hf.copy(o.center).sub(vS))),this)}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new this.constructor().copy(this)}},ea=new E$2,xS=new E$2,Eg=new E$2,Ha=new E$2,bS=new E$2,Mg=new E$2,SS=new E$2,Rs=class{constructor(s=new E$2,o=new E$2(0,0,-1)){this.origin=s,this.direction=o}set(s,o){return this.origin.copy(s),this.direction.copy(o),this}copy(s){return this.origin.copy(s.origin),this.direction.copy(s.direction),this}at(s,o){return o.copy(this.direction).multiplyScalar(s).add(this.origin)}lookAt(s){return this.direction.copy(s).sub(this.origin).normalize(),this}recast(s){return this.origin.copy(this.at(s,ea)),this}closestPointToPoint(s,o){o.subVectors(s,this.origin);let _=o.dot(this.direction);return _<0?o.copy(this.origin):o.copy(this.direction).multiplyScalar(_).add(this.origin)}distanceToPoint(s){return Math.sqrt(this.distanceSqToPoint(s))}distanceSqToPoint(s){let o=ea.subVectors(s,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(s):(ea.copy(this.direction).multiplyScalar(o).add(this.origin),ea.distanceToSquared(s))}distanceSqToSegment(s,o,_,j){xS.copy(s).add(o).multiplyScalar(.5),Eg.copy(o).sub(s).normalize(),Ha.copy(this.origin).sub(xS);let et=s.distanceTo(o)*.5,st=-this.direction.dot(Eg),nt=Ha.dot(this.direction),ct=-Ha.dot(Eg),At=Ha.lengthSq(),mt=Math.abs(1-st*st),gt,_t,Et,Ct;if(mt>0)if(gt=st*ct-nt,_t=st*nt-ct,Ct=et*mt,gt>=0)if(_t>=-Ct)if(_t<=Ct){let Bt=1/mt;gt*=Bt,_t*=Bt,Et=gt*(gt+st*_t+2*nt)+_t*(st*gt+_t+2*ct)+At}else _t=et,gt=Math.max(0,-(st*_t+nt)),Et=-gt*gt+_t*(_t+2*ct)+At;else _t=-et,gt=Math.max(0,-(st*_t+nt)),Et=-gt*gt+_t*(_t+2*ct)+At;else _t<=-Ct?(gt=Math.max(0,-(-st*et+nt)),_t=gt>0?-et:Math.min(Math.max(-et,-ct),et),Et=-gt*gt+_t*(_t+2*ct)+At):_t<=Ct?(gt=0,_t=Math.min(Math.max(-et,-ct),et),Et=_t*(_t+2*ct)+At):(gt=Math.max(0,-(st*et+nt)),_t=gt>0?et:Math.min(Math.max(-et,-ct),et),Et=-gt*gt+_t*(_t+2*ct)+At);else _t=st>0?-et:et,gt=Math.max(0,-(st*_t+nt)),Et=-gt*gt+_t*(_t+2*ct)+At;return _&&_.copy(this.direction).multiplyScalar(gt).add(this.origin),j&&j.copy(Eg).multiplyScalar(_t).add(xS),Et}intersectSphere(s,o){ea.subVectors(s.center,this.origin);let _=ea.dot(this.direction),j=ea.dot(ea)-_*_,et=s.radius*s.radius;if(j>et)return null;let st=Math.sqrt(et-j),nt=_-st,ct=_+st;return nt<0&&ct<0?null:nt<0?this.at(ct,o):this.at(nt,o)}intersectsSphere(s){return this.distanceSqToPoint(s.center)<=s.radius*s.radius}distanceToPlane(s){let o=s.normal.dot(this.direction);if(o===0)return s.distanceToPoint(this.origin)===0?0:null;let _=-(this.origin.dot(s.normal)+s.constant)/o;return _>=0?_:null}intersectPlane(s,o){let _=this.distanceToPlane(s);return _===null?null:this.at(_,o)}intersectsPlane(s){let o=s.distanceToPoint(this.origin);return o===0||s.normal.dot(this.direction)*o<0}intersectBox(s,o){let _,j,et,st,nt,ct,At=1/this.direction.x,mt=1/this.direction.y,gt=1/this.direction.z,_t=this.origin;return At>=0?(_=(s.min.x-_t.x)*At,j=(s.max.x-_t.x)*At):(_=(s.max.x-_t.x)*At,j=(s.min.x-_t.x)*At),mt>=0?(et=(s.min.y-_t.y)*mt,st=(s.max.y-_t.y)*mt):(et=(s.max.y-_t.y)*mt,st=(s.min.y-_t.y)*mt),_>st||et>j||((et>_||isNaN(_))&&(_=et),(st<j||isNaN(j))&&(j=st),gt>=0?(nt=(s.min.z-_t.z)*gt,ct=(s.max.z-_t.z)*gt):(nt=(s.max.z-_t.z)*gt,ct=(s.min.z-_t.z)*gt),_>ct||nt>j)||((nt>_||_!==_)&&(_=nt),(ct<j||j!==j)&&(j=ct),j<0)?null:this.at(_>=0?_:j,o)}intersectsBox(s){return this.intersectBox(s,ea)!==null}intersectTriangle(s,o,_,j,et){bS.subVectors(o,s),Mg.subVectors(_,s),SS.crossVectors(bS,Mg);let st=this.direction.dot(SS),nt;if(st>0){if(j)return null;nt=1}else if(st<0)nt=-1,st=-st;else return null;Ha.subVectors(this.origin,s);let ct=nt*this.direction.dot(Mg.crossVectors(Ha,Mg));if(ct<0)return null;let At=nt*this.direction.dot(bS.cross(Ha));if(At<0||ct+At>st)return null;let mt=-nt*Ha.dot(SS);return mt<0?null:this.at(mt/st,et)}applyMatrix4(s){return this.origin.applyMatrix4(s),this.direction.transformDirection(s),this}equals(s){return s.origin.equals(this.origin)&&s.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ue$2=class{constructor(){ue$2.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft){let Rt=this.elements;return Rt[0]=o,Rt[4]=_,Rt[8]=j,Rt[12]=et,Rt[1]=st,Rt[5]=nt,Rt[9]=ct,Rt[13]=At,Rt[2]=mt,Rt[6]=gt,Rt[10]=_t,Rt[14]=Et,Rt[3]=Ct,Rt[7]=Bt,Rt[11]=Dt,Rt[15]=Ft,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ue$2().fromArray(this.elements)}copy(o){let _=this.elements,j=o.elements;return _[0]=j[0],_[1]=j[1],_[2]=j[2],_[3]=j[3],_[4]=j[4],_[5]=j[5],_[6]=j[6],_[7]=j[7],_[8]=j[8],_[9]=j[9],_[10]=j[10],_[11]=j[11],_[12]=j[12],_[13]=j[13],_[14]=j[14],_[15]=j[15],this}copyPosition(o){let _=this.elements,j=o.elements;return _[12]=j[12],_[13]=j[13],_[14]=j[14],this}setFromMatrix3(o){let _=o.elements;return this.set(_[0],_[3],_[6],0,_[1],_[4],_[7],0,_[2],_[5],_[8],0,0,0,0,1),this}extractBasis(o,_,j){return o.setFromMatrixColumn(this,0),_.setFromMatrixColumn(this,1),j.setFromMatrixColumn(this,2),this}makeBasis(o,_,j){return this.set(o.x,_.x,j.x,0,o.y,_.y,j.y,0,o.z,_.z,j.z,0,0,0,0,1),this}extractRotation(o){let _=this.elements,j=o.elements,et=1/gu.setFromMatrixColumn(o,0).length(),st=1/gu.setFromMatrixColumn(o,1).length(),nt=1/gu.setFromMatrixColumn(o,2).length();return _[0]=j[0]*et,_[1]=j[1]*et,_[2]=j[2]*et,_[3]=0,_[4]=j[4]*st,_[5]=j[5]*st,_[6]=j[6]*st,_[7]=0,_[8]=j[8]*nt,_[9]=j[9]*nt,_[10]=j[10]*nt,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,this}makeRotationFromEuler(o){let _=this.elements,j=o.x,et=o.y,st=o.z,nt=Math.cos(j),ct=Math.sin(j),At=Math.cos(et),mt=Math.sin(et),gt=Math.cos(st),_t=Math.sin(st);if(o.order==="XYZ"){let Et=nt*gt,Ct=nt*_t,Bt=ct*gt,Dt=ct*_t;_[0]=At*gt,_[4]=-At*_t,_[8]=mt,_[1]=Ct+Bt*mt,_[5]=Et-Dt*mt,_[9]=-ct*At,_[2]=Dt-Et*mt,_[6]=Bt+Ct*mt,_[10]=nt*At}else if(o.order==="YXZ"){let Et=At*gt,Ct=At*_t,Bt=mt*gt,Dt=mt*_t;_[0]=Et+Dt*ct,_[4]=Bt*ct-Ct,_[8]=nt*mt,_[1]=nt*_t,_[5]=nt*gt,_[9]=-ct,_[2]=Ct*ct-Bt,_[6]=Dt+Et*ct,_[10]=nt*At}else if(o.order==="ZXY"){let Et=At*gt,Ct=At*_t,Bt=mt*gt,Dt=mt*_t;_[0]=Et-Dt*ct,_[4]=-nt*_t,_[8]=Bt+Ct*ct,_[1]=Ct+Bt*ct,_[5]=nt*gt,_[9]=Dt-Et*ct,_[2]=-nt*mt,_[6]=ct,_[10]=nt*At}else if(o.order==="ZYX"){let Et=nt*gt,Ct=nt*_t,Bt=ct*gt,Dt=ct*_t;_[0]=At*gt,_[4]=Bt*mt-Ct,_[8]=Et*mt+Dt,_[1]=At*_t,_[5]=Dt*mt+Et,_[9]=Ct*mt-Bt,_[2]=-mt,_[6]=ct*At,_[10]=nt*At}else if(o.order==="YZX"){let Et=nt*At,Ct=nt*mt,Bt=ct*At,Dt=ct*mt;_[0]=At*gt,_[4]=Dt-Et*_t,_[8]=Bt*_t+Ct,_[1]=_t,_[5]=nt*gt,_[9]=-ct*gt,_[2]=-mt*gt,_[6]=Ct*_t+Bt,_[10]=Et-Dt*_t}else if(o.order==="XZY"){let Et=nt*At,Ct=nt*mt,Bt=ct*At,Dt=ct*mt;_[0]=At*gt,_[4]=-_t,_[8]=mt*gt,_[1]=Et*_t+Dt,_[5]=nt*gt,_[9]=Ct*_t-Bt,_[2]=Bt*_t-Ct,_[6]=ct*gt,_[10]=Dt*_t+Et}return _[3]=0,_[7]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,this}makeRotationFromQuaternion(o){return this.compose(vV,o,xV)}lookAt(o,_,j){let et=this.elements;return Gn.subVectors(o,_),Gn.lengthSq()===0&&(Gn.z=1),Gn.normalize(),Wa.crossVectors(j,Gn),Wa.lengthSq()===0&&(Math.abs(j.z)===1?Gn.x+=1e-4:Gn.z+=1e-4,Gn.normalize(),Wa.crossVectors(j,Gn)),Wa.normalize(),Tg.crossVectors(Gn,Wa),et[0]=Wa.x,et[4]=Tg.x,et[8]=Gn.x,et[1]=Wa.y,et[5]=Tg.y,et[9]=Gn.y,et[2]=Wa.z,et[6]=Tg.z,et[10]=Gn.z,this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,_){let j=o.elements,et=_.elements,st=this.elements,nt=j[0],ct=j[4],At=j[8],mt=j[12],gt=j[1],_t=j[5],Et=j[9],Ct=j[13],Bt=j[2],Dt=j[6],Ft=j[10],Rt=j[14],Nt=j[3],Gt=j[7],dr=j[11],ts=j[15],es=et[0],ds=et[4],tn=et[8],rn=et[12],un=et[1],$n=et[5],kn=et[9],lo=et[13],Il=et[2],cu=et[6],Ko=et[10],ru=et[14],Tn=et[3],ao=et[7],uu=et[11],hu=et[15];return st[0]=nt*es+ct*un+At*Il+mt*Tn,st[4]=nt*ds+ct*$n+At*cu+mt*ao,st[8]=nt*tn+ct*kn+At*Ko+mt*uu,st[12]=nt*rn+ct*lo+At*ru+mt*hu,st[1]=gt*es+_t*un+Et*Il+Ct*Tn,st[5]=gt*ds+_t*$n+Et*cu+Ct*ao,st[9]=gt*tn+_t*kn+Et*Ko+Ct*uu,st[13]=gt*rn+_t*lo+Et*ru+Ct*hu,st[2]=Bt*es+Dt*un+Ft*Il+Rt*Tn,st[6]=Bt*ds+Dt*$n+Ft*cu+Rt*ao,st[10]=Bt*tn+Dt*kn+Ft*Ko+Rt*uu,st[14]=Bt*rn+Dt*lo+Ft*ru+Rt*hu,st[3]=Nt*es+Gt*un+dr*Il+ts*Tn,st[7]=Nt*ds+Gt*$n+dr*cu+ts*ao,st[11]=Nt*tn+Gt*kn+dr*Ko+ts*uu,st[15]=Nt*rn+Gt*lo+dr*ru+ts*hu,this}multiplyScalar(o){let _=this.elements;return _[0]*=o,_[4]*=o,_[8]*=o,_[12]*=o,_[1]*=o,_[5]*=o,_[9]*=o,_[13]*=o,_[2]*=o,_[6]*=o,_[10]*=o,_[14]*=o,_[3]*=o,_[7]*=o,_[11]*=o,_[15]*=o,this}determinant(){let o=this.elements,_=o[0],j=o[4],et=o[8],st=o[12],nt=o[1],ct=o[5],At=o[9],mt=o[13],gt=o[2],_t=o[6],Et=o[10],Ct=o[14],Bt=o[3],Dt=o[7],Ft=o[11],Rt=o[15];return Bt*(+st*At*_t-et*mt*_t-st*ct*Et+j*mt*Et+et*ct*Ct-j*At*Ct)+Dt*(+_*At*Ct-_*mt*Et+st*nt*Et-et*nt*Ct+et*mt*gt-st*At*gt)+Ft*(+_*mt*_t-_*ct*Ct-st*nt*_t+j*nt*Ct+st*ct*gt-j*mt*gt)+Rt*(-et*ct*gt-_*At*_t+_*ct*Et+et*nt*_t-j*nt*Et+j*At*gt)}transpose(){let o=this.elements,_;return _=o[1],o[1]=o[4],o[4]=_,_=o[2],o[2]=o[8],o[8]=_,_=o[6],o[6]=o[9],o[9]=_,_=o[3],o[3]=o[12],o[12]=_,_=o[7],o[7]=o[13],o[13]=_,_=o[11],o[11]=o[14],o[14]=_,this}setPosition(o,_,j){let et=this.elements;return o.isVector3?(et[12]=o.x,et[13]=o.y,et[14]=o.z):(et[12]=o,et[13]=_,et[14]=j),this}invert(){let o=this.elements,_=o[0],j=o[1],et=o[2],st=o[3],nt=o[4],ct=o[5],At=o[6],mt=o[7],gt=o[8],_t=o[9],Et=o[10],Ct=o[11],Bt=o[12],Dt=o[13],Ft=o[14],Rt=o[15],Nt=_t*Ft*mt-Dt*Et*mt+Dt*At*Ct-ct*Ft*Ct-_t*At*Rt+ct*Et*Rt,Gt=Bt*Et*mt-gt*Ft*mt-Bt*At*Ct+nt*Ft*Ct+gt*At*Rt-nt*Et*Rt,dr=gt*Dt*mt-Bt*_t*mt+Bt*ct*Ct-nt*Dt*Ct-gt*ct*Rt+nt*_t*Rt,ts=Bt*_t*At-gt*Dt*At-Bt*ct*Et+nt*Dt*Et+gt*ct*Ft-nt*_t*Ft,es=_*Nt+j*Gt+et*dr+st*ts;if(es===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let ds=1/es;return o[0]=Nt*ds,o[1]=(Dt*Et*st-_t*Ft*st-Dt*et*Ct+j*Ft*Ct+_t*et*Rt-j*Et*Rt)*ds,o[2]=(ct*Ft*st-Dt*At*st+Dt*et*mt-j*Ft*mt-ct*et*Rt+j*At*Rt)*ds,o[3]=(_t*At*st-ct*Et*st-_t*et*mt+j*Et*mt+ct*et*Ct-j*At*Ct)*ds,o[4]=Gt*ds,o[5]=(gt*Ft*st-Bt*Et*st+Bt*et*Ct-_*Ft*Ct-gt*et*Rt+_*Et*Rt)*ds,o[6]=(Bt*At*st-nt*Ft*st-Bt*et*mt+_*Ft*mt+nt*et*Rt-_*At*Rt)*ds,o[7]=(nt*Et*st-gt*At*st+gt*et*mt-_*Et*mt-nt*et*Ct+_*At*Ct)*ds,o[8]=dr*ds,o[9]=(Bt*_t*st-gt*Dt*st-Bt*j*Ct+_*Dt*Ct+gt*j*Rt-_*_t*Rt)*ds,o[10]=(nt*Dt*st-Bt*ct*st+Bt*j*mt-_*Dt*mt-nt*j*Rt+_*ct*Rt)*ds,o[11]=(gt*ct*st-nt*_t*st-gt*j*mt+_*_t*mt+nt*j*Ct-_*ct*Ct)*ds,o[12]=ts*ds,o[13]=(gt*Dt*et-Bt*_t*et+Bt*j*Et-_*Dt*Et-gt*j*Ft+_*_t*Ft)*ds,o[14]=(Bt*ct*et-nt*Dt*et-Bt*j*At+_*Dt*At+nt*j*Ft-_*ct*Ft)*ds,o[15]=(nt*_t*et-gt*ct*et+gt*j*At-_*_t*At-nt*j*Et+_*ct*Et)*ds,this}scale(o){let _=this.elements,j=o.x,et=o.y,st=o.z;return _[0]*=j,_[4]*=et,_[8]*=st,_[1]*=j,_[5]*=et,_[9]*=st,_[2]*=j,_[6]*=et,_[10]*=st,_[3]*=j,_[7]*=et,_[11]*=st,this}getMaxScaleOnAxis(){let o=this.elements,_=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],j=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],et=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(_,j,et))}makeTranslation(o,_,j){return this.set(1,0,0,o,0,1,0,_,0,0,1,j,0,0,0,1),this}makeRotationX(o){let _=Math.cos(o),j=Math.sin(o);return this.set(1,0,0,0,0,_,-j,0,0,j,_,0,0,0,0,1),this}makeRotationY(o){let _=Math.cos(o),j=Math.sin(o);return this.set(_,0,j,0,0,1,0,0,-j,0,_,0,0,0,0,1),this}makeRotationZ(o){let _=Math.cos(o),j=Math.sin(o);return this.set(_,-j,0,0,j,_,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(o,_){let j=Math.cos(_),et=Math.sin(_),st=1-j,nt=o.x,ct=o.y,At=o.z,mt=st*nt,gt=st*ct;return this.set(mt*nt+j,mt*ct-et*At,mt*At+et*ct,0,mt*ct+et*At,gt*ct+j,gt*At-et*nt,0,mt*At-et*ct,gt*At+et*nt,st*At*At+j,0,0,0,0,1),this}makeScale(o,_,j){return this.set(o,0,0,0,0,_,0,0,0,0,j,0,0,0,0,1),this}makeShear(o,_,j,et,st,nt){return this.set(1,j,st,0,o,1,nt,0,_,et,1,0,0,0,0,1),this}compose(o,_,j){let et=this.elements,st=_._x,nt=_._y,ct=_._z,At=_._w,mt=st+st,gt=nt+nt,_t=ct+ct,Et=st*mt,Ct=st*gt,Bt=st*_t,Dt=nt*gt,Ft=nt*_t,Rt=ct*_t,Nt=At*mt,Gt=At*gt,dr=At*_t,ts=j.x,es=j.y,ds=j.z;return et[0]=(1-(Dt+Rt))*ts,et[1]=(Ct+dr)*ts,et[2]=(Bt-Gt)*ts,et[3]=0,et[4]=(Ct-dr)*es,et[5]=(1-(Et+Rt))*es,et[6]=(Ft+Nt)*es,et[7]=0,et[8]=(Bt+Gt)*ds,et[9]=(Ft-Nt)*ds,et[10]=(1-(Et+Dt))*ds,et[11]=0,et[12]=o.x,et[13]=o.y,et[14]=o.z,et[15]=1,this}decompose(o,_,j){let et=this.elements,st=gu.set(et[0],et[1],et[2]).length(),nt=gu.set(et[4],et[5],et[6]).length(),ct=gu.set(et[8],et[9],et[10]).length();this.determinant()<0&&(st=-st),o.x=et[12],o.y=et[13],o.z=et[14],Ps.copy(this);let At=1/st,mt=1/nt,gt=1/ct;return Ps.elements[0]*=At,Ps.elements[1]*=At,Ps.elements[2]*=At,Ps.elements[4]*=mt,Ps.elements[5]*=mt,Ps.elements[6]*=mt,Ps.elements[8]*=gt,Ps.elements[9]*=gt,Ps.elements[10]*=gt,_.setFromRotationMatrix(Ps),j.x=st,j.y=nt,j.z=ct,this}makePerspective(o,_,j,et,st,nt){let ct=this.elements,At=2*st/(_-o),mt=2*st/(j-et),gt=(_+o)/(_-o),_t=(j+et)/(j-et),Et=-(nt+st)/(nt-st),Ct=-2*nt*st/(nt-st);return ct[0]=At,ct[4]=0,ct[8]=gt,ct[12]=0,ct[1]=0,ct[5]=mt,ct[9]=_t,ct[13]=0,ct[2]=0,ct[6]=0,ct[10]=Et,ct[14]=Ct,ct[3]=0,ct[7]=0,ct[11]=-1,ct[15]=0,this}makeOrthographic(o,_,j,et,st,nt){let ct=this.elements,At=1/(_-o),mt=1/(j-et),gt=1/(nt-st),_t=(_+o)*At,Et=(j+et)*mt,Ct=(nt+st)*gt;return ct[0]=2*At,ct[4]=0,ct[8]=0,ct[12]=-_t,ct[1]=0,ct[5]=2*mt,ct[9]=0,ct[13]=-Et,ct[2]=0,ct[6]=0,ct[10]=-2*gt,ct[14]=-Ct,ct[3]=0,ct[7]=0,ct[11]=0,ct[15]=1,this}equals(o){let _=this.elements,j=o.elements;for(let et=0;et<16;et++)if(_[et]!==j[et])return!1;return!0}fromArray(o,_=0){for(let j=0;j<16;j++)this.elements[j]=o[j+_];return this}toArray(o=[],_=0){let j=this.elements;return o[_]=j[0],o[_+1]=j[1],o[_+2]=j[2],o[_+3]=j[3],o[_+4]=j[4],o[_+5]=j[5],o[_+6]=j[6],o[_+7]=j[7],o[_+8]=j[8],o[_+9]=j[9],o[_+10]=j[10],o[_+11]=j[11],o[_+12]=j[12],o[_+13]=j[13],o[_+14]=j[14],o[_+15]=j[15],o}},gu=new E$2,Ps=new ue$2,vV=new E$2(0,0,0),xV=new E$2(1,1,1),Wa=new E$2,Tg=new E$2,Gn=new E$2,GT=new ue$2,jT=new Qe,ir=class{constructor(s=0,o=0,_=0,j=ir.DEFAULT_ORDER){this.isEuler=!0,this._x=s,this._y=o,this._z=_,this._order=j}get x(){return this._x}set x(s){this._x=s,this._onChangeCallback()}get y(){return this._y}set y(s){this._y=s,this._onChangeCallback()}get z(){return this._z}set z(s){this._z=s,this._onChangeCallback()}get order(){return this._order}set order(s){this._order=s,this._onChangeCallback()}set(s,o,_,j=this._order){return this._x=s,this._y=o,this._z=_,this._order=j,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(s){return this._x=s._x,this._y=s._y,this._z=s._z,this._order=s._order,this._onChangeCallback(),this}setFromRotationMatrix(s,o=this._order,_=!0){let j=s.elements,et=j[0],st=j[4],nt=j[8],ct=j[1],At=j[5],mt=j[9],gt=j[2],_t=j[6],Et=j[10];switch(o){case"XYZ":this._y=Math.asin(di(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-mt,Et),this._z=Math.atan2(-st,et)):(this._x=Math.atan2(_t,At),this._z=0);break;case"YXZ":this._x=Math.asin(-di(mt,-1,1)),Math.abs(mt)<.9999999?(this._y=Math.atan2(nt,Et),this._z=Math.atan2(ct,At)):(this._y=Math.atan2(-gt,et),this._z=0);break;case"ZXY":this._x=Math.asin(di(_t,-1,1)),Math.abs(_t)<.9999999?(this._y=Math.atan2(-gt,Et),this._z=Math.atan2(-st,At)):(this._y=0,this._z=Math.atan2(ct,et));break;case"ZYX":this._y=Math.asin(-di(gt,-1,1)),Math.abs(gt)<.9999999?(this._x=Math.atan2(_t,Et),this._z=Math.atan2(ct,et)):(this._x=0,this._z=Math.atan2(-st,At));break;case"YZX":this._z=Math.asin(di(ct,-1,1)),Math.abs(ct)<.9999999?(this._x=Math.atan2(-mt,At),this._y=Math.atan2(-gt,et)):(this._x=0,this._y=Math.atan2(nt,Et));break;case"XZY":this._z=Math.asin(-di(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(_t,At),this._y=Math.atan2(nt,et)):(this._x=Math.atan2(-mt,Et),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+o)}return this._order=o,_===!0&&this._onChangeCallback(),this}setFromQuaternion(s,o,_){return GT.makeRotationFromQuaternion(s),this.setFromRotationMatrix(GT,o,_)}setFromVector3(s,o=this._order){return this.set(s.x,s.y,s.z,o)}reorder(s){return jT.setFromEuler(this),this.setFromQuaternion(jT,s)}equals(s){return s._x===this._x&&s._y===this._y&&s._z===this._z&&s._order===this._order}fromArray(s){return this._x=s[0],this._y=s[1],this._z=s[2],s[3]!==void 0&&(this._order=s[3]),this._onChangeCallback(),this}toArray(s=[],o=0){return s[o]=this._x,s[o+1]=this._y,s[o+2]=this._z,s[o+3]=this._order,s}_onChange(s){return this._onChangeCallback=s,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};ir.DEFAULT_ORDER="XYZ";var lp=class{constructor(){this.mask=1}set(s){this.mask=(1<<s|0)>>>0}enable(s){this.mask|=1<<s|0}enableAll(){this.mask=-1}toggle(s){this.mask^=1<<s|0}disable(s){this.mask&=~(1<<s|0)}disableAll(){this.mask=0}test(s){return(this.mask&s.mask)!==0}isEnabled(s){return(this.mask&(1<<s|0))!==0}},bV=0,HT=new E$2,yu=new Qe,ta=new ue$2,Cg=new E$2,Wf=new E$2,SV=new E$2,wV=new Qe,WT$1=new E$2(1,0,0),qT=new E$2(0,1,0),YT=new E$2(0,0,1),AV={type:"added"},XT={type:"removed"},Mt=class extends pr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bV++}),this.uuid=is$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DEFAULT_UP.clone();let s=new E$2,o=new ir,_=new Qe,j=new E$2(1,1,1);function et(){_.setFromEuler(o,!1)}function st(){o.setFromQuaternion(_,void 0,!1)}o._onChange(et),_._onChange(st),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:s},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:_},scale:{configurable:!0,enumerable:!0,value:j},modelViewMatrix:{value:new ue$2},normalMatrix:{value:new fr$7}}),this.matrix=new ue$2,this.matrixWorld=new ue$2,this.matrixAutoUpdate=Mt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new lp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(s){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(s),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(s){return this.quaternion.premultiply(s),this}setRotationFromAxisAngle(s,o){this.quaternion.setFromAxisAngle(s,o)}setRotationFromEuler(s){this.quaternion.setFromEuler(s,!0)}setRotationFromMatrix(s){this.quaternion.setFromRotationMatrix(s)}setRotationFromQuaternion(s){this.quaternion.copy(s)}rotateOnAxis(s,o){return yu.setFromAxisAngle(s,o),this.quaternion.multiply(yu),this}rotateOnWorldAxis(s,o){return yu.setFromAxisAngle(s,o),this.quaternion.premultiply(yu),this}rotateX(s){return this.rotateOnAxis(WT$1,s)}rotateY(s){return this.rotateOnAxis(qT,s)}rotateZ(s){return this.rotateOnAxis(YT,s)}translateOnAxis(s,o){return HT.copy(s).applyQuaternion(this.quaternion),this.position.add(HT.multiplyScalar(o)),this}translateX(s){return this.translateOnAxis(WT$1,s)}translateY(s){return this.translateOnAxis(qT,s)}translateZ(s){return this.translateOnAxis(YT,s)}localToWorld(s){return this.updateWorldMatrix(!0,!1),s.applyMatrix4(this.matrixWorld)}worldToLocal(s){return this.updateWorldMatrix(!0,!1),s.applyMatrix4(ta.copy(this.matrixWorld).invert())}lookAt(s,o,_){s.isVector3?Cg.copy(s):Cg.set(s,o,_);let j=this.parent;this.updateWorldMatrix(!0,!1),Wf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ta.lookAt(Wf,Cg,this.up):ta.lookAt(Cg,Wf,this.up),this.quaternion.setFromRotationMatrix(ta),j&&(ta.extractRotation(j.matrixWorld),yu.setFromRotationMatrix(ta),this.quaternion.premultiply(yu.invert()))}add(s){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return s===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",s),this):(s&&s.isObject3D?(s.parent!==null&&s.parent.remove(s),s.parent=this,this.children.push(s),s.dispatchEvent(AV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",s),this)}remove(s){if(arguments.length>1){for(let _=0;_<arguments.length;_++)this.remove(arguments[_]);return this}let o=this.children.indexOf(s);return o!==-1&&(s.parent=null,this.children.splice(o,1),s.dispatchEvent(XT)),this}removeFromParent(){let s=this.parent;return s!==null&&s.remove(this),this}clear(){for(let s=0;s<this.children.length;s++){let o=this.children[s];o.parent=null,o.dispatchEvent(XT)}return this.children.length=0,this}attach(s){return this.updateWorldMatrix(!0,!1),ta.copy(this.matrixWorld).invert(),s.parent!==null&&(s.parent.updateWorldMatrix(!0,!1),ta.multiply(s.parent.matrixWorld)),s.applyMatrix4(ta),this.add(s),s.updateWorldMatrix(!1,!0),this}getObjectById(s){return this.getObjectByProperty("id",s)}getObjectByName(s){return this.getObjectByProperty("name",s)}getObjectByProperty(s,o){if(this[s]===o)return this;for(let _=0,j=this.children.length;_<j;_++){let et=this.children[_].getObjectByProperty(s,o);if(et!==void 0)return et}}getObjectsByProperty(s,o){let _=[];this[s]===o&&_.push(this);for(let j=0,et=this.children.length;j<et;j++){let st=this.children[j].getObjectsByProperty(s,o);st.length>0&&(_=_.concat(st))}return _}getWorldPosition(s){return this.updateWorldMatrix(!0,!1),s.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wf,s,SV),s}getWorldScale(s){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wf,wV,s),s}getWorldDirection(s){this.updateWorldMatrix(!0,!1);let o=this.matrixWorld.elements;return s.set(o[8],o[9],o[10]).normalize()}raycast(){}traverse(s){s(this);let o=this.children;for(let _=0,j=o.length;_<j;_++)o[_].traverse(s)}traverseVisible(s){if(this.visible===!1)return;s(this);let o=this.children;for(let _=0,j=o.length;_<j;_++)o[_].traverseVisible(s)}traverseAncestors(s){let o=this.parent;o!==null&&(s(o),o.traverseAncestors(s))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(s){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||s)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,s=!0);let o=this.children;for(let _=0,j=o.length;_<j;_++){let et=o[_];(et.matrixWorldAutoUpdate===!0||s===!0)&&et.updateMatrixWorld(s)}}updateWorldMatrix(s,o){let _=this.parent;if(s===!0&&_!==null&&_.matrixWorldAutoUpdate===!0&&_.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0){let j=this.children;for(let et=0,st=j.length;et<st;et++){let nt=j[et];nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!1,!0)}}}toJSON(s){let o=s===void 0||typeof s=="string",_={};o&&(s={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},_.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let j={};j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),this.castShadow===!0&&(j.castShadow=!0),this.receiveShadow===!0&&(j.receiveShadow=!0),this.visible===!1&&(j.visible=!1),this.frustumCulled===!1&&(j.frustumCulled=!1),this.renderOrder!==0&&(j.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(j.userData=this.userData),j.layers=this.layers.mask,j.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(j.matrixAutoUpdate=!1),this.isInstancedMesh&&(j.type="InstancedMesh",j.count=this.count,j.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(j.instanceColor=this.instanceColor.toJSON()));function et(nt,ct){return nt[ct.uuid]===void 0&&(nt[ct.uuid]=ct.toJSON(s)),ct.uuid}if(this.isScene)this.background&&(this.background.isColor?j.background=this.background.toJSON():this.background.isTexture&&(j.background=this.background.toJSON(s).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(j.environment=this.environment.toJSON(s).uuid);else if(this.isMesh||this.isLine||this.isPoints){j.geometry=et(s.geometries,this.geometry);let nt=this.geometry.parameters;if(nt!==void 0&&nt.shapes!==void 0){let ct=nt.shapes;if(Array.isArray(ct))for(let At=0,mt=ct.length;At<mt;At++){let gt=ct[At];et(s.shapes,gt)}else et(s.shapes,ct)}}if(this.isSkinnedMesh&&(j.bindMode=this.bindMode,j.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(et(s.skeletons,this.skeleton),j.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let nt=[];for(let ct=0,At=this.material.length;ct<At;ct++)nt.push(et(s.materials,this.material[ct]));j.material=nt}else j.material=et(s.materials,this.material);if(this.children.length>0){j.children=[];for(let nt=0;nt<this.children.length;nt++)j.children.push(this.children[nt].toJSON(s).object)}if(this.animations.length>0){j.animations=[];for(let nt=0;nt<this.animations.length;nt++){let ct=this.animations[nt];j.animations.push(et(s.animations,ct))}}if(o){let nt=st(s.geometries),ct=st(s.materials),At=st(s.textures),mt=st(s.images),gt=st(s.shapes),_t=st(s.skeletons),Et=st(s.animations),Ct=st(s.nodes);nt.length>0&&(_.geometries=nt),ct.length>0&&(_.materials=ct),At.length>0&&(_.textures=At),mt.length>0&&(_.images=mt),gt.length>0&&(_.shapes=gt),_t.length>0&&(_.skeletons=_t),Et.length>0&&(_.animations=Et),Ct.length>0&&(_.nodes=Ct)}return _.object=j,_;function st(nt){let ct=[];for(let At in nt){let mt=nt[At];delete mt.metadata,ct.push(mt)}return ct}}clone(s){return new this.constructor().copy(this,s)}copy(s,o=!0){if(this.name=s.name,this.up.copy(s.up),this.position.copy(s.position),this.rotation.order=s.rotation.order,this.quaternion.copy(s.quaternion),this.scale.copy(s.scale),this.matrix.copy(s.matrix),this.matrixWorld.copy(s.matrixWorld),this.matrixAutoUpdate=s.matrixAutoUpdate,this.matrixWorldNeedsUpdate=s.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=s.matrixWorldAutoUpdate,this.layers.mask=s.layers.mask,this.visible=s.visible,this.castShadow=s.castShadow,this.receiveShadow=s.receiveShadow,this.frustumCulled=s.frustumCulled,this.renderOrder=s.renderOrder,this.userData=JSON.parse(JSON.stringify(s.userData)),o===!0)for(let _=0;_<s.children.length;_++){let j=s.children[_];this.add(j.clone())}return this}};Mt.DEFAULT_UP=new E$2(0,1,0);Mt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var _s=new E$2,ra=new E$2,wS=new E$2,ia=new E$2,vu=new E$2,xu=new E$2,QT=new E$2,AS=new E$2,ES=new E$2,MS$1=new E$2,Cr$1=class{constructor(o=new E$2,_=new E$2,j=new E$2){this.a=o,this.b=_,this.c=j}static getNormal(o,_,j,et){et.subVectors(j,_),_s.subVectors(o,_),et.cross(_s);let st=et.lengthSq();return st>0?et.multiplyScalar(1/Math.sqrt(st)):et.set(0,0,0)}static getBarycoord(o,_,j,et,st){_s.subVectors(et,_),ra.subVectors(j,_),wS.subVectors(o,_);let nt=_s.dot(_s),ct=_s.dot(ra),At=_s.dot(wS),mt=ra.dot(ra),gt=ra.dot(wS),_t=nt*mt-ct*ct;if(_t===0)return st.set(-2,-1,-1);let Et=1/_t,Ct=(mt*At-ct*gt)*Et,Bt=(nt*gt-ct*At)*Et;return st.set(1-Ct-Bt,Bt,Ct)}static containsPoint(o,_,j,et){return this.getBarycoord(o,_,j,et,ia),ia.x>=0&&ia.y>=0&&ia.x+ia.y<=1}static getUV(o,_,j,et,st,nt,ct,At){return this.getBarycoord(o,_,j,et,ia),At.set(0,0),At.addScaledVector(st,ia.x),At.addScaledVector(nt,ia.y),At.addScaledVector(ct,ia.z),At}static isFrontFacing(o,_,j,et){return _s.subVectors(j,_),ra.subVectors(o,_),_s.cross(ra).dot(et)<0}set(o,_,j){return this.a.copy(o),this.b.copy(_),this.c.copy(j),this}setFromPointsAndIndices(o,_,j,et){return this.a.copy(o[_]),this.b.copy(o[j]),this.c.copy(o[et]),this}setFromAttributeAndIndices(o,_,j,et){return this.a.fromBufferAttribute(o,_),this.b.fromBufferAttribute(o,j),this.c.fromBufferAttribute(o,et),this}clone(){return new this.constructor().copy(this)}copy(o){return this.a.copy(o.a),this.b.copy(o.b),this.c.copy(o.c),this}getArea(){return _s.subVectors(this.c,this.b),ra.subVectors(this.a,this.b),_s.cross(ra).length()*.5}getMidpoint(o){return o.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(o){return Cr$1.getNormal(this.a,this.b,this.c,o)}getPlane(o){return o.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(o,_){return Cr$1.getBarycoord(o,this.a,this.b,this.c,_)}getUV(o,_,j,et,st){return Cr$1.getUV(o,this.a,this.b,this.c,_,j,et,st)}containsPoint(o){return Cr$1.containsPoint(o,this.a,this.b,this.c)}isFrontFacing(o){return Cr$1.isFrontFacing(this.a,this.b,this.c,o)}intersectsBox(o){return o.intersectsTriangle(this)}closestPointToPoint(o,_){let j=this.a,et=this.b,st=this.c,nt,ct;vu.subVectors(et,j),xu.subVectors(st,j),AS.subVectors(o,j);let At=vu.dot(AS),mt=xu.dot(AS);if(At<=0&&mt<=0)return _.copy(j);ES.subVectors(o,et);let gt=vu.dot(ES),_t=xu.dot(ES);if(gt>=0&&_t<=gt)return _.copy(et);let Et=At*_t-gt*mt;if(Et<=0&&At>=0&&gt<=0)return nt=At/(At-gt),_.copy(j).addScaledVector(vu,nt);MS$1.subVectors(o,st);let Ct=vu.dot(MS$1),Bt=xu.dot(MS$1);if(Bt>=0&&Ct<=Bt)return _.copy(st);let Dt=Ct*mt-At*Bt;if(Dt<=0&&mt>=0&&Bt<=0)return ct=mt/(mt-Bt),_.copy(j).addScaledVector(xu,ct);let Ft=gt*Bt-Ct*_t;if(Ft<=0&&_t-gt>=0&&Ct-Bt>=0)return QT.subVectors(st,et),ct=(_t-gt)/(_t-gt+(Ct-Bt)),_.copy(et).addScaledVector(QT,ct);let Rt=1/(Ft+Dt+Et);return nt=Dt*Rt,ct=Et*Rt,_.copy(j).addScaledVector(vu,nt).addScaledVector(xu,ct)}equals(o){return o.a.equals(this.a)&&o.b.equals(this.b)&&o.c.equals(this.c)}},EV=0,fc=class extends pr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EV++}),this.uuid=is$1(),this.name="",this.type="Material",this.blending=Ya,this.side=Hn,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=kC,this.blendDst=GC,this.blendEquation=Tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=zS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tV,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=uS,this.stencilZFail=uS,this.stencilZPass=uS,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(s){this._alphaTest>0!=s>0&&this.version++,this._alphaTest=s}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(s){if(s!==void 0)for(let o in s){let _=s[o];if(_===void 0){console.warn("THREE.Material: '"+o+"' parameter is undefined.");continue}let j=this[o];if(j===void 0){console.warn("THREE."+this.type+": '"+o+"' is not a property of this material.");continue}j&&j.isColor?j.set(_):j&&j.isVector3&&_&&_.isVector3?j.copy(_):this[o]=_}}toJSON(s){let o=s===void 0||typeof s=="string";o&&(s={textures:{},images:{}});let _={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),this.color&&this.color.isColor&&(_.color=this.color.getHex()),this.roughness!==void 0&&(_.roughness=this.roughness),this.metalness!==void 0&&(_.metalness=this.metalness),this.sheen!==void 0&&(_.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(_.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(_.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(_.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(_.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(_.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(_.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(_.shininess=this.shininess),this.clearcoat!==void 0&&(_.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(_.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_.clearcoatMap=this.clearcoatMap.toJSON(s).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(s).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(s).uuid,_.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(_.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(_.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(_.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(_.iridescenceMap=this.iridescenceMap.toJSON(s).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(_.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(s).uuid),this.map&&this.map.isTexture&&(_.map=this.map.toJSON(s).uuid),this.matcap&&this.matcap.isTexture&&(_.matcap=this.matcap.toJSON(s).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_.alphaMap=this.alphaMap.toJSON(s).uuid),this.lightMap&&this.lightMap.isTexture&&(_.lightMap=this.lightMap.toJSON(s).uuid,_.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_.aoMap=this.aoMap.toJSON(s).uuid,_.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_.bumpMap=this.bumpMap.toJSON(s).uuid,_.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_.normalMap=this.normalMap.toJSON(s).uuid,_.normalMapType=this.normalMapType,_.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_.displacementMap=this.displacementMap.toJSON(s).uuid,_.displacementScale=this.displacementScale,_.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_.roughnessMap=this.roughnessMap.toJSON(s).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_.metalnessMap=this.metalnessMap.toJSON(s).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_.emissiveMap=this.emissiveMap.toJSON(s).uuid),this.specularMap&&this.specularMap.isTexture&&(_.specularMap=this.specularMap.toJSON(s).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_.specularIntensityMap=this.specularIntensityMap.toJSON(s).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(_.specularColorMap=this.specularColorMap.toJSON(s).uuid),this.envMap&&this.envMap.isTexture&&(_.envMap=this.envMap.toJSON(s).uuid,this.combine!==void 0&&(_.combine=this.combine)),this.envMapIntensity!==void 0&&(_.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(_.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(_.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_.gradientMap=this.gradientMap.toJSON(s).uuid),this.transmission!==void 0&&(_.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_.transmissionMap=this.transmissionMap.toJSON(s).uuid),this.thickness!==void 0&&(_.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_.thicknessMap=this.thicknessMap.toJSON(s).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(_.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(_.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(_.size=this.size),this.shadowSide!==null&&(_.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(_.sizeAttenuation=this.sizeAttenuation),this.blending!==Ya&&(_.blending=this.blending),this.side!==Hn&&(_.side=this.side),this.vertexColors&&(_.vertexColors=!0),this.opacity<1&&(_.opacity=this.opacity),this.transparent===!0&&(_.transparent=this.transparent),_.depthFunc=this.depthFunc,_.depthTest=this.depthTest,_.depthWrite=this.depthWrite,_.colorWrite=this.colorWrite,_.stencilWrite=this.stencilWrite,_.stencilWriteMask=this.stencilWriteMask,_.stencilFunc=this.stencilFunc,_.stencilRef=this.stencilRef,_.stencilFuncMask=this.stencilFuncMask,_.stencilFail=this.stencilFail,_.stencilZFail=this.stencilZFail,_.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(_.rotation=this.rotation),this.polygonOffset===!0&&(_.polygonOffset=!0),this.polygonOffsetFactor!==0&&(_.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(_.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(_.linewidth=this.linewidth),this.dashSize!==void 0&&(_.dashSize=this.dashSize),this.gapSize!==void 0&&(_.gapSize=this.gapSize),this.scale!==void 0&&(_.scale=this.scale),this.dithering===!0&&(_.dithering=!0),this.alphaTest>0&&(_.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(_.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(_.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(_.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(_.wireframe=this.wireframe),this.wireframeLinewidth>1&&(_.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(_.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(_.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(_.flatShading=this.flatShading),this.visible===!1&&(_.visible=!1),this.toneMapped===!1&&(_.toneMapped=!1),this.fog===!1&&(_.fog=!1),Object.keys(this.userData).length>0&&(_.userData=this.userData);function j(et){let st=[];for(let nt in et){let ct=et[nt];delete ct.metadata,st.push(ct)}return st}if(o){let et=j(s.textures),st=j(s.images);et.length>0&&(_.textures=et),st.length>0&&(_.images=st)}return _}clone(){return new this.constructor().copy(this)}copy(s){this.name=s.name,this.blending=s.blending,this.side=s.side,this.vertexColors=s.vertexColors,this.opacity=s.opacity,this.transparent=s.transparent,this.blendSrc=s.blendSrc,this.blendDst=s.blendDst,this.blendEquation=s.blendEquation,this.blendSrcAlpha=s.blendSrcAlpha,this.blendDstAlpha=s.blendDstAlpha,this.blendEquationAlpha=s.blendEquationAlpha,this.depthFunc=s.depthFunc,this.depthTest=s.depthTest,this.depthWrite=s.depthWrite,this.stencilWriteMask=s.stencilWriteMask,this.stencilFunc=s.stencilFunc,this.stencilRef=s.stencilRef,this.stencilFuncMask=s.stencilFuncMask,this.stencilFail=s.stencilFail,this.stencilZFail=s.stencilZFail,this.stencilZPass=s.stencilZPass,this.stencilWrite=s.stencilWrite;let o=s.clippingPlanes,_=null;if(o!==null){let j=o.length;_=new Array(j);for(let et=0;et!==j;++et)_[et]=o[et].clone()}return this.clippingPlanes=_,this.clipIntersection=s.clipIntersection,this.clipShadows=s.clipShadows,this.shadowSide=s.shadowSide,this.colorWrite=s.colorWrite,this.precision=s.precision,this.polygonOffset=s.polygonOffset,this.polygonOffsetFactor=s.polygonOffsetFactor,this.polygonOffsetUnits=s.polygonOffsetUnits,this.dithering=s.dithering,this.alphaTest=s.alphaTest,this.alphaToCoverage=s.alphaToCoverage,this.premultipliedAlpha=s.premultipliedAlpha,this.forceSinglePass=s.forceSinglePass,this.visible=s.visible,this.toneMapped=s.toneMapped,this.userData=JSON.parse(JSON.stringify(s.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(s){s===!0&&this.version++}},on$1=class extends fc{constructor(o){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new We(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=jC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}},hi=new E$2,Pg=new U$1,Xe=class{constructor(s,o,_=!1){if(Array.isArray(s))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=s,this.itemSize=o,this.count=s!==void 0?s.length/o:0,this.normalized=_,this.usage=HS,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.name=s.name,this.array=new s.array.constructor(s.array),this.itemSize=s.itemSize,this.count=s.count,this.normalized=s.normalized,this.usage=s.usage,this}copyAt(s,o,_){s*=this.itemSize,_*=o.itemSize;for(let j=0,et=this.itemSize;j<et;j++)this.array[s+j]=o.array[_+j];return this}copyArray(s){return this.array.set(s),this}applyMatrix3(s){if(this.itemSize===2)for(let o=0,_=this.count;o<_;o++)Pg.fromBufferAttribute(this,o),Pg.applyMatrix3(s),this.setXY(o,Pg.x,Pg.y);else if(this.itemSize===3)for(let o=0,_=this.count;o<_;o++)hi.fromBufferAttribute(this,o),hi.applyMatrix3(s),this.setXYZ(o,hi.x,hi.y,hi.z);return this}applyMatrix4(s){for(let o=0,_=this.count;o<_;o++)hi.fromBufferAttribute(this,o),hi.applyMatrix4(s),this.setXYZ(o,hi.x,hi.y,hi.z);return this}applyNormalMatrix(s){for(let o=0,_=this.count;o<_;o++)hi.fromBufferAttribute(this,o),hi.applyNormalMatrix(s),this.setXYZ(o,hi.x,hi.y,hi.z);return this}transformDirection(s){for(let o=0,_=this.count;o<_;o++)hi.fromBufferAttribute(this,o),hi.transformDirection(s),this.setXYZ(o,hi.x,hi.y,hi.z);return this}set(s,o=0){return this.array.set(s,o),this}getX(s){let o=this.array[s*this.itemSize];return this.normalized&&(o=oa(o,this.array)),o}setX(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.array[s*this.itemSize]=o,this}getY(s){let o=this.array[s*this.itemSize+1];return this.normalized&&(o=oa(o,this.array)),o}setY(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.array[s*this.itemSize+1]=o,this}getZ(s){let o=this.array[s*this.itemSize+2];return this.normalized&&(o=oa(o,this.array)),o}setZ(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.array[s*this.itemSize+2]=o,this}getW(s){let o=this.array[s*this.itemSize+3];return this.normalized&&(o=oa(o,this.array)),o}setW(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.array[s*this.itemSize+3]=o,this}setXY(s,o,_){return s*=this.itemSize,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array)),this.array[s+0]=o,this.array[s+1]=_,this}setXYZ(s,o,_,j){return s*=this.itemSize,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array),j=xr$1(j,this.array)),this.array[s+0]=o,this.array[s+1]=_,this.array[s+2]=j,this}setXYZW(s,o,_,j,et){return s*=this.itemSize,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array),j=xr$1(j,this.array),et=xr$1(et,this.array)),this.array[s+0]=o,this.array[s+1]=_,this.array[s+2]=j,this.array[s+3]=et,this}onUpload(s){return this.onUploadCallback=s,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let s={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(s.name=this.name),this.usage!==HS&&(s.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(s.updateRange=this.updateRange),s}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},iy=class extends Xe{constructor(s,o,_){super(new Uint16Array(s),o,_)}},ho=class extends Xe{constructor(s,o,_){super(new Uint32Array(s),o,_)}},Me=class extends Xe{constructor(s,o,_){super(new Float32Array(s),o,_)}},MV=0,rs=new ue$2,TS=new Mt,bu=new E$2,jn=new jt,qf=new jt,Ri=new E$2,_e=class extends pr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:MV++}),this.uuid=is$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(s){return Array.isArray(s)?this.index=new(XC(s)?ho:iy)(s,1):this.index=s,this}getAttribute(s){return this.attributes[s]}setAttribute(s,o){return this.attributes[s]=o,this}deleteAttribute(s){return delete this.attributes[s],this}hasAttribute(s){return this.attributes[s]!==void 0}addGroup(s,o,_=0){this.groups.push({start:s,count:o,materialIndex:_})}clearGroups(){this.groups=[]}setDrawRange(s,o){this.drawRange.start=s,this.drawRange.count=o}applyMatrix4(s){let o=this.attributes.position;o!==void 0&&(o.applyMatrix4(s),o.needsUpdate=!0);let _=this.attributes.normal;if(_!==void 0){let et=new fr$7().getNormalMatrix(s);_.applyNormalMatrix(et),_.needsUpdate=!0}let j=this.attributes.tangent;return j!==void 0&&(j.transformDirection(s),j.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(s){return rs.makeRotationFromQuaternion(s),this.applyMatrix4(rs),this}rotateX(s){return rs.makeRotationX(s),this.applyMatrix4(rs),this}rotateY(s){return rs.makeRotationY(s),this.applyMatrix4(rs),this}rotateZ(s){return rs.makeRotationZ(s),this.applyMatrix4(rs),this}translate(s,o,_){return rs.makeTranslation(s,o,_),this.applyMatrix4(rs),this}scale(s,o,_){return rs.makeScale(s,o,_),this.applyMatrix4(rs),this}lookAt(s){return TS.lookAt(s),TS.updateMatrix(),this.applyMatrix4(TS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bu).negate(),this.translate(bu.x,bu.y,bu.z),this}setFromPoints(s){let o=[];for(let _=0,j=s.length;_<j;_++){let et=s[_];o.push(et.x,et.y,et.z||0)}return this.setAttribute("position",new Me(o,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jt);let s=this.attributes.position,o=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new E$2(-1/0,-1/0,-1/0),new E$2(1/0,1/0,1/0));return}if(s!==void 0){if(this.boundingBox.setFromBufferAttribute(s),o)for(let _=0,j=o.length;_<j;_++){let et=o[_];jn.setFromBufferAttribute(et),this.morphTargetsRelative?(Ri.addVectors(this.boundingBox.min,jn.min),this.boundingBox.expandByPoint(Ri),Ri.addVectors(this.boundingBox.max,jn.max),this.boundingBox.expandByPoint(Ri)):(this.boundingBox.expandByPoint(jn.min),this.boundingBox.expandByPoint(jn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or$1);let s=this.attributes.position,o=this.morphAttributes.position;if(s&&s.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new E$2,1/0);return}if(s){let _=this.boundingSphere.center;if(jn.setFromBufferAttribute(s),o)for(let et=0,st=o.length;et<st;et++){let nt=o[et];qf.setFromBufferAttribute(nt),this.morphTargetsRelative?(Ri.addVectors(jn.min,qf.min),jn.expandByPoint(Ri),Ri.addVectors(jn.max,qf.max),jn.expandByPoint(Ri)):(jn.expandByPoint(qf.min),jn.expandByPoint(qf.max))}jn.getCenter(_);let j=0;for(let et=0,st=s.count;et<st;et++)Ri.fromBufferAttribute(s,et),j=Math.max(j,_.distanceToSquared(Ri));if(o)for(let et=0,st=o.length;et<st;et++){let nt=o[et],ct=this.morphTargetsRelative;for(let At=0,mt=nt.count;At<mt;At++)Ri.fromBufferAttribute(nt,At),ct&&(bu.fromBufferAttribute(s,At),Ri.add(bu)),j=Math.max(j,_.distanceToSquared(Ri))}this.boundingSphere.radius=Math.sqrt(j),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let s=this.index,o=this.attributes;if(s===null||o.position===void 0||o.normal===void 0||o.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let _=s.array,j=o.position.array,et=o.normal.array,st=o.uv.array,nt=j.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Xe(new Float32Array(4*nt),4));let ct=this.getAttribute("tangent").array,At=[],mt=[];for(let rn=0;rn<nt;rn++)At[rn]=new E$2,mt[rn]=new E$2;let gt=new E$2,_t=new E$2,Et=new E$2,Ct=new U$1,Bt=new U$1,Dt=new U$1,Ft=new E$2,Rt=new E$2;function Nt(rn,un,$n){gt.fromArray(j,rn*3),_t.fromArray(j,un*3),Et.fromArray(j,$n*3),Ct.fromArray(st,rn*2),Bt.fromArray(st,un*2),Dt.fromArray(st,$n*2),_t.sub(gt),Et.sub(gt),Bt.sub(Ct),Dt.sub(Ct);let kn=1/(Bt.x*Dt.y-Dt.x*Bt.y);!isFinite(kn)||(Ft.copy(_t).multiplyScalar(Dt.y).addScaledVector(Et,-Bt.y).multiplyScalar(kn),Rt.copy(Et).multiplyScalar(Bt.x).addScaledVector(_t,-Dt.x).multiplyScalar(kn),At[rn].add(Ft),At[un].add(Ft),At[$n].add(Ft),mt[rn].add(Rt),mt[un].add(Rt),mt[$n].add(Rt))}let Gt=this.groups;Gt.length===0&&(Gt=[{start:0,count:_.length}]);for(let rn=0,un=Gt.length;rn<un;++rn){let $n=Gt[rn],kn=$n.start,lo=$n.count;for(let Il=kn,cu=kn+lo;Il<cu;Il+=3)Nt(_[Il+0],_[Il+1],_[Il+2])}let dr=new E$2,ts=new E$2,es=new E$2,ds=new E$2;function tn(rn){es.fromArray(et,rn*3),ds.copy(es);let un=At[rn];dr.copy(un),dr.sub(es.multiplyScalar(es.dot(un))).normalize(),ts.crossVectors(ds,un);let $n=ts.dot(mt[rn])<0?-1:1;ct[rn*4]=dr.x,ct[rn*4+1]=dr.y,ct[rn*4+2]=dr.z,ct[rn*4+3]=$n}for(let rn=0,un=Gt.length;rn<un;++rn){let $n=Gt[rn],kn=$n.start,lo=$n.count;for(let Il=kn,cu=kn+lo;Il<cu;Il+=3)tn(_[Il+0]),tn(_[Il+1]),tn(_[Il+2])}}computeVertexNormals(){let s=this.index,o=this.getAttribute("position");if(o!==void 0){let _=this.getAttribute("normal");if(_===void 0)_=new Xe(new Float32Array(o.count*3),3),this.setAttribute("normal",_);else for(let _t=0,Et=_.count;_t<Et;_t++)_.setXYZ(_t,0,0,0);let j=new E$2,et=new E$2,st=new E$2,nt=new E$2,ct=new E$2,At=new E$2,mt=new E$2,gt=new E$2;if(s)for(let _t=0,Et=s.count;_t<Et;_t+=3){let Ct=s.getX(_t+0),Bt=s.getX(_t+1),Dt=s.getX(_t+2);j.fromBufferAttribute(o,Ct),et.fromBufferAttribute(o,Bt),st.fromBufferAttribute(o,Dt),mt.subVectors(st,et),gt.subVectors(j,et),mt.cross(gt),nt.fromBufferAttribute(_,Ct),ct.fromBufferAttribute(_,Bt),At.fromBufferAttribute(_,Dt),nt.add(mt),ct.add(mt),At.add(mt),_.setXYZ(Ct,nt.x,nt.y,nt.z),_.setXYZ(Bt,ct.x,ct.y,ct.z),_.setXYZ(Dt,At.x,At.y,At.z)}else for(let _t=0,Et=o.count;_t<Et;_t+=3)j.fromBufferAttribute(o,_t+0),et.fromBufferAttribute(o,_t+1),st.fromBufferAttribute(o,_t+2),mt.subVectors(st,et),gt.subVectors(j,et),mt.cross(gt),_.setXYZ(_t+0,mt.x,mt.y,mt.z),_.setXYZ(_t+1,mt.x,mt.y,mt.z),_.setXYZ(_t+2,mt.x,mt.y,mt.z);this.normalizeNormals(),_.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let s=this.attributes.normal;for(let o=0,_=s.count;o<_;o++)Ri.fromBufferAttribute(s,o),Ri.normalize(),s.setXYZ(o,Ri.x,Ri.y,Ri.z)}toNonIndexed(){function s(nt,ct){let At=nt.array,mt=nt.itemSize,gt=nt.normalized,_t=new At.constructor(ct.length*mt),Et=0,Ct=0;for(let Bt=0,Dt=ct.length;Bt<Dt;Bt++){nt.isInterleavedBufferAttribute?Et=ct[Bt]*nt.data.stride+nt.offset:Et=ct[Bt]*mt;for(let Ft=0;Ft<mt;Ft++)_t[Ct++]=At[Et++]}return new Xe(_t,mt,gt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let o=new _e,_=this.index.array,j=this.attributes;for(let nt in j){let ct=j[nt],At=s(ct,_);o.setAttribute(nt,At)}let et=this.morphAttributes;for(let nt in et){let ct=[],At=et[nt];for(let mt=0,gt=At.length;mt<gt;mt++){let _t=At[mt],Et=s(_t,_);ct.push(Et)}o.morphAttributes[nt]=ct}o.morphTargetsRelative=this.morphTargetsRelative;let st=this.groups;for(let nt=0,ct=st.length;nt<ct;nt++){let At=st[nt];o.addGroup(At.start,At.count,At.materialIndex)}return o}toJSON(){let s={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),Object.keys(this.userData).length>0&&(s.userData=this.userData),this.parameters!==void 0){let ct=this.parameters;for(let At in ct)ct[At]!==void 0&&(s[At]=ct[At]);return s}s.data={attributes:{}};let o=this.index;o!==null&&(s.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});let _=this.attributes;for(let ct in _){let At=_[ct];s.data.attributes[ct]=At.toJSON(s.data)}let j={},et=!1;for(let ct in this.morphAttributes){let At=this.morphAttributes[ct],mt=[];for(let gt=0,_t=At.length;gt<_t;gt++){let Et=At[gt];mt.push(Et.toJSON(s.data))}mt.length>0&&(j[ct]=mt,et=!0)}et&&(s.data.morphAttributes=j,s.data.morphTargetsRelative=this.morphTargetsRelative);let st=this.groups;st.length>0&&(s.data.groups=JSON.parse(JSON.stringify(st)));let nt=this.boundingSphere;return nt!==null&&(s.data.boundingSphere={center:nt.center.toArray(),radius:nt.radius}),s}clone(){return new this.constructor().copy(this)}copy(s){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let o={};this.name=s.name;let _=s.index;_!==null&&this.setIndex(_.clone(o));let j=s.attributes;for(let At in j){let mt=j[At];this.setAttribute(At,mt.clone(o))}let et=s.morphAttributes;for(let At in et){let mt=[],gt=et[At];for(let _t=0,Et=gt.length;_t<Et;_t++)mt.push(gt[_t].clone(o));this.morphAttributes[At]=mt}this.morphTargetsRelative=s.morphTargetsRelative;let st=s.groups;for(let At=0,mt=st.length;At<mt;At++){let gt=st[At];this.addGroup(gt.start,gt.count,gt.materialIndex)}let nt=s.boundingBox;nt!==null&&(this.boundingBox=nt.clone());let ct=s.boundingSphere;return ct!==null&&(this.boundingSphere=ct.clone()),this.drawRange.start=s.drawRange.start,this.drawRange.count=s.drawRange.count,this.userData=s.userData,s.parameters!==void 0&&(this.parameters=Object.assign({},s.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},KT=new ue$2,Su=new Rs,CS=new Or$1,Yf=new E$2,Xf=new E$2,Qf=new E$2,PS=new E$2,_g=new E$2,Dg=new U$1,Ig=new U$1,Og=new U$1,_S=new E$2,Rg=new E$2,Ut=class extends Mt{constructor(s=new _e,o=new on$1){super(),this.isMesh=!0,this.type="Mesh",this.geometry=s,this.material=o,this.updateMorphTargets()}copy(s,o){return super.copy(s,o),s.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=s.morphTargetInfluences.slice()),s.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},s.morphTargetDictionary)),this.material=s.material,this.geometry=s.geometry,this}updateMorphTargets(){let s=this.geometry.morphAttributes,o=Object.keys(s);if(o.length>0){let _=s[o[0]];if(_!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let j=0,et=_.length;j<et;j++){let st=_[j].name||String(j);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=j}}}}getVertexPosition(s,o){let _=this.geometry,j=_.attributes.position,et=_.morphAttributes.position,st=_.morphTargetsRelative;o.fromBufferAttribute(j,s);let nt=this.morphTargetInfluences;if(et&&nt){_g.set(0,0,0);for(let ct=0,At=et.length;ct<At;ct++){let mt=nt[ct],gt=et[ct];mt!==0&&(PS.fromBufferAttribute(gt,s),st?_g.addScaledVector(PS,mt):_g.addScaledVector(PS.sub(o),mt))}o.add(_g)}return this.isSkinnedMesh&&this.boneTransform(s,o),o}raycast(s,o){let _=this.geometry,j=this.material,et=this.matrixWorld;if(j===void 0||(_.boundingSphere===null&&_.computeBoundingSphere(),CS.copy(_.boundingSphere),CS.applyMatrix4(et),s.ray.intersectsSphere(CS)===!1)||(KT.copy(et).invert(),Su.copy(s.ray).applyMatrix4(KT),_.boundingBox!==null&&Su.intersectsBox(_.boundingBox)===!1))return;let st,nt=_.index,ct=_.attributes.position,At=_.attributes.uv,mt=_.attributes.uv2,gt=_.groups,_t=_.drawRange;if(nt!==null)if(Array.isArray(j))for(let Et=0,Ct=gt.length;Et<Ct;Et++){let Bt=gt[Et],Dt=j[Bt.materialIndex],Ft=Math.max(Bt.start,_t.start),Rt=Math.min(nt.count,Math.min(Bt.start+Bt.count,_t.start+_t.count));for(let Nt=Ft,Gt=Rt;Nt<Gt;Nt+=3){let dr=nt.getX(Nt),ts=nt.getX(Nt+1),es=nt.getX(Nt+2);st=Lg(this,Dt,s,Su,At,mt,dr,ts,es),st&&(st.faceIndex=Math.floor(Nt/3),st.face.materialIndex=Bt.materialIndex,o.push(st))}}else{let Et=Math.max(0,_t.start),Ct=Math.min(nt.count,_t.start+_t.count);for(let Bt=Et,Dt=Ct;Bt<Dt;Bt+=3){let Ft=nt.getX(Bt),Rt=nt.getX(Bt+1),Nt=nt.getX(Bt+2);st=Lg(this,j,s,Su,At,mt,Ft,Rt,Nt),st&&(st.faceIndex=Math.floor(Bt/3),o.push(st))}}else if(ct!==void 0)if(Array.isArray(j))for(let Et=0,Ct=gt.length;Et<Ct;Et++){let Bt=gt[Et],Dt=j[Bt.materialIndex],Ft=Math.max(Bt.start,_t.start),Rt=Math.min(ct.count,Math.min(Bt.start+Bt.count,_t.start+_t.count));for(let Nt=Ft,Gt=Rt;Nt<Gt;Nt+=3){let dr=Nt,ts=Nt+1,es=Nt+2;st=Lg(this,Dt,s,Su,At,mt,dr,ts,es),st&&(st.faceIndex=Math.floor(Nt/3),st.face.materialIndex=Bt.materialIndex,o.push(st))}}else{let Et=Math.max(0,_t.start),Ct=Math.min(ct.count,_t.start+_t.count);for(let Bt=Et,Dt=Ct;Bt<Dt;Bt+=3){let Ft=Bt,Rt=Bt+1,Nt=Bt+2;st=Lg(this,j,s,Su,At,mt,Ft,Rt,Nt),st&&(st.faceIndex=Math.floor(Bt/3),o.push(st))}}}};function TV(s,o,_,j,et,st,nt,ct){let At;if(o.side===pi?At=j.intersectTriangle(nt,st,et,!0,ct):At=j.intersectTriangle(et,st,nt,o.side===Hn,ct),At===null)return null;Rg.copy(ct),Rg.applyMatrix4(s.matrixWorld);let mt=_.ray.origin.distanceTo(Rg);return mt<_.near||mt>_.far?null:{distance:mt,point:Rg.clone(),object:s}}function Lg(s,o,_,j,et,st,nt,ct,At){s.getVertexPosition(nt,Yf),s.getVertexPosition(ct,Xf),s.getVertexPosition(At,Qf);let mt=TV(s,o,_,j,Yf,Xf,Qf,_S);if(mt){et&&(Dg.fromBufferAttribute(et,nt),Ig.fromBufferAttribute(et,ct),Og.fromBufferAttribute(et,At),mt.uv=Cr$1.getUV(_S,Yf,Xf,Qf,Dg,Ig,Og,new U$1)),st&&(Dg.fromBufferAttribute(st,nt),Ig.fromBufferAttribute(st,ct),Og.fromBufferAttribute(st,At),mt.uv2=Cr$1.getUV(_S,Yf,Xf,Qf,Dg,Ig,Og,new U$1));let gt={a:nt,b:ct,c:At,normal:new E$2,materialIndex:0};Cr$1.getNormal(Yf,Xf,Qf,gt.normal),mt.face=gt}return mt}var mi=class extends _e{constructor(s=1,o=1,_=1,j=1,et=1,st=1){super(),this.type="BoxGeometry",this.parameters={width:s,height:o,depth:_,widthSegments:j,heightSegments:et,depthSegments:st};let nt=this;j=Math.floor(j),et=Math.floor(et),st=Math.floor(st);let ct=[],At=[],mt=[],gt=[],_t=0,Et=0;Ct("z","y","x",-1,-1,_,o,s,st,et,0),Ct("z","y","x",1,-1,_,o,-s,st,et,1),Ct("x","z","y",1,1,s,_,o,j,st,2),Ct("x","z","y",1,-1,s,_,-o,j,st,3),Ct("x","y","z",1,-1,s,o,_,j,et,4),Ct("x","y","z",-1,-1,s,o,-_,j,et,5),this.setIndex(ct),this.setAttribute("position",new Me(At,3)),this.setAttribute("normal",new Me(mt,3)),this.setAttribute("uv",new Me(gt,2));function Ct(Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,es,ds,tn){let rn=Gt/es,un=dr/ds,$n=Gt/2,kn=dr/2,lo=ts/2,Il=es+1,cu=ds+1,Ko=0,ru=0,Tn=new E$2;for(let ao=0;ao<cu;ao++){let uu=ao*un-kn;for(let hu=0;hu<Il;hu++){let tA=hu*rn-$n;Tn[Bt]=tA*Rt,Tn[Dt]=uu*Nt,Tn[Ft]=lo,At.push(Tn.x,Tn.y,Tn.z),Tn[Bt]=0,Tn[Dt]=0,Tn[Ft]=ts>0?1:-1,mt.push(Tn.x,Tn.y,Tn.z),gt.push(hu/es),gt.push(1-ao/ds),Ko+=1}}for(let ao=0;ao<ds;ao++)for(let uu=0;uu<es;uu++){let hu=_t+uu+Il*ao,tA=_t+uu+Il*(ao+1),Sv=_t+(uu+1)+Il*(ao+1),W0=_t+(uu+1)+Il*ao;ct.push(hu,tA,W0),ct.push(tA,Sv,W0),ru+=6}nt.addGroup(Et,ru,tn),Et+=ru,_t+=Ko}}static fromJSON(s){return new mi(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments)}};function Ou(s){let o={};for(let _ in s){o[_]={};for(let j in s[_]){let et=s[_][j];et&&(et.isColor||et.isMatrix3||et.isMatrix4||et.isVector2||et.isVector3||et.isVector4||et.isTexture||et.isQuaternion)?o[_][j]=et.clone():Array.isArray(et)?o[_][j]=et.slice():o[_][j]=et}}return o}function pn(s){let o={};for(let _=0;_<s.length;_++){let j=Ou(s[_]);for(let et in j)o[et]=j[et]}return o}function CV(s){let o=[];for(let _=0;_<s.length;_++)o.push(s[_].clone());return o}function KC(s){return s.getRenderTarget()===null&&s.outputEncoding===at?co:sp}var Bs={clone:Ou,merge:pn},PV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_V=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,it=class extends fc{constructor(s){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=PV,this.fragmentShader=_V,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,s!==void 0&&this.setValues(s)}copy(s){return super.copy(s),this.fragmentShader=s.fragmentShader,this.vertexShader=s.vertexShader,this.uniforms=Ou(s.uniforms),this.uniformsGroups=CV(s.uniformsGroups),this.defines=Object.assign({},s.defines),this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.fog=s.fog,this.lights=s.lights,this.clipping=s.clipping,this.extensions=Object.assign({},s.extensions),this.glslVersion=s.glslVersion,this}toJSON(s){let o=super.toJSON(s);o.glslVersion=this.glslVersion,o.uniforms={};for(let j in this.uniforms){let et=this.uniforms[j].value;et&&et.isTexture?o.uniforms[j]={type:"t",value:et.toJSON(s).uuid}:et&&et.isColor?o.uniforms[j]={type:"c",value:et.getHex()}:et&&et.isVector2?o.uniforms[j]={type:"v2",value:et.toArray()}:et&&et.isVector3?o.uniforms[j]={type:"v3",value:et.toArray()}:et&&et.isVector4?o.uniforms[j]={type:"v4",value:et.toArray()}:et&&et.isMatrix3?o.uniforms[j]={type:"m3",value:et.toArray()}:et&&et.isMatrix4?o.uniforms[j]={type:"m4",value:et.toArray()}:o.uniforms[j]={value:et}}Object.keys(this.defines).length>0&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader;let _={};for(let j in this.extensions)this.extensions[j]===!0&&(_[j]=!0);return Object.keys(_).length>0&&(o.extensions=_),o}},qn=class extends Mt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ue$2,this.projectionMatrix=new ue$2,this.projectionMatrixInverse=new ue$2}copy(s,o){return super.copy(s,o),this.matrixWorldInverse.copy(s.matrixWorldInverse),this.projectionMatrix.copy(s.projectionMatrix),this.projectionMatrixInverse.copy(s.projectionMatrixInverse),this}getWorldDirection(s){this.updateWorldMatrix(!0,!1);let o=this.matrixWorld.elements;return s.set(-o[8],-o[9],-o[10]).normalize()}updateMatrixWorld(s){super.updateMatrixWorld(s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(s,o){super.updateWorldMatrix(s,o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},$r$1=class extends qn{constructor(o=50,_=1,j=.1,et=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=o,this.zoom=1,this.near=j,this.far=et,this.focus=10,this.aspect=_,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(o,_){return super.copy(o,_),this.fov=o.fov,this.zoom=o.zoom,this.near=o.near,this.far=o.far,this.focus=o.focus,this.aspect=o.aspect,this.view=o.view===null?null:Object.assign({},o.view),this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this}setFocalLength(o){let _=.5*this.getFilmHeight()/o;this.fov=op$7*2*Math.atan(_),this.updateProjectionMatrix()}getFocalLength(){let o=Math.tan(ep*.5*this.fov);return .5*this.getFilmHeight()/o}getEffectiveFOV(){return op$7*2*Math.atan(Math.tan(ep*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(o,_,j,et,st,nt){this.aspect=o/_,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=_,this.view.offsetX=j,this.view.offsetY=et,this.view.width=st,this.view.height=nt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let o=this.near,_=o*Math.tan(ep*.5*this.fov)/this.zoom,j=2*_,et=this.aspect*j,st=-.5*et,nt=this.view;if(this.view!==null&&this.view.enabled){let At=nt.fullWidth,mt=nt.fullHeight;st+=nt.offsetX*et/At,_-=nt.offsetY*j/mt,et*=nt.width/At,j*=nt.height/mt}let ct=this.filmOffset;ct!==0&&(st+=o*ct/this.getFilmWidth()),this.projectionMatrix.makePerspective(st,st+et,_,_-j,o,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){let _=super.toJSON(o);return _.object.fov=this.fov,_.object.zoom=this.zoom,_.object.near=this.near,_.object.far=this.far,_.object.focus=this.focus,_.object.aspect=this.aspect,this.view!==null&&(_.object.view=Object.assign({},this.view)),_.object.filmGauge=this.filmGauge,_.object.filmOffset=this.filmOffset,_}},wu=-90,Au=1,YS=class extends Mt{constructor(s,o,_){super(),this.type="CubeCamera",this.renderTarget=_;let j=new $r$1(wu,Au,s,o);j.layers=this.layers,j.up.set(0,1,0),j.lookAt(1,0,0),this.add(j);let et=new $r$1(wu,Au,s,o);et.layers=this.layers,et.up.set(0,1,0),et.lookAt(-1,0,0),this.add(et);let st=new $r$1(wu,Au,s,o);st.layers=this.layers,st.up.set(0,0,-1),st.lookAt(0,1,0),this.add(st);let nt=new $r$1(wu,Au,s,o);nt.layers=this.layers,nt.up.set(0,0,1),nt.lookAt(0,-1,0),this.add(nt);let ct=new $r$1(wu,Au,s,o);ct.layers=this.layers,ct.up.set(0,1,0),ct.lookAt(0,0,1),this.add(ct);let At=new $r$1(wu,Au,s,o);At.layers=this.layers,At.up.set(0,1,0),At.lookAt(0,0,-1),this.add(At)}update(s,o){this.parent===null&&this.updateMatrixWorld();let _=this.renderTarget,[j,et,st,nt,ct,At]=this.children,mt=s.getRenderTarget(),gt=s.toneMapping,_t=s.xr.enabled;s.toneMapping=Is,s.xr.enabled=!1;let Et=_.texture.generateMipmaps;_.texture.generateMipmaps=!1,s.setRenderTarget(_,0),s.render(o,j),s.setRenderTarget(_,1),s.render(o,et),s.setRenderTarget(_,2),s.render(o,st),s.setRenderTarget(_,3),s.render(o,nt),s.setRenderTarget(_,4),s.render(o,ct),_.texture.generateMipmaps=Et,s.setRenderTarget(_,5),s.render(o,At),s.setRenderTarget(mt),s.toneMapping=gt,s.xr.enabled=_t,_.texture.needsPMREMUpdate=!0}},Ru=class extends $t{constructor(s,o,_,j,et,st,nt,ct,At,mt){s=s!==void 0?s:[],o=o!==void 0?o:Qa,super(s,o,_,j,et,st,nt,ct,At,mt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(s){this.image=s}},XS=class extends dt{constructor(s=1,o={}){super(s,s,o),this.isWebGLCubeRenderTarget=!0;let _={width:s,height:s,depth:1},j=[_,_,_,_,_,_];this.texture=new Ru(j,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:rt}fromEquirectangularTexture(s,o){this.texture.type=o.type,this.texture.encoding=o.encoding,this.texture.generateMipmaps=o.generateMipmaps,this.texture.minFilter=o.minFilter,this.texture.magFilter=o.magFilter;let _={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},j=new mi(5,5,5),et=new it({name:"CubemapFromEquirect",uniforms:Ou(_.uniforms),vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,side:pi,blending:Jt});et.uniforms.tEquirect.value=o;let st=new Ut(j,et),nt=o.minFilter;return o.minFilter===dc&&(o.minFilter=rt),new YS(1,10,this).update(s,st),o.minFilter=nt,st.geometry.dispose(),st.material.dispose(),this}clear(s,o,_,j){let et=s.getRenderTarget();for(let st=0;st<6;st++)s.setRenderTarget(this,st),s.clear(o,_,j);s.setRenderTarget(et)}},DS=new E$2,DV=new E$2,IV=new fr$7,Vr=class{constructor(s=new E$2(1,0,0),o=0){this.isPlane=!0,this.normal=s,this.constant=o}set(s,o){return this.normal.copy(s),this.constant=o,this}setComponents(s,o,_,j){return this.normal.set(s,o,_),this.constant=j,this}setFromNormalAndCoplanarPoint(s,o){return this.normal.copy(s),this.constant=-o.dot(this.normal),this}setFromCoplanarPoints(s,o,_){let j=DS.subVectors(_,o).cross(DV.subVectors(s,o)).normalize();return this.setFromNormalAndCoplanarPoint(j,s),this}copy(s){return this.normal.copy(s.normal),this.constant=s.constant,this}normalize(){let s=1/this.normal.length();return this.normal.multiplyScalar(s),this.constant*=s,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(s){return this.normal.dot(s)+this.constant}distanceToSphere(s){return this.distanceToPoint(s.center)-s.radius}projectPoint(s,o){return o.copy(this.normal).multiplyScalar(-this.distanceToPoint(s)).add(s)}intersectLine(s,o){let _=s.delta(DS),j=this.normal.dot(_);if(j===0)return this.distanceToPoint(s.start)===0?o.copy(s.start):null;let et=-(s.start.dot(this.normal)+this.constant)/j;return et<0||et>1?null:o.copy(_).multiplyScalar(et).add(s.start)}intersectsLine(s){let o=this.distanceToPoint(s.start),_=this.distanceToPoint(s.end);return o<0&&_>0||_<0&&o>0}intersectsBox(s){return s.intersectsPlane(this)}intersectsSphere(s){return s.intersectsPlane(this)}coplanarPoint(s){return s.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(s,o){let _=o||IV.getNormalMatrix(s),j=this.coplanarPoint(DS).applyMatrix4(s),et=this.normal.applyMatrix3(_).normalize();return this.constant=-j.dot(et),this}translate(s){return this.constant-=s.dot(this.normal),this}equals(s){return s.normal.equals(this.normal)&&s.constant===this.constant}clone(){return new this.constructor().copy(this)}},Eu=new Or$1,Bg=new E$2,cp=class{constructor(s=new Vr,o=new Vr,_=new Vr,j=new Vr,et=new Vr,st=new Vr){this.planes=[s,o,_,j,et,st]}set(s,o,_,j,et,st){let nt=this.planes;return nt[0].copy(s),nt[1].copy(o),nt[2].copy(_),nt[3].copy(j),nt[4].copy(et),nt[5].copy(st),this}copy(s){let o=this.planes;for(let _=0;_<6;_++)o[_].copy(s.planes[_]);return this}setFromProjectionMatrix(s){let o=this.planes,_=s.elements,j=_[0],et=_[1],st=_[2],nt=_[3],ct=_[4],At=_[5],mt=_[6],gt=_[7],_t=_[8],Et=_[9],Ct=_[10],Bt=_[11],Dt=_[12],Ft=_[13],Rt=_[14],Nt=_[15];return o[0].setComponents(nt-j,gt-ct,Bt-_t,Nt-Dt).normalize(),o[1].setComponents(nt+j,gt+ct,Bt+_t,Nt+Dt).normalize(),o[2].setComponents(nt+et,gt+At,Bt+Et,Nt+Ft).normalize(),o[3].setComponents(nt-et,gt-At,Bt-Et,Nt-Ft).normalize(),o[4].setComponents(nt-st,gt-mt,Bt-Ct,Nt-Rt).normalize(),o[5].setComponents(nt+st,gt+mt,Bt+Ct,Nt+Rt).normalize(),this}intersectsObject(s){let o=s.geometry;return o.boundingSphere===null&&o.computeBoundingSphere(),Eu.copy(o.boundingSphere).applyMatrix4(s.matrixWorld),this.intersectsSphere(Eu)}intersectsSprite(s){return Eu.center.set(0,0,0),Eu.radius=.7071067811865476,Eu.applyMatrix4(s.matrixWorld),this.intersectsSphere(Eu)}intersectsSphere(s){let o=this.planes,_=s.center,j=-s.radius;for(let et=0;et<6;et++)if(o[et].distanceToPoint(_)<j)return!1;return!0}intersectsBox(s){let o=this.planes;for(let _=0;_<6;_++){let j=o[_];if(Bg.x=j.normal.x>0?s.max.x:s.min.x,Bg.y=j.normal.y>0?s.max.y:s.min.y,Bg.z=j.normal.z>0?s.max.z:s.min.z,j.distanceToPoint(Bg)<0)return!1}return!0}containsPoint(s){let o=this.planes;for(let _=0;_<6;_++)if(o[_].distanceToPoint(s)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function ZC(){let s=null,o=!1,_=null,j=null;function et(st,nt){_(st,nt),j=s.requestAnimationFrame(et)}return{start:function(){o!==!0&&_!==null&&(j=s.requestAnimationFrame(et),o=!0)},stop:function(){s.cancelAnimationFrame(j),o=!1},setAnimationLoop:function(st){_=st},setContext:function(st){s=st}}}function OV(s,o){let _=o.isWebGL2,j=new WeakMap;function et(mt,gt){let _t=mt.array,Et=mt.usage,Ct=s.createBuffer();s.bindBuffer(gt,Ct),s.bufferData(gt,_t,Et),mt.onUploadCallback();let Bt;if(_t instanceof Float32Array)Bt=5126;else if(_t instanceof Uint16Array)if(mt.isFloat16BufferAttribute)if(_)Bt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else Bt=5123;else if(_t instanceof Int16Array)Bt=5122;else if(_t instanceof Uint32Array)Bt=5125;else if(_t instanceof Int32Array)Bt=5124;else if(_t instanceof Int8Array)Bt=5120;else if(_t instanceof Uint8Array)Bt=5121;else if(_t instanceof Uint8ClampedArray)Bt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+_t);return{buffer:Ct,type:Bt,bytesPerElement:_t.BYTES_PER_ELEMENT,version:mt.version}}function st(mt,gt,_t){let Et=gt.array,Ct=gt.updateRange;s.bindBuffer(_t,mt),Ct.count===-1?s.bufferSubData(_t,0,Et):(_?s.bufferSubData(_t,Ct.offset*Et.BYTES_PER_ELEMENT,Et,Ct.offset,Ct.count):s.bufferSubData(_t,Ct.offset*Et.BYTES_PER_ELEMENT,Et.subarray(Ct.offset,Ct.offset+Ct.count)),Ct.count=-1),gt.onUploadCallback()}function nt(mt){return mt.isInterleavedBufferAttribute&&(mt=mt.data),j.get(mt)}function ct(mt){mt.isInterleavedBufferAttribute&&(mt=mt.data);let gt=j.get(mt);gt&&(s.deleteBuffer(gt.buffer),j.delete(mt))}function At(mt,gt){if(mt.isGLBufferAttribute){let Et=j.get(mt);(!Et||Et.version<mt.version)&&j.set(mt,{buffer:mt.buffer,type:mt.type,bytesPerElement:mt.elementSize,version:mt.version});return}mt.isInterleavedBufferAttribute&&(mt=mt.data);let _t=j.get(mt);_t===void 0?j.set(mt,et(mt,gt)):_t.version<mt.version&&(st(_t.buffer,mt,gt),_t.version=mt.version)}return{get:nt,remove:ct,update:At}}var Li=class extends _e{constructor(s=1,o=1,_=1,j=1){super(),this.type="PlaneGeometry",this.parameters={width:s,height:o,widthSegments:_,heightSegments:j};let et=s/2,st=o/2,nt=Math.floor(_),ct=Math.floor(j),At=nt+1,mt=ct+1,gt=s/nt,_t=o/ct,Et=[],Ct=[],Bt=[],Dt=[];for(let Ft=0;Ft<mt;Ft++){let Rt=Ft*_t-st;for(let Nt=0;Nt<At;Nt++){let Gt=Nt*gt-et;Ct.push(Gt,-Rt,0),Bt.push(0,0,1),Dt.push(Nt/nt),Dt.push(1-Ft/ct)}}for(let Ft=0;Ft<ct;Ft++)for(let Rt=0;Rt<nt;Rt++){let Nt=Rt+At*Ft,Gt=Rt+At*(Ft+1),dr=Rt+1+At*(Ft+1),ts=Rt+1+At*Ft;Et.push(Nt,Gt,ts),Et.push(Gt,dr,ts)}this.setIndex(Et),this.setAttribute("position",new Me(Ct,3)),this.setAttribute("normal",new Me(Bt,3)),this.setAttribute("uv",new Me(Dt,2))}static fromJSON(s){return new Li(s.width,s.height,s.widthSegments,s.heightSegments)}},RV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,LV$1=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,NV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,FV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,UV="vec3 transformed = vec3( position );",zV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kV=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,GV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,HV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,YV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,XV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,QV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ZV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JV$1=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,$V=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,iU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sU="gl_FragColor = linearToOutputTexel( gl_FragColor );",oU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,aU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,yU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,vU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,SU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,wU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,AU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,EU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,MU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,TU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,CU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,PU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_U=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,DU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,IU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,OU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,RU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,LU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,BU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,NU$1=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,FU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,VU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,UU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,GU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,jU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,HU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,WU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,qU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,YU=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,XU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,QU$1=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ZU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,JU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,$U=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,ez=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,tz=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,rz=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iz=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,nz=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sz=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,az=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uz=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,hz=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,gz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,vz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,xz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Sz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Az=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Ez=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Mz=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Tz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Cz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Pz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,_z=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Dz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,Iz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Oz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Rz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Bz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Fz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Vz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Uz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Hz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Wz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,qz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Kz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Jz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,$z=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ek=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tk=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ik=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nk=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sk=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ok=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ak=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lk=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ck=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xt={alphamap_fragment:RV,alphamap_pars_fragment:LV$1,alphatest_fragment:BV,alphatest_pars_fragment:NV,aomap_fragment:FV,aomap_pars_fragment:VV,begin_vertex:UV,beginnormal_vertex:zV,bsdfs:kV,iridescence_fragment:GV,bumpmap_pars_fragment:jV,clipping_planes_fragment:HV,clipping_planes_pars_fragment:WV,clipping_planes_pars_vertex:qV,clipping_planes_vertex:YV,color_fragment:XV,color_pars_fragment:QV,color_pars_vertex:KV,color_vertex:ZV,common:JV$1,cube_uv_reflection_fragment:$V,defaultnormal_vertex:eU,displacementmap_pars_vertex:tU,displacementmap_vertex:rU,emissivemap_fragment:iU,emissivemap_pars_fragment:nU,encodings_fragment:sU,encodings_pars_fragment:oU,envmap_fragment:aU,envmap_common_pars_fragment:lU,envmap_pars_fragment:cU,envmap_pars_vertex:uU,envmap_physical_pars_fragment:wU,envmap_vertex:hU,fog_vertex:dU,fog_pars_vertex:fU,fog_fragment:pU,fog_pars_fragment:mU,gradientmap_pars_fragment:gU,lightmap_fragment:yU,lightmap_pars_fragment:vU,lights_lambert_fragment:xU,lights_lambert_pars_fragment:bU,lights_pars_begin:SU,lights_toon_fragment:AU,lights_toon_pars_fragment:EU,lights_phong_fragment:MU,lights_phong_pars_fragment:TU,lights_physical_fragment:CU,lights_physical_pars_fragment:PU,lights_fragment_begin:_U,lights_fragment_maps:DU,lights_fragment_end:IU,logdepthbuf_fragment:OU,logdepthbuf_pars_fragment:RU,logdepthbuf_pars_vertex:LU,logdepthbuf_vertex:BU,map_fragment:NU$1,map_pars_fragment:FU,map_particle_fragment:VU,map_particle_pars_fragment:UU,metalnessmap_fragment:zU,metalnessmap_pars_fragment:kU,morphcolor_vertex:GU,morphnormal_vertex:jU,morphtarget_pars_vertex:HU,morphtarget_vertex:WU,normal_fragment_begin:qU,normal_fragment_maps:YU,normal_pars_fragment:XU,normal_pars_vertex:QU$1,normal_vertex:KU,normalmap_pars_fragment:ZU,clearcoat_normal_fragment_begin:JU,clearcoat_normal_fragment_maps:$U,clearcoat_pars_fragment:ez,iridescence_pars_fragment:tz,output_fragment:rz,packing:iz,premultiplied_alpha_fragment:nz,project_vertex:sz,dithering_fragment:oz,dithering_pars_fragment:az,roughnessmap_fragment:lz,roughnessmap_pars_fragment:cz,shadowmap_pars_fragment:uz,shadowmap_pars_vertex:hz,shadowmap_vertex:dz,shadowmask_pars_fragment:fz,skinbase_vertex:pz,skinning_pars_vertex:mz,skinning_vertex:gz,skinnormal_vertex:yz,specularmap_fragment:vz,specularmap_pars_fragment:xz,tonemapping_fragment:bz,tonemapping_pars_fragment:Sz,transmission_fragment:wz,transmission_pars_fragment:Az,uv_pars_fragment:Ez,uv_pars_vertex:Mz,uv_vertex:Tz,uv2_pars_fragment:Cz,uv2_pars_vertex:Pz,uv2_vertex:_z,worldpos_vertex:Dz,background_vert:Iz,background_frag:Oz,backgroundCube_vert:Rz,backgroundCube_frag:Lz,cube_vert:Bz,cube_frag:Nz,depth_vert:Fz,depth_frag:Vz,distanceRGBA_vert:Uz,distanceRGBA_frag:zz,equirect_vert:kz,equirect_frag:Gz,linedashed_vert:jz,linedashed_frag:Hz,meshbasic_vert:Wz,meshbasic_frag:qz,meshlambert_vert:Yz,meshlambert_frag:Xz,meshmatcap_vert:Qz,meshmatcap_frag:Kz,meshnormal_vert:Zz,meshnormal_frag:Jz,meshphong_vert:$z,meshphong_frag:ek,meshphysical_vert:tk,meshphysical_frag:rk,meshtoon_vert:ik,meshtoon_frag:nk,points_vert:sk,points_frag:ok,shadow_vert:ak,shadow_frag:lk,sprite_vert:ck,sprite_frag:uk},De$1={common:{diffuse:{value:new We(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new fr$7},uv2Transform:{value:new fr$7},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new U$1(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new We(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new We(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fr$7}},sprite:{diffuse:{value:new We(16777215)},opacity:{value:1},center:{value:new U$1(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new fr$7}}},uo={basic:{uniforms:pn([De$1.common,De$1.specularmap,De$1.envmap,De$1.aomap,De$1.lightmap,De$1.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:pn([De$1.common,De$1.specularmap,De$1.envmap,De$1.aomap,De$1.lightmap,De$1.emissivemap,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,De$1.fog,De$1.lights,{emissive:{value:new We(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:pn([De$1.common,De$1.specularmap,De$1.envmap,De$1.aomap,De$1.lightmap,De$1.emissivemap,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,De$1.fog,De$1.lights,{emissive:{value:new We(0)},specular:{value:new We(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:pn([De$1.common,De$1.envmap,De$1.aomap,De$1.lightmap,De$1.emissivemap,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,De$1.roughnessmap,De$1.metalnessmap,De$1.fog,De$1.lights,{emissive:{value:new We(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:pn([De$1.common,De$1.aomap,De$1.lightmap,De$1.emissivemap,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,De$1.gradientmap,De$1.fog,De$1.lights,{emissive:{value:new We(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:pn([De$1.common,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,De$1.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:pn([De$1.points,De$1.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:pn([De$1.common,De$1.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:pn([De$1.common,De$1.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:pn([De$1.common,De$1.bumpmap,De$1.normalmap,De$1.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:pn([De$1.sprite,De$1.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new fr$7},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:pn([De$1.common,De$1.displacementmap,{referencePosition:{value:new E$2},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:pn([De$1.lights,De$1.fog,{color:{value:new We(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};uo.physical={uniforms:pn([uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new U$1(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new We(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new U$1},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new We(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new We(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};var Ng={r:0,b:0,g:0};function hk(s,o,_,j,et,st,nt){let ct=new We(0),At=st===!0?0:1,mt,gt,_t=null,Et=0,Ct=null;function Bt(Ft,Rt){let Nt=!1,Gt=Rt.isScene===!0?Rt.background:null;Gt&&Gt.isTexture&&(Gt=(Rt.backgroundBlurriness>0?_:o).get(Gt));let dr=s.xr,ts=dr.getSession&&dr.getSession();ts&&ts.environmentBlendMode==="additive"&&(Gt=null),Gt===null?Dt(ct,At):Gt&&Gt.isColor&&(Dt(Gt,1),Nt=!0),(s.autoClear||Nt)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),Gt&&(Gt.isCubeTexture||Gt.mapping===Zu)?(gt===void 0&&(gt=new Ut(new mi(1,1,1),new it({name:"BackgroundCubeMaterial",uniforms:Ou(uo.backgroundCube.uniforms),vertexShader:uo.backgroundCube.vertexShader,fragmentShader:uo.backgroundCube.fragmentShader,side:pi,depthTest:!1,depthWrite:!1,fog:!1})),gt.geometry.deleteAttribute("normal"),gt.geometry.deleteAttribute("uv"),gt.onBeforeRender=function(es,ds,tn){this.matrixWorld.copyPosition(tn.matrixWorld)},Object.defineProperty(gt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),et.update(gt)),gt.material.uniforms.envMap.value=Gt,gt.material.uniforms.flipEnvMap.value=Gt.isCubeTexture&&Gt.isRenderTargetTexture===!1?-1:1,gt.material.uniforms.backgroundBlurriness.value=Rt.backgroundBlurriness,gt.material.uniforms.backgroundIntensity.value=Rt.backgroundIntensity,gt.material.toneMapped=Gt.encoding!==at,(_t!==Gt||Et!==Gt.version||Ct!==s.toneMapping)&&(gt.material.needsUpdate=!0,_t=Gt,Et=Gt.version,Ct=s.toneMapping),gt.layers.enableAll(),Ft.unshift(gt,gt.geometry,gt.material,0,0,null)):Gt&&Gt.isTexture&&(mt===void 0&&(mt=new Ut(new Li(2,2),new it({name:"BackgroundMaterial",uniforms:Ou(uo.background.uniforms),vertexShader:uo.background.vertexShader,fragmentShader:uo.background.fragmentShader,side:Hn,depthTest:!1,depthWrite:!1,fog:!1})),mt.geometry.deleteAttribute("normal"),Object.defineProperty(mt.material,"map",{get:function(){return this.uniforms.t2D.value}}),et.update(mt)),mt.material.uniforms.t2D.value=Gt,mt.material.uniforms.backgroundIntensity.value=Rt.backgroundIntensity,mt.material.toneMapped=Gt.encoding!==at,Gt.matrixAutoUpdate===!0&&Gt.updateMatrix(),mt.material.uniforms.uvTransform.value.copy(Gt.matrix),(_t!==Gt||Et!==Gt.version||Ct!==s.toneMapping)&&(mt.material.needsUpdate=!0,_t=Gt,Et=Gt.version,Ct=s.toneMapping),mt.layers.enableAll(),Ft.unshift(mt,mt.geometry,mt.material,0,0,null))}function Dt(Ft,Rt){Ft.getRGB(Ng,KC(s)),j.buffers.color.setClear(Ng.r,Ng.g,Ng.b,Rt,nt)}return{getClearColor:function(){return ct},setClearColor:function(Ft,Rt=1){ct.set(Ft),At=Rt,Dt(ct,At)},getClearAlpha:function(){return At},setClearAlpha:function(Ft){At=Ft,Dt(ct,At)},render:Bt}}function dk(s,o,_,j){let et=s.getParameter(34921),st=j.isWebGL2?null:o.get("OES_vertex_array_object"),nt=j.isWebGL2||st!==null,ct={},At=Ft(null),mt=At,gt=!1;function _t(Il,cu,Ko,ru,Tn){let ao=!1;if(nt){let uu=Dt(ru,Ko,cu);mt!==uu&&(mt=uu,Ct(mt.object)),ao=Rt(Il,ru,Ko,Tn),ao&&Nt(Il,ru,Ko,Tn)}else{let uu=cu.wireframe===!0;(mt.geometry!==ru.id||mt.program!==Ko.id||mt.wireframe!==uu)&&(mt.geometry=ru.id,mt.program=Ko.id,mt.wireframe=uu,ao=!0)}Tn!==null&&_.update(Tn,34963),(ao||gt)&&(gt=!1,tn(Il,cu,Ko,ru),Tn!==null&&s.bindBuffer(34963,_.get(Tn).buffer))}function Et(){return j.isWebGL2?s.createVertexArray():st.createVertexArrayOES()}function Ct(Il){return j.isWebGL2?s.bindVertexArray(Il):st.bindVertexArrayOES(Il)}function Bt(Il){return j.isWebGL2?s.deleteVertexArray(Il):st.deleteVertexArrayOES(Il)}function Dt(Il,cu,Ko){let ru=Ko.wireframe===!0,Tn=ct[Il.id];Tn===void 0&&(Tn={},ct[Il.id]=Tn);let ao=Tn[cu.id];ao===void 0&&(ao={},Tn[cu.id]=ao);let uu=ao[ru];return uu===void 0&&(uu=Ft(Et()),ao[ru]=uu),uu}function Ft(Il){let cu=[],Ko=[],ru=[];for(let Tn=0;Tn<et;Tn++)cu[Tn]=0,Ko[Tn]=0,ru[Tn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:cu,enabledAttributes:Ko,attributeDivisors:ru,object:Il,attributes:{},index:null}}function Rt(Il,cu,Ko,ru){let Tn=mt.attributes,ao=cu.attributes,uu=0,hu=Ko.getAttributes();for(let tA in hu)if(hu[tA].location>=0){let Sv=Tn[tA],W0=ao[tA];if(W0===void 0&&(tA==="instanceMatrix"&&Il.instanceMatrix&&(W0=Il.instanceMatrix),tA==="instanceColor"&&Il.instanceColor&&(W0=Il.instanceColor)),Sv===void 0||Sv.attribute!==W0||W0&&Sv.data!==W0.data)return!0;uu++}return mt.attributesNum!==uu||mt.index!==ru}function Nt(Il,cu,Ko,ru){let Tn={},ao=cu.attributes,uu=0,hu=Ko.getAttributes();for(let tA in hu)if(hu[tA].location>=0){let Sv=ao[tA];Sv===void 0&&(tA==="instanceMatrix"&&Il.instanceMatrix&&(Sv=Il.instanceMatrix),tA==="instanceColor"&&Il.instanceColor&&(Sv=Il.instanceColor));let W0={};W0.attribute=Sv,Sv&&Sv.data&&(W0.data=Sv.data),Tn[tA]=W0,uu++}mt.attributes=Tn,mt.attributesNum=uu,mt.index=ru}function Gt(){let Il=mt.newAttributes;for(let cu=0,Ko=Il.length;cu<Ko;cu++)Il[cu]=0}function dr(Il){ts(Il,0)}function ts(Il,cu){let Ko=mt.newAttributes,ru=mt.enabledAttributes,Tn=mt.attributeDivisors;Ko[Il]=1,ru[Il]===0&&(s.enableVertexAttribArray(Il),ru[Il]=1),Tn[Il]!==cu&&((j.isWebGL2?s:o.get("ANGLE_instanced_arrays"))[j.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Il,cu),Tn[Il]=cu)}function es(){let Il=mt.newAttributes,cu=mt.enabledAttributes;for(let Ko=0,ru=cu.length;Ko<ru;Ko++)cu[Ko]!==Il[Ko]&&(s.disableVertexAttribArray(Ko),cu[Ko]=0)}function ds(Il,cu,Ko,ru,Tn,ao){j.isWebGL2===!0&&(Ko===5124||Ko===5125)?s.vertexAttribIPointer(Il,cu,Ko,Tn,ao):s.vertexAttribPointer(Il,cu,Ko,ru,Tn,ao)}function tn(Il,cu,Ko,ru){if(j.isWebGL2===!1&&(Il.isInstancedMesh||ru.isInstancedBufferGeometry)&&o.get("ANGLE_instanced_arrays")===null)return;Gt();let Tn=ru.attributes,ao=Ko.getAttributes(),uu=cu.defaultAttributeValues;for(let hu in ao){let tA=ao[hu];if(tA.location>=0){let Sv=Tn[hu];if(Sv===void 0&&(hu==="instanceMatrix"&&Il.instanceMatrix&&(Sv=Il.instanceMatrix),hu==="instanceColor"&&Il.instanceColor&&(Sv=Il.instanceColor)),Sv!==void 0){let W0=Sv.normalized,l1=Sv.itemSize,X1=_.get(Sv);if(X1===void 0)continue;let kI=X1.buffer,q1=X1.type,UE=X1.bytesPerElement;if(Sv.isInterleavedBufferAttribute){let a1=Sv.data,LE=a1.stride,rS=Sv.offset;if(a1.isInstancedInterleavedBuffer){for(let gD=0;gD<tA.locationSize;gD++)ts(tA.location+gD,a1.meshPerAttribute);Il.isInstancedMesh!==!0&&ru._maxInstanceCount===void 0&&(ru._maxInstanceCount=a1.meshPerAttribute*a1.count)}else for(let gD=0;gD<tA.locationSize;gD++)dr(tA.location+gD);s.bindBuffer(34962,kI);for(let gD=0;gD<tA.locationSize;gD++)ds(tA.location+gD,l1/tA.locationSize,q1,W0,LE*UE,(rS+l1/tA.locationSize*gD)*UE)}else{if(Sv.isInstancedBufferAttribute){for(let a1=0;a1<tA.locationSize;a1++)ts(tA.location+a1,Sv.meshPerAttribute);Il.isInstancedMesh!==!0&&ru._maxInstanceCount===void 0&&(ru._maxInstanceCount=Sv.meshPerAttribute*Sv.count)}else for(let a1=0;a1<tA.locationSize;a1++)dr(tA.location+a1);s.bindBuffer(34962,kI);for(let a1=0;a1<tA.locationSize;a1++)ds(tA.location+a1,l1/tA.locationSize,q1,W0,l1*UE,l1/tA.locationSize*a1*UE)}}else if(uu!==void 0){let W0=uu[hu];if(W0!==void 0)switch(W0.length){case 2:s.vertexAttrib2fv(tA.location,W0);break;case 3:s.vertexAttrib3fv(tA.location,W0);break;case 4:s.vertexAttrib4fv(tA.location,W0);break;default:s.vertexAttrib1fv(tA.location,W0)}}}}es()}function rn(){kn();for(let Il in ct){let cu=ct[Il];for(let Ko in cu){let ru=cu[Ko];for(let Tn in ru)Bt(ru[Tn].object),delete ru[Tn];delete cu[Ko]}delete ct[Il]}}function un(Il){if(ct[Il.id]===void 0)return;let cu=ct[Il.id];for(let Ko in cu){let ru=cu[Ko];for(let Tn in ru)Bt(ru[Tn].object),delete ru[Tn];delete cu[Ko]}delete ct[Il.id]}function $n(Il){for(let cu in ct){let Ko=ct[cu];if(Ko[Il.id]===void 0)continue;let ru=Ko[Il.id];for(let Tn in ru)Bt(ru[Tn].object),delete ru[Tn];delete Ko[Il.id]}}function kn(){lo(),gt=!0,mt!==At&&(mt=At,Ct(mt.object))}function lo(){At.geometry=null,At.program=null,At.wireframe=!1}return{setup:_t,reset:kn,resetDefaultState:lo,dispose:rn,releaseStatesOfGeometry:un,releaseStatesOfProgram:$n,initAttributes:Gt,enableAttribute:dr,disableUnusedAttributes:es}}function fk(s,o,_,j){let et=j.isWebGL2,st;function nt(mt){st=mt}function ct(mt,gt){s.drawArrays(st,mt,gt),_.update(gt,st,1)}function At(mt,gt,_t){if(_t===0)return;let Et,Ct;if(et)Et=s,Ct="drawArraysInstanced";else if(Et=o.get("ANGLE_instanced_arrays"),Ct="drawArraysInstancedANGLE",Et===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Et[Ct](st,mt,gt,_t),_.update(gt,st,_t)}this.setMode=nt,this.render=ct,this.renderInstances=At}function pk(s,o,_){let j;function et(){if(j!==void 0)return j;if(o.has("EXT_texture_filter_anisotropic")===!0){let ds=o.get("EXT_texture_filter_anisotropic");j=s.getParameter(ds.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else j=0;return j}function st(ds){if(ds==="highp"){if(s.getShaderPrecisionFormat(35633,36338).precision>0&&s.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ds="mediump"}return ds==="mediump"&&s.getShaderPrecisionFormat(35633,36337).precision>0&&s.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let nt=typeof WebGL2RenderingContext<"u"&&s instanceof WebGL2RenderingContext,ct=_.precision!==void 0?_.precision:"highp",At=st(ct);At!==ct&&(console.warn("THREE.WebGLRenderer:",ct,"not supported, using",At,"instead."),ct=At);let mt=nt||o.has("WEBGL_draw_buffers"),gt=_.logarithmicDepthBuffer===!0,_t=s.getParameter(34930),Et=s.getParameter(35660),Ct=s.getParameter(3379),Bt=s.getParameter(34076),Dt=s.getParameter(34921),Ft=s.getParameter(36347),Rt=s.getParameter(36348),Nt=s.getParameter(36349),Gt=Et>0,dr=nt||o.has("OES_texture_float"),ts=Gt&&dr,es=nt?s.getParameter(36183):0;return{isWebGL2:nt,drawBuffers:mt,getMaxAnisotropy:et,getMaxPrecision:st,precision:ct,logarithmicDepthBuffer:gt,maxTextures:_t,maxVertexTextures:Et,maxTextureSize:Ct,maxCubemapSize:Bt,maxAttributes:Dt,maxVertexUniforms:Ft,maxVaryings:Rt,maxFragmentUniforms:Nt,vertexTextures:Gt,floatFragmentTextures:dr,floatVertexTextures:ts,maxSamples:es}}function mk(s){let o=this,_=null,j=0,et=!1,st=!1,nt=new Vr,ct=new fr$7,At={value:null,needsUpdate:!1};this.uniform=At,this.numPlanes=0,this.numIntersection=0,this.init=function(_t,Et){let Ct=_t.length!==0||Et||j!==0||et;return et=Et,j=_t.length,Ct},this.beginShadows=function(){st=!0,gt(null)},this.endShadows=function(){st=!1},this.setGlobalState=function(_t,Et){_=gt(_t,Et,0)},this.setState=function(_t,Et,Ct){let Bt=_t.clippingPlanes,Dt=_t.clipIntersection,Ft=_t.clipShadows,Rt=s.get(_t);if(!et||Bt===null||Bt.length===0||st&&!Ft)st?gt(null):mt();else{let Nt=st?0:j,Gt=Nt*4,dr=Rt.clippingState||null;At.value=dr,dr=gt(Bt,Et,Gt,Ct);for(let ts=0;ts!==Gt;++ts)dr[ts]=_[ts];Rt.clippingState=dr,this.numIntersection=Dt?this.numPlanes:0,this.numPlanes+=Nt}};function mt(){At.value!==_&&(At.value=_,At.needsUpdate=j>0),o.numPlanes=j,o.numIntersection=0}function gt(_t,Et,Ct,Bt){let Dt=_t!==null?_t.length:0,Ft=null;if(Dt!==0){if(Ft=At.value,Bt!==!0||Ft===null){let Rt=Ct+Dt*4,Nt=Et.matrixWorldInverse;ct.getNormalMatrix(Nt),(Ft===null||Ft.length<Rt)&&(Ft=new Float32Array(Rt));for(let Gt=0,dr=Ct;Gt!==Dt;++Gt,dr+=4)nt.copy(_t[Gt]).applyMatrix4(Nt,ct),nt.normal.toArray(Ft,dr),Ft[dr+3]=nt.constant}At.value=Ft,At.needsUpdate=!0}return o.numPlanes=Dt,o.numIntersection=0,Ft}}function gk(s){let o=new WeakMap;function _(nt,ct){return ct===kS?nt.mapping=Qa:ct===GS&&(nt.mapping=Ka),nt}function j(nt){if(nt&&nt.isTexture&&nt.isRenderTargetTexture===!1){let ct=nt.mapping;if(ct===kS||ct===GS)if(o.has(nt)){let At=o.get(nt).texture;return _(At,nt.mapping)}else{let At=nt.image;if(At&&At.height>0){let mt=new XS(At.height/2);return mt.fromEquirectangularTexture(s,nt),o.set(nt,mt),nt.addEventListener("dispose",et),_(mt.texture,nt.mapping)}else return null}}return nt}function et(nt){let ct=nt.target;ct.removeEventListener("dispose",et);let At=o.get(ct);At!==void 0&&(o.delete(ct),At.dispose())}function st(){o=new WeakMap}return{get:j,dispose:st}}var Ja=class extends qn{constructor(s=-1,o=1,_=1,j=-1,et=.1,st=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=s,this.right=o,this.top=_,this.bottom=j,this.near=et,this.far=st,this.updateProjectionMatrix()}copy(s,o){return super.copy(s,o),this.left=s.left,this.right=s.right,this.top=s.top,this.bottom=s.bottom,this.near=s.near,this.far=s.far,this.zoom=s.zoom,this.view=s.view===null?null:Object.assign({},s.view),this}setViewOffset(s,o,_,j,et,st){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=s,this.view.fullHeight=o,this.view.offsetX=_,this.view.offsetY=j,this.view.width=et,this.view.height=st,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let s=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),_=(this.right+this.left)/2,j=(this.top+this.bottom)/2,et=_-s,st=_+s,nt=j+o,ct=j-o;if(this.view!==null&&this.view.enabled){let At=(this.right-this.left)/this.view.fullWidth/this.zoom,mt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=At*this.view.offsetX,st=et+At*this.view.width,nt-=mt*this.view.offsetY,ct=nt-mt*this.view.height}this.projectionMatrix.makeOrthographic(et,st,nt,ct,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(s){let o=super.toJSON(s);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,this.view!==null&&(o.object.view=Object.assign({},this.view)),o}},_u=4,ZT=[.125,.215,.35,.446,.526,.582],cc=20,IS$1=new Ja,JT$1=new We,OS=null,lc=(1+Math.sqrt(5))/2,Mu=1/lc,$T=[new E$2(1,1,1),new E$2(-1,1,1),new E$2(1,1,-1),new E$2(-1,1,-1),new E$2(0,lc,Mu),new E$2(0,lc,-Mu),new E$2(Mu,0,lc),new E$2(-Mu,0,lc),new E$2(lc,Mu,0),new E$2(-lc,Mu,0)],ny=class{constructor(s){this._renderer=s,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(s,o=0,_=.1,j=100){OS=this._renderer.getRenderTarget(),this._setSize(256);let et=this._allocateTargets();return et.depthBuffer=!0,this._sceneToCubeUV(s,_,j,et),o>0&&this._blur(et,0,0,o),this._applyPMREM(et),this._cleanup(et),et}fromEquirectangular(s,o=null){return this._fromTexture(s,o)}fromCubemap(s,o=null){return this._fromTexture(s,o)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=tC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(s){this._lodMax=Math.floor(Math.log2(s)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let s=0;s<this._lodPlanes.length;s++)this._lodPlanes[s].dispose()}_cleanup(s){this._renderer.setRenderTarget(OS),s.scissorTest=!1,Fg(s,0,0,s.width,s.height)}_fromTexture(s,o){s.mapping===Qa||s.mapping===Ka?this._setSize(s.image.length===0?16:s.image[0].width||s.image[0].image.width):this._setSize(s.image.width/4),OS=this._renderer.getRenderTarget();let _=o||this._allocateTargets();return this._textureToCubeUV(s,_),this._applyPMREM(_),this._cleanup(_),_}_allocateTargets(){let s=3*Math.max(this._cubeSize,112),o=4*this._cubeSize,_={magFilter:rt,minFilter:rt,generateMipmaps:!1,type:Wn,format:qr,encoding:mn,depthBuffer:!1},j=eC(s,o,_);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==s||this._pingPongRenderTarget.height!==o){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=eC(s,o,_);let{_lodMax:et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=yk(et)),this._blurMaterial=vk(et,s,o)}return j}_compileMaterial(s){let o=new Ut(this._lodPlanes[0],s);this._renderer.compile(o,IS$1)}_sceneToCubeUV(s,o,_,j){let et=new $r$1(90,1,o,_),st=[1,-1,1,1,1,1],nt=[1,1,1,-1,-1,-1],ct=this._renderer,At=ct.autoClear,mt=ct.toneMapping;ct.getClearColor(JT$1),ct.toneMapping=Is,ct.autoClear=!1;let gt=new on$1({name:"PMREM.Background",side:pi,depthWrite:!1,depthTest:!1}),_t=new Ut(new mi,gt),Et=!1,Ct=s.background;Ct?Ct.isColor&&(gt.color.copy(Ct),s.background=null,Et=!0):(gt.color.copy(JT$1),Et=!0);for(let Bt=0;Bt<6;Bt++){let Dt=Bt%3;Dt===0?(et.up.set(0,st[Bt],0),et.lookAt(nt[Bt],0,0)):Dt===1?(et.up.set(0,0,st[Bt]),et.lookAt(0,nt[Bt],0)):(et.up.set(0,st[Bt],0),et.lookAt(0,0,nt[Bt]));let Ft=this._cubeSize;Fg(j,Dt*Ft,Bt>2?Ft:0,Ft,Ft),ct.setRenderTarget(j),Et&&ct.render(_t,et),ct.render(s,et)}_t.geometry.dispose(),_t.material.dispose(),ct.toneMapping=mt,ct.autoClear=At,s.background=Ct}_textureToCubeUV(s,o){let _=this._renderer,j=s.mapping===Qa||s.mapping===Ka;j?(this._cubemapMaterial===null&&(this._cubemapMaterial=rC()),this._cubemapMaterial.uniforms.flipEnvMap.value=s.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=tC());let et=j?this._cubemapMaterial:this._equirectMaterial,st=new Ut(this._lodPlanes[0],et),nt=et.uniforms;nt.envMap.value=s;let ct=this._cubeSize;Fg(o,0,0,3*ct,2*ct),_.setRenderTarget(o),_.render(st,IS$1)}_applyPMREM(s){let o=this._renderer,_=o.autoClear;o.autoClear=!1;for(let j=1;j<this._lodPlanes.length;j++){let et=Math.sqrt(this._sigmas[j]*this._sigmas[j]-this._sigmas[j-1]*this._sigmas[j-1]),st=$T[(j-1)%$T.length];this._blur(s,j-1,j,et,st)}o.autoClear=_}_blur(s,o,_,j,et){let st=this._pingPongRenderTarget;this._halfBlur(s,st,o,_,j,"latitudinal",et),this._halfBlur(st,s,_,_,j,"longitudinal",et)}_halfBlur(s,o,_,j,et,st,nt){let ct=this._renderer,At=this._blurMaterial;st!=="latitudinal"&&st!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let mt=3,gt=new Ut(this._lodPlanes[j],At),_t=At.uniforms,Et=this._sizeLods[_]-1,Ct=isFinite(et)?Math.PI/(2*Et):2*Math.PI/(2*cc-1),Bt=et/Ct,Dt=isFinite(et)?1+Math.floor(mt*Bt):cc;Dt>cc&&console.warn(`sigmaRadians, ${et}, is too large and will clip, as it requested ${Dt} samples when the maximum is set to ${cc}`);let Ft=[],Rt=0;for(let es=0;es<cc;++es){let ds=es/Bt,tn=Math.exp(-ds*ds/2);Ft.push(tn),es===0?Rt+=tn:es<Dt&&(Rt+=2*tn)}for(let es=0;es<Ft.length;es++)Ft[es]=Ft[es]/Rt;_t.envMap.value=s.texture,_t.samples.value=Dt,_t.weights.value=Ft,_t.latitudinal.value=st==="latitudinal",nt&&(_t.poleAxis.value=nt);let{_lodMax:Nt}=this;_t.dTheta.value=Ct,_t.mipInt.value=Nt-_;let Gt=this._sizeLods[j],dr=3*Gt*(j>Nt-_u?j-Nt+_u:0),ts=4*(this._cubeSize-Gt);Fg(o,dr,ts,3*Gt,2*Gt),ct.setRenderTarget(o),ct.render(gt,IS$1)}};function yk(s){let o=[],_=[],j=[],et=s,st=s-_u+1+ZT.length;for(let nt=0;nt<st;nt++){let ct=Math.pow(2,et);_.push(ct);let At=1/ct;nt>s-_u?At=ZT[nt-s+_u-1]:nt===0&&(At=0),j.push(At);let mt=1/(ct-2),gt=-mt,_t=1+mt,Et=[gt,gt,_t,gt,_t,_t,gt,gt,_t,_t,gt,_t],Ct=6,Bt=6,Dt=3,Ft=2,Rt=1,Nt=new Float32Array(Dt*Bt*Ct),Gt=new Float32Array(Ft*Bt*Ct),dr=new Float32Array(Rt*Bt*Ct);for(let es=0;es<Ct;es++){let ds=es%3*2/3-1,tn=es>2?0:-1,rn=[ds,tn,0,ds+2/3,tn,0,ds+2/3,tn+1,0,ds,tn,0,ds+2/3,tn+1,0,ds,tn+1,0];Nt.set(rn,Dt*Bt*es),Gt.set(Et,Ft*Bt*es);let un=[es,es,es,es,es,es];dr.set(un,Rt*Bt*es)}let ts=new _e;ts.setAttribute("position",new Xe(Nt,Dt)),ts.setAttribute("uv",new Xe(Gt,Ft)),ts.setAttribute("faceIndex",new Xe(dr,Rt)),o.push(ts),et>_u&&et--}return{lodPlanes:o,sizeLods:_,sigmas:j}}function eC(s,o,_){let j=new dt(s,o,_);return j.texture.mapping=Zu,j.texture.name="PMREM.cubeUv",j.scissorTest=!0,j}function Fg(s,o,_,j,et){s.viewport.set(o,_,j,et),s.scissor.set(o,_,j,et)}function vk(s,o,_){let j=new Float32Array(cc),et=new E$2(0,1,0);return new it({name:"SphericalGaussianBlur",defines:{n:cc,CUBEUV_TEXEL_WIDTH:1/o,CUBEUV_TEXEL_HEIGHT:1/_,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:j},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:et}},vertexShader:Pw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jt,depthTest:!1,depthWrite:!1})}function tC(){return new it({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Pw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jt,depthTest:!1,depthWrite:!1})}function rC(){return new it({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Pw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jt,depthTest:!1,depthWrite:!1})}function Pw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xk(s){let o=new WeakMap,_=null;function j(ct){if(ct&&ct.isTexture){let At=ct.mapping,mt=At===kS||At===GS,gt=At===Qa||At===Ka;if(mt||gt)if(ct.isRenderTargetTexture&&ct.needsPMREMUpdate===!0){ct.needsPMREMUpdate=!1;let _t=o.get(ct);return _===null&&(_=new ny(s)),_t=mt?_.fromEquirectangular(ct,_t):_.fromCubemap(ct,_t),o.set(ct,_t),_t.texture}else{if(o.has(ct))return o.get(ct).texture;{let _t=ct.image;if(mt&&_t&&_t.height>0||gt&&_t&&et(_t)){_===null&&(_=new ny(s));let Et=mt?_.fromEquirectangular(ct):_.fromCubemap(ct);return o.set(ct,Et),ct.addEventListener("dispose",st),Et.texture}else return null}}}return ct}function et(ct){let At=0,mt=6;for(let gt=0;gt<mt;gt++)ct[gt]!==void 0&&At++;return At===mt}function st(ct){let At=ct.target;At.removeEventListener("dispose",st);let mt=o.get(At);mt!==void 0&&(o.delete(At),mt.dispose())}function nt(){o=new WeakMap,_!==null&&(_.dispose(),_=null)}return{get:j,dispose:nt}}function bk(s){let o={};function _(j){if(o[j]!==void 0)return o[j];let et;switch(j){case"WEBGL_depth_texture":et=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":et=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":et=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":et=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:et=s.getExtension(j)}return o[j]=et,et}return{has:function(j){return _(j)!==null},init:function(j){j.isWebGL2?_("EXT_color_buffer_float"):(_("WEBGL_depth_texture"),_("OES_texture_float"),_("OES_texture_half_float"),_("OES_texture_half_float_linear"),_("OES_standard_derivatives"),_("OES_element_index_uint"),_("OES_vertex_array_object"),_("ANGLE_instanced_arrays")),_("OES_texture_float_linear"),_("EXT_color_buffer_half_float"),_("WEBGL_multisampled_render_to_texture")},get:function(j){let et=_(j);return et===null&&console.warn("THREE.WebGLRenderer: "+j+" extension not supported."),et}}}function Sk(s,o,_,j){let et={},st=new WeakMap;function nt(_t){let Et=_t.target;Et.index!==null&&o.remove(Et.index);for(let Bt in Et.attributes)o.remove(Et.attributes[Bt]);Et.removeEventListener("dispose",nt),delete et[Et.id];let Ct=st.get(Et);Ct&&(o.remove(Ct),st.delete(Et)),j.releaseStatesOfGeometry(Et),Et.isInstancedBufferGeometry===!0&&delete Et._maxInstanceCount,_.memory.geometries--}function ct(_t,Et){return et[Et.id]===!0||(Et.addEventListener("dispose",nt),et[Et.id]=!0,_.memory.geometries++),Et}function At(_t){let Et=_t.attributes;for(let Bt in Et)o.update(Et[Bt],34962);let Ct=_t.morphAttributes;for(let Bt in Ct){let Dt=Ct[Bt];for(let Ft=0,Rt=Dt.length;Ft<Rt;Ft++)o.update(Dt[Ft],34962)}}function mt(_t){let Et=[],Ct=_t.index,Bt=_t.attributes.position,Dt=0;if(Ct!==null){let Nt=Ct.array;Dt=Ct.version;for(let Gt=0,dr=Nt.length;Gt<dr;Gt+=3){let ts=Nt[Gt+0],es=Nt[Gt+1],ds=Nt[Gt+2];Et.push(ts,es,es,ds,ds,ts)}}else{let Nt=Bt.array;Dt=Bt.version;for(let Gt=0,dr=Nt.length/3-1;Gt<dr;Gt+=3){let ts=Gt+0,es=Gt+1,ds=Gt+2;Et.push(ts,es,es,ds,ds,ts)}}let Ft=new(XC(Et)?ho:iy)(Et,1);Ft.version=Dt;let Rt=st.get(_t);Rt&&o.remove(Rt),st.set(_t,Ft)}function gt(_t){let Et=st.get(_t);if(Et){let Ct=_t.index;Ct!==null&&Et.version<Ct.version&&mt(_t)}else mt(_t);return st.get(_t)}return{get:ct,update:At,getWireframeAttribute:gt}}function wk(s,o,_,j){let et=j.isWebGL2,st;function nt(Et){st=Et}let ct,At;function mt(Et){ct=Et.type,At=Et.bytesPerElement}function gt(Et,Ct){s.drawElements(st,Ct,ct,Et*At),_.update(Ct,st,1)}function _t(Et,Ct,Bt){if(Bt===0)return;let Dt,Ft;if(et)Dt=s,Ft="drawElementsInstanced";else if(Dt=o.get("ANGLE_instanced_arrays"),Ft="drawElementsInstancedANGLE",Dt===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}Dt[Ft](st,Ct,ct,Et*At,Bt),_.update(Ct,st,Bt)}this.setMode=nt,this.setIndex=mt,this.render=gt,this.renderInstances=_t}function Ak(s){let o={geometries:0,textures:0},_={frame:0,calls:0,triangles:0,points:0,lines:0};function j(st,nt,ct){switch(_.calls++,nt){case 4:_.triangles+=ct*(st/3);break;case 1:_.lines+=ct*(st/2);break;case 3:_.lines+=ct*(st-1);break;case 2:_.lines+=ct*st;break;case 0:_.points+=ct*st;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",nt);break}}function et(){_.frame++,_.calls=0,_.triangles=0,_.points=0,_.lines=0}return{memory:o,render:_,programs:null,autoReset:!0,reset:et,update:j}}function Ek(s,o){return s[0]-o[0]}function Mk(s,o){return Math.abs(o[1])-Math.abs(s[1])}function Tk(s,o,_){let j={},et=new Float32Array(8),st=new WeakMap,nt=new Ze,ct=[];for(let mt=0;mt<8;mt++)ct[mt]=[mt,0];function At(mt,gt,_t,Et){let Ct=mt.morphTargetInfluences;if(o.isWebGL2===!0){let Bt=gt.morphAttributes.position||gt.morphAttributes.normal||gt.morphAttributes.color,Dt=Bt!==void 0?Bt.length:0,Ft=st.get(gt);if(Ft===void 0||Ft.count!==Dt){let Gt=function(){Il.dispose(),st.delete(gt),gt.removeEventListener("dispose",Gt)};Ft!==void 0&&Ft.texture.dispose();let dr=gt.morphAttributes.position!==void 0,ts=gt.morphAttributes.normal!==void 0,es=gt.morphAttributes.color!==void 0,ds=gt.morphAttributes.position||[],tn=gt.morphAttributes.normal||[],rn=gt.morphAttributes.color||[],un=0;dr===!0&&(un=1),ts===!0&&(un=2),es===!0&&(un=3);let $n=gt.attributes.position.count*un,kn=1;$n>o.maxTextureSize&&(kn=Math.ceil($n/o.maxTextureSize),$n=o.maxTextureSize);let lo=new Float32Array($n*kn*4*Dt),Il=new ey(lo,$n,kn,Dt);Il.type=br,Il.needsUpdate=!0;let cu=un*4;for(let Ko=0;Ko<Dt;Ko++){let ru=ds[Ko],Tn=tn[Ko],ao=rn[Ko],uu=$n*kn*4*Ko;for(let hu=0;hu<ru.count;hu++){let tA=hu*cu;dr===!0&&(nt.fromBufferAttribute(ru,hu),lo[uu+tA+0]=nt.x,lo[uu+tA+1]=nt.y,lo[uu+tA+2]=nt.z,lo[uu+tA+3]=0),ts===!0&&(nt.fromBufferAttribute(Tn,hu),lo[uu+tA+4]=nt.x,lo[uu+tA+5]=nt.y,lo[uu+tA+6]=nt.z,lo[uu+tA+7]=0),es===!0&&(nt.fromBufferAttribute(ao,hu),lo[uu+tA+8]=nt.x,lo[uu+tA+9]=nt.y,lo[uu+tA+10]=nt.z,lo[uu+tA+11]=ao.itemSize===4?nt.w:1)}}Ft={count:Dt,texture:Il,size:new U$1($n,kn)},st.set(gt,Ft),gt.addEventListener("dispose",Gt)}let Rt=0;for(let Gt=0;Gt<Ct.length;Gt++)Rt+=Ct[Gt];let Nt=gt.morphTargetsRelative?1:1-Rt;Et.getUniforms().setValue(s,"morphTargetBaseInfluence",Nt),Et.getUniforms().setValue(s,"morphTargetInfluences",Ct),Et.getUniforms().setValue(s,"morphTargetsTexture",Ft.texture,_),Et.getUniforms().setValue(s,"morphTargetsTextureSize",Ft.size)}else{let Bt=Ct===void 0?0:Ct.length,Dt=j[gt.id];if(Dt===void 0||Dt.length!==Bt){Dt=[];for(let dr=0;dr<Bt;dr++)Dt[dr]=[dr,0];j[gt.id]=Dt}for(let dr=0;dr<Bt;dr++){let ts=Dt[dr];ts[0]=dr,ts[1]=Ct[dr]}Dt.sort(Mk);for(let dr=0;dr<8;dr++)dr<Bt&&Dt[dr][1]?(ct[dr][0]=Dt[dr][0],ct[dr][1]=Dt[dr][1]):(ct[dr][0]=Number.MAX_SAFE_INTEGER,ct[dr][1]=0);ct.sort(Ek);let Ft=gt.morphAttributes.position,Rt=gt.morphAttributes.normal,Nt=0;for(let dr=0;dr<8;dr++){let ts=ct[dr],es=ts[0],ds=ts[1];es!==Number.MAX_SAFE_INTEGER&&ds?(Ft&&gt.getAttribute("morphTarget"+dr)!==Ft[es]&&gt.setAttribute("morphTarget"+dr,Ft[es]),Rt&&gt.getAttribute("morphNormal"+dr)!==Rt[es]&&gt.setAttribute("morphNormal"+dr,Rt[es]),et[dr]=ds,Nt+=ds):(Ft&&gt.hasAttribute("morphTarget"+dr)===!0&&gt.deleteAttribute("morphTarget"+dr),Rt&&gt.hasAttribute("morphNormal"+dr)===!0&&gt.deleteAttribute("morphNormal"+dr),et[dr]=0)}let Gt=gt.morphTargetsRelative?1:1-Nt;Et.getUniforms().setValue(s,"morphTargetBaseInfluence",Gt),Et.getUniforms().setValue(s,"morphTargetInfluences",et)}}return{update:At}}function Ck(s,o,_,j){let et=new WeakMap;function st(At){let mt=j.render.frame,gt=At.geometry,_t=o.get(At,gt);return et.get(_t)!==mt&&(o.update(_t),et.set(_t,mt)),At.isInstancedMesh&&(At.hasEventListener("dispose",ct)===!1&&At.addEventListener("dispose",ct),_.update(At.instanceMatrix,34962),At.instanceColor!==null&&_.update(At.instanceColor,34962)),_t}function nt(){et=new WeakMap}function ct(At){let mt=At.target;mt.removeEventListener("dispose",ct),_.remove(mt.instanceMatrix),mt.instanceColor!==null&&_.remove(mt.instanceColor)}return{update:st,dispose:nt}}var JC=new $t,$C=new ey,eP=new ty,tP=new Ru,iC=[],nC=[],sC=new Float32Array(16),oC=new Float32Array(9),aC=new Float32Array(4);function $u(s,o,_){let j=s[0];if(j<=0||j>0)return s;let et=o*_,st=iC[et];if(st===void 0&&(st=new Float32Array(et),iC[et]=st),o!==0){j.toArray(st,0);for(let nt=1,ct=0;nt!==o;++nt)ct+=_,s[nt].toArray(st,ct)}return st}function Ai(s,o){if(s.length!==o.length)return!1;for(let _=0,j=s.length;_<j;_++)if(s[_]!==o[_])return!1;return!0}function Ei(s,o){for(let _=0,j=o.length;_<j;_++)s[_]=o[_]}function Ey(s,o){let _=nC[o];_===void 0&&(_=new Int32Array(o),nC[o]=_);for(let j=0;j!==o;++j)_[j]=s.allocateTextureUnit();return _}function Pk(s,o){let _=this.cache;_[0]!==o&&(s.uniform1f(this.addr,o),_[0]=o)}function _k(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y)&&(s.uniform2f(this.addr,o.x,o.y),_[0]=o.x,_[1]=o.y);else{if(Ai(_,o))return;s.uniform2fv(this.addr,o),Ei(_,o)}}function Dk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z)&&(s.uniform3f(this.addr,o.x,o.y,o.z),_[0]=o.x,_[1]=o.y,_[2]=o.z);else if(o.r!==void 0)(_[0]!==o.r||_[1]!==o.g||_[2]!==o.b)&&(s.uniform3f(this.addr,o.r,o.g,o.b),_[0]=o.r,_[1]=o.g,_[2]=o.b);else{if(Ai(_,o))return;s.uniform3fv(this.addr,o),Ei(_,o)}}function Ik(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z||_[3]!==o.w)&&(s.uniform4f(this.addr,o.x,o.y,o.z,o.w),_[0]=o.x,_[1]=o.y,_[2]=o.z,_[3]=o.w);else{if(Ai(_,o))return;s.uniform4fv(this.addr,o),Ei(_,o)}}function Ok(s,o){let _=this.cache,j=o.elements;if(j===void 0){if(Ai(_,o))return;s.uniformMatrix2fv(this.addr,!1,o),Ei(_,o)}else{if(Ai(_,j))return;aC.set(j),s.uniformMatrix2fv(this.addr,!1,aC),Ei(_,j)}}function Rk(s,o){let _=this.cache,j=o.elements;if(j===void 0){if(Ai(_,o))return;s.uniformMatrix3fv(this.addr,!1,o),Ei(_,o)}else{if(Ai(_,j))return;oC.set(j),s.uniformMatrix3fv(this.addr,!1,oC),Ei(_,j)}}function Lk(s,o){let _=this.cache,j=o.elements;if(j===void 0){if(Ai(_,o))return;s.uniformMatrix4fv(this.addr,!1,o),Ei(_,o)}else{if(Ai(_,j))return;sC.set(j),s.uniformMatrix4fv(this.addr,!1,sC),Ei(_,j)}}function Bk(s,o){let _=this.cache;_[0]!==o&&(s.uniform1i(this.addr,o),_[0]=o)}function Nk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y)&&(s.uniform2i(this.addr,o.x,o.y),_[0]=o.x,_[1]=o.y);else{if(Ai(_,o))return;s.uniform2iv(this.addr,o),Ei(_,o)}}function Fk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z)&&(s.uniform3i(this.addr,o.x,o.y,o.z),_[0]=o.x,_[1]=o.y,_[2]=o.z);else{if(Ai(_,o))return;s.uniform3iv(this.addr,o),Ei(_,o)}}function Vk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z||_[3]!==o.w)&&(s.uniform4i(this.addr,o.x,o.y,o.z,o.w),_[0]=o.x,_[1]=o.y,_[2]=o.z,_[3]=o.w);else{if(Ai(_,o))return;s.uniform4iv(this.addr,o),Ei(_,o)}}function Uk(s,o){let _=this.cache;_[0]!==o&&(s.uniform1ui(this.addr,o),_[0]=o)}function zk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y)&&(s.uniform2ui(this.addr,o.x,o.y),_[0]=o.x,_[1]=o.y);else{if(Ai(_,o))return;s.uniform2uiv(this.addr,o),Ei(_,o)}}function kk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z)&&(s.uniform3ui(this.addr,o.x,o.y,o.z),_[0]=o.x,_[1]=o.y,_[2]=o.z);else{if(Ai(_,o))return;s.uniform3uiv(this.addr,o),Ei(_,o)}}function Gk(s,o){let _=this.cache;if(o.x!==void 0)(_[0]!==o.x||_[1]!==o.y||_[2]!==o.z||_[3]!==o.w)&&(s.uniform4ui(this.addr,o.x,o.y,o.z,o.w),_[0]=o.x,_[1]=o.y,_[2]=o.z,_[3]=o.w);else{if(Ai(_,o))return;s.uniform4uiv(this.addr,o),Ei(_,o)}}function jk(s,o,_){let j=this.cache,et=_.allocateTextureUnit();j[0]!==et&&(s.uniform1i(this.addr,et),j[0]=et),_.setTexture2D(o||JC,et)}function Hk(s,o,_){let j=this.cache,et=_.allocateTextureUnit();j[0]!==et&&(s.uniform1i(this.addr,et),j[0]=et),_.setTexture3D(o||eP,et)}function Wk(s,o,_){let j=this.cache,et=_.allocateTextureUnit();j[0]!==et&&(s.uniform1i(this.addr,et),j[0]=et),_.setTextureCube(o||tP,et)}function qk(s,o,_){let j=this.cache,et=_.allocateTextureUnit();j[0]!==et&&(s.uniform1i(this.addr,et),j[0]=et),_.setTexture2DArray(o||$C,et)}function Yk(s){switch(s){case 5126:return Pk;case 35664:return _k;case 35665:return Dk;case 35666:return Ik;case 35674:return Ok;case 35675:return Rk;case 35676:return Lk;case 5124:case 35670:return Bk;case 35667:case 35671:return Nk;case 35668:case 35672:return Fk;case 35669:case 35673:return Vk;case 5125:return Uk;case 36294:return zk;case 36295:return kk;case 36296:return Gk;case 35678:case 36198:case 36298:case 36306:case 35682:return jk;case 35679:case 36299:case 36307:return Hk;case 35680:case 36300:case 36308:case 36293:return Wk;case 36289:case 36303:case 36311:case 36292:return qk}}function Xk(s,o){s.uniform1fv(this.addr,o)}function Qk(s,o){let _=$u(o,this.size,2);s.uniform2fv(this.addr,_)}function Kk(s,o){let _=$u(o,this.size,3);s.uniform3fv(this.addr,_)}function Zk(s,o){let _=$u(o,this.size,4);s.uniform4fv(this.addr,_)}function Jk(s,o){let _=$u(o,this.size,4);s.uniformMatrix2fv(this.addr,!1,_)}function $k(s,o){let _=$u(o,this.size,9);s.uniformMatrix3fv(this.addr,!1,_)}function eG(s,o){let _=$u(o,this.size,16);s.uniformMatrix4fv(this.addr,!1,_)}function tG(s,o){s.uniform1iv(this.addr,o)}function rG(s,o){s.uniform2iv(this.addr,o)}function iG(s,o){s.uniform3iv(this.addr,o)}function nG(s,o){s.uniform4iv(this.addr,o)}function sG(s,o){s.uniform1uiv(this.addr,o)}function oG(s,o){s.uniform2uiv(this.addr,o)}function aG(s,o){s.uniform3uiv(this.addr,o)}function lG(s,o){s.uniform4uiv(this.addr,o)}function cG(s,o,_){let j=this.cache,et=o.length,st=Ey(_,et);Ai(j,st)||(s.uniform1iv(this.addr,st),Ei(j,st));for(let nt=0;nt!==et;++nt)_.setTexture2D(o[nt]||JC,st[nt])}function uG(s,o,_){let j=this.cache,et=o.length,st=Ey(_,et);Ai(j,st)||(s.uniform1iv(this.addr,st),Ei(j,st));for(let nt=0;nt!==et;++nt)_.setTexture3D(o[nt]||eP,st[nt])}function hG(s,o,_){let j=this.cache,et=o.length,st=Ey(_,et);Ai(j,st)||(s.uniform1iv(this.addr,st),Ei(j,st));for(let nt=0;nt!==et;++nt)_.setTextureCube(o[nt]||tP,st[nt])}function dG(s,o,_){let j=this.cache,et=o.length,st=Ey(_,et);Ai(j,st)||(s.uniform1iv(this.addr,st),Ei(j,st));for(let nt=0;nt!==et;++nt)_.setTexture2DArray(o[nt]||$C,st[nt])}function fG(s){switch(s){case 5126:return Xk;case 35664:return Qk;case 35665:return Kk;case 35666:return Zk;case 35674:return Jk;case 35675:return $k;case 35676:return eG;case 5124:case 35670:return tG;case 35667:case 35671:return rG;case 35668:case 35672:return iG;case 35669:case 35673:return nG;case 5125:return sG;case 36294:return oG;case 36295:return aG;case 36296:return lG;case 35678:case 36198:case 36298:case 36306:case 35682:return cG;case 35679:case 36299:case 36307:return uG;case 35680:case 36300:case 36308:case 36293:return hG;case 36289:case 36303:case 36311:case 36292:return dG}}var QS=class{constructor(s,o,_){this.id=s,this.addr=_,this.cache=[],this.setValue=Yk(o.type)}},KS=class{constructor(s,o,_){this.id=s,this.addr=_,this.cache=[],this.size=o.size,this.setValue=fG(o.type)}},ZS=class{constructor(s){this.id=s,this.seq=[],this.map={}}setValue(s,o,_){let j=this.seq;for(let et=0,st=j.length;et!==st;++et){let nt=j[et];nt.setValue(s,o[nt.id],_)}}},RS=/(\w+)(\])?(\[|\.)?/g;function lC(s,o){s.seq.push(o),s.map[o.id]=o}function pG(s,o,_){let j=s.name,et=j.length;for(RS.lastIndex=0;;){let st=RS.exec(j),nt=RS.lastIndex,ct=st[1],At=st[2]==="]",mt=st[3];if(At&&(ct=ct|0),mt===void 0||mt==="["&&nt+2===et){lC(_,mt===void 0?new QS(ct,s,o):new KS(ct,s,o));break}else{let gt=_.map[ct];gt===void 0&&(gt=new ZS(ct),lC(_,gt)),_=gt}}}var Iu=class{constructor(s,o){this.seq=[],this.map={};let _=s.getProgramParameter(o,35718);for(let j=0;j<_;++j){let et=s.getActiveUniform(o,j),st=s.getUniformLocation(o,et.name);pG(et,st,this)}}setValue(s,o,_,j){let et=this.map[o];et!==void 0&&et.setValue(s,_,j)}setOptional(s,o,_){let j=o[_];j!==void 0&&this.setValue(s,_,j)}static upload(s,o,_,j){for(let et=0,st=o.length;et!==st;++et){let nt=o[et],ct=_[nt.id];ct.needsUpdate!==!1&&nt.setValue(s,ct.value,j)}}static seqWithValue(s,o){let _=[];for(let j=0,et=s.length;j!==et;++j){let st=s[j];st.id in o&&_.push(st)}return _}};function cC(s,o,_){let j=s.createShader(o);return s.shaderSource(j,_),s.compileShader(j),j}var mG=0;function gG(s,o){let _=s.split(`
`),j=[],et=Math.max(o-6,0),st=Math.min(o+6,_.length);for(let nt=et;nt<st;nt++){let ct=nt+1;j.push(`${ct===o?">":" "} ${ct}: ${_[nt]}`)}return j.join(`
`)}function yG(s){switch(s){case mn:return["Linear","( value )"];case at:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",s),["Linear","( value )"]}}function uC(s,o,_){let j=s.getShaderParameter(o,35713),et=s.getShaderInfoLog(o).trim();if(j&&et==="")return"";let st=/ERROR: 0:(\d+)/.exec(et);if(st){let nt=parseInt(st[1]);return _.toUpperCase()+`

`+et+`

`+gG(s.getShaderSource(o),nt)}else return et}function vG(s,o){let _=yG(o);return"vec4 "+s+"( vec4 value ) { return LinearTo"+_[0]+_[1]+"; }"}function xG(s,o){let _;switch(o){case RF:_="Linear";break;case LF$2:_="Reinhard";break;case BF:_="OptimizedCineon";break;case NF:_="ACESFilmic";break;case FF:_="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",o),_="Linear"}return"vec3 "+s+"( vec3 color ) { return "+_+"ToneMapping( color ); }"}function bG(s){return[s.extensionDerivatives||s.envMapCubeUVHeight||s.bumpMap||s.tangentSpaceNormalMap||s.clearcoatNormalMap||s.flatShading||s.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(s.extensionFragDepth||s.logarithmicDepthBuffer)&&s.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",s.extensionDrawBuffers&&s.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(s.extensionShaderTextureLOD||s.envMap||s.transmission)&&s.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($f).join(`
`)}function SG(s){let o=[];for(let _ in s){let j=s[_];j!==!1&&o.push("#define "+_+" "+j)}return o.join(`
`)}function wG(s,o){let _={},j=s.getProgramParameter(o,35721);for(let et=0;et<j;et++){let st=s.getActiveAttrib(o,et),nt=st.name,ct=1;st.type===35674&&(ct=2),st.type===35675&&(ct=3),st.type===35676&&(ct=4),_[nt]={type:st.type,location:s.getAttribLocation(o,nt),locationSize:ct}}return _}function $f(s){return s!==""}function hC(s,o){let _=o.numSpotLightShadows+o.numSpotLightMaps-o.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,o.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,_).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,o.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function dC(s,o){return s.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}var AG=/^[ \t]*#include +<([\w\d./]+)>/gm;function JS(s){return s.replace(AG,EG)}function EG(s,o){let _=xt[o];if(_===void 0)throw new Error("Can not resolve #include <"+o+">");return JS(_)}var MG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fC(s){return s.replace(MG,TG)}function TG(s,o,_,j){let et="";for(let st=parseInt(o);st<parseInt(_);st++)et+=j.replace(/\[\s*i\s*\]/g,"[ "+st+" ]").replace(/UNROLLED_LOOP_INDEX/g,st);return et}function pC(s){let o="precision "+s.precision+` float;
precision `+s.precision+" int;";return s.precision==="highp"?o+=`
#define HIGH_PRECISION`:s.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function CG(s){let o="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===Ay?o="SHADOWMAP_TYPE_PCF":s.shadowMapType===hF?o="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===Jf&&(o="SHADOWMAP_TYPE_VSM"),o}function PG(s){let o="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case Qa:case Ka:o="ENVMAP_TYPE_CUBE";break;case Zu:o="ENVMAP_TYPE_CUBE_UV";break}return o}function _G(s){let o="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case Ka:o="ENVMAP_MODE_REFRACTION";break}return o}function DG(s){let o="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case jC:o="ENVMAP_BLENDING_MULTIPLY";break;case IF:o="ENVMAP_BLENDING_MIX";break;case OF:o="ENVMAP_BLENDING_ADD";break}return o}function IG(s){let o=s.envMapCubeUVHeight;if(o===null)return null;let _=Math.log2(o)-2,j=1/o;return{texelWidth:1/(3*Math.max(Math.pow(2,_),7*16)),texelHeight:j,maxMip:_}}function OG(s,o,_,j){let et=s.getContext(),st=_.defines,nt=_.vertexShader,ct=_.fragmentShader,At=CG(_),mt=PG(_),gt=_G(_),_t=DG(_),Et=IG(_),Ct=_.isWebGL2?"":bG(_),Bt=SG(st),Dt=et.createProgram(),Ft,Rt,Nt=_.glslVersion?"#version "+_.glslVersion+`
`:"";_.isRawShaderMaterial?(Ft=[Bt].filter($f).join(`
`),Ft.length>0&&(Ft+=`
`),Rt=[Ct,Bt].filter($f).join(`
`),Rt.length>0&&(Rt+=`
`)):(Ft=[pC(_),"#define SHADER_NAME "+_.shaderName,Bt,_.instancing?"#define USE_INSTANCING":"",_.instancingColor?"#define USE_INSTANCING_COLOR":"",_.supportsVertexTextures?"#define VERTEX_TEXTURES":"",_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.map?"#define USE_MAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+gt:"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMap&&_.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_.normalMap&&_.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_.displacementMap&&_.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_.vertexTangents?"#define USE_TANGENT":"",_.vertexColors?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUvs?"#define USE_UV":"",_.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_.flatShading?"#define FLAT_SHADED":"",_.skinning?"#define USE_SKINNING":"",_.morphTargets?"#define USE_MORPHTARGETS":"",_.morphNormals&&_.flatShading===!1?"#define USE_MORPHNORMALS":"",_.morphColors&&_.isWebGL2?"#define USE_MORPHCOLORS":"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+_.morphTextureStride:"",_.morphTargetsCount>0&&_.isWebGL2?"#define MORPHTARGETS_COUNT "+_.morphTargetsCount:"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+At:"",_.sizeAttenuation?"#define USE_SIZEATTENUATION":"",_.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_.logarithmicDepthBuffer&&_.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($f).join(`
`),Rt=[Ct,pC(_),"#define SHADER_NAME "+_.shaderName,Bt,_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.map?"#define USE_MAP":"",_.matcap?"#define USE_MATCAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+mt:"",_.envMap?"#define "+gt:"",_.envMap?"#define "+_t:"",Et?"#define CUBEUV_TEXEL_WIDTH "+Et.texelWidth:"",Et?"#define CUBEUV_TEXEL_HEIGHT "+Et.texelHeight:"",Et?"#define CUBEUV_MAX_MIP "+Et.maxMip+".0":"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMap&&_.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",_.normalMap&&_.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",_.clearcoat?"#define USE_CLEARCOAT":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.iridescence?"#define USE_IRIDESCENCE":"",_.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",_.specularColorMap?"#define USE_SPECULARCOLORMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.alphaTest?"#define USE_ALPHATEST":"",_.sheen?"#define USE_SHEEN":"",_.sheenColorMap?"#define USE_SHEENCOLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",_.vertexTangents?"#define USE_TANGENT":"",_.vertexColors||_.instancingColor?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUvs?"#define USE_UV":"",_.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",_.gradientMap?"#define USE_GRADIENTMAP":"",_.flatShading?"#define FLAT_SHADED":"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+At:"",_.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",_.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",_.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",_.logarithmicDepthBuffer&&_.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",_.toneMapping!==Is?"#define TONE_MAPPING":"",_.toneMapping!==Is?xt.tonemapping_pars_fragment:"",_.toneMapping!==Is?xG("toneMapping",_.toneMapping):"",_.dithering?"#define DITHERING":"",_.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,vG("linearToOutputTexel",_.outputEncoding),_.useDepthPacking?"#define DEPTH_PACKING "+_.depthPacking:"",`
`].filter($f).join(`
`)),nt=JS(nt),nt=hC(nt,_),nt=dC(nt,_),ct=JS(ct),ct=hC(ct,_),ct=dC(ct,_),nt=fC(nt),ct=fC(ct),_.isWebGL2&&_.isRawShaderMaterial!==!0&&(Nt=`#version 300 es
`,Ft=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Ft,Rt=["#define varying in",_.glslVersion===UT?"":"layout(location = 0) out highp vec4 pc_fragColor;",_.glslVersion===UT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Rt);let Gt=Nt+Ft+nt,dr=Nt+Rt+ct,ts=cC(et,35633,Gt),es=cC(et,35632,dr);if(et.attachShader(Dt,ts),et.attachShader(Dt,es),_.index0AttributeName!==void 0?et.bindAttribLocation(Dt,0,_.index0AttributeName):_.morphTargets===!0&&et.bindAttribLocation(Dt,0,"position"),et.linkProgram(Dt),s.debug.checkShaderErrors){let rn=et.getProgramInfoLog(Dt).trim(),un=et.getShaderInfoLog(ts).trim(),$n=et.getShaderInfoLog(es).trim(),kn=!0,lo=!0;if(et.getProgramParameter(Dt,35714)===!1){kn=!1;let Il=uC(et,ts,"vertex"),cu=uC(et,es,"fragment");console.error("THREE.WebGLProgram: Shader Error "+et.getError()+" - VALIDATE_STATUS "+et.getProgramParameter(Dt,35715)+`

Program Info Log: `+rn+`
`+Il+`
`+cu)}else rn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",rn):(un===""||$n==="")&&(lo=!1);lo&&(this.diagnostics={runnable:kn,programLog:rn,vertexShader:{log:un,prefix:Ft},fragmentShader:{log:$n,prefix:Rt}})}et.deleteShader(ts),et.deleteShader(es);let ds;this.getUniforms=function(){return ds===void 0&&(ds=new Iu(et,Dt)),ds};let tn;return this.getAttributes=function(){return tn===void 0&&(tn=wG(et,Dt)),tn},this.destroy=function(){j.releaseStatesOfProgram(this),et.deleteProgram(Dt),this.program=void 0},this.name=_.shaderName,this.id=mG++,this.cacheKey=o,this.usedTimes=1,this.program=Dt,this.vertexShader=ts,this.fragmentShader=es,this}var RG=0,$S=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(s){let o=s.vertexShader,_=s.fragmentShader,j=this._getShaderStage(o),et=this._getShaderStage(_),st=this._getShaderCacheForMaterial(s);return st.has(j)===!1&&(st.add(j),j.usedTimes++),st.has(et)===!1&&(st.add(et),et.usedTimes++),this}remove(s){let o=this.materialCache.get(s);for(let _ of o)_.usedTimes--,_.usedTimes===0&&this.shaderCache.delete(_.code);return this.materialCache.delete(s),this}getVertexShaderID(s){return this._getShaderStage(s.vertexShader).id}getFragmentShaderID(s){return this._getShaderStage(s.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(s){let o=this.materialCache,_=o.get(s);return _===void 0&&(_=new Set,o.set(s,_)),_}_getShaderStage(s){let o=this.shaderCache,_=o.get(s);return _===void 0&&(_=new ew(s),o.set(s,_)),_}},ew=class{constructor(s){this.id=RG++,this.code=s,this.usedTimes=0}};function LG(s,o,_,j,et,st,nt){let ct=new lp,At=new $S,mt=[],gt=et.isWebGL2,_t=et.logarithmicDepthBuffer,Et=et.vertexTextures,Ct=et.precision,Bt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Dt(tn,rn,un,$n,kn){let lo=$n.fog,Il=kn.geometry,cu=tn.isMeshStandardMaterial?$n.environment:null,Ko=(tn.isMeshStandardMaterial?_:o).get(tn.envMap||cu),ru=Ko&&Ko.mapping===Zu?Ko.image.height:null,Tn=Bt[tn.type];tn.precision!==null&&(Ct=et.getMaxPrecision(tn.precision),Ct!==tn.precision&&console.warn("THREE.WebGLProgram.getParameters:",tn.precision,"not supported, using",Ct,"instead."));let ao=Il.morphAttributes.position||Il.morphAttributes.normal||Il.morphAttributes.color,uu=ao!==void 0?ao.length:0,hu=0;Il.morphAttributes.position!==void 0&&(hu=1),Il.morphAttributes.normal!==void 0&&(hu=2),Il.morphAttributes.color!==void 0&&(hu=3);let tA,Sv,W0,l1;if(Tn){let a1=uo[Tn];tA=a1.vertexShader,Sv=a1.fragmentShader}else tA=tn.vertexShader,Sv=tn.fragmentShader,At.update(tn),W0=At.getVertexShaderID(tn),l1=At.getFragmentShaderID(tn);let X1=s.getRenderTarget(),kI=tn.alphaTest>0,q1=tn.clearcoat>0,UE=tn.iridescence>0;return{isWebGL2:gt,shaderID:Tn,shaderName:tn.type,vertexShader:tA,fragmentShader:Sv,defines:tn.defines,customVertexShaderID:W0,customFragmentShaderID:l1,isRawShaderMaterial:tn.isRawShaderMaterial===!0,glslVersion:tn.glslVersion,precision:Ct,instancing:kn.isInstancedMesh===!0,instancingColor:kn.isInstancedMesh===!0&&kn.instanceColor!==null,supportsVertexTextures:Et,outputEncoding:X1===null?s.outputEncoding:X1.isXRRenderTarget===!0?X1.texture.encoding:mn,map:!!tn.map,matcap:!!tn.matcap,envMap:!!Ko,envMapMode:Ko&&Ko.mapping,envMapCubeUVHeight:ru,lightMap:!!tn.lightMap,aoMap:!!tn.aoMap,emissiveMap:!!tn.emissiveMap,bumpMap:!!tn.bumpMap,normalMap:!!tn.normalMap,objectSpaceNormalMap:tn.normalMapType===eV,tangentSpaceNormalMap:tn.normalMapType===$F,decodeVideoTexture:!!tn.map&&tn.map.isVideoTexture===!0&&tn.map.encoding===at,clearcoat:q1,clearcoatMap:q1&&!!tn.clearcoatMap,clearcoatRoughnessMap:q1&&!!tn.clearcoatRoughnessMap,clearcoatNormalMap:q1&&!!tn.clearcoatNormalMap,iridescence:UE,iridescenceMap:UE&&!!tn.iridescenceMap,iridescenceThicknessMap:UE&&!!tn.iridescenceThicknessMap,displacementMap:!!tn.displacementMap,roughnessMap:!!tn.roughnessMap,metalnessMap:!!tn.metalnessMap,specularMap:!!tn.specularMap,specularIntensityMap:!!tn.specularIntensityMap,specularColorMap:!!tn.specularColorMap,opaque:tn.transparent===!1&&tn.blending===Ya,alphaMap:!!tn.alphaMap,alphaTest:kI,gradientMap:!!tn.gradientMap,sheen:tn.sheen>0,sheenColorMap:!!tn.sheenColorMap,sheenRoughnessMap:!!tn.sheenRoughnessMap,transmission:tn.transmission>0,transmissionMap:!!tn.transmissionMap,thicknessMap:!!tn.thicknessMap,combine:tn.combine,vertexTangents:!!tn.normalMap&&!!Il.attributes.tangent,vertexColors:tn.vertexColors,vertexAlphas:tn.vertexColors===!0&&!!Il.attributes.color&&Il.attributes.color.itemSize===4,vertexUvs:!!tn.map||!!tn.bumpMap||!!tn.normalMap||!!tn.specularMap||!!tn.alphaMap||!!tn.emissiveMap||!!tn.roughnessMap||!!tn.metalnessMap||!!tn.clearcoatMap||!!tn.clearcoatRoughnessMap||!!tn.clearcoatNormalMap||!!tn.iridescenceMap||!!tn.iridescenceThicknessMap||!!tn.displacementMap||!!tn.transmissionMap||!!tn.thicknessMap||!!tn.specularIntensityMap||!!tn.specularColorMap||!!tn.sheenColorMap||!!tn.sheenRoughnessMap,uvsVertexOnly:!(tn.map||tn.bumpMap||tn.normalMap||tn.specularMap||tn.alphaMap||tn.emissiveMap||tn.roughnessMap||tn.metalnessMap||tn.clearcoatNormalMap||tn.iridescenceMap||tn.iridescenceThicknessMap||tn.transmission>0||tn.transmissionMap||tn.thicknessMap||tn.specularIntensityMap||tn.specularColorMap||tn.sheen>0||tn.sheenColorMap||tn.sheenRoughnessMap)&&!!tn.displacementMap,fog:!!lo,useFog:tn.fog===!0,fogExp2:lo&&lo.isFogExp2,flatShading:!!tn.flatShading,sizeAttenuation:tn.sizeAttenuation,logarithmicDepthBuffer:_t,skinning:kn.isSkinnedMesh===!0,morphTargets:Il.morphAttributes.position!==void 0,morphNormals:Il.morphAttributes.normal!==void 0,morphColors:Il.morphAttributes.color!==void 0,morphTargetsCount:uu,morphTextureStride:hu,numDirLights:rn.directional.length,numPointLights:rn.point.length,numSpotLights:rn.spot.length,numSpotLightMaps:rn.spotLightMap.length,numRectAreaLights:rn.rectArea.length,numHemiLights:rn.hemi.length,numDirLightShadows:rn.directionalShadowMap.length,numPointLightShadows:rn.pointShadowMap.length,numSpotLightShadows:rn.spotShadowMap.length,numSpotLightShadowsWithMaps:rn.numSpotLightShadowsWithMaps,numClippingPlanes:nt.numPlanes,numClipIntersection:nt.numIntersection,dithering:tn.dithering,shadowMapEnabled:s.shadowMap.enabled&&un.length>0,shadowMapType:s.shadowMap.type,toneMapping:tn.toneMapped?s.toneMapping:Is,physicallyCorrectLights:s.physicallyCorrectLights,premultipliedAlpha:tn.premultipliedAlpha,doubleSided:tn.side===fi,flipSided:tn.side===pi,useDepthPacking:!!tn.depthPacking,depthPacking:tn.depthPacking||0,index0AttributeName:tn.index0AttributeName,extensionDerivatives:tn.extensions&&tn.extensions.derivatives,extensionFragDepth:tn.extensions&&tn.extensions.fragDepth,extensionDrawBuffers:tn.extensions&&tn.extensions.drawBuffers,extensionShaderTextureLOD:tn.extensions&&tn.extensions.shaderTextureLOD,rendererExtensionFragDepth:gt||j.has("EXT_frag_depth"),rendererExtensionDrawBuffers:gt||j.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:gt||j.has("EXT_shader_texture_lod"),customProgramCacheKey:tn.customProgramCacheKey()}}function Ft(tn){let rn=[];if(tn.shaderID?rn.push(tn.shaderID):(rn.push(tn.customVertexShaderID),rn.push(tn.customFragmentShaderID)),tn.defines!==void 0)for(let un in tn.defines)rn.push(un),rn.push(tn.defines[un]);return tn.isRawShaderMaterial===!1&&(Rt(rn,tn),Nt(rn,tn),rn.push(s.outputEncoding)),rn.push(tn.customProgramCacheKey),rn.join()}function Rt(tn,rn){tn.push(rn.precision),tn.push(rn.outputEncoding),tn.push(rn.envMapMode),tn.push(rn.envMapCubeUVHeight),tn.push(rn.combine),tn.push(rn.vertexUvs),tn.push(rn.fogExp2),tn.push(rn.sizeAttenuation),tn.push(rn.morphTargetsCount),tn.push(rn.morphAttributeCount),tn.push(rn.numDirLights),tn.push(rn.numPointLights),tn.push(rn.numSpotLights),tn.push(rn.numSpotLightMaps),tn.push(rn.numHemiLights),tn.push(rn.numRectAreaLights),tn.push(rn.numDirLightShadows),tn.push(rn.numPointLightShadows),tn.push(rn.numSpotLightShadows),tn.push(rn.numSpotLightShadowsWithMaps),tn.push(rn.shadowMapType),tn.push(rn.toneMapping),tn.push(rn.numClippingPlanes),tn.push(rn.numClipIntersection),tn.push(rn.depthPacking)}function Nt(tn,rn){ct.disableAll(),rn.isWebGL2&&ct.enable(0),rn.supportsVertexTextures&&ct.enable(1),rn.instancing&&ct.enable(2),rn.instancingColor&&ct.enable(3),rn.map&&ct.enable(4),rn.matcap&&ct.enable(5),rn.envMap&&ct.enable(6),rn.lightMap&&ct.enable(7),rn.aoMap&&ct.enable(8),rn.emissiveMap&&ct.enable(9),rn.bumpMap&&ct.enable(10),rn.normalMap&&ct.enable(11),rn.objectSpaceNormalMap&&ct.enable(12),rn.tangentSpaceNormalMap&&ct.enable(13),rn.clearcoat&&ct.enable(14),rn.clearcoatMap&&ct.enable(15),rn.clearcoatRoughnessMap&&ct.enable(16),rn.clearcoatNormalMap&&ct.enable(17),rn.iridescence&&ct.enable(18),rn.iridescenceMap&&ct.enable(19),rn.iridescenceThicknessMap&&ct.enable(20),rn.displacementMap&&ct.enable(21),rn.specularMap&&ct.enable(22),rn.roughnessMap&&ct.enable(23),rn.metalnessMap&&ct.enable(24),rn.gradientMap&&ct.enable(25),rn.alphaMap&&ct.enable(26),rn.alphaTest&&ct.enable(27),rn.vertexColors&&ct.enable(28),rn.vertexAlphas&&ct.enable(29),rn.vertexUvs&&ct.enable(30),rn.vertexTangents&&ct.enable(31),rn.uvsVertexOnly&&ct.enable(32),tn.push(ct.mask),ct.disableAll(),rn.fog&&ct.enable(0),rn.useFog&&ct.enable(1),rn.flatShading&&ct.enable(2),rn.logarithmicDepthBuffer&&ct.enable(3),rn.skinning&&ct.enable(4),rn.morphTargets&&ct.enable(5),rn.morphNormals&&ct.enable(6),rn.morphColors&&ct.enable(7),rn.premultipliedAlpha&&ct.enable(8),rn.shadowMapEnabled&&ct.enable(9),rn.physicallyCorrectLights&&ct.enable(10),rn.doubleSided&&ct.enable(11),rn.flipSided&&ct.enable(12),rn.useDepthPacking&&ct.enable(13),rn.dithering&&ct.enable(14),rn.specularIntensityMap&&ct.enable(15),rn.specularColorMap&&ct.enable(16),rn.transmission&&ct.enable(17),rn.transmissionMap&&ct.enable(18),rn.thicknessMap&&ct.enable(19),rn.sheen&&ct.enable(20),rn.sheenColorMap&&ct.enable(21),rn.sheenRoughnessMap&&ct.enable(22),rn.decodeVideoTexture&&ct.enable(23),rn.opaque&&ct.enable(24),tn.push(ct.mask)}function Gt(tn){let rn=Bt[tn.type],un;if(rn){let $n=uo[rn];un=Bs.clone($n.uniforms)}else un=tn.uniforms;return un}function dr(tn,rn){let un;for(let $n=0,kn=mt.length;$n<kn;$n++){let lo=mt[$n];if(lo.cacheKey===rn){un=lo,++un.usedTimes;break}}return un===void 0&&(un=new OG(s,rn,tn,st),mt.push(un)),un}function ts(tn){if(--tn.usedTimes===0){let rn=mt.indexOf(tn);mt[rn]=mt[mt.length-1],mt.pop(),tn.destroy()}}function es(tn){At.remove(tn)}function ds(){At.dispose()}return{getParameters:Dt,getProgramCacheKey:Ft,getUniforms:Gt,acquireProgram:dr,releaseProgram:ts,releaseShaderCache:es,programs:mt,dispose:ds}}function BG(){let s=new WeakMap;function o(st){let nt=s.get(st);return nt===void 0&&(nt={},s.set(st,nt)),nt}function _(st){s.delete(st)}function j(st,nt,ct){s.get(st)[nt]=ct}function et(){s=new WeakMap}return{get:o,remove:_,update:j,dispose:et}}function NG(s,o){return s.groupOrder!==o.groupOrder?s.groupOrder-o.groupOrder:s.renderOrder!==o.renderOrder?s.renderOrder-o.renderOrder:s.material.id!==o.material.id?s.material.id-o.material.id:s.z!==o.z?s.z-o.z:s.id-o.id}function mC(s,o){return s.groupOrder!==o.groupOrder?s.groupOrder-o.groupOrder:s.renderOrder!==o.renderOrder?s.renderOrder-o.renderOrder:s.z!==o.z?o.z-s.z:s.id-o.id}function gC(){let s=[],o=0,_=[],j=[],et=[];function st(){o=0,_.length=0,j.length=0,et.length=0}function nt(_t,Et,Ct,Bt,Dt,Ft){let Rt=s[o];return Rt===void 0?(Rt={id:_t.id,object:_t,geometry:Et,material:Ct,groupOrder:Bt,renderOrder:_t.renderOrder,z:Dt,group:Ft},s[o]=Rt):(Rt.id=_t.id,Rt.object=_t,Rt.geometry=Et,Rt.material=Ct,Rt.groupOrder=Bt,Rt.renderOrder=_t.renderOrder,Rt.z=Dt,Rt.group=Ft),o++,Rt}function ct(_t,Et,Ct,Bt,Dt,Ft){let Rt=nt(_t,Et,Ct,Bt,Dt,Ft);Ct.transmission>0?j.push(Rt):Ct.transparent===!0?et.push(Rt):_.push(Rt)}function At(_t,Et,Ct,Bt,Dt,Ft){let Rt=nt(_t,Et,Ct,Bt,Dt,Ft);Ct.transmission>0?j.unshift(Rt):Ct.transparent===!0?et.unshift(Rt):_.unshift(Rt)}function mt(_t,Et){_.length>1&&_.sort(_t||NG),j.length>1&&j.sort(Et||mC),et.length>1&&et.sort(Et||mC)}function gt(){for(let _t=o,Et=s.length;_t<Et;_t++){let Ct=s[_t];if(Ct.id===null)break;Ct.id=null,Ct.object=null,Ct.geometry=null,Ct.material=null,Ct.group=null}}return{opaque:_,transmissive:j,transparent:et,init:st,push:ct,unshift:At,finish:gt,sort:mt}}function FG(){let s=new WeakMap;function o(j,et){let st=s.get(j),nt;return st===void 0?(nt=new gC,s.set(j,[nt])):et>=st.length?(nt=new gC,st.push(nt)):nt=st[et],nt}function _(){s=new WeakMap}return{get:o,dispose:_}}function VG(){let s={};return{get:function(o){if(s[o.id]!==void 0)return s[o.id];let _;switch(o.type){case"DirectionalLight":_={direction:new E$2,color:new We};break;case"SpotLight":_={position:new E$2,direction:new E$2,color:new We,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":_={position:new E$2,color:new We,distance:0,decay:0};break;case"HemisphereLight":_={direction:new E$2,skyColor:new We,groundColor:new We};break;case"RectAreaLight":_={color:new We,position:new E$2,halfWidth:new E$2,halfHeight:new E$2};break}return s[o.id]=_,_}}}function UG(){let s={};return{get:function(o){if(s[o.id]!==void 0)return s[o.id];let _;switch(o.type){case"DirectionalLight":_={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new U$1};break;case"SpotLight":_={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new U$1};break;case"PointLight":_={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new U$1,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[o.id]=_,_}}}var zG=0;function kG(s,o){return(o.castShadow?2:0)-(s.castShadow?2:0)+(o.map?1:0)-(s.map?1:0)}function GG(s,o){let _=new VG,j=UG(),et={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let gt=0;gt<9;gt++)et.probe.push(new E$2);let st=new E$2,nt=new ue$2,ct=new ue$2;function At(gt,_t){let Et=0,Ct=0,Bt=0;for(let $n=0;$n<9;$n++)et.probe[$n].set(0,0,0);let Dt=0,Ft=0,Rt=0,Nt=0,Gt=0,dr=0,ts=0,es=0,ds=0,tn=0;gt.sort(kG);let rn=_t!==!0?Math.PI:1;for(let $n=0,kn=gt.length;$n<kn;$n++){let lo=gt[$n],Il=lo.color,cu=lo.intensity,Ko=lo.distance,ru=lo.shadow&&lo.shadow.map?lo.shadow.map.texture:null;if(lo.isAmbientLight)Et+=Il.r*cu*rn,Ct+=Il.g*cu*rn,Bt+=Il.b*cu*rn;else if(lo.isLightProbe)for(let Tn=0;Tn<9;Tn++)et.probe[Tn].addScaledVector(lo.sh.coefficients[Tn],cu);else if(lo.isDirectionalLight){let Tn=_.get(lo);if(Tn.color.copy(lo.color).multiplyScalar(lo.intensity*rn),lo.castShadow){let ao=lo.shadow,uu=j.get(lo);uu.shadowBias=ao.bias,uu.shadowNormalBias=ao.normalBias,uu.shadowRadius=ao.radius,uu.shadowMapSize=ao.mapSize,et.directionalShadow[Dt]=uu,et.directionalShadowMap[Dt]=ru,et.directionalShadowMatrix[Dt]=lo.shadow.matrix,dr++}et.directional[Dt]=Tn,Dt++}else if(lo.isSpotLight){let Tn=_.get(lo);Tn.position.setFromMatrixPosition(lo.matrixWorld),Tn.color.copy(Il).multiplyScalar(cu*rn),Tn.distance=Ko,Tn.coneCos=Math.cos(lo.angle),Tn.penumbraCos=Math.cos(lo.angle*(1-lo.penumbra)),Tn.decay=lo.decay,et.spot[Rt]=Tn;let ao=lo.shadow;if(lo.map&&(et.spotLightMap[ds]=lo.map,ds++,ao.updateMatrices(lo),lo.castShadow&&tn++),et.spotLightMatrix[Rt]=ao.matrix,lo.castShadow){let uu=j.get(lo);uu.shadowBias=ao.bias,uu.shadowNormalBias=ao.normalBias,uu.shadowRadius=ao.radius,uu.shadowMapSize=ao.mapSize,et.spotShadow[Rt]=uu,et.spotShadowMap[Rt]=ru,es++}Rt++}else if(lo.isRectAreaLight){let Tn=_.get(lo);Tn.color.copy(Il).multiplyScalar(cu),Tn.halfWidth.set(lo.width*.5,0,0),Tn.halfHeight.set(0,lo.height*.5,0),et.rectArea[Nt]=Tn,Nt++}else if(lo.isPointLight){let Tn=_.get(lo);if(Tn.color.copy(lo.color).multiplyScalar(lo.intensity*rn),Tn.distance=lo.distance,Tn.decay=lo.decay,lo.castShadow){let ao=lo.shadow,uu=j.get(lo);uu.shadowBias=ao.bias,uu.shadowNormalBias=ao.normalBias,uu.shadowRadius=ao.radius,uu.shadowMapSize=ao.mapSize,uu.shadowCameraNear=ao.camera.near,uu.shadowCameraFar=ao.camera.far,et.pointShadow[Ft]=uu,et.pointShadowMap[Ft]=ru,et.pointShadowMatrix[Ft]=lo.shadow.matrix,ts++}et.point[Ft]=Tn,Ft++}else if(lo.isHemisphereLight){let Tn=_.get(lo);Tn.skyColor.copy(lo.color).multiplyScalar(cu*rn),Tn.groundColor.copy(lo.groundColor).multiplyScalar(cu*rn),et.hemi[Gt]=Tn,Gt++}}Nt>0&&(o.isWebGL2||s.has("OES_texture_float_linear")===!0?(et.rectAreaLTC1=De$1.LTC_FLOAT_1,et.rectAreaLTC2=De$1.LTC_FLOAT_2):s.has("OES_texture_half_float_linear")===!0?(et.rectAreaLTC1=De$1.LTC_HALF_1,et.rectAreaLTC2=De$1.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),et.ambient[0]=Et,et.ambient[1]=Ct,et.ambient[2]=Bt;let un=et.hash;(un.directionalLength!==Dt||un.pointLength!==Ft||un.spotLength!==Rt||un.rectAreaLength!==Nt||un.hemiLength!==Gt||un.numDirectionalShadows!==dr||un.numPointShadows!==ts||un.numSpotShadows!==es||un.numSpotMaps!==ds)&&(et.directional.length=Dt,et.spot.length=Rt,et.rectArea.length=Nt,et.point.length=Ft,et.hemi.length=Gt,et.directionalShadow.length=dr,et.directionalShadowMap.length=dr,et.pointShadow.length=ts,et.pointShadowMap.length=ts,et.spotShadow.length=es,et.spotShadowMap.length=es,et.directionalShadowMatrix.length=dr,et.pointShadowMatrix.length=ts,et.spotLightMatrix.length=es+ds-tn,et.spotLightMap.length=ds,et.numSpotLightShadowsWithMaps=tn,un.directionalLength=Dt,un.pointLength=Ft,un.spotLength=Rt,un.rectAreaLength=Nt,un.hemiLength=Gt,un.numDirectionalShadows=dr,un.numPointShadows=ts,un.numSpotShadows=es,un.numSpotMaps=ds,et.version=zG++)}function mt(gt,_t){let Et=0,Ct=0,Bt=0,Dt=0,Ft=0,Rt=_t.matrixWorldInverse;for(let Nt=0,Gt=gt.length;Nt<Gt;Nt++){let dr=gt[Nt];if(dr.isDirectionalLight){let ts=et.directional[Et];ts.direction.setFromMatrixPosition(dr.matrixWorld),st.setFromMatrixPosition(dr.target.matrixWorld),ts.direction.sub(st),ts.direction.transformDirection(Rt),Et++}else if(dr.isSpotLight){let ts=et.spot[Bt];ts.position.setFromMatrixPosition(dr.matrixWorld),ts.position.applyMatrix4(Rt),ts.direction.setFromMatrixPosition(dr.matrixWorld),st.setFromMatrixPosition(dr.target.matrixWorld),ts.direction.sub(st),ts.direction.transformDirection(Rt),Bt++}else if(dr.isRectAreaLight){let ts=et.rectArea[Dt];ts.position.setFromMatrixPosition(dr.matrixWorld),ts.position.applyMatrix4(Rt),ct.identity(),nt.copy(dr.matrixWorld),nt.premultiply(Rt),ct.extractRotation(nt),ts.halfWidth.set(dr.width*.5,0,0),ts.halfHeight.set(0,dr.height*.5,0),ts.halfWidth.applyMatrix4(ct),ts.halfHeight.applyMatrix4(ct),Dt++}else if(dr.isPointLight){let ts=et.point[Ct];ts.position.setFromMatrixPosition(dr.matrixWorld),ts.position.applyMatrix4(Rt),Ct++}else if(dr.isHemisphereLight){let ts=et.hemi[Ft];ts.direction.setFromMatrixPosition(dr.matrixWorld),ts.direction.transformDirection(Rt),Ft++}}}return{setup:At,setupView:mt,state:et}}function yC(s,o){let _=new GG(s,o),j=[],et=[];function st(){j.length=0,et.length=0}function nt(gt){j.push(gt)}function ct(gt){et.push(gt)}function At(gt){_.setup(j,gt)}function mt(gt){_.setupView(j,gt)}return{init:st,state:{lightsArray:j,shadowsArray:et,lights:_},setupLights:At,setupLightsView:mt,pushLight:nt,pushShadow:ct}}function jG(s,o){let _=new WeakMap;function j(st,nt=0){let ct=_.get(st),At;return ct===void 0?(At=new yC(s,o),_.set(st,[At])):nt>=ct.length?(At=new yC(s,o),ct.push(At)):At=ct[nt],At}function et(){_=new WeakMap}return{get:j,dispose:et}}var up=class extends fc{constructor(s){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Bi,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(s)}copy(s){return super.copy(s),this.depthPacking=s.depthPacking,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this}},tw=class extends fc{constructor(s){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new E$2,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(s)}copy(s){return super.copy(s),this.referencePosition.copy(s.referencePosition),this.nearDistance=s.nearDistance,this.farDistance=s.farDistance,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this}},HG=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,WG=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function qG(s,o,_){let j=new cp,et=new U$1,st=new U$1,nt=new Ze,ct=new up({depthPacking:Tw}),At=new tw,mt={},gt=_.maxTextureSize,_t={[Hn]:pi,[pi]:Hn,[fi]:fi},Et=new it({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new U$1},radius:{value:4}},vertexShader:HG,fragmentShader:WG}),Ct=Et.clone();Ct.defines.HORIZONTAL_PASS=1;let Bt=new _e;Bt.setAttribute("position",new Xe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let Dt=new Ut(Bt,Et),Ft=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ay,this.render=function(dr,ts,es){if(Ft.enabled===!1||Ft.autoUpdate===!1&&Ft.needsUpdate===!1||dr.length===0)return;let ds=s.getRenderTarget(),tn=s.getActiveCubeFace(),rn=s.getActiveMipmapLevel(),un=s.state;un.setBlending(Jt),un.buffers.color.setClear(1,1,1,1),un.buffers.depth.setTest(!0),un.setScissorTest(!1);for(let $n=0,kn=dr.length;$n<kn;$n++){let lo=dr[$n],Il=lo.shadow;if(Il===void 0){console.warn("THREE.WebGLShadowMap:",lo,"has no shadow.");continue}if(Il.autoUpdate===!1&&Il.needsUpdate===!1)continue;et.copy(Il.mapSize);let cu=Il.getFrameExtents();if(et.multiply(cu),st.copy(Il.mapSize),(et.x>gt||et.y>gt)&&(et.x>gt&&(st.x=Math.floor(gt/cu.x),et.x=st.x*cu.x,Il.mapSize.x=st.x),et.y>gt&&(st.y=Math.floor(gt/cu.y),et.y=st.y*cu.y,Il.mapSize.y=st.y)),Il.map===null){let ru=this.type!==Jf?{minFilter:Vt,magFilter:Vt}:{};Il.map=new dt(et.x,et.y,ru),Il.map.texture.name=lo.name+".shadowMap",Il.camera.updateProjectionMatrix()}s.setRenderTarget(Il.map),s.clear();let Ko=Il.getViewportCount();for(let ru=0;ru<Ko;ru++){let Tn=Il.getViewport(ru);nt.set(st.x*Tn.x,st.y*Tn.y,st.x*Tn.z,st.y*Tn.w),un.viewport(nt),Il.updateMatrices(lo,ru),j=Il.getFrustum(),Gt(ts,es,Il.camera,lo,this.type)}Il.isPointLightShadow!==!0&&this.type===Jf&&Rt(Il,es),Il.needsUpdate=!1}Ft.needsUpdate=!1,s.setRenderTarget(ds,tn,rn)};function Rt(dr,ts){let es=o.update(Dt);Et.defines.VSM_SAMPLES!==dr.blurSamples&&(Et.defines.VSM_SAMPLES=dr.blurSamples,Ct.defines.VSM_SAMPLES=dr.blurSamples,Et.needsUpdate=!0,Ct.needsUpdate=!0),dr.mapPass===null&&(dr.mapPass=new dt(et.x,et.y)),Et.uniforms.shadow_pass.value=dr.map.texture,Et.uniforms.resolution.value=dr.mapSize,Et.uniforms.radius.value=dr.radius,s.setRenderTarget(dr.mapPass),s.clear(),s.renderBufferDirect(ts,null,es,Et,Dt,null),Ct.uniforms.shadow_pass.value=dr.mapPass.texture,Ct.uniforms.resolution.value=dr.mapSize,Ct.uniforms.radius.value=dr.radius,s.setRenderTarget(dr.map),s.clear(),s.renderBufferDirect(ts,null,es,Ct,Dt,null)}function Nt(dr,ts,es,ds,tn,rn){let un=null,$n=es.isPointLight===!0?dr.customDistanceMaterial:dr.customDepthMaterial;if($n!==void 0)un=$n;else if(un=es.isPointLight===!0?At:ct,s.localClippingEnabled&&ts.clipShadows===!0&&Array.isArray(ts.clippingPlanes)&&ts.clippingPlanes.length!==0||ts.displacementMap&&ts.displacementScale!==0||ts.alphaMap&&ts.alphaTest>0||ts.map&&ts.alphaTest>0){let kn=un.uuid,lo=ts.uuid,Il=mt[kn];Il===void 0&&(Il={},mt[kn]=Il);let cu=Il[lo];cu===void 0&&(cu=un.clone(),Il[lo]=cu),un=cu}return un.visible=ts.visible,un.wireframe=ts.wireframe,rn===Jf?un.side=ts.shadowSide!==null?ts.shadowSide:ts.side:un.side=ts.shadowSide!==null?ts.shadowSide:_t[ts.side],un.alphaMap=ts.alphaMap,un.alphaTest=ts.alphaTest,un.map=ts.map,un.clipShadows=ts.clipShadows,un.clippingPlanes=ts.clippingPlanes,un.clipIntersection=ts.clipIntersection,un.displacementMap=ts.displacementMap,un.displacementScale=ts.displacementScale,un.displacementBias=ts.displacementBias,un.wireframeLinewidth=ts.wireframeLinewidth,un.linewidth=ts.linewidth,es.isPointLight===!0&&un.isMeshDistanceMaterial===!0&&(un.referencePosition.setFromMatrixPosition(es.matrixWorld),un.nearDistance=ds,un.farDistance=tn),un}function Gt(dr,ts,es,ds,tn){if(dr.visible===!1)return;if(dr.layers.test(ts.layers)&&(dr.isMesh||dr.isLine||dr.isPoints)&&(dr.castShadow||dr.receiveShadow&&tn===Jf)&&(!dr.frustumCulled||j.intersectsObject(dr))){dr.modelViewMatrix.multiplyMatrices(es.matrixWorldInverse,dr.matrixWorld);let un=o.update(dr),$n=dr.material;if(Array.isArray($n)){let kn=un.groups;for(let lo=0,Il=kn.length;lo<Il;lo++){let cu=kn[lo],Ko=$n[cu.materialIndex];if(Ko&&Ko.visible){let ru=Nt(dr,Ko,ds,es.near,es.far,tn);s.renderBufferDirect(es,null,un,ru,dr,cu)}}}else if($n.visible){let kn=Nt(dr,$n,ds,es.near,es.far,tn);s.renderBufferDirect(es,null,un,kn,dr,null)}}let rn=dr.children;for(let un=0,$n=rn.length;un<$n;un++)Gt(rn[un],ts,es,ds,tn)}}function YG(s,o,_){let j=_.isWebGL2;function et(){let mO=!1,f$=new Ze,b$=null,I$=new Ze(0,0,0,0);return{setMask:function(V$){b$!==V$&&!mO&&(s.colorMask(V$,V$,V$,V$),b$=V$)},setLocked:function(V$){mO=V$},setClear:function(V$,X$,JQ,I7,TK){TK===!0&&(V$*=I7,X$*=I7,JQ*=I7),f$.set(V$,X$,JQ,I7),I$.equals(f$)===!1&&(s.clearColor(V$,X$,JQ,I7),I$.copy(f$))},reset:function(){mO=!1,b$=null,I$.set(-1,0,0,0)}}}function st(){let mO=!1,f$=null,b$=null,I$=null;return{setTest:function(V$){V$?kI(2929):q1(2929)},setMask:function(V$){f$!==V$&&!mO&&(s.depthMask(V$),f$=V$)},setFunc:function(V$){if(b$!==V$){switch(V$){case EF:s.depthFunc(512);break;case MF:s.depthFunc(519);break;case TF:s.depthFunc(513);break;case zS:s.depthFunc(515);break;case CF:s.depthFunc(514);break;case PF:s.depthFunc(518);break;case _F:s.depthFunc(516);break;case DF:s.depthFunc(517);break;default:s.depthFunc(515)}b$=V$}},setLocked:function(V$){mO=V$},setClear:function(V$){I$!==V$&&(s.clearDepth(V$),I$=V$)},reset:function(){mO=!1,f$=null,b$=null,I$=null}}}function nt(){let mO=!1,f$=null,b$=null,I$=null,V$=null,X$=null,JQ=null,I7=null,TK=null;return{setTest:function(zQ){mO||(zQ?kI(2960):q1(2960))},setMask:function(zQ){f$!==zQ&&!mO&&(s.stencilMask(zQ),f$=zQ)},setFunc:function(zQ,Tq,yK){(b$!==zQ||I$!==Tq||V$!==yK)&&(s.stencilFunc(zQ,Tq,yK),b$=zQ,I$=Tq,V$=yK)},setOp:function(zQ,Tq,yK){(X$!==zQ||JQ!==Tq||I7!==yK)&&(s.stencilOp(zQ,Tq,yK),X$=zQ,JQ=Tq,I7=yK)},setLocked:function(zQ){mO=zQ},setClear:function(zQ){TK!==zQ&&(s.clearStencil(zQ),TK=zQ)},reset:function(){mO=!1,f$=null,b$=null,I$=null,V$=null,X$=null,JQ=null,I7=null,TK=null}}}let ct=new et,At=new st,mt=new nt,gt=new WeakMap,_t=new WeakMap,Et={},Ct={},Bt=new WeakMap,Dt=[],Ft=null,Rt=!1,Nt=null,Gt=null,dr=null,ts=null,es=null,ds=null,tn=null,rn=!1,un=null,$n=null,kn=null,lo=null,Il=null,cu=s.getParameter(35661),Ko=!1,ru=0,Tn=s.getParameter(7938);Tn.indexOf("WebGL")!==-1?(ru=parseFloat(/^WebGL (\d)/.exec(Tn)[1]),Ko=ru>=1):Tn.indexOf("OpenGL ES")!==-1&&(ru=parseFloat(/^OpenGL ES (\d)/.exec(Tn)[1]),Ko=ru>=2);let ao=null,uu={},hu=s.getParameter(3088),tA=s.getParameter(2978),Sv=new Ze().fromArray(hu),W0=new Ze().fromArray(tA);function l1(mO,f$,b$){let I$=new Uint8Array(4),V$=s.createTexture();s.bindTexture(mO,V$),s.texParameteri(mO,10241,9728),s.texParameteri(mO,10240,9728);for(let X$=0;X$<b$;X$++)s.texImage2D(f$+X$,0,6408,1,1,0,6408,5121,I$);return V$}let X1={};X1[3553]=l1(3553,3553,1),X1[34067]=l1(34067,34069,6),ct.setClear(0,0,0,1),At.setClear(1),mt.setClear(0),kI(2929),At.setFunc(zS),x$(!1),l$(cT),kI(2884),NI(Jt);function kI(mO){Et[mO]!==!0&&(s.enable(mO),Et[mO]=!0)}function q1(mO){Et[mO]!==!1&&(s.disable(mO),Et[mO]=!1)}function UE(mO,f$){return Ct[mO]!==f$?(s.bindFramebuffer(mO,f$),Ct[mO]=f$,j&&(mO===36009&&(Ct[36160]=f$),mO===36160&&(Ct[36009]=f$)),!0):!1}function a1(mO,f$){let b$=Dt,I$=!1;if(mO)if(b$=Bt.get(f$),b$===void 0&&(b$=[],Bt.set(f$,b$)),mO.isWebGLMultipleRenderTargets){let V$=mO.texture;if(b$.length!==V$.length||b$[0]!==36064){for(let X$=0,JQ=V$.length;X$<JQ;X$++)b$[X$]=36064+X$;b$.length=V$.length,I$=!0}}else b$[0]!==36064&&(b$[0]=36064,I$=!0);else b$[0]!==1029&&(b$[0]=1029,I$=!0);I$&&(_.isWebGL2?s.drawBuffers(b$):o.get("WEBGL_draw_buffers").drawBuffersWEBGL(b$))}function LE(mO){return Ft!==mO?(s.useProgram(mO),Ft=mO,!0):!1}let rS={[Tu]:32774,[fF]:32778,[pF]:32779};if(j)rS[fT]=32775,rS[pT]=32776;else{let mO=o.get("EXT_blend_minmax");mO!==null&&(rS[fT]=mO.MIN_EXT,rS[pT]=mO.MAX_EXT)}let gD={[mF]:0,[gF]:1,[yF]:768,[kC]:770,[AF]:776,[SF]:774,[xF]:772,[vF]:769,[GC]:771,[wF]:775,[bF]:773};function NI(mO,f$,b$,I$,V$,X$,JQ,I7){if(mO===Jt){Rt===!0&&(q1(3042),Rt=!1);return}if(Rt===!1&&(kI(3042),Rt=!0),mO!==dF){if(mO!==Nt||I7!==rn){if((Gt!==Tu||es!==Tu)&&(s.blendEquation(32774),Gt=Tu,es=Tu),I7)switch(mO){case Ya:s.blendFuncSeparate(1,771,1,771);break;case uT:s.blendFunc(1,1);break;case hT:s.blendFuncSeparate(0,769,0,1);break;case dT:s.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",mO);break}else switch(mO){case Ya:s.blendFuncSeparate(770,771,1,771);break;case uT:s.blendFunc(770,1);break;case hT:s.blendFuncSeparate(0,769,0,1);break;case dT:s.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",mO);break}dr=null,ts=null,ds=null,tn=null,Nt=mO,rn=I7}return}V$=V$||f$,X$=X$||b$,JQ=JQ||I$,(f$!==Gt||V$!==es)&&(s.blendEquationSeparate(rS[f$],rS[V$]),Gt=f$,es=V$),(b$!==dr||I$!==ts||X$!==ds||JQ!==tn)&&(s.blendFuncSeparate(gD[b$],gD[I$],gD[X$],gD[JQ]),dr=b$,ts=I$,ds=X$,tn=JQ),Nt=mO,rn=!1}function a$(mO,f$){mO.side===fi?q1(2884):kI(2884);let b$=mO.side===pi;f$&&(b$=!b$),x$(b$),mO.blending===Ya&&mO.transparent===!1?NI(Jt):NI(mO.blending,mO.blendEquation,mO.blendSrc,mO.blendDst,mO.blendEquationAlpha,mO.blendSrcAlpha,mO.blendDstAlpha,mO.premultipliedAlpha),At.setFunc(mO.depthFunc),At.setTest(mO.depthTest),At.setMask(mO.depthWrite),ct.setMask(mO.colorWrite);let I$=mO.stencilWrite;mt.setTest(I$),I$&&(mt.setMask(mO.stencilWriteMask),mt.setFunc(mO.stencilFunc,mO.stencilRef,mO.stencilFuncMask),mt.setOp(mO.stencilFail,mO.stencilZFail,mO.stencilZPass)),h$(mO.polygonOffset,mO.polygonOffsetFactor,mO.polygonOffsetUnits),mO.alphaToCoverage===!0?kI(32926):q1(32926)}function x$(mO){un!==mO&&(mO?s.frontFace(2304):s.frontFace(2305),un=mO)}function l$(mO){mO!==cF?(kI(2884),mO!==$n&&(mO===cT?s.cullFace(1029):mO===uF?s.cullFace(1028):s.cullFace(1032))):q1(2884),$n=mO}function pR(mO){mO!==kn&&(Ko&&s.lineWidth(mO),kn=mO)}function h$(mO,f$,b$){mO?(kI(32823),(lo!==f$||Il!==b$)&&(s.polygonOffset(f$,b$),lo=f$,Il=b$)):q1(32823)}function w$(mO){mO?kI(3089):q1(3089)}function E$(mO){mO===void 0&&(mO=33984+cu-1),ao!==mO&&(s.activeTexture(mO),ao=mO)}function Vx(mO,f$,b$){b$===void 0&&(ao===null?b$=33984+cu-1:b$=ao);let I$=uu[b$];I$===void 0&&(I$={type:void 0,texture:void 0},uu[b$]=I$),(I$.type!==mO||I$.texture!==f$)&&(ao!==b$&&(s.activeTexture(b$),ao=b$),s.bindTexture(mO,f$||X1[mO]),I$.type=mO,I$.texture=f$)}function b0(){let mO=uu[ao];mO!==void 0&&mO.type!==void 0&&(s.bindTexture(mO.type,null),mO.type=void 0,mO.texture=void 0)}function o$(){try{s.compressedTexImage2D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function m$(){try{s.compressedTexImage3D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function t0(){try{s.texSubImage2D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function _$(){try{s.texSubImage3D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function D$(){try{s.compressedTexSubImage2D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function M$(){try{s.compressedTexSubImage3D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function p$(){try{s.texStorage2D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function F$(){try{s.texStorage3D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function R$(){try{s.texImage2D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function O$(){try{s.texImage3D.apply(s,arguments)}catch(mO){console.error("THREE.WebGLState:",mO)}}function j$(mO){Sv.equals(mO)===!1&&(s.scissor(mO.x,mO.y,mO.z,mO.w),Sv.copy(mO))}function U$(mO){W0.equals(mO)===!1&&(s.viewport(mO.x,mO.y,mO.z,mO.w),W0.copy(mO))}function z$(mO,f$){let b$=_t.get(f$);b$===void 0&&(b$=new WeakMap,_t.set(f$,b$));let I$=b$.get(mO);I$===void 0&&(I$=s.getUniformBlockIndex(f$,mO.name),b$.set(mO,I$))}function kQ(mO,f$){let b$=_t.get(f$).get(mO);gt.get(f$)!==b$&&(s.uniformBlockBinding(f$,b$,mO.__bindingPointIndex),gt.set(f$,b$))}function YQ(){s.disable(3042),s.disable(2884),s.disable(2929),s.disable(32823),s.disable(3089),s.disable(2960),s.disable(32926),s.blendEquation(32774),s.blendFunc(1,0),s.blendFuncSeparate(1,0,1,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(513),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(519,0,4294967295),s.stencilOp(7680,7680,7680),s.clearStencil(0),s.cullFace(1029),s.frontFace(2305),s.polygonOffset(0,0),s.activeTexture(33984),s.bindFramebuffer(36160,null),j===!0&&(s.bindFramebuffer(36009,null),s.bindFramebuffer(36008,null)),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),Et={},ao=null,uu={},Ct={},Bt=new WeakMap,Dt=[],Ft=null,Rt=!1,Nt=null,Gt=null,dr=null,ts=null,es=null,ds=null,tn=null,rn=!1,un=null,$n=null,kn=null,lo=null,Il=null,Sv.set(0,0,s.canvas.width,s.canvas.height),W0.set(0,0,s.canvas.width,s.canvas.height),ct.reset(),At.reset(),mt.reset()}return{buffers:{color:ct,depth:At,stencil:mt},enable:kI,disable:q1,bindFramebuffer:UE,drawBuffers:a1,useProgram:LE,setBlending:NI,setMaterial:a$,setFlipSided:x$,setCullFace:l$,setLineWidth:pR,setPolygonOffset:h$,setScissorTest:w$,activeTexture:E$,bindTexture:Vx,unbindTexture:b0,compressedTexImage2D:o$,compressedTexImage3D:m$,texImage2D:R$,texImage3D:O$,updateUBOMapping:z$,uniformBlockBinding:kQ,texStorage2D:p$,texStorage3D:F$,texSubImage2D:t0,texSubImage3D:_$,compressedTexSubImage2D:D$,compressedTexSubImage3D:M$,scissor:j$,viewport:U$,reset:YQ}}function XG(s,o,_,j,et,st,nt){let ct=et.isWebGL2,At=et.maxTextures,mt=et.maxCubemapSize,gt=et.maxTextureSize,_t=et.maxSamples,Et=o.has("WEBGL_multisampled_render_to_texture")?o.get("WEBGL_multisampled_render_to_texture"):null,Ct=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),Bt=new WeakMap,Dt,Ft=new WeakMap,Rt=!1;try{Rt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Nt(Vx,b0){return Rt?new OffscreenCanvas(Vx,b0):ap("canvas")}function Gt(Vx,b0,o$,m$){let t0=1;if((Vx.width>m$||Vx.height>m$)&&(t0=m$/Math.max(Vx.width,Vx.height)),t0<1||b0===!0)if(typeof HTMLImageElement<"u"&&Vx instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Vx instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Vx instanceof ImageBitmap){let _$=b0?Zg:Math.floor,D$=_$(t0*Vx.width),M$=_$(t0*Vx.height);Dt===void 0&&(Dt=Nt(D$,M$));let p$=o$?Nt(D$,M$):Dt;return p$.width=D$,p$.height=M$,p$.getContext("2d").drawImage(Vx,0,0,D$,M$),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Vx.width+"x"+Vx.height+") to ("+D$+"x"+M$+")."),p$}else return"data"in Vx&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Vx.width+"x"+Vx.height+")."),Vx;return Vx}function dr(Vx){return qS(Vx.width)&&qS(Vx.height)}function ts(Vx){return ct?!1:Vx.wrapS!==Xt||Vx.wrapT!==Xt||Vx.minFilter!==Vt&&Vx.minFilter!==rt}function es(Vx,b0){return Vx.generateMipmaps&&b0&&Vx.minFilter!==Vt&&Vx.minFilter!==rt}function ds(Vx){s.generateMipmap(Vx)}function tn(Vx,b0,o$,m$,t0=!1){if(ct===!1)return b0;if(Vx!==null){if(s[Vx]!==void 0)return s[Vx];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Vx+"'")}let _$=b0;return b0===6403&&(o$===5126&&(_$=33326),o$===5131&&(_$=33325),o$===5121&&(_$=33321)),b0===33319&&(o$===5126&&(_$=33328),o$===5131&&(_$=33327),o$===5121&&(_$=33323)),b0===6408&&(o$===5126&&(_$=34836),o$===5131&&(_$=34842),o$===5121&&(_$=m$===at&&t0===!1?35907:32856),o$===32819&&(_$=32854),o$===32820&&(_$=32855)),(_$===33325||_$===33326||_$===33327||_$===33328||_$===34842||_$===34836)&&o.get("EXT_color_buffer_float"),_$}function rn(Vx,b0,o$){return es(Vx,o$)===!0||Vx.isFramebufferTexture&&Vx.minFilter!==Vt&&Vx.minFilter!==rt?Math.log2(Math.max(b0.width,b0.height))+1:Vx.mipmaps!==void 0&&Vx.mipmaps.length>0?Vx.mipmaps.length:Vx.isCompressedTexture&&Array.isArray(Vx.image)?b0.mipmaps.length:1}function un(Vx){return Vx===Vt||Vx===mT||Vx===iS?9728:9729}function $n(Vx){let b0=Vx.target;b0.removeEventListener("dispose",$n),lo(b0),b0.isVideoTexture&&Bt.delete(b0)}function kn(Vx){let b0=Vx.target;b0.removeEventListener("dispose",kn),cu(b0)}function lo(Vx){let b0=j.get(Vx);if(b0.__webglInit===void 0)return;let o$=Vx.source,m$=Ft.get(o$);if(m$){let t0=m$[b0.__cacheKey];t0.usedTimes--,t0.usedTimes===0&&Il(Vx),Object.keys(m$).length===0&&Ft.delete(o$)}j.remove(Vx)}function Il(Vx){let b0=j.get(Vx);s.deleteTexture(b0.__webglTexture);let o$=Vx.source,m$=Ft.get(o$);delete m$[b0.__cacheKey],nt.memory.textures--}function cu(Vx){let b0=Vx.texture,o$=j.get(Vx),m$=j.get(b0);if(m$.__webglTexture!==void 0&&(s.deleteTexture(m$.__webglTexture),nt.memory.textures--),Vx.depthTexture&&Vx.depthTexture.dispose(),Vx.isWebGLCubeRenderTarget)for(let t0=0;t0<6;t0++)s.deleteFramebuffer(o$.__webglFramebuffer[t0]),o$.__webglDepthbuffer&&s.deleteRenderbuffer(o$.__webglDepthbuffer[t0]);else{if(s.deleteFramebuffer(o$.__webglFramebuffer),o$.__webglDepthbuffer&&s.deleteRenderbuffer(o$.__webglDepthbuffer),o$.__webglMultisampledFramebuffer&&s.deleteFramebuffer(o$.__webglMultisampledFramebuffer),o$.__webglColorRenderbuffer)for(let t0=0;t0<o$.__webglColorRenderbuffer.length;t0++)o$.__webglColorRenderbuffer[t0]&&s.deleteRenderbuffer(o$.__webglColorRenderbuffer[t0]);o$.__webglDepthRenderbuffer&&s.deleteRenderbuffer(o$.__webglDepthRenderbuffer)}if(Vx.isWebGLMultipleRenderTargets)for(let t0=0,_$=b0.length;t0<_$;t0++){let D$=j.get(b0[t0]);D$.__webglTexture&&(s.deleteTexture(D$.__webglTexture),nt.memory.textures--),j.remove(b0[t0])}j.remove(b0),j.remove(Vx)}let Ko=0;function ru(){Ko=0}function Tn(){let Vx=Ko;return Vx>=At&&console.warn("THREE.WebGLTextures: Trying to use "+Vx+" texture units while this GPU supports only "+At),Ko+=1,Vx}function ao(Vx){let b0=[];return b0.push(Vx.wrapS),b0.push(Vx.wrapT),b0.push(Vx.wrapR||0),b0.push(Vx.magFilter),b0.push(Vx.minFilter),b0.push(Vx.anisotropy),b0.push(Vx.internalFormat),b0.push(Vx.format),b0.push(Vx.type),b0.push(Vx.generateMipmaps),b0.push(Vx.premultiplyAlpha),b0.push(Vx.flipY),b0.push(Vx.unpackAlignment),b0.push(Vx.encoding),b0.join()}function uu(Vx,b0){let o$=j.get(Vx);if(Vx.isVideoTexture&&w$(Vx),Vx.isRenderTargetTexture===!1&&Vx.version>0&&o$.__version!==Vx.version){let m$=Vx.image;if(m$===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(m$.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{q1(o$,Vx,b0);return}}_.bindTexture(3553,o$.__webglTexture,33984+b0)}function hu(Vx,b0){let o$=j.get(Vx);if(Vx.version>0&&o$.__version!==Vx.version){q1(o$,Vx,b0);return}_.bindTexture(35866,o$.__webglTexture,33984+b0)}function tA(Vx,b0){let o$=j.get(Vx);if(Vx.version>0&&o$.__version!==Vx.version){q1(o$,Vx,b0);return}_.bindTexture(32879,o$.__webglTexture,33984+b0)}function Sv(Vx,b0){let o$=j.get(Vx);if(Vx.version>0&&o$.__version!==Vx.version){UE(o$,Vx,b0);return}_.bindTexture(34067,o$.__webglTexture,33984+b0)}let W0={[Os]:10497,[Xt]:33071,[jS]:33648},l1={[Vt]:9728,[mT]:9984,[iS]:9986,[rt]:9729,[VF]:9985,[dc]:9987};function X1(Vx,b0,o$){if(o$?(s.texParameteri(Vx,10242,W0[b0.wrapS]),s.texParameteri(Vx,10243,W0[b0.wrapT]),(Vx===32879||Vx===35866)&&s.texParameteri(Vx,32882,W0[b0.wrapR]),s.texParameteri(Vx,10240,l1[b0.magFilter]),s.texParameteri(Vx,10241,l1[b0.minFilter])):(s.texParameteri(Vx,10242,33071),s.texParameteri(Vx,10243,33071),(Vx===32879||Vx===35866)&&s.texParameteri(Vx,32882,33071),(b0.wrapS!==Xt||b0.wrapT!==Xt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri(Vx,10240,un(b0.magFilter)),s.texParameteri(Vx,10241,un(b0.minFilter)),b0.minFilter!==Vt&&b0.minFilter!==rt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.has("EXT_texture_filter_anisotropic")===!0){let m$=o.get("EXT_texture_filter_anisotropic");if(b0.magFilter===Vt||b0.minFilter!==iS&&b0.minFilter!==dc||b0.type===br&&o.has("OES_texture_float_linear")===!1||ct===!1&&b0.type===Wn&&o.has("OES_texture_half_float_linear")===!1)return;(b0.anisotropy>1||j.get(b0).__currentAnisotropy)&&(s.texParameterf(Vx,m$.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b0.anisotropy,et.getMaxAnisotropy())),j.get(b0).__currentAnisotropy=b0.anisotropy)}}function kI(Vx,b0){let o$=!1;Vx.__webglInit===void 0&&(Vx.__webglInit=!0,b0.addEventListener("dispose",$n));let m$=b0.source,t0=Ft.get(m$);t0===void 0&&(t0={},Ft.set(m$,t0));let _$=ao(b0);if(_$!==Vx.__cacheKey){t0[_$]===void 0&&(t0[_$]={texture:s.createTexture(),usedTimes:0},nt.memory.textures++,o$=!0),t0[_$].usedTimes++;let D$=t0[Vx.__cacheKey];D$!==void 0&&(t0[Vx.__cacheKey].usedTimes--,D$.usedTimes===0&&Il(b0)),Vx.__cacheKey=_$,Vx.__webglTexture=t0[_$].texture}return o$}function q1(Vx,b0,o$){let m$=3553;(b0.isDataArrayTexture||b0.isCompressedArrayTexture)&&(m$=35866),b0.isData3DTexture&&(m$=32879);let t0=kI(Vx,b0),_$=b0.source;_.bindTexture(m$,Vx.__webglTexture,33984+o$);let D$=j.get(_$);if(_$.version!==D$.__version||t0===!0){_.activeTexture(33984+o$),s.pixelStorei(37440,b0.flipY),s.pixelStorei(37441,b0.premultiplyAlpha),s.pixelStorei(3317,b0.unpackAlignment),s.pixelStorei(37443,0);let M$=ts(b0)&&dr(b0.image)===!1,p$=Gt(b0.image,M$,!1,gt);p$=E$(b0,p$);let F$=dr(p$)||ct,R$=st.convert(b0.format,b0.encoding),O$=st.convert(b0.type),j$=tn(b0.internalFormat,R$,O$,b0.encoding,b0.isVideoTexture);X1(m$,b0,F$);let U$,z$=b0.mipmaps,kQ=ct&&b0.isVideoTexture!==!0,YQ=D$.__version===void 0||t0===!0,mO=rn(b0,p$,F$);if(b0.isDepthTexture)j$=6402,ct?b0.type===br?j$=36012:b0.type===Ds?j$=33190:b0.type===Xa?j$=35056:j$=33189:b0.type===br&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),b0.format===uc&&j$===6402&&b0.type!==WC&&b0.type!==Ds&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),b0.type=Ds,O$=st.convert(b0.type)),b0.format===Za&&j$===6402&&(j$=34041,b0.type!==Xa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),b0.type=Xa,O$=st.convert(b0.type))),YQ&&(kQ?_.texStorage2D(3553,1,j$,p$.width,p$.height):_.texImage2D(3553,0,j$,p$.width,p$.height,0,R$,O$,null));else if(b0.isDataTexture)if(z$.length>0&&F$){kQ&&YQ&&_.texStorage2D(3553,mO,j$,z$[0].width,z$[0].height);for(let f$=0,b$=z$.length;f$<b$;f$++)U$=z$[f$],kQ?_.texSubImage2D(3553,f$,0,0,U$.width,U$.height,R$,O$,U$.data):_.texImage2D(3553,f$,j$,U$.width,U$.height,0,R$,O$,U$.data);b0.generateMipmaps=!1}else kQ?(YQ&&_.texStorage2D(3553,mO,j$,p$.width,p$.height),_.texSubImage2D(3553,0,0,0,p$.width,p$.height,R$,O$,p$.data)):_.texImage2D(3553,0,j$,p$.width,p$.height,0,R$,O$,p$.data);else if(b0.isCompressedTexture)if(b0.isCompressedArrayTexture){kQ&&YQ&&_.texStorage3D(35866,mO,j$,z$[0].width,z$[0].height,p$.depth);for(let f$=0,b$=z$.length;f$<b$;f$++)U$=z$[f$],b0.format!==qr?R$!==null?kQ?_.compressedTexSubImage3D(35866,f$,0,0,0,U$.width,U$.height,p$.depth,R$,U$.data,0,0):_.compressedTexImage3D(35866,f$,j$,U$.width,U$.height,p$.depth,0,U$.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kQ?_.texSubImage3D(35866,f$,0,0,0,U$.width,U$.height,p$.depth,R$,O$,U$.data):_.texImage3D(35866,f$,j$,U$.width,U$.height,p$.depth,0,R$,O$,U$.data)}else{kQ&&YQ&&_.texStorage2D(3553,mO,j$,z$[0].width,z$[0].height);for(let f$=0,b$=z$.length;f$<b$;f$++)U$=z$[f$],b0.format!==qr?R$!==null?kQ?_.compressedTexSubImage2D(3553,f$,0,0,U$.width,U$.height,R$,U$.data):_.compressedTexImage2D(3553,f$,j$,U$.width,U$.height,0,U$.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kQ?_.texSubImage2D(3553,f$,0,0,U$.width,U$.height,R$,O$,U$.data):_.texImage2D(3553,f$,j$,U$.width,U$.height,0,R$,O$,U$.data)}else if(b0.isDataArrayTexture)kQ?(YQ&&_.texStorage3D(35866,mO,j$,p$.width,p$.height,p$.depth),_.texSubImage3D(35866,0,0,0,0,p$.width,p$.height,p$.depth,R$,O$,p$.data)):_.texImage3D(35866,0,j$,p$.width,p$.height,p$.depth,0,R$,O$,p$.data);else if(b0.isData3DTexture)kQ?(YQ&&_.texStorage3D(32879,mO,j$,p$.width,p$.height,p$.depth),_.texSubImage3D(32879,0,0,0,0,p$.width,p$.height,p$.depth,R$,O$,p$.data)):_.texImage3D(32879,0,j$,p$.width,p$.height,p$.depth,0,R$,O$,p$.data);else if(b0.isFramebufferTexture){if(YQ)if(kQ)_.texStorage2D(3553,mO,j$,p$.width,p$.height);else{let f$=p$.width,b$=p$.height;for(let I$=0;I$<mO;I$++)_.texImage2D(3553,I$,j$,f$,b$,0,R$,O$,null),f$>>=1,b$>>=1}}else if(z$.length>0&&F$){kQ&&YQ&&_.texStorage2D(3553,mO,j$,z$[0].width,z$[0].height);for(let f$=0,b$=z$.length;f$<b$;f$++)U$=z$[f$],kQ?_.texSubImage2D(3553,f$,0,0,R$,O$,U$):_.texImage2D(3553,f$,j$,R$,O$,U$);b0.generateMipmaps=!1}else kQ?(YQ&&_.texStorage2D(3553,mO,j$,p$.width,p$.height),_.texSubImage2D(3553,0,0,0,R$,O$,p$)):_.texImage2D(3553,0,j$,R$,O$,p$);es(b0,F$)&&ds(m$),D$.__version=_$.version,b0.onUpdate&&b0.onUpdate(b0)}Vx.__version=b0.version}function UE(Vx,b0,o$){if(b0.image.length!==6)return;let m$=kI(Vx,b0),t0=b0.source;_.bindTexture(34067,Vx.__webglTexture,33984+o$);let _$=j.get(t0);if(t0.version!==_$.__version||m$===!0){_.activeTexture(33984+o$),s.pixelStorei(37440,b0.flipY),s.pixelStorei(37441,b0.premultiplyAlpha),s.pixelStorei(3317,b0.unpackAlignment),s.pixelStorei(37443,0);let D$=b0.isCompressedTexture||b0.image[0].isCompressedTexture,M$=b0.image[0]&&b0.image[0].isDataTexture,p$=[];for(let f$=0;f$<6;f$++)!D$&&!M$?p$[f$]=Gt(b0.image[f$],!1,!0,mt):p$[f$]=M$?b0.image[f$].image:b0.image[f$],p$[f$]=E$(b0,p$[f$]);let F$=p$[0],R$=dr(F$)||ct,O$=st.convert(b0.format,b0.encoding),j$=st.convert(b0.type),U$=tn(b0.internalFormat,O$,j$,b0.encoding),z$=ct&&b0.isVideoTexture!==!0,kQ=_$.__version===void 0||m$===!0,YQ=rn(b0,F$,R$);X1(34067,b0,R$);let mO;if(D$){z$&&kQ&&_.texStorage2D(34067,YQ,U$,F$.width,F$.height);for(let f$=0;f$<6;f$++){mO=p$[f$].mipmaps;for(let b$=0;b$<mO.length;b$++){let I$=mO[b$];b0.format!==qr?O$!==null?z$?_.compressedTexSubImage2D(34069+f$,b$,0,0,I$.width,I$.height,O$,I$.data):_.compressedTexImage2D(34069+f$,b$,U$,I$.width,I$.height,0,I$.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):z$?_.texSubImage2D(34069+f$,b$,0,0,I$.width,I$.height,O$,j$,I$.data):_.texImage2D(34069+f$,b$,U$,I$.width,I$.height,0,O$,j$,I$.data)}}}else{mO=b0.mipmaps,z$&&kQ&&(mO.length>0&&YQ++,_.texStorage2D(34067,YQ,U$,p$[0].width,p$[0].height));for(let f$=0;f$<6;f$++)if(M$){z$?_.texSubImage2D(34069+f$,0,0,0,p$[f$].width,p$[f$].height,O$,j$,p$[f$].data):_.texImage2D(34069+f$,0,U$,p$[f$].width,p$[f$].height,0,O$,j$,p$[f$].data);for(let b$=0;b$<mO.length;b$++){let I$=mO[b$].image[f$].image;z$?_.texSubImage2D(34069+f$,b$+1,0,0,I$.width,I$.height,O$,j$,I$.data):_.texImage2D(34069+f$,b$+1,U$,I$.width,I$.height,0,O$,j$,I$.data)}}else{z$?_.texSubImage2D(34069+f$,0,0,0,O$,j$,p$[f$]):_.texImage2D(34069+f$,0,U$,O$,j$,p$[f$]);for(let b$=0;b$<mO.length;b$++){let I$=mO[b$];z$?_.texSubImage2D(34069+f$,b$+1,0,0,O$,j$,I$.image[f$]):_.texImage2D(34069+f$,b$+1,U$,O$,j$,I$.image[f$])}}}es(b0,R$)&&ds(34067),_$.__version=t0.version,b0.onUpdate&&b0.onUpdate(b0)}Vx.__version=b0.version}function a1(Vx,b0,o$,m$,t0){let _$=st.convert(o$.format,o$.encoding),D$=st.convert(o$.type),M$=tn(o$.internalFormat,_$,D$,o$.encoding);j.get(b0).__hasExternalTextures||(t0===32879||t0===35866?_.texImage3D(t0,0,M$,b0.width,b0.height,b0.depth,0,_$,D$,null):_.texImage2D(t0,0,M$,b0.width,b0.height,0,_$,D$,null)),_.bindFramebuffer(36160,Vx),h$(b0)?Et.framebufferTexture2DMultisampleEXT(36160,m$,t0,j.get(o$).__webglTexture,0,pR(b0)):(t0===3553||t0>=34069&&t0<=34074)&&s.framebufferTexture2D(36160,m$,t0,j.get(o$).__webglTexture,0),_.bindFramebuffer(36160,null)}function LE(Vx,b0,o$){if(s.bindRenderbuffer(36161,Vx),b0.depthBuffer&&!b0.stencilBuffer){let m$=33189;if(o$||h$(b0)){let t0=b0.depthTexture;t0&&t0.isDepthTexture&&(t0.type===br?m$=36012:t0.type===Ds&&(m$=33190));let _$=pR(b0);h$(b0)?Et.renderbufferStorageMultisampleEXT(36161,_$,m$,b0.width,b0.height):s.renderbufferStorageMultisample(36161,_$,m$,b0.width,b0.height)}else s.renderbufferStorage(36161,m$,b0.width,b0.height);s.framebufferRenderbuffer(36160,36096,36161,Vx)}else if(b0.depthBuffer&&b0.stencilBuffer){let m$=pR(b0);o$&&h$(b0)===!1?s.renderbufferStorageMultisample(36161,m$,35056,b0.width,b0.height):h$(b0)?Et.renderbufferStorageMultisampleEXT(36161,m$,35056,b0.width,b0.height):s.renderbufferStorage(36161,34041,b0.width,b0.height),s.framebufferRenderbuffer(36160,33306,36161,Vx)}else{let m$=b0.isWebGLMultipleRenderTargets===!0?b0.texture:[b0.texture];for(let t0=0;t0<m$.length;t0++){let _$=m$[t0],D$=st.convert(_$.format,_$.encoding),M$=st.convert(_$.type),p$=tn(_$.internalFormat,D$,M$,_$.encoding),F$=pR(b0);o$&&h$(b0)===!1?s.renderbufferStorageMultisample(36161,F$,p$,b0.width,b0.height):h$(b0)?Et.renderbufferStorageMultisampleEXT(36161,F$,p$,b0.width,b0.height):s.renderbufferStorage(36161,p$,b0.width,b0.height)}}s.bindRenderbuffer(36161,null)}function rS(Vx,b0){if(b0&&b0.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(_.bindFramebuffer(36160,Vx),!(b0.depthTexture&&b0.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!j.get(b0.depthTexture).__webglTexture||b0.depthTexture.image.width!==b0.width||b0.depthTexture.image.height!==b0.height)&&(b0.depthTexture.image.width=b0.width,b0.depthTexture.image.height=b0.height,b0.depthTexture.needsUpdate=!0),uu(b0.depthTexture,0);let o$=j.get(b0.depthTexture).__webglTexture,m$=pR(b0);if(b0.depthTexture.format===uc)h$(b0)?Et.framebufferTexture2DMultisampleEXT(36160,36096,3553,o$,0,m$):s.framebufferTexture2D(36160,36096,3553,o$,0);else if(b0.depthTexture.format===Za)h$(b0)?Et.framebufferTexture2DMultisampleEXT(36160,33306,3553,o$,0,m$):s.framebufferTexture2D(36160,33306,3553,o$,0);else throw new Error("Unknown depthTexture format")}function gD(Vx){let b0=j.get(Vx),o$=Vx.isWebGLCubeRenderTarget===!0;if(Vx.depthTexture&&!b0.__autoAllocateDepthBuffer){if(o$)throw new Error("target.depthTexture not supported in Cube render targets");rS(b0.__webglFramebuffer,Vx)}else if(o$){b0.__webglDepthbuffer=[];for(let m$=0;m$<6;m$++)_.bindFramebuffer(36160,b0.__webglFramebuffer[m$]),b0.__webglDepthbuffer[m$]=s.createRenderbuffer(),LE(b0.__webglDepthbuffer[m$],Vx,!1)}else _.bindFramebuffer(36160,b0.__webglFramebuffer),b0.__webglDepthbuffer=s.createRenderbuffer(),LE(b0.__webglDepthbuffer,Vx,!1);_.bindFramebuffer(36160,null)}function NI(Vx,b0,o$){let m$=j.get(Vx);b0!==void 0&&a1(m$.__webglFramebuffer,Vx,Vx.texture,36064,3553),o$!==void 0&&gD(Vx)}function a$(Vx){let b0=Vx.texture,o$=j.get(Vx),m$=j.get(b0);Vx.addEventListener("dispose",kn),Vx.isWebGLMultipleRenderTargets!==!0&&(m$.__webglTexture===void 0&&(m$.__webglTexture=s.createTexture()),m$.__version=b0.version,nt.memory.textures++);let t0=Vx.isWebGLCubeRenderTarget===!0,_$=Vx.isWebGLMultipleRenderTargets===!0,D$=dr(Vx)||ct;if(t0){o$.__webglFramebuffer=[];for(let M$=0;M$<6;M$++)o$.__webglFramebuffer[M$]=s.createFramebuffer()}else{if(o$.__webglFramebuffer=s.createFramebuffer(),_$)if(et.drawBuffers){let M$=Vx.texture;for(let p$=0,F$=M$.length;p$<F$;p$++){let R$=j.get(M$[p$]);R$.__webglTexture===void 0&&(R$.__webglTexture=s.createTexture(),nt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(ct&&Vx.samples>0&&h$(Vx)===!1){let M$=_$?b0:[b0];o$.__webglMultisampledFramebuffer=s.createFramebuffer(),o$.__webglColorRenderbuffer=[],_.bindFramebuffer(36160,o$.__webglMultisampledFramebuffer);for(let p$=0;p$<M$.length;p$++){let F$=M$[p$];o$.__webglColorRenderbuffer[p$]=s.createRenderbuffer(),s.bindRenderbuffer(36161,o$.__webglColorRenderbuffer[p$]);let R$=st.convert(F$.format,F$.encoding),O$=st.convert(F$.type),j$=tn(F$.internalFormat,R$,O$,F$.encoding,Vx.isXRRenderTarget===!0),U$=pR(Vx);s.renderbufferStorageMultisample(36161,U$,j$,Vx.width,Vx.height),s.framebufferRenderbuffer(36160,36064+p$,36161,o$.__webglColorRenderbuffer[p$])}s.bindRenderbuffer(36161,null),Vx.depthBuffer&&(o$.__webglDepthRenderbuffer=s.createRenderbuffer(),LE(o$.__webglDepthRenderbuffer,Vx,!0)),_.bindFramebuffer(36160,null)}}if(t0){_.bindTexture(34067,m$.__webglTexture),X1(34067,b0,D$);for(let M$=0;M$<6;M$++)a1(o$.__webglFramebuffer[M$],Vx,b0,36064,34069+M$);es(b0,D$)&&ds(34067),_.unbindTexture()}else if(_$){let M$=Vx.texture;for(let p$=0,F$=M$.length;p$<F$;p$++){let R$=M$[p$],O$=j.get(R$);_.bindTexture(3553,O$.__webglTexture),X1(3553,R$,D$),a1(o$.__webglFramebuffer,Vx,R$,36064+p$,3553),es(R$,D$)&&ds(3553)}_.unbindTexture()}else{let M$=3553;(Vx.isWebGL3DRenderTarget||Vx.isWebGLArrayRenderTarget)&&(ct?M$=Vx.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),_.bindTexture(M$,m$.__webglTexture),X1(M$,b0,D$),a1(o$.__webglFramebuffer,Vx,b0,36064,M$),es(b0,D$)&&ds(M$),_.unbindTexture()}Vx.depthBuffer&&gD(Vx)}function x$(Vx){let b0=dr(Vx)||ct,o$=Vx.isWebGLMultipleRenderTargets===!0?Vx.texture:[Vx.texture];for(let m$=0,t0=o$.length;m$<t0;m$++){let _$=o$[m$];if(es(_$,b0)){let D$=Vx.isWebGLCubeRenderTarget?34067:3553,M$=j.get(_$).__webglTexture;_.bindTexture(D$,M$),ds(D$),_.unbindTexture()}}}function l$(Vx){if(ct&&Vx.samples>0&&h$(Vx)===!1){let b0=Vx.isWebGLMultipleRenderTargets?Vx.texture:[Vx.texture],o$=Vx.width,m$=Vx.height,t0=16384,_$=[],D$=Vx.stencilBuffer?33306:36096,M$=j.get(Vx),p$=Vx.isWebGLMultipleRenderTargets===!0;if(p$)for(let F$=0;F$<b0.length;F$++)_.bindFramebuffer(36160,M$.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064+F$,36161,null),_.bindFramebuffer(36160,M$.__webglFramebuffer),s.framebufferTexture2D(36009,36064+F$,3553,null,0);_.bindFramebuffer(36008,M$.__webglMultisampledFramebuffer),_.bindFramebuffer(36009,M$.__webglFramebuffer);for(let F$=0;F$<b0.length;F$++){_$.push(36064+F$),Vx.depthBuffer&&_$.push(D$);let R$=M$.__ignoreDepthValues!==void 0?M$.__ignoreDepthValues:!1;if(R$===!1&&(Vx.depthBuffer&&(t0|=256),Vx.stencilBuffer&&(t0|=1024)),p$&&s.framebufferRenderbuffer(36008,36064,36161,M$.__webglColorRenderbuffer[F$]),R$===!0&&(s.invalidateFramebuffer(36008,[D$]),s.invalidateFramebuffer(36009,[D$])),p$){let O$=j.get(b0[F$]).__webglTexture;s.framebufferTexture2D(36009,36064,3553,O$,0)}s.blitFramebuffer(0,0,o$,m$,0,0,o$,m$,t0,9728),Ct&&s.invalidateFramebuffer(36008,_$)}if(_.bindFramebuffer(36008,null),_.bindFramebuffer(36009,null),p$)for(let F$=0;F$<b0.length;F$++){_.bindFramebuffer(36160,M$.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064+F$,36161,M$.__webglColorRenderbuffer[F$]);let R$=j.get(b0[F$]).__webglTexture;_.bindFramebuffer(36160,M$.__webglFramebuffer),s.framebufferTexture2D(36009,36064+F$,3553,R$,0)}_.bindFramebuffer(36009,M$.__webglMultisampledFramebuffer)}}function pR(Vx){return Math.min(_t,Vx.samples)}function h$(Vx){let b0=j.get(Vx);return ct&&Vx.samples>0&&o.has("WEBGL_multisampled_render_to_texture")===!0&&b0.__useRenderToTexture!==!1}function w$(Vx){let b0=nt.render.frame;Bt.get(Vx)!==b0&&(Bt.set(Vx,b0),Vx.update())}function E$(Vx,b0){let o$=Vx.encoding,m$=Vx.format,t0=Vx.type;return Vx.isCompressedTexture===!0||Vx.isVideoTexture===!0||Vx.format===WS$1||o$!==mn&&(o$===at?ct===!1?o.has("EXT_sRGB")===!0&&m$===qr?(Vx.format=WS$1,Vx.minFilter=rt,Vx.generateMipmaps=!1):b0=Jg.sRGBToLinear(b0):(m$!==qr||t0!==_r$1)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",o$)),b0}this.allocateTextureUnit=Tn,this.resetTextureUnits=ru,this.setTexture2D=uu,this.setTexture2DArray=hu,this.setTexture3D=tA,this.setTextureCube=Sv,this.rebindTextures=NI,this.setupRenderTarget=a$,this.updateRenderTargetMipmap=x$,this.updateMultisampleRenderTarget=l$,this.setupDepthRenderbuffer=gD,this.setupFrameBufferTexture=a1,this.useMultisampledRTT=h$}function QG(s,o,_){let j=_.isWebGL2;function et(st,nt=null){let ct;if(st===_r$1)return 5121;if(st===GF)return 32819;if(st===jF)return 32820;if(st===UF)return 5120;if(st===zF)return 5122;if(st===WC)return 5123;if(st===kF)return 5124;if(st===Ds)return 5125;if(st===br)return 5126;if(st===Wn)return j?5131:(ct=o.get("OES_texture_half_float"),ct!==null?ct.HALF_FLOAT_OES:null);if(st===HF)return 6406;if(st===qr)return 6408;if(st===WF)return 6409;if(st===qF)return 6410;if(st===uc)return 6402;if(st===Za)return 34041;if(st===WS$1)return ct=o.get("EXT_sRGB"),ct!==null?ct.SRGB_ALPHA_EXT:null;if(st===YF)return 6403;if(st===XF)return 36244;if(st===Ju)return 33319;if(st===QF)return 33320;if(st===ww)return 36249;if(st===nS||st===sS||st===oS||st===aS)if(nt===at)if(ct=o.get("WEBGL_compressed_texture_s3tc_srgb"),ct!==null){if(st===nS)return ct.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(st===sS)return ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(st===oS)return ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(st===aS)return ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(ct=o.get("WEBGL_compressed_texture_s3tc"),ct!==null){if(st===nS)return ct.COMPRESSED_RGB_S3TC_DXT1_EXT;if(st===sS)return ct.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(st===oS)return ct.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(st===aS)return ct.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(st===gT$1||st===yT||st===vT||st===xT)if(ct=o.get("WEBGL_compressed_texture_pvrtc"),ct!==null){if(st===gT$1)return ct.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(st===yT)return ct.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(st===vT)return ct.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(st===xT)return ct.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(st===KF)return ct=o.get("WEBGL_compressed_texture_etc1"),ct!==null?ct.COMPRESSED_RGB_ETC1_WEBGL:null;if(st===bT||st===ST)if(ct=o.get("WEBGL_compressed_texture_etc"),ct!==null){if(st===bT)return nt===at?ct.COMPRESSED_SRGB8_ETC2:ct.COMPRESSED_RGB8_ETC2;if(st===ST)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:ct.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(st===wT||st===AT||st===ET||st===MT||st===TT||st===CT||st===PT||st===_T||st===DT||st===IT||st===OT||st===RT||st===LT||st===BT)if(ct=o.get("WEBGL_compressed_texture_astc"),ct!==null){if(st===wT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:ct.COMPRESSED_RGBA_ASTC_4x4_KHR;if(st===AT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:ct.COMPRESSED_RGBA_ASTC_5x4_KHR;if(st===ET)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:ct.COMPRESSED_RGBA_ASTC_5x5_KHR;if(st===MT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:ct.COMPRESSED_RGBA_ASTC_6x5_KHR;if(st===TT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:ct.COMPRESSED_RGBA_ASTC_6x6_KHR;if(st===CT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:ct.COMPRESSED_RGBA_ASTC_8x5_KHR;if(st===PT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:ct.COMPRESSED_RGBA_ASTC_8x6_KHR;if(st===_T)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:ct.COMPRESSED_RGBA_ASTC_8x8_KHR;if(st===DT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:ct.COMPRESSED_RGBA_ASTC_10x5_KHR;if(st===IT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:ct.COMPRESSED_RGBA_ASTC_10x6_KHR;if(st===OT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:ct.COMPRESSED_RGBA_ASTC_10x8_KHR;if(st===RT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:ct.COMPRESSED_RGBA_ASTC_10x10_KHR;if(st===LT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:ct.COMPRESSED_RGBA_ASTC_12x10_KHR;if(st===BT)return nt===at?ct.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:ct.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(st===lS)if(ct=o.get("EXT_texture_compression_bptc"),ct!==null){if(st===lS)return nt===at?ct.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:ct.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(st===ZF||st===NT||st===FT||st===VT)if(ct=o.get("EXT_texture_compression_rgtc"),ct!==null){if(st===lS)return ct.COMPRESSED_RED_RGTC1_EXT;if(st===NT)return ct.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(st===FT)return ct.COMPRESSED_RED_GREEN_RGTC2_EXT;if(st===VT)return ct.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return st===Xa?j?34042:(ct=o.get("WEBGL_depth_texture"),ct!==null?ct.UNSIGNED_INT_24_8_WEBGL:null):s[st]!==void 0?s[st]:null}return{convert:et}}var rw=class extends $r$1{constructor(s=[]){super(),this.isArrayCamera=!0,this.cameras=s}},sn=class extends Mt{constructor(){super(),this.isGroup=!0,this.type="Group"}},KG={type:"move"},rp=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new sn,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new sn,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new E$2,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new E$2),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new sn,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new E$2,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new E$2),this._grip}dispatchEvent(s){return this._targetRay!==null&&this._targetRay.dispatchEvent(s),this._grip!==null&&this._grip.dispatchEvent(s),this._hand!==null&&this._hand.dispatchEvent(s),this}connect(s){if(s&&s.hand){let o=this._hand;if(o)for(let _ of s.hand.values())this._getHandJoint(o,_)}return this.dispatchEvent({type:"connected",data:s}),this}disconnect(s){return this.dispatchEvent({type:"disconnected",data:s}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(s,o,_){let j=null,et=null,st=null,nt=this._targetRay,ct=this._grip,At=this._hand;if(s&&o.session.visibilityState!=="visible-blurred"){if(At&&s.hand){st=!0;for(let Bt of s.hand.values()){let Dt=o.getJointPose(Bt,_),Ft=this._getHandJoint(At,Bt);Dt!==null&&(Ft.matrix.fromArray(Dt.transform.matrix),Ft.matrix.decompose(Ft.position,Ft.rotation,Ft.scale),Ft.jointRadius=Dt.radius),Ft.visible=Dt!==null}let mt=At.joints["index-finger-tip"],gt=At.joints["thumb-tip"],_t=mt.position.distanceTo(gt.position),Et=.02,Ct=.005;At.inputState.pinching&&_t>Et+Ct?(At.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:s.handedness,target:this})):!At.inputState.pinching&&_t<=Et-Ct&&(At.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:s.handedness,target:this}))}else ct!==null&&s.gripSpace&&(et=o.getPose(s.gripSpace,_),et!==null&&(ct.matrix.fromArray(et.transform.matrix),ct.matrix.decompose(ct.position,ct.rotation,ct.scale),et.linearVelocity?(ct.hasLinearVelocity=!0,ct.linearVelocity.copy(et.linearVelocity)):ct.hasLinearVelocity=!1,et.angularVelocity?(ct.hasAngularVelocity=!0,ct.angularVelocity.copy(et.angularVelocity)):ct.hasAngularVelocity=!1));nt!==null&&(j=o.getPose(s.targetRaySpace,_),j===null&&et!==null&&(j=et),j!==null&&(nt.matrix.fromArray(j.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),j.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(j.linearVelocity)):nt.hasLinearVelocity=!1,j.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(j.angularVelocity)):nt.hasAngularVelocity=!1,this.dispatchEvent(KG)))}return nt!==null&&(nt.visible=j!==null),ct!==null&&(ct.visible=et!==null),At!==null&&(At.visible=st!==null),this}_getHandJoint(s,o){if(s.joints[o.jointName]===void 0){let _=new sn;_.matrixAutoUpdate=!1,_.visible=!1,s.joints[o.jointName]=_,s.add(_)}return s.joints[o.jointName]}},ns=class extends $t{constructor(s,o,_,j,et,st,nt,ct,At,mt){if(mt=mt!==void 0?mt:uc,mt!==uc&&mt!==Za)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");_===void 0&&mt===uc&&(_=Ds),_===void 0&&mt===Za&&(_=Xa),super(null,j,et,st,nt,ct,mt,_,At),this.isDepthTexture=!0,this.image={width:s,height:o},this.magFilter=nt!==void 0?nt:Vt,this.minFilter=ct!==void 0?ct:Vt,this.flipY=!1,this.generateMipmaps=!1}},iw=class extends pr{constructor(s,o){super();let _=this,j=null,et=1,st=null,nt="local-floor",ct=1,At=null,mt=null,gt=null,_t=null,Et=null,Ct=null,Bt=o.getContextAttributes(),Dt=null,Ft=null,Rt=[],Nt=[],Gt=new Set,dr=new Map,ts=new $r$1;ts.layers.enable(1),ts.viewport=new Ze;let es=new $r$1;es.layers.enable(2),es.viewport=new Ze;let ds=[ts,es],tn=new rw;tn.layers.enable(1),tn.layers.enable(2);let rn=null,un=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(hu){let tA=Rt[hu];return tA===void 0&&(tA=new rp,Rt[hu]=tA),tA.getTargetRaySpace()},this.getControllerGrip=function(hu){let tA=Rt[hu];return tA===void 0&&(tA=new rp,Rt[hu]=tA),tA.getGripSpace()},this.getHand=function(hu){let tA=Rt[hu];return tA===void 0&&(tA=new rp,Rt[hu]=tA),tA.getHandSpace()};function $n(hu){let tA=Nt.indexOf(hu.inputSource);if(tA===-1)return;let Sv=Rt[tA];Sv!==void 0&&Sv.dispatchEvent({type:hu.type,data:hu.inputSource})}function kn(){j.removeEventListener("select",$n),j.removeEventListener("selectstart",$n),j.removeEventListener("selectend",$n),j.removeEventListener("squeeze",$n),j.removeEventListener("squeezestart",$n),j.removeEventListener("squeezeend",$n),j.removeEventListener("end",kn),j.removeEventListener("inputsourceschange",lo);for(let hu=0;hu<Rt.length;hu++){let tA=Nt[hu];tA!==null&&(Nt[hu]=null,Rt[hu].disconnect(tA))}rn=null,un=null,s.setRenderTarget(Dt),Et=null,_t=null,gt=null,j=null,Ft=null,uu.stop(),_.isPresenting=!1,_.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(hu){et=hu,_.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(hu){nt=hu,_.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return At||st},this.setReferenceSpace=function(hu){At=hu},this.getBaseLayer=function(){return _t!==null?_t:Et},this.getBinding=function(){return gt},this.getFrame=function(){return Ct},this.getSession=function(){return j},this.setSession=async function(hu){if(j=hu,j!==null){if(Dt=s.getRenderTarget(),j.addEventListener("select",$n),j.addEventListener("selectstart",$n),j.addEventListener("selectend",$n),j.addEventListener("squeeze",$n),j.addEventListener("squeezestart",$n),j.addEventListener("squeezeend",$n),j.addEventListener("end",kn),j.addEventListener("inputsourceschange",lo),Bt.xrCompatible!==!0&&await o.makeXRCompatible(),j.renderState.layers===void 0||s.capabilities.isWebGL2===!1){let tA={antialias:j.renderState.layers===void 0?Bt.antialias:!0,alpha:Bt.alpha,depth:Bt.depth,stencil:Bt.stencil,framebufferScaleFactor:et};Et=new XRWebGLLayer(j,o,tA),j.updateRenderState({baseLayer:Et}),Ft=new dt(Et.framebufferWidth,Et.framebufferHeight,{format:qr,type:_r$1,encoding:s.outputEncoding,stencilBuffer:Bt.stencil})}else{let tA=null,Sv=null,W0=null;Bt.depth&&(W0=Bt.stencil?35056:33190,tA=Bt.stencil?Za:uc,Sv=Bt.stencil?Xa:Ds);let l1={colorFormat:32856,depthFormat:W0,scaleFactor:et};gt=new XRWebGLBinding(j,o),_t=gt.createProjectionLayer(l1),j.updateRenderState({layers:[_t]}),Ft=new dt(_t.textureWidth,_t.textureHeight,{format:qr,type:_r$1,depthTexture:new ns(_t.textureWidth,_t.textureHeight,Sv,void 0,void 0,void 0,void 0,void 0,void 0,tA),stencilBuffer:Bt.stencil,encoding:s.outputEncoding,samples:Bt.antialias?4:0});let X1=s.properties.get(Ft);X1.__ignoreDepthValues=_t.ignoreDepthValues}Ft.isXRRenderTarget=!0,this.setFoveation(ct),At=null,st=await j.requestReferenceSpace(nt),uu.setContext(j),uu.start(),_.isPresenting=!0,_.dispatchEvent({type:"sessionstart"})}};function lo(hu){for(let tA=0;tA<hu.removed.length;tA++){let Sv=hu.removed[tA],W0=Nt.indexOf(Sv);W0>=0&&(Nt[W0]=null,Rt[W0].disconnect(Sv))}for(let tA=0;tA<hu.added.length;tA++){let Sv=hu.added[tA],W0=Nt.indexOf(Sv);if(W0===-1){for(let X1=0;X1<Rt.length;X1++)if(X1>=Nt.length){Nt.push(Sv),W0=X1;break}else if(Nt[X1]===null){Nt[X1]=Sv,W0=X1;break}if(W0===-1)break}let l1=Rt[W0];l1&&l1.connect(Sv)}}let Il=new E$2,cu=new E$2;function Ko(hu,tA,Sv){Il.setFromMatrixPosition(tA.matrixWorld),cu.setFromMatrixPosition(Sv.matrixWorld);let W0=Il.distanceTo(cu),l1=tA.projectionMatrix.elements,X1=Sv.projectionMatrix.elements,kI=l1[14]/(l1[10]-1),q1=l1[14]/(l1[10]+1),UE=(l1[9]+1)/l1[5],a1=(l1[9]-1)/l1[5],LE=(l1[8]-1)/l1[0],rS=(X1[8]+1)/X1[0],gD=kI*LE,NI=kI*rS,a$=W0/(-LE+rS),x$=a$*-LE;tA.matrixWorld.decompose(hu.position,hu.quaternion,hu.scale),hu.translateX(x$),hu.translateZ(a$),hu.matrixWorld.compose(hu.position,hu.quaternion,hu.scale),hu.matrixWorldInverse.copy(hu.matrixWorld).invert();let l$=kI+a$,pR=q1+a$,h$=gD-x$,w$=NI+(W0-x$),E$=UE*q1/pR*l$,Vx=a1*q1/pR*l$;hu.projectionMatrix.makePerspective(h$,w$,E$,Vx,l$,pR)}function ru(hu,tA){tA===null?hu.matrixWorld.copy(hu.matrix):hu.matrixWorld.multiplyMatrices(tA.matrixWorld,hu.matrix),hu.matrixWorldInverse.copy(hu.matrixWorld).invert()}this.updateCamera=function(hu){if(j===null)return;tn.near=es.near=ts.near=hu.near,tn.far=es.far=ts.far=hu.far,(rn!==tn.near||un!==tn.far)&&(j.updateRenderState({depthNear:tn.near,depthFar:tn.far}),rn=tn.near,un=tn.far);let tA=hu.parent,Sv=tn.cameras;ru(tn,tA);for(let l1=0;l1<Sv.length;l1++)ru(Sv[l1],tA);tn.matrixWorld.decompose(tn.position,tn.quaternion,tn.scale),hu.matrix.copy(tn.matrix),hu.matrix.decompose(hu.position,hu.quaternion,hu.scale);let W0=hu.children;for(let l1=0,X1=W0.length;l1<X1;l1++)W0[l1].updateMatrixWorld(!0);Sv.length===2?Ko(tn,ts,es):tn.projectionMatrix.copy(ts.projectionMatrix)},this.getCamera=function(){return tn},this.getFoveation=function(){if(!(_t===null&&Et===null))return ct},this.setFoveation=function(hu){ct=hu,_t!==null&&(_t.fixedFoveation=hu),Et!==null&&Et.fixedFoveation!==void 0&&(Et.fixedFoveation=hu)},this.getPlanes=function(){return Gt};let Tn=null;function ao(hu,tA){if(mt=tA.getViewerPose(At||st),Ct=tA,mt!==null){let Sv=mt.views;Et!==null&&(s.setRenderTargetFramebuffer(Ft,Et.framebuffer),s.setRenderTarget(Ft));let W0=!1;Sv.length!==tn.cameras.length&&(tn.cameras.length=0,W0=!0);for(let l1=0;l1<Sv.length;l1++){let X1=Sv[l1],kI=null;if(Et!==null)kI=Et.getViewport(X1);else{let UE=gt.getViewSubImage(_t,X1);kI=UE.viewport,l1===0&&(s.setRenderTargetTextures(Ft,UE.colorTexture,_t.ignoreDepthValues?void 0:UE.depthStencilTexture),s.setRenderTarget(Ft))}let q1=ds[l1];q1===void 0&&(q1=new $r$1,q1.layers.enable(l1),q1.viewport=new Ze,ds[l1]=q1),q1.matrix.fromArray(X1.transform.matrix),q1.projectionMatrix.fromArray(X1.projectionMatrix),q1.viewport.set(kI.x,kI.y,kI.width,kI.height),l1===0&&tn.matrix.copy(q1.matrix),W0===!0&&tn.cameras.push(q1)}}for(let Sv=0;Sv<Rt.length;Sv++){let W0=Nt[Sv],l1=Rt[Sv];W0!==null&&l1!==void 0&&l1.update(W0,tA,At||st)}if(Tn&&Tn(hu,tA),tA.detectedPlanes){_.dispatchEvent({type:"planesdetected",data:tA.detectedPlanes});let Sv=null;for(let W0 of Gt)tA.detectedPlanes.has(W0)||(Sv===null&&(Sv=[]),Sv.push(W0));if(Sv!==null)for(let W0 of Sv)Gt.delete(W0),dr.delete(W0),_.dispatchEvent({type:"planeremoved",data:W0});for(let W0 of tA.detectedPlanes)if(!Gt.has(W0))Gt.add(W0),dr.set(W0,tA.lastChangedTime),_.dispatchEvent({type:"planeadded",data:W0});else{let l1=dr.get(W0);W0.lastChangedTime>l1&&(dr.set(W0,W0.lastChangedTime),_.dispatchEvent({type:"planechanged",data:W0}))}}Ct=null}let uu=new ZC;uu.setAnimationLoop(ao),this.setAnimationLoop=function(hu){Tn=hu},this.dispose=function(){}}};function ZG(s,o){function _(Dt,Ft){Ft.color.getRGB(Dt.fogColor.value,KC(s)),Ft.isFog?(Dt.fogNear.value=Ft.near,Dt.fogFar.value=Ft.far):Ft.isFogExp2&&(Dt.fogDensity.value=Ft.density)}function j(Dt,Ft,Rt,Nt,Gt){Ft.isMeshBasicMaterial||Ft.isMeshLambertMaterial?et(Dt,Ft):Ft.isMeshToonMaterial?(et(Dt,Ft),gt(Dt,Ft)):Ft.isMeshPhongMaterial?(et(Dt,Ft),mt(Dt,Ft)):Ft.isMeshStandardMaterial?(et(Dt,Ft),_t(Dt,Ft),Ft.isMeshPhysicalMaterial&&Et(Dt,Ft,Gt)):Ft.isMeshMatcapMaterial?(et(Dt,Ft),Ct(Dt,Ft)):Ft.isMeshDepthMaterial?et(Dt,Ft):Ft.isMeshDistanceMaterial?(et(Dt,Ft),Bt(Dt,Ft)):Ft.isMeshNormalMaterial?et(Dt,Ft):Ft.isLineBasicMaterial?(st(Dt,Ft),Ft.isLineDashedMaterial&&nt(Dt,Ft)):Ft.isPointsMaterial?ct(Dt,Ft,Rt,Nt):Ft.isSpriteMaterial?At(Dt,Ft):Ft.isShadowMaterial?(Dt.color.value.copy(Ft.color),Dt.opacity.value=Ft.opacity):Ft.isShaderMaterial&&(Ft.uniformsNeedUpdate=!1)}function et(Dt,Ft){Dt.opacity.value=Ft.opacity,Ft.color&&Dt.diffuse.value.copy(Ft.color),Ft.emissive&&Dt.emissive.value.copy(Ft.emissive).multiplyScalar(Ft.emissiveIntensity),Ft.map&&(Dt.map.value=Ft.map),Ft.alphaMap&&(Dt.alphaMap.value=Ft.alphaMap),Ft.bumpMap&&(Dt.bumpMap.value=Ft.bumpMap,Dt.bumpScale.value=Ft.bumpScale,Ft.side===pi&&(Dt.bumpScale.value*=-1)),Ft.displacementMap&&(Dt.displacementMap.value=Ft.displacementMap,Dt.displacementScale.value=Ft.displacementScale,Dt.displacementBias.value=Ft.displacementBias),Ft.emissiveMap&&(Dt.emissiveMap.value=Ft.emissiveMap),Ft.normalMap&&(Dt.normalMap.value=Ft.normalMap,Dt.normalScale.value.copy(Ft.normalScale),Ft.side===pi&&Dt.normalScale.value.negate()),Ft.specularMap&&(Dt.specularMap.value=Ft.specularMap),Ft.alphaTest>0&&(Dt.alphaTest.value=Ft.alphaTest);let Rt=o.get(Ft).envMap;if(Rt&&(Dt.envMap.value=Rt,Dt.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1,Dt.reflectivity.value=Ft.reflectivity,Dt.ior.value=Ft.ior,Dt.refractionRatio.value=Ft.refractionRatio),Ft.lightMap){Dt.lightMap.value=Ft.lightMap;let dr=s.physicallyCorrectLights!==!0?Math.PI:1;Dt.lightMapIntensity.value=Ft.lightMapIntensity*dr}Ft.aoMap&&(Dt.aoMap.value=Ft.aoMap,Dt.aoMapIntensity.value=Ft.aoMapIntensity);let Nt;Ft.map?Nt=Ft.map:Ft.specularMap?Nt=Ft.specularMap:Ft.displacementMap?Nt=Ft.displacementMap:Ft.normalMap?Nt=Ft.normalMap:Ft.bumpMap?Nt=Ft.bumpMap:Ft.roughnessMap?Nt=Ft.roughnessMap:Ft.metalnessMap?Nt=Ft.metalnessMap:Ft.alphaMap?Nt=Ft.alphaMap:Ft.emissiveMap?Nt=Ft.emissiveMap:Ft.clearcoatMap?Nt=Ft.clearcoatMap:Ft.clearcoatNormalMap?Nt=Ft.clearcoatNormalMap:Ft.clearcoatRoughnessMap?Nt=Ft.clearcoatRoughnessMap:Ft.iridescenceMap?Nt=Ft.iridescenceMap:Ft.iridescenceThicknessMap?Nt=Ft.iridescenceThicknessMap:Ft.specularIntensityMap?Nt=Ft.specularIntensityMap:Ft.specularColorMap?Nt=Ft.specularColorMap:Ft.transmissionMap?Nt=Ft.transmissionMap:Ft.thicknessMap?Nt=Ft.thicknessMap:Ft.sheenColorMap?Nt=Ft.sheenColorMap:Ft.sheenRoughnessMap&&(Nt=Ft.sheenRoughnessMap),Nt!==void 0&&(Nt.isWebGLRenderTarget&&(Nt=Nt.texture),Nt.matrixAutoUpdate===!0&&Nt.updateMatrix(),Dt.uvTransform.value.copy(Nt.matrix));let Gt;Ft.aoMap?Gt=Ft.aoMap:Ft.lightMap&&(Gt=Ft.lightMap),Gt!==void 0&&(Gt.isWebGLRenderTarget&&(Gt=Gt.texture),Gt.matrixAutoUpdate===!0&&Gt.updateMatrix(),Dt.uv2Transform.value.copy(Gt.matrix))}function st(Dt,Ft){Dt.diffuse.value.copy(Ft.color),Dt.opacity.value=Ft.opacity}function nt(Dt,Ft){Dt.dashSize.value=Ft.dashSize,Dt.totalSize.value=Ft.dashSize+Ft.gapSize,Dt.scale.value=Ft.scale}function ct(Dt,Ft,Rt,Nt){Dt.diffuse.value.copy(Ft.color),Dt.opacity.value=Ft.opacity,Dt.size.value=Ft.size*Rt,Dt.scale.value=Nt*.5,Ft.map&&(Dt.map.value=Ft.map),Ft.alphaMap&&(Dt.alphaMap.value=Ft.alphaMap),Ft.alphaTest>0&&(Dt.alphaTest.value=Ft.alphaTest);let Gt;Ft.map?Gt=Ft.map:Ft.alphaMap&&(Gt=Ft.alphaMap),Gt!==void 0&&(Gt.matrixAutoUpdate===!0&&Gt.updateMatrix(),Dt.uvTransform.value.copy(Gt.matrix))}function At(Dt,Ft){Dt.diffuse.value.copy(Ft.color),Dt.opacity.value=Ft.opacity,Dt.rotation.value=Ft.rotation,Ft.map&&(Dt.map.value=Ft.map),Ft.alphaMap&&(Dt.alphaMap.value=Ft.alphaMap),Ft.alphaTest>0&&(Dt.alphaTest.value=Ft.alphaTest);let Rt;Ft.map?Rt=Ft.map:Ft.alphaMap&&(Rt=Ft.alphaMap),Rt!==void 0&&(Rt.matrixAutoUpdate===!0&&Rt.updateMatrix(),Dt.uvTransform.value.copy(Rt.matrix))}function mt(Dt,Ft){Dt.specular.value.copy(Ft.specular),Dt.shininess.value=Math.max(Ft.shininess,1e-4)}function gt(Dt,Ft){Ft.gradientMap&&(Dt.gradientMap.value=Ft.gradientMap)}function _t(Dt,Ft){Dt.roughness.value=Ft.roughness,Dt.metalness.value=Ft.metalness,Ft.roughnessMap&&(Dt.roughnessMap.value=Ft.roughnessMap),Ft.metalnessMap&&(Dt.metalnessMap.value=Ft.metalnessMap),o.get(Ft).envMap&&(Dt.envMapIntensity.value=Ft.envMapIntensity)}function Et(Dt,Ft,Rt){Dt.ior.value=Ft.ior,Ft.sheen>0&&(Dt.sheenColor.value.copy(Ft.sheenColor).multiplyScalar(Ft.sheen),Dt.sheenRoughness.value=Ft.sheenRoughness,Ft.sheenColorMap&&(Dt.sheenColorMap.value=Ft.sheenColorMap),Ft.sheenRoughnessMap&&(Dt.sheenRoughnessMap.value=Ft.sheenRoughnessMap)),Ft.clearcoat>0&&(Dt.clearcoat.value=Ft.clearcoat,Dt.clearcoatRoughness.value=Ft.clearcoatRoughness,Ft.clearcoatMap&&(Dt.clearcoatMap.value=Ft.clearcoatMap),Ft.clearcoatRoughnessMap&&(Dt.clearcoatRoughnessMap.value=Ft.clearcoatRoughnessMap),Ft.clearcoatNormalMap&&(Dt.clearcoatNormalScale.value.copy(Ft.clearcoatNormalScale),Dt.clearcoatNormalMap.value=Ft.clearcoatNormalMap,Ft.side===pi&&Dt.clearcoatNormalScale.value.negate())),Ft.iridescence>0&&(Dt.iridescence.value=Ft.iridescence,Dt.iridescenceIOR.value=Ft.iridescenceIOR,Dt.iridescenceThicknessMinimum.value=Ft.iridescenceThicknessRange[0],Dt.iridescenceThicknessMaximum.value=Ft.iridescenceThicknessRange[1],Ft.iridescenceMap&&(Dt.iridescenceMap.value=Ft.iridescenceMap),Ft.iridescenceThicknessMap&&(Dt.iridescenceThicknessMap.value=Ft.iridescenceThicknessMap)),Ft.transmission>0&&(Dt.transmission.value=Ft.transmission,Dt.transmissionSamplerMap.value=Rt.texture,Dt.transmissionSamplerSize.value.set(Rt.width,Rt.height),Ft.transmissionMap&&(Dt.transmissionMap.value=Ft.transmissionMap),Dt.thickness.value=Ft.thickness,Ft.thicknessMap&&(Dt.thicknessMap.value=Ft.thicknessMap),Dt.attenuationDistance.value=Ft.attenuationDistance,Dt.attenuationColor.value.copy(Ft.attenuationColor)),Dt.specularIntensity.value=Ft.specularIntensity,Dt.specularColor.value.copy(Ft.specularColor),Ft.specularIntensityMap&&(Dt.specularIntensityMap.value=Ft.specularIntensityMap),Ft.specularColorMap&&(Dt.specularColorMap.value=Ft.specularColorMap)}function Ct(Dt,Ft){Ft.matcap&&(Dt.matcap.value=Ft.matcap)}function Bt(Dt,Ft){Dt.referencePosition.value.copy(Ft.referencePosition),Dt.nearDistance.value=Ft.nearDistance,Dt.farDistance.value=Ft.farDistance}return{refreshFogUniforms:_,refreshMaterialUniforms:j}}function JG(s,o,_,j){let et={},st={},nt=[],ct=_.isWebGL2?s.getParameter(35375):0;function At(Nt,Gt){let dr=Gt.program;j.uniformBlockBinding(Nt,dr)}function mt(Nt,Gt){let dr=et[Nt.id];dr===void 0&&(Bt(Nt),dr=gt(Nt),et[Nt.id]=dr,Nt.addEventListener("dispose",Ft));let ts=Gt.program;j.updateUBOMapping(Nt,ts);let es=o.render.frame;st[Nt.id]!==es&&(Et(Nt),st[Nt.id]=es)}function gt(Nt){let Gt=_t();Nt.__bindingPointIndex=Gt;let dr=s.createBuffer(),ts=Nt.__size,es=Nt.usage;return s.bindBuffer(35345,dr),s.bufferData(35345,ts,es),s.bindBuffer(35345,null),s.bindBufferBase(35345,Gt,dr),dr}function _t(){for(let Nt=0;Nt<ct;Nt++)if(nt.indexOf(Nt)===-1)return nt.push(Nt),Nt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Et(Nt){let Gt=et[Nt.id],dr=Nt.uniforms,ts=Nt.__cache;s.bindBuffer(35345,Gt);for(let es=0,ds=dr.length;es<ds;es++){let tn=dr[es];if(Ct(tn,es,ts)===!0){let rn=tn.__offset,un=Array.isArray(tn.value)?tn.value:[tn.value],$n=0;for(let kn=0;kn<un.length;kn++){let lo=un[kn],Il=Dt(lo);typeof lo=="number"?(tn.__data[0]=lo,s.bufferSubData(35345,rn+$n,tn.__data)):lo.isMatrix3?(tn.__data[0]=lo.elements[0],tn.__data[1]=lo.elements[1],tn.__data[2]=lo.elements[2],tn.__data[3]=lo.elements[0],tn.__data[4]=lo.elements[3],tn.__data[5]=lo.elements[4],tn.__data[6]=lo.elements[5],tn.__data[7]=lo.elements[0],tn.__data[8]=lo.elements[6],tn.__data[9]=lo.elements[7],tn.__data[10]=lo.elements[8],tn.__data[11]=lo.elements[0]):(lo.toArray(tn.__data,$n),$n+=Il.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(35345,rn,tn.__data)}}s.bindBuffer(35345,null)}function Ct(Nt,Gt,dr){let ts=Nt.value;if(dr[Gt]===void 0){if(typeof ts=="number")dr[Gt]=ts;else{let es=Array.isArray(ts)?ts:[ts],ds=[];for(let tn=0;tn<es.length;tn++)ds.push(es[tn].clone());dr[Gt]=ds}return!0}else if(typeof ts=="number"){if(dr[Gt]!==ts)return dr[Gt]=ts,!0}else{let es=Array.isArray(dr[Gt])?dr[Gt]:[dr[Gt]],ds=Array.isArray(ts)?ts:[ts];for(let tn=0;tn<es.length;tn++){let rn=es[tn];if(rn.equals(ds[tn])===!1)return rn.copy(ds[tn]),!0}}return!1}function Bt(Nt){let Gt=Nt.uniforms,dr=0,ts=16,es=0;for(let ds=0,tn=Gt.length;ds<tn;ds++){let rn=Gt[ds],un={boundary:0,storage:0},$n=Array.isArray(rn.value)?rn.value:[rn.value];for(let kn=0,lo=$n.length;kn<lo;kn++){let Il=$n[kn],cu=Dt(Il);un.boundary+=cu.boundary,un.storage+=cu.storage}if(rn.__data=new Float32Array(un.storage/Float32Array.BYTES_PER_ELEMENT),rn.__offset=dr,ds>0){es=dr%ts;let kn=ts-es;es!==0&&kn-un.boundary<0&&(dr+=ts-es,rn.__offset=dr)}dr+=un.storage}return es=dr%ts,es>0&&(dr+=ts-es),Nt.__size=dr,Nt.__cache={},this}function Dt(Nt){let Gt={boundary:0,storage:0};return typeof Nt=="number"?(Gt.boundary=4,Gt.storage=4):Nt.isVector2?(Gt.boundary=8,Gt.storage=8):Nt.isVector3||Nt.isColor?(Gt.boundary=16,Gt.storage=12):Nt.isVector4?(Gt.boundary=16,Gt.storage=16):Nt.isMatrix3?(Gt.boundary=48,Gt.storage=48):Nt.isMatrix4?(Gt.boundary=64,Gt.storage=64):Nt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Nt),Gt}function Ft(Nt){let Gt=Nt.target;Gt.removeEventListener("dispose",Ft);let dr=nt.indexOf(Gt.__bindingPointIndex);nt.splice(dr,1),s.deleteBuffer(et[Gt.id]),delete et[Gt.id],delete st[Gt.id]}function Rt(){for(let Nt in et)s.deleteBuffer(et[Nt]);nt=[],et={},st={}}return{bind:At,update:mt,dispose:Rt}}function $G(){let s=ap("canvas");return s.style.display="block",s}function _w(s={}){this.isWebGLRenderer=!0;let o=s.canvas!==void 0?s.canvas:$G(),_=s.context!==void 0?s.context:null,j=s.depth!==void 0?s.depth:!0,et=s.stencil!==void 0?s.stencil:!0,st=s.antialias!==void 0?s.antialias:!1,nt=s.premultipliedAlpha!==void 0?s.premultipliedAlpha:!0,ct=s.preserveDrawingBuffer!==void 0?s.preserveDrawingBuffer:!1,At=s.powerPreference!==void 0?s.powerPreference:"default",mt=s.failIfMajorPerformanceCaveat!==void 0?s.failIfMajorPerformanceCaveat:!1,gt;_!==null?gt=_.getContextAttributes().alpha:gt=s.alpha!==void 0?s.alpha:!1;let _t=null,Et=null,Ct=[],Bt=[];this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=mn,this.physicallyCorrectLights=!1,this.toneMapping=Is,this.toneMappingExposure=1;let Dt=this,Ft=!1,Rt=0,Nt=0,Gt=null,dr=-1,ts=null,es=new Ze,ds=new Ze,tn=null,rn=o.width,un=o.height,$n=1,kn=null,lo=null,Il=new Ze(0,0,rn,un),cu=new Ze(0,0,rn,un),Ko=!1,ru=new cp,Tn=!1,ao=!1,uu=null,hu=new ue$2,tA=new U$1,Sv=new E$2,W0={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function l1(){return Gt===null?$n:1}let X1=_;function kI(eS,A$){for(let g$=0;g$<eS.length;g$++){let d$=eS[g$],v$=o.getContext(d$,A$);if(v$!==null)return v$}return null}try{let eS={alpha:!0,depth:j,stencil:et,antialias:st,premultipliedAlpha:nt,preserveDrawingBuffer:ct,powerPreference:At,failIfMajorPerformanceCaveat:mt};if("setAttribute"in o&&o.setAttribute("data-engine",`three.js r${la}`),o.addEventListener("webglcontextlost",j$,!1),o.addEventListener("webglcontextrestored",U$,!1),o.addEventListener("webglcontextcreationerror",z$,!1),X1===null){let A$=["webgl2","webgl","experimental-webgl"];if(Dt.isWebGL1Renderer===!0&&A$.shift(),X1=kI(A$,eS),X1===null)throw kI(A$)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}X1.getShaderPrecisionFormat===void 0&&(X1.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(eS){throw console.error("THREE.WebGLRenderer: "+eS.message),eS}let q1,UE,a1,LE,rS,gD,NI,a$,x$,l$,pR,h$,w$,E$,Vx,b0,o$,m$,t0,_$,D$,M$,p$,F$;function R$(){q1=new bk(X1),UE=new pk(X1,q1,s),q1.init(UE),M$=new QG(X1,q1,UE),a1=new YG(X1,q1,UE),LE=new Ak,rS=new BG,gD=new XG(X1,q1,a1,rS,UE,M$,LE),NI=new gk(Dt),a$=new xk(Dt),x$=new OV(X1,UE),p$=new dk(X1,q1,x$,UE),l$=new Sk(X1,x$,LE,p$),pR=new Ck(X1,l$,x$,LE),t0=new Tk(X1,UE,gD),b0=new mk(rS),h$=new LG(Dt,NI,a$,q1,UE,p$,b0),w$=new ZG(Dt,rS),E$=new FG,Vx=new jG(q1,UE),m$=new hk(Dt,NI,a$,a1,pR,gt,nt),o$=new qG(Dt,pR,UE),F$=new JG(X1,LE,UE,a1),_$=new fk(X1,q1,LE,UE),D$=new wk(X1,q1,LE,UE),LE.programs=h$.programs,Dt.capabilities=UE,Dt.extensions=q1,Dt.properties=rS,Dt.renderLists=E$,Dt.shadowMap=o$,Dt.state=a1,Dt.info=LE}R$();let O$=new iw(Dt,X1);this.xr=O$,this.getContext=function(){return X1},this.getContextAttributes=function(){return X1.getContextAttributes()},this.forceContextLoss=function(){let eS=q1.get("WEBGL_lose_context");eS&&eS.loseContext()},this.forceContextRestore=function(){let eS=q1.get("WEBGL_lose_context");eS&&eS.restoreContext()},this.getPixelRatio=function(){return $n},this.setPixelRatio=function(eS){eS!==void 0&&($n=eS,this.setSize(rn,un,!1))},this.getSize=function(eS){return eS.set(rn,un)},this.setSize=function(eS,A$,g$){if(O$.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}rn=eS,un=A$,o.width=Math.floor(eS*$n),o.height=Math.floor(A$*$n),g$!==!1&&(o.style.width=eS+"px",o.style.height=A$+"px"),this.setViewport(0,0,eS,A$)},this.getDrawingBufferSize=function(eS){return eS.set(rn*$n,un*$n).floor()},this.setDrawingBufferSize=function(eS,A$,g$){rn=eS,un=A$,$n=g$,o.width=Math.floor(eS*g$),o.height=Math.floor(A$*g$),this.setViewport(0,0,eS,A$)},this.getCurrentViewport=function(eS){return eS.copy(es)},this.getViewport=function(eS){return eS.copy(Il)},this.setViewport=function(eS,A$,g$,d$){eS.isVector4?Il.set(eS.x,eS.y,eS.z,eS.w):Il.set(eS,A$,g$,d$),a1.viewport(es.copy(Il).multiplyScalar($n).floor())},this.getScissor=function(eS){return eS.copy(cu)},this.setScissor=function(eS,A$,g$,d$){eS.isVector4?cu.set(eS.x,eS.y,eS.z,eS.w):cu.set(eS,A$,g$,d$),a1.scissor(ds.copy(cu).multiplyScalar($n).floor())},this.getScissorTest=function(){return Ko},this.setScissorTest=function(eS){a1.setScissorTest(Ko=eS)},this.setOpaqueSort=function(eS){kn=eS},this.setTransparentSort=function(eS){lo=eS},this.getClearColor=function(eS){return eS.copy(m$.getClearColor())},this.setClearColor=function(){m$.setClearColor.apply(m$,arguments)},this.getClearAlpha=function(){return m$.getClearAlpha()},this.setClearAlpha=function(){m$.setClearAlpha.apply(m$,arguments)},this.clear=function(eS=!0,A$=!0,g$=!0){let d$=0;eS&&(d$|=16384),A$&&(d$|=256),g$&&(d$|=1024),X1.clear(d$)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",j$,!1),o.removeEventListener("webglcontextrestored",U$,!1),o.removeEventListener("webglcontextcreationerror",z$,!1),E$.dispose(),Vx.dispose(),rS.dispose(),NI.dispose(),a$.dispose(),pR.dispose(),p$.dispose(),F$.dispose(),h$.dispose(),O$.dispose(),O$.removeEventListener("sessionstart",I$),O$.removeEventListener("sessionend",V$),uu&&(uu.dispose(),uu=null),X$.stop()};function j$(eS){eS.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ft=!0}function U$(){console.log("THREE.WebGLRenderer: Context Restored."),Ft=!1;let eS=LE.autoReset,A$=o$.enabled,g$=o$.autoUpdate,d$=o$.needsUpdate,v$=o$.type;R$(),LE.autoReset=eS,o$.enabled=A$,o$.autoUpdate=g$,o$.needsUpdate=d$,o$.type=v$}function z$(eS){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",eS.statusMessage)}function kQ(eS){let A$=eS.target;A$.removeEventListener("dispose",kQ),YQ(A$)}function YQ(eS){mO(eS),rS.remove(eS)}function mO(eS){let A$=rS.get(eS).programs;A$!==void 0&&(A$.forEach(function(g$){h$.releaseProgram(g$)}),eS.isShaderMaterial&&h$.releaseShaderCache(eS))}this.renderBufferDirect=function(eS,A$,g$,d$,v$,L$){A$===null&&(A$=W0);let W$=v$.isMesh&&v$.matrixWorld.determinant()<0,Q$=Cee(eS,A$,g$,d$,v$);a1.setMaterial(d$,W$);let H$=g$.index,HQ=1;d$.wireframe===!0&&(H$=l$.getWireframeAttribute(g$),HQ=2);let Y$=g$.drawRange,J$=g$.attributes.position,q$=Y$.start*HQ,_7=(Y$.start+Y$.count)*HQ;L$!==null&&(q$=Math.max(q$,L$.start*HQ),_7=Math.min(_7,(L$.start+L$.count)*HQ)),H$!==null?(q$=Math.max(q$,0),_7=Math.min(_7,H$.count)):J$!=null&&(q$=Math.max(q$,0),_7=Math.min(_7,J$.count));let PK=_7-q$;if(PK<0||PK===1/0)return;p$.setup(v$,d$,Q$,g$,H$);let Fq,KQ=_$;if(H$!==null&&(Fq=x$.get(H$),KQ=D$,KQ.setIndex(Fq)),v$.isMesh)d$.wireframe===!0?(a1.setLineWidth(d$.wireframeLinewidth*l1()),KQ.setMode(1)):KQ.setMode(4);else if(v$.isLine){let Z$=d$.linewidth;Z$===void 0&&(Z$=1),a1.setLineWidth(Z$*l1()),v$.isLineSegments?KQ.setMode(1):v$.isLineLoop?KQ.setMode(2):KQ.setMode(3)}else v$.isPoints?KQ.setMode(0):v$.isSprite&&KQ.setMode(4);if(v$.isInstancedMesh)KQ.renderInstances(q$,PK,v$.count);else if(g$.isInstancedBufferGeometry){let Z$=g$._maxInstanceCount!==void 0?g$._maxInstanceCount:1/0,Q9=Math.min(g$.instanceCount,Z$);KQ.renderInstances(q$,PK,Q9)}else KQ.render(q$,PK)},this.compile=function(eS,A$){function g$(d$,v$,L$){d$.transparent===!0&&d$.side===fi&&d$.forceSinglePass===!1?(d$.side=pi,d$.needsUpdate=!0,yK(d$,v$,L$),d$.side=Hn,d$.needsUpdate=!0,yK(d$,v$,L$),d$.side=fi):yK(d$,v$,L$)}Et=Vx.get(eS),Et.init(),Bt.push(Et),eS.traverseVisible(function(d$){d$.isLight&&d$.layers.test(A$.layers)&&(Et.pushLight(d$),d$.castShadow&&Et.pushShadow(d$))}),Et.setupLights(Dt.physicallyCorrectLights),eS.traverse(function(d$){let v$=d$.material;if(v$)if(Array.isArray(v$))for(let L$=0;L$<v$.length;L$++){let W$=v$[L$];g$(W$,eS,d$)}else g$(v$,eS,d$)}),Bt.pop(),Et=null};let f$=null;function b$(eS){f$&&f$(eS)}function I$(){X$.stop()}function V$(){X$.start()}let X$=new ZC;X$.setAnimationLoop(b$),typeof self<"u"&&X$.setContext(self),this.setAnimationLoop=function(eS){f$=eS,O$.setAnimationLoop(eS),eS===null?X$.stop():X$.start()},O$.addEventListener("sessionstart",I$),O$.addEventListener("sessionend",V$),this.render=function(eS,A$){if(A$!==void 0&&A$.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Ft===!0)return;eS.matrixWorldAutoUpdate===!0&&eS.updateMatrixWorld(),A$.parent===null&&A$.matrixWorldAutoUpdate===!0&&A$.updateMatrixWorld(),O$.enabled===!0&&O$.isPresenting===!0&&(O$.cameraAutoUpdate===!0&&O$.updateCamera(A$),A$=O$.getCamera()),eS.isScene===!0&&eS.onBeforeRender(Dt,eS,A$,Gt),Et=Vx.get(eS,Bt.length),Et.init(),Bt.push(Et),hu.multiplyMatrices(A$.projectionMatrix,A$.matrixWorldInverse),ru.setFromProjectionMatrix(hu),ao=this.localClippingEnabled,Tn=b0.init(this.clippingPlanes,ao),_t=E$.get(eS,Ct.length),_t.init(),Ct.push(_t),JQ(eS,A$,0,Dt.sortObjects),_t.finish(),Dt.sortObjects===!0&&_t.sort(kn,lo),Tn===!0&&b0.beginShadows();let g$=Et.state.shadowsArray;if(o$.render(g$,eS,A$),Tn===!0&&b0.endShadows(),this.info.autoReset===!0&&this.info.reset(),m$.render(_t,eS),Et.setupLights(Dt.physicallyCorrectLights),A$.isArrayCamera){let d$=A$.cameras;for(let v$=0,L$=d$.length;v$<L$;v$++){let W$=d$[v$];I7(_t,eS,W$,W$.viewport)}}else I7(_t,eS,A$);Gt!==null&&(gD.updateMultisampleRenderTarget(Gt),gD.updateRenderTargetMipmap(Gt)),eS.isScene===!0&&eS.onAfterRender(Dt,eS,A$),p$.resetDefaultState(),dr=-1,ts=null,Bt.pop(),Bt.length>0?Et=Bt[Bt.length-1]:Et=null,Ct.pop(),Ct.length>0?_t=Ct[Ct.length-1]:_t=null};function JQ(eS,A$,g$,d$){if(eS.visible===!1)return;if(eS.layers.test(A$.layers)){if(eS.isGroup)g$=eS.renderOrder;else if(eS.isLOD)eS.autoUpdate===!0&&eS.update(A$);else if(eS.isLight)Et.pushLight(eS),eS.castShadow&&Et.pushShadow(eS);else if(eS.isSprite){if(!eS.frustumCulled||ru.intersectsSprite(eS)){d$&&Sv.setFromMatrixPosition(eS.matrixWorld).applyMatrix4(hu);let L$=pR.update(eS),W$=eS.material;W$.visible&&_t.push(eS,L$,W$,g$,Sv.z,null)}}else if((eS.isMesh||eS.isLine||eS.isPoints)&&(eS.isSkinnedMesh&&eS.skeleton.frame!==LE.render.frame&&(eS.skeleton.update(),eS.skeleton.frame=LE.render.frame),!eS.frustumCulled||ru.intersectsObject(eS))){d$&&Sv.setFromMatrixPosition(eS.matrixWorld).applyMatrix4(hu);let L$=pR.update(eS),W$=eS.material;if(Array.isArray(W$)){let Q$=L$.groups;for(let H$=0,HQ=Q$.length;H$<HQ;H$++){let Y$=Q$[H$],J$=W$[Y$.materialIndex];J$&&J$.visible&&_t.push(eS,L$,J$,g$,Sv.z,Y$)}}else W$.visible&&_t.push(eS,L$,W$,g$,Sv.z,null)}}let v$=eS.children;for(let L$=0,W$=v$.length;L$<W$;L$++)JQ(v$[L$],A$,g$,d$)}function I7(eS,A$,g$,d$){let v$=eS.opaque,L$=eS.transmissive,W$=eS.transparent;Et.setupLightsView(g$),Tn===!0&&b0.setGlobalState(Dt.clippingPlanes,g$),L$.length>0&&TK(v$,A$,g$),d$&&a1.viewport(es.copy(d$)),v$.length>0&&zQ(v$,A$,g$),L$.length>0&&zQ(L$,A$,g$),W$.length>0&&zQ(W$,A$,g$),a1.buffers.depth.setTest(!0),a1.buffers.depth.setMask(!0),a1.buffers.color.setMask(!0),a1.setPolygonOffset(!1)}function TK(eS,A$,g$){let d$=UE.isWebGL2;uu===null&&(uu=new dt(1,1,{generateMipmaps:!0,type:q1.has("EXT_color_buffer_half_float")?Wn:_r$1,minFilter:dc,samples:d$&&st===!0?4:0})),Dt.getDrawingBufferSize(tA),d$?uu.setSize(tA.x,tA.y):uu.setSize(Zg(tA.x),Zg(tA.y));let v$=Dt.getRenderTarget();Dt.setRenderTarget(uu),Dt.clear();let L$=Dt.toneMapping;Dt.toneMapping=Is,zQ(eS,A$,g$),Dt.toneMapping=L$,gD.updateMultisampleRenderTarget(uu),gD.updateRenderTargetMipmap(uu),Dt.setRenderTarget(v$)}function zQ(eS,A$,g$){let d$=A$.isScene===!0?A$.overrideMaterial:null;for(let v$=0,L$=eS.length;v$<L$;v$++){let W$=eS[v$],Q$=W$.object,H$=W$.geometry,HQ=d$===null?W$.material:d$,Y$=W$.group;Q$.layers.test(g$.layers)&&Tq(Q$,A$,g$,H$,HQ,Y$)}}function Tq(eS,A$,g$,d$,v$,L$){eS.onBeforeRender(Dt,A$,g$,d$,v$,L$),eS.modelViewMatrix.multiplyMatrices(g$.matrixWorldInverse,eS.matrixWorld),eS.normalMatrix.getNormalMatrix(eS.modelViewMatrix),v$.onBeforeRender(Dt,A$,g$,d$,eS,L$),v$.transparent===!0&&v$.side===fi&&v$.forceSinglePass===!1?(v$.side=pi,v$.needsUpdate=!0,Dt.renderBufferDirect(g$,A$,d$,v$,eS,L$),v$.side=Hn,v$.needsUpdate=!0,Dt.renderBufferDirect(g$,A$,d$,v$,eS,L$),v$.side=fi):Dt.renderBufferDirect(g$,A$,d$,v$,eS,L$),eS.onAfterRender(Dt,A$,g$,d$,v$,L$)}function yK(eS,A$,g$){A$.isScene!==!0&&(A$=W0);let d$=rS.get(eS),v$=Et.state.lights,L$=Et.state.shadowsArray,W$=v$.state.version,Q$=h$.getParameters(eS,v$.state,L$,A$,g$),H$=h$.getProgramCacheKey(Q$),HQ=d$.programs;d$.environment=eS.isMeshStandardMaterial?A$.environment:null,d$.fog=A$.fog,d$.envMap=(eS.isMeshStandardMaterial?a$:NI).get(eS.envMap||d$.environment),HQ===void 0&&(eS.addEventListener("dispose",kQ),HQ=new Map,d$.programs=HQ);let Y$=HQ.get(H$);if(Y$!==void 0){if(d$.currentProgram===Y$&&d$.lightsStateVersion===W$)return nee(eS,Q$),Y$}else Q$.uniforms=h$.getUniforms(eS),eS.onBuild(g$,Q$,Dt),eS.onBeforeCompile(Q$,Dt),Y$=h$.acquireProgram(Q$,H$),HQ.set(H$,Y$),d$.uniforms=Q$.uniforms;let J$=d$.uniforms;(!eS.isShaderMaterial&&!eS.isRawShaderMaterial||eS.clipping===!0)&&(J$.clippingPlanes=b0.uniform),nee(eS,Q$),d$.needsLights=ree(eS),d$.lightsStateVersion=W$,d$.needsLights&&(J$.ambientLightColor.value=v$.state.ambient,J$.lightProbe.value=v$.state.probe,J$.directionalLights.value=v$.state.directional,J$.directionalLightShadows.value=v$.state.directionalShadow,J$.spotLights.value=v$.state.spot,J$.spotLightShadows.value=v$.state.spotShadow,J$.rectAreaLights.value=v$.state.rectArea,J$.ltc_1.value=v$.state.rectAreaLTC1,J$.ltc_2.value=v$.state.rectAreaLTC2,J$.pointLights.value=v$.state.point,J$.pointLightShadows.value=v$.state.pointShadow,J$.hemisphereLights.value=v$.state.hemi,J$.directionalShadowMap.value=v$.state.directionalShadowMap,J$.directionalShadowMatrix.value=v$.state.directionalShadowMatrix,J$.spotShadowMap.value=v$.state.spotShadowMap,J$.spotLightMatrix.value=v$.state.spotLightMatrix,J$.spotLightMap.value=v$.state.spotLightMap,J$.pointShadowMap.value=v$.state.pointShadowMap,J$.pointShadowMatrix.value=v$.state.pointShadowMatrix);let q$=Y$.getUniforms(),_7=Iu.seqWithValue(q$.seq,J$);return d$.currentProgram=Y$,d$.uniformsList=_7,Y$}function nee(eS,A$){let g$=rS.get(eS);g$.outputEncoding=A$.outputEncoding,g$.instancing=A$.instancing,g$.skinning=A$.skinning,g$.morphTargets=A$.morphTargets,g$.morphNormals=A$.morphNormals,g$.morphColors=A$.morphColors,g$.morphTargetsCount=A$.morphTargetsCount,g$.numClippingPlanes=A$.numClippingPlanes,g$.numIntersection=A$.numClipIntersection,g$.vertexAlphas=A$.vertexAlphas,g$.vertexTangents=A$.vertexTangents,g$.toneMapping=A$.toneMapping}function Cee(eS,A$,g$,d$,v$){A$.isScene!==!0&&(A$=W0),gD.resetTextureUnits();let L$=A$.fog,W$=d$.isMeshStandardMaterial?A$.environment:null,Q$=Gt===null?Dt.outputEncoding:Gt.isXRRenderTarget===!0?Gt.texture.encoding:mn,H$=(d$.isMeshStandardMaterial?a$:NI).get(d$.envMap||W$),HQ=d$.vertexColors===!0&&!!g$.attributes.color&&g$.attributes.color.itemSize===4,Y$=!!d$.normalMap&&!!g$.attributes.tangent,J$=!!g$.morphAttributes.position,q$=!!g$.morphAttributes.normal,_7=!!g$.morphAttributes.color,PK=d$.toneMapped?Dt.toneMapping:Is,Fq=g$.morphAttributes.position||g$.morphAttributes.normal||g$.morphAttributes.color,KQ=Fq!==void 0?Fq.length:0,Z$=rS.get(d$),Q9=Et.state.lights;if(Tn===!0&&(ao===!0||eS!==ts)){let lu=eS===ts&&d$.id===dr;b0.setState(d$,eS,lu)}let K$=!1;d$.version===Z$.__version?(Z$.needsLights&&Z$.lightsStateVersion!==Q9.state.version||Z$.outputEncoding!==Q$||v$.isInstancedMesh&&Z$.instancing===!1||!v$.isInstancedMesh&&Z$.instancing===!0||v$.isSkinnedMesh&&Z$.skinning===!1||!v$.isSkinnedMesh&&Z$.skinning===!0||Z$.envMap!==H$||d$.fog===!0&&Z$.fog!==L$||Z$.numClippingPlanes!==void 0&&(Z$.numClippingPlanes!==b0.numPlanes||Z$.numIntersection!==b0.numIntersection)||Z$.vertexAlphas!==HQ||Z$.vertexTangents!==Y$||Z$.morphTargets!==J$||Z$.morphNormals!==q$||Z$.morphColors!==_7||Z$.toneMapping!==PK||UE.isWebGL2===!0&&Z$.morphTargetsCount!==KQ)&&(K$=!0):(K$=!0,Z$.__version=d$.version);let DK=Z$.currentProgram;K$===!0&&(DK=yK(d$,A$,v$));let gX=!1,gK=!1,kq=!1,AA=DK.getUniforms(),q0=Z$.uniforms;if(a1.useProgram(DK.program)&&(gX=!0,gK=!0,kq=!0),d$.id!==dr&&(dr=d$.id,gK=!0),gX||ts!==eS){if(AA.setValue(X1,"projectionMatrix",eS.projectionMatrix),UE.logarithmicDepthBuffer&&AA.setValue(X1,"logDepthBufFC",2/(Math.log(eS.far+1)/Math.LN2)),ts!==eS&&(ts=eS,gK=!0,kq=!0),d$.isShaderMaterial||d$.isMeshPhongMaterial||d$.isMeshToonMaterial||d$.isMeshStandardMaterial||d$.envMap){let lu=AA.map.cameraPosition;lu!==void 0&&lu.setValue(X1,Sv.setFromMatrixPosition(eS.matrixWorld))}(d$.isMeshPhongMaterial||d$.isMeshToonMaterial||d$.isMeshLambertMaterial||d$.isMeshBasicMaterial||d$.isMeshStandardMaterial||d$.isShaderMaterial)&&AA.setValue(X1,"isOrthographic",eS.isOrthographicCamera===!0),(d$.isMeshPhongMaterial||d$.isMeshToonMaterial||d$.isMeshLambertMaterial||d$.isMeshBasicMaterial||d$.isMeshStandardMaterial||d$.isShaderMaterial||d$.isShadowMaterial||v$.isSkinnedMesh)&&AA.setValue(X1,"viewMatrix",eS.matrixWorldInverse)}if(v$.isSkinnedMesh){AA.setOptional(X1,v$,"bindMatrix"),AA.setOptional(X1,v$,"bindMatrixInverse");let lu=v$.skeleton;lu&&(UE.floatVertexTextures?(lu.boneTexture===null&&lu.computeBoneTexture(),AA.setValue(X1,"boneTexture",lu.boneTexture,gD),AA.setValue(X1,"boneTextureSize",lu.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let gR=g$.morphAttributes;if((gR.position!==void 0||gR.normal!==void 0||gR.color!==void 0&&UE.isWebGL2===!0)&&t0.update(v$,g$,d$,DK),(gK||Z$.receiveShadow!==v$.receiveShadow)&&(Z$.receiveShadow=v$.receiveShadow,AA.setValue(X1,"receiveShadow",v$.receiveShadow)),d$.isMeshGouraudMaterial&&d$.envMap!==null&&(q0.envMap.value=H$,q0.flipEnvMap.value=H$.isCubeTexture&&H$.isRenderTargetTexture===!1?-1:1),gK&&(AA.setValue(X1,"toneMappingExposure",Dt.toneMappingExposure),Z$.needsLights&&Bee(q0,kq),L$&&d$.fog===!0&&w$.refreshFogUniforms(q0,L$),w$.refreshMaterialUniforms(q0,d$,$n,un,uu),Iu.upload(X1,Z$.uniformsList,q0,gD)),d$.isShaderMaterial&&d$.uniformsNeedUpdate===!0&&(Iu.upload(X1,Z$.uniformsList,q0,gD),d$.uniformsNeedUpdate=!1),d$.isSpriteMaterial&&AA.setValue(X1,"center",v$.center),AA.setValue(X1,"modelViewMatrix",v$.modelViewMatrix),AA.setValue(X1,"normalMatrix",v$.normalMatrix),AA.setValue(X1,"modelMatrix",v$.matrixWorld),v$.previousModelViewMatrix&&AA.setValue(X1,"previousModelViewMatrix",v$.previousModelViewMatrix),eS.previousProjectionMatrix&&AA.setValue(X1,"previousProjectionMatrix",eS.previousProjectionMatrix),d$.isShaderMaterial||d$.isRawShaderMaterial){let lu=d$.uniformsGroups;for(let wA=0,p0=lu.length;wA<p0;wA++)if(UE.isWebGL2){let s$=lu[wA];F$.update(s$,DK),F$.bind(s$,DK)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return DK}function Bee(eS,A$){eS.ambientLightColor.needsUpdate=A$,eS.lightProbe.needsUpdate=A$,eS.directionalLights.needsUpdate=A$,eS.directionalLightShadows.needsUpdate=A$,eS.pointLights.needsUpdate=A$,eS.pointLightShadows.needsUpdate=A$,eS.spotLights.needsUpdate=A$,eS.spotLightShadows.needsUpdate=A$,eS.rectAreaLights.needsUpdate=A$,eS.hemisphereLights.needsUpdate=A$}function ree(eS){return eS.isMeshLambertMaterial||eS.isMeshToonMaterial||eS.isMeshPhongMaterial||eS.isMeshStandardMaterial||eS.isShadowMaterial||eS.isShaderMaterial&&eS.lights===!0}this.getActiveCubeFace=function(){return Rt},this.getActiveMipmapLevel=function(){return Nt},this.getRenderTarget=function(){return Gt},this.setRenderTargetTextures=function(eS,A$,g$){rS.get(eS.texture).__webglTexture=A$,rS.get(eS.depthTexture).__webglTexture=g$;let d$=rS.get(eS);d$.__hasExternalTextures=!0,d$.__hasExternalTextures&&(d$.__autoAllocateDepthBuffer=g$===void 0,d$.__autoAllocateDepthBuffer||q1.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),d$.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(eS,A$){let g$=rS.get(eS);g$.__webglFramebuffer=A$,g$.__useDefaultFramebuffer=A$===void 0},this.setRenderTarget=function(eS,A$=0,g$=0){Gt=eS,Rt=A$,Nt=g$;let d$=!0,v$=null,L$=!1,W$=!1;if(eS){let Q$=rS.get(eS);Q$.__useDefaultFramebuffer!==void 0?(a1.bindFramebuffer(36160,null),d$=!1):Q$.__webglFramebuffer===void 0?gD.setupRenderTarget(eS):Q$.__hasExternalTextures&&gD.rebindTextures(eS,rS.get(eS.texture).__webglTexture,rS.get(eS.depthTexture).__webglTexture);let H$=eS.texture;(H$.isData3DTexture||H$.isDataArrayTexture||H$.isCompressedArrayTexture)&&(W$=!0);let HQ=rS.get(eS).__webglFramebuffer;eS.isWebGLCubeRenderTarget?(v$=HQ[A$],L$=!0):UE.isWebGL2&&eS.samples>0&&gD.useMultisampledRTT(eS)===!1?v$=rS.get(eS).__webglMultisampledFramebuffer:v$=HQ,es.copy(eS.viewport),ds.copy(eS.scissor),tn=eS.scissorTest}else es.copy(Il).multiplyScalar($n).floor(),ds.copy(cu).multiplyScalar($n).floor(),tn=Ko;if(a1.bindFramebuffer(36160,v$)&&UE.drawBuffers&&d$&&a1.drawBuffers(eS,v$),a1.viewport(es),a1.scissor(ds),a1.setScissorTest(tn),L$){let Q$=rS.get(eS.texture);X1.framebufferTexture2D(36160,36064,34069+A$,Q$.__webglTexture,g$)}else if(W$){let Q$=rS.get(eS.texture),H$=A$||0;X1.framebufferTextureLayer(36160,36064,Q$.__webglTexture,g$||0,H$)}dr=-1},this.readRenderTargetPixels=function(eS,A$,g$,d$,v$,L$,W$){if(!(eS&&eS.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Q$=rS.get(eS).__webglFramebuffer;if(eS.isWebGLCubeRenderTarget&&W$!==void 0&&(Q$=Q$[W$]),Q$){a1.bindFramebuffer(36160,Q$);try{let H$=eS.texture,HQ=H$.format,Y$=H$.type;if(HQ!==qr&&M$.convert(HQ)!==X1.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let J$=Y$===Wn&&(q1.has("EXT_color_buffer_half_float")||UE.isWebGL2&&q1.has("EXT_color_buffer_float"));if(Y$!==_r$1&&M$.convert(Y$)!==X1.getParameter(35738)&&!(Y$===br&&(UE.isWebGL2||q1.has("OES_texture_float")||q1.has("WEBGL_color_buffer_float")))&&!J$){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}A$>=0&&A$<=eS.width-d$&&g$>=0&&g$<=eS.height-v$&&X1.readPixels(A$,g$,d$,v$,M$.convert(HQ),M$.convert(Y$),L$)}finally{let H$=Gt!==null?rS.get(Gt).__webglFramebuffer:null;a1.bindFramebuffer(36160,H$)}}},this.copyFramebufferToTexture=function(eS,A$,g$=0){let d$=Math.pow(2,-g$),v$=Math.floor(A$.image.width*d$),L$=Math.floor(A$.image.height*d$);gD.setTexture2D(A$,0),X1.copyTexSubImage2D(3553,g$,0,0,eS.x,eS.y,v$,L$),a1.unbindTexture()},this.copyTextureToTexture=function(eS,A$,g$,d$=0){let v$=A$.image.width,L$=A$.image.height,W$=M$.convert(g$.format),Q$=M$.convert(g$.type);gD.setTexture2D(g$,0),X1.pixelStorei(37440,g$.flipY),X1.pixelStorei(37441,g$.premultiplyAlpha),X1.pixelStorei(3317,g$.unpackAlignment),A$.isDataTexture?X1.texSubImage2D(3553,d$,eS.x,eS.y,v$,L$,W$,Q$,A$.image.data):A$.isCompressedTexture?X1.compressedTexSubImage2D(3553,d$,eS.x,eS.y,A$.mipmaps[0].width,A$.mipmaps[0].height,W$,A$.mipmaps[0].data):X1.texSubImage2D(3553,d$,eS.x,eS.y,W$,Q$,A$.image),d$===0&&g$.generateMipmaps&&X1.generateMipmap(3553),a1.unbindTexture()},this.copyTextureToTexture3D=function(eS,A$,g$,d$,v$=0){if(Dt.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let L$=eS.max.x-eS.min.x+1,W$=eS.max.y-eS.min.y+1,Q$=eS.max.z-eS.min.z+1,H$=M$.convert(d$.format),HQ=M$.convert(d$.type),Y$;if(d$.isData3DTexture)gD.setTexture3D(d$,0),Y$=32879;else if(d$.isDataArrayTexture)gD.setTexture2DArray(d$,0),Y$=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X1.pixelStorei(37440,d$.flipY),X1.pixelStorei(37441,d$.premultiplyAlpha),X1.pixelStorei(3317,d$.unpackAlignment);let J$=X1.getParameter(3314),q$=X1.getParameter(32878),_7=X1.getParameter(3316),PK=X1.getParameter(3315),Fq=X1.getParameter(32877),KQ=g$.isCompressedTexture?g$.mipmaps[0]:g$.image;X1.pixelStorei(3314,KQ.width),X1.pixelStorei(32878,KQ.height),X1.pixelStorei(3316,eS.min.x),X1.pixelStorei(3315,eS.min.y),X1.pixelStorei(32877,eS.min.z),g$.isDataTexture||g$.isData3DTexture?X1.texSubImage3D(Y$,v$,A$.x,A$.y,A$.z,L$,W$,Q$,H$,HQ,KQ.data):g$.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X1.compressedTexSubImage3D(Y$,v$,A$.x,A$.y,A$.z,L$,W$,Q$,H$,KQ.data)):X1.texSubImage3D(Y$,v$,A$.x,A$.y,A$.z,L$,W$,Q$,H$,HQ,KQ),X1.pixelStorei(3314,J$),X1.pixelStorei(32878,q$),X1.pixelStorei(3316,_7),X1.pixelStorei(3315,PK),X1.pixelStorei(32877,Fq),v$===0&&d$.generateMipmaps&&X1.generateMipmap(Y$),a1.unbindTexture()},this.initTexture=function(eS){eS.isCubeTexture?gD.setTextureCube(eS,0):eS.isData3DTexture?gD.setTexture3D(eS,0):eS.isDataArrayTexture||eS.isCompressedArrayTexture?gD.setTexture2DArray(eS,0):gD.setTexture2D(eS,0),a1.unbindTexture()},this.resetState=function(){Rt=0,Nt=0,Gt=null,a1.reset(),p$.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var nw=class extends _w{};nw.prototype.isWebGL1Renderer=!0;var Lu=class{constructor(s,o=1,_=1e3){this.isFog=!0,this.name="",this.color=new We(s),this.near=o,this.far=_}clone(){return new Lu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},ei=class extends Mt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(s,o){return super.copy(s,o),s.background!==null&&(this.background=s.background.clone()),s.environment!==null&&(this.environment=s.environment.clone()),s.fog!==null&&(this.fog=s.fog.clone()),this.backgroundBlurriness=s.backgroundBlurriness,this.backgroundIntensity=s.backgroundIntensity,s.overrideMaterial!==null&&(this.overrideMaterial=s.overrideMaterial.clone()),this.matrixAutoUpdate=s.matrixAutoUpdate,this}toJSON(s){let o=super.toJSON(s);return this.fog!==null&&(o.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(o.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(o.object.backgroundIntensity=this.backgroundIntensity),o}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(s){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=s}},sy=class{constructor(s,o){this.isInterleavedBuffer=!0,this.array=s,this.stride=o,this.count=s!==void 0?s.length/o:0,this.usage=HS,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=is$1()}onUploadCallback(){}set needsUpdate(s){s===!0&&this.version++}setUsage(s){return this.usage=s,this}copy(s){return this.array=new s.array.constructor(s.array),this.count=s.count,this.stride=s.stride,this.usage=s.usage,this}copyAt(s,o,_){s*=this.stride,_*=o.stride;for(let j=0,et=this.stride;j<et;j++)this.array[s+j]=o.array[_+j];return this}set(s,o=0){return this.array.set(s,o),this}clone(s){s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is$1()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let o=new this.array.constructor(s.arrayBuffers[this.array.buffer._uuid]),_=new this.constructor(o,this.stride);return _.setUsage(this.usage),_}onUpload(s){return this.onUploadCallback=s,this}toJSON(s){return s.arrayBuffers===void 0&&(s.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=is$1()),s.arrayBuffers[this.array.buffer._uuid]===void 0&&(s.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},fn=new E$2,pc=class{constructor(s,o,_,j=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=s,this.itemSize=o,this.offset=_,this.normalized=j}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(s){this.data.needsUpdate=s}applyMatrix4(s){for(let o=0,_=this.data.count;o<_;o++)fn.fromBufferAttribute(this,o),fn.applyMatrix4(s),this.setXYZ(o,fn.x,fn.y,fn.z);return this}applyNormalMatrix(s){for(let o=0,_=this.count;o<_;o++)fn.fromBufferAttribute(this,o),fn.applyNormalMatrix(s),this.setXYZ(o,fn.x,fn.y,fn.z);return this}transformDirection(s){for(let o=0,_=this.count;o<_;o++)fn.fromBufferAttribute(this,o),fn.transformDirection(s),this.setXYZ(o,fn.x,fn.y,fn.z);return this}setX(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.data.array[s*this.data.stride+this.offset]=o,this}setY(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.data.array[s*this.data.stride+this.offset+1]=o,this}setZ(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.data.array[s*this.data.stride+this.offset+2]=o,this}setW(s,o){return this.normalized&&(o=xr$1(o,this.array)),this.data.array[s*this.data.stride+this.offset+3]=o,this}getX(s){let o=this.data.array[s*this.data.stride+this.offset];return this.normalized&&(o=oa(o,this.array)),o}getY(s){let o=this.data.array[s*this.data.stride+this.offset+1];return this.normalized&&(o=oa(o,this.array)),o}getZ(s){let o=this.data.array[s*this.data.stride+this.offset+2];return this.normalized&&(o=oa(o,this.array)),o}getW(s){let o=this.data.array[s*this.data.stride+this.offset+3];return this.normalized&&(o=oa(o,this.array)),o}setXY(s,o,_){return s=s*this.data.stride+this.offset,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array)),this.data.array[s+0]=o,this.data.array[s+1]=_,this}setXYZ(s,o,_,j){return s=s*this.data.stride+this.offset,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array),j=xr$1(j,this.array)),this.data.array[s+0]=o,this.data.array[s+1]=_,this.data.array[s+2]=j,this}setXYZW(s,o,_,j,et){return s=s*this.data.stride+this.offset,this.normalized&&(o=xr$1(o,this.array),_=xr$1(_,this.array),j=xr$1(j,this.array),et=xr$1(et,this.array)),this.data.array[s+0]=o,this.data.array[s+1]=_,this.data.array[s+2]=j,this.data.array[s+3]=et,this}clone(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let o=[];for(let _=0;_<this.count;_++){let j=_*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)o.push(this.data.array[j+et])}return new Xe(new this.array.constructor(o),this.itemSize,this.normalized)}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.clone(s)),new pc(s.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(s){if(s===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let o=[];for(let _=0;_<this.count;_++){let j=_*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)o.push(this.data.array[j+et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:o,normalized:this.normalized}}else return s.interleavedBuffers===void 0&&(s.interleavedBuffers={}),s.interleavedBuffers[this.data.uuid]===void 0&&(s.interleavedBuffers[this.data.uuid]=this.data.toJSON(s)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},hp=class extends Mt{constructor(){super(),this.isBone=!0,this.type="Bone"}},gi=class extends $t{constructor(s=null,o=1,_=1,j,et,st,nt,ct,At=Vt,mt=Vt,gt,_t){super(null,st,nt,ct,At,mt,j,et,gt,_t),this.isDataTexture=!0,this.image={data:s,width:o,height:_},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},vC=new ue$2,e4=new ue$2,$a=class{constructor(s=[],o=[]){this.uuid=is$1(),this.bones=s.slice(0),this.boneInverses=o,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let s=this.bones,o=this.boneInverses;if(this.boneMatrices=new Float32Array(s.length*16),o.length===0)this.calculateInverses();else if(s.length!==o.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let _=0,j=this.bones.length;_<j;_++)this.boneInverses.push(new ue$2)}}calculateInverses(){this.boneInverses.length=0;for(let s=0,o=this.bones.length;s<o;s++){let _=new ue$2;this.bones[s]&&_.copy(this.bones[s].matrixWorld).invert(),this.boneInverses.push(_)}}pose(){for(let s=0,o=this.bones.length;s<o;s++){let _=this.bones[s];_&&_.matrixWorld.copy(this.boneInverses[s]).invert()}for(let s=0,o=this.bones.length;s<o;s++){let _=this.bones[s];_&&(_.parent&&_.parent.isBone?(_.matrix.copy(_.parent.matrixWorld).invert(),_.matrix.multiply(_.matrixWorld)):_.matrix.copy(_.matrixWorld),_.matrix.decompose(_.position,_.quaternion,_.scale))}}update(){let s=this.bones,o=this.boneInverses,_=this.boneMatrices,j=this.boneTexture;for(let et=0,st=s.length;et<st;et++){let nt=s[et]?s[et].matrixWorld:e4;vC.multiplyMatrices(nt,o[et]),vC.toArray(_,et*16)}j!==null&&(j.needsUpdate=!0)}clone(){return new $a(this.bones,this.boneInverses)}computeBoneTexture(){let s=Math.sqrt(this.bones.length*4);s=YC(s),s=Math.max(s,4);let o=new Float32Array(s*s*4);o.set(this.boneMatrices);let _=new gi(o,s,s,qr,br);return _.needsUpdate=!0,this.boneMatrices=o,this.boneTexture=_,this.boneTextureSize=s,this}getBoneByName(s){for(let o=0,_=this.bones.length;o<_;o++){let j=this.bones[o];if(j.name===s)return j}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(s,o){this.uuid=s.uuid;for(let _=0,j=s.bones.length;_<j;_++){let et=s.bones[_],st=o[et];st===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",et),st=new hp),this.bones.push(st),this.boneInverses.push(new ue$2().fromArray(s.boneInverses[_]))}return this.init(),this}toJSON(){let s={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};s.uuid=this.uuid;let o=this.bones,_=this.boneInverses;for(let j=0,et=o.length;j<et;j++){let st=o[j];s.bones.push(st.uuid);let nt=_[j];s.boneInverses.push(nt.toArray())}return s}},fo=class extends Xe{constructor(s,o,_,j=1){super(s,o,_),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=j}copy(s){return super.copy(s),this.meshPerAttribute=s.meshPerAttribute,this}toJSON(){let s=super.toJSON();return s.meshPerAttribute=this.meshPerAttribute,s.isInstancedBufferAttribute=!0,s}},xC=new ue$2,bC=new ue$2,Vg=[],t4=new ue$2,Kf=new Ut,oy=class extends Ut{constructor(s,o,_){super(s,o),this.isInstancedMesh=!0,this.instanceMatrix=new fo(new Float32Array(_*16),16),this.instanceColor=null,this.count=_,this.frustumCulled=!1;for(let j=0;j<_;j++)this.setMatrixAt(j,t4)}copy(s,o){return super.copy(s,o),this.instanceMatrix.copy(s.instanceMatrix),s.instanceColor!==null&&(this.instanceColor=s.instanceColor.clone()),this.count=s.count,this}getColorAt(s,o){o.fromArray(this.instanceColor.array,s*3)}getMatrixAt(s,o){o.fromArray(this.instanceMatrix.array,s*16)}raycast(s,o){let _=this.matrixWorld,j=this.count;if(Kf.geometry=this.geometry,Kf.material=this.material,Kf.material!==void 0)for(let et=0;et<j;et++){this.getMatrixAt(et,xC),bC.multiplyMatrices(_,xC),Kf.matrixWorld=bC,Kf.raycast(s,Vg);for(let st=0,nt=Vg.length;st<nt;st++){let ct=Vg[st];ct.instanceId=et,ct.object=this,o.push(ct)}Vg.length=0}}setColorAt(s,o){this.instanceColor===null&&(this.instanceColor=new fo(new Float32Array(this.instanceMatrix.count*3),3)),o.toArray(this.instanceColor.array,s*3)}setMatrixAt(s,o){o.toArray(this.instanceMatrix.array,s*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},ss=class extends fc{constructor(s){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new We(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(s)}copy(s){return super.copy(s),this.color.copy(s.color),this.linewidth=s.linewidth,this.linecap=s.linecap,this.linejoin=s.linejoin,this.fog=s.fog,this}},SC=new E$2,wC=new E$2,AC=new ue$2,LS=new Rs,Ug=new Or$1,mc=class extends Mt{constructor(s=new _e,o=new ss){super(),this.isLine=!0,this.type="Line",this.geometry=s,this.material=o,this.updateMorphTargets()}copy(s,o){return super.copy(s,o),this.material=s.material,this.geometry=s.geometry,this}computeLineDistances(){let s=this.geometry;if(s.index===null){let o=s.attributes.position,_=[0];for(let j=1,et=o.count;j<et;j++)SC.fromBufferAttribute(o,j-1),wC.fromBufferAttribute(o,j),_[j]=_[j-1],_[j]+=SC.distanceTo(wC);s.setAttribute("lineDistance",new Me(_,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(s,o){let _=this.geometry,j=this.matrixWorld,et=s.params.Line.threshold,st=_.drawRange;if(_.boundingSphere===null&&_.computeBoundingSphere(),Ug.copy(_.boundingSphere),Ug.applyMatrix4(j),Ug.radius+=et,s.ray.intersectsSphere(Ug)===!1)return;AC.copy(j).invert(),LS.copy(s.ray).applyMatrix4(AC);let nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),ct=nt*nt,At=new E$2,mt=new E$2,gt=new E$2,_t=new E$2,Et=this.isLineSegments?2:1,Ct=_.index,Bt=_.attributes.position;if(Ct!==null){let Dt=Math.max(0,st.start),Ft=Math.min(Ct.count,st.start+st.count);for(let Rt=Dt,Nt=Ft-1;Rt<Nt;Rt+=Et){let Gt=Ct.getX(Rt),dr=Ct.getX(Rt+1);if(At.fromBufferAttribute(Bt,Gt),mt.fromBufferAttribute(Bt,dr),LS.distanceSqToSegment(At,mt,_t,gt)>ct)continue;_t.applyMatrix4(this.matrixWorld);let ts=s.ray.origin.distanceTo(_t);ts<s.near||ts>s.far||o.push({distance:ts,point:gt.clone().applyMatrix4(this.matrixWorld),index:Rt,face:null,faceIndex:null,object:this})}}else{let Dt=Math.max(0,st.start),Ft=Math.min(Bt.count,st.start+st.count);for(let Rt=Dt,Nt=Ft-1;Rt<Nt;Rt+=Et){if(At.fromBufferAttribute(Bt,Rt),mt.fromBufferAttribute(Bt,Rt+1),LS.distanceSqToSegment(At,mt,_t,gt)>ct)continue;_t.applyMatrix4(this.matrixWorld);let Gt=s.ray.origin.distanceTo(_t);Gt<s.near||Gt>s.far||o.push({distance:Gt,point:gt.clone().applyMatrix4(this.matrixWorld),index:Rt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let s=this.geometry.morphAttributes,o=Object.keys(s);if(o.length>0){let _=s[o[0]];if(_!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let j=0,et=_.length;j<et;j++){let st=_[j].name||String(j);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=j}}}}},EC=new E$2,MC=new E$2,el=class extends mc{constructor(s,o){super(s,o),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let s=this.geometry;if(s.index===null){let o=s.attributes.position,_=[];for(let j=0,et=o.count;j<et;j+=2)EC.fromBufferAttribute(o,j),MC.fromBufferAttribute(o,j+1),_[j]=j===0?0:_[j-1],_[j+1]=_[j]+EC.distanceTo(MC);s.setAttribute("lineDistance",new Me(_,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},ay=class extends $t{constructor(s,o,_,j,et,st,nt,ct,At){super(s,o,_,j,et,st,nt,ct,At),this.isVideoTexture=!0,this.minFilter=st!==void 0?st:rt,this.magFilter=et!==void 0?et:rt,this.generateMipmaps=!1;let mt=this;function gt(){mt.needsUpdate=!0,s.requestVideoFrameCallback(gt)}"requestVideoFrameCallback"in s&&s.requestVideoFrameCallback(gt)}clone(){return new this.constructor(this.image).copy(this)}update(){let s=this.image;!("requestVideoFrameCallback"in s)&&s.readyState>=s.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},ly=class extends $t{constructor(s,o,_,j,et,st,nt,ct,At){super(s,o,_,j,et,st,nt,ct,At),this.isCanvasTexture=!0,this.needsUpdate=!0}},os=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(s,o){let _=this.getUtoTmapping(s);return this.getPoint(_,o)}getPoints(s=5){let o=[];for(let _=0;_<=s;_++)o.push(this.getPoint(_/s));return o}getSpacedPoints(s=5){let o=[];for(let _=0;_<=s;_++)o.push(this.getPointAt(_/s));return o}getLength(){let s=this.getLengths();return s[s.length-1]}getLengths(s=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let o=[],_,j=this.getPoint(0),et=0;o.push(0);for(let st=1;st<=s;st++)_=this.getPoint(st/s),et+=_.distanceTo(j),o.push(et),j=_;return this.cacheArcLengths=o,o}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(s,o){let _=this.getLengths(),j=0,et=_.length,st;o?st=o:st=s*_[et-1];let nt=0,ct=et-1,At;for(;nt<=ct;)if(j=Math.floor(nt+(ct-nt)/2),At=_[j]-st,At<0)nt=j+1;else if(At>0)ct=j-1;else{ct=j;break}if(j=ct,_[j]===st)return j/(et-1);let mt=_[j],gt=_[j+1]-mt,_t=(st-mt)/gt;return(j+_t)/(et-1)}getTangent(s,o){let _=s-1e-4,j=s+1e-4;_<0&&(_=0),j>1&&(j=1);let et=this.getPoint(_),st=this.getPoint(j),nt=o||(et.isVector2?new U$1:new E$2);return nt.copy(st).sub(et).normalize(),nt}getTangentAt(s,o){let _=this.getUtoTmapping(s);return this.getTangent(_,o)}computeFrenetFrames(s,o){let _=new E$2,j=[],et=[],st=[],nt=new E$2,ct=new ue$2;for(let Et=0;Et<=s;Et++){let Ct=Et/s;j[Et]=this.getTangentAt(Ct,new E$2)}et[0]=new E$2,st[0]=new E$2;let At=Number.MAX_VALUE,mt=Math.abs(j[0].x),gt=Math.abs(j[0].y),_t=Math.abs(j[0].z);mt<=At&&(At=mt,_.set(1,0,0)),gt<=At&&(At=gt,_.set(0,1,0)),_t<=At&&_.set(0,0,1),nt.crossVectors(j[0],_).normalize(),et[0].crossVectors(j[0],nt),st[0].crossVectors(j[0],et[0]);for(let Et=1;Et<=s;Et++){if(et[Et]=et[Et-1].clone(),st[Et]=st[Et-1].clone(),nt.crossVectors(j[Et-1],j[Et]),nt.length()>Number.EPSILON){nt.normalize();let Ct=Math.acos(di(j[Et-1].dot(j[Et]),-1,1));et[Et].applyMatrix4(ct.makeRotationAxis(nt,Ct))}st[Et].crossVectors(j[Et],et[Et])}if(o===!0){let Et=Math.acos(di(et[0].dot(et[s]),-1,1));Et/=s,j[0].dot(nt.crossVectors(et[0],et[s]))>0&&(Et=-Et);for(let Ct=1;Ct<=s;Ct++)et[Ct].applyMatrix4(ct.makeRotationAxis(j[Ct],Et*Ct)),st[Ct].crossVectors(j[Ct],et[Ct])}return{tangents:j,normals:et,binormals:st}}clone(){return new this.constructor().copy(this)}copy(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}toJSON(){let s={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return s.arcLengthDivisions=this.arcLengthDivisions,s.type=this.type,s}fromJSON(s){return this.arcLengthDivisions=s.arcLengthDivisions,this}},gc=class extends os{constructor(s=0,o=0,_=1,j=1,et=0,st=Math.PI*2,nt=!1,ct=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=s,this.aY=o,this.xRadius=_,this.yRadius=j,this.aStartAngle=et,this.aEndAngle=st,this.aClockwise=nt,this.aRotation=ct}getPoint(s,o){let _=o||new U$1,j=Math.PI*2,et=this.aEndAngle-this.aStartAngle,st=Math.abs(et)<Number.EPSILON;for(;et<0;)et+=j;for(;et>j;)et-=j;et<Number.EPSILON&&(st?et=0:et=j),this.aClockwise===!0&&!st&&(et===j?et=-j:et=et-j);let nt=this.aStartAngle+s*et,ct=this.aX+this.xRadius*Math.cos(nt),At=this.aY+this.yRadius*Math.sin(nt);if(this.aRotation!==0){let mt=Math.cos(this.aRotation),gt=Math.sin(this.aRotation),_t=ct-this.aX,Et=At-this.aY;ct=_t*mt-Et*gt+this.aX,At=_t*gt+Et*mt+this.aY}return _.set(ct,At)}copy(s){return super.copy(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}toJSON(){let s=super.toJSON();return s.aX=this.aX,s.aY=this.aY,s.xRadius=this.xRadius,s.yRadius=this.yRadius,s.aStartAngle=this.aStartAngle,s.aEndAngle=this.aEndAngle,s.aClockwise=this.aClockwise,s.aRotation=this.aRotation,s}fromJSON(s){return super.fromJSON(s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this}},sw=class extends gc{constructor(s,o,_,j,et,st){super(s,o,_,_,j,et,st),this.isArcCurve=!0,this.type="ArcCurve"}};function Dw(){let s=0,o=0,_=0,j=0;function et(st,nt,ct,At){s=st,o=ct,_=-3*st+3*nt-2*ct-At,j=2*st-2*nt+ct+At}return{initCatmullRom:function(st,nt,ct,At,mt){et(nt,ct,mt*(ct-st),mt*(At-nt))},initNonuniformCatmullRom:function(st,nt,ct,At,mt,gt,_t){let Et=(nt-st)/mt-(ct-st)/(mt+gt)+(ct-nt)/gt,Ct=(ct-nt)/gt-(At-nt)/(gt+_t)+(At-ct)/_t;Et*=gt,Ct*=gt,et(nt,ct,Et,Ct)},calc:function(st){let nt=st*st,ct=nt*st;return s+o*st+_*nt+j*ct}}}var zg=new E$2,BS=new Dw,NS$1=new Dw,FS=new Dw,ow=class extends os{constructor(s=[],o=!1,_="centripetal",j=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=s,this.closed=o,this.curveType=_,this.tension=j}getPoint(s,o=new E$2){let _=o,j=this.points,et=j.length,st=(et-(this.closed?0:1))*s,nt=Math.floor(st),ct=st-nt;this.closed?nt+=nt>0?0:(Math.floor(Math.abs(nt)/et)+1)*et:ct===0&&nt===et-1&&(nt=et-2,ct=1);let At,mt;this.closed||nt>0?At=j[(nt-1)%et]:(zg.subVectors(j[0],j[1]).add(j[0]),At=zg);let gt=j[nt%et],_t=j[(nt+1)%et];if(this.closed||nt+2<et?mt=j[(nt+2)%et]:(zg.subVectors(j[et-1],j[et-2]).add(j[et-1]),mt=zg),this.curveType==="centripetal"||this.curveType==="chordal"){let Et=this.curveType==="chordal"?.5:.25,Ct=Math.pow(At.distanceToSquared(gt),Et),Bt=Math.pow(gt.distanceToSquared(_t),Et),Dt=Math.pow(_t.distanceToSquared(mt),Et);Bt<1e-4&&(Bt=1),Ct<1e-4&&(Ct=Bt),Dt<1e-4&&(Dt=Bt),BS.initNonuniformCatmullRom(At.x,gt.x,_t.x,mt.x,Ct,Bt,Dt),NS$1.initNonuniformCatmullRom(At.y,gt.y,_t.y,mt.y,Ct,Bt,Dt),FS.initNonuniformCatmullRom(At.z,gt.z,_t.z,mt.z,Ct,Bt,Dt)}else this.curveType==="catmullrom"&&(BS.initCatmullRom(At.x,gt.x,_t.x,mt.x,this.tension),NS$1.initCatmullRom(At.y,gt.y,_t.y,mt.y,this.tension),FS.initCatmullRom(At.z,gt.z,_t.z,mt.z,this.tension));return _.set(BS.calc(ct),NS$1.calc(ct),FS.calc(ct)),_}copy(s){super.copy(s),this.points=[];for(let o=0,_=s.points.length;o<_;o++){let j=s.points[o];this.points.push(j.clone())}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}toJSON(){let s=super.toJSON();s.points=[];for(let o=0,_=this.points.length;o<_;o++){let j=this.points[o];s.points.push(j.toArray())}return s.closed=this.closed,s.curveType=this.curveType,s.tension=this.tension,s}fromJSON(s){super.fromJSON(s),this.points=[];for(let o=0,_=s.points.length;o<_;o++){let j=s.points[o];this.points.push(new E$2().fromArray(j))}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this}};function TC(s,o,_,j,et){let st=(j-o)*.5,nt=(et-_)*.5,ct=s*s,At=s*ct;return(2*_-2*j+st+nt)*At+(-3*_+3*j-2*st-nt)*ct+st*s+_}function r4(s,o){let _=1-s;return _*_*o}function i4(s,o){return 2*(1-s)*s*o}function n4(s,o){return s*s*o}function ip$7(s,o,_,j){return r4(s,o)+i4(s,_)+n4(s,j)}function s4(s,o){let _=1-s;return _*_*_*o}function o4(s,o){let _=1-s;return 3*_*_*s*o}function a4(s,o){return 3*(1-s)*s*s*o}function l4(s,o){return s*s*s*o}function np(s,o,_,j,et){return s4(s,o)+o4(s,_)+a4(s,j)+l4(s,et)}var an=class extends os{constructor(s=new U$1,o=new U$1,_=new U$1,j=new U$1){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=s,this.v1=o,this.v2=_,this.v3=j}getPoint(s,o=new U$1){let _=o,j=this.v0,et=this.v1,st=this.v2,nt=this.v3;return _.set(np(s,j.x,et.x,st.x,nt.x),np(s,j.y,et.y,st.y,nt.y)),_}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){let s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}},yc=class extends os{constructor(s=new E$2,o=new E$2,_=new E$2,j=new E$2){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=s,this.v1=o,this.v2=_,this.v3=j}getPoint(s,o=new E$2){let _=o,j=this.v0,et=this.v1,st=this.v2,nt=this.v3;return _.set(np(s,j.x,et.x,st.x,nt.x),np(s,j.y,et.y,st.y,nt.y),np(s,j.z,et.z,st.z,nt.z)),_}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this}toJSON(){let s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this}},ln=class extends os{constructor(s=new U$1,o=new U$1){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=s,this.v2=o}getPoint(s,o=new U$1){let _=o;return s===1?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(s).add(this.v1)),_}getPointAt(s,o){return this.getPoint(s,o)}getTangent(s,o){let _=o||new U$1;return _.copy(this.v2).sub(this.v1).normalize(),_}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){let s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}},dp=class extends os{constructor(s=new E$2,o=new E$2){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=s,this.v2=o}getPoint(s,o=new E$2){let _=o;return s===1?_.copy(this.v2):(_.copy(this.v2).sub(this.v1),_.multiplyScalar(s).add(this.v1)),_}getPointAt(s,o){return this.getPoint(s,o)}copy(s){return super.copy(s),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){let s=super.toJSON();return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}},Yn=class extends os{constructor(s=new U$1,o=new U$1,_=new U$1){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=s,this.v1=o,this.v2=_}getPoint(s,o=new U$1){let _=o,j=this.v0,et=this.v1,st=this.v2;return _.set(ip$7(s,j.x,et.x,st.x),ip$7(s,j.y,et.y,st.y)),_}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){let s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}},aw=class extends os{constructor(s=new E$2,o=new E$2,_=new E$2){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=s,this.v1=o,this.v2=_}getPoint(s,o=new E$2){let _=o,j=this.v0,et=this.v1,st=this.v2;return _.set(ip$7(s,j.x,et.x,st.x),ip$7(s,j.y,et.y,st.y),ip$7(s,j.z,et.z,st.z)),_}copy(s){return super.copy(s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this}toJSON(){let s=super.toJSON();return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s}fromJSON(s){return super.fromJSON(s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this}},Bu=class extends os{constructor(s=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=s}getPoint(s,o=new U$1){let _=o,j=this.points,et=(j.length-1)*s,st=Math.floor(et),nt=et-st,ct=j[st===0?st:st-1],At=j[st],mt=j[st>j.length-2?j.length-1:st+1],gt=j[st>j.length-3?j.length-1:st+2];return _.set(TC(nt,ct.x,At.x,mt.x,gt.x),TC(nt,ct.y,At.y,mt.y,gt.y)),_}copy(s){super.copy(s),this.points=[];for(let o=0,_=s.points.length;o<_;o++){let j=s.points[o];this.points.push(j.clone())}return this}toJSON(){let s=super.toJSON();s.points=[];for(let o=0,_=this.points.length;o<_;o++){let j=this.points[o];s.points.push(j.toArray())}return s}fromJSON(s){super.fromJSON(s),this.points=[];for(let o=0,_=s.points.length;o<_;o++){let j=s.points[o];this.points.push(new U$1().fromArray(j))}return this}},c4=Object.freeze({__proto__:null,ArcCurve:sw,CatmullRomCurve3:ow,CubicBezierCurve:an,CubicBezierCurve3:yc,EllipseCurve:gc,LineCurve:ln,LineCurve3:dp,QuadraticBezierCurve:Yn,QuadraticBezierCurve3:aw,SplineCurve:Bu}),fp=class extends os{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(s){this.curves.push(s)}closePath(){let s=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);s.equals(o)||this.curves.push(new ln(o,s))}getPoint(s,o){let _=s*this.getLength(),j=this.getCurveLengths(),et=0;for(;et<j.length;){if(j[et]>=_){let st=j[et]-_,nt=this.curves[et],ct=nt.getLength(),At=ct===0?0:1-st/ct;return nt.getPointAt(At,o)}et++}return null}getLength(){let s=this.getCurveLengths();return s[s.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let s=[],o=0;for(let _=0,j=this.curves.length;_<j;_++)o+=this.curves[_].getLength(),s.push(o);return this.cacheLengths=s,s}getSpacedPoints(s=40){let o=[];for(let _=0;_<=s;_++)o.push(this.getPoint(_/s));return this.autoClose&&o.push(o[0]),o}getPoints(s=12){let o=[],_;for(let j=0,et=this.curves;j<et.length;j++){let st=et[j],nt=st.isEllipseCurve?s*2:st.isLineCurve||st.isLineCurve3?1:st.isSplineCurve?s*st.points.length:s,ct=st.getPoints(nt);for(let At=0;At<ct.length;At++){let mt=ct[At];_&&_.equals(mt)||(o.push(mt),_=mt)}}return this.autoClose&&o.length>1&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o}copy(s){super.copy(s),this.curves=[];for(let o=0,_=s.curves.length;o<_;o++){let j=s.curves[o];this.curves.push(j.clone())}return this.autoClose=s.autoClose,this}toJSON(){let s=super.toJSON();s.autoClose=this.autoClose,s.curves=[];for(let o=0,_=this.curves.length;o<_;o++){let j=this.curves[o];s.curves.push(j.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.autoClose=s.autoClose,this.curves=[];for(let o=0,_=s.curves.length;o<_;o++){let j=s.curves[o];this.curves.push(new c4[j.type]().fromJSON(j))}return this}},vc=class extends fp{constructor(s){super(),this.type="Path",this.currentPoint=new U$1,s&&this.setFromPoints(s)}setFromPoints(s){this.moveTo(s[0].x,s[0].y);for(let o=1,_=s.length;o<_;o++)this.lineTo(s[o].x,s[o].y);return this}moveTo(s,o){return this.currentPoint.set(s,o),this}lineTo(s,o){let _=new ln(this.currentPoint.clone(),new U$1(s,o));return this.curves.push(_),this.currentPoint.set(s,o),this}quadraticCurveTo(s,o,_,j){let et=new Yn(this.currentPoint.clone(),new U$1(s,o),new U$1(_,j));return this.curves.push(et),this.currentPoint.set(_,j),this}bezierCurveTo(s,o,_,j,et,st){let nt=new an(this.currentPoint.clone(),new U$1(s,o),new U$1(_,j),new U$1(et,st));return this.curves.push(nt),this.currentPoint.set(et,st),this}splineThru(s){let o=[this.currentPoint.clone()].concat(s),_=new Bu(o);return this.curves.push(_),this.currentPoint.copy(s[s.length-1]),this}arc(s,o,_,j,et,st){let nt=this.currentPoint.x,ct=this.currentPoint.y;return this.absarc(s+nt,o+ct,_,j,et,st),this}absarc(s,o,_,j,et,st){return this.absellipse(s,o,_,_,j,et,st),this}ellipse(s,o,_,j,et,st,nt,ct){let At=this.currentPoint.x,mt=this.currentPoint.y;return this.absellipse(s+At,o+mt,_,j,et,st,nt,ct),this}absellipse(s,o,_,j,et,st,nt,ct){let At=new gc(s,o,_,j,et,st,nt,ct);if(this.curves.length>0){let gt=At.getPoint(0);gt.equals(this.currentPoint)||this.lineTo(gt.x,gt.y)}this.curves.push(At);let mt=At.getPoint(1);return this.currentPoint.copy(mt),this}copy(s){return super.copy(s),this.currentPoint.copy(s.currentPoint),this}toJSON(){let s=super.toJSON();return s.currentPoint=this.currentPoint.toArray(),s}fromJSON(s){return super.fromJSON(s),this.currentPoint.fromArray(s.currentPoint),this}},Nu=class extends _e{constructor(s=[new U$1(0,-.5),new U$1(.5,0),new U$1(0,.5)],o=12,_=0,j=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:s,segments:o,phiStart:_,phiLength:j},o=Math.floor(o),j=di(j,0,Math.PI*2);let et=[],st=[],nt=[],ct=[],At=[],mt=1/o,gt=new E$2,_t=new U$1,Et=new E$2,Ct=new E$2,Bt=new E$2,Dt=0,Ft=0;for(let Rt=0;Rt<=s.length-1;Rt++)switch(Rt){case 0:Dt=s[Rt+1].x-s[Rt].x,Ft=s[Rt+1].y-s[Rt].y,Et.x=Ft*1,Et.y=-Dt,Et.z=Ft*0,Bt.copy(Et),Et.normalize(),ct.push(Et.x,Et.y,Et.z);break;case s.length-1:ct.push(Bt.x,Bt.y,Bt.z);break;default:Dt=s[Rt+1].x-s[Rt].x,Ft=s[Rt+1].y-s[Rt].y,Et.x=Ft*1,Et.y=-Dt,Et.z=Ft*0,Ct.copy(Et),Et.x+=Bt.x,Et.y+=Bt.y,Et.z+=Bt.z,Et.normalize(),ct.push(Et.x,Et.y,Et.z),Bt.copy(Ct)}for(let Rt=0;Rt<=o;Rt++){let Nt=_+Rt*mt*j,Gt=Math.sin(Nt),dr=Math.cos(Nt);for(let ts=0;ts<=s.length-1;ts++){gt.x=s[ts].x*Gt,gt.y=s[ts].y,gt.z=s[ts].x*dr,st.push(gt.x,gt.y,gt.z),_t.x=Rt/o,_t.y=ts/(s.length-1),nt.push(_t.x,_t.y);let es=ct[3*ts+0]*Gt,ds=ct[3*ts+1],tn=ct[3*ts+0]*dr;At.push(es,ds,tn)}}for(let Rt=0;Rt<o;Rt++)for(let Nt=0;Nt<s.length-1;Nt++){let Gt=Nt+Rt*s.length,dr=Gt,ts=Gt+s.length,es=Gt+s.length+1,ds=Gt+1;et.push(dr,ts,ds),et.push(es,ds,ts)}this.setIndex(et),this.setAttribute("position",new Me(st,3)),this.setAttribute("uv",new Me(nt,2)),this.setAttribute("normal",new Me(At,3))}static fromJSON(s){return new Nu(s.points,s.segments,s.phiStart,s.phiLength)}},xc=class extends _e{constructor(s=1,o=1,_=1,j=32,et=1,st=!1,nt=0,ct=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:s,radiusBottom:o,height:_,radialSegments:j,heightSegments:et,openEnded:st,thetaStart:nt,thetaLength:ct};let At=this;j=Math.floor(j),et=Math.floor(et);let mt=[],gt=[],_t=[],Et=[],Ct=0,Bt=[],Dt=_/2,Ft=0;Rt(),st===!1&&(s>0&&Nt(!0),o>0&&Nt(!1)),this.setIndex(mt),this.setAttribute("position",new Me(gt,3)),this.setAttribute("normal",new Me(_t,3)),this.setAttribute("uv",new Me(Et,2));function Rt(){let Gt=new E$2,dr=new E$2,ts=0,es=(o-s)/_;for(let ds=0;ds<=et;ds++){let tn=[],rn=ds/et,un=rn*(o-s)+s;for(let $n=0;$n<=j;$n++){let kn=$n/j,lo=kn*ct+nt,Il=Math.sin(lo),cu=Math.cos(lo);dr.x=un*Il,dr.y=-rn*_+Dt,dr.z=un*cu,gt.push(dr.x,dr.y,dr.z),Gt.set(Il,es,cu).normalize(),_t.push(Gt.x,Gt.y,Gt.z),Et.push(kn,1-rn),tn.push(Ct++)}Bt.push(tn)}for(let ds=0;ds<j;ds++)for(let tn=0;tn<et;tn++){let rn=Bt[tn][ds],un=Bt[tn+1][ds],$n=Bt[tn+1][ds+1],kn=Bt[tn][ds+1];mt.push(rn,un,kn),mt.push(un,$n,kn),ts+=6}At.addGroup(Ft,ts,0),Ft+=ts}function Nt(Gt){let dr=Ct,ts=new U$1,es=new E$2,ds=0,tn=Gt===!0?s:o,rn=Gt===!0?1:-1;for(let $n=1;$n<=j;$n++)gt.push(0,Dt*rn,0),_t.push(0,rn,0),Et.push(.5,.5),Ct++;let un=Ct;for(let $n=0;$n<=j;$n++){let kn=$n/j*ct+nt,lo=Math.cos(kn),Il=Math.sin(kn);es.x=tn*Il,es.y=Dt*rn,es.z=tn*lo,gt.push(es.x,es.y,es.z),_t.push(0,rn,0),ts.x=lo*.5+.5,ts.y=Il*.5*rn+.5,Et.push(ts.x,ts.y),Ct++}for(let $n=0;$n<j;$n++){let kn=dr+$n,lo=un+$n;Gt===!0?mt.push(lo,lo+1,kn):mt.push(lo+1,lo,kn),ds+=3}At.addGroup(Ft,ds,Gt===!0?1:2),Ft+=ds}}static fromJSON(s){return new xc(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}},tl=class extends xc{constructor(s=1,o=1,_=32,j=1,et=!1,st=0,nt=Math.PI*2){super(0,s,o,_,j,et,st,nt),this.type="ConeGeometry",this.parameters={radius:s,height:o,radialSegments:_,heightSegments:j,openEnded:et,thetaStart:st,thetaLength:nt}}static fromJSON(s){return new tl(s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength)}},Fu=class extends _e{constructor(s=[],o=[],_=1,j=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:s,indices:o,radius:_,detail:j};let et=[],st=[];nt(j),At(_),mt(),this.setAttribute("position",new Me(et,3)),this.setAttribute("normal",new Me(et.slice(),3)),this.setAttribute("uv",new Me(st,2)),j===0?this.computeVertexNormals():this.normalizeNormals();function nt(Rt){let Nt=new E$2,Gt=new E$2,dr=new E$2;for(let ts=0;ts<o.length;ts+=3)Et(o[ts+0],Nt),Et(o[ts+1],Gt),Et(o[ts+2],dr),ct(Nt,Gt,dr,Rt)}function ct(Rt,Nt,Gt,dr){let ts=dr+1,es=[];for(let ds=0;ds<=ts;ds++){es[ds]=[];let tn=Rt.clone().lerp(Gt,ds/ts),rn=Nt.clone().lerp(Gt,ds/ts),un=ts-ds;for(let $n=0;$n<=un;$n++)$n===0&&ds===ts?es[ds][$n]=tn:es[ds][$n]=tn.clone().lerp(rn,$n/un)}for(let ds=0;ds<ts;ds++)for(let tn=0;tn<2*(ts-ds)-1;tn++){let rn=Math.floor(tn/2);tn%2===0?(_t(es[ds][rn+1]),_t(es[ds+1][rn]),_t(es[ds][rn])):(_t(es[ds][rn+1]),_t(es[ds+1][rn+1]),_t(es[ds+1][rn]))}}function At(Rt){let Nt=new E$2;for(let Gt=0;Gt<et.length;Gt+=3)Nt.x=et[Gt+0],Nt.y=et[Gt+1],Nt.z=et[Gt+2],Nt.normalize().multiplyScalar(Rt),et[Gt+0]=Nt.x,et[Gt+1]=Nt.y,et[Gt+2]=Nt.z}function mt(){let Rt=new E$2;for(let Nt=0;Nt<et.length;Nt+=3){Rt.x=et[Nt+0],Rt.y=et[Nt+1],Rt.z=et[Nt+2];let Gt=Dt(Rt)/2/Math.PI+.5,dr=Ft(Rt)/Math.PI+.5;st.push(Gt,1-dr)}Ct(),gt()}function gt(){for(let Rt=0;Rt<st.length;Rt+=6){let Nt=st[Rt+0],Gt=st[Rt+2],dr=st[Rt+4],ts=Math.max(Nt,Gt,dr),es=Math.min(Nt,Gt,dr);ts>.9&&es<.1&&(Nt<.2&&(st[Rt+0]+=1),Gt<.2&&(st[Rt+2]+=1),dr<.2&&(st[Rt+4]+=1))}}function _t(Rt){et.push(Rt.x,Rt.y,Rt.z)}function Et(Rt,Nt){let Gt=Rt*3;Nt.x=s[Gt+0],Nt.y=s[Gt+1],Nt.z=s[Gt+2]}function Ct(){let Rt=new E$2,Nt=new E$2,Gt=new E$2,dr=new E$2,ts=new U$1,es=new U$1,ds=new U$1;for(let tn=0,rn=0;tn<et.length;tn+=9,rn+=6){Rt.set(et[tn+0],et[tn+1],et[tn+2]),Nt.set(et[tn+3],et[tn+4],et[tn+5]),Gt.set(et[tn+6],et[tn+7],et[tn+8]),ts.set(st[rn+0],st[rn+1]),es.set(st[rn+2],st[rn+3]),ds.set(st[rn+4],st[rn+5]),dr.copy(Rt).add(Nt).add(Gt).divideScalar(3);let un=Dt(dr);Bt(ts,rn+0,Rt,un),Bt(es,rn+2,Nt,un),Bt(ds,rn+4,Gt,un)}}function Bt(Rt,Nt,Gt,dr){dr<0&&Rt.x===1&&(st[Nt]=Rt.x-1),Gt.x===0&&Gt.z===0&&(st[Nt]=dr/2/Math.PI+.5)}function Dt(Rt){return Math.atan2(Rt.z,-Rt.x)}function Ft(Rt){return Math.atan2(-Rt.y,Math.sqrt(Rt.x*Rt.x+Rt.z*Rt.z))}}static fromJSON(s){return new Fu(s.vertices,s.indices,s.radius,s.details)}},Vu=class extends Fu{constructor(s=1,o=0){let _=(1+Math.sqrt(5))/2,j=1/_,et=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-j,-_,0,-j,_,0,j,-_,0,j,_,-j,-_,0,-j,_,0,j,-_,0,j,_,0,-_,0,-j,_,0,-j,-_,0,j,_,0,j],st=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(et,st,s,o),this.type="DodecahedronGeometry",this.parameters={radius:s,detail:o}}static fromJSON(s){return new Vu(s.radius,s.detail)}},aa=class extends vc{constructor(s){super(s),this.uuid=is$1(),this.type="Shape",this.holes=[]}getPointsHoles(s){let o=[];for(let _=0,j=this.holes.length;_<j;_++)o[_]=this.holes[_].getPoints(s);return o}extractPoints(s){return{shape:this.getPoints(s),holes:this.getPointsHoles(s)}}copy(s){super.copy(s),this.holes=[];for(let o=0,_=s.holes.length;o<_;o++){let j=s.holes[o];this.holes.push(j.clone())}return this}toJSON(){let s=super.toJSON();s.uuid=this.uuid,s.holes=[];for(let o=0,_=this.holes.length;o<_;o++){let j=this.holes[o];s.holes.push(j.toJSON())}return s}fromJSON(s){super.fromJSON(s),this.uuid=s.uuid,this.holes=[];for(let o=0,_=s.holes.length;o<_;o++){let j=s.holes[o];this.holes.push(new vc().fromJSON(j))}return this}},u4={triangulate:function(s,o,_=2){let j=o&&o.length,et=j?o[0]*_:s.length,st=rP(s,0,et,_,!0),nt=[];if(!st||st.next===st.prev)return nt;let ct,At,mt,gt,_t,Et,Ct;if(j&&(st=m4(s,o,st,_)),s.length>80*_){ct=mt=s[0],At=gt=s[1];for(let Bt=_;Bt<et;Bt+=_)_t=s[Bt],Et=s[Bt+1],_t<ct&&(ct=_t),Et<At&&(At=Et),_t>mt&&(mt=_t),Et>gt&&(gt=Et);Ct=Math.max(mt-ct,gt-At),Ct=Ct!==0?32767/Ct:0}return pp(st,nt,_,ct,At,Ct,0),nt}};function rP(s,o,_,j,et){let st,nt;if(et===T4(s,o,_,j)>0)for(st=o;st<_;st+=j)nt=CC(st,s[st],s[st+1],nt);else for(st=_-j;st>=o;st-=j)nt=CC(st,s[st],s[st+1],nt);return nt&&My(nt,nt.next)&&(gp(nt),nt=nt.next),nt}function bc(s,o){if(!s)return s;o||(o=s);let _=s,j;do if(j=!1,!_.steiner&&(My(_,_.next)||Ur$1(_.prev,_,_.next)===0)){if(gp(_),_=o=_.prev,_===_.next)break;j=!0}else _=_.next;while(j||_!==o);return o}function pp(s,o,_,j,et,st,nt){if(!s)return;!nt&&st&&b4(s,j,et,st);let ct=s,At,mt;for(;s.prev!==s.next;){if(At=s.prev,mt=s.next,st?d4(s,j,et,st):h4(s)){o.push(At.i/_|0),o.push(s.i/_|0),o.push(mt.i/_|0),gp(s),s=mt.next,ct=mt.next;continue}if(s=mt,s===ct){nt?nt===1?(s=f4(bc(s),o,_),pp(s,o,_,j,et,st,2)):nt===2&&p4(s,o,_,j,et,st):pp(bc(s),o,_,j,et,st,1);break}}}function h4(s){let o=s.prev,_=s,j=s.next;if(Ur$1(o,_,j)>=0)return!1;let et=o.x,st=_.x,nt=j.x,ct=o.y,At=_.y,mt=j.y,gt=et<st?et<nt?et:nt:st<nt?st:nt,_t=ct<At?ct<mt?ct:mt:At<mt?At:mt,Et=et>st?et>nt?et:nt:st>nt?st:nt,Ct=ct>At?ct>mt?ct:mt:At>mt?At:mt,Bt=j.next;for(;Bt!==o;){if(Bt.x>=gt&&Bt.x<=Et&&Bt.y>=_t&&Bt.y<=Ct&&Du(et,ct,st,At,nt,mt,Bt.x,Bt.y)&&Ur$1(Bt.prev,Bt,Bt.next)>=0)return!1;Bt=Bt.next}return!0}function d4(s,o,_,j){let et=s.prev,st=s,nt=s.next;if(Ur$1(et,st,nt)>=0)return!1;let ct=et.x,At=st.x,mt=nt.x,gt=et.y,_t=st.y,Et=nt.y,Ct=ct<At?ct<mt?ct:mt:At<mt?At:mt,Bt=gt<_t?gt<Et?gt:Et:_t<Et?_t:Et,Dt=ct>At?ct>mt?ct:mt:At>mt?At:mt,Ft=gt>_t?gt>Et?gt:Et:_t>Et?_t:Et,Rt=lw(Ct,Bt,o,_,j),Nt=lw(Dt,Ft,o,_,j),Gt=s.prevZ,dr=s.nextZ;for(;Gt&&Gt.z>=Rt&&dr&&dr.z<=Nt;){if(Gt.x>=Ct&&Gt.x<=Dt&&Gt.y>=Bt&&Gt.y<=Ft&&Gt!==et&&Gt!==nt&&Du(ct,gt,At,_t,mt,Et,Gt.x,Gt.y)&&Ur$1(Gt.prev,Gt,Gt.next)>=0||(Gt=Gt.prevZ,dr.x>=Ct&&dr.x<=Dt&&dr.y>=Bt&&dr.y<=Ft&&dr!==et&&dr!==nt&&Du(ct,gt,At,_t,mt,Et,dr.x,dr.y)&&Ur$1(dr.prev,dr,dr.next)>=0))return!1;dr=dr.nextZ}for(;Gt&&Gt.z>=Rt;){if(Gt.x>=Ct&&Gt.x<=Dt&&Gt.y>=Bt&&Gt.y<=Ft&&Gt!==et&&Gt!==nt&&Du(ct,gt,At,_t,mt,Et,Gt.x,Gt.y)&&Ur$1(Gt.prev,Gt,Gt.next)>=0)return!1;Gt=Gt.prevZ}for(;dr&&dr.z<=Nt;){if(dr.x>=Ct&&dr.x<=Dt&&dr.y>=Bt&&dr.y<=Ft&&dr!==et&&dr!==nt&&Du(ct,gt,At,_t,mt,Et,dr.x,dr.y)&&Ur$1(dr.prev,dr,dr.next)>=0)return!1;dr=dr.nextZ}return!0}function f4(s,o,_){let j=s;do{let et=j.prev,st=j.next.next;!My(et,st)&&iP(et,j,j.next,st)&&mp(et,st)&&mp(st,et)&&(o.push(et.i/_|0),o.push(j.i/_|0),o.push(st.i/_|0),gp(j),gp(j.next),j=s=st),j=j.next}while(j!==s);return bc(j)}function p4(s,o,_,j,et,st){let nt=s;do{let ct=nt.next.next;for(;ct!==nt.prev;){if(nt.i!==ct.i&&A4(nt,ct)){let At=nP(nt,ct);nt=bc(nt,nt.next),At=bc(At,At.next),pp(nt,o,_,j,et,st,0),pp(At,o,_,j,et,st,0);return}ct=ct.next}nt=nt.next}while(nt!==s)}function m4(s,o,_,j){let et=[],st,nt,ct,At,mt;for(st=0,nt=o.length;st<nt;st++)ct=o[st]*j,At=st<nt-1?o[st+1]*j:s.length,mt=rP(s,ct,At,j,!1),mt===mt.next&&(mt.steiner=!0),et.push(w4(mt));for(et.sort(g4),st=0;st<et.length;st++)_=y4(et[st],_);return _}function g4(s,o){return s.x-o.x}function y4(s,o){let _=v4(s,o);if(!_)return o;let j=nP(_,s);return bc(j,j.next),bc(_,_.next)}function v4(s,o){let _=o,j=-1/0,et,st=s.x,nt=s.y;do{if(nt<=_.y&&nt>=_.next.y&&_.next.y!==_.y){let Et=_.x+(nt-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(Et<=st&&Et>j&&(j=Et,et=_.x<_.next.x?_:_.next,Et===st))return et}_=_.next}while(_!==o);if(!et)return null;let ct=et,At=et.x,mt=et.y,gt=1/0,_t;_=et;do st>=_.x&&_.x>=At&&st!==_.x&&Du(nt<mt?st:j,nt,At,mt,nt<mt?j:st,nt,_.x,_.y)&&(_t=Math.abs(nt-_.y)/(st-_.x),mp(_,s)&&(_t<gt||_t===gt&&(_.x>et.x||_.x===et.x&&x4(et,_)))&&(et=_,gt=_t)),_=_.next;while(_!==ct);return et}function x4(s,o){return Ur$1(s.prev,s,o.prev)<0&&Ur$1(o.next,s,s.next)<0}function b4(s,o,_,j){let et=s;do et.z===0&&(et.z=lw(et.x,et.y,o,_,j)),et.prevZ=et.prev,et.nextZ=et.next,et=et.next;while(et!==s);et.prevZ.nextZ=null,et.prevZ=null,S4(et)}function S4(s){let o,_,j,et,st,nt,ct,At,mt=1;do{for(_=s,s=null,st=null,nt=0;_;){for(nt++,j=_,ct=0,o=0;o<mt&&(ct++,j=j.nextZ,!!j);o++);for(At=mt;ct>0||At>0&&j;)ct!==0&&(At===0||!j||_.z<=j.z)?(et=_,_=_.nextZ,ct--):(et=j,j=j.nextZ,At--),st?st.nextZ=et:s=et,et.prevZ=st,st=et;_=j}st.nextZ=null,mt*=2}while(nt>1);return s}function lw(s,o,_,j,et){return s=(s-_)*et|0,o=(o-j)*et|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,s|o<<1}function w4(s){let o=s,_=s;do(o.x<_.x||o.x===_.x&&o.y<_.y)&&(_=o),o=o.next;while(o!==s);return _}function Du(s,o,_,j,et,st,nt,ct){return(et-nt)*(o-ct)>=(s-nt)*(st-ct)&&(s-nt)*(j-ct)>=(_-nt)*(o-ct)&&(_-nt)*(st-ct)>=(et-nt)*(j-ct)}function A4(s,o){return s.next.i!==o.i&&s.prev.i!==o.i&&!E4(s,o)&&(mp(s,o)&&mp(o,s)&&M4(s,o)&&(Ur$1(s.prev,s,o.prev)||Ur$1(s,o.prev,o))||My(s,o)&&Ur$1(s.prev,s,s.next)>0&&Ur$1(o.prev,o,o.next)>0)}function Ur$1(s,o,_){return(o.y-s.y)*(_.x-o.x)-(o.x-s.x)*(_.y-o.y)}function My(s,o){return s.x===o.x&&s.y===o.y}function iP(s,o,_,j){let et=Gg(Ur$1(s,o,_)),st=Gg(Ur$1(s,o,j)),nt=Gg(Ur$1(_,j,s)),ct=Gg(Ur$1(_,j,o));return!!(et!==st&&nt!==ct||et===0&&kg(s,_,o)||st===0&&kg(s,j,o)||nt===0&&kg(_,s,j)||ct===0&&kg(_,o,j))}function kg(s,o,_){return o.x<=Math.max(s.x,_.x)&&o.x>=Math.min(s.x,_.x)&&o.y<=Math.max(s.y,_.y)&&o.y>=Math.min(s.y,_.y)}function Gg(s){return s>0?1:s<0?-1:0}function E4(s,o){let _=s;do{if(_.i!==s.i&&_.next.i!==s.i&&_.i!==o.i&&_.next.i!==o.i&&iP(_,_.next,s,o))return!0;_=_.next}while(_!==s);return!1}function mp(s,o){return Ur$1(s.prev,s,s.next)<0?Ur$1(s,o,s.next)>=0&&Ur$1(s,s.prev,o)>=0:Ur$1(s,o,s.prev)<0||Ur$1(s,s.next,o)<0}function M4(s,o){let _=s,j=!1,et=(s.x+o.x)/2,st=(s.y+o.y)/2;do _.y>st!=_.next.y>st&&_.next.y!==_.y&&et<(_.next.x-_.x)*(st-_.y)/(_.next.y-_.y)+_.x&&(j=!j),_=_.next;while(_!==s);return j}function nP(s,o){let _=new cw(s.i,s.x,s.y),j=new cw(o.i,o.x,o.y),et=s.next,st=o.prev;return s.next=o,o.prev=s,_.next=et,et.prev=_,j.next=_,_.prev=j,st.next=j,j.prev=st,j}function CC(s,o,_,j){let et=new cw(s,o,_);return j?(et.next=j.next,et.prev=j,j.next.prev=et,j.next=et):(et.prev=et,et.next=et),et}function gp(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function cw(s,o,_){this.i=s,this.x=o,this.y=_,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T4(s,o,_,j){let et=0;for(let st=o,nt=_-j;st<_;st+=j)et+=(s[nt]-s[st])*(s[st+1]+s[nt+1]),nt=st;return et}var Uu=class{static area(s){let o=s.length,_=0;for(let j=o-1,et=0;et<o;j=et++)_+=s[j].x*s[et].y-s[et].x*s[j].y;return _*.5}static isClockWise(s){return Uu.area(s)<0}static triangulateShape(s,o){let _=[],j=[],et=[];PC(s),_C(_,s);let st=s.length;o.forEach(PC);for(let ct=0;ct<o.length;ct++)j.push(st),st+=o[ct].length,_C(_,o[ct]);let nt=u4.triangulate(_,j);for(let ct=0;ct<nt.length;ct+=3)et.push(nt.slice(ct,ct+3));return et}};function PC(s){let o=s.length;o>2&&s[o-1].equals(s[0])&&s.pop()}function _C(s,o){for(let _=0;_<o.length;_++)s.push(o[_].x),s.push(o[_].y)}var zu=class extends Fu{constructor(s=1,o=0){let _=(1+Math.sqrt(5))/2,j=[-1,_,0,1,_,0,-1,-_,0,1,-_,0,0,-1,_,0,1,_,0,-1,-_,0,1,-_,_,0,-1,_,0,1,-_,0,-1,-_,0,1],et=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(j,et,s,o),this.type="IcosahedronGeometry",this.parameters={radius:s,detail:o}}static fromJSON(s){return new zu(s.radius,s.detail)}},Ls=class extends _e{constructor(s=1,o=32,_=16,j=0,et=Math.PI*2,st=0,nt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:s,widthSegments:o,heightSegments:_,phiStart:j,phiLength:et,thetaStart:st,thetaLength:nt},o=Math.max(3,Math.floor(o)),_=Math.max(2,Math.floor(_));let ct=Math.min(st+nt,Math.PI),At=0,mt=[],gt=new E$2,_t=new E$2,Et=[],Ct=[],Bt=[],Dt=[];for(let Ft=0;Ft<=_;Ft++){let Rt=[],Nt=Ft/_,Gt=0;Ft==0&&st==0?Gt=.5/o:Ft==_&&ct==Math.PI&&(Gt=-.5/o);for(let dr=0;dr<=o;dr++){let ts=dr/o;gt.x=-s*Math.cos(j+ts*et)*Math.sin(st+Nt*nt),gt.y=s*Math.cos(st+Nt*nt),gt.z=s*Math.sin(j+ts*et)*Math.sin(st+Nt*nt),Ct.push(gt.x,gt.y,gt.z),_t.copy(gt).normalize(),Bt.push(_t.x,_t.y,_t.z),Dt.push(ts+Gt,1-Nt),Rt.push(At++)}mt.push(Rt)}for(let Ft=0;Ft<_;Ft++)for(let Rt=0;Rt<o;Rt++){let Nt=mt[Ft][Rt+1],Gt=mt[Ft][Rt],dr=mt[Ft+1][Rt],ts=mt[Ft+1][Rt+1];(Ft!==0||st>0)&&Et.push(Nt,Gt,ts),(Ft!==_-1||ct<Math.PI)&&Et.push(Gt,dr,ts)}this.setIndex(Et),this.setAttribute("position",new Me(Ct,3)),this.setAttribute("normal",new Me(Bt,3)),this.setAttribute("uv",new Me(Dt,2))}static fromJSON(s){return new Ls(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength)}},ku=class extends _e{constructor(s=1,o=.4,_=12,j=48,et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:s,tube:o,radialSegments:_,tubularSegments:j,arc:et},_=Math.floor(_),j=Math.floor(j);let st=[],nt=[],ct=[],At=[],mt=new E$2,gt=new E$2,_t=new E$2;for(let Et=0;Et<=_;Et++)for(let Ct=0;Ct<=j;Ct++){let Bt=Ct/j*et,Dt=Et/_*Math.PI*2;gt.x=(s+o*Math.cos(Dt))*Math.cos(Bt),gt.y=(s+o*Math.cos(Dt))*Math.sin(Bt),gt.z=o*Math.sin(Dt),nt.push(gt.x,gt.y,gt.z),mt.x=s*Math.cos(Bt),mt.y=s*Math.sin(Bt),_t.subVectors(gt,mt).normalize(),ct.push(_t.x,_t.y,_t.z),At.push(Ct/j),At.push(Et/_)}for(let Et=1;Et<=_;Et++)for(let Ct=1;Ct<=j;Ct++){let Bt=(j+1)*Et+Ct-1,Dt=(j+1)*(Et-1)+Ct-1,Ft=(j+1)*(Et-1)+Ct,Rt=(j+1)*Et+Ct;st.push(Bt,Dt,Rt),st.push(Dt,Ft,Rt)}this.setIndex(st),this.setAttribute("position",new Me(nt,3)),this.setAttribute("normal",new Me(ct,3)),this.setAttribute("uv",new Me(At,2))}static fromJSON(s){return new ku(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc)}},Gu=class extends _e{constructor(s=1,o=.4,_=64,j=8,et=2,st=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:s,tube:o,tubularSegments:_,radialSegments:j,p:et,q:st},_=Math.floor(_),j=Math.floor(j);let nt=[],ct=[],At=[],mt=[],gt=new E$2,_t=new E$2,Et=new E$2,Ct=new E$2,Bt=new E$2,Dt=new E$2,Ft=new E$2;for(let Nt=0;Nt<=_;++Nt){let Gt=Nt/_*et*Math.PI*2;Rt(Gt,et,st,s,Et),Rt(Gt+.01,et,st,s,Ct),Dt.subVectors(Ct,Et),Ft.addVectors(Ct,Et),Bt.crossVectors(Dt,Ft),Ft.crossVectors(Bt,Dt),Bt.normalize(),Ft.normalize();for(let dr=0;dr<=j;++dr){let ts=dr/j*Math.PI*2,es=-o*Math.cos(ts),ds=o*Math.sin(ts);gt.x=Et.x+(es*Ft.x+ds*Bt.x),gt.y=Et.y+(es*Ft.y+ds*Bt.y),gt.z=Et.z+(es*Ft.z+ds*Bt.z),ct.push(gt.x,gt.y,gt.z),_t.subVectors(gt,Et).normalize(),At.push(_t.x,_t.y,_t.z),mt.push(Nt/_),mt.push(dr/j)}}for(let Nt=1;Nt<=_;Nt++)for(let Gt=1;Gt<=j;Gt++){let dr=(j+1)*(Nt-1)+(Gt-1),ts=(j+1)*Nt+(Gt-1),es=(j+1)*Nt+Gt,ds=(j+1)*(Nt-1)+Gt;nt.push(dr,ts,ds),nt.push(ts,es,ds)}this.setIndex(nt),this.setAttribute("position",new Me(ct,3)),this.setAttribute("normal",new Me(At,3)),this.setAttribute("uv",new Me(mt,2));function Rt(Nt,Gt,dr,ts,es){let ds=Math.cos(Nt),tn=Math.sin(Nt),rn=dr/Gt*Nt,un=Math.cos(rn);es.x=ts*(2+un)*.5*ds,es.y=ts*(2+un)*tn*.5,es.z=ts*Math.sin(rn)*.5}}static fromJSON(s){return new Gu(s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q)}};function qa(s,o,_){return sP(s)?new s.constructor(s.subarray(o,_!==void 0?_:s.length)):s.slice(o,_)}function jg(s,o,_){return!s||s.constructor===o?s:typeof o.BYTES_PER_ELEMENT=="number"?new o(s):Array.prototype.slice.call(s)}function sP(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function C4(s){function o(et,st){return s[et]-s[st]}let _=s.length,j=new Array(_);for(let et=0;et!==_;++et)j[et]=et;return j.sort(o),j}function DC(s,o,_){let j=s.length,et=new s.constructor(j);for(let st=0,nt=0;nt!==j;++st){let ct=_[st]*o;for(let At=0;At!==o;++At)et[nt++]=s[ct+At]}return et}function oP(s,o,_,j){let et=1,st=s[0];for(;st!==void 0&&st[j]===void 0;)st=s[et++];if(st===void 0)return;let nt=st[j];if(nt!==void 0)if(Array.isArray(nt))do nt=st[j],nt!==void 0&&(o.push(st.time),_.push.apply(_,nt)),st=s[et++];while(st!==void 0);else if(nt.toArray!==void 0)do nt=st[j],nt!==void 0&&(o.push(st.time),nt.toArray(_,_.length)),st=s[et++];while(st!==void 0);else do nt=st[j],nt!==void 0&&(o.push(st.time),_.push(nt)),st=s[et++];while(st!==void 0)}var ju=class{constructor(s,o,_,j){this.parameterPositions=s,this._cachedIndex=0,this.resultBuffer=j!==void 0?j:new o.constructor(_),this.sampleValues=o,this.valueSize=_,this.settings=null,this.DefaultSettings_={}}evaluate(s){let o=this.parameterPositions,_=this._cachedIndex,j=o[_],et=o[_-1];e:{t:{let st;r:{i:if(!(s<j)){for(let nt=_+2;;){if(j===void 0){if(s<et)break i;return _=o.length,this._cachedIndex=_,this.copySampleValue_(_-1)}if(_===nt)break;if(et=j,j=o[++_],s<j)break t}st=o.length;break r}if(!(s>=et)){let nt=o[1];s<nt&&(_=2,et=nt);for(let ct=_-2;;){if(et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_===ct)break;if(j=et,et=o[--_-1],s>=et)break t}st=_,_=0;break r}break e}for(;_<st;){let nt=_+st>>>1;s<o[nt]?st=nt:_=nt+1}if(j=o[_],et=o[_-1],et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(j===void 0)return _=o.length,this._cachedIndex=_,this.copySampleValue_(_-1)}this._cachedIndex=_,this.intervalChanged_(_,et,j)}return this.interpolate_(_,et,s,j)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(s){let o=this.resultBuffer,_=this.sampleValues,j=this.valueSize,et=s*j;for(let st=0;st!==j;++st)o[st]=_[et+st];return o}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},uw=class extends ju{constructor(s,o,_,j){super(s,o,_,j),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cu,endingEnd:Cu}}intervalChanged_(s,o,_){let j=this.parameterPositions,et=s-2,st=s+1,nt=j[et],ct=j[st];if(nt===void 0)switch(this.getSettings_().endingStart){case Pu:et=s,nt=2*o-_;break;case Kg:et=j.length-2,nt=o+j[et]-j[et+1];break;default:et=s,nt=_}if(ct===void 0)switch(this.getSettings_().endingEnd){case Pu:st=s,ct=2*_-o;break;case Kg:st=1,ct=_+j[1]-j[0];break;default:st=s-1,ct=o}let At=(_-o)*.5,mt=this.valueSize;this._weightPrev=At/(o-nt),this._weightNext=At/(ct-_),this._offsetPrev=et*mt,this._offsetNext=st*mt}interpolate_(s,o,_,j){let et=this.resultBuffer,st=this.sampleValues,nt=this.valueSize,ct=s*nt,At=ct-nt,mt=this._offsetPrev,gt=this._offsetNext,_t=this._weightPrev,Et=this._weightNext,Ct=(_-o)/(j-o),Bt=Ct*Ct,Dt=Bt*Ct,Ft=-_t*Dt+2*_t*Bt-_t*Ct,Rt=(1+_t)*Dt+(-1.5-2*_t)*Bt+(-.5+_t)*Ct+1,Nt=(-1-Et)*Dt+(1.5+Et)*Bt+.5*Ct,Gt=Et*Dt-Et*Bt;for(let dr=0;dr!==nt;++dr)et[dr]=Ft*st[mt+dr]+Rt*st[At+dr]+Nt*st[ct+dr]+Gt*st[gt+dr];return et}},cy=class extends ju{constructor(s,o,_,j){super(s,o,_,j)}interpolate_(s,o,_,j){let et=this.resultBuffer,st=this.sampleValues,nt=this.valueSize,ct=s*nt,At=ct-nt,mt=(_-o)/(j-o),gt=1-mt;for(let _t=0;_t!==nt;++_t)et[_t]=st[At+_t]*gt+st[ct+_t]*mt;return et}},hw=class extends ju{constructor(s,o,_,j){super(s,o,_,j)}interpolate_(s){return this.copySampleValue_(s-1)}},as=class{constructor(s,o,_,j){if(s===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+s);this.name=s,this.times=jg(o,this.TimeBufferType),this.values=jg(_,this.ValueBufferType),this.setInterpolation(j||this.DefaultInterpolation)}static toJSON(s){let o=s.constructor,_;if(o.toJSON!==this.toJSON)_=o.toJSON(s);else{_={name:s.name,times:jg(s.times,Array),values:jg(s.values,Array)};let j=s.getInterpolation();j!==s.DefaultInterpolation&&(_.interpolation=j)}return _.type=s.ValueTypeName,_}InterpolantFactoryMethodDiscrete(s){return new hw(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodLinear(s){return new cy(this.times,this.values,this.getValueSize(),s)}InterpolantFactoryMethodSmooth(s){return new uw(this.times,this.values,this.getValueSize(),s)}setInterpolation(s){let o;switch(s){case Xg:o=this.InterpolantFactoryMethodDiscrete;break;case Qg:o=this.InterpolantFactoryMethodLinear;break;case cS:o=this.InterpolantFactoryMethodSmooth;break}if(o===void 0){let _="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(s!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(_);return console.warn("THREE.KeyframeTrack:",_),this}return this.createInterpolant=o,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xg;case this.InterpolantFactoryMethodLinear:return Qg;case this.InterpolantFactoryMethodSmooth:return cS}}getValueSize(){return this.values.length/this.times.length}shift(s){if(s!==0){let o=this.times;for(let _=0,j=o.length;_!==j;++_)o[_]+=s}return this}scale(s){if(s!==1){let o=this.times;for(let _=0,j=o.length;_!==j;++_)o[_]*=s}return this}trim(s,o){let _=this.times,j=_.length,et=0,st=j-1;for(;et!==j&&_[et]<s;)++et;for(;st!==-1&&_[st]>o;)--st;if(++st,et!==0||st!==j){et>=st&&(st=Math.max(st,1),et=st-1);let nt=this.getValueSize();this.times=qa(_,et,st),this.values=qa(this.values,et*nt,st*nt)}return this}validate(){let s=!0,o=this.getValueSize();o-Math.floor(o)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),s=!1);let _=this.times,j=this.values,et=_.length;et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),s=!1);let st=null;for(let nt=0;nt!==et;nt++){let ct=_[nt];if(typeof ct=="number"&&isNaN(ct)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,nt,ct),s=!1;break}if(st!==null&&st>ct){console.error("THREE.KeyframeTrack: Out of order keys.",this,nt,ct,st),s=!1;break}st=ct}if(j!==void 0&&sP(j))for(let nt=0,ct=j.length;nt!==ct;++nt){let At=j[nt];if(isNaN(At)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,nt,At),s=!1;break}}return s}optimize(){let s=qa(this.times),o=qa(this.values),_=this.getValueSize(),j=this.getInterpolation()===cS,et=s.length-1,st=1;for(let nt=1;nt<et;++nt){let ct=!1,At=s[nt],mt=s[nt+1];if(At!==mt&&(nt!==1||At!==s[0]))if(j)ct=!0;else{let gt=nt*_,_t=gt-_,Et=gt+_;for(let Ct=0;Ct!==_;++Ct){let Bt=o[gt+Ct];if(Bt!==o[_t+Ct]||Bt!==o[Et+Ct]){ct=!0;break}}}if(ct){if(nt!==st){s[st]=s[nt];let gt=nt*_,_t=st*_;for(let Et=0;Et!==_;++Et)o[_t+Et]=o[gt+Et]}++st}}if(et>0){s[st]=s[et];for(let nt=et*_,ct=st*_,At=0;At!==_;++At)o[ct+At]=o[nt+At];++st}return st!==s.length?(this.times=qa(s,0,st),this.values=qa(o,0,st*_)):(this.times=s,this.values=o),this}clone(){let s=qa(this.times,0),o=qa(this.values,0),_=this.constructor,j=new _(this.name,s,o);return j.createInterpolant=this.createInterpolant,j}};as.prototype.TimeBufferType=Float32Array;as.prototype.ValueBufferType=Float32Array;as.prototype.DefaultInterpolation=Qg;var rl=class extends as{};rl.prototype.ValueTypeName="bool";rl.prototype.ValueBufferType=Array;rl.prototype.DefaultInterpolation=Xg;rl.prototype.InterpolantFactoryMethodLinear=void 0;rl.prototype.InterpolantFactoryMethodSmooth=void 0;var uy=class extends as{};uy.prototype.ValueTypeName="color";var Hu=class extends as{};Hu.prototype.ValueTypeName="number";var dw=class extends ju{constructor(s,o,_,j){super(s,o,_,j)}interpolate_(s,o,_,j){let et=this.resultBuffer,st=this.sampleValues,nt=this.valueSize,ct=(_-o)/(j-o),At=s*nt;for(let mt=At+nt;At!==mt;At+=4)Qe.slerpFlat(et,0,st,At-nt,st,At,ct);return et}},Sc=class extends as{InterpolantFactoryMethodLinear(s){return new dw(this.times,this.values,this.getValueSize(),s)}};Sc.prototype.ValueTypeName="quaternion";Sc.prototype.DefaultInterpolation=Qg;Sc.prototype.InterpolantFactoryMethodSmooth=void 0;var il=class extends as{};il.prototype.ValueTypeName="string";il.prototype.ValueBufferType=Array;il.prototype.DefaultInterpolation=Xg;il.prototype.InterpolantFactoryMethodLinear=void 0;il.prototype.InterpolantFactoryMethodSmooth=void 0;var Wu=class extends as{};Wu.prototype.ValueTypeName="vector";var qu=class{constructor(s,o=-1,_,j=Mw){this.name=s,this.tracks=_,this.duration=o,this.blendMode=j,this.uuid=is$1(),this.duration<0&&this.resetDuration()}static parse(s){let o=[],_=s.tracks,j=1/(s.fps||1);for(let st=0,nt=_.length;st!==nt;++st)o.push(_4(_[st]).scale(j));let et=new this(s.name,s.duration,o,s.blendMode);return et.uuid=s.uuid,et}static toJSON(s){let o=[],_=s.tracks,j={name:s.name,duration:s.duration,tracks:o,uuid:s.uuid,blendMode:s.blendMode};for(let et=0,st=_.length;et!==st;++et)o.push(as.toJSON(_[et]));return j}static CreateFromMorphTargetSequence(s,o,_,j){let et=o.length,st=[];for(let nt=0;nt<et;nt++){let ct=[],At=[];ct.push((nt+et-1)%et,nt,(nt+1)%et),At.push(0,1,0);let mt=C4(ct);ct=DC(ct,1,mt),At=DC(At,1,mt),!j&&ct[0]===0&&(ct.push(et),At.push(At[0])),st.push(new Hu(".morphTargetInfluences["+o[nt].name+"]",ct,At).scale(1/_))}return new this(s,-1,st)}static findByName(s,o){let _=s;if(!Array.isArray(s)){let j=s;_=j.geometry&&j.geometry.animations||j.animations}for(let j=0;j<_.length;j++)if(_[j].name===o)return _[j];return null}static CreateClipsFromMorphTargetSequences(s,o,_){let j={},et=/^([\w-]*?)([\d]+)$/;for(let nt=0,ct=s.length;nt<ct;nt++){let At=s[nt],mt=At.name.match(et);if(mt&&mt.length>1){let gt=mt[1],_t=j[gt];_t||(j[gt]=_t=[]),_t.push(At)}}let st=[];for(let nt in j)st.push(this.CreateFromMorphTargetSequence(nt,j[nt],o,_));return st}static parseAnimation(s,o){if(!s)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let _=function(mt,gt,_t,Et,Ct){if(_t.length!==0){let Bt=[],Dt=[];oP(_t,Bt,Dt,Et),Bt.length!==0&&Ct.push(new mt(gt,Bt,Dt))}},j=[],et=s.name||"default",st=s.fps||30,nt=s.blendMode,ct=s.length||-1,At=s.hierarchy||[];for(let mt=0;mt<At.length;mt++){let gt=At[mt].keys;if(!(!gt||gt.length===0))if(gt[0].morphTargets){let _t={},Et;for(Et=0;Et<gt.length;Et++)if(gt[Et].morphTargets)for(let Ct=0;Ct<gt[Et].morphTargets.length;Ct++)_t[gt[Et].morphTargets[Ct]]=-1;for(let Ct in _t){let Bt=[],Dt=[];for(let Ft=0;Ft!==gt[Et].morphTargets.length;++Ft){let Rt=gt[Et];Bt.push(Rt.time),Dt.push(Rt.morphTarget===Ct?1:0)}j.push(new Hu(".morphTargetInfluence["+Ct+"]",Bt,Dt))}ct=_t.length*st}else{let _t=".bones["+o[mt].name+"]";_(Wu,_t+".position",gt,"pos",j),_(Sc,_t+".quaternion",gt,"rot",j),_(Wu,_t+".scale",gt,"scl",j)}}return j.length===0?null:new this(et,ct,j,nt)}resetDuration(){let s=this.tracks,o=0;for(let _=0,j=s.length;_!==j;++_){let et=this.tracks[_];o=Math.max(o,et.times[et.times.length-1])}return this.duration=o,this}trim(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].trim(0,this.duration);return this}validate(){let s=!0;for(let o=0;o<this.tracks.length;o++)s=s&&this.tracks[o].validate();return s}optimize(){for(let s=0;s<this.tracks.length;s++)this.tracks[s].optimize();return this}clone(){let s=[];for(let o=0;o<this.tracks.length;o++)s.push(this.tracks[o].clone());return new this.constructor(this.name,this.duration,s,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function P4(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hu;case"vector":case"vector2":case"vector3":case"vector4":return Wu;case"color":return uy;case"quaternion":return Sc;case"bool":case"boolean":return rl;case"string":return il}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function _4(s){if(s.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let o=P4(s.type);if(s.times===void 0){let _=[],j=[];oP(s.keys,_,j,"value"),s.times=_,s.values=j}return o.parse!==void 0?o.parse(s):new o(s.name,s.times,s.values,s.interpolation)}var hy={enabled:!1,files:{},add:function(s,o){this.enabled!==!1&&(this.files[s]=o)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}},yp=class{constructor(s,o,_){let j=this,et=!1,st=0,nt=0,ct,At=[];this.onStart=void 0,this.onLoad=s,this.onProgress=o,this.onError=_,this.itemStart=function(mt){nt++,et===!1&&j.onStart!==void 0&&j.onStart(mt,st,nt),et=!0},this.itemEnd=function(mt){st++,j.onProgress!==void 0&&j.onProgress(mt,st,nt),st===nt&&(et=!1,j.onLoad!==void 0&&j.onLoad())},this.itemError=function(mt){j.onError!==void 0&&j.onError(mt)},this.resolveURL=function(mt){return ct?ct(mt):mt},this.setURLModifier=function(mt){return ct=mt,this},this.addHandler=function(mt,gt){return At.push(mt,gt),this},this.removeHandler=function(mt){let gt=At.indexOf(mt);return gt!==-1&&At.splice(gt,2),this},this.getHandler=function(mt){for(let gt=0,_t=At.length;gt<_t;gt+=2){let Et=At[gt],Ct=At[gt+1];if(Et.global&&(Et.lastIndex=0),Et.test(mt))return Ct}return null}}},D4=new yp,nl=class{constructor(s){this.manager=s!==void 0?s:D4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(s,o){let _=this;return new Promise(function(j,et){_.load(s,j,o,et)})}parse(){}setCrossOrigin(s){return this.crossOrigin=s,this}setWithCredentials(s){return this.withCredentials=s,this}setPath(s){return this.path=s,this}setResourcePath(s){return this.resourcePath=s,this}setRequestHeader(s){return this.requestHeader=s,this}},na={},fw=class extends Error{constructor(s,o){super(s),this.response=o}},Yu=class extends nl{constructor(s){super(s)}load(s,o,_,j){s===void 0&&(s=""),this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);let et=hy.get(s);if(et!==void 0)return this.manager.itemStart(s),setTimeout(()=>{o&&o(et),this.manager.itemEnd(s)},0),et;if(na[s]!==void 0){na[s].push({onLoad:o,onProgress:_,onError:j});return}na[s]=[],na[s].push({onLoad:o,onProgress:_,onError:j});let st=new Request(s,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),nt=this.mimeType,ct=this.responseType;fetch(st).then(At=>{if(At.status===200||At.status===0){if(At.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||At.body===void 0||At.body.getReader===void 0)return At;let mt=na[s],gt=At.body.getReader(),_t=At.headers.get("Content-Length")||At.headers.get("X-File-Size"),Et=_t?parseInt(_t):0,Ct=Et!==0,Bt=0,Dt=new ReadableStream({start(Ft){Rt();function Rt(){gt.read().then(({done:Nt,value:Gt})=>{if(Nt)Ft.close();else{Bt+=Gt.byteLength;let dr=new ProgressEvent("progress",{lengthComputable:Ct,loaded:Bt,total:Et});for(let ts=0,es=mt.length;ts<es;ts++){let ds=mt[ts];ds.onProgress&&ds.onProgress(dr)}Ft.enqueue(Gt),Rt()}})}}});return new Response(Dt)}else throw new fw(`fetch for "${At.url}" responded with ${At.status}: ${At.statusText}`,At)}).then(At=>{switch(ct){case"arraybuffer":return At.arrayBuffer();case"blob":return At.blob();case"document":return At.text().then(mt=>new DOMParser().parseFromString(mt,nt));case"json":return At.json();default:if(nt===void 0)return At.text();{let mt=/charset="?([^;"\s]*)"?/i.exec(nt),gt=mt&&mt[1]?mt[1].toLowerCase():void 0,_t=new TextDecoder(gt);return At.arrayBuffer().then(Et=>_t.decode(Et))}}}).then(At=>{hy.add(s,At);let mt=na[s];delete na[s];for(let gt=0,_t=mt.length;gt<_t;gt++){let Et=mt[gt];Et.onLoad&&Et.onLoad(At)}}).catch(At=>{let mt=na[s];if(mt===void 0)throw this.manager.itemError(s),At;delete na[s];for(let gt=0,_t=mt.length;gt<_t;gt++){let Et=mt[gt];Et.onError&&Et.onError(At)}this.manager.itemError(s)}).finally(()=>{this.manager.itemEnd(s)}),this.manager.itemStart(s)}setResponseType(s){return this.responseType=s,this}setMimeType(s){return this.mimeType=s,this}},pw=class extends nl{constructor(s){super(s)}load(s,o,_,j){this.path!==void 0&&(s=this.path+s),s=this.manager.resolveURL(s);let et=this,st=hy.get(s);if(st!==void 0)return et.manager.itemStart(s),setTimeout(function(){o&&o(st),et.manager.itemEnd(s)},0),st;let nt=ap("img");function ct(){mt(),hy.add(s,this),o&&o(this),et.manager.itemEnd(s)}function At(gt){mt(),j&&j(gt),et.manager.itemError(s),et.manager.itemEnd(s)}function mt(){nt.removeEventListener("load",ct,!1),nt.removeEventListener("error",At,!1)}return nt.addEventListener("load",ct,!1),nt.addEventListener("error",At,!1),s.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(nt.crossOrigin=this.crossOrigin),et.manager.itemStart(s),nt.src=s,nt}},dy=class extends nl{constructor(s){super(s)}load(s,o,_,j){let et=new $t,st=new pw(this.manager);return st.setCrossOrigin(this.crossOrigin),st.setPath(this.path),st.load(s,function(nt){et.image=nt,et.needsUpdate=!0,o!==void 0&&o(et)},_,j),et}},sl=class extends Mt{constructor(s,o=1){super(),this.isLight=!0,this.type="Light",this.color=new We(s),this.intensity=o}dispose(){}copy(s,o){return super.copy(s,o),this.color.copy(s.color),this.intensity=s.intensity,this}toJSON(s){let o=super.toJSON(s);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,this.groundColor!==void 0&&(o.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(o.object.distance=this.distance),this.angle!==void 0&&(o.object.angle=this.angle),this.decay!==void 0&&(o.object.decay=this.decay),this.penumbra!==void 0&&(o.object.penumbra=this.penumbra),this.shadow!==void 0&&(o.object.shadow=this.shadow.toJSON()),o}},fy=class extends sl{constructor(s,o,_){super(s,_),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new We(o)}copy(s,o){return super.copy(s,o),this.groundColor.copy(s.groundColor),this}},VS=new ue$2,IC=new E$2,OC=new E$2,vp=class{constructor(s){this.camera=s,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new U$1(512,512),this.map=null,this.mapPass=null,this.matrix=new ue$2,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cp,this._frameExtents=new U$1(1,1),this._viewportCount=1,this._viewports=[new Ze(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(s){let o=this.camera,_=this.matrix;IC.setFromMatrixPosition(s.matrixWorld),o.position.copy(IC),OC.setFromMatrixPosition(s.target.matrixWorld),o.lookAt(OC),o.updateMatrixWorld(),VS.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VS),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(VS)}getViewport(s){return this._viewports[s]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(s){return this.camera=s.camera.clone(),this.bias=s.bias,this.radius=s.radius,this.mapSize.copy(s.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let s={};return this.bias!==0&&(s.bias=this.bias),this.normalBias!==0&&(s.normalBias=this.normalBias),this.radius!==1&&(s.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(s.mapSize=this.mapSize.toArray()),s.camera=this.camera.toJSON(!1).object,delete s.camera.matrix,s}},mw=class extends vp{constructor(){super(new $r$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(s){let o=this.camera,_=op$7*2*s.angle*this.focus,j=this.mapSize.width/this.mapSize.height,et=s.distance||o.far;(_!==o.fov||j!==o.aspect||et!==o.far)&&(o.fov=_,o.aspect=j,o.far=et,o.updateProjectionMatrix()),super.updateMatrices(s)}copy(s){return super.copy(s),this.focus=s.focus,this}},py=class extends sl{constructor(s,o,_=0,j=Math.PI/3,et=0,st=2){super(s,o),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mt.DEFAULT_UP),this.updateMatrix(),this.target=new Mt,this.distance=_,this.angle=j,this.penumbra=et,this.decay=st,this.map=null,this.shadow=new mw}get power(){return this.intensity*Math.PI}set power(s){this.intensity=s/Math.PI}dispose(){this.shadow.dispose()}copy(s,o){return super.copy(s,o),this.distance=s.distance,this.angle=s.angle,this.penumbra=s.penumbra,this.decay=s.decay,this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}},RC=new ue$2,Zf=new E$2,US=new E$2,gw=class extends vp{constructor(){super(new $r$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new U$1(4,2),this._viewportCount=6,this._viewports=[new Ze(2,1,1,1),new Ze(0,1,1,1),new Ze(3,1,1,1),new Ze(1,1,1,1),new Ze(3,0,1,1),new Ze(1,0,1,1)],this._cubeDirections=[new E$2(1,0,0),new E$2(-1,0,0),new E$2(0,0,1),new E$2(0,0,-1),new E$2(0,1,0),new E$2(0,-1,0)],this._cubeUps=[new E$2(0,1,0),new E$2(0,1,0),new E$2(0,1,0),new E$2(0,1,0),new E$2(0,0,1),new E$2(0,0,-1)]}updateMatrices(s,o=0){let _=this.camera,j=this.matrix,et=s.distance||_.far;et!==_.far&&(_.far=et,_.updateProjectionMatrix()),Zf.setFromMatrixPosition(s.matrixWorld),_.position.copy(Zf),US.copy(_.position),US.add(this._cubeDirections[o]),_.up.copy(this._cubeUps[o]),_.lookAt(US),_.updateMatrixWorld(),j.makeTranslation(-Zf.x,-Zf.y,-Zf.z),RC.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RC)}},my=class extends sl{constructor(s,o,_=0,j=2){super(s,o),this.isPointLight=!0,this.type="PointLight",this.distance=_,this.decay=j,this.shadow=new gw}get power(){return this.intensity*4*Math.PI}set power(s){this.intensity=s/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(s,o){return super.copy(s,o),this.distance=s.distance,this.decay=s.decay,this.shadow=s.shadow.clone(),this}},yw=class extends vp{constructor(){super(new Ja(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},gy=class extends sl{constructor(s,o){super(s,o),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mt.DEFAULT_UP),this.updateMatrix(),this.target=new Mt,this.shadow=new yw}dispose(){this.shadow.dispose()}copy(s){return super.copy(s),this.target=s.target.clone(),this.shadow=s.shadow.clone(),this}},xp=class extends _e{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(s){return super.copy(s),this.instanceCount=s.instanceCount,this}toJSON(){let s=super.toJSON();return s.instanceCount=this.instanceCount,s.isInstancedBufferGeometry=!0,s}},Xu=class extends nl{constructor(s){super(s)}load(s,o,_,j){let et=this,st=new Yu(et.manager);st.setPath(et.path),st.setRequestHeader(et.requestHeader),st.setWithCredentials(et.withCredentials),st.load(s,function(nt){try{o(et.parse(JSON.parse(nt)))}catch(ct){j?j(ct):console.error(ct),et.manager.itemError(s)}},_,j)}parse(s){let o={},_={};function j(_t,Et){if(o[Et]!==void 0)return o[Et];let Ct=_t.interleavedBuffers[Et],Bt=et(_t,Ct.buffer),Dt=xg(Ct.type,Bt),Ft=new sy(Dt,Ct.stride);return Ft.uuid=Ct.uuid,o[Et]=Ft,Ft}function et(_t,Et){if(_[Et]!==void 0)return _[Et];let Ct=_t.arrayBuffers[Et],Bt=new Uint32Array(Ct).buffer;return _[Et]=Bt,Bt}let st=s.isInstancedBufferGeometry?new xp:new _e,nt=s.data.index;if(nt!==void 0){let _t=xg(nt.type,nt.array);st.setIndex(new Xe(_t,1))}let ct=s.data.attributes;for(let _t in ct){let Et=ct[_t],Ct;if(Et.isInterleavedBufferAttribute){let Bt=j(s.data,Et.data);Ct=new pc(Bt,Et.itemSize,Et.offset,Et.normalized)}else{let Bt=xg(Et.type,Et.array),Dt=Et.isInstancedBufferAttribute?fo:Xe;Ct=new Dt(Bt,Et.itemSize,Et.normalized)}Et.name!==void 0&&(Ct.name=Et.name),Et.usage!==void 0&&Ct.setUsage(Et.usage),Et.updateRange!==void 0&&(Ct.updateRange.offset=Et.updateRange.offset,Ct.updateRange.count=Et.updateRange.count),st.setAttribute(_t,Ct)}let At=s.data.morphAttributes;if(At)for(let _t in At){let Et=At[_t],Ct=[];for(let Bt=0,Dt=Et.length;Bt<Dt;Bt++){let Ft=Et[Bt],Rt;if(Ft.isInterleavedBufferAttribute){let Nt=j(s.data,Ft.data);Rt=new pc(Nt,Ft.itemSize,Ft.offset,Ft.normalized)}else{let Nt=xg(Ft.type,Ft.array);Rt=new Xe(Nt,Ft.itemSize,Ft.normalized)}Ft.name!==void 0&&(Rt.name=Ft.name),Ct.push(Rt)}st.morphAttributes[_t]=Ct}s.data.morphTargetsRelative&&(st.morphTargetsRelative=!0);let mt=s.data.groups||s.data.drawcalls||s.data.offsets;if(mt!==void 0)for(let _t=0,Et=mt.length;_t!==Et;++_t){let Ct=mt[_t];st.addGroup(Ct.start,Ct.count,Ct.materialIndex)}let gt=s.data.boundingSphere;if(gt!==void 0){let _t=new E$2;gt.center!==void 0&&_t.fromArray(gt.center),st.boundingSphere=new Or$1(_t,gt.radius)}return s.name&&(st.name=s.name),s.userData&&(st.userData=s.userData),st}},yy=class{constructor(s=!0){this.autoStart=s,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=LC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let s=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let o=LC();s=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=s}return s}};function LC(){return(typeof performance>"u"?Date:performance).now()}var vw=class{constructor(s,o,_){this.binding=s,this.valueSize=_;let j,et,st;switch(o){case"quaternion":j=this._slerp,et=this._slerpAdditive,st=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(_*6),this._workIndex=5;break;case"string":case"bool":j=this._select,et=this._select,st=this._setAdditiveIdentityOther,this.buffer=new Array(_*5);break;default:j=this._lerp,et=this._lerpAdditive,st=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(_*5)}this._mixBufferRegion=j,this._mixBufferRegionAdditive=et,this._setIdentity=st,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(s,o){let _=this.buffer,j=this.valueSize,et=s*j+j,st=this.cumulativeWeight;if(st===0){for(let nt=0;nt!==j;++nt)_[et+nt]=_[nt];st=o}else{st+=o;let nt=o/st;this._mixBufferRegion(_,et,0,nt,j)}this.cumulativeWeight=st}accumulateAdditive(s){let o=this.buffer,_=this.valueSize,j=_*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(o,j,0,s,_),this.cumulativeWeightAdditive+=s}apply(s){let o=this.valueSize,_=this.buffer,j=s*o+o,et=this.cumulativeWeight,st=this.cumulativeWeightAdditive,nt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,et<1){let ct=o*this._origIndex;this._mixBufferRegion(_,j,ct,1-et,o)}st>0&&this._mixBufferRegionAdditive(_,j,this._addIndex*o,1,o);for(let ct=o,At=o+o;ct!==At;++ct)if(_[ct]!==_[ct+o]){nt.setValue(_,j);break}}saveOriginalState(){let s=this.binding,o=this.buffer,_=this.valueSize,j=_*this._origIndex;s.getValue(o,j);for(let et=_,st=j;et!==st;++et)o[et]=o[j+et%_];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let s=this.valueSize*3;this.binding.setValue(this.buffer,s)}_setAdditiveIdentityNumeric(){let s=this._addIndex*this.valueSize,o=s+this.valueSize;for(let _=s;_<o;_++)this.buffer[_]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let s=this._origIndex*this.valueSize,o=this._addIndex*this.valueSize;for(let _=0;_<this.valueSize;_++)this.buffer[o+_]=this.buffer[s+_]}_select(s,o,_,j,et){if(j>=.5)for(let st=0;st!==et;++st)s[o+st]=s[_+st]}_slerp(s,o,_,j){Qe.slerpFlat(s,o,s,o,s,_,j)}_slerpAdditive(s,o,_,j,et){let st=this._workIndex*et;Qe.multiplyQuaternionsFlat(s,st,s,o,s,_),Qe.slerpFlat(s,o,s,o,s,st,j)}_lerp(s,o,_,j,et){let st=1-j;for(let nt=0;nt!==et;++nt){let ct=o+nt;s[ct]=s[ct]*st+s[_+nt]*j}}_lerpAdditive(s,o,_,j,et){for(let st=0;st!==et;++st){let nt=o+st;s[nt]=s[nt]+s[_+st]*j}}},Iw="\\[\\]\\.:\\/",I4=new RegExp("["+Iw+"]","g"),Ow="[^"+Iw+"]",O4="[^"+Iw.replace("\\.","")+"]",R4=/((?:WC+[\/:])*)/.source.replace("WC",Ow),L4=/(WCOD+)?/.source.replace("WCOD",O4),B4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ow),N4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ow),F4=new RegExp("^"+R4+L4+B4+N4+"$"),V4=["material","materials","bones","map"],xw=class{constructor(s,o,_){let j=_||Zt.parseTrackName(o);this._targetGroup=s,this._bindings=s.subscribe_(o,j)}getValue(s,o){this.bind();let _=this._targetGroup.nCachedObjects_,j=this._bindings[_];j!==void 0&&j.getValue(s,o)}setValue(s,o){let _=this._bindings;for(let j=this._targetGroup.nCachedObjects_,et=_.length;j!==et;++j)_[j].setValue(s,o)}bind(){let s=this._bindings;for(let o=this._targetGroup.nCachedObjects_,_=s.length;o!==_;++o)s[o].bind()}unbind(){let s=this._bindings;for(let o=this._targetGroup.nCachedObjects_,_=s.length;o!==_;++o)s[o].unbind()}},Zt=class{constructor(s,o,_){this.path=o,this.parsedPath=_||Zt.parseTrackName(o),this.node=Zt.findNode(s,this.parsedPath.nodeName)||s,this.rootNode=s,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(s,o,_){return s&&s.isAnimationObjectGroup?new Zt.Composite(s,o,_):new Zt(s,o,_)}static sanitizeNodeName(s){return s.replace(/\s/g,"_").replace(I4,"")}static parseTrackName(s){let o=F4.exec(s);if(o===null)throw new Error("PropertyBinding: Cannot parse trackName: "+s);let _={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},j=_.nodeName&&_.nodeName.lastIndexOf(".");if(j!==void 0&&j!==-1){let et=_.nodeName.substring(j+1);V4.indexOf(et)!==-1&&(_.nodeName=_.nodeName.substring(0,j),_.objectName=et)}if(_.propertyName===null||_.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+s);return _}static findNode(s,o){if(o===void 0||o===""||o==="."||o===-1||o===s.name||o===s.uuid)return s;if(s.skeleton){let _=s.skeleton.getBoneByName(o);if(_!==void 0)return _}if(s.children){let _=function(et){for(let st=0;st<et.length;st++){let nt=et[st];if(nt.name===o||nt.uuid===o)return nt;let ct=_(nt.children);if(ct)return ct}return null},j=_(s.children);if(j)return j}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(s,o){s[o]=this.targetObject[this.propertyName]}_getValue_array(s,o){let _=this.resolvedProperty;for(let j=0,et=_.length;j!==et;++j)s[o++]=_[j]}_getValue_arrayElement(s,o){s[o]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(s,o){this.resolvedProperty.toArray(s,o)}_setValue_direct(s,o){this.targetObject[this.propertyName]=s[o]}_setValue_direct_setNeedsUpdate(s,o){this.targetObject[this.propertyName]=s[o],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(s,o){this.targetObject[this.propertyName]=s[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(s,o){let _=this.resolvedProperty;for(let j=0,et=_.length;j!==et;++j)_[j]=s[o++]}_setValue_array_setNeedsUpdate(s,o){let _=this.resolvedProperty;for(let j=0,et=_.length;j!==et;++j)_[j]=s[o++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(s,o){let _=this.resolvedProperty;for(let j=0,et=_.length;j!==et;++j)_[j]=s[o++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(s,o){this.resolvedProperty[this.propertyIndex]=s[o]}_setValue_arrayElement_setNeedsUpdate(s,o){this.resolvedProperty[this.propertyIndex]=s[o],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(s,o){this.resolvedProperty[this.propertyIndex]=s[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(s,o){this.resolvedProperty.fromArray(s,o)}_setValue_fromArray_setNeedsUpdate(s,o){this.resolvedProperty.fromArray(s,o),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(s,o){this.resolvedProperty.fromArray(s,o),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(s,o){this.bind(),this.getValue(s,o)}_setValue_unbound(s,o){this.bind(),this.setValue(s,o)}bind(){let s=this.node,o=this.parsedPath,_=o.objectName,j=o.propertyName,et=o.propertyIndex;if(s||(s=Zt.findNode(this.rootNode,o.nodeName)||this.rootNode,this.node=s),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!s){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(_){let At=o.objectIndex;switch(_){case"materials":if(!s.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!s.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}s=s.material.materials;break;case"bones":if(!s.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}s=s.skeleton.bones;for(let mt=0;mt<s.length;mt++)if(s[mt].name===At){At=mt;break}break;case"map":if("map"in s){s=s.map;break}if(!s.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!s.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}s=s.material.map;break;default:if(s[_]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}s=s[_]}if(At!==void 0){if(s[At]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,s);return}s=s[At]}}let st=s[j];if(st===void 0){let At=o.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+At+"."+j+" but it wasn't found.",s);return}let nt=this.Versioning.None;this.targetObject=s,s.needsUpdate!==void 0?nt=this.Versioning.NeedsUpdate:s.matrixWorldNeedsUpdate!==void 0&&(nt=this.Versioning.MatrixWorldNeedsUpdate);let ct=this.BindingType.Direct;if(et!==void 0){if(j==="morphTargetInfluences"){if(!s.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!s.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}s.morphTargetDictionary[et]!==void 0&&(et=s.morphTargetDictionary[et])}ct=this.BindingType.ArrayElement,this.resolvedProperty=st,this.propertyIndex=et}else st.fromArray!==void 0&&st.toArray!==void 0?(ct=this.BindingType.HasFromToArray,this.resolvedProperty=st):Array.isArray(st)?(ct=this.BindingType.EntireArray,this.resolvedProperty=st):this.propertyName=j;this.getValue=this.GetterByBindingType[ct],this.setValue=this.SetterByBindingTypeAndVersioning[ct][nt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Zt.Composite=xw;Zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zt.prototype.GetterByBindingType=[Zt.prototype._getValue_direct,Zt.prototype._getValue_array,Zt.prototype._getValue_arrayElement,Zt.prototype._getValue_toArray];Zt.prototype.SetterByBindingTypeAndVersioning=[[Zt.prototype._setValue_direct,Zt.prototype._setValue_direct_setNeedsUpdate,Zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_array,Zt.prototype._setValue_array_setNeedsUpdate,Zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_arrayElement,Zt.prototype._setValue_arrayElement_setNeedsUpdate,Zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_fromArray,Zt.prototype._setValue_fromArray_setNeedsUpdate,Zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var bw=class{constructor(s,o,_=null,j=o.blendMode){this._mixer=s,this._clip=o,this._localRoot=_,this.blendMode=j;let et=o.tracks,st=et.length,nt=new Array(st),ct={endingStart:Cu,endingEnd:Cu};for(let At=0;At!==st;++At){let mt=et[At].createInterpolant(null);nt[At]=mt,mt.settings=ct}this._interpolantSettings=ct,this._interpolants=nt,this._propertyBindings=new Array(st),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ew,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(s){return this._startTime=s,this}setLoop(s,o){return this.loop=s,this.repetitions=o,this}setEffectiveWeight(s){return this.weight=s,this._effectiveWeight=this.enabled?s:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(s){return this._scheduleFading(s,0,1)}fadeOut(s){return this._scheduleFading(s,1,0)}crossFadeFrom(s,o,_){if(s.fadeOut(o),this.fadeIn(o),_){let j=this._clip.duration,et=s._clip.duration,st=et/j,nt=j/et;s.warp(1,st,o),this.warp(nt,1,o)}return this}crossFadeTo(s,o,_){return s.crossFadeFrom(this,o,_)}stopFading(){let s=this._weightInterpolant;return s!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}setEffectiveTimeScale(s){return this.timeScale=s,this._effectiveTimeScale=this.paused?0:s,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(s){return this.timeScale=this._clip.duration/s,this.stopWarping()}syncWith(s){return this.time=s.time,this.timeScale=s.timeScale,this.stopWarping()}halt(s){return this.warp(this._effectiveTimeScale,0,s)}warp(s,o,_){let j=this._mixer,et=j.time,st=this.timeScale,nt=this._timeScaleInterpolant;nt===null&&(nt=j._lendControlInterpolant(),this._timeScaleInterpolant=nt);let ct=nt.parameterPositions,At=nt.sampleValues;return ct[0]=et,ct[1]=et+_,At[0]=s/st,At[1]=o/st,this}stopWarping(){let s=this._timeScaleInterpolant;return s!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(s)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(s,o,_,j){if(!this.enabled){this._updateWeight(s);return}let et=this._startTime;if(et!==null){let ct=(s-et)*_;ct<0||_===0?o=0:(this._startTime=null,o=_*ct)}o*=this._updateTimeScale(s);let st=this._updateTime(o),nt=this._updateWeight(s);if(nt>0){let ct=this._interpolants,At=this._propertyBindings;switch(this.blendMode){case JF:for(let mt=0,gt=ct.length;mt!==gt;++mt)ct[mt].evaluate(st),At[mt].accumulateAdditive(nt);break;case Mw:default:for(let mt=0,gt=ct.length;mt!==gt;++mt)ct[mt].evaluate(st),At[mt].accumulate(j,nt)}}}_updateWeight(s){let o=0;if(this.enabled){o=this.weight;let _=this._weightInterpolant;if(_!==null){let j=_.evaluate(s)[0];o*=j,s>_.parameterPositions[1]&&(this.stopFading(),j===0&&(this.enabled=!1))}}return this._effectiveWeight=o,o}_updateTimeScale(s){let o=0;if(!this.paused){o=this.timeScale;let _=this._timeScaleInterpolant;if(_!==null){let j=_.evaluate(s)[0];o*=j,s>_.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o)}}return this._effectiveTimeScale=o,o}_updateTime(s){let o=this._clip.duration,_=this.loop,j=this.time+s,et=this._loopCount,st=_===Sp;if(s===0)return et===-1?j:st&&(et&1)===1?o-j:j;if(_===Aw){et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(j>=o)j=o;else if(j<0)j=0;else{this.time=j;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=j,this._mixer.dispatchEvent({type:"finished",action:this,direction:s<0?-1:1})}}else{if(et===-1&&(s>=0?(et=0,this._setEndings(!0,this.repetitions===0,st)):this._setEndings(this.repetitions===0,!0,st)),j>=o||j<0){let nt=Math.floor(j/o);j-=o*nt,et+=Math.abs(nt);let ct=this.repetitions-et;if(ct<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,j=s>0?o:0,this.time=j,this._mixer.dispatchEvent({type:"finished",action:this,direction:s>0?1:-1});else{if(ct===1){let At=s<0;this._setEndings(At,!At,st)}else this._setEndings(!1,!1,st);this._loopCount=et,this.time=j,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:nt})}}else this.time=j;if(st&&(et&1)===1)return o-j}return j}_setEndings(s,o,_){let j=this._interpolantSettings;_?(j.endingStart=Pu,j.endingEnd=Pu):(s?j.endingStart=this.zeroSlopeAtStart?Pu:Cu:j.endingStart=Kg,o?j.endingEnd=this.zeroSlopeAtEnd?Pu:Cu:j.endingEnd=Kg)}_scheduleFading(s,o,_){let j=this._mixer,et=j.time,st=this._weightInterpolant;st===null&&(st=j._lendControlInterpolant(),this._weightInterpolant=st);let nt=st.parameterPositions,ct=st.sampleValues;return nt[0]=et,ct[0]=o,nt[1]=et+s,ct[1]=_,this}},U4=new Float32Array(1),vy=class extends pr{constructor(s){super(),this._root=s,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(s,o){let _=s._localRoot||this._root,j=s._clip.tracks,et=j.length,st=s._propertyBindings,nt=s._interpolants,ct=_.uuid,At=this._bindingsByRootAndName,mt=At[ct];mt===void 0&&(mt={},At[ct]=mt);for(let gt=0;gt!==et;++gt){let _t=j[gt],Et=_t.name,Ct=mt[Et];if(Ct!==void 0)++Ct.referenceCount,st[gt]=Ct;else{if(Ct=st[gt],Ct!==void 0){Ct._cacheIndex===null&&(++Ct.referenceCount,this._addInactiveBinding(Ct,ct,Et));continue}let Bt=o&&o._propertyBindings[gt].binding.parsedPath;Ct=new vw(Zt.create(_,Et,Bt),_t.ValueTypeName,_t.getValueSize()),++Ct.referenceCount,this._addInactiveBinding(Ct,ct,Et),st[gt]=Ct}nt[gt].resultBuffer=Ct.buffer}}_activateAction(s){if(!this._isActiveAction(s)){if(s._cacheIndex===null){let _=(s._localRoot||this._root).uuid,j=s._clip.uuid,et=this._actionsByClip[j];this._bindAction(s,et&&et.knownActions[0]),this._addInactiveAction(s,j,_)}let o=s._propertyBindings;for(let _=0,j=o.length;_!==j;++_){let et=o[_];et.useCount++===0&&(this._lendBinding(et),et.saveOriginalState())}this._lendAction(s)}}_deactivateAction(s){if(this._isActiveAction(s)){let o=s._propertyBindings;for(let _=0,j=o.length;_!==j;++_){let et=o[_];--et.useCount===0&&(et.restoreOriginalState(),this._takeBackBinding(et))}this._takeBackAction(s)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let s=this;this.stats={actions:{get total(){return s._actions.length},get inUse(){return s._nActiveActions}},bindings:{get total(){return s._bindings.length},get inUse(){return s._nActiveBindings}},controlInterpolants:{get total(){return s._controlInterpolants.length},get inUse(){return s._nActiveControlInterpolants}}}}_isActiveAction(s){let o=s._cacheIndex;return o!==null&&o<this._nActiveActions}_addInactiveAction(s,o,_){let j=this._actions,et=this._actionsByClip,st=et[o];if(st===void 0)st={knownActions:[s],actionByRoot:{}},s._byClipCacheIndex=0,et[o]=st;else{let nt=st.knownActions;s._byClipCacheIndex=nt.length,nt.push(s)}s._cacheIndex=j.length,j.push(s),st.actionByRoot[_]=s}_removeInactiveAction(s){let o=this._actions,_=o[o.length-1],j=s._cacheIndex;_._cacheIndex=j,o[j]=_,o.pop(),s._cacheIndex=null;let et=s._clip.uuid,st=this._actionsByClip,nt=st[et],ct=nt.knownActions,At=ct[ct.length-1],mt=s._byClipCacheIndex;At._byClipCacheIndex=mt,ct[mt]=At,ct.pop(),s._byClipCacheIndex=null;let gt=nt.actionByRoot,_t=(s._localRoot||this._root).uuid;delete gt[_t],ct.length===0&&delete st[et],this._removeInactiveBindingsForAction(s)}_removeInactiveBindingsForAction(s){let o=s._propertyBindings;for(let _=0,j=o.length;_!==j;++_){let et=o[_];--et.referenceCount===0&&this._removeInactiveBinding(et)}}_lendAction(s){let o=this._actions,_=s._cacheIndex,j=this._nActiveActions++,et=o[j];s._cacheIndex=j,o[j]=s,et._cacheIndex=_,o[_]=et}_takeBackAction(s){let o=this._actions,_=s._cacheIndex,j=--this._nActiveActions,et=o[j];s._cacheIndex=j,o[j]=s,et._cacheIndex=_,o[_]=et}_addInactiveBinding(s,o,_){let j=this._bindingsByRootAndName,et=this._bindings,st=j[o];st===void 0&&(st={},j[o]=st),st[_]=s,s._cacheIndex=et.length,et.push(s)}_removeInactiveBinding(s){let o=this._bindings,_=s.binding,j=_.rootNode.uuid,et=_.path,st=this._bindingsByRootAndName,nt=st[j],ct=o[o.length-1],At=s._cacheIndex;ct._cacheIndex=At,o[At]=ct,o.pop(),delete nt[et],Object.keys(nt).length===0&&delete st[j]}_lendBinding(s){let o=this._bindings,_=s._cacheIndex,j=this._nActiveBindings++,et=o[j];s._cacheIndex=j,o[j]=s,et._cacheIndex=_,o[_]=et}_takeBackBinding(s){let o=this._bindings,_=s._cacheIndex,j=--this._nActiveBindings,et=o[j];s._cacheIndex=j,o[j]=s,et._cacheIndex=_,o[_]=et}_lendControlInterpolant(){let s=this._controlInterpolants,o=this._nActiveControlInterpolants++,_=s[o];return _===void 0&&(_=new cy(new Float32Array(2),new Float32Array(2),1,U4),_.__cacheIndex=o,s[o]=_),_}_takeBackControlInterpolant(s){let o=this._controlInterpolants,_=s.__cacheIndex,j=--this._nActiveControlInterpolants,et=o[j];s.__cacheIndex=j,o[j]=s,et.__cacheIndex=_,o[_]=et}clipAction(s,o,_){let j=o||this._root,et=j.uuid,st=typeof s=="string"?qu.findByName(j,s):s,nt=st!==null?st.uuid:s,ct=this._actionsByClip[nt],At=null;if(_===void 0&&(st!==null?_=st.blendMode:_=Mw),ct!==void 0){let gt=ct.actionByRoot[et];if(gt!==void 0&&gt.blendMode===_)return gt;At=ct.knownActions[0],st===null&&(st=At._clip)}if(st===null)return null;let mt=new bw(this,st,o,_);return this._bindAction(mt,At),this._addInactiveAction(mt,nt,et),mt}existingAction(s,o){let _=o||this._root,j=_.uuid,et=typeof s=="string"?qu.findByName(_,s):s,st=et?et.uuid:s,nt=this._actionsByClip[st];return nt!==void 0&&nt.actionByRoot[j]||null}stopAllAction(){let s=this._actions,o=this._nActiveActions;for(let _=o-1;_>=0;--_)s[_].stop();return this}update(s){s*=this.timeScale;let o=this._actions,_=this._nActiveActions,j=this.time+=s,et=Math.sign(s),st=this._accuIndex^=1;for(let At=0;At!==_;++At)o[At]._update(j,s,et,st);let nt=this._bindings,ct=this._nActiveBindings;for(let At=0;At!==ct;++At)nt[At].apply(st);return this}setTime(s){this.time=0;for(let o=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(s)}getRoot(){return this._root}uncacheClip(s){let o=this._actions,_=s.uuid,j=this._actionsByClip,et=j[_];if(et!==void 0){let st=et.knownActions;for(let nt=0,ct=st.length;nt!==ct;++nt){let At=st[nt];this._deactivateAction(At);let mt=At._cacheIndex,gt=o[o.length-1];At._cacheIndex=null,At._byClipCacheIndex=null,gt._cacheIndex=mt,o[mt]=gt,o.pop(),this._removeInactiveBindingsForAction(At)}delete j[_]}}uncacheRoot(s){let o=s.uuid,_=this._actionsByClip;for(let st in _){let nt=_[st].actionByRoot,ct=nt[o];ct!==void 0&&(this._deactivateAction(ct),this._removeInactiveAction(ct))}let j=this._bindingsByRootAndName,et=j[o];if(et!==void 0)for(let st in et){let nt=et[st];nt.restoreOriginalState(),this._removeInactiveBinding(nt)}}uncacheAction(s,o){let _=this.existingAction(s,o);_!==null&&(this._deactivateAction(_),this._removeInactiveAction(_))}},le$2=class{constructor(o){this.value=o}clone(){return new le$2(this.value.clone===void 0?this.value:this.value.clone())}},Qu=class{constructor(s,o,_=0,j=1/0){this.ray=new Rs(s,o),this.near=_,this.far=j,this.camera=null,this.layers=new lp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(s,o){this.ray.set(s,o)}setFromCamera(s,o){o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(s.x,s.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o.isOrthographicCamera?(this.ray.origin.set(s.x,s.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type: "+o.type)}intersectObject(s,o=!0,_=[]){return Sw(s,this,_,o),_.sort(BC),_}intersectObjects(s,o=!0,_=[]){for(let j=0,et=s.length;j<et;j++)Sw(s[j],this,_,o);return _.sort(BC),_}};function BC(s,o){return s.distance-o.distance}function Sw(s,o,_,j){if(s.layers.test(o.layers)&&s.raycast(o,_),j===!0){let et=s.children;for(let st=0,nt=et.length;st<nt;st++)Sw(et[st],o,_,!0)}}var bp=class{constructor(s=1,o=0,_=0){return this.radius=s,this.phi=o,this.theta=_,this}set(s,o,_){return this.radius=s,this.phi=o,this.theta=_,this}copy(s){return this.radius=s.radius,this.phi=s.phi,this.theta=s.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(s){return this.setFromCartesianCoords(s.x,s.y,s.z)}setFromCartesianCoords(s,o,_){return this.radius=Math.sqrt(s*s+o*o+_*_),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(s,_),this.phi=Math.acos(di(o/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},NC=new U$1,Ku=class{constructor(s=new U$1(1/0,1/0),o=new U$1(-1/0,-1/0)){this.isBox2=!0,this.min=s,this.max=o}set(s,o){return this.min.copy(s),this.max.copy(o),this}setFromPoints(s){this.makeEmpty();for(let o=0,_=s.length;o<_;o++)this.expandByPoint(s[o]);return this}setFromCenterAndSize(s,o){let _=NC.copy(o).multiplyScalar(.5);return this.min.copy(s).sub(_),this.max.copy(s).add(_),this}clone(){return new this.constructor().copy(this)}copy(s){return this.min.copy(s.min),this.max.copy(s.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(s){return this.isEmpty()?s.set(0,0):s.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(s){return this.isEmpty()?s.set(0,0):s.subVectors(this.max,this.min)}expandByPoint(s){return this.min.min(s),this.max.max(s),this}expandByVector(s){return this.min.sub(s),this.max.add(s),this}expandByScalar(s){return this.min.addScalar(-s),this.max.addScalar(s),this}containsPoint(s){return!(s.x<this.min.x||s.x>this.max.x||s.y<this.min.y||s.y>this.max.y)}containsBox(s){return this.min.x<=s.min.x&&s.max.x<=this.max.x&&this.min.y<=s.min.y&&s.max.y<=this.max.y}getParameter(s,o){return o.set((s.x-this.min.x)/(this.max.x-this.min.x),(s.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(s){return!(s.max.x<this.min.x||s.min.x>this.max.x||s.max.y<this.min.y||s.min.y>this.max.y)}clampPoint(s,o){return o.copy(s).clamp(this.min,this.max)}distanceToPoint(s){return NC.copy(s).clamp(this.min,this.max).sub(s).length()}intersect(s){return this.min.max(s.min),this.max.min(s.max),this}union(s){return this.min.min(s.min),this.max.max(s.max),this}translate(s){return this.min.add(s),this.max.add(s),this}equals(s){return s.min.equals(this.min)&&s.max.equals(this.max)}},FC=new E$2,Hg=new E$2,Mi=class{constructor(s=new E$2,o=new E$2){this.start=s,this.end=o}set(s,o){return this.start.copy(s),this.end.copy(o),this}copy(s){return this.start.copy(s.start),this.end.copy(s.end),this}getCenter(s){return s.addVectors(this.start,this.end).multiplyScalar(.5)}delta(s){return s.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(s,o){return this.delta(o).multiplyScalar(s).add(this.start)}closestPointToPointParameter(s,o){FC.subVectors(s,this.start),Hg.subVectors(this.end,this.start);let _=Hg.dot(Hg),j=Hg.dot(FC)/_;return o&&(j=di(j,0,1)),j}closestPointToPoint(s,o,_){let j=this.closestPointToPointParameter(s,o);return this.delta(_).multiplyScalar(j).add(this.start)}applyMatrix4(s){return this.start.applyMatrix4(s),this.end.applyMatrix4(s),this}equals(s){return s.start.equals(this.start)&&s.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},VC=new E$2,xy=class extends Mt{constructor(s,o){super(),this.light=s,this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,this.type="SpotLightHelper";let _=new _e,j=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let st=0,nt=1,ct=32;st<ct;st++,nt++){let At=st/ct*Math.PI*2,mt=nt/ct*Math.PI*2;j.push(Math.cos(At),Math.sin(At),1,Math.cos(mt),Math.sin(mt),1)}_.setAttribute("position",new Me(j,3));let et=new ss({fog:!1,toneMapped:!1});this.cone=new el(_,et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let s=this.light.distance?this.light.distance:1e3,o=s*Math.tan(this.light.angle);this.cone.scale.set(o,o,s),VC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(VC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},by=class extends Ut{constructor(s,o,_){let j=new Ls(o,4,2),et=new on$1({wireframe:!0,fog:!1,toneMapped:!1});super(j,et),this.light=s,this.color=_,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},UC=new E$2,Wg=new E$2,zC=new E$2,Sy=class extends Mt{constructor(s,o,_){super(),this.light=s,this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=_,this.type="DirectionalLightHelper",o===void 0&&(o=1);let j=new _e;j.setAttribute("position",new Me([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));let et=new ss({fog:!1,toneMapped:!1});this.lightPlane=new mc(j,et),this.add(this.lightPlane),j=new _e,j.setAttribute("position",new Me([0,0,0,0,0,1],3)),this.targetLine=new mc(j,et),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),UC.setFromMatrixPosition(this.light.matrixWorld),Wg.setFromMatrixPosition(this.light.target.matrixWorld),zC.subVectors(Wg,UC),this.lightPlane.lookAt(Wg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wg),this.targetLine.scale.z=zC.length()}},qg=new E$2,Wr$1=new qn,ol=class extends el{constructor(s){let o=new _e,_=new ss({color:16777215,vertexColors:!0,toneMapped:!1}),j=[],et=[],st={};nt("n1","n2"),nt("n2","n4"),nt("n4","n3"),nt("n3","n1"),nt("f1","f2"),nt("f2","f4"),nt("f4","f3"),nt("f3","f1"),nt("n1","f1"),nt("n2","f2"),nt("n3","f3"),nt("n4","f4"),nt("p","n1"),nt("p","n2"),nt("p","n3"),nt("p","n4"),nt("u1","u2"),nt("u2","u3"),nt("u3","u1"),nt("c","t"),nt("p","c"),nt("cn1","cn2"),nt("cn3","cn4"),nt("cf1","cf2"),nt("cf3","cf4");function nt(Ct,Bt){ct(Ct),ct(Bt)}function ct(Ct){j.push(0,0,0),et.push(0,0,0),st[Ct]===void 0&&(st[Ct]=[]),st[Ct].push(j.length/3-1)}o.setAttribute("position",new Me(j,3)),o.setAttribute("color",new Me(et,3)),super(o,_),this.type="CameraHelper",this.camera=s,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=st,this.update();let At=new We(16755200),mt=new We(16711680),gt=new We(43775),_t=new We(16777215),Et=new We(3355443);this.setColors(At,mt,gt,_t,Et)}setColors(s,o,_,j,et){let st=this.geometry.getAttribute("color");st.setXYZ(0,s.r,s.g,s.b),st.setXYZ(1,s.r,s.g,s.b),st.setXYZ(2,s.r,s.g,s.b),st.setXYZ(3,s.r,s.g,s.b),st.setXYZ(4,s.r,s.g,s.b),st.setXYZ(5,s.r,s.g,s.b),st.setXYZ(6,s.r,s.g,s.b),st.setXYZ(7,s.r,s.g,s.b),st.setXYZ(8,s.r,s.g,s.b),st.setXYZ(9,s.r,s.g,s.b),st.setXYZ(10,s.r,s.g,s.b),st.setXYZ(11,s.r,s.g,s.b),st.setXYZ(12,s.r,s.g,s.b),st.setXYZ(13,s.r,s.g,s.b),st.setXYZ(14,s.r,s.g,s.b),st.setXYZ(15,s.r,s.g,s.b),st.setXYZ(16,s.r,s.g,s.b),st.setXYZ(17,s.r,s.g,s.b),st.setXYZ(18,s.r,s.g,s.b),st.setXYZ(19,s.r,s.g,s.b),st.setXYZ(20,s.r,s.g,s.b),st.setXYZ(21,s.r,s.g,s.b),st.setXYZ(22,s.r,s.g,s.b),st.setXYZ(23,s.r,s.g,s.b),st.setXYZ(24,o.r,o.g,o.b),st.setXYZ(25,o.r,o.g,o.b),st.setXYZ(26,o.r,o.g,o.b),st.setXYZ(27,o.r,o.g,o.b),st.setXYZ(28,o.r,o.g,o.b),st.setXYZ(29,o.r,o.g,o.b),st.setXYZ(30,o.r,o.g,o.b),st.setXYZ(31,o.r,o.g,o.b),st.setXYZ(32,_.r,_.g,_.b),st.setXYZ(33,_.r,_.g,_.b),st.setXYZ(34,_.r,_.g,_.b),st.setXYZ(35,_.r,_.g,_.b),st.setXYZ(36,_.r,_.g,_.b),st.setXYZ(37,_.r,_.g,_.b),st.setXYZ(38,j.r,j.g,j.b),st.setXYZ(39,j.r,j.g,j.b),st.setXYZ(40,et.r,et.g,et.b),st.setXYZ(41,et.r,et.g,et.b),st.setXYZ(42,et.r,et.g,et.b),st.setXYZ(43,et.r,et.g,et.b),st.setXYZ(44,et.r,et.g,et.b),st.setXYZ(45,et.r,et.g,et.b),st.setXYZ(46,et.r,et.g,et.b),st.setXYZ(47,et.r,et.g,et.b),st.setXYZ(48,et.r,et.g,et.b),st.setXYZ(49,et.r,et.g,et.b),st.needsUpdate=!0}update(){let s=this.geometry,o=this.pointMap,_=1,j=1;Wr$1.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Jr("c",o,s,Wr$1,0,0,-1),Jr("t",o,s,Wr$1,0,0,1),Jr("n1",o,s,Wr$1,-_,-j,-1),Jr("n2",o,s,Wr$1,_,-j,-1),Jr("n3",o,s,Wr$1,-_,j,-1),Jr("n4",o,s,Wr$1,_,j,-1),Jr("f1",o,s,Wr$1,-_,-j,1),Jr("f2",o,s,Wr$1,_,-j,1),Jr("f3",o,s,Wr$1,-_,j,1),Jr("f4",o,s,Wr$1,_,j,1),Jr("u1",o,s,Wr$1,_*.7,j*1.1,-1),Jr("u2",o,s,Wr$1,-_*.7,j*1.1,-1),Jr("u3",o,s,Wr$1,0,j*2,-1),Jr("cf1",o,s,Wr$1,-_,0,1),Jr("cf2",o,s,Wr$1,_,0,1),Jr("cf3",o,s,Wr$1,0,-j,1),Jr("cf4",o,s,Wr$1,0,j,1),Jr("cn1",o,s,Wr$1,-_,0,-1),Jr("cn2",o,s,Wr$1,_,0,-1),Jr("cn3",o,s,Wr$1,0,-j,-1),Jr("cn4",o,s,Wr$1,0,j,-1),s.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Jr(s,o,_,j,et,st,nt){qg.set(et,st,nt).unproject(j);let ct=o[s];if(ct!==void 0){let At=_.getAttribute("position");for(let mt=0,gt=ct.length;mt<gt;mt++)At.setXYZ(ct[mt],qg.x,qg.y,qg.z)}}var al=class extends el{constructor(s,o=16776960){let _=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),j=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],et=new _e;et.setIndex(new Xe(_,1)),et.setAttribute("position",new Me(j,3)),super(et,new ss({color:o,toneMapped:!1})),this.box=s,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(s){let o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(s))}dispose(){this.geometry.dispose(),this.material.dispose()}},wy=class extends el{constructor(s=1){let o=[0,0,0,s,0,0,0,0,0,0,s,0,0,0,0,0,0,s],_=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],j=new _e;j.setAttribute("position",new Me(o,3)),j.setAttribute("color",new Me(_,3));let et=new ss({vertexColors:!0,toneMapped:!1});super(j,et),this.type="AxesHelper"}setColors(s,o,_){let j=new We,et=this.geometry.attributes.color.array;return j.set(s),j.toArray(et,0),j.toArray(et,3),j.set(o),j.toArray(et,6),j.toArray(et,9),j.set(_),j.toArray(et,12),j.toArray(et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},sa=z4();function z4(){let s=new ArrayBuffer(4),o=new Float32Array(s),_=new Uint32Array(s),j=new Uint32Array(512),et=new Uint32Array(512);for(let At=0;At<256;++At){let mt=At-127;mt<-27?(j[At]=0,j[At|256]=32768,et[At]=24,et[At|256]=24):mt<-14?(j[At]=1024>>-mt-14,j[At|256]=1024>>-mt-14|32768,et[At]=-mt-1,et[At|256]=-mt-1):mt<=15?(j[At]=mt+15<<10,j[At|256]=mt+15<<10|32768,et[At]=13,et[At|256]=13):mt<128?(j[At]=31744,j[At|256]=64512,et[At]=24,et[At|256]=24):(j[At]=31744,j[At|256]=64512,et[At]=13,et[At|256]=13)}let st=new Uint32Array(2048),nt=new Uint32Array(64),ct=new Uint32Array(64);for(let At=1;At<1024;++At){let mt=At<<13,gt=0;for(;!(mt&8388608);)mt<<=1,gt-=8388608;mt&=-8388609,gt+=947912704,st[At]=mt|gt}for(let At=1024;At<2048;++At)st[At]=939524096+(At-1024<<13);for(let At=1;At<31;++At)nt[At]=At<<23;nt[31]=1199570944,nt[32]=2147483648;for(let At=33;At<63;++At)nt[At]=2147483648+(At-32<<23);nt[63]=3347054592;for(let At=1;At<64;++At)At!==32&&(ct[At]=1024);return{floatView:o,uint32View:_,baseTable:j,shiftTable:et,mantissaTable:st,exponentTable:nt,offsetTable:ct}}function k4(s){Math.abs(s)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),s=di(s,-65504,65504),sa.floatView[0]=s;let o=sa.uint32View[0],_=o>>23&511;return sa.baseTable[_]+((o&8388607)>>sa.shiftTable[_])}function G4(s){let o=s>>10;return sa.uint32View[0]=sa.mantissaTable[sa.offsetTable[o]+(s&1023)]+sa.exponentTable[o],sa.floatView[0]}var aP=Object.freeze({__proto__:null,fromHalfFloat:G4,toHalfFloat:k4});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:la}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=la);var eh=".",wp=Symbol("target"),Rw=Symbol("unsubscribe");function Ap(s){return s instanceof Date||s instanceof Set||s instanceof Map||s instanceof WeakSet||s instanceof WeakMap||ArrayBuffer.isView(s)}function lP(s){return(typeof s=="object"?s===null:typeof s!="function")||s instanceof RegExp}var Qn=Array.isArray;function wc(s){return typeof s=="symbol"}var j4={after:(s,o)=>Qn(s)?s.slice(o.length):o===""?s:s.slice(o.length+1),concat:(s,o)=>Qn(s)?(s=[...s],o&&s.push(o),s):o&&o.toString!==void 0?(s!==""&&(s+=eh),wc(o)?s+o.toString():s+o):s,initial:s=>{if(Qn(s))return s.slice(0,-1);if(s==="")return s;let o=s.lastIndexOf(eh);return o===-1?"":s.slice(0,o)},last:s=>{if(Qn(s))return s[s.length-1]||"";if(s==="")return s;let o=s.lastIndexOf(eh);return o===-1?s:s.slice(o+1)},walk:(s,o)=>{if(Qn(s))for(let _ of s)o(_);else if(s!==""){let _=0,j=s.indexOf(eh);if(j===-1)o(s);else for(;_<s.length;)j===-1&&(j=s.length),o(s.slice(_,j)),_=j+1,j=s.indexOf(eh,_)}},get(s,o){return this.walk(o,_=>{s&&(s=s[_])}),s}},gn=j4;function Lw(s){return typeof s=="object"&&typeof s.next=="function"}function Bw(s,o,_,j,et){let st=s.next;if(o.name==="entries")s.next=function(){let nt=st.call(this);return nt.done===!1&&(nt.value[0]=et(nt.value[0],o,nt.value[0],j),nt.value[1]=et(nt.value[1],o,nt.value[0],j)),nt};else if(o.name==="values"){let nt=_[wp].keys();s.next=function(){let ct=st.call(this);return ct.done===!1&&(ct.value=et(ct.value,o,nt.next().value,j)),ct}}else s.next=function(){let nt=st.call(this);return nt.done===!1&&(nt.value=et(nt.value,o,nt.value,j)),nt};return s}function Ty(s,o,_){return s.isUnsubscribed||o.ignoreSymbols&&wc(_)||o.ignoreUnderscores&&_.charAt(0)==="_"||"ignoreKeys"in o&&o.ignoreKeys.includes(_)}var Ep=class{constructor(s){this._equals=s,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(s){let o=this._getDescriptorCache(),_=o.get(s);return _===void 0&&(_={},o.set(s,_)),_}_getOwnPropertyDescriptor(s,o){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(s,o);let _=this._getProperties(s),j=_[o];return j===void 0&&(j=Reflect.getOwnPropertyDescriptor(s,o),_[o]=j),j}getProxy(s,o,_,j){if(this.isUnsubscribed)return s;let et=s[j],st=et||s;this._pathCache.set(st,o);let nt=this._proxyCache.get(st);return nt===void 0&&(nt=et===void 0?new Proxy(s,_):s,this._proxyCache.set(st,nt)),nt}getPath(s){return this.isUnsubscribed?void 0:this._pathCache.get(s)}isDetached(s,o){return!Object.is(s,gn.get(o,this.getPath(s)))}defineProperty(s,o,_){return Reflect.defineProperty(s,o,_)?(this.isUnsubscribed||(this._getProperties(s)[o]=_),!0):!1}setProperty(s,o,_,j,et){if(!this._equals(et,_)||!(o in s)){let st=this._getOwnPropertyDescriptor(s,o);return st!==void 0&&"set"in st?Reflect.set(s,o,_,j):Reflect.set(s,o,_)}return!0}deleteProperty(s,o,_){if(Reflect.deleteProperty(s,o)){if(!this.isUnsubscribed){let j=this._getDescriptorCache().get(s);j&&(delete j[o],this._pathCache.delete(_))}return!0}return!1}isSameDescriptor(s,o,_){let j=this._getOwnPropertyDescriptor(o,_);return s!==void 0&&j!==void 0&&Object.is(s.value,j.value)&&(s.writable||!1)===(j.writable||!1)&&(s.enumerable||!1)===(j.enumerable||!1)&&(s.configurable||!1)===(j.configurable||!1)&&s.get===j.get&&s.set===j.set}isGetInvariant(s,o){let _=this._getOwnPropertyDescriptor(s,o);return _!==void 0&&_.configurable!==!0&&_.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function th(s){return toString.call(s)==="[object Object]"}function rh(){return!0}function ll(s,o){return s.length!==o.length||s.some((_,j)=>o[j]!==_)}var Cy=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),H4=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),Nw={push:rh,pop:rh,shift:rh,unshift:rh,copyWithin:ll,reverse:ll,sort:ll,splice:ll,flat:ll,fill:ll},cP=new Set([...Cy,...H4,...Object.keys(Nw)]);function ih(s,o){if(s.size!==o.size)return!0;for(let _ of s)if(!o.has(_))return!0;return!1}var Fw=["keys","values","entries"],Vw=new Set(["has","toString"]),Uw={add:ih,clear:ih,delete:ih,forEach:ih},uP=new Set([...Vw,...Object.keys(Uw),...Fw]);function nh(s,o){if(s.size!==o.size)return!0;let _;for(let[j,et]of s)if(_=o.get(j),_!==et||_===void 0&&!o.has(j))return!0;return!1}var W4=new Set([...Vw,"get"]),zw={set:nh,clear:nh,delete:nh,forEach:nh},hP=new Set([...W4,...Object.keys(zw),...Fw]),Ni=class{constructor(s,o,_,j){this._path=o,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=j,this._changes=j?[]:null,this.clone=o===void 0?s:this._shallowClone(s)}static isHandledMethod(s){return Cy.has(s)}_shallowClone(s){let o=s;if(th(s))o={...s};else if(Qn(s))o=[...s];else if(s instanceof Date)o=new Date(s);else if(s instanceof Set)o=new Set([...s].map(_=>this._shallowClone(_)));else if(s instanceof Map){o=new Map;for(let[_,j]of s.entries())o.set(_,this._shallowClone(j))}return this._clonedCache.add(o),o}preferredThisArg(s,o,_,j){return s?(Qn(j)?this._onIsChanged=Nw[o]:j instanceof Set?this._onIsChanged=Uw[o]:j instanceof Map&&(this._onIsChanged=zw[o]),j):_}update(s,o,_){let j=gn.after(s,this._path);if(o!=="length"){let et=this.clone;gn.walk(j,st=>{et&&et[st]&&(this._clonedCache.has(et[st])||(et[st]=this._shallowClone(et[st])),et=et[st])}),this._hasOnValidate&&this._changes.push({path:j,property:o,previous:_}),et&&et[o]&&(et[o]=_)}this._isChanged=!0}undo(s){let o;for(let _=this._changes.length-1;_!==-1;_--)o=this._changes[_],gn.get(s,o.path)[o.property]=o.previous}isChanged(s){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,s)}},sh=class extends Ni{static isHandledMethod(s){return cP.has(s)}},Mp=class extends Ni{undo(s){s.setTime(this.clone.getTime())}isChanged(s,o){return!o(this.clone.valueOf(),s.valueOf())}},oh=class extends Ni{static isHandledMethod(s){return uP.has(s)}undo(s){for(let o of this.clone)s.add(o);for(let o of s)this.clone.has(o)||s.delete(o)}},ah=class extends Ni{static isHandledMethod(s){return hP.has(s)}undo(s){for(let[o,_]of this.clone.entries())s.set(o,_);for(let o of s.keys())this.clone.has(o)||s.delete(o)}},Tp=class extends Ni{constructor(s,o,_,j){super(void 0,o,_,j),this._arg1=_[0],this._weakValue=s.has(this._arg1)}isChanged(s){return this._weakValue!==s.has(this._arg1)}undo(s){this._weakValue&&!s.has(this._arg1)?s.add(this._arg1):s.delete(this._arg1)}},Cp=class extends Ni{constructor(s,o,_,j){super(void 0,o,_,j),this._weakKey=_[0],this._weakHas=s.has(this._weakKey),this._weakValue=s.get(this._weakKey)}isChanged(s){return this._weakValue!==s.get(this._weakKey)}undo(s){let o=s.has(this._weakKey);this._weakHas&&!o?s.set(this._weakKey,this._weakValue):!this._weakHas&&o?s.delete(this._weakKey):this._weakValue!==s.get(this._weakKey)&&s.set(this._weakKey,this._weakValue)}},Ns=class{constructor(s){this._stack=[],this._hasOnValidate=s}static isHandledType(s){return th(s)||Qn(s)||Ap(s)}static isHandledMethod(s,o){return th(s)?Ni.isHandledMethod(o):Qn(s)?sh.isHandledMethod(o):s instanceof Set?oh.isHandledMethod(o):s instanceof Map?ah.isHandledMethod(o):Ap(s)}get isCloning(){return this._stack.length>0}start(s,o,_){let j=Ni;Qn(s)?j=sh:s instanceof Date?j=Mp:s instanceof Set?j=oh:s instanceof Map?j=ah:s instanceof WeakSet?j=Tp:s instanceof WeakMap&&(j=Cp),this._stack.push(new j(s,o,_,this._hasOnValidate))}update(s,o,_){this._stack[this._stack.length-1].update(s,o,_)}preferredThisArg(s,o,_){let{name:j}=s,et=Ns.isHandledMethod(_,j);return this._stack[this._stack.length-1].preferredThisArg(et,j,o,_)}isChanged(s,o,_){return this._stack[this._stack.length-1].isChanged(s,o,_)}undo(s){this._previousClone!==void 0&&this._previousClone.undo(s)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},q4={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},kw=(s,o,_={})=>{_={...q4,..._};let j=Symbol("ProxyTarget"),{equals:et,isShallow:st,ignoreDetached:nt,details:ct}=_,At=new Ep(et),mt=typeof _.onValidate=="function",gt=new Ns(mt),_t=(Nt,Gt,dr,ts,es)=>!mt||gt.isCloning||_.onValidate(gn.concat(At.getPath(Nt),Gt),dr,ts,es)===!0,Et=(Nt,Gt,dr,ts)=>{!Ty(At,_,Gt)&&!(nt&&At.isDetached(Nt,s))&&Ct(At.getPath(Nt),Gt,dr,ts)},Ct=(Nt,Gt,dr,ts,es)=>{gt.isCloning?gt.update(Nt,Gt,ts):o(gn.concat(Nt,Gt),dr,ts,es)},Bt=Nt=>Nt&&(Nt[j]||Nt),Dt=(Nt,Gt,dr,ts)=>lP(Nt)||dr==="constructor"||st&&!Ns.isHandledMethod(Gt,dr)||Ty(At,_,dr)||At.isGetInvariant(Gt,dr)||nt&&At.isDetached(Gt,s)?Nt:(ts===void 0&&(ts=At.getPath(Gt)),At.getProxy(Nt,gn.concat(ts,dr),Ft,j)),Ft={get(Nt,Gt,dr){if(wc(Gt)){if(Gt===j||Gt===wp)return Nt;if(Gt===Rw&&!At.isUnsubscribed&&At.getPath(Nt).length===0)return At.unsubscribe(),Nt}let ts=Ap(Nt)?Reflect.get(Nt,Gt):Reflect.get(Nt,Gt,dr);return Dt(ts,Nt,Gt)},set(Nt,Gt,dr,ts){dr=Bt(dr);let es=Nt[j]||Nt,ds=es[Gt];if(et(ds,dr)&&Gt in Nt)return!0;let tn=_t(Nt,Gt,dr,ds);return tn&&At.setProperty(es,Gt,dr,ts,ds)?(Et(Nt,Gt,Nt[Gt],ds),!0):!tn},defineProperty(Nt,Gt,dr){if(!At.isSameDescriptor(dr,Nt,Gt)){let ts=Nt[Gt];_t(Nt,Gt,dr.value,ts)&&At.defineProperty(Nt,Gt,dr,ts)&&Et(Nt,Gt,dr.value,ts)}return!0},deleteProperty(Nt,Gt){if(!Reflect.has(Nt,Gt))return!0;let dr=Reflect.get(Nt,Gt),ts=_t(Nt,Gt,void 0,dr);return ts&&At.deleteProperty(Nt,Gt,dr)?(Et(Nt,Gt,void 0,dr),!0):!ts},apply(Nt,Gt,dr){let ts=Gt[j]||Gt;if(At.isUnsubscribed)return Reflect.apply(Nt,ts,dr);if((ct===!1||ct!==!0&&!ct.includes(Nt.name))&&Ns.isHandledType(ts)){let es=gn.initial(At.getPath(Nt)),ds=Ns.isHandledMethod(ts,Nt.name);gt.start(ts,es,dr);let tn=Reflect.apply(Nt,gt.preferredThisArg(Nt,Gt,ts),ds?dr.map($n=>Bt($n)):dr),rn=gt.isChanged(ts,et),un=gt.stop();if(Ns.isHandledType(tn)&&ds&&(Gt instanceof Map&&Nt.name==="get"&&(es=gn.concat(es,dr[0])),tn=At.getProxy(tn,es,Ft)),rn){let $n={name:Nt.name,args:dr,result:tn},kn=gt.isCloning?gn.initial(es):es,lo=gt.isCloning?gn.last(es):"";_t(gn.get(s,kn),lo,ts,un,$n)?Ct(kn,lo,ts,un,$n):gt.undo(ts)}return(Gt instanceof Map||Gt instanceof Set)&&Lw(tn)?Bw(tn,Nt,Gt,es,Dt):tn}return Reflect.apply(Nt,Gt,dr)}},Rt=At.getProxy(s,_.pathAsArray?[]:"",Ft);return o=o.bind(Rt),mt&&(_.onValidate=_.onValidate.bind(Rt)),Rt};kw.target=s=>s&&s[wp]||s;kw.unsubscribe=s=>s[Rw]||s;var Gw=kw,Y4=typeof global=="object"&&global&&global.Object===Object&&global,Py=Y4,X4=typeof self=="object"&&self&&self.Object===Object&&self,Q4=Py||X4||Function("return this")(),Yr$1=Q4,K4=Yr$1.Symbol,Fi=K4,dP=Object.prototype,Z4=dP.hasOwnProperty,J4=dP.toString,Pp=Fi?Fi.toStringTag:void 0;function $4(s){var o=Z4.call(s,Pp),_=s[Pp];try{s[Pp]=void 0;var j=!0}catch{}var et=J4.call(s);return j&&(o?s[Pp]=_:delete s[Pp]),et}var fP=$4,ej=Object.prototype,tj=ej.toString;function rj(s){return tj.call(s)}var pP=rj,ij="[object Null]",nj="[object Undefined]",mP=Fi?Fi.toStringTag:void 0;function sj(s){return s==null?s===void 0?nj:ij:mP&&mP in Object(s)?fP(s):pP(s)}var Kn=sj;function oj(s){return s!=null&&typeof s=="object"}var Wi=oj,aj="[object Symbol]";function lj(s){return typeof s=="symbol"||Wi(s)&&Kn(s)==aj}var po=lj;function cj(s,o){for(var _=-1,j=s==null?0:s.length,et=Array(j);++_<j;)et[_]=o(s[_],_,s);return et}var _y=cj,uj=Array.isArray,Ti=uj,hj=1/0,gP=Fi?Fi.prototype:void 0,yP=gP?gP.toString:void 0;function vP(s){if(typeof s=="string")return s;if(Ti(s))return _y(s,vP)+"";if(po(s))return yP?yP.call(s):"";var o=s+"";return o=="0"&&1/s==-hj?"-0":o}var xP=vP,dj=/\s/;function fj(s){for(var o=s.length;o--&&dj.test(s.charAt(o)););return o}var bP=fj,pj=/^\s+/;function mj(s){return s&&s.slice(0,bP(s)+1).replace(pj,"")}var SP$1=mj;function gj(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}var yi=gj,wP=NaN,yj=/^[-+]0x[0-9a-f]+$/i,vj=/^0b[01]+$/i,xj=/^0o[0-7]+$/i,bj=parseInt;function Sj(s){if(typeof s=="number")return s;if(po(s))return wP;if(yi(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=yi(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=SP$1(s);var _=vj.test(s);return _||xj.test(s)?bj(s.slice(2),_?2:8):yj.test(s)?wP:+s}var jw=Sj;function wj(s){return s}var Dy=wj,Aj="[object AsyncFunction]",Ej="[object Function]",Mj="[object GeneratorFunction]",Tj="[object Proxy]";function Cj(s){if(!yi(s))return!1;var o=Kn(s);return o==Ej||o==Mj||o==Aj||o==Tj}var Iy=Cj,Pj=Yr$1["__core-js_shared__"],Oy=Pj,AP=function(){var s=/[^.]+$/.exec(Oy&&Oy.keys&&Oy.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function _j(s){return!!AP&&AP in s}var EP=_j,Dj=Function.prototype,Ij=Dj.toString;function Oj(s){if(s!=null){try{return Ij.call(s)}catch{}try{return s+""}catch{}}return""}var ca=Oj,Rj=/[\\^$.*+?()[\]{}|]/g,Lj=/^\[object .+?Constructor\]$/,Bj=Function.prototype,Nj=Object.prototype,Fj=Bj.toString,Vj=Nj.hasOwnProperty,Uj=RegExp("^"+Fj.call(Vj).replace(Rj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zj(s){if(!yi(s)||EP(s))return!1;var o=Iy(s)?Uj:Lj;return o.test(ca(s))}var MP=zj;function kj(s,o){return s==null?void 0:s[o]}var TP=kj;function Gj(s,o){var _=TP(s,o);return MP(_)?_:void 0}var Cn=Gj,jj=Cn(Yr$1,"WeakMap"),Ry=jj,CP$1=Object.create,Hj=function(){function s(){}return function(o){if(!yi(o))return{};if(CP$1)return CP$1(o);s.prototype=o;var _=new s;return s.prototype=void 0,_}}(),PP=Hj;function Wj(s,o,_){switch(_.length){case 0:return s.call(o);case 1:return s.call(o,_[0]);case 2:return s.call(o,_[0],_[1]);case 3:return s.call(o,_[0],_[1],_[2])}return s.apply(o,_)}var _P=Wj;function qj(s,o){var _=-1,j=s.length;for(o||(o=Array(j));++_<j;)o[_]=s[_];return o}var DP=qj,Yj=800,Xj=16,Qj=Date.now;function Kj(s){var o=0,_=0;return function(){var j=Qj(),et=Xj-(j-_);if(_=j,et>0){if(++o>=Yj)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}var IP=Kj;function Zj(s){return function(){return s}}var OP$1=Zj,Jj=function(){try{var s=Cn(Object,"defineProperty");return s({},"",{}),s}catch{}}(),lh=Jj,$j=lh?function(s,o){return lh(s,"toString",{configurable:!0,enumerable:!1,value:OP$1(o),writable:!0})}:Dy,RP=$j,eH=IP(RP),LP=eH;function tH(s,o){for(var _=-1,j=s==null?0:s.length;++_<j&&o(s[_],_,s)!==!1;);return s}var BP=tH,rH=9007199254740991,iH=/^(?:0|[1-9]\d*)$/;function nH(s,o){var _=typeof s;return o=o??rH,!!o&&(_=="number"||_!="symbol"&&iH.test(s))&&s>-1&&s%1==0&&s<o}var ch=nH;function sH(s,o,_){o=="__proto__"&&lh?lh(s,o,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[o]=_}var Ly=sH;function oH(s,o){return s===o||s!==s&&o!==o}var uh=oH,aH=Object.prototype,lH=aH.hasOwnProperty;function cH(s,o,_){var j=s[o];(!(lH.call(s,o)&&uh(j,_))||_===void 0&&!(o in s))&&Ly(s,o,_)}var hh=cH;function uH(s,o,_,j){var et=!_;_||(_={});for(var st=-1,nt=o.length;++st<nt;){var ct=o[st],At=j?j(_[ct],s[ct],ct,_,s):void 0;At===void 0&&(At=s[ct]),et?Ly(_,ct,At):hh(_,ct,At)}return _}var mo=uH,NP=Math.max;function hH(s,o,_){return o=NP(o===void 0?s.length-1:o,0),function(){for(var j=arguments,et=-1,st=NP(j.length-o,0),nt=Array(st);++et<st;)nt[et]=j[o+et];et=-1;for(var ct=Array(o+1);++et<o;)ct[et]=j[et];return ct[o]=_(nt),_P(s,this,ct)}}var FP=hH,dH=9007199254740991;function fH(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=dH}var dh=fH;function pH(s){return s!=null&&dh(s.length)&&!Iy(s)}var By=pH,mH=Object.prototype;function gH(s){var o=s&&s.constructor,_=typeof o=="function"&&o.prototype||mH;return s===_}var fh=gH;function yH(s,o){for(var _=-1,j=Array(s);++_<s;)j[_]=o(_);return j}var VP=yH,vH="[object Arguments]";function xH(s){return Wi(s)&&Kn(s)==vH}var Hw=xH,UP=Object.prototype,bH=UP.hasOwnProperty,SH=UP.propertyIsEnumerable,wH=Hw(function(){return arguments}())?Hw:function(s){return Wi(s)&&bH.call(s,"callee")&&!SH.call(s,"callee")},ph=wH;function AH(){return!1}var zP=AH,jP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kP=jP&&typeof module=="object"&&module&&!module.nodeType&&module,EH=kP&&kP.exports===jP,GP=EH?Yr$1.Buffer:void 0,MH=GP?GP.isBuffer:void 0,TH=MH||zP,Ac=TH,CH="[object Arguments]",PH="[object Array]",_H="[object Boolean]",DH="[object Date]",IH="[object Error]",OH="[object Function]",RH="[object Map]",LH="[object Number]",BH="[object Object]",NH="[object RegExp]",FH="[object Set]",VH="[object String]",UH="[object WeakMap]",zH="[object ArrayBuffer]",kH="[object DataView]",GH="[object Float32Array]",jH="[object Float64Array]",HH="[object Int8Array]",WH="[object Int16Array]",qH="[object Int32Array]",YH="[object Uint8Array]",XH="[object Uint8ClampedArray]",QH="[object Uint16Array]",KH="[object Uint32Array]",Dr$1={};Dr$1[GH]=Dr$1[jH]=Dr$1[HH]=Dr$1[WH]=Dr$1[qH]=Dr$1[YH]=Dr$1[XH]=Dr$1[QH]=Dr$1[KH]=!0;Dr$1[CH]=Dr$1[PH]=Dr$1[zH]=Dr$1[_H]=Dr$1[kH]=Dr$1[DH]=Dr$1[IH]=Dr$1[OH]=Dr$1[RH]=Dr$1[LH]=Dr$1[BH]=Dr$1[NH]=Dr$1[FH]=Dr$1[VH]=Dr$1[UH]=!1;function ZH(s){return Wi(s)&&dh(s.length)&&!!Dr$1[Kn(s)]}var HP=ZH;function JH(s){return function(o){return s(o)}}var mh=JH,WP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_p=WP&&typeof module=="object"&&module&&!module.nodeType&&module,$H=_p&&_p.exports===WP,Ww=$H&&Py.process,e5=function(){try{var s=_p&&_p.require&&_p.require("util").types;return s||Ww&&Ww.binding&&Ww.binding("util")}catch{}}(),ua=e5,qP=ua&&ua.isTypedArray,t5=qP?mh(qP):HP,Ny=t5,r5=Object.prototype,i5=r5.hasOwnProperty;function n5(s,o){var _=Ti(s),j=!_&&ph(s),et=!_&&!j&&Ac(s),st=!_&&!j&&!et&&Ny(s),nt=_||j||et||st,ct=nt?VP(s.length,String):[],At=ct.length;for(var mt in s)(o||i5.call(s,mt))&&!(nt&&(mt=="length"||et&&(mt=="offset"||mt=="parent")||st&&(mt=="buffer"||mt=="byteLength"||mt=="byteOffset")||ch(mt,At)))&&ct.push(mt);return ct}var Fy=n5;function s5(s,o){return function(_){return s(o(_))}}var Vy=s5,o5=Vy(Object.keys,Object),YP=o5,a5=Object.prototype,l5=a5.hasOwnProperty;function c5(s){if(!fh(s))return YP(s);var o=[];for(var _ in Object(s))l5.call(s,_)&&_!="constructor"&&o.push(_);return o}var XP=c5;function u5(s){return By(s)?Fy(s):XP(s)}var gh=u5;function h5(s){var o=[];if(s!=null)for(var _ in Object(s))o.push(_);return o}var QP=h5,d5=Object.prototype,f5=d5.hasOwnProperty;function p5(s){if(!yi(s))return QP(s);var o=fh(s),_=[];for(var j in s)j=="constructor"&&(o||!f5.call(s,j))||_.push(j);return _}var KP=p5;function m5(s){return By(s)?Fy(s,!0):KP(s)}var ls=m5,g5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y5=/^\w*$/;function v5(s,o){if(Ti(s))return!1;var _=typeof s;return _=="number"||_=="symbol"||_=="boolean"||s==null||po(s)?!0:y5.test(s)||!g5.test(s)||o!=null&&s in Object(o)}var ZP=v5,x5=Cn(Object,"create"),ha=x5;function b5(){this.__data__=ha?ha(null):{},this.size=0}var JP=b5;function S5(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}var $P=S5,w5="__lodash_hash_undefined__",A5=Object.prototype,E5=A5.hasOwnProperty;function M5(s){var o=this.__data__;if(ha){var _=o[s];return _===w5?void 0:_}return E5.call(o,s)?o[s]:void 0}var e_=M5,T5=Object.prototype,C5=T5.hasOwnProperty;function P5(s){var o=this.__data__;return ha?o[s]!==void 0:C5.call(o,s)}var t_=P5,_5="__lodash_hash_undefined__";function D5(s,o){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=ha&&o===void 0?_5:o,this}var r_=D5;function yh(s){var o=-1,_=s==null?0:s.length;for(this.clear();++o<_;){var j=s[o];this.set(j[0],j[1])}}yh.prototype.clear=JP;yh.prototype.delete=$P;yh.prototype.get=e_;yh.prototype.has=t_;yh.prototype.set=r_;var qw=yh;function I5(){this.__data__=[],this.size=0}var i_=I5;function O5(s,o){for(var _=s.length;_--;)if(uh(s[_][0],o))return _;return-1}var cl=O5,R5=Array.prototype,L5=R5.splice;function B5(s){var o=this.__data__,_=cl(o,s);if(_<0)return!1;var j=o.length-1;return _==j?o.pop():L5.call(o,_,1),--this.size,!0}var n_=B5;function N5(s){var o=this.__data__,_=cl(o,s);return _<0?void 0:o[_][1]}var s_=N5;function F5(s){return cl(this.__data__,s)>-1}var o_=F5;function V5(s,o){var _=this.__data__,j=cl(_,s);return j<0?(++this.size,_.push([s,o])):_[j][1]=o,this}var a_=V5;function vh(s){var o=-1,_=s==null?0:s.length;for(this.clear();++o<_;){var j=s[o];this.set(j[0],j[1])}}vh.prototype.clear=i_;vh.prototype.delete=n_;vh.prototype.get=s_;vh.prototype.has=o_;vh.prototype.set=a_;var ul=vh,U5=Cn(Yr$1,"Map"),hl=U5;function z5(){this.size=0,this.__data__={hash:new qw,map:new(hl||ul),string:new qw}}var l_=z5;function k5(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}var c_=k5;function G5(s,o){var _=s.__data__;return c_(o)?_[typeof o=="string"?"string":"hash"]:_.map}var dl=G5;function j5(s){var o=dl(this,s).delete(s);return this.size-=o?1:0,o}var u_=j5;function H5(s){return dl(this,s).get(s)}var h_=H5;function W5(s){return dl(this,s).has(s)}var d_=W5;function q5(s,o){var _=dl(this,s),j=_.size;return _.set(s,o),this.size+=_.size==j?0:1,this}var f_=q5;function xh(s){var o=-1,_=s==null?0:s.length;for(this.clear();++o<_;){var j=s[o];this.set(j[0],j[1])}}xh.prototype.clear=l_;xh.prototype.delete=u_;xh.prototype.get=h_;xh.prototype.has=d_;xh.prototype.set=f_;var Ec=xh,Y5="Expected a function";function Yw(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(Y5);var _=function(){var j=arguments,et=o?o.apply(this,j):j[0],st=_.cache;if(st.has(et))return st.get(et);var nt=s.apply(this,j);return _.cache=st.set(et,nt)||st,nt};return _.cache=new(Yw.Cache||Ec),_}Yw.Cache=Ec;var p_=Yw,X5=500;function Q5(s){var o=p_(s,function(j){return _.size===X5&&_.clear(),j}),_=o.cache;return o}var m_=Q5,K5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z5=/\\(\\)?/g,J5=m_(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(K5,function(_,j,et,st){o.push(et?st.replace(Z5,"$1"):j||_)}),o}),g_=J5;function $5(s){return s==null?"":xP(s)}var y_=$5;function eW(s,o){return Ti(s)?s:ZP(s,o)?[s]:g_(y_(s))}var cs=eW,tW=1/0;function rW(s){if(typeof s=="string"||po(s))return s;var o=s+"";return o=="0"&&1/s==-tW?"-0":o}var fl=rW;function iW(s,o){o=cs(o,s);for(var _=0,j=o.length;s!=null&&_<j;)s=s[fl(o[_++])];return _&&_==j?s:void 0}var Uy=iW;function nW(s,o){for(var _=-1,j=o.length,et=s.length;++_<j;)s[et+_]=o[_];return s}var bh=nW,v_=Fi?Fi.isConcatSpreadable:void 0;function sW(s){return Ti(s)||ph(s)||!!(v_&&s&&s[v_])}var x_=sW;function b_(s,o,_,j,et){var st=-1,nt=s.length;for(_||(_=x_),et||(et=[]);++st<nt;){var ct=s[st];o>0&&_(ct)?o>1?b_(ct,o-1,_,j,et):bh(et,ct):j||(et[et.length]=ct)}return et}var S_=b_;function oW(s){var o=s==null?0:s.length;return o?S_(s,1):[]}var w_=oW;function aW(s){return LP(FP(s,void 0,w_),s+"")}var zy=aW,lW=Vy(Object.getPrototypeOf,Object),Sh=lW,cW="[object Object]",uW=Function.prototype,hW=Object.prototype,A_=uW.toString,dW=hW.hasOwnProperty,fW=A_.call(Object);function pW(s){if(!Wi(s)||Kn(s)!=cW)return!1;var o=Sh(s);if(o===null)return!0;var _=dW.call(o,"constructor")&&o.constructor;return typeof _=="function"&&_ instanceof _&&A_.call(_)==fW}var E_=pW;function mW(s,o,_){var j=-1,et=s.length;o<0&&(o=-o>et?0:et+o),_=_>et?et:_,_<0&&(_+=et),et=o>_?0:_-o>>>0,o>>>=0;for(var st=Array(et);++j<et;)st[j]=s[j+o];return st}var M_=mW;function gW(){this.__data__=new ul,this.size=0}var T_=gW;function yW(s){var o=this.__data__,_=o.delete(s);return this.size=o.size,_}var C_=yW;function vW(s){return this.__data__.get(s)}var P_=vW;function xW(s){return this.__data__.has(s)}var __=xW,bW=200;function SW(s,o){var _=this.__data__;if(_ instanceof ul){var j=_.__data__;if(!hl||j.length<bW-1)return j.push([s,o]),this.size=++_.size,this;_=this.__data__=new Ec(j)}return _.set(s,o),this.size=_.size,this}var D_=SW;function wh(s){var o=this.__data__=new ul(s);this.size=o.size}wh.prototype.clear=T_;wh.prototype.delete=C_;wh.prototype.get=P_;wh.prototype.has=__;wh.prototype.set=D_;var Ah=wh;function wW(s,o){return s&&mo(o,gh(o),s)}var I_=wW;function AW(s,o){return s&&mo(o,ls(o),s)}var O_=AW,N_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R_=N_&&typeof module=="object"&&module&&!module.nodeType&&module,EW=R_&&R_.exports===N_,L_=EW?Yr$1.Buffer:void 0,B_=L_?L_.allocUnsafe:void 0;function MW(s,o){if(o)return s.slice();var _=s.length,j=B_?B_(_):new s.constructor(_);return s.copy(j),j}var F_=MW;function TW(s,o){for(var _=-1,j=s==null?0:s.length,et=0,st=[];++_<j;){var nt=s[_];o(nt,_,s)&&(st[et++]=nt)}return st}var V_=TW;function CW(){return[]}var ky=CW,PW=Object.prototype,_W=PW.propertyIsEnumerable,U_=Object.getOwnPropertySymbols,DW=U_?function(s){return s==null?[]:(s=Object(s),V_(U_(s),function(o){return _W.call(s,o)}))}:ky,Eh=DW;function IW(s,o){return mo(s,Eh(s),o)}var z_=IW,OW=Object.getOwnPropertySymbols,RW=OW?function(s){for(var o=[];s;)bh(o,Eh(s)),s=Sh(s);return o}:ky,Gy=RW;function LW(s,o){return mo(s,Gy(s),o)}var k_=LW;function BW(s,o,_){var j=o(s);return Ti(s)?j:bh(j,_(s))}var jy=BW;function NW(s){return jy(s,gh,Eh)}var Dp=NW;function FW(s){return jy(s,ls,Gy)}var Hy=FW,VW=Cn(Yr$1,"DataView"),Wy=VW,UW=Cn(Yr$1,"Promise"),qy=UW,zW=Cn(Yr$1,"Set"),Yy=zW,G_="[object Map]",kW="[object Object]",j_="[object Promise]",H_="[object Set]",W_="[object WeakMap]",q_="[object DataView]",GW=ca(Wy),jW=ca(hl),HW=ca(qy),WW=ca(Yy),qW=ca(Ry),Mc=Kn;(Wy&&Mc(new Wy(new ArrayBuffer(1)))!=q_||hl&&Mc(new hl)!=G_||qy&&Mc(qy.resolve())!=j_||Yy&&Mc(new Yy)!=H_||Ry&&Mc(new Ry)!=W_)&&(Mc=function(s){var o=Kn(s),_=o==kW?s.constructor:void 0,j=_?ca(_):"";if(j)switch(j){case GW:return q_;case jW:return G_;case HW:return j_;case WW:return H_;case qW:return W_}return o});var da=Mc,YW=Object.prototype,XW=YW.hasOwnProperty;function QW(s){var o=s.length,_=new s.constructor(o);return o&&typeof s[0]=="string"&&XW.call(s,"index")&&(_.index=s.index,_.input=s.input),_}var Y_=QW,KW=Yr$1.Uint8Array,Mh=KW;function ZW$1(s){var o=new s.constructor(s.byteLength);return new Mh(o).set(new Mh(s)),o}var Th=ZW$1;function JW(s,o){var _=o?Th(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.byteLength)}var X_=JW,$W=/\w*$/;function e6(s){var o=new s.constructor(s.source,$W.exec(s));return o.lastIndex=s.lastIndex,o}var Q_=e6,K_=Fi?Fi.prototype:void 0,Z_=K_?K_.valueOf:void 0;function t6(s){return Z_?Object(Z_.call(s)):{}}var J_=t6;function r6(s,o){var _=o?Th(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}var $_=r6,i6="[object Boolean]",n6="[object Date]",s6="[object Map]",o6="[object Number]",a6="[object RegExp]",l6="[object Set]",c6="[object String]",u6="[object Symbol]",h6="[object ArrayBuffer]",d6="[object DataView]",f6="[object Float32Array]",p6="[object Float64Array]",m6="[object Int8Array]",g6="[object Int16Array]",y6="[object Int32Array]",v6="[object Uint8Array]",x6="[object Uint8ClampedArray]",b6="[object Uint16Array]",S6="[object Uint32Array]";function w6(s,o,_){var j=s.constructor;switch(o){case h6:return Th(s);case i6:case n6:return new j(+s);case d6:return X_(s,_);case f6:case p6:case m6:case g6:case y6:case v6:case x6:case b6:case S6:return $_(s,_);case s6:return new j;case o6:case c6:return new j(s);case a6:return Q_(s);case l6:return new j;case u6:return J_(s)}}var e2=w6;function A6(s){return typeof s.constructor=="function"&&!fh(s)?PP(Sh(s)):{}}var t2=A6,E6="[object Map]";function M6(s){return Wi(s)&&da(s)==E6}var r2=M6,i2=ua&&ua.isMap,T6=i2?mh(i2):r2,n2=T6,C6="[object Set]";function P6(s){return Wi(s)&&da(s)==C6}var s2=P6,o2=ua&&ua.isSet,_6=o2?mh(o2):s2,a2=_6,D6=1,I6=2,O6=4,l2="[object Arguments]",R6="[object Array]",L6="[object Boolean]",B6="[object Date]",N6="[object Error]",c2="[object Function]",F6="[object GeneratorFunction]",V6="[object Map]",U6="[object Number]",u2="[object Object]",z6="[object RegExp]",k6="[object Set]",G6="[object String]",j6="[object Symbol]",H6="[object WeakMap]",W6="[object ArrayBuffer]",q6="[object DataView]",Y6="[object Float32Array]",X6="[object Float64Array]",Q6="[object Int8Array]",K6="[object Int16Array]",Z6="[object Int32Array]",J6="[object Uint8Array]",$6="[object Uint8ClampedArray]",e8="[object Uint16Array]",t8="[object Uint32Array]",Pr$1={};Pr$1[l2]=Pr$1[R6]=Pr$1[W6]=Pr$1[q6]=Pr$1[L6]=Pr$1[B6]=Pr$1[Y6]=Pr$1[X6]=Pr$1[Q6]=Pr$1[K6]=Pr$1[Z6]=Pr$1[V6]=Pr$1[U6]=Pr$1[u2]=Pr$1[z6]=Pr$1[k6]=Pr$1[G6]=Pr$1[j6]=Pr$1[J6]=Pr$1[$6]=Pr$1[e8]=Pr$1[t8]=!0;Pr$1[N6]=Pr$1[c2]=Pr$1[H6]=!1;function Xy(s,o,_,j,et,st){var nt,ct=o&D6,At=o&I6,mt=o&O6;if(_&&(nt=et?_(s,j,et,st):_(s)),nt!==void 0)return nt;if(!yi(s))return s;var gt=Ti(s);if(gt){if(nt=Y_(s),!ct)return DP(s,nt)}else{var _t=da(s),Et=_t==c2||_t==F6;if(Ac(s))return F_(s,ct);if(_t==u2||_t==l2||Et&&!et){if(nt=At||Et?{}:t2(s),!ct)return At?k_(s,O_(nt,s)):z_(s,I_(nt,s))}else{if(!Pr$1[_t])return et?s:{};nt=e2(s,_t,ct)}}st||(st=new Ah);var Ct=st.get(s);if(Ct)return Ct;st.set(s,nt),a2(s)?s.forEach(function(Ft){nt.add(Xy(Ft,o,_,Ft,s,st))}):n2(s)&&s.forEach(function(Ft,Rt){nt.set(Rt,Xy(Ft,o,_,Rt,s,st))});var Bt=mt?At?Hy:Dp:At?ls:gh,Dt=gt?void 0:Bt(s);return BP(Dt||s,function(Ft,Rt){Dt&&(Rt=Ft,Ft=s[Rt]),hh(nt,Rt,Xy(Ft,o,_,Rt,s,st))}),nt}var Qy=Xy,r8=1,i8=4;function n8(s){return Qy(s,r8|i8)}var fa=n8,s8="__lodash_hash_undefined__";function o8(s){return this.__data__.set(s,s8),this}var h2=o8;function a8(s){return this.__data__.has(s)}var d2=a8;function Ky(s){var o=-1,_=s==null?0:s.length;for(this.__data__=new Ec;++o<_;)this.add(s[o])}Ky.prototype.add=Ky.prototype.push=h2;Ky.prototype.has=d2;var f2=Ky;function l8(s,o){for(var _=-1,j=s==null?0:s.length;++_<j;)if(o(s[_],_,s))return!0;return!1}var p2=l8;function c8(s,o){return s.has(o)}var m2=c8,u8=1,h8=2;function d8(s,o,_,j,et,st){var nt=_&u8,ct=s.length,At=o.length;if(ct!=At&&!(nt&&At>ct))return!1;var mt=st.get(s),gt=st.get(o);if(mt&&gt)return mt==o&&gt==s;var _t=-1,Et=!0,Ct=_&h8?new f2:void 0;for(st.set(s,o),st.set(o,s);++_t<ct;){var Bt=s[_t],Dt=o[_t];if(j)var Ft=nt?j(Dt,Bt,_t,o,s,st):j(Bt,Dt,_t,s,o,st);if(Ft!==void 0){if(Ft)continue;Et=!1;break}if(Ct){if(!p2(o,function(Rt,Nt){if(!m2(Ct,Nt)&&(Bt===Rt||et(Bt,Rt,_,j,st)))return Ct.push(Nt)})){Et=!1;break}}else if(!(Bt===Dt||et(Bt,Dt,_,j,st))){Et=!1;break}}return st.delete(s),st.delete(o),Et}var Zy=d8;function f8(s){var o=-1,_=Array(s.size);return s.forEach(function(j,et){_[++o]=[et,j]}),_}var g2=f8;function p8(s){var o=-1,_=Array(s.size);return s.forEach(function(j){_[++o]=j}),_}var y2=p8,m8=1,g8=2,y8="[object Boolean]",v8="[object Date]",x8="[object Error]",b8="[object Map]",S8="[object Number]",w8="[object RegExp]",A8="[object Set]",E8="[object String]",M8="[object Symbol]",T8="[object ArrayBuffer]",C8="[object DataView]",v2=Fi?Fi.prototype:void 0,Xw=v2?v2.valueOf:void 0;function P8(s,o,_,j,et,st,nt){switch(_){case C8:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case T8:return!(s.byteLength!=o.byteLength||!st(new Mh(s),new Mh(o)));case y8:case v8:case S8:return uh(+s,+o);case x8:return s.name==o.name&&s.message==o.message;case w8:case E8:return s==o+"";case b8:var ct=g2;case A8:var At=j&m8;if(ct||(ct=y2),s.size!=o.size&&!At)return!1;var mt=nt.get(s);if(mt)return mt==o;j|=g8,nt.set(s,o);var gt=Zy(ct(s),ct(o),j,et,st,nt);return nt.delete(s),gt;case M8:if(Xw)return Xw.call(s)==Xw.call(o)}return!1}var x2=P8,_8=1,D8=Object.prototype,I8=D8.hasOwnProperty;function O8(s,o,_,j,et,st){var nt=_&_8,ct=Dp(s),At=ct.length,mt=Dp(o),gt=mt.length;if(At!=gt&&!nt)return!1;for(var _t=At;_t--;){var Et=ct[_t];if(!(nt?Et in o:I8.call(o,Et)))return!1}var Ct=st.get(s),Bt=st.get(o);if(Ct&&Bt)return Ct==o&&Bt==s;var Dt=!0;st.set(s,o),st.set(o,s);for(var Ft=nt;++_t<At;){Et=ct[_t];var Rt=s[Et],Nt=o[Et];if(j)var Gt=nt?j(Nt,Rt,Et,o,s,st):j(Rt,Nt,Et,s,o,st);if(!(Gt===void 0?Rt===Nt||et(Rt,Nt,_,j,st):Gt)){Dt=!1;break}Ft||(Ft=Et=="constructor")}if(Dt&&!Ft){var dr=s.constructor,ts=o.constructor;dr!=ts&&"constructor"in s&&"constructor"in o&&!(typeof dr=="function"&&dr instanceof dr&&typeof ts=="function"&&ts instanceof ts)&&(Dt=!1)}return st.delete(s),st.delete(o),Dt}var b2=O8,R8=1,S2="[object Arguments]",w2="[object Array]",Jy="[object Object]",L8=Object.prototype,A2=L8.hasOwnProperty;function B8(s,o,_,j,et,st){var nt=Ti(s),ct=Ti(o),At=nt?w2:da(s),mt=ct?w2:da(o);At=At==S2?Jy:At,mt=mt==S2?Jy:mt;var gt=At==Jy,_t=mt==Jy,Et=At==mt;if(Et&&Ac(s)){if(!Ac(o))return!1;nt=!0,gt=!1}if(Et&&!gt)return st||(st=new Ah),nt||Ny(s)?Zy(s,o,_,j,et,st):x2(s,o,At,_,j,et,st);if(!(_&R8)){var Ct=gt&&A2.call(s,"__wrapped__"),Bt=_t&&A2.call(o,"__wrapped__");if(Ct||Bt){var Dt=Ct?s.value():s,Ft=Bt?o.value():o;return st||(st=new Ah),et(Dt,Ft,_,j,st)}}return Et?(st||(st=new Ah),b2(s,o,_,j,et,st)):!1}var E2=B8;function M2(s,o,_,j,et){return s===o?!0:s==null||o==null||!Wi(s)&&!Wi(o)?s!==s&&o!==o:E2(s,o,_,j,M2,et)}var T2=M2;function N8(s,o){return s!=null&&o in Object(s)}var C2=N8;function F8(s,o,_){o=cs(o,s);for(var j=-1,et=o.length,st=!1;++j<et;){var nt=fl(o[j]);if(!(st=s!=null&&_(s,nt)))break;s=s[nt]}return st||++j!=et?st:(et=s==null?0:s.length,!!et&&dh(et)&&ch(nt,et)&&(Ti(s)||ph(s)))}var P2=F8;function V8(s,o){return s!=null&&P2(s,o,C2)}var _2=V8,U8=function(){return Yr$1.Date.now()},$y=U8,z8="Expected a function",k8=Math.max,G8=Math.min;function j8(s,o,_){var j,et,st,nt,ct,At,mt=0,gt=!1,_t=!1,Et=!0;if(typeof s!="function")throw new TypeError(z8);o=jw(o)||0,yi(_)&&(gt=!!_.leading,_t="maxWait"in _,st=_t?k8(jw(_.maxWait)||0,o):st,Et="trailing"in _?!!_.trailing:Et);function Ct(es){var ds=j,tn=et;return j=et=void 0,mt=es,nt=s.apply(tn,ds),nt}function Bt(es){return mt=es,ct=setTimeout(Rt,o),gt?Ct(es):nt}function Dt(es){var ds=es-At,tn=es-mt,rn=o-ds;return _t?G8(rn,st-tn):rn}function Ft(es){var ds=es-At,tn=es-mt;return At===void 0||ds>=o||ds<0||_t&&tn>=st}function Rt(){var es=$y();if(Ft(es))return Nt(es);ct=setTimeout(Rt,Dt(es))}function Nt(es){return ct=void 0,Et&&j?Ct(es):(j=et=void 0,nt)}function Gt(){ct!==void 0&&clearTimeout(ct),mt=0,j=At=et=ct=void 0}function dr(){return ct===void 0?nt:Nt($y())}function ts(){var es=$y(),ds=Ft(es);if(j=arguments,et=this,At=es,ds){if(ct===void 0)return Bt(At);if(_t)return clearTimeout(ct),ct=setTimeout(Rt,o),Ct(At)}return ct===void 0&&(ct=setTimeout(Rt,o)),nt}return ts.cancel=Gt,ts.flush=dr,ts}var Tc=j8;function H8(s){var o=s==null?0:s.length;return o?s[o-1]:void 0}var D2=H8;function W8(s,o){return s>o}var I2=W8;function q8(s,o){return o.length<2?s:Uy(s,M_(o,0,-1))}var O2=q8;function Y8(s,o){return T2(s,o)}var Cc=Y8;function X8(s,o,_){for(var j=-1,et=s.length;++j<et;){var st=s[j],nt=o(st);if(nt!=null&&(ct===void 0?nt===nt&&!po(nt):_(nt,ct)))var ct=nt,At=st}return At}var R2=X8;function Q8(s){return s&&s.length?R2(s,Dy,I2):void 0}var Qw=Q8;function K8(s,o){return o=cs(o,s),s=O2(s,o),s==null||delete s[fl(D2(o))]}var L2=K8;function Z8(s){return E_(s)?void 0:s}var B2$1=Z8,J8=1,$8=2,eq=4,tq=zy(function(s,o){var _={};if(s==null)return _;var j=!1;o=_y(o,function(st){return st=cs(st,s),j||(j=st.length>1),st}),mo(s,Hy(s),_),j&&(_=Qy(_,J8|$8|eq,B2$1));for(var et=o.length;et--;)L2(_,o[et]);return _}),Ch=tq;function rq(s,o,_,j){if(!yi(s))return s;o=cs(o,s);for(var et=-1,st=o.length,nt=st-1,ct=s;ct!=null&&++et<st;){var At=fl(o[et]),mt=_;if(At==="__proto__"||At==="constructor"||At==="prototype")return s;if(et!=nt){var gt=ct[At];mt=j?j(gt,At,ct):void 0,mt===void 0&&(mt=yi(gt)?gt:ch(o[et+1])?[]:{})}hh(ct,At,mt),ct=ct[At]}return s}var N2=rq;function iq(s,o,_){for(var j=-1,et=o.length,st={};++j<et;){var nt=o[j],ct=Uy(s,nt);_(ct,nt)&&N2(st,cs(nt,s),ct)}return st}var F2=iq;function nq(s,o){return F2(s,o,function(_,j){return _2(s,j)})}var V2=nq,sq=zy(function(s,o){return s==null?{}:V2(s,o)}),Pn=sq,oq="Expected a function";function aq(s,o,_){var j=!0,et=!0;if(typeof s!="function")throw new TypeError(oq);return yi(_)&&(j="leading"in _?!!_.leading:j,et="trailing"in _?!!_.trailing:et),Tc(s,o,{leading:j,maxWait:o,trailing:et})}var Kw=aq;function ev(s){for(let o of Object.keys(s))s[o]===void 0&&delete s[o];return s}function qi(s,o){return Object.setPrototypeOf(s,o),s}var lq=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),cq=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),uq=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||Ph&&"ontouchend"in document,hq=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,dq=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,fq=()=>{if(typeof window>"u")return!1;let s=navigator.userAgent,o=navigator.vendor;return/Safari/i.test(s)&&/Apple Computer/.test(o)},pq=()=>{if(typeof window>"u")return null;let s=navigator.userAgent.match(/Version\/(\d+\.\d)/);return s&&s[1]},mq=()=>{if(typeof window>"u")return;let s=new URLSearchParams(window.location.search).get("desktop-app-version");return s?(window.localStorage.setItem("desktop-app-version",s),s):window.localStorage.getItem("desktop-app-version")??"0.0.6"},Zw=lq();Zw&&mq();var Ph=cq(),go=uq(),U2=hq(),Ci=dq(),Jw=fq(),z2=Number(pq());function tv(s){return Array.isArray(s)?s:[s]}function rv(s,o){let _=0;for(;_<s.length&&_<o.length;){if(s[_]<o[_])return-1;if(s[_]>o[_])return 1;_+=1}return _!==o.length?-1:_!==s.length?1:0}function Ip(s){return Ph?s.metaKey:s.ctrlKey}function k2(s){return s.wheelDeltaY===0||s.deltaY===0?Ph&&s.shiftKey&&Math.abs(s.wheelDeltaX)>=120?!1:s.wheelDeltaX?s.wheelDeltaX===-3*s.deltaX||s.wheelDeltaX===-3*window.devicePixelRatio*s.deltaX:s.deltaMode===0:s.wheelDeltaY?s.wheelDeltaY===-3*s.deltaY||s.wheelDeltaY===-3*window.devicePixelRatio*s.deltaY:s.deltaMode===0}var Je=[],nv={},Op={},iv={};function G2(s){Je.includes(s)||Je.push(s)}function _h(s){delete nv[s.pointerId];for(let o=0;o<Je.length;o++)if(Je[o].pointerId===s.pointerId){Je.splice(o,1);break}}function j2(){Je.splice(0,Je.length)}function sv(s){if(s.pointerType!=="touch")return;let o=nv[s.pointerId];o===void 0&&(o={x:0,y:0},nv[s.pointerId]=o),o.x=s.pageX,o.y=s.pageY}function ov(s){let o=s.pointerId===Je[0].pointerId?Je[1]:Je[0];return nv[o.pointerId]}function H2$1(s){Op[s.key]=!0,iv[s.key]=iv[s.key]===void 0?1:iv[s.key]+1}function W2(s){if(Ph&&Op.Meta)for(let o in Op)Op[o]=!1;else Op[s.key]=!1;iv={}}function q2(s){s.addEventListener("pointerdown",G2,!0),s.addEventListener("pointerdown",sv,!0),s.addEventListener("pointermove",sv,!0),s.addEventListener("pointerup",_h,!0),s.addEventListener("pointercancel",_h,!0),s.addEventListener("pointerleave",_h,!0),window.addEventListener("keydown",H2$1,!0),window.addEventListener("keyup",W2,!0)}function Y2(s){s.removeEventListener("pointerdown",G2,!0),s.removeEventListener("pointerdown",sv,!0),s.removeEventListener("pointermove",sv,!0),s.removeEventListener("pointerup",_h,!0),s.removeEventListener("pointercancel",_h,!0),s.removeEventListener("pointerleave",_h,!0),window.removeEventListener("keydown",H2$1,!0),window.removeEventListener("keyup",W2,!0)}var X2,Q2=new Promise(s=>{X2=s}),av;function K2(){if(av)return av;async function s(){let o="https://unpkg.com/@splinetool/navmesh-wasm@1.9.30/build",_=__vitePreload(()=>import("./navmesh-BFd9Mv4x.js"),[]),[j,et]=await Promise.all([_,fetch(`${o}/navmesh.wasm`).then(ct=>ct.arrayBuffer())]),st=j.default,nt=await st({wasmBinary:et});X2(nt)}return av=s(),av}var Z2,J2=new Promise(s=>{Z2=s}),lv;function $2(){if(lv)return lv;async function s(){let o=await __vitePreload(()=>import("./physics-BM4kW-A5.js"),[]);await o.init(),Z2(o)}return lv=s(),lv}var Ke=class{modifyById(s,o){let _=this;if(_[s]===void 0)throw new Error("not expected");{let j={..._,[s]:o};return Object.setPrototypeOf(j,Ke.prototype),j}}add(s,o){var _;return((_=this.runOp({type:1,id:s,data:o}))==null?void 0:_.data)??this}runOp(s){let o=this;if(s.type===1){let _=o[s.id],j;_===void 0?j={type:2,id:s.id}:j={type:1,id:s.id,data:_};let{id:et,data:st}=s,nt={...o,[et]:st};return Object.setPrototypeOf(nt,Ke.prototype),{data:nt,actual:s,reverse:j}}else if(s.type===2){let{id:_}=s,j=o[_];if(j===void 0)return null;{let et={...o};return Object.setPrototypeOf(et,Ke.prototype),delete et[_],{data:et,actual:s,reverse:{type:1,id:_,data:j}}}}return null}};function Rp(s){if(s.deepFreeze!==void 0){s.deepFreeze(s);return}let o=Object.getOwnPropertyNames(s);for(let _ of o){let j=s[_];j&&typeof j=="object"&&Rp(j)}return Object.freeze(s)}function eD(s,o){let _=0;for(;_<s.length&&_<o.length;){if(s[_]<o[_])return-1;if(s[_]>o[_])return 1;_+=1}return _!==o.length?-1:_!==s.length?1:0}var Dh=class extends Error{};function cv(s){let o={...s};return Object.setPrototypeOf(o,Object.getPrototypeOf(s)),o}function yo(s,o,_){if(s===void 0?o===void 0?(s=0,o=10):s=o-10:o===void 0&&(o=s+10),s>o){let st=s;s=o,o=st}let j=[],et=1/(_+1);for(let st=0;st<_;st++){let nt=s+(o-s)*(st+.75+Math.random()*.5)*et;j.push(nt)}return j}function Ih(s){return s instanceof Uint8Array||s instanceof Uint16Array||s instanceof Uint32Array||s instanceof Int8Array||s instanceof Int16Array||s instanceof Int32Array||s instanceof Float32Array||s instanceof Float64Array}function tD(){return typeof process<"u"}function rD(s,o){for(let _ of s)o(_.id,_.data)!==!0&&rD(_.children,o)}function iD(s,o){if(o(s.id,s.data)!==!0)for(let _ of s.children)iD(_,o)}var gr=class extends Array{constructor(...s){super(...s),Object.setPrototypeOf(this,gr.prototype)}deepFreeze(){let s=0;for(;s<this.length;)Rp(this[s]),s++}fillCaches0(s,o){this.objCaches.set(s.id,s),this.parentCaches.set(s.id,o);for(let _ of s.children)this.fillCaches0(_,s.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let s of this)this.fillCaches0(s,null)}}randomId(){this.fillCaches();let s=Array.from(this.objCaches.keys());if(s.length!==0)return s[Math.max(0,Math.floor(Math.random()*s.length)-1)]}nonExistOrDescendantOf(s,o){if(!this.has(s))return!0;for(;s;){let _=this.parent(s);if(_===o)return!0;s=_}return!1}rootAcestor(s){for(;s;){let o=this.parent(s);if(o)s=o;else return s}return s}isDescendantOf(s,o){for(;s;){let _=this.parent(s);if(_===o)return!0;s=_}return!1}data(s){var o;return(o=this.get(s))==null?void 0:o.data}has(s){return this.childrenOf(s)!==void 0}get(s){return this.fillCaches(),this.objCaches.get(s)}childrenOf(s){var o;return s===null?this:(o=this.get(s))==null?void 0:o.children}traverseFrom(s,o){if(s===null)this.traverse(o);else{let _=this.get(s);_&&iD(_,o)}}traverse(s){rD(this,s)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(s){return this.fillCaches(),this.parentCaches.get(s)}childrenArray(s){return s===null?this:this.get(s).children}modifyById(s,o){if(this.get(s)===void 0)throw new Error("not expected");{let _=this.parent(s),j=this.childrenArray(_),et=j.findIndex(nt=>nt.id===s);if(et<0)throw new Error("not expected");let st=j[et];return j=[...j],j[et]={...st,data:o},this.modifyArrayBy(_,j)}}modifyArrayBy(s,o){let _=s,j=o;for(;_!==null;){let st=j,nt=_;if(_=this.parent(_),_===void 0)throw new Error;j=this.childrenArray(_);let ct=j.findIndex(At=>At.id===nt);if(ct<0)throw new Error;j=[...j],j[ct]={...j[ct],children:st}}Object.setPrototypeOf(j,gr.prototype);let et=j;return et.fillCaches(),et}runOp(s){switch(s.type){case 7:return this.addOp(s);case 8:return this.deleteOp(s);case 9:return this.moveOp(s)}return null}checkDuplicatedIdRec({id:s,children:o}){if(this.get(s)!==void 0)return!0;for(let _ of o)if(this.checkDuplicatedIdRec(_))return!0;return!1}addOp(s){let{parent:o,fi:_,id:j,data:et,children:st}=s;if(o!==null&&this.get(o)===void 0||this.checkDuplicatedIdRec(s))return null;{let nt=o,ct=this.childrenArray(nt),At={fi:_,id:j,data:et,children:st};return ct=[...ct,At],ct.sort((mt,gt)=>mt.fi-gt.fi),s.localIndex=ct.indexOf(At),{data:this.modifyArrayBy(nt,ct),actual:s,reverse:{type:8,id:j}}}}deleteOp(s){let{id:o}=s;if(this.get(o)===null)return null;{let _=this.parent(o);if(_===void 0)return null;let j=this.childrenArray(_),et=j.findIndex(nt=>nt.id===o);s.localIndex=et,j=[...j];let st=j.splice(et,1)[0];return{data:this.modifyArrayBy(_,j),actual:s,reverse:{type:7,...st,parent:_}}}}moveOp(s){let{parent:o,fi:_,id:j}=s;if(o!==null&&this.get(o)===void 0)return this.deleteOp({type:8,id:j});if(o!==null){let _t=o;for(;_t!==null;){if(_t===void 0)throw new Error;if(_t===j)throw new Dh("cyclic tree");_t=this.parent(_t)}}let et=this.parent(j);if(et===void 0)return null;let st=et,nt=this.childrenArray(et),ct=nt.findIndex(_t=>_t.id===j);nt=[...nt];let At=nt.splice(ct,1)[0],mt=this.modifyArrayBy(et,nt);et=o,nt=mt.childrenArray(et);let gt=At.fi;return At={...At,fi:_},nt=[...nt,At],nt.sort((_t,Et)=>_t.fi-Et.fi),s.localIndex=nt.indexOf(At),mt=mt.modifyArrayBy(et,nt),{data:mt,actual:s,reverse:{type:9,parent:st,fi:gt,id:j}}}previous(s,o){if(o===null){let j=this.childrenArray(s);return j.length===0?null:j[j.length-1].id}let _=null;for(let j of this.childrenArray(s)){if(j.id===o)return _;_=j.id}return null}traverseSortNext(s){let o=this.parent(s);if(o!==void 0){let _=this.childrenArray(o),j=_.findIndex(et=>et.id===s)+1;if(j<_.length)return _[j].id;if(o)return this.traverseSortNext(o)}}sortNext(s){let o=this.childrenArray(s);return o.length>0?o[0].id:this.traverseSortNext(s)}traverseSortPrevious(s){let o=this.childrenArray(s);return o.length>0?this.traverseSortPrevious(o[o.length-1].id):s}sortPrevious(s){let o=this.parent(s);if(o!==void 0){let _=this.childrenArray(o),j=_.findIndex(et=>et.id===s)-1;return j>=0?this.traverseSortPrevious(_[j].id):o}}getAllSorted(s){let o=[];for(let _ of s){let j=this.getWithSortKey(_.id);j!==void 0&&o.push({..._,...j})}o.sort((_,j)=>eD(_.sortKey,j.sortKey));for(let _ of o)delete _.sortKey;return o}getWithSortKey(s){var o=s;let _=[],j=this.get(o),et=j;if(j!==void 0){for(;o;)_.splice(0,0,j.fi),o=this.parent(o),o!==null&&(j=this.get(o));return{...et,sortKey:_}}}insertBeforeHelper(s,o,_){return this.insertAfterHelper(s,this.previous(s,o),_)}insertAfterHelper(s,o,_){let j=this.childrenArray(s);if(o===null){if(j.length===0)return yo(0,_,_);{let et=j[0].fi;return yo(et-_,et,_)}}else{let et=this.get(o);if(et===void 0||this.parent(o)!==s)throw new Error("illegal args");let st=j.find(nt=>nt.fi>et.fi);if(st===void 0){let nt=j[j.length-1].fi;return yo(nt,nt+_,_)}else return yo(et.fi,st.fi,_)}}},Oh;(s=>{function o(_,j){if(j.type!==0)return null;if(Array.isArray(_)){let et=j.props,st={},nt=[..._],ct=!1;if(et)for(let At of Object.keys(et)){let mt=parseInt(At);if(isNaN(mt))throw new Error("wrong index");st[At]=nt[mt],nt[mt]=et[At],ct=!0}return ct?{data:nt,actual:j,reverse:{type:0,props:st}}:null}else{let et=j.props,st={},nt={..._},ct=!1;if(et)for(let At of Object.keys(et)){st[At]=nt[At];let mt=et[At];mt===void 0?delete nt[At]:nt[At]=mt,ct=!0}return ct?{data:nt,actual:j,reverse:{type:0,props:st}}:null}}s.runOp=o})(Oh||(Oh={}));var Ue$1=class extends Array{constructor(...o){super(...o),Object.setPrototypeOf(this,Ue$1.prototype)}deepFreeze(){let o=0;for(;o<this.length;)Rp(this[o]),o++}fillCaches0(o){this.objCaches.set(o.id,o)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let o of this)this.fillCaches0(o)}}randomId(){this.fillCaches();let o=Array.from(this.objCaches.keys());if(o.length!==0)return o[Math.max(0,Math.floor(Math.random()*o.length)-1)]}data(o){var _;return(_=this.get(o))==null?void 0:_.data}get(o){return this.fillCaches(),this.objCaches.get(o)}modifyById(o,_){if(this.get(o)===void 0)throw new Error("not expected");{let j=this,et=j.findIndex(nt=>nt.id===o);if(et<0)throw new Error("not expected");let st=j[et];return j=[...j],j[et]={...st,data:_},this.modifyArrayBy(j)}}modifyArrayBy(o){Object.setPrototypeOf(o,Ue$1.prototype);let _=o;return tD()||_.fillCaches(),_}runOp(o){switch(o.type){case 4:return this.addOp(o);case 5:return this.deleteOp(o);case 6:return this.moveOp(o)}return null}addOp(o){let{fi:_,id:j,data:et}=o,st=this,nt={fi:_,id:j,data:et};return st=[...st,nt],st.sort((ct,At)=>ct.fi-At.fi),o.localIndex=st.indexOf(nt),{data:this.modifyArrayBy(st),actual:o,reverse:{type:5,id:j}}}deleteOp(o){let{id:_}=o,j=this,et=j.findIndex(nt=>nt.id===_);if(et===-1)return null;o.localIndex=et,j=[...j];let st=j.splice(et,1)[0];return{data:this.modifyArrayBy(j),actual:o,reverse:{type:4,...st}}}moveOp(o){let{fi:_,id:j}=o,et=this;et=[...et];let st=et.findIndex(At=>At.id===j);if(st===-1)return null;let nt=et[st].fi,ct={...et[st],fi:_};return et[st]=ct,et.sort((At,mt)=>At.fi-mt.fi),o.localIndex=et.indexOf(ct),{data:this.modifyArrayBy(et),actual:o,reverse:{type:6,fi:nt,id:j}}}previous(o){if(o===null)return this.length===0?null:this[this.length-1].id;let _=null;for(let j of this){if(j.id===o)return _;_=j.id}return null}insertBeforeHelper(o,_){return this.insertAfterHelper(this.previous(o),_)}insertAfterHelper(o,_){let j=this;if(o===null){if(j.length===0)return yo(0,_,_);{let et=j[0].fi;return yo(et-_,et,_)}}else{let et=this.get(o);if(et===void 0)throw new Error("illegal args");let st=j.find(nt=>nt.fi>et.fi);if(st===void 0){let nt=j[j.length-1].fi;return yo(nt,nt+_,_)}else return yo(et.fi,st.fi,_)}}};function Rh(s){return s&&typeof s=="object"&&s instanceof yr$1}var yr$1=class{unusedFunOverridesTable(o){}runOp(o){let _=[],j=this,et=0,st={};for(;et<o.path.length;){if(_.push(j),j=j===void 0?void 0:j[o.path[et]],j!==void 0&&!Rh(j))return null;et+=1}j=j?cv(j):new yr$1;for(let[At,mt]of Object.entries(o.props)){let gt=j[At];st[At]=gt,mt===void 0?delete j[At]:j[At]=mt}for(;et>0;){if(Object.keys(j).length===0){let At=_[et-1];At&&(j=cv(At),delete j[o.path[et-1]])}else{let At=_[et-1];if(At){let mt=cv(At);mt[o.path[et-1]]=j,j=mt}else{let mt=new yr$1;mt[o.path[et-1]]=j,j=mt}}et-=1}let nt=Object.setPrototypeOf(j,yr$1.prototype),ct={...o,props:st};return{data:nt,actual:o,reverse:ct}}},vo;(s=>{function o(et,st){return Lp(et,st)??et}s.apply=o;function _(et,st){return e1(et,st)}s.merge=_;function j(et,st){let nt=0,ct=st.path,At=et;for(;nt<ct.length&&At!==void 0;){if(At=Sr$1.zoomOnce(At,ct[nt]),At===void 0)return st;if(!Rh(At))return;nt+=1}if(At===void 0)return st;if(Rh(At))if(st.type===0){let mt={...st.props};for(let gt of Object.keys(At))delete mt[gt];return{...st,props:mt}}else if(st.type===1||st.type===4||st.type===7){let mt=$w([st],At);return mt?(console.log(mt),mt):st}else return st}s.filterOp=j})(vo||(vo={}));function $w(s,o){if(o===void 0)return;let _=!1,j=s.map(et=>{let st=et.id,nt=Lp(et.data,o[st]);if(_=_||nt!==void 0,nt===void 0&&(nt=et.data),et.children){let ct=$w(et.children,o);return ct!==void 0?_=!0:ct=et.children,{...et,id:st,data:nt,children:ct}}else return{...et,id:st,data:nt}});if(_)return j}function gq(s,o){if(o===void 0)return;let _=!1,j=s.map(et=>{let st=et.id,nt=Lp(et.data,o[st]);return _=_||nt!==void 0,nt===void 0&&(nt=et.data),{...et,id:st,data:nt}});if(_)return Object.setPrototypeOf(j,Object.getPrototypeOf(s)),j}function Lp(s,o){if(!Rh(o))return o;if(s instanceof gr){let _=$w(s,o);return _!==void 0&&Object.setPrototypeOf(_,Object.getPrototypeOf(s)),_}else{if(s instanceof Ue$1)return gq(s,o);if(Array.isArray(s)){let _=!1,j=s.map((et,st)=>{let nt=Lp(et,o[st]);return _=_||nt!==void 0,nt===void 0&&(nt=et),nt});return _?(Object.setPrototypeOf(j,Object.getPrototypeOf(s)),j):void 0}else{if(s instanceof yr$1)return e1(s,o);if(s&&typeof s=="object"){let _={},j=!1;for(let[et,st]of Object.entries(s)){let nt=Lp(st,o[et]);j=j||nt!==void 0,nt===void 0&&(nt=st),_[et]=nt}return j?(Object.setPrototypeOf(_,Object.getPrototypeOf(s)),_):void 0}}}}function e1(s,o){if(s===void 0)return o;if(o===void 0)return s;if(!Rh(o))return o;if(!Rh(s))return vo.apply(s,o);let _=new Set;for(let et of Object.keys(s))_.add(et);for(let et of Object.keys(o))_.add(et);let j=new yr$1;for(let et of _){let st=e1(s===void 0?void 0:s[et],o===void 0?void 0:o[et]);j[et]=st}return j}function nD(s,o){let _={cur:[],result:[],len:0};return s=Bp(s,o,_)??s,[s,_.result]}function uv(s,o){return s===null?null:(s.cur[s.len]=o,s.len+=1,s)}function hv(s){s&&(s.len-=1)}function yq(s){if(s===null)return null;s.result.push(s.cur.slice(0,s.len))}function sD(s,o,_){let j=!1,et=s.map(st=>{let nt=st.id,ct=o[nt];if(ct!==void 0&&typeof ct=="string"&&(j=!0,nt=ct,_!==null))throw new Error("not supported");let At=Bp(st.data,o,uv(_,nt));hv(_),j=j||At!==void 0,At===void 0&&(At=st.data);let mt=sD(st.children,o,_);return mt!==void 0?j=!0:mt=st.children,{...st,id:nt,data:At,children:mt}});if(j)return et}function vq(s,o,_){let j=!1,et=s.map(st=>{let nt=st.id,ct=o[nt];if(ct!==void 0&&typeof ct=="string"&&(j=!0,nt=ct,_!==null))throw new Error("not supported");let At=Bp(st.data,o,uv(_,nt));return hv(_),j=j||At!==void 0,At===void 0&&(At=st.data),{...st,id:nt,data:At}});if(j)return Object.setPrototypeOf(et,Object.getPrototypeOf(s)),et}function Bp(s,o,_){if(s instanceof gr){let j=sD(s,o,_);return j!==void 0&&Object.setPrototypeOf(j,Object.getPrototypeOf(s)),j}else{if(s instanceof Ue$1)return vq(s,o,_);if(Array.isArray(s)){let j=!1,et=s.map((st,nt)=>{let ct=Bp(st,o,uv(_,nt));return hv(_),j=j||ct!==void 0,ct===void 0&&(ct=st),ct});return j?(Object.setPrototypeOf(et,Object.getPrototypeOf(s)),et):void 0}else if(s&&typeof s=="object"&&!Ih(s)){let j={},et=!1;for(let[st,nt]of Object.entries(s))if(st!=="name"&&st!=="variableId"){let ct=o[st];if(typeof ct=="string"){if(_!==null)throw new Error("not supported");et=!0,st=ct}let At=Bp(nt,o,uv(_,st));hv(_),et=et||At!==void 0,At===void 0&&(At=nt),j[st]=At}else j[st]=nt;return et?(Object.setPrototypeOf(j,Object.getPrototypeOf(s)),j):void 0}else if(typeof s=="string"){let j=o[s];return j!==void 0&&yq(_),j}else return}}var Lh;(s=>{function o(_,j){let et=Sr$1.zoom(j,_.path);if(typeof et=="object"){let st={};for(let nt of Object.keys(_.props))st[nt]=et[nt];return{..._,props:st}}else return{..._,props:{}}}s.replaceProps=o})(Lh||(Lh={}));var Rr$1;(s=>{function o(At,mt){return{...At,path:At.path.slice(mt)}}s.drop=o;function _(At,mt){var gt;return((gt=j(At,mt))==null?void 0:gt.data)??At}s.applySimple=_;function j(At,mt){var Et,Ct;let gt=mt.path;for(var _t=[];;){let Bt;if(At instanceof yr$1&&mt.type===0&&(Bt=At.runOp({...mt,path:gt.slice(_t.length)}),Bt===null&&(Bt=void 0)),Bt===void 0&&_t.length===gt.length&&(At instanceof gr||At instanceof Ue$1||At instanceof Ke?Bt=At.runOp(mt):Bt=Oh.runOp(At,mt)),Bt!==void 0)if(Bt!==null){let Rt=Bt.data;for(let Nt=_t.length-1;Nt>=0;Nt--){let Gt=gt[Nt],dr=_t[Nt];if(dr instanceof gr){if(typeof Gt=="number")throw new Error("illegal arg");Rt=dr.modifyById(Gt,Rt)}else if(dr instanceof Ue$1){if(typeof Gt=="number")throw new Error("illegal arg");Rt=dr.modifyById(Gt,Rt)}else if(dr instanceof Ke){if(typeof Gt=="number")throw new Error("illegal arg");Rt=dr.modifyById(Gt,Rt)}else if(dr instanceof yr$1){let ts={...dr,[Gt]:Rt};Rt=Object.setPrototypeOf(ts,yr$1.prototype)}else if(typeof dr=="object")if(Array.isArray(dr)){if(typeof Gt=="string"&&(Gt=parseInt(Gt),isNaN(Gt)))throw new Error("Invalid path");let ts=Rt;Rt=[...dr],Rt[Gt]=ts}else Rt={...dr,[Gt]:Rt};else return null}return{data:Rt,actual:{...Bt.actual,path:gt},reverse:{...Bt.reverse,path:gt}}}else return null;let Dt=gt[_t.length],Ft;if(At instanceof gr){if(typeof Dt=="number")throw new Error("");Ft=(Et=At.get(Dt))==null?void 0:Et.data}else if(At instanceof Ue$1){if(typeof Dt=="number")throw new Error("");Ft=(Ct=At.get(Dt))==null?void 0:Ct.data}else At!==null&&(Ft=At[Dt]);if(Ft!==void 0)_t.push(At),At=Ft;else return null}}s.apply=j;function et(At,mt){for(let gt=0;gt<At.length&&gt<mt.length;gt++)if(At[gt]!==mt[gt])return!0;return!1}s.pathDisjoint=et;function st(At,mt){if(At.length!==mt.length)return!1;for(let gt=0;gt<At.length;gt++)if(At[gt]!==mt[gt])return!1;return!0}s.pathEq=st;function nt(At,mt){return et(At.path,mt.path)}s.commutative=nt;function ct(At,mt){return At.type===0&&mt.type===0&&st(At.path,mt.path)?Object.keys(At.props).every(gt=>mt.props[gt]!==void 0):!1}s.subsumed=ct})(Rr$1||(Rr$1={}));var Np;(s=>{function o(){return[]}s.empty=o;function _(mt,gt){let _t=[];for(let Et of mt){let[Ct,...Bt]=Et.path;Ct===gt&&_t.push({...Et,path:Bt})}return _t}s.removePrefix=_;function j(mt,gt){return mt.map(_t=>({..._t,path:[gt,..._t.path]}))}s.addPrefix=j;function et(mt,gt){return[...mt,...gt]}s.concat=et;function st(mt,gt){return[...mt.filter(_t=>!gt.some(Et=>Rr$1.subsumed(_t,Et))),...gt]}s.compress=st;function nt(mt,gt){return mt.every(_t=>gt.every(Et=>Rr$1.commutative(_t,Et)))}s.commutative=nt;function ct(mt,gt){for(let _t of gt){let Et=At(mt,_t);Et!==null&&(mt=Et.data)}return mt}s.applyAll=ct;function At(mt,gt){var _t=mt;let Et=[],Ct=[];for(let Bt of gt)try{if(Bt.type===3||Bt.type===5&&Bt.path[Bt.path.length-1]==="variables"){let Dt,Ft,Rt;if(Bt.type===3?(Dt=Sr$1.zoom(_t,[...Bt.path,Bt.id]),Rt=Rr$1.apply(_t,{...Bt,type:2})):(Dt=Sr$1.zoom(_t,[...Bt.path,Bt.id,"value"]),Rt=Rr$1.apply(_t,Bt)),Rt!==null){_t=Rt.data;let[Nt,Gt]=nD(_t,{[Bt.id]:Dt});_t=Nt;for(let dr=0;dr<Gt.length;dr++){let ts=Gt[dr],es=ts.pop();if(typeof es=="number"){let ds=[es];for(let rn=dr+1;rn<Gt.length;rn++){let un=Gt[rn],$n=un[un.length-1];if(typeof $n=="number"&&Sr$1.equal(ts,un.slice(0,un.length-1)))ds.push($n),Gt.splice(rn,1);else break}let tn=Sr$1.zoom(_t,ts);Ft=tn.map((rn,un)=>ds.includes(un)?Bt.id:rn),Dt=tn,es=ts.pop()}else{if(es==="alphaOverride"||es==="alpha"){Dt/=100;let ds=Dt,tn=Sr$1.zoom(_t,ts.slice(0,ts.length-2)),rn=tn.layers.map(un=>un.id===ts[ts.length-1]?{...un,data:{...un.data,[es]:ds}}:un);Object.setPrototypeOf(rn,Object.getPrototypeOf(tn.layers)),tn.layers=rn}Ft=Bt.id}Et.push({type:0,path:ts,props:{[es]:Dt}}),Ct.push({type:0,path:ts,props:{[es]:Ft}})}Ct.push(Rt.reverse),Et.push(Rt.actual)}}else{let Dt=Rr$1.apply(_t,Bt);Dt!==null&&(Et.push(Dt.actual),_t=Dt.data,Ct.push(Dt.reverse))}}catch(Dt){if(Dt instanceof Dh)return null;throw Dt}return{data:_t,actual:Et,reverse:Ct.reverse()}}s.apply=At})(Np||(Np={}));var oD=Symbol(),xq=Symbol(),fv=Symbol(),Pc=class{reportOp(s,o,_=[]){let j=this;if(o===null)return;j._current=o.data;let et=_;for(;!(j instanceof dv);){let st=j._path,nt=j._current;if(st!==""&&et.splice(0,0,st),j=j._parent,j===null)return;j.update(st,nt)}j.push(et,s,o.actual,o.reverse)}deleteChildren(s){if(this._children){let o=this._children[s];if(o){let _=o[fv];_&&_(),delete this._children[s]}}}},r1=class extends Pc{constructor(s,o,_){super(),this._parent=s,this._path=o,this._current=_}update(s,o){if(Array.isArray(this._current)){if(typeof s=="string"&&(s=parseInt(s),isNaN(s)))throw new Error("Invalid path");this._current=[...this._current],this._current[s]=o}else this._current={...this._current,[s]:o}}runOp(s){this.reportOp(s,Oh.runOp(this._current,s),s.path)}},i1=class extends Pc{constructor(s,o,_){super(),this._parent=s,this._path=o,this._current=_}update(s,o){this._current={...this._current,[s]:o},Object.setPrototypeOf(this._current,Ke.prototype)}runOp(s){this.reportOp(s,this._current.runOp(s))}},aD={get(s,o){if(o===fv)return()=>{s._parent=null};if(o===oD)return s._current;if(o===xq)return s;let{_current:_,_children:j}=s;if(o==="push"&&Array.isArray(_))throw new Error("not supported to expand array");let et=j===void 0?void 0:j[o];if(et!==void 0)return et;let st=_[o],nt=pv(s,o,st);return nt!==st?(j===void 0&&(j={},s._children=j),j[o]=nt,nt):st},has(s,o){return o in s._current},ownKeys(s){return Reflect.ownKeys(s._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(s){return Object.getPrototypeOf(s._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(s,o){let _=s._current,j=Reflect.getOwnPropertyDescriptor(_,o);return j&&{writable:!0,configurable:!0,enumerable:j.enumerable,value:_[o]}}},bq={...aD,set(s,o,_){let j={type:0,props:{[o]:kr$1(_)??_}};return s.deleteChildren(o),s.runOp(j),!0},deleteProperty(s,o){let _={type:0,props:{[o]:void 0}};return s.deleteChildren(o),s.runOp(_),!0}},Sq={...aD,set(s,o,_){return _===void 0?this.deleteProperty(s,o):(s.deleteChildren(o),s.runOp({type:1,id:o,data:_})),!0},deleteProperty(s,o){return s.runOp({type:2,id:o}),!0}},Bh=class extends Pc{constructor(s,o,_){super(),this._children={},this._parent=s,this._path=o,this._current=_,this[fv]=()=>{this._parent=null}}unproxy(){return this._current}update(s,o){this._current=this._current.modifyById(s,o)}runOp(s){this.reportOp(s,this._current.runOp(s))}randomId(){return this._current.randomId()}isDescendantOf(s,o){return this._current.isDescendantOf(s,o)}childrenOf(s){return this._current.childrenOf(s)}traverse(s){return this._current.traverse(s)}get(s){return this._current.get(s)}parent(s){return this._current.parent(s)}traverse(s){this._current.traverse((o,_)=>{s(o,this.data(o))})}data(s){var nt;let{_current:o,_children:_}=this,j=_===void 0?void 0:_[s];if(j!==void 0)return j;let et=(nt=o.get(s))==null?void 0:nt.data,st=pv(this,s,et);return st!==et?(_===void 0&&(_={},this._children=_),_[s]=st,st):et}add(s,o,_,j,et){this.runOp({type:7,parent:s,fi:o,id:_,data:j,children:et})}move(s,o,_){this.runOp({type:9,parent:s,fi:o,id:_})}insertAfter(s,o,_){let j=this._current.insertAfterHelper(s,o,_.length);for(let et=0;et<_.length;et++){let st=_[et];this.add(s,j[et],st.id,st.data,st.children)}}insertBefore(s,o,_){let j=this._current.insertBeforeHelper(s,o,_.length);for(let et=0;et<_.length;et++){let st=_[et];this.add(s,j[et],st.id,st.data,st.children)}}moveAfter(s,o,_){let j=this._current.insertAfterHelper(s,o,_.length);for(let et=0;et<_.length;et++){let st=_[et];this.move(s,j[et],st)}}moveBefore(s,o,_){let j=this._current.insertBeforeHelper(s,o,_.length);for(let et=0;et<_.length;et++){let st=_[et];this.move(s,j[et],st)}}delete(s){this.deleteChildren(s),this.runOp({type:8,id:s})}sortNext(s){return this._current.sortNext(s)}sortPrevious(s){return this._current.sortPrevious(s)}getAllSorted(s){return this._current.getAllSorted(s)}},Nh=class extends Pc{constructor(s,o,_){super(),this._children={},this._parent=s,this._path=o,this._current=_,this[fv]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(s){let o=this.length;for(let _=0;_<o;_++){let j=this._current[_].id,et=this._current[_].fi;s(this.data(this._current[_].id),j,et)}}find(s){let o=this.length;for(let _=0;_<o;_++){let j=this._current[_].id;if(s(this.data(j),j))return this.get(j)}}update(s,o){this._current=this._current.modifyById(s,o)}randomId(){return this._current.randomId()}get(s){return{...this._current.get(s),data:this.data(s)}}data(s){var nt;let{_current:o,_children:_}=this,j=_===void 0?void 0:_[s];if(j!==void 0)return j;let et=(nt=o.get(s))==null?void 0:nt.data,st=pv(this,s,et);return st!==et?(_===void 0&&(_={},this._children=_),_[s]=st,st):et}runOp(s){this.reportOp(s,this._current.runOp(s))}add(s,o,_){this.runOp({type:4,fi:s,id:o,data:_})}move(s,o){this.runOp({type:6,fi:s,id:o})}insertAfter(s,o){let _=this._current.insertAfterHelper(s,o.length);for(let j=0;j<o.length;j++){let et=o[j];this.add(_[j],et.id,et.data)}}insertBefore(s,o){let _=this._current.insertBeforeHelper(s,o.length);for(let j=0;j<o.length;j++){let et=o[j];this.add(_[j],et.id,et.data)}}moveAfter(s,o){let _=this._current.insertAfterHelper(s,o.length);for(let j=0;j<o.length;j++){let et=o[j];this.move(_[j],et)}}moveBefore(s,o){let _=this._current.insertBeforeHelper(s,o.length);for(let j=0;j<o.length;j++){let et=o[j];this.move(_[j],et)}}delete(s){this.deleteChildren(s),this.runOp({type:5,id:s})}};function t1(s,o,_){if(s.length>0){let j=s[s.length-1];if(j.type===0&&o.type===0&&Sr$1.equal(j.path,_)){Object.assign(j.props,o.props);return}}s.push({...o,path:_})}var dv=class extends Pc{constructor(s){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=s}update(s,o){if(s!=="")throw new Error("");this._current=o}push(s,o,_,j){t1(this.ts,o,s),t1(this.actual,_,s),t1(this.reverse,j,s)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function pv(s,o,_){return _ instanceof gr?new Bh(s,o,_):_ instanceof Ue$1?new Nh(s,o,_):_ instanceof Ke?new Proxy(new i1(s,o,_),Sq):_!==null&&typeof _=="object"?Ih(_)?_:new Proxy(new r1(s,o,_),bq):_}function n1(s){let o=new dv(s);return[pv(o,"",s),o]}function pl(s,o){let[_,j]=n1(s);return o(_),j.result()}function kr$1(s){return s instanceof Bh||s instanceof Nh?s._current:s!==null&&typeof s=="object"?s[oD]:s}var Sr$1;(s=>{function o(st,nt){if(nt.length===st.length)for(var ct=0;ct<st.length;){if(st[ct]!==nt[ct])return!1;ct+=1}else return!1;return!0}s.equal=o;function _(st,nt,ct){let At=et(ct,st);if(At!==void 0&&typeof At=="object"&&At!==null){let mt={...nt};return Object.keys(At).forEach(gt=>{delete mt[gt]}),mt}else return nt}s.removeOverridden=_;function j(st,nt){if((st instanceof gr||st instanceof Bh)&&typeof nt=="string"||(st instanceof Ue$1||st instanceof Nh)&&typeof nt=="string")return st.data(nt);if(typeof nt=="number"&&Array.isArray(st)||typeof nt=="string"&&typeof st=="object"&&st!==null)return st[nt]}s.zoomOnce=j;function et(st,nt,ct=0){for(;ct<nt.length&&st!==void 0;)st=j(st,nt[ct]),ct+=1;return st}s.zoom=et})(Sr$1||(Sr$1={}));function lD(s,o){let _=[];if(o.length===s.length)for(var j=0;j<s.length;){if(o[j]==="*")_.push(s[j]);else if(s[j]!==o[j])return null;j+=1}else return null;return _}function Lt(s,o){let _=[];if(o.length<=s.length)for(var j=0;j<o.length;){if(o[j]==="*")_.push(s[j]);else if(s[j]!==o[j])return null;j+=1}else return null;return _}var mv=class{},Fp=class extends mv{constructor(s){super(),this.id=s}},Vp=class extends mv{constructor(s){super(),this.data=s}},o1;try{o1=new TextDecoder}catch{}var qe,gl,ne$1=0,_n={},Qt,ml,us=0,xo=0,Zn,pa,yn=[],nr,cD={useRecords:!1,mapsAsObjects:!0},Up=class{},u1=new Up;u1.name="MessagePack 0xC1";var Fh=!1,bo=class{constructor(s){s&&(s.useRecords===!1&&s.mapsAsObjects===void 0&&(s.mapsAsObjects=!0),s.structures?s.structures.sharedLength=s.structures.length:s.getStructures&&((s.structures=[]).uninitialized=!0,s.structures.sharedLength=0)),Object.assign(this,s)}unpack(s,o){if(qe)return SD(()=>(yv(),this?this.unpack(s,o):bo.prototype.unpack.call(cD,s,o)));gl=o>-1?o:s.length,ne$1=0,xo=0,ml=null,Zn=null,qe=s;try{nr=s.dataView||(s.dataView=new DataView(s.buffer,s.byteOffset,s.byteLength))}catch(_){throw qe=null,s instanceof Uint8Array?_:new Error("Source must be a Uint8Array or Buffer but was a "+(s&&typeof s=="object"?s.constructor.name:typeof s))}if(this instanceof bo){if(_n=this,this.structures)return Qt=this.structures,gv();(!Qt||Qt.length>0)&&(Qt=[])}else _n=cD,(!Qt||Qt.length>0)&&(Qt=[]);return gv()}unpackMultiple(s,o){let _,j=0;try{Fh=!0;let et=s.length,st=this?this.unpack(s,et):bv.unpack(s,et);if(o){for(o(st);ne$1<et;)if(j=ne$1,o(gv())===!1)return}else{for(_=[st];ne$1<et;)j=ne$1,_.push(gv());return _}}catch(et){throw et.lastPosition=j,et.values=_,et}finally{Fh=!1,yv()}}_mergeStructures(s,o){s=s||[];for(let _=0,j=s.length;_<j;_++){let et=s[_];et&&(et.isShared=!0,_>=32&&(et.highByte=_-32>>5))}s.sharedLength=s.length;for(let _ in o||[])if(_>=0){let j=s[_],et=o[_];et&&(j&&((s.restoreStructures||(s.restoreStructures=[]))[_]=j),s[_]=et)}return this.structures=s}decode(s,o){return this.unpack(s,o)}};function gv(){try{if(!_n.trusted&&!Fh){let o=Qt.sharedLength||0;o<Qt.length&&(Qt.length=o)}let s=Xr();if(ne$1==gl)Qt.restoreStructures&&uD(),Qt=null,qe=null,pa&&(pa=null);else if(ne$1>gl){let o=new Error("Unexpected end of MessagePack data");throw o.incomplete=!0,o}else if(!Fh)throw new Error("Data read, but end of buffer not reached");return s}catch(s){throw Qt.restoreStructures&&uD(),yv(),(s instanceof RangeError||s.message.startsWith("Unexpected end of buffer"))&&(s.incomplete=!0),s}}function uD(){for(let s in Qt.restoreStructures)Qt[s]=Qt.restoreStructures[s];Qt.restoreStructures=null}function Xr(){let s=qe[ne$1++];if(s<160)if(s<128){if(s<64)return s;{let o=Qt[s&63]||_n.getStructures&&yD()[s&63];return o?(o.read||(o.read=h1(o,s&63)),o.read()):s}}else if(s<144)if(s-=128,_n.mapsAsObjects){let o={};for(let _=0;_<s;_++)o[xD()]=Xr();return o}else{let o=new Map;for(let _=0;_<s;_++)o.set(Xr(),Xr());return o}else{s-=144;let o=new Array(s);for(let _=0;_<s;_++)o[_]=Xr();return o}else if(s<192){let o=s-160;if(xo>=ne$1)return ml.slice(ne$1-us,(ne$1+=o)-us);if(xo==0&&gl<140){let _=o<16?d1(o):vD(o);if(_!=null)return _}return c1(o)}else{let o;switch(s){case 192:return null;case 193:return Zn?(o=Xr(),o>0?Zn[1].slice(Zn.position1,Zn.position1+=o):Zn[0].slice(Zn.position0,Zn.position0-=o)):u1;case 194:return!1;case 195:return!0;case 196:return s1(qe[ne$1++]);case 197:return o=nr.getUint16(ne$1),ne$1+=2,s1(o);case 198:return o=nr.getUint32(ne$1),ne$1+=4,s1(o);case 199:return _c(qe[ne$1++]);case 200:return o=nr.getUint16(ne$1),ne$1+=2,_c(o);case 201:return o=nr.getUint32(ne$1),ne$1+=4,_c(o);case 202:if(o=nr.getFloat32(ne$1),_n.useFloat32>2){let _=xv[(qe[ne$1]&127)<<1|qe[ne$1+1]>>7];return ne$1+=4,(_*o+(o>0?.5:-.5)>>0)/_}return ne$1+=4,o;case 203:return o=nr.getFloat64(ne$1),ne$1+=8,o;case 204:return qe[ne$1++];case 205:return o=nr.getUint16(ne$1),ne$1+=2,o;case 206:return o=nr.getUint32(ne$1),ne$1+=4,o;case 207:return _n.int64AsNumber?(o=nr.getUint32(ne$1)*4294967296,o+=nr.getUint32(ne$1+4)):o=nr.getBigUint64(ne$1),ne$1+=8,o;case 208:return nr.getInt8(ne$1++);case 209:return o=nr.getInt16(ne$1),ne$1+=2,o;case 210:return o=nr.getInt32(ne$1),ne$1+=4,o;case 211:return _n.int64AsNumber?(o=nr.getInt32(ne$1)*4294967296,o+=nr.getUint32(ne$1+4)):o=nr.getBigInt64(ne$1),ne$1+=8,o;case 212:if(o=qe[ne$1++],o==114)return mD(qe[ne$1++]&63);{let _=yn[o];if(_)return _.read?(ne$1++,_.read(Xr())):_.noBuffer?(ne$1++,_()):_(qe.subarray(ne$1,++ne$1));throw new Error("Unknown extension "+o)}case 213:return o=qe[ne$1],o==114?(ne$1++,mD(qe[ne$1++]&63,qe[ne$1++])):_c(2);case 214:return _c(4);case 215:return _c(8);case 216:return _c(16);case 217:return o=qe[ne$1++],xo>=ne$1?ml.slice(ne$1-us,(ne$1+=o)-us):Aq(o);case 218:return o=nr.getUint16(ne$1),ne$1+=2,xo>=ne$1?ml.slice(ne$1-us,(ne$1+=o)-us):Eq(o);case 219:return o=nr.getUint32(ne$1),ne$1+=4,xo>=ne$1?ml.slice(ne$1-us,(ne$1+=o)-us):Mq(o);case 220:return o=nr.getUint16(ne$1),ne$1+=2,dD(o);case 221:return o=nr.getUint32(ne$1),ne$1+=4,dD(o);case 222:return o=nr.getUint16(ne$1),ne$1+=2,fD(o);case 223:return o=nr.getUint32(ne$1),ne$1+=4,fD(o);default:if(s>=224)return s-256;if(s===void 0){let _=new Error("Unexpected end of MessagePack data");throw _.incomplete=!0,_}throw new Error("Unknown MessagePack token "+s)}}}var wq=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function h1(s,o){function _(){if(_.count++>2){let et=s.read=new Function("r","return function(){return {"+s.map(st=>wq.test(st)?st+":r()":"["+JSON.stringify(st)+"]:r()").join(",")+"}}")(Xr);return s.highByte===0&&(s.read=hD(o,s.read)),et()}let j={};for(let et=0,st=s.length;et<st;et++){let nt=s[et];j[nt]=Xr()}return j}return _.count=0,s.highByte===0?hD(o,_):_}var hD=(s,o)=>function(){let _=qe[ne$1++];if(_===0)return o();let j=s<32?-(s+(_<<5)):s+(_<<5),et=Qt[j]||yD()[j];if(!et)throw new Error("Record id is not defined for "+j);return et.read||(et.read=h1(et,s)),et.read()};function yD(){let s=SD(()=>(qe=null,_n.getStructures()));return Qt=_n._mergeStructures(s,Qt)}var c1=vv,Aq=vv,Eq=vv,Mq=vv;function vv(s){let o;if(s<16&&(o=d1(s)))return o;if(s>64&&o1)return o1.decode(qe.subarray(ne$1,ne$1+=s));let _=ne$1+s,j=[];for(o="";ne$1<_;){let et=qe[ne$1++];if(!(et&128))j.push(et);else if((et&224)===192){let st=qe[ne$1++]&63;j.push((et&31)<<6|st)}else if((et&240)===224){let st=qe[ne$1++]&63,nt=qe[ne$1++]&63;j.push((et&31)<<12|st<<6|nt)}else if((et&248)===240){let st=qe[ne$1++]&63,nt=qe[ne$1++]&63,ct=qe[ne$1++]&63,At=(et&7)<<18|st<<12|nt<<6|ct;At>65535&&(At-=65536,j.push(At>>>10&1023|55296),At=56320|At&1023),j.push(At)}else j.push(et);j.length>=4096&&(o+=Vi.apply(String,j),j.length=0)}return j.length>0&&(o+=Vi.apply(String,j)),o}function dD(s){let o=new Array(s);for(let _=0;_<s;_++)o[_]=Xr();return o}function fD(s){if(_n.mapsAsObjects){let o={};for(let _=0;_<s;_++)o[xD()]=Xr();return o}else{let o=new Map;for(let _=0;_<s;_++)o.set(Xr(),Xr());return o}}var Vi=String.fromCharCode;function vD(s){let o=ne$1,_=new Array(s);for(let j=0;j<s;j++){let et=qe[ne$1++];if((et&128)>0){ne$1=o;return}_[j]=et}return Vi.apply(String,_)}function d1(s){if(s<4)if(s<2){if(s===0)return"";{let o=qe[ne$1++];if((o&128)>1){ne$1-=1;return}return Vi(o)}}else{let o=qe[ne$1++],_=qe[ne$1++];if((o&128)>0||(_&128)>0){ne$1-=2;return}if(s<3)return Vi(o,_);let j=qe[ne$1++];if((j&128)>0){ne$1-=3;return}return Vi(o,_,j)}else{let o=qe[ne$1++],_=qe[ne$1++],j=qe[ne$1++],et=qe[ne$1++];if((o&128)>0||(_&128)>0||(j&128)>0||(et&128)>0){ne$1-=4;return}if(s<6){if(s===4)return Vi(o,_,j,et);{let st=qe[ne$1++];if((st&128)>0){ne$1-=5;return}return Vi(o,_,j,et,st)}}else if(s<8){let st=qe[ne$1++],nt=qe[ne$1++];if((st&128)>0||(nt&128)>0){ne$1-=6;return}if(s<7)return Vi(o,_,j,et,st,nt);let ct=qe[ne$1++];if((ct&128)>0){ne$1-=7;return}return Vi(o,_,j,et,st,nt,ct)}else{let st=qe[ne$1++],nt=qe[ne$1++],ct=qe[ne$1++],At=qe[ne$1++];if((st&128)>0||(nt&128)>0||(ct&128)>0||(At&128)>0){ne$1-=8;return}if(s<10){if(s===8)return Vi(o,_,j,et,st,nt,ct,At);{let mt=qe[ne$1++];if((mt&128)>0){ne$1-=9;return}return Vi(o,_,j,et,st,nt,ct,At,mt)}}else if(s<12){let mt=qe[ne$1++],gt=qe[ne$1++];if((mt&128)>0||(gt&128)>0){ne$1-=10;return}if(s<11)return Vi(o,_,j,et,st,nt,ct,At,mt,gt);let _t=qe[ne$1++];if((_t&128)>0){ne$1-=11;return}return Vi(o,_,j,et,st,nt,ct,At,mt,gt,_t)}else{let mt=qe[ne$1++],gt=qe[ne$1++],_t=qe[ne$1++],Et=qe[ne$1++];if((mt&128)>0||(gt&128)>0||(_t&128)>0||(Et&128)>0){ne$1-=12;return}if(s<14){if(s===12)return Vi(o,_,j,et,st,nt,ct,At,mt,gt,_t,Et);{let Ct=qe[ne$1++];if((Ct&128)>0){ne$1-=13;return}return Vi(o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct)}}else{let Ct=qe[ne$1++],Bt=qe[ne$1++];if((Ct&128)>0||(Bt&128)>0){ne$1-=14;return}if(s<15)return Vi(o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt);let Dt=qe[ne$1++];if((Dt&128)>0){ne$1-=15;return}return Vi(o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt)}}}}}function s1(s){return _n.copyBuffers?Uint8Array.prototype.slice.call(qe,ne$1,ne$1+=s):qe.subarray(ne$1,ne$1+=s)}function _c(s){let o=qe[ne$1++];if(yn[o])return yn[o](qe.subarray(ne$1,ne$1+=s));throw new Error("Unknown extension type "+o)}var pD=new Array(4096);function xD(){let s=qe[ne$1++];if(s>=160&&s<192){if(s=s-160,xo>=ne$1)return ml.slice(ne$1-us,(ne$1+=s)-us);if(!(xo==0&&gl<180))return c1(s)}else return ne$1--,Xr();let o=(s<<5^(s>1?nr.getUint16(ne$1):s>0?qe[ne$1]:0))&4095,_=pD[o],j=ne$1,et=ne$1+s-3,st,nt=0;if(_&&_.bytes==s){for(;j<et;){if(st=nr.getUint32(j),st!=_[nt++]){j=1879048192;break}j+=4}for(et+=3;j<et;)if(st=qe[j++],st!=_[nt++]){j=1879048192;break}if(j===et)return ne$1=j,_.string;et-=3,j=ne$1}for(_=[],pD[o]=_,_.bytes=s;j<et;)st=nr.getUint32(j),_.push(st),j+=4;for(et+=3;j<et;)st=qe[j++],_.push(st);let ct=s<16?d1(s):vD(s);return ct!=null?_.string=ct:_.string=c1(s)}var mD=(s,o)=>{var _=Xr();let j=s;o!==void 0&&(s=s<32?-((o<<5)+s):(o<<5)+s,_.highByte=o);let et=Qt[s];return et&&et.isShared&&((Qt.restoreStructures||(Qt.restoreStructures=[]))[s]=et),Qt[s]=_,_.read=h1(_,j),_.read()},bD=typeof self=="object"?self:global;yn[0]=()=>{};yn[0].noBuffer=!0;yn[101]=()=>{let s=Xr();return(bD[s[0]]||Error)(s[1])};yn[105]=s=>{let o=nr.getUint32(ne$1-4);pa||(pa=new Map);let _=qe[ne$1],j;_>=144&&_<160||_==220||_==221?j=[]:j={};let et={target:j};pa.set(o,et);let st=Xr();return et.used?Object.assign(j,st):(et.target=st,st)};yn[112]=s=>{let o=nr.getUint32(ne$1-4),_=pa.get(o);return _.used=!0,_.target};yn[115]=()=>new Set(Xr());var f1=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(s=>s+"Array");yn[116]=s=>{let o=s[0],_=f1[o];if(!_)throw new Error("Could not find typed array for code "+o);return new bD[_](Uint8Array.prototype.slice.call(s,1).buffer)};yn[120]=()=>{let s=Xr();return new RegExp(s[0],s[1])};yn[98]=s=>{let o=(s[0]<<24)+(s[1]<<16)+(s[2]<<8)+s[3],_=ne$1;ne$1+=o-4,Zn=[Xr(),Xr()],Zn.position0=0,Zn.position1=0;let j=ne$1;ne$1=_;try{return Xr()}finally{ne$1=j}};yn[255]=s=>s.length==4?new Date((s[0]*16777216+(s[1]<<16)+(s[2]<<8)+s[3])*1e3):s.length==8?new Date(((s[0]<<22)+(s[1]<<14)+(s[2]<<6)+(s[3]>>2))/1e6+((s[3]&3)*4294967296+s[4]*16777216+(s[5]<<16)+(s[6]<<8)+s[7])*1e3):s.length==12?new Date(((s[0]<<24)+(s[1]<<16)+(s[2]<<8)+s[3])/1e6+((s[4]&128?-281474976710656:0)+s[6]*1099511627776+s[7]*4294967296+s[8]*16777216+(s[9]<<16)+(s[10]<<8)+s[11])*1e3):new Date("invalid");function SD(s){let o=gl,_=ne$1,j=us,et=xo,st=ml,nt=pa,ct=Zn,At=new Uint8Array(qe.slice(0,gl)),mt=Qt,gt=Qt.slice(0,Qt.length),_t=_n,Et=Fh,Ct=s();return gl=o,ne$1=_,us=j,xo=et,ml=st,pa=nt,Zn=ct,qe=At,Fh=Et,Qt=mt,Qt.splice(0,Qt.length,...gt),_n=_t,nr=new DataView(qe.buffer,qe.byteOffset,qe.byteLength),Ct}function yv(){qe=null,pa=null,Qt=null}function wD(s){s.unpack?yn[s.type]=s.unpack:yn[s.type]=s}var xv=new Array(147);for(let s=0;s<256;s++)xv[s]=+("1e"+Math.floor(45.15-s*.30103));var bv=new bo({useRecords:!1});bv.unpack;bv.unpackMultiple;bv.unpack;var _q=new Float32Array(1);new Uint8Array(_q.buffer,0,4);var wv;try{wv=new TextEncoder}catch{}var Av,m1,Ev=typeof Buffer<"u",p1=Ev?Buffer.allocUnsafeSlow:Uint8Array,TD=Ev?Buffer:Uint8Array,AD=Ev?4294967296:2144337920,Se$1,ti,he$1=0,So,wo=null,Dq=/[\u0080-\uFFFF]/,zp=Symbol("record-id"),Dc=class extends bo{constructor(s){super(s),this.offset=0;let o,_,j,et,st,nt=0,ct=TD.prototype.utf8Write?function(es,ds,tn){return Se$1.utf8Write(es,ds,tn)}:wv&&wv.encodeInto?function(es,ds){return wv.encodeInto(es,Se$1.subarray(ds)).written}:!1,At=this;s||(s={});let mt=s&&s.sequential,gt=s.structures||s.saveStructures,_t=s.maxSharedStructures;if(_t==null&&(_t=gt?32:0),_t>8160)throw new Error("Maximum maxSharedStructure is 8160");let Et=s.maxOwnStructures;Et==null&&(Et=gt?32:64),mt&&!s.saveStructures&&(this.structures=[]);let Ct=_t>32||Et+_t>64,Bt=_t+64,Dt=_t+Et+64;if(Dt>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let Ft=[],Rt=0,Nt=0;this.pack=this.encode=function(es,ds){if(Se$1||(Se$1=new p1(8192),ti=new DataView(Se$1.buffer,0,8192),he$1=0),So=Se$1.length-10,So-he$1<2048?(Se$1=new p1(Se$1.length),ti=new DataView(Se$1.buffer,0,Se$1.length),So=Se$1.length-10,he$1=0):he$1=he$1+7&2147483640,o=he$1,st=At.structuredClone?new Map:null,At.bundleStrings?(wo=["",""],Se$1[he$1++]=214,Se$1[he$1++]=98,wo.position=he$1-o,he$1+=4):wo=null,_=At.structures,_){_.uninitialized&&(_=At._mergeStructures(At.getStructures()));let tn=_.sharedLength||0;if(tn>_t)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+_.sharedLength);if(!_.transitions){_.transitions=Object.create(null);for(let rn=0;rn<tn;rn++){let un=_[rn];if(!un)continue;let $n,kn=_.transitions;for(let lo=0,Il=un.length;lo<Il;lo++){let cu=un[lo];$n=kn[cu],$n||($n=kn[cu]=Object.create(null)),kn=$n}kn[zp]=rn+64}nt=tn}mt||(_.nextId=tn+64)}j&&(j=!1),et=_||[];try{if(Gt(es),wo){ti.setUint32(wo.position+o,he$1-wo.position-o);let tn=wo;wo=null,Gt(tn[0]),Gt(tn[1])}if(At.offset=he$1,st&&st.idsToInsert){he$1+=st.idsToInsert.length*6,he$1>So&&ts(he$1),At.offset=he$1;let tn=Oq(Se$1.subarray(o,he$1),st.idsToInsert);return st=null,tn}return ds&PD?(Se$1.start=o,Se$1.end=he$1,Se$1):Se$1.subarray(o,he$1)}finally{if(_){if(Nt<10&&Nt++,Rt>1e4)_.transitions=null,Nt=0,Rt=0,Ft.length>0&&(Ft=[]);else if(Ft.length>0&&!mt){for(let tn=0,rn=Ft.length;tn<rn;tn++)Ft[tn][zp]=0;Ft=[]}if(j&&At.saveStructures){let tn=_.sharedLength||_t;_.length>tn&&(_=_.slice(0,tn));let rn=Se$1.subarray(o,he$1);return At.saveStructures(_,nt)===!1?(At._mergeStructures(At.getStructures()),At.pack(es)):(nt=tn,rn)}}ds&Uq&&(he$1=o)}};let Gt=es=>{he$1>So&&(Se$1=ts(he$1));var ds=typeof es,tn;if(ds==="string"){let rn=es.length;if(wo&&rn>=8&&rn<4096){let kn=Dq.test(es);wo[kn?0:1]+=es,Se$1[he$1++]=193,Gt(kn?-rn:rn);return}let un;rn<32?un=1:rn<256?un=2:rn<65536?un=3:un=5;let $n=rn*3;if(he$1+$n>So&&(Se$1=ts(he$1+$n)),rn<64||!ct){let kn,lo,Il,cu=he$1+un;for(kn=0;kn<rn;kn++)lo=es.charCodeAt(kn),lo<128?Se$1[cu++]=lo:lo<2048?(Se$1[cu++]=lo>>6|192,Se$1[cu++]=lo&63|128):(lo&64512)===55296&&((Il=es.charCodeAt(kn+1))&64512)===56320?(lo=65536+((lo&1023)<<10)+(Il&1023),kn++,Se$1[cu++]=lo>>18|240,Se$1[cu++]=lo>>12&63|128,Se$1[cu++]=lo>>6&63|128,Se$1[cu++]=lo&63|128):(Se$1[cu++]=lo>>12|224,Se$1[cu++]=lo>>6&63|128,Se$1[cu++]=lo&63|128);tn=cu-he$1-un}else tn=ct(es,he$1+un,$n);tn<32?Se$1[he$1++]=160|tn:tn<256?(un<2&&Se$1.copyWithin(he$1+2,he$1+1,he$1+1+tn),Se$1[he$1++]=217,Se$1[he$1++]=tn):tn<65536?(un<3&&Se$1.copyWithin(he$1+3,he$1+2,he$1+2+tn),Se$1[he$1++]=218,Se$1[he$1++]=tn>>8,Se$1[he$1++]=tn&255):(un<5&&Se$1.copyWithin(he$1+5,he$1+3,he$1+3+tn),Se$1[he$1++]=219,ti.setUint32(he$1,tn),he$1+=4),he$1+=tn}else if(ds==="number")if(es>>>0===es)es<64?Se$1[he$1++]=es:es<256?(Se$1[he$1++]=204,Se$1[he$1++]=es):es<65536?(Se$1[he$1++]=205,Se$1[he$1++]=es>>8,Se$1[he$1++]=es&255):(Se$1[he$1++]=206,ti.setUint32(he$1,es),he$1+=4);else if(es>>0===es)es>=-32?Se$1[he$1++]=256+es:es>=-128?(Se$1[he$1++]=208,Se$1[he$1++]=es+256):es>=-32768?(Se$1[he$1++]=209,ti.setInt16(he$1,es),he$1+=2):(Se$1[he$1++]=210,ti.setInt32(he$1,es),he$1+=4);else{let rn;if((rn=this.useFloat32)>0&&es<4294967296&&es>=-2147483648){Se$1[he$1++]=202,ti.setFloat32(he$1,es);let un;if(rn<4||(un=es*xv[(Se$1[he$1]&127)<<1|Se$1[he$1+1]>>7])>>0===un){he$1+=4;return}else he$1--}Se$1[he$1++]=203,ti.setFloat64(he$1,es),he$1+=8}else if(ds==="object")if(!es)Se$1[he$1++]=192;else{if(st){let un=st.get(es);if(un){if(!un.id){let $n=st.idsToInsert||(st.idsToInsert=[]);un.id=$n.push(un)}Se$1[he$1++]=214,Se$1[he$1++]=112,ti.setUint32(he$1,un.id),he$1+=4;return}else st.set(es,{offset:he$1-o})}let rn=es.constructor;if(rn===Object)dr(es,!0);else if(rn===Array){tn=es.length,tn<16?Se$1[he$1++]=144|tn:tn<65536?(Se$1[he$1++]=220,Se$1[he$1++]=tn>>8,Se$1[he$1++]=tn&255):(Se$1[he$1++]=221,ti.setUint32(he$1,tn),he$1+=4);for(let un=0;un<tn;un++)Gt(es[un])}else if(rn===Map){tn=es.size,tn<16?Se$1[he$1++]=128|tn:tn<65536?(Se$1[he$1++]=222,Se$1[he$1++]=tn>>8,Se$1[he$1++]=tn&255):(Se$1[he$1++]=223,ti.setUint32(he$1,tn),he$1+=4);for(let[un,$n]of es)Gt(un),Gt($n)}else{for(let un=0,$n=Av.length;un<$n;un++){let kn=m1[un];if(es instanceof kn){let lo=Av[un];if(lo.write){lo.type&&(Se$1[he$1++]=212,Se$1[he$1++]=lo.type,Se$1[he$1++]=0),Gt(lo.write.call(this,es));return}let Il=Se$1,cu=ti,Ko=he$1;Se$1=null;let ru;try{ru=lo.pack.call(this,es,Tn=>(Se$1=Il,Il=null,he$1+=Tn,he$1>So&&ts(he$1),{target:Se$1,targetView:ti,position:he$1-Tn}),Gt)}finally{Il&&(Se$1=Il,ti=cu,he$1=Ko,So=Se$1.length-10)}ru&&(ru.length+he$1>So&&ts(ru.length+he$1),he$1=Iq(ru,Se$1,he$1,lo.type));return}}dr(es,!es.hasOwnProperty)}}else if(ds==="boolean")Se$1[he$1++]=es?195:194;else if(ds==="bigint"){if(es<BigInt(1)<<BigInt(63)&&es>=-(BigInt(1)<<BigInt(63)))Se$1[he$1++]=211,ti.setBigInt64(he$1,es);else if(es<BigInt(1)<<BigInt(64)&&es>0)Se$1[he$1++]=207,ti.setBigUint64(he$1,es);else if(this.largeBigIntToFloat)Se$1[he$1++]=203,ti.setFloat64(he$1,Number(es));else throw new RangeError(es+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");he$1+=8}else if(ds==="undefined")this.encodeUndefinedAsNil?Se$1[he$1++]=192:(Se$1[he$1++]=212,Se$1[he$1++]=0,Se$1[he$1++]=0);else if(ds==="function")Gt(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+ds)},dr=this.useRecords===!1?this.variableMapSize?es=>{let ds=Object.keys(es),tn=ds.length;tn<16?Se$1[he$1++]=128|tn:tn<65536?(Se$1[he$1++]=222,Se$1[he$1++]=tn>>8,Se$1[he$1++]=tn&255):(Se$1[he$1++]=223,ti.setUint32(he$1,tn),he$1+=4);let rn;for(let un=0;un<tn;un++)Gt(rn=ds[un]),Gt(es[rn])}:(es,ds)=>{Se$1[he$1++]=222;let tn=he$1-o;he$1+=2;let rn=0;for(let un in es)(ds||es.hasOwnProperty(un))&&(Gt(un),Gt(es[un]),rn++);Se$1[tn+++o]=rn>>8,Se$1[tn+o]=rn&255}:es=>{let ds=Object.keys(es),tn,rn=et.transitions||(et.transitions=Object.create(null)),un=0;for(let kn=0,lo=ds.length;kn<lo;kn++){let Il=ds[kn];tn=rn[Il],tn||(tn=rn[Il]=Object.create(null),un++),rn=tn}let $n=rn[zp];if($n)$n>=96&&Ct?(Se$1[he$1++]=(($n-=96)&31)+96,Se$1[he$1++]=$n>>5):Se$1[he$1++]=$n;else{$n=et.nextId,$n||($n=64),$n<Bt&&this.shouldShareStructure&&!this.shouldShareStructure(ds)?($n=et.nextOwnId,$n<Dt||($n=Bt),et.nextOwnId=$n+1):($n>=Dt&&($n=Bt),et.nextId=$n+1);let kn=ds.highByte=$n>=96&&Ct?$n-96>>5:-1;rn[zp]=$n,et[$n-64]=ds,$n<Bt?(ds.isShared=!0,et.sharedLength=$n-63,j=!0,kn>=0?(Se$1[he$1++]=($n&31)+96,Se$1[he$1++]=kn):Se$1[he$1++]=$n):(kn>=0?(Se$1[he$1++]=213,Se$1[he$1++]=114,Se$1[he$1++]=($n&31)+96,Se$1[he$1++]=kn):(Se$1[he$1++]=212,Se$1[he$1++]=114,Se$1[he$1++]=$n),un&&(Rt+=Nt*un),Ft.length>=Et&&(Ft.shift()[zp]=0),Ft.push(rn),Gt(ds))}for(let kn=0,lo=ds.length;kn<lo;kn++)Gt(es[ds[kn]])},ts=es=>{let ds;if(es>16777216){if(es-o>AD)throw new Error("Packed buffer would be larger than maximum buffer size");ds=Math.min(AD,Math.round(Math.max((es-o)*(es>67108864?1.25:2),4194304)/4096)*4096)}else ds=(Math.max(es-o<<2,Se$1.length-1)>>12)+1<<12;let tn=new p1(ds);return ti=new DataView(tn.buffer,0,ds),Se$1.copy?Se$1.copy(tn,0,o,es):tn.set(Se$1.slice(o,es)),he$1-=o,o=0,So=tn.length-10,Se$1=tn}}useBuffer(s){Se$1=s,ti=new DataView(Se$1.buffer,Se$1.byteOffset,Se$1.byteLength),he$1=0}};m1=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Up];Av=[{pack(s,o,_){let j=s.getTime()/1e3;if((this.useTimestamp32||s.getMilliseconds()===0)&&j>=0&&j<4294967296){let{target:et,targetView:st,position:nt}=o(6);et[nt++]=214,et[nt++]=255,st.setUint32(nt,j)}else if(j>0&&j<17179869184){let{target:et,targetView:st,position:nt}=o(10);et[nt++]=215,et[nt++]=255,st.setUint32(nt,s.getMilliseconds()*4e6+(j/1e3/4294967296>>0)),st.setUint32(nt+4,j)}else if(isNaN(j)){if(this.onInvalidDate)return o(0),_(this.onInvalidDate());let{target:et,targetView:st,position:nt}=o(3);et[nt++]=212,et[nt++]=255,et[nt++]=255}else{let{target:et,targetView:st,position:nt}=o(15);et[nt++]=199,et[nt++]=12,et[nt++]=255,st.setUint32(nt,s.getMilliseconds()*1e6),st.setBigInt64(nt+4,BigInt(Math.floor(j)))}}},{pack(s,o,_){let j=Array.from(s),{target:et,position:st}=o(this.structuredClone?3:0);this.structuredClone&&(et[st++]=212,et[st++]=115,et[st++]=0),_(j)}},{pack(s,o,_){let{target:j,position:et}=o(this.structuredClone?3:0);this.structuredClone&&(j[et++]=212,j[et++]=101,j[et++]=0),_([s.name,s.message])}},{pack(s,o,_){let{target:j,position:et}=o(this.structuredClone?3:0);this.structuredClone&&(j[et++]=212,j[et++]=120,j[et++]=0),_([s.source,s.flags])}},{pack(s,o){this.structuredClone?ED(s,16,o):MD(Ev?Buffer.from(s):new Uint8Array(s),o)}},{pack(s,o){let _=s.constructor;_!==TD&&this.structuredClone?ED(s,f1.indexOf(_.name),o):MD(s,o)}},{pack(s,o){let{target:_,position:j}=o(1);_[j]=193}}];function ED(s,o,_,j){let et=s.byteLength;if(et+1<256){var{target:st,position:nt}=_(4+et);st[nt++]=199,st[nt++]=et+1}else if(et+1<65536){var{target:st,position:nt}=_(5+et);st[nt++]=200,st[nt++]=et+1>>8,st[nt++]=et+1&255}else{var{target:st,position:nt,targetView:ct}=_(7+et);st[nt++]=201,ct.setUint32(nt,et+1),nt+=4}st[nt++]=116,st[nt++]=o,st.set(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),nt)}function MD(s,o){let _=s.byteLength;var j,et;if(_<256){var{target:j,position:et}=o(_+2);j[et++]=196,j[et++]=_}else if(_<65536){var{target:j,position:et}=o(_+3);j[et++]=197,j[et++]=_>>8,j[et++]=_&255}else{var{target:j,position:et,targetView:st}=o(_+5);j[et++]=198,st.setUint32(et,_),et+=4}j.set(s,et)}function Iq(s,o,_,j){let et=s.length;switch(et){case 1:o[_++]=212;break;case 2:o[_++]=213;break;case 4:o[_++]=214;break;case 8:o[_++]=215;break;case 16:o[_++]=216;break;default:et<256?(o[_++]=199,o[_++]=et):et<65536?(o[_++]=200,o[_++]=et>>8,o[_++]=et&255):(o[_++]=201,o[_++]=et>>24,o[_++]=et>>16&255,o[_++]=et>>8&255,o[_++]=et&255)}return o[_++]=j,o.set(s,_),_+=et,_}function Oq(s,o){let _,j=o.length*6,et=s.length-j;for(o.sort((st,nt)=>st.offset>nt.offset?1:-1);_=o.pop();){let st=_.offset,nt=_.id;s.copyWithin(st+j,st,et),j-=6;let ct=st+j;s[ct++]=214,s[ct++]=105,s[ct++]=nt>>24,s[ct++]=nt>>16&255,s[ct++]=nt>>8&255,s[ct++]=nt&255,et=st}return s}function yl(s){if(s.Class){if(!s.pack&&!s.write)throw new Error("Extension has no pack or write function");if(s.pack&&!s.type)throw new Error("Extension has no type (numeric code to identify the extension)");m1.unshift(s.Class),Av.unshift(s)}wD(s)}var CD=new Dc({useRecords:!1});CD.pack;CD.pack;var PD=512,Uq=1024,_D=new Dc({structuredClone:!0});yl({Class:Ke.prototype.constructor,type:1,write(s){return{...s}},read(s){return Object.setPrototypeOf(s,Ke.prototype),s}});yl({Class:Ue$1.prototype.constructor,type:2,write(s){return[...s]},read(s){return Object.setPrototypeOf(s,Ue$1.prototype),s}});yl({Class:gr.prototype.constructor,type:3,write(s){return[...s]},read(s){return Object.setPrototypeOf(s,gr.prototype),s}});yl({Class:Fp.prototype.constructor,type:4,write(s){return s.id},read(s){return new Fp(s)}});yl({Class:Vp.prototype.constructor,type:5,write(s){return s.data},read(s){return new Vp(s)}});yl({Class:yr$1.prototype.constructor,type:6,write(s){return{...s}},read(s){return Object.setPrototypeOf(s,yr$1.prototype),s}});function zq(s){var o=0;if(s.length===0)return o;for(let _=0;_<s.length;_++){let j=s[_];o=(o<<5)-o+j,o=o&o}return o}function g1(s){if(Ih(s))return s;if(Array.isArray(s))return s.map(g1);if(typeof s=="object"&&s!==null){let o={};for(let _ of Object.keys(s).sort())o[_]=g1(s[_]);return Object.setPrototypeOf(o,Object.getPrototypeOf(s)),o}else return s}var Mv;(s=>{function o(et){return _D.pack(et)}s.serialize=o;function _(et){return _D.unpack(et)}s.deserialize=_;function j(et){return zq(o(g1(et))).toString()}s.checksum=j})(Mv||(Mv={}));var DD;(s=>{function o(j){return j.type==="Conditional"?j.condition.type==="Distance"?"Distance":"StateChange":j.type}s.toEventUIType=o;function _(j){return j==="Distance"||j==="StateChange"?"Conditional":j}s.fromEventUIType=_})(DD||(DD={}));function v1(s){return s==="MouseDown"||s==="MouseUp"||s==="KeyDown"||s==="KeyUp"||s==="Collision"||s==="Trigger"}var Yi={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],API:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"],WEBHOOK:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional","ClearLocalStorage","UserAPI"]},ID$1;(s=>{function o(j){return j.type==="MouseDown"||j.type==="MouseUp"||j.type==="MousePress"||j.type==="KeyDown"||j.type==="KeyUp"||j.type==="KeyPress"}s.is=o;function _(j){return j==="MouseDown"||j==="MouseUp"||j==="MousePress"?{type:j,mode:"Object",disabled:!1,actions:new Ue$1}:{type:j,disabled:!1,key:void 0,actions:new Ue$1}}s.defaultData=_})(ID$1||(ID$1={}));var Tv;(s=>{function o(_){return{type:"Property",value:[_??null,"position","x"]}}s.propertyDefaultData=o,s.valueDefaultData={type:"Literal",value:0}})(Tv||(Tv={}));var y1;(s=>{function o(et){return{type:"Comparison",operator:"==",lOperand:Tv.propertyDefaultData(et),rOperand:{...Tv.valueDefaultData}}}s.comparisonDefaultData=o;function _(et){return{type:"Distance",toObject:et??null,fromObject:et??null,distance:200}}s.distanceDefaultData=_;function j(et,st){return{type:"State",object:et??null,state:st??null}}s.stateDefaultData=j})(y1||(y1={}));var OD;(s=>{function o(_){return _.find(j=>j==="ifActions"||j==="elseActions")!==void 0}s.isConditionalSubActions=o})(OD||(OD={}));var RD;(s=>{function o(j){return j.type==="Conditional"}s.is=o;function _(j){return{type:"Conditional",disabled:!1,inActions:new Ue$1,outActions:new Ue$1,condition:y1.distanceDefaultData(j)}}s.defaultData=_})(RD||(RD={}));var LD;(s=>s.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new Ue$1,drop:new Ue$1}})(LD||(LD={}));var Cv;(s=>s.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new Ue$1})(Cv||(Cv={}));var Pv;(s=>s.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(Pv||(Pv={}));var BD;(s=>{function o(j){return j.type==="MouseHover"}s.is=o;function _(){return{type:"MouseHover",disabled:!1,actions:new Ue$1}}s.defaultData=_})(BD||(BD={}));var ND;(s=>{function o(j){return j.type==="Scroll"}s.is=o;function _(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new Ue$1}}s.defaultData=_})(ND||(ND={}));var FD;(s=>{function o(j){return j.type==="Start"}s.is=o;function _(){return{type:"Start",disabled:!1,actions:new Ue$1}}s.defaultData=_})(FD||(FD={}));var VD;(s=>{function o(j){return j.type==="Collision"}s.is=o;function _(){return{type:"Collision",disabled:!1,target:"character",actions:new Ue$1}}s.defaultData=_})(VD||(VD={}));var UD;(s=>{function o(j){return j.type==="Trigger"}s.is=o;function _(j,et){return{type:"Trigger",disabled:!1,target:"all",triggeringObjects:[],actions:new Ue$1,triggerZone:"box",position:et.toArray(),rotation:[0,0,0],size:j.toArray(),radius:j.length()/2,helperVisible:!0}}s.defaultData=_})(UD||(UD={}));var _v;(s=>{s.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function o(nt){return nt.type==="Resize"}s.is=o;function _(nt){return typeof nt=="string"?nt:"custom"}s.sizeToDevice=_;function j(nt){return typeof nt=="string"?[...s.defaultSizes[nt]]:[...nt]}s.deviceToSize=j;function et(){let nt={size:"mobile",operator:"<",actions:new Ue$1},ct={size:"tablet",operator:"<",actions:new Ue$1},At={size:[...s.defaultSizes.custom],operator:"<>",actions:new Ue$1},mt=new Ue$1;return mt.push({id:we.generateUUID(),fi:0,data:nt},{id:we.generateUUID(),fi:1,data:ct},{id:we.generateUUID(),fi:2,data:At}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:mt}}s.defaultData=et;function st(){return{size:[...s.defaultSizes.custom],operator:"<>",actions:new Ue$1}}s.defaultBreakpointData=st})(_v||(_v={}));var Dv;(s=>{s.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function o(j){return j.type==="VariableChange"}s.is=o;function _(){return{disabled:!1,type:"VariableChange",actions:new Ue$1,variableId:"",objectId:null,property:"Position X"}}s.defaultData=_})(Dv||(Dv={}));var zD;(s=>{function o(j){return j.type==="API"}s.is=o;function _(){return{disabled:!1,type:"API",successActions:new Ue$1,errorActions:new Ue$1,userAPIId:""}}s.defaultData=_})(zD||(zD={}));var kD;(s=>{function o(j){return j.type==="WEBHOOK"}s.is=o;function _(){return{disabled:!1,type:"WEBHOOK",actions:new Ue$1,userWebhookId:""}}s.defaultData=_})(kD||(kD={}));var hs="personal camera",xl="a218fcc3-276b-49b9-b485-49037fd14f5f",WD=2960946,ii=5526619,Fs;(s=>{function o(Bt,Dt){return Bt[0]===Dt[0]&&Bt[1]===Dt[1]}s.isEqual=o;function _(Bt,Dt,Ft){return[Bt[0]+(Dt[0]-Bt[0])*Ft,Bt[1]+(Dt[1]-Bt[1])*Ft]}s.lerp=_;function j(Bt,Dt){return[Bt[0]+Dt[0],Bt[1]+Dt[1]]}s.add=j;function et(Bt,Dt){return[Bt[0]-Dt[0],Bt[1]-Dt[1]]}s.sub=et;function st(Bt,Dt){return[Bt[0]*Dt[0],Bt[1]*Dt[1]]}s.multiply=st;function nt(Bt,Dt){return[Bt[0]/Dt[0],Bt[1]/Dt[1]]}s.divide=nt;function ct(Bt,Dt){return Math.pow(Dt[0]-Bt[0],2)+Math.pow(Dt[1]-Bt[1],2)}s.distanceSquared=ct;function At(Bt,Dt){return Math.sqrt(ct(Bt,Dt))}s.distance=At;function mt(Bt,Dt){return Bt[0]*Dt[0]+Bt[1]*Dt[1]}s.dot=mt;function gt(Bt,Dt){return[Bt[0]*Dt,Bt[1]*Dt]}s.scalarMultiply=gt;function _t(Bt,Dt,Ft){let Rt=s.sub(Dt,Bt),Nt=s.sub(Ft,Bt),Gt=s.dot(Rt,Nt)/s.dot(Rt,Rt),dr=s.scalarMultiply(Rt,Gt);return s.add(Bt,dr)}s.projectionOnto=_t;function Et(Bt,Dt,Ft){return At(Bt,_t(Bt,Dt,Ft))}s.projectionOntoDistance=Et;function Ct(Bt,Dt){return[(Bt[0]+Dt[0])*.5,(Bt[1]+Dt[1])*.5]}s.center=Ct})(Fs||(Fs={}));var Ao;(s=>{function o(At,mt){return At[0]===mt[0]&&At[1]===mt[1]&&At[2]===mt[2]}s.isEqual=o;function _(At,mt){return[At[0]+mt[0],At[1]+mt[1],At[2]+mt[2]]}s.add=_;function j(At,mt){return[At[0]-mt[0],At[1]-mt[1],At[2]-mt[2]]}s.sub=j;function et(At,mt){return[At[0]/mt[0],At[1]/mt[1],At[2]/mt[2]]}s.div=et;function st(At,mt){return[At[0]*mt[0],At[1]*mt[1],At[2]*mt[2]]}s.mul=st;function nt(At,mt){return Math.hypot(At[0]-mt[0],At[1]-mt[1],At[2]-mt[2])}s.dist=nt;function ct(At,mt,gt){return[At[0]+(mt[0]-At[0])*gt,At[1]+(mt[1]-At[1])*gt,At[2]+(mt[2]-At[2])*gt]}s.lerp=ct})(Ao||(Ao={}));var kp;(s=>{function o(j,et){return j[0]===et[0]&&j[1]===et[1]&&j[2]===et[2]&&j[3]===et[3]}s.isEqual=o;function _(j,et,st){return[j[0]+(et[0]-j[0])*st,j[1]+(et[1]-j[1])*st,j[2]+(et[2]-j[2])*st,j[3]+(et[3]-j[3])*st]}s.lerp=_})(kp||(kp={}));var GD;(s=>{let o=180/Math.PI,_=Math.PI/180;function j(ct){return typeof ct=="number"?ct*o:ct}function et(ct){return typeof ct=="number"?ct*_:ct}function st(ct){return[j(ct[0]),j(ct[1]),j(ct[2])]}s.radToDeg=st;function nt(ct){return[et(ct[0]),et(ct[1]),et(ct[2])]}s.degToRad=nt})(GD||(GD={}));var vl;(s=>{s.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(et,st){for(let nt=0;nt<16;nt++)if(et[nt]!==st[nt])return!1;return!0}s.isEqual=o;function _(et){return et??s.identity}s.simplify=_;function j(et,st){let nt=st.slice(0);for(var ct=0,At=st.length;ct<At;ct+=3){let mt=et[3]*st[ct]+et[7]*st[ct+1]+et[11]*st[ct+2]+et[15];nt[ct]=(et[0]*st[ct]+et[4]*st[ct+1]+et[8]*st[ct+2]+et[12])/mt,nt[ct+1]=(et[1]*st[ct]+et[5]*st[ct+1]+et[9]*st[ct+2]+et[13])/mt,nt[ct+2]=(et[2]*st[ct]+et[6]*st[ct+1]+et[10]*st[ct+2]+et[14])/mt}return nt}s.applyMatrix4=j})(vl||(vl={}));var ri;(s=>{function o(mt){return typeof mt=="object"&&typeof mt.r=="number"&&typeof mt.g=="number"&&typeof mt.b=="number"}s.isRGB=o,s.white={r:1,g:1,b:1},s.red={r:1,g:0,b:0},s.black={r:0,g:0,b:0};function _(mt){return{r:Math.round(mt.r*255),g:Math.round(mt.g*255),b:Math.round(mt.b*255),a:1}}s.toRgb255a1=_;function j(mt){return{r:mt.r,g:mt.g,b:mt.b}}s.clone=j;function et(mt){return mt=Math.floor(mt),{r:(mt>>16&255)/255,g:(mt>>8&255)/255,b:(mt&255)/255}}s.fromHex=et;function st(mt){return Math.round(mt.r*255)*65536+Math.round(mt.g*255)*256+Math.round(mt.b*255)}s.toHex=st;function nt(mt,gt){return mt.r===gt.r&&mt.g===gt.g&&mt.b===gt.b}s.equals=nt;function ct(mt,gt){return mt.r.toFixed(2)===gt.r.toFixed(2)&&mt.g.toFixed(2)===gt.g.toFixed(2)&&mt.b.toFixed(2)===gt.b.toFixed(2)}s.equalsFixed=ct;function At(mt,gt,_t){return{r:mt.r+(gt.r-mt.r)*_t,g:mt.g+(gt.g-mt.g)*_t,b:mt.b+(gt.b-mt.b)*_t}}s.lerp=At})(ri||(ri={}));var bt;(s=>{s.white={...ri.white,a:1},s.transparent={...ri.white,a:0};function o(At){return{r:At[0],g:At[1],b:At[2],a:At[3]}}s.from0to1=o;function _(At,mt){return{...ri.fromHex(At),a:mt}}s.fromHexAndA=_;function j(At){return{r:Math.round(At.r*255),g:Math.round(At.g*255),b:Math.round(At.b*255),a:At.a}}s.toRgb255a1=j;function et(At,mt){return ri.equals(At,mt)&&At.a===mt.a}s.equals=et;function st(At,mt){return ri.equalsFixed(At,mt)&&At.a.toFixed(2)===mt.a.toFixed(2)}s.equalsFixed=st;function nt(At,mt,gt){return{r:At.r+(mt.r-At.r)*gt,g:At.g+(mt.g-At.g)*gt,b:At.b+(mt.b-At.b)*gt,a:At.a+(mt.a-At.a)*gt}}s.lerp=nt;function ct({r:At,g:mt,b:gt,a:_t}=s.white){return`rgba(${At*255}, ${mt*255}, ${gt*255}, ${_t})`}s.toStyle=ct})(bt||(bt={}));var Iv;(s=>s.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(Iv||(Iv={}));var jD;(s=>s.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(jD||(jD={}));var HD;(s=>s.defaultData={control1:[.5,0],control2:[.5,1]})(HD||(HD={}));var ma;(s=>(s.linear=[0,0,1,1],s.ease=[.25,.1,.25,1],s.easeIn=[.42,0,1,1],s.easeOut=[0,0,.58,1],s.easeInOut=[.42,0,.58,1]))(ma||(ma={}));function x1(s){return typeof s=="string"&&s.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s):!1}var Vs;(s=>{s.all=["PerspectiveCamera","OrthographicCamera"];function o(_){return s.all.includes(_)}s.is=o})(Vs||(Vs={}));var bl;(s=>{s.DefaultUp=[0,1,0],s.DefaultTargetOffset=1e3,s.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:s.DefaultUp,isUpVectorFlipped:!1,targetOffset:s.DefaultTargetOffset};function o(_){var j,et;return _.type==="PerspectiveCamera"?((j=_.perspective)==null?void 0:j.zoom)??1:((et=_.orthographic)==null?void 0:et.zoom)??1}s.getZoom=o})(bl||(bl={}));var Eo;(s=>{function o(j,et=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(j[0],j[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[j[0]+j[0]*et,0,0]},grid:{count:[2,2,2],size:j.map(st=>st*(1+et)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}s.defaultData=o;function _(j,et){let st={...j};if(b1.forEach(nt=>{Object.assign(st,{[nt]:et[nt]??j[nt]})}),st.radial={...j.radial},et.radial){let nt=j.radial,ct=et.radial;S1.forEach(At=>{Object.assign(st.radial,{[At]:ct[At]??nt[At]})})}if(st.linear={...j.linear},et.linear){let nt=j.linear,ct=et.linear;w1.forEach(At=>{Object.assign(st.linear,{[At]:ct[At]??nt[At]})})}if(st.grid={...j.grid},et.grid){let nt=j.grid,ct=et.grid;A1.forEach(At=>{Object.assign(st.grid,{[At]:ct[At]??nt[At]})})}if(st.toObject={...j.toObject},et.toObject){let nt=j.toObject,ct=et.toObject;E1.forEach(At=>{Object.assign(st.toObject,{[At]:ct[At]??nt[At]})})}if(st.randomnessObject={...j.randomnessObject},et.randomnessObject){let nt=j.randomnessObject,ct=et.randomnessObject;M1.forEach(At=>{Object.assign(st.randomnessObject,{[At]:ct[At]??nt[At]})})}return st}s.merge=_})(Eo||(Eo={}));var Ov;(s=>{s.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let o=["radial","linear","grid","toObject","randomnessObject"];function _(j,et){let st=[];j.count!==void 0&&st.push({type:0,path:et,props:{count:j.count}});for(let nt of o){let ct=j[nt];ct&&Object.keys(ct).length>0&&st.push({type:0,path:[...et,nt],props:ct})}return st}s.toOps=_})(Ov||(Ov={}));var b1=["count"],S1=["radius","start","end","position","scale","rotation"],w1=["position","scale","rotation"],A1=["count","size"],E1=["count","position","scale","rotation"],M1=["strength","scale","rotation","position","movement","seed","freqScale"],Rv;(s=>{s.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function o(_){return s.all.includes(_)}s.is=o})(Rv||(Rv={}));var Lv;(s=>{function o(j){return _(j)}s.defaultData=o;function _(j){if(j==="PointLight")return{type:j,color:bt.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(j==="SpotLight")return{type:j,color:bt.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(j==="DirectionalLight")return{type:j,color:bt.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(Lv||(Lv={}));var Vh;(s=>(s.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},s.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},s.defaultData={renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:s.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeDuration:1,...s.defaultCollisionData}))(Vh||(Vh={}));var Sl;(s=>s.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(Sl||(Sl={}));var T1;(s=>{s.defaultData={castShadow:!0,receiveShadow:!0};function o(_,j){return _.castShadow===j.castShadow&&_.receiveShadow===j.receiveShadow}s.equals=o})(T1||(T1={}));var C1;(s=>{s.defaultData={flatShading:!1,wireframe:!1,side:0};function o(_,j){return _.flatShading===j.flatShading&&_.side===j.side&&_.wireframe===j.wireframe}s.equals=o})(C1||(C1={}));var Bv;(s=>s.defaultData={...C1.defaultData,...T1.defaultData})(Bv||(Bv={}));var qD;(s=>{function o(_,j){var st,nt;let et=[];if("material"in _){let ct=typeof _.material=="string"?j.materials[_.material]??((st=j.lib.materials[_.material])==null?void 0:st.asset):_.material;ct&&et.push(ct)}else if("materials"in _)for(let ct of _.materials){let At=typeof ct=="string"?j.materials[ct]??((nt=j.lib.materials[ct])==null?void 0:nt.asset):ct;At&&et.push(At)}return et}s.getMaterialData=o})(qD||(qD={}));var Uh;(s=>(s.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},s.maxSize=3e7))(Uh||(Uh={}));var YD;(s=>{function o(_){return _==="texture"||_==="video"||_==="color"||_==="depth"||_==="normal"||_==="gradient"||_==="noise"||_==="fresnel"||_==="rainbow"||_==="toon"||_==="outline"||_==="particle"||_==="transmission"||_==="matcap"||_==="displace"||_==="pattern"||_==="light"}s.is=o})(YD||(YD={}));function QD(s){return s.type!=="displace"}var XD;(s=>{function o(_){return _==="phong"||_==="toon"||_==="lambert"||_==="physical"}s.is=o})(XD||(XD={}));var Nv=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],KD=["wrapping","image","video","name","minFilter","magFilter"],Gr;(s=>{function o(st,nt){let{texture:ct,...At}=nt;if(Object.assign(st,At),ct){let mt=st.texture;mt&&Object.assign(mt,ct)}}s.patch=o;function _(st,nt){return st==="light"&&nt?j(nt):et(st)}s.defaultData=_;function j(st){let nt={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(st){case"phong":return{...nt,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...nt,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...nt,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...nt,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}function et(st){let nt={alpha:1,mode:0,isMask:!1,visible:!0};switch(st){case"texture":return{...nt,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"video":return{...nt,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:Uh.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006},crop:!1};case"color":return{...nt,type:"color",color:ri.fromHex(ii)};case"depth":return{...nt,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...nt,type:"normal",cnormal:[1,1,1]};case"gradient":return{...nt,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...nt,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...ri.fromHex(6710886),a:1},colorB:{...ri.fromHex(6710886),a:1},colorC:{...ri.fromHex(16777215),a:1},colorD:{...ri.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...nt,type:"fresnel",color:bt.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...nt,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...nt,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:bt.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...nt,type:"outline",outlineColor:bt.fromHexAndA(0,1),contourColor:bt.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...nt,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0],rotation:0,minFilter:1008,magFilter:1006}};case"transmission":return{...nt,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...nt,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...ri.fromHex(0),a:1},colorB:{...ri.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}})(Gr||(Gr={}));var Qr;(s=>{function o(gt){return!gt.layers.some(_t=>_t.data.type==="texture"&&_t.data.projection!==0||_t.data.type==="depth"&&!_t.data.isWorldSpace||_t.data.type==="noise"||_t.data.type==="displace")}s.isMergable=o;function _(gt){let _t="";return gt.layers.forEach(Et=>{Object.entries(Et.data).forEach(([Ct,Bt])=>{_t+=`${Ct}${Bt}`,Array.isArray(Bt)?Bt.forEach(Dt=>_t+=`${Dt}`):typeof Bt=="object"?Object.values(Bt).forEach(Dt=>{typeof Dt=="number"?_t+=`${Dt.toFixed(4)}`:_t+=`${Dt}`}):_t+=`${Bt}`})}),_t}s.getHash=_;function j(){return{layers:new Ue$1}}s.defaultEmptyData=j;function et(gt="layer1",_t="layer2"){return nt("phong",gt,_t)}s.defaultData=et;function st(gt,_t){return{...gt,name:_t}}s.withName=st;function nt(gt,_t="layer1",Et="layer2"){let Ct=new Ue$1;return Ct.push({fi:0,data:Gr.defaultData("light",gt),id:_t}),Ct.push({fi:1,data:Gr.defaultData("color"),id:Et}),{layers:Ct}}s.defaultTwoLayerData=nt;function ct(gt){let _t=Gr.defaultData("texture");gt&&Object.assign(_t.texture,{image:gt});let Et=new Ue$1;return Et.push({fi:0,data:_t,id:"layer1"}),Et.push({fi:1,data:{...Gr.defaultData("transmission"),alpha:1},id:"layer2"}),Et.push({fi:2,data:{...Gr.defaultData("light","lambert"),alpha:0},id:"layer3"}),{layers:Et}}s.defaultUIObjectMaterial=ct;function At(gt,_t="phong",Et="layer1",Ct="layer2"){let Bt=Gr.defaultData("texture");Object.assign(Bt.texture,{image:gt});let Dt=new Ue$1;return Dt.push({fi:0,data:Bt,id:Et}),Dt.push({fi:1,data:Gr.defaultData("light",_t),id:Ct}),{layers:Dt}}s.defaultTwoLayerTextureData=At;function mt(gt,_t="phong",Et="layer1",Ct="layer2"){let Bt=Gr.defaultData("video");Object.assign(Bt.texture,{video:gt});let Dt=new Ue$1;return Dt.push({fi:0,data:Bt,id:Et}),Dt.push({fi:1,data:Gr.defaultData("light",_t),id:Ct}),{layers:Dt}}s.defaultTwoLayerVideoTextureData=mt})(Qr||(Qr={}));var zh;(s=>{function o(){return{points:new Ue$1,roundness:0,shapeHoles:[],isClosed:!1}}s.defaultData=o})(zh||(zh={}));var kh;(s=>{function o(){return{points:new Ue$1,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}s.defaultData=o})(kh||(kh={}));var P1={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},Fv;(s=>{function o(_,j){let et={..._};return _1.forEach(st=>{Object.assign(et,{[st]:j[st]??_[st]})}),et}s.merge=o})(Fv||(Fv={}));var Vv={shape:P1,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},_1=["depth","offset","angle","twist","startScale","endScale"],Gp;(s=>{function o(j){return j==="PolygonGeometry"||j==="RectangleGeometry"||j==="StarGeometry"||j==="TriangleGeometry"||j==="EllipseGeometry"||j==="UIGeometry"}s.is2DParametricMesh=o;function _(j){return j==="PolygonGeometry"||j==="PolygonGeometry"||j==="RectangleGeometry"||j==="StarGeometry"||j==="TriangleGeometry"||j==="EllipseGeometry"||j==="PathGeometry"||j==="VectorGeometry"||j==="ConeGeometry"||j==="CubeGeometry"||j==="CylinderGeometry"||j==="DodecahedronGeometry"||j==="HelixGeometry"||j==="IcosahedronGeometry"||j==="LatheGeometry"||j==="PyramidGeometry"||j==="SphereGeometry"||j==="PlaneGeometry"||j==="BackdropGeometry"||j==="TorusGeometry"||j==="TorusKnotGeometry"||j==="BooleanGeometry"||j==="TextGeometry"||j==="InputGeometry"}s.isParametricMesh=_})(Gp||(Gp={}));var Uv;(s=>{function o(_,j){let et={..._};return Object.assign(et,j),et.type==="PathGeometry"&&"extrusion"in j&&j.extrusion&&(et.extrusion={..._.extrusion},Object.assign(et.extrusion,Fv.merge(et.extrusion,j.extrusion))),et}s.merge=o})(Uv||(Uv={}));var ga;(s=>{function o(_){if(_==="RectangleGeometry")return{width:320,height:320,type:_,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(_==="UIGeometry")return{type:_,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if(_==="PathGeometry")return{type:_,width:1,height:1,depth:1,path:kh.defaultData(),extrusion:Vv};if(_==="VectorGeometry")return{width:1,height:1,type:_,subdivisions:12,shape:zh.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(_==="BooleanGeometry")return{type:_,operation:2,width:0,height:0,depth:0,phongAngle:35};if(_==="TextGeometry")return{type:_,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",editable:!1,extrudeBevelSize:0,extrudeBevelSegments:1};if(_==="InputGeometry")return{...s.defaultData("TextGeometry"),type:_,editable:!0};if(_==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}s.defaultData=o})(ga||(ga={}));var zv=["width","height","depth"],kv;(s=>s.defaultData={enabled:!1,useBackgroundColor:!1,color:ri.white,near:.1,far:2e3})(kv||(kv={}));var Gh;(s=>{let o={opacity:1,blendFunction:13,enabled:!1};s.defaultData={enabled:!1,pixelation:{...o,blendFunction:16,granularity:15},bloom:{...o,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...o,offset:[2,2]},vignette:{...o,darkness:1,offset:0},hueSaturation:{...o,hue:3,saturation:0},brightnessContrast:{...o,brightness:.25,contrast:0},depthOfField:{...o,focusDistance:100,focalLength:20,bokehScale:5},noise:{...o,blendFunction:16}}})(Gh||(Gh={}));var D1;(s=>s.defaultData={softShadowQuality:"low"})(D1||(D1={}));var I1;(s=>s.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(I1||(I1={}));var O1;(s=>s.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(O1||(O1={}));var wl;(s=>s.defaultData={usePhysics:!1,gravity:-10})(wl||(wl={}));var R1;(s=>s.defaultData={playCamera:hs,gameControlObject:null})(R1||(R1={}));var Gv;(s=>s.defaultData={backgroundColor:bt.fromHexAndA(WD,1),postprocessing:Gh.defaultData,fog:kv.defaultData,globalPhysics:wl.defaultData,ambient:I1.defaultData,ao:O1.defaultData,shadow:D1.defaultData,publish:R1.defaultData})(Gv||(Gv={}));var jv;(s=>s.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95})(jv||(jv={}));var ZD;(s=>{function o(j){return j==="Component"||j==="Instance"}s.isComponentRelated=o;function _(j){return j==="Empty"||j==="Instance"}s.isEmptyOrComponent=_})(ZD||(ZD={}));var jh;(s=>{s.identity={...Iv.identity,hiddenMatrix:vl.identity};function o(et){return{position:et.position,rotation:et.rotation,scale:et.scale,hiddenMatrix:et.hiddenMatrix}}s.fromObject=o;function _(et,st){return{position:(st==null?void 0:st.position)||et.position,rotation:(st==null?void 0:st.rotation)||et.rotation,scale:(st==null?void 0:st.scale)||et.scale,hiddenMatrix:(st==null?void 0:st.hiddenMatrix)||et.hiddenMatrix}}s.merge=_;function j(et,st){return ev({position:Ao.isEqual(et.position,st.position)?void 0:st.position,rotation:Ao.isEqual(et.rotation,st.rotation)?void 0:st.rotation,scale:Ao.isEqual(et.scale,st.scale)?null:st.scale,hiddenMatrix:vl.isEqual(et.hiddenMatrix,st.hiddenMatrix)?void 0:st.hiddenMatrix})}s.diff=j})(jh||(jh={}));var vi;(s=>s.defaultData={states:new Ue$1,events:new Ue$1,visible:!0,raycastLock:!1,physics:Sl.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...jh.identity,cloner:null})(vi||(vi={}));var Hv;(s=>s.defaultData={type:"Empty",...vi.defaultData})(Hv||(Hv={}));var JD;(s=>s.defaultData={type:"ParticleCollider",...jv.defaultData,...vi.defaultData})(JD||(JD={}));var $D;(s=>s.defaultData={type:"Component",...vi.defaultData})($D||($D={}));var eI;(s=>s.defaultData={type:"Particle",...vi.defaultData,...Vh.defaultData})(eI||(eI={}));var Al;(s=>s.defaultData={type:"Mesh",...vi.defaultData,...Bv.defaultData})(Al||(Al={}));var Ic;(s=>s.defaultData={...vi.defaultData,...jh.identity,position:[0,0,bl.DefaultTargetOffset],...bl.defaultData})(Ic||(Ic={}));var Wv;(s=>{function o(_){return{...vi.defaultData,...Lv.defaultData(_)}}s.defaultData=o,s.defaultDirectionalLightData={...s.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(Wv||(Wv={}));var Hh;(s=>{function o(j,et,st=0){for(;st<et.length;){let nt=j?j[et[st]]:void 0;if(et.length===st+1)return nt;if(nt)j=nt.descendants,st+=1;else return}}s.resolveWithDes=o;function _(j,et,st=0){let nt=o(j,et,st);if(nt){let ct=Object.keys(nt);if(ct.length===1&&ct[0]==="descendants")return}return nt}s.resolve=_})(Hh||(Hh={}));var Mo;(s=>{s.rootOverrideProps=["physics","events"],s.compositeNonOptionalOverrideProps=["geometry"],s.compositeEntireOverrideOverrideProps=["material"];function o(j,et){return{...vi.defaultData,...et,component:j,overrides:new yr$1,physics:void 0,events:void 0,type:"Instance"}}s.ofComponent=o;function _(j){let et=jh.fromObject(j.data);return o(j.id,et)}s.fromComponentData=_})(Mo||(Mo={}));var ya;(s=>{s.defaultData={type:"Page",...vi.defaultData,physics:{...Sl.defaultData,fusedBody:!1},...Gv.defaultData,camera:Ic.defaultData};function o(_){return _.uiScene!==void 0}s.isUIPage=o})(ya||(ya={}));var qv;(s=>(s.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:vl.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:Sl.defaultData,states:new Ue$1,events:new Ue$1,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...bl.defaultData},s.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},s.defaultMeshObject={name:"Rectangle",...vi.defaultData,...Al.defaultData,geometry:ga.defaultData("RectangleGeometry"),material:Qr.defaultTwoLayerData("phong","layer1","layer2")},s.defaultBooleanObject={name:"Boolean",...vi.defaultData,...Al.defaultData,geometry:ga.defaultData("BooleanGeometry"),material:Qr.defaultTwoLayerData("phong","layer1","layer2")},s.defaultTextObject={name:"Text",...vi.defaultData,...Al.defaultData,geometry:ga.defaultData("TextGeometry"),material:Qr.defaultTwoLayerData("phong","layer1","layer2")},s.defaultInputObject={name:"Input",...vi.defaultData,...Al.defaultData,geometry:ga.defaultData("InputGeometry"),material:Qr.defaultTwoLayerData("phong","layer1","layer2")}))(qv||(qv={}));var va;(s=>{function o(st,nt){let ct={name:nt};return st.type==="Mesh"?(ct.geometry={},"material"in st&&(ct.material={layers:new yr$1}),"materials"in st&&(ct.materials=st.materials.map(At=>({layers:new yr$1})))):Vs.is(st.type)&&(ct.perspective={},ct.orthographic={}),ct}s.newEmpty=o;function _(st,nt){if(nt===void 0)return st;let ct={...st};return"material"in ct&&"material"in nt&&nt.material&&(ct.material=pl(ct.material,At=>{if(typeof At!="string")for(let[mt,gt]of Object.entries(nt.material.layers)){let _t=At.layers.data(mt);_t&&Gr.patch(_t,gt)}}).data),ct.materials&&nt.materials&&(ct.materials=pl(ct.materials,At=>{var mt,gt;for(let _t=0;_t<ct.materials.length;_t++){let Et=nt.materials[_t];if(typeof Et!="string")for(let[Ct,Bt]of Object.entries(Et.layers)){let Dt=(gt=(mt=At[_t])==null?void 0:mt.layers)==null?void 0:gt.data(Ct);Dt&&Gr.patch(Dt,Bt)}}}).data),ct}function j(st,nt){let ct,At=[],mt={orthographic:0,perspective:0,geometry:0};function gt(_t,Et){for(let[Ct,Bt]of Object.entries(Et.layers)){let{texture:Dt,...Ft}=Bt;if(Dt!==void 0&&Object.keys(Dt).length>0){let Rt={path:[..._t,"layers",Ct,"texture"],props:Dt,type:0};At.push(Rt)}if(Object.keys(Ft).length>0){let Rt={path:[..._t,"layers",Ct],props:Ft,type:0};At.push(Rt)}}}for(let[_t,Et]of Object.entries(nt))if(_t!=="name")if(_t==="cloner")At.push(...Ov.toOps(Et,["cloner"]));else if(_t==="pathSnapping")At.push({path:[_t],props:{slide:Et.slide,offset:Et.offset},type:0});else if(_t==="material")gt(["material"],Et);else if(_t==="materials")for(let[Ct,Bt]of Object.entries(Et))gt(["materials",Ct],Bt);else if(mt[_t]===0){if(_t==="geometry"&&Et.extrusion!==void 0){let Ct={path:[_t,"extrusion"],props:Et.extrusion,type:0};At.push(Ct),Et={...Et},delete Et.extrusion}if(Object.keys(Et).length>0){let Ct={path:[_t],props:Et,type:0};At.push(Ct)}}else ct===void 0&&(ct={path:[],props:{},type:0},At.push(ct)),ct.props[_t]=Et;return At}s.toOps=j;function et(st,nt){var At,mt,gt,_t,Et,Ct;if(nt===void 0)return st;let ct={...st};if(Object.assign(ct,jh.merge(ct,nt)),Object.assign(ct,{pathSnapping:Object.assign({},ct.pathSnapping,{slide:((At=nt.pathSnapping)==null?void 0:At.slide)??((mt=ct.pathSnapping)==null?void 0:mt.slide)??0,offset:((gt=nt.pathSnapping)==null?void 0:gt.offset)??((_t=ct.pathSnapping)==null?void 0:_t.offset)??0})}),Vs.is(st.type)){ct.orthographic={...ct.orthographic},ct.perspective={...ct.perspective};let Bt=nt;((Et=Bt.orthographic)==null?void 0:Et.zoom)!==void 0&&(ct.orthographic.zoom=Bt.orthographic.zoom),((Ct=Bt.perspective)==null?void 0:Ct.zoom)!==void 0&&(ct.perspective.zoom=Bt.perspective.zoom),Bt.isUpVectorFlipped!==void 0&&(ct.isUpVectorFlipped=Bt.isUpVectorFlipped),Bt.targetOffset!==void 0&&(ct.targetOffset=Bt.targetOffset)}else if(st.type==="Mesh")"geometry"in nt&&Object.assign(ct,{geometry:Uv.merge(ct.geometry,nt.geometry)}),(nt.material||nt.materials)&&(ct=_(ct,nt)),ct.cloner&&"cloner"in nt&&Object.assign(ct,{cloner:Eo.merge(ct.cloner,nt.cloner)});else if(st.type==="Empty")ct.cloner&&"cloner"in nt&&Object.assign(ct,{cloner:Eo.merge(ct.cloner,nt.cloner)});else if(Rv.is(st.type)){let Bt=nt;Bt.intensity!==void 0&&(ct.intensity=Bt.intensity),Bt.color!==void 0&&(typeof Bt.color=="string"?ct.color=Bt.color:ct.color=ri.clone(Bt.color))}return ct}s.patch=et})(va||(va={}));var Wh;(s=>s.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(Wh||(Wh={}));var Us;(s=>s.defaultData={orbitControls:Wh.defaultData,playPage:xl,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((o,_)=>{let j=0,et=0;return _<5?et=-30:_<10&&(et=30),_===0||_===10||_===5?j=30:(_===4||_===11||_===9)&&(j=-30),[120,[j,et],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1,imageQuality:70}},stopRaycast:!0,hdTransmission:!1})(Us||(Us={}));var L1;(s=>s.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(L1||(L1={}));var B1;(s=>s.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(B1||(B1={}));var xa;(s=>(s.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...L1.defaultData},isRandomSeed:!0,seed:s.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:B1.defaultData}),s.generateSeed=()=>Math.round(Math.random()*1e5)))(xa||(xa={}));var El;(s=>{function o(j){return j.find(et=>et.data.type==="Page"&&et.data.globalPhysics.usePhysics)!==void 0}s.physicsEnabled=o;function _(j,et,st){j.scene.objects.traverseFrom(et,(nt,ct)=>{var At;if(ct.type==="Instance"){let mt=(At=qh.getComponentData(j,ct.component))==null?void 0:At.data;mt&&st(nt,ct,mt.events)}else st(nt,ct,ct.events)})}s.traverseModuleInstances=_})(El||(El={}));var ba;(s=>{s.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",s.defaultLight={fi:-1,data:Wv.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]};function o(et=!0,st=[]){let nt=[],ct=qv.defaultMeshObject;et&&(nt.push({...s.defaultLight}),nt.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:ct,children:[]})),nt.push(...st);let At=new gr;return At.push({fi:1,id:xl,data:{...ya.defaultData,name:"Scene 1"},children:nt}),At}s.createDefaultObjectTreeWithPage=o,s.defaultData={objects:o(),publish:Us.defaultData,styles:xa.defaultData()},s.emptyDataWithoutPage=function(){return{objects:new gr,publish:Us.defaultData,styles:xa.defaultData()}},s.emptyDataWithPage=function(et=!0){return{objects:o(et),publish:Us.defaultData,styles:xa.defaultData()}},s.emptyData=function(){return{objects:new gr,publish:{...Us.defaultData},styles:xa.defaultData()}};function _(et){return{...s.defaultData,objects:qi(et,gr.prototype)}}s.withObjs=_;function j(et,st){return _([{id:et,data:st,children:[],fi:0}])}s.withObj=j})(ba||(ba={}));var Yh;(s=>s.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(Yh||(Yh={}));var Yv;(s=>(s.defaultData=o=>({url:o,name:"New Webhook",parametersSchemas:new Ue$1}),s.defaultParameterValueByType=o=>o==="number"?0:o==="boolean"?!1:""))(Yv||(Yv={}));var tI;(s=>s.defaultData=(o,_="GET")=>({url:o,method:_,name:"New API",headers:new Ue$1,queries:new Ue$1,autoStart:!0}))(tI||(tI={}));var Lr$1;(s=>{function o(nt){return nt.textValue!==void 0}s.isTextValue=o;function _(nt){return typeof nt=="number"}s.isNumber=_;function j(nt){return typeof nt=="boolean"}s.isBoolean=j;function et(nt){return o(nt)?"string":j(nt)?"boolean":"number"}s.typeOfVariable=et;function st(nt){return s.isTextValue(nt)?Array.isArray(nt.textValue)?nt.textValue.map(ct=>ct.toString().padStart(nt.padding??2,"0")).join(nt.deliminator??":")+(nt.suffix!==void 0?" "+nt.suffix:""):nt.textValue.toString():s.isBoolean(nt)?nt?"True":"False":s.isNumber(nt)?parseFloat(nt.toFixed(3)).toString():nt.toString()}s.getDisplayedValue=st})(Lr$1||(Lr$1={}));var N1;(s=>s.all=["images","videos","colors","audios","particles","fonts","materials","variables"])(N1||(N1={}));var rI;(s=>s.all=[...N1.all,"components"])(rI||(rI={}));var iI;(s=>{function o(){return{images:new Ke,videos:new Ke,colors:new Ke,audios:new Ke,particles:new Ke,fonts:new Ke,materials:new Ke,components:new Ke,variables:new Ke,userAPIs:new Ke,userWebhooks:new Ke}}s.defaultData=o})(iI||(iI={}));var zs;(s=>{function o(){return{images:new Ke,videos:new Ke,colors:new Ke,audios:new Ke,particles:new Ke,fonts:new Ke,materials:new Ke,components:new Ke,variables:new Ke,userAPIs:new Ke,userWebhooks:new Ke}}s.defaultData=o})(zs||(zs={}));var vn;(s=>{function o(){let nt={};return nt["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},qi(nt,Ke.prototype)}s.defaultColors=o;function _(){return qi({},Ke.prototype)}s.defaultImages=_;function j(){return{catelogs:new Ke,materials:new Ke,images:new Ke,videos:new Ke,colors:new Ke,audios:new Ke,particles:new Ke,fonts:new Ke,variables:new Ue$1,userAPIs:new Ke,userWebhooks:new Ke,lib:zs.defaultData()}}s.emptyData=j;function et(nt){switch(nt){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let ct=[0,0,0];return{name:"Time",value:{textValue:ct,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:ct,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",nt)}}s.defaultVariables=et;function st(nt,ct){if(ct.format==="HH:mm:ss"){let At=Math.floor(nt/3600),mt=Math.floor((nt-At*3600)/60),gt=Math.round(nt-At*3600-mt*60);return{textValue:[At,mt,gt]}}else if(ct.format==="mm:ss"){let At=Math.floor(nt/60),mt=Math.round(nt-At*60);return{textValue:[At,mt]}}else return ct.format==="number"?nt=Math.round(nt):nt=Math.round(nt*1e3)/1e3,nt}s.getFormattedTimerTime=st})(vn||(vn={}));var Xh;(s=>s.list=["idle","move","jump","run"])(Xh||(Xh={}));var Qh;(s=>(s.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},s.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","▲"],["rotPosY","◀"],["rotNegX","▼"],["rotNegY","▶"],["jump","Space"],["run","⇧"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:s.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new Ue$1,move:new Ue$1,jump:new Ue$1,run:new Ue$1},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:bt.fromHexAndA(3728051,1)}}))(Qh||(Qh={}));function nI(s){s.layers.forEach(o=>{if(o.type==="depth"&&o.colorA!==void 0){let _=o.colorA,j=o.colorB,et=[[_.r,_.g,_.b,_.a],[j.r,j.g,j.b,j.a]],st=[0,1];for(let ct=2;ct<10;ct++)et.push(et[1]),st.push(1);let nt={...Pn(kr$1(o),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,o.near),far:Math.max(0,o.far),colors:et,steps:st,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(o,nt)}else if(o.type==="depth"&&o.gradientType===1&&(o.near<0||o.far<0)){let _={...kr$1(o),near:Math.max(o.near,0),far:Math.max(o.far,0)};Object.assign(o,_)}})}function Sa(s,o){Object.values(s.shared.materials).forEach(_=>o(_))}function wa(s,o){s.scene.objects.traverse((_,j)=>{"materials"in j?j.materials.forEach((et,st)=>{et===void 0&&(j.materials[st]=Qr.defaultData(),et=j.materials[st]),typeof et!="string"&&o(et)}):"material"in j?typeof j.material!="string"&&(j.material===void 0&&(j.material=Qr.defaultData()),o(j.material)):j.type==="Mesh"&&(j.material===void 0&&(j.material=Qr.defaultData()),o(j.material)),"overrides"in j&&Object.values(j.overrides).forEach(et=>{et.material&&typeof et.material!="string"&&Object.getPrototypeOf(et.material)!==yr$1.prototype&&o(et.material)})})}function Gq(s){Object.assign(s.scene.publish,{orbitControls:{...Wh.defaultData,...kr$1(s.scene.publish.orbitControls)}})}function jq(s){Object.assign(s.scene.publish.settings,{video:{...Us.defaultData.settings.video,...kr$1(s.scene.publish.settings.video)}})}function Hq(s){function o(_){if(_.layers){for(let j of Object.values(_.layers))if(j){for(let[et,st]of Object.entries(j))if((Nv.includes(et)||typeof st=="boolean")&&delete j[et],et==="texture")for(let[nt,ct]of Object.entries(st))(KD.includes(nt)||typeof ct=="boolean")&&delete st[nt]}}}s.scene.objects.traverse((_,j)=>{j.states.forEach(et=>{let st=et;st.material?o(st.material):st.materials&&st.materials.forEach(nt=>{o(nt)})})})}function Wq(s){s.scene.publish.withBackground=!0}function qq(s){s.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function Yq(s){s.scene.objects.traverse((o,_)=>{let j=_.cloner;j&&(j.radial.scale=j.radial.scale.map(et=>et+1),j.linear.scale=j.linear.scale.map(et=>et+1))})}function Xq(s){s.scene.objects.traverse((o,_)=>{let j=_.geometry;j&&(j.type==="DodecahedronGeometry"||j.type==="IcosahedronGeometry")&&(j.detail=Math.round(j.detail))})}function Qq(s){s.scene.objects.traverse((o,_)=>{let j=s.scene.objects.unproxy().parent(o);if(j){let et=kr$1(s.scene.objects.data(j));et&&et.type==="Mesh"&&et.geometry.type==="BooleanGeometry"&&_.type==="Mesh"&&(_.visible=kr$1(_).booleanExclude!==!0)}})}function Kq(s){s.scene.objects.traverse((o,_)=>{if(_.type==="Mesh"){let j=_;_.geometry.type==="NonParametricGeometry"?j.material!==void 0&&delete j.material:j.materials!==void 0&&delete j.materials}})}function Zq(s){function o(j){Object.setPrototypeOf(j,yr$1.prototype),j.texture&&Object.setPrototypeOf(j.texture,yr$1.prototype)}function _(j){Object.setPrototypeOf(j,yr$1.prototype);for(let et in j)o(j[et])}s.scene.objects.traverse((j,et)=>{et.states.forEach(st=>{let nt=st;if(nt.material){let ct=kr$1(nt.material).layers;_(ct),nt.material.layers=ct}if(nt.materials)for(let ct=0;ct<nt.materials.length;ct++){let At=nt.materials[ct],mt=kr$1(At).layers;_(mt),At.layers=mt}})})}function sI(s){s.layers===void 0&&Object.assign(s,Qr.defaultTwoLayerData("lambert"))}function F1(s){!s.layers||s.layers.forEach(o=>{if(o.type==="depth"&&o.colors.length===10){let _=[...o.colors];_.push(o.colors[9]);let j=[...o.steps];j.push(o.steps[9]);let et={...kr$1(o),colors:_,steps:j};Object.assign(o,et)}})}function Jq(s){s.scene.objects.traverse((o,_)=>{_.type==="Mesh"&&(_.geometry.type==="BooleanGeometry"||_.geometry.type==="SubdivGeometry")&&(_.geometry.phongAngle=35)})}function oI(s){s.scene.objects.traverse((o,_)=>{"materials"in _?_.materials.forEach(j=>{typeof j!="string"&&F1(j)}):"material"in _&&typeof _.material!="string"&&F1(_.material)}),Object.values(s.shared.materials).forEach(o=>F1(o))}function $q(s){s.scene.environment.ambientLight.softShadows=!1,s.scene.environment.ambientLight.softShadowQuality="low",s.scene.objects.traverse((o,_)=>{(_.type==="DirectionalLight"||_.type==="SpotLight")&&(_.shadowResolution=1024,_.shadowRadius=1,_.depth=1e5)}),s.shared.penumbraSize=new Array(5).fill(.5)}function e9(s){s.shared.audios=qi({},Ke.prototype)}function t9(s){s.shared.videos=qi({},Ke.prototype)}function r9(s){let o=s.shared.materials;Object.entries(o).forEach(([_,j])=>{if(!j.layers){let et={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(o,{[_]:et})}})}function i9(s){Object.entries(kr$1(s.shared.images)).filter(o=>o[1].asset===!1).map(o=>o[0]).forEach(o=>{delete s.shared.images[o]}),Object.entries(kr$1(s.shared.audios)).filter(o=>o[1].asset===!1).map(o=>o[0]).forEach(o=>{delete s.shared.audios[o]})}function n9(s){s.scene.publish.settings.web.preload=!1}function aI(s){s.layers&&s.layers.forEach(o=>{o.type==="depth"&&o.num!==void 0&&(o.colors=o.colors.slice(0,o.num),o.steps=o.steps.slice(0,o.num),delete o.num)})}function lI(s){s.layers&&s.layers.forEach(o=>{QD(o)&&o.isMask===void 0&&(o.isMask=!1),(o.type==="texture"||o.type==="video")&&o.blending===void 0&&(o.blending=0),(o.type==="noise"||o.type==="displace"&&o.displacementType==="noise")&&(o.voronoiStyle===void 0&&(o.voronoiStyle=0),o.highCut===void 0&&(o.highCut=1),o.lowCut===void 0&&(o.lowCut=0),o.smoothness===void 0&&(o.smoothness=.3),o.seed===void 0&&(o.seed=0),o.quality===void 0&&(o.quality=1))})}function s9(s){s.shared.fonts=qi({},Ke.prototype)}function o9(s){return s.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}function a9(s){let o=[];s.scene.objects.traverse((_,j)=>{let et=j;if(et.type==="TextFrame"){let st=Qr.defaultTwoLayerData("phong"),nt=typeof et.color=="string"?s.shared.colors[et.color]:et.color;st.layers[1].data.color={r:nt.r,g:nt.g,b:nt.b},st.layers[1].data.alpha=et.alpha;let ct=o9(et.font);s.shared.fonts[ct]===void 0&&(s.shared.fonts[ct]={name:ct});let At={name:et.name,...vi.defaultData,...Al.defaultData,flatShading:!1,wireframe:!1,geometry:{...ga.defaultData("TextGeometry"),width:et.width,height:et.height,font:ct,depth:0,horizontalAlign:et.horizontalAlign,verticalAlign:et.verticalAlign,fontSize:et.fontSize*1.40625,lineHeight:et.lineHeight/1.40625,letterSpacing:et.letterSpacing-1,text:et.text,textTransform:et.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:st,states:kr$1(et.states),events:kr$1(et.events),visible:et.visible,raycastLock:et.raycastLock,position:et.position,rotation:et.rotation,scale:et.scale,hiddenMatrix:et.hiddenMatrix},mt=kr$1(s.scene.objects).parent(_);s.scene.objects.insertAfter(mt??null,_,[{id:_+"new",data:At,children:[]}]),o.push(_)}}),o.forEach(_=>{s.scene.objects.delete(_)})}function l9(s){let o={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};s.scene.objects.traverse((_,j)=>{j.events.forEach(et=>{if(o[Number(et.type)])if(Object.assign(et,{type:o[Number(et.type)]}),et.type==="Audio"&&"audioEvent"in et&&(Object.assign(et,{playAudio:et.audioEvent}),delete et.audioEvent),et.type==="GameControl")Object.assign(et,{gameActions:{idle:new Ue$1,move:new Ue$1,jump:new Ue$1}});else{let st=new Ue$1;Object.assign(et,{actions:st}),(et.type==="MouseDown"||et.type==="MouseUp"||et.type==="KeyDown"||et.type==="KeyUp")&&"url"in et&&st.push({fi:0,id:we.generateUUID(),data:{type:"Link",url:et.url,delay:0}}),"targets"in et&&(et.targets.forEach((nt,ct,At)=>{let mt={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},gt={easing:nt.easing,duration:nt.duration};nt.easing===6?Object.assign(gt,Pn(nt,"mass","stiffness","damping","velocity")):nt.easing===5&&Object.assign(gt,{control1:{...nt.control1},control2:{...nt.control2}});let _t={repeat:nt.repeat?-1:0,delay:nt.delay,delayDirection:nt.delayDirection,direction:nt.cycle&&nt.rewind?"pingpong-rewind":nt.cycle?"pingpong":"normal"},Et={state:nt.state,..._t,...gt},Ct={allowSlerp:!0,type:"Transition",object:nt.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new Ue$1({fi:0,id:we.generateUUID(),data:mt},{fi:1,id:we.generateUUID(),data:Et})};st.push({fi:At,id:ct,data:Ct})}),delete et.targets)}})})}function c9(s){s.scene.objects.traverse((o,_)=>{function j(et,st){var At;let nt=new Ue$1,ct=[];if(_.events.forEach((mt,gt,_t)=>{if(mt.type==="Audio"&&mt.trigger===st){let Et;ct.push(gt),mt.interaction==="play"?Et={...Pn(mt,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in mt?mt.after:void 0,toggle:"after"in mt?mt.toggle:void 0,type:"Audio"}:(mt.interaction==="pause"||mt.interaction==="stop")&&(Et={...Pn(mt,"interaction","delay","object","playAudio"),type:"Audio"}),Et&&nt.push({fi:_t,id:gt,data:Et})}}),ct.forEach(mt=>_.events.delete(mt)),nt.length){let mt=(At=_.events.find(gt=>gt.type===et))==null?void 0:At.data;mt?"actions"in mt&&mt.actions.insertBefore(null,nt):_.events.insertBefore(null,[{id:we.generateUUID(),data:{type:et,actions:nt}}])}}j("Start","start"),j("MouseDown","mouseDown"),j("MouseUp","mouseUp"),j("KeyDown","keyDown"),j("KeyUp","keyUp")})}function cI(s){var _;let o=(_=s.layers.find(j=>j.type==="light"))==null?void 0:_.data;if((o==null?void 0:o.category)==="basic"){let j=Gr.defaultData("light","phong"),et=o;Object.assign(et,j),et.visible=!1}}function uI(s){Sa(s,cI),wa(s,cI)}function u9(s){s.scene.objects.traverse((o,_)=>{_.type==="Mesh"&&_.geometry.type==="SubdivGeometry"&&(_.geometry.scaleBaked||(_.geometry.scaleBaked=[1,1,1]))})}function h9(s){s.scene.objects.traverse((o,_)=>{(_.type==="Empty"||_.type==="Mesh")&&_.cloner&&!_.cloner.randomnessObject&&!_.cloner.toObject&&!_.cloner.randomness&&(_.cloner={..._.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}function d9(s){s.scene.objects.traverse((o,_)=>{_.type==="Mesh"&&_.geometry.type==="NonParametricGeometry"&&!("material"in _)&&!("materials"in _)&&(_.material=Qr.defaultTwoLayerData("phong"))})}function f9(s){s.scene.publish.orbitControls.autoZoom===void 0&&(s.scene.publish.orbitControls.autoZoom=!1),s.scene.objects.traverse((o,_)=>{(_.type==="OrthographicCamera"||_.type==="PerspectiveCamera")&&(_.orthographic.autoZoom===void 0&&(_.orthographic.autoZoom=!1),_.orthographic.autoZoomFrustumSize===void 0&&(_.orthographic.autoZoomFrustumSize=790))})}function p9(s){s.scene.objects.traverse((o,_)=>{_.pathSnapping===void 0&&(_.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),_.pathSnapping.offset===void 0&&(_.pathSnapping.offset=0)})}function m9(s){s.scene.publish.mouseEventTarget===void 0&&(s.scene.publish.mouseEventTarget="canvas"),s.scene.publish.settings.web.hint===void 0&&(s.scene.publish.settings.web.hint=!1)}function g9(s){let{video:o}=s.scene.publish.settings;o.format==="gif"&&o.fps>48&&(o.fps=15)}function y9(s){s.scene.objects.traverse((o,_)=>{_.events.forEach(j=>{j.type==="GameControl"&&(j.resetYPosition=Math.abs(j.resetYPosition-_.position[1]))})})}function v9(s){let o=s.scene.environment.usePhysics;s.scene.objects.traverse((_,j)=>{o&&j.physics===null?j.collision=!1:j.collision="visibility"})}function x9(s){s.scene.objects.traverse((o,_)=>{_.events.forEach(j=>{j.type==="GameControl"&&(j.navmesh=Qh.defaultDataThirdPerson.navmesh)})})}function b9(s){s.scene.styles||(s.scene.styles=xa.defaultData())}function hI(s){s.layers.forEach(o=>{o.type==="light"&&o.category!=="toon"&&o.occlusion===void 0&&(o.occlusion=!0)})}function S9(s){s.scene.environment.ambientLight.occlusion===void 0&&(s.scene.environment.ambientLight.occlusion=!1),s.scene.environment.ambientLight.aoFullRes===void 0&&(s.scene.environment.ambientLight.aoFullRes=!1),s.scene.environment.ambientLight.radius===void 0&&(s.scene.environment.ambientLight.radius=256),s.scene.environment.ambientLight.bias===void 0&&(s.scene.environment.ambientLight.bias=.5),s.scene.environment.ambientLight.aoColor===void 0&&(s.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),wa(s,hI),Sa(s,hI)}function w9(s){s.scene.objects.traverse((o,_)=>{_.events.forEach(j=>{j.type==="GameControl"&&Object.assign(j.gameActions,{run:new Ue$1})})})}function A9(s){s.scene.objects.traverse((o,_)=>{_.events.forEach(j=>{j.type==="GameControl"&&(j.keyAssignments=[...j.keyAssignments,["run","⇧"],["none","Ctrl"]])})})}function dI(s){s.layers&&s.layers.forEach(o=>{o.type==="light"&&o.bumpMapIntensity===void 0&&(o.bumpMapIntensity=5)})}function fI(s,o){if(o<1&&(wa(s,nI),Sa(s,nI),s.schema=1),o<2&&(Gq(s),s.schema=2),o<3&&(Hq(s),s.schema=3),o<4&&(Wq(s),s.schema=4),o<5&&(qq(s),s.schema=5),o<6&&(Yq(s),s.schema=6),o<7&&(Xq(s),s.schema=7),o<8&&(s.schema=8),o<9&&(oI(s),s.schema=9),o<10&&(Jq(s),s.schema=10),o<11&&($q(s),s.schema=11),o<12&&(oI(s),s.schema=12),o<13&&(e9(s),s.schema=13),o<14&&(r9(s),s.schema=14),o<15&&(i9(s),s.schema=15),o<16&&(n9(s),s.schema=16),o<17&&(wa(s,aI),Sa(s,aI),s.schema=17),o<18&&(wa(s,sI),Sa(s,sI),s.schema=18),o<19&&(jq(s),s.schema=19),o<20&&(s9(s),a9(s),s.schema=20),o<21&&(l9(s),c9(s),s.schema=21),o<22&&(uI(s),s.schema=22),o<23&&(u9(s),s.schema=23),o<24&&(h9(s),s.schema=24),(o<25||s.shared.videos===void 0)&&(t9(s),o<25&&(s.schema=25)),o<26&&(Qq(s),s.schema=26),o<27&&(Kq(s),s.schema=27),o<28&&(uI(s),s.schema=28),o<29&&(Zq(s),s.schema=29),o<30&&(d9(s),s.schema=30),o<31&&(f9(s),s.schema=31),o<33&&(p9(s),s.schema=33),o<34&&(m9(s),s.schema=34),o<35&&(g9(s),s.schema=35),o<36&&(y9(s),s.schema=36),o<37&&(v9(s),s.schema=37),o<38&&(wa(s,lI),Sa(s,lI),s.schema=38),o<39&&(x9(s),s.schema=39),o<40&&(b9(s),s.schema=40),o<41&&(S9(s),s.schema=41),o<42&&(w9(s),s.schema=42),o<43&&(A9(s),s.schema=43),o<99){wa(s,dI),Sa(s,dI),s.scene.publish.playCamera===null&&(s.scene.publish.playCamera=hs);let _=kr$1(s.scene.objects),j=s.scene.objects;s.scene.publish.playPage=xl,j.insertBefore(null,null,[{id:xl,data:{...ya.defaultData,backgroundColor:s.scene.backgroundColor,fog:s.scene.fog,postprocessing:s.scene.postprocessing,ao:Pn(s.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:s.scene.publish.playCamera,gameControlObject:s.scene.publish.gameControlObject},shadow:Pn(s.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...wl.defaultData,...Pn(s.scene.environment,"usePhysics","gravity")},camera:kr$1(s.scene.ownerCamera)??ya.defaultData.camera,name:"Scene"},children:[]}]);for(let nt of _)nt.id!==ba.TRASH_CAN_ID&&j.move(xl,nt.fi,nt.id);let et=0,st=0;s.shared.penumbraSize&&s.scene.objects.traverse((nt,ct)=>{ct.type==="DirectionalLight"?(ct.penumbraSize=s.shared.penumbraSize[Math.min(et,2)],et+=1):ct.type==="SpotLight"&&(ct.penumbraSize=s.shared.penumbraSize[3+Math.min(st,1)],st+=1),(ct.physics===void 0||ct.physics===null)&&ct.type!=="Instance"&&(ct.physics={},Object.assign(ct.physics,Sl.defaultData)),ct.physics!==void 0&&ct.physics!==null&&(ct.physics.enabled=ct.collision??"visibility",delete ct.collision)}),s.schema=99}}function pI(s){s.layers&&s.layers.forEach(o=>{o.type==="light"&&o.alphaOverride===void 0&&(o.alphaOverride=1)})}function E9(s){s.scene.objects.traverse((o,_)=>{let j=_.geometry;j&&j.type==="PathGeometry"&&(j.extrusion.capType="flat",j.extrusion.bevel=50,j.extrusion.bevelSides=6,j.extrusion.shape.type==="Custom"&&(j.extrusion.shape.shapeQuality="low"))})}function M9(s){var o;Array.isArray(kr$1(s.events))&&((o=s.events)==null||o.forEach(_=>{"disabled"in _||(_.disabled=!1),(_.type==="MouseDown"||_.type==="MouseUp"||_.type==="MousePress")&&(_.mode=_.mode||"Object")}))}var Kh=180/Math.PI;function mI(s){s.rotation=s.rotation.slice(0,3).map(o=>o*Kh)}function gI(s){var _,j;mI(s),s.type==="Page"&&mI(s.camera),(_=s.states)==null||_.forEach(et=>{et.rotation===void 0||et.rotation===null||(et.rotation=et.rotation.slice(0,3).map(st=>st*Kh))});let o=s.geometry;o&&o.type==="SphereGeometry"&&(o.thetaLength=(o.thetaLength??180)*Kh),o&&o.type==="TorusGeometry"&&(o.arc=o.arc*Kh),o&&o.type==="PathGeometry"&&(o.extrusion.angle*=Kh,o.extrusion.twist*=Kh),s.type==="Mesh"&&s.geometry.type==="TextGeometry"&&(s.geometry.text={textValue:s.geometry.text}),Array.isArray(kr$1(s.events))&&((j=s.events)==null||j.forEach(et=>{(et.type==="MouseDown"||et.type==="MouseUp"||et.type==="MousePress"||et.type==="KeyDown"||et.type==="KeyUp"||et.type==="KeyPress"||et.type==="Collision"||et.type==="Trigger")&&(et.runMode=et.toggle?"Toggle":"Repeat")}))}function T9(s){s.shared.variables=qi({},Ke.prototype)}function C9(s){let o=kr$1(s.shared.variables);s.shared.variables=qi(Object.entries(o??{}).map(([_,j],et)=>({fi:et,id:_,data:j})),Ue$1.prototype)}var To=115;function yI(s,o){o(s.data);for(let _ of s.children)yI(_,o)}function P9(s){let o=s.schema??104;o!==To&&o<105&&(yI(s.asset,gI),s.schema=105)}function _9(s){s.shared.particles=qi({},Ke.prototype),s.shared.lib&&(s.shared.lib.particles=zs.defaultData().particles)}function D9(s){s.scene.objects.traverse((o,_)=>{_.type==="Particle"&&typeof _.renderMaterial.size=="number"&&Object.assign(_.renderMaterial,{size:[_.renderMaterial.size,_.renderMaterial.size]})})}function I9(s){s.scene.objects.traverse((o,_)=>{_.type==="Page"&&(_.postprocessing.depthOfField.focusDistance=100,_.postprocessing.depthOfField.focalLength=20,_.postprocessing.depthOfField.bokehScale=5)})}function O9(s){s.scene.objects.traverse((o,_)=>{var j;Array.isArray(kr$1(_.events))!==!1&&((j=_.events)==null||j.forEach(et=>{var nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft;let st=et.runMode;et.type==="MouseDown"||et.type==="MouseUp"||et.type==="KeyDown"||et.type==="KeyUp"||et.type==="Collision"||et.type==="Trigger"?(nt=et.actions)==null||nt.forEach(Rt=>{Rt.type==="Transition"&&(Rt.runMode=st??"Repeat"),(Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode=st==="Toggle"?"Toggle":"Normal")}):et.type==="MouseHover"||et.type==="MousePress"||et.type==="KeyPress"?(ct=et.actions)==null||ct.forEach(Rt=>{(Rt.type==="Transition"||Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Toggle")}):et.type==="GameControl"?(delete et.actions,Object.keys(et.gameActions).forEach(Rt=>{var Nt;(Nt=et.gameActions[Rt])==null||Nt.forEach(Gt=>{Gt.type==="Transition"&&(Gt.runMode="Repeat"),Gt.type==="Animation"&&(Gt.runMode="Normal")})})):et.type==="DragDrop"?(delete et.actions,(mt=(At=et.dragDropActions)==null?void 0:At.drag)==null||mt.forEach(Rt=>{(Rt.type==="Transition"||Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Toggle")}),(_t=(gt=et.dragDropActions)==null?void 0:gt.drop)==null||_t.forEach(Rt=>{(Rt.type==="Transition"||Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Toggle")})):et.type==="Resize"?(delete et.actions,(Et=et.breakpoints)==null||Et.forEach(Rt=>{var Nt;(Nt=Rt.actions)==null||Nt.forEach(Gt=>{(Gt.type==="Transition"||Gt.type==="Animation"||Gt.type==="SwitchCamera")&&(Gt.runMode="Toggle")})})):et.type==="Start"?(Ct=et.actions)==null||Ct.forEach(Rt=>{Rt.type==="Transition"&&(Rt.runMode="Once"),(Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Normal")}):et.type==="VariableChange"||et.type==="Scroll"?(Bt=et.actions)==null||Bt.forEach(Rt=>{Rt.type==="Transition"&&(Rt.runMode="Repeat"),(Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Normal")}):et.type==="Conditional"&&(delete et.actions,(Dt=et.inActions)==null||Dt.forEach(Rt=>{Rt.type==="Transition"&&(Rt.runMode="Repeat"),(Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Normal")}),(Ft=et.outActions)==null||Ft.forEach(Rt=>{Rt.type==="Transition"&&(Rt.runMode="Repeat"),(Rt.type==="Animation"||Rt.type==="SwitchCamera")&&(Rt.runMode="Normal")}))}))})}function R9(s){s.shared.userAPIs=qi({},Ke.prototype),s.shared.userWebhooks=qi({},Ke.prototype),s.shared.lib&&(s.shared.lib.userAPIs=zs.defaultData().userAPIs,s.shared.lib.userWebhooks=zs.defaultData().userWebhooks)}function Xv(s){let o=s.schema??0;if(o!==To){console.warn("updating from ",o,"to ",To),fI(s,o),o<100&&(s.scene.publish.joystickSizeAndXYOffset===void 0&&(s.scene.publish.joystickSizeAndXYOffset=Us.defaultData.joystickSizeAndXYOffset),s.schema=100),o<101&&(wa(s,pI),Sa(s,pI),s.schema=101),o<102&&(E9(s),s.schema=102),o<104&&(s.shared.catelogs=new Ke,s.shared.lib=zs.defaultData(),s.schema=104),o<105&&(T9(s),s.scene.objects.traverse((_,j)=>{gI(j)}),s.schema=105);for(let _ of Object.values(s.shared.lib.components))P9(_);o<106&&(C9(s),s.schema=106),o<107&&(s.shared.lib.variables=zs.defaultData().variables,s.schema=107),o<109&&(_9(s),s.schema=109),o<110&&(D9(s),s.schema=110),o<111&&(s.scene.objects.traverse((_,j)=>{M9(j)}),s.schema=111),o<112&&(I9(s),s.schema=112),o<113&&(O9(s),s.schema=113),o<114&&(s.scene.publish.settings.web.imageQuality===void 0&&(s.scene.publish.settings.web.imageQuality=70),s.schema=114),o<115&&(R9(s),s.schema=115)}}var qh;(s=>{s.defaultData={schema:To,scene:ba.defaultData,frames:new Ke().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Yh.defaultData),shared:{...vn.emptyData(),colors:vn.defaultColors()}},s.emptyDataForImports=function(){let st=ba.emptyDataWithPage();return{schema:To,scene:st,frames:new Ke().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Yh.defaultData),shared:{...vn.emptyData(),colors:vn.defaultColors(),images:vn.defaultImages()}}},s.emptyData=function(){return{schema:To,scene:ba.emptyDataWithPage(),frames:new Ke().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",Yh.defaultData),shared:vn.emptyData()}},s.clipboard2dData=function(){return{schema:To,scene:ba.emptyData(),frames:new Ke,shared:vn.emptyData()}},s.collabHelper={...Np,updateSchema(st){return(st.schema??0)<To?pl(st,Xv):(st.schema??0)-To}};function o(st){let nt=s.collabHelper.updateSchema(st);return typeof nt=="number"?nt===0?st:null:nt.data}s.updateSchemaDirectly=o;function _(st){return{...st,shared:{...st.shared,lib:zs.defaultData()}}}s.withoutLib=_;function j(st,nt){let ct=st.scene.objects.get(nt);if(ct&&ct.data.type==="Component")return ct;{let At=st.shared.lib.components[nt];if(At)return At.asset}}s.getComponentData=j;function et(st){let nt=Object.values(st.shared.userAPIs);for(let ct of nt){let At=ct.headers;for(let mt of At)if(mt.data.key.toLowerCase()==="authorization"&&mt.data.value!=="")return!0}return!1}s.hasSensitiveData=et})(qh||(qh={}));var Qv;(s=>s.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(Qv||(Qv={}));var vI;(s=>{function o(_){return!0}s.is=o})(vI||(vI={}));var Kv;(s=>{s.defaultData={position:[0,0],scale:[1,1],rotation:0,shear:[0,0]};function o(j,et){return{position:(et==null?void 0:et.position)??j.position,rotation:(et==null?void 0:et.rotation)??j.rotation,scale:(et==null?void 0:et.scale)??j.scale,shear:(et==null?void 0:et.shear)??j.shear}}s.merge=o;function _(j,et){return ev({position:Fs.isEqual(j.position,et.position)?void 0:et.position,rotation:j.rotation===et.rotation?void 0:et.rotation,scale:Fs.isEqual(j.scale,et.scale)?void 0:et.scale,shear:j.shear&&et.shear&&Fs.isEqual(j.shear,et.shear)?void 0:et.shear})}s.diff=_})(Kv||(Kv={}));var V1;(s=>s.defaultData={horizontalConstraint:0,verticalConstraint:0})(V1||(V1={}));var xI;(s=>s.defaultData={direction:"row",wrap:"unwrap",align:"top-left",gap:10,rowGap:10,autoGap:!1,autoRowGap:!1,leftPadding:8,rightPadding:8,topPadding:8,bottomPadding:8})(xI||(xI={}));var Zv;(s=>s.defaultData={opacity:1,fill:{color:bt.fromHexAndA(ii,1),enabled:!0},stroke:{color:bt.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:bt.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:bt.from0to1([0,0,0,1]),enabled:!1,spread:0}})(Zv||(Zv={}));var Aa;(s=>{function o(nt,ct){return{name:ct}}s.newEmpty=o;function _(nt,ct){if(ct===void 0)return nt;let At={...nt},mt=["width","height","cornerRadius"];for(let gt of mt)gt in At&&gt in ct&&ct[gt]!==void 0&&Object.assign(At,{[gt]:ct[gt]});return At}function j(nt,ct){if(ct===void 0)return nt;let At={...nt};return"fill"in At&&"fill"in ct&&ct.fill!==void 0&&Object.assign(At,{fill:{...At.fill,...ct.fill}}),"stroke"in At&&"stroke"in ct&&ct.stroke!==void 0&&Object.assign(At,{stroke:{...At.stroke,...ct.stroke}}),"layerBlur"in At&&"layerBlur"in ct&&ct.layerBlur!==void 0&&Object.assign(At,{layerBlur:{...At.layerBlur,...ct.layerBlur}}),"backgroundBlur"in At&&"backgroundBlur"in ct&&ct.backgroundBlur!==void 0&&Object.assign(At,{backgroundBlur:{...At.backgroundBlur,...ct.backgroundBlur}}),"dropShadow"in At&&"dropShadow"in ct&&ct.dropShadow!==void 0&&Object.assign(At,{dropShadow:{...At.dropShadow,...ct.dropShadow}}),"innerShadow"in At&&"innerShadow"in ct&&ct.innerShadow!==void 0&&Object.assign(At,{innerShadow:{...At.innerShadow,...ct.innerShadow}}),At}function et(nt,ct){if(ct===void 0)return nt;let At={...nt};return Object.assign(At,Kv.merge(At,ct)),At=_(At,ct),At=j(At,ct),At}s.patch=et;function st(nt,ct){let At,mt=[];for(let[gt,_t]of Object.entries(ct))gt!=="name"&&(At===void 0&&(At={path:[],props:{},type:0},mt.push(At)),At.props[gt]=_t);return mt}s.toOps=st})(Aa||(Aa={}));var jp;(s=>s.defaultData={...Kv.defaultData,...V1.defaultData,states:new Ue$1,events:new Ue$1,visible:!0,raycastLock:!1})(jp||(jp={}));var Zh;(s=>s.defaultData={...jp.defaultData,...Zv.defaultData})(Zh||(Zh={}));var Jv;(s=>s.defaultData={cornerRadius:[0,0,0,0]})(Jv||(Jv={}));var U1;(s=>s.defaultData={...Zh.defaultData,type:"ellipse2d",width:100,height:100,name:"Ellipse"})(U1||(U1={}));var Jh;(s=>s.defaultData={...Zh.defaultData,...Jv.defaultData,type:"rectangle2d",width:100,height:100,name:"Rectangle"})(Jh||(Jh={}));var z1;(s=>s.defaultData={...Zh.defaultData,type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"})(z1||(z1={}));var k1;(s=>s.defaultData={...Zh.defaultData,type:"path2d",path:"",name:"Path"})(k1||(k1={}));var bI;(s=>{function o(_){return _.type==="ellipse2d"||_.type==="rectangle2d"||_.type==="text2d"||_.type==="vector2d"||_.type==="path2d"}s.is=o})(bI||(bI={}));var Hp;(s=>s.defaultData={...jp.defaultData,name:"Group",type:"group2d"})(Hp||(Hp={}));var G1;(s=>s.defaultData=()=>({...jp.defaultData,...Jv.defaultData,...Zv.defaultData,name:"Frame",type:"frame2d",clipped:!0,width:200,height:200,fill:{color:bt.fromHexAndA(4737101,1),enabled:!0},stroke:{color:bt.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}}))(G1||(G1={}));var Ea;(s=>{function o(nt){switch(nt){case"rectangle2d":return{...Jh.defaultData};case"ellipse2d":return{...U1.defaultData};case"text2d":return{...z1.defaultData};case"vector2d":return{...Jh.defaultData};case"path2d":return{...k1.defaultData};case"frame2d":return{...G1.defaultData()};case"group2d":return{...Hp.defaultData}}}s.defaultData=o;function _(nt){return"width"in nt&&"height"in nt?[typeof nt.width=="number"?nt.width*.5:0,typeof nt.height=="number"?nt.height*.5:0]:[0,0]}s.getPivot=_;function j(nt){return nt.type==="rectangle2d"||nt.type==="ellipse2d"||nt.type==="text2d"||nt.type==="frame2d"}s.isResizeable=j;function et(nt){return nt.type==="frame2d"&&nt.autoLayout!==void 0}s.isAutoLayoutable=et;function st(nt){return nt.type==="rectangle2d"||nt.type==="frame2d"}s.hasCorners=st})(Ea||(Ea={}));var $v;(s=>(s.defaultData={name:"UI",type:"scene2d",objects:new gr},s.emptyData=function(){return{type:"scene2d",objects:new gr}}))($v||($v={}));function ks(s,o=!1){let _=s[0].index!==null,j=new Set(Object.keys(s[0].attributes)),et=new Set(Object.keys(s[0].morphAttributes)),st={},nt={},ct=s[0].morphTargetsRelative,At=new _e,mt=0;for(let gt=0;gt<s.length;++gt){let _t=s[gt],Et=0;if(_!==(_t.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let Ct in _t.attributes){if(!j.has(Ct))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+'. All geometries must have compatible attributes; make sure "'+Ct+'" attribute exists among all geometries, or in none of them.'),null;st[Ct]===void 0&&(st[Ct]=[]),st[Ct].push(_t.attributes[Ct]),Et++}if(Et!==j.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+". Make sure all geometries have the same number of attributes."),null;if(ct!==_t.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let Ct in _t.morphAttributes){if(!et.has(Ct))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+".  .morphAttributes must be consistent throughout all geometries."),null;nt[Ct]===void 0&&(nt[Ct]=[]),nt[Ct].push(_t.morphAttributes[Ct])}if(o){let Ct;if(_)Ct=_t.index.count;else if(_t.attributes.position!==void 0)Ct=_t.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+gt+". The geometry must have either an index or a position attribute"),null;At.addGroup(mt,Ct,gt),mt+=Ct}}if(_){let gt=0,_t=[];for(let Et=0;Et<s.length;++Et){let Ct=s[Et].index;for(let Bt=0;Bt<Ct.count;++Bt)_t.push(Ct.getX(Bt)+gt);gt+=s[Et].attributes.position.count}At.setIndex(_t)}for(let gt in st){let _t=SI(st[gt]);if(!_t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+gt+" attribute."),null;At.setAttribute(gt,_t)}for(let gt in nt){let _t=nt[gt][0].length;if(_t===0)break;At.morphAttributes=At.morphAttributes||{},At.morphAttributes[gt]=[];for(let Et=0;Et<_t;++Et){let Ct=[];for(let Dt=0;Dt<nt[gt].length;++Dt)Ct.push(nt[gt][Dt][Et]);let Bt=SI(Ct);if(!Bt)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+gt+" morphAttribute."),null;At.morphAttributes[gt].push(Bt)}}return At}function SI(s){let o,_,j,et=0;for(let ct=0;ct<s.length;++ct){let At=s[ct];if(At.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(o===void 0&&(o=At.array.constructor),o!==At.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(_===void 0&&(_=At.itemSize),_!==At.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(j===void 0&&(j=At.normalized),j!==At.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;et+=At.array.length}let st=new o(et),nt=0;for(let ct=0;ct<s.length;++ct)st.set(s[ct].array,nt),nt+=s[ct].array.length;return new Xe(st,_,j)}var wI=Math.pow(2,-24),Oc=class{constructor(){}};function fs(s,o,_){return _.min.x=o[s],_.min.y=o[s+1],_.min.z=o[s+2],_.max.x=o[s+3],_.max.y=o[s+4],_.max.z=o[s+5],_}function j1(s){let o=-1,_=-1/0;for(let j=0;j<3;j++){let et=s[j+3]-s[j];et>_&&(_=et,o=j)}return o}function H1(s,o){o.set(s)}function W1(s,o,_){let j,et;for(let st=0;st<3;st++){let nt=st+3;j=s[st],et=o[st],_[st]=j<et?j:et,j=s[nt],et=o[nt],_[nt]=j>et?j:et}}function Wp(s,o,_){for(let j=0;j<3;j++){let et=o[s+2*j],st=o[s+2*j+1],nt=et-st,ct=et+st;nt<_[j]&&(_[j]=nt),ct>_[j+3]&&(_[j+3]=ct)}}function $h(s){let o=s[3]-s[0],_=s[4]-s[1],j=s[5]-s[2];return 2*(o*_+_*j+j*o)}function N9(s,o){if(!s.index){let _=s.attributes.position.count,j=o.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,et;_>65535?et=new Uint32Array(new j(4*_)):et=new Uint16Array(new j(2*_)),s.setIndex(new Xe(et,1));for(let st=0;st<_;st++)et[st]=st}}function F9(s){if(!s.groups||!s.groups.length)return[{offset:0,count:s.index.count/3}];let o=[],_=new Set;for(let et of s.groups)_.add(et.start),_.add(et.start+et.count);let j=Array.from(_.values()).sort((et,st)=>et-st);for(let et=0;et<j.length-1;et++){let st=j[et],nt=j[et+1];o.push({offset:st/3,count:(nt-st)/3})}return o}function Y1(s,o,_,j,et=null){let st=1/0,nt=1/0,ct=1/0,At=-1/0,mt=-1/0,gt=-1/0,_t=1/0,Et=1/0,Ct=1/0,Bt=-1/0,Dt=-1/0,Ft=-1/0,Rt=et!==null;for(let Nt=o*6,Gt=(o+_)*6;Nt<Gt;Nt+=6){let dr=s[Nt+0],ts=s[Nt+1],es=dr-ts,ds=dr+ts;es<st&&(st=es),ds>At&&(At=ds),Rt&&dr<_t&&(_t=dr),Rt&&dr>Bt&&(Bt=dr);let tn=s[Nt+2],rn=s[Nt+3],un=tn-rn,$n=tn+rn;un<nt&&(nt=un),$n>mt&&(mt=$n),Rt&&tn<Et&&(Et=tn),Rt&&tn>Dt&&(Dt=tn);let kn=s[Nt+4],lo=s[Nt+5],Il=kn-lo,cu=kn+lo;Il<ct&&(ct=Il),cu>gt&&(gt=cu),Rt&&kn<Ct&&(Ct=kn),Rt&&kn>Ft&&(Ft=kn)}j[0]=st,j[1]=nt,j[2]=ct,j[3]=At,j[4]=mt,j[5]=gt,Rt&&(et[0]=_t,et[1]=Et,et[2]=Ct,et[3]=Bt,et[4]=Dt,et[5]=Ft)}function V9(s,o,_,j){let et=1/0,st=1/0,nt=1/0,ct=-1/0,At=-1/0,mt=-1/0;for(let gt=o*6,_t=(o+_)*6;gt<_t;gt+=6){let Et=s[gt+0];Et<et&&(et=Et),Et>ct&&(ct=Et);let Ct=s[gt+2];Ct<st&&(st=Ct),Ct>At&&(At=Ct);let Bt=s[gt+4];Bt<nt&&(nt=Bt),Bt>mt&&(mt=Bt)}j[0]=et,j[1]=st,j[2]=nt,j[3]=ct,j[4]=At,j[5]=mt}function U9(s,o,_,j,et){let st=_,nt=_+j-1,ct=et.pos,At=et.axis*2;for(;;){for(;st<=nt&&o[st*6+At]<ct;)st++;for(;st<=nt&&o[nt*6+At]>=ct;)nt--;if(st<nt){for(let mt=0;mt<3;mt++){let gt=s[st*3+mt];s[st*3+mt]=s[nt*3+mt],s[nt*3+mt]=gt;let _t=o[st*6+mt*2+0];o[st*6+mt*2+0]=o[nt*6+mt*2+0],o[nt*6+mt*2+0]=_t;let Et=o[st*6+mt*2+1];o[st*6+mt*2+1]=o[nt*6+mt*2+1],o[nt*6+mt*2+1]=Et}st++,nt--}else return st}}var Ma=32,z9=(s,o)=>s.candidate-o.candidate,Ml=new Array(Ma).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),e0=new Float32Array(6);function k9(s,o,_,j,et,st){let nt=-1,ct=0;if(st===0)nt=j1(o),nt!==-1&&(ct=(o[nt]+o[nt+3])/2);else if(st===1)nt=j1(s),nt!==-1&&(ct=G9(_,j,et,nt));else if(st===2){let At=$h(s),mt=1.25*et,gt=j*6,_t=(j+et)*6;for(let Et=0;Et<3;Et++){let Ct=o[Et],Bt=(o[Et+3]-Ct)/Ma;if(et<Ma/4){let Dt=[...Ml];Dt.length=et;let Ft=0;for(let Nt=gt;Nt<_t;Nt+=6,Ft++){let Gt=Dt[Ft];Gt.candidate=_[Nt+2*Et],Gt.count=0;let{bounds:dr,leftCacheBounds:ts,rightCacheBounds:es}=Gt;for(let ds=0;ds<3;ds++)es[ds]=1/0,es[ds+3]=-1/0,ts[ds]=1/0,ts[ds+3]=-1/0,dr[ds]=1/0,dr[ds+3]=-1/0;Wp(Nt,_,dr)}Dt.sort(z9);let Rt=et;for(let Nt=0;Nt<Rt;Nt++){let Gt=Dt[Nt];for(;Nt+1<Rt&&Dt[Nt+1].candidate===Gt.candidate;)Dt.splice(Nt+1,1),Rt--}for(let Nt=gt;Nt<_t;Nt+=6){let Gt=_[Nt+2*Et];for(let dr=0;dr<Rt;dr++){let ts=Dt[dr];Gt>=ts.candidate?Wp(Nt,_,ts.rightCacheBounds):(Wp(Nt,_,ts.leftCacheBounds),ts.count++)}}for(let Nt=0;Nt<Rt;Nt++){let Gt=Dt[Nt],dr=Gt.count,ts=et-Gt.count,es=Gt.leftCacheBounds,ds=Gt.rightCacheBounds,tn=0;dr!==0&&(tn=$h(es)/At);let rn=0;ts!==0&&(rn=$h(ds)/At);let un=1+1.25*(tn*dr+rn*ts);un<mt&&(nt=Et,mt=un,ct=Gt.candidate)}}else{for(let Rt=0;Rt<Ma;Rt++){let Nt=Ml[Rt];Nt.count=0,Nt.candidate=Ct+Bt+Rt*Bt;let Gt=Nt.bounds;for(let dr=0;dr<3;dr++)Gt[dr]=1/0,Gt[dr+3]=-1/0}for(let Rt=gt;Rt<_t;Rt+=6){let Nt=~~((_[Rt+2*Et]-Ct)/Bt);Nt>=Ma&&(Nt=Ma-1);let Gt=Ml[Nt];Gt.count++,Wp(Rt,_,Gt.bounds)}let Dt=Ml[Ma-1];H1(Dt.bounds,Dt.rightCacheBounds);for(let Rt=Ma-2;Rt>=0;Rt--){let Nt=Ml[Rt],Gt=Ml[Rt+1];W1(Nt.bounds,Gt.rightCacheBounds,Nt.rightCacheBounds)}let Ft=0;for(let Rt=0;Rt<Ma-1;Rt++){let Nt=Ml[Rt],Gt=Nt.count,dr=Nt.bounds,ts=Ml[Rt+1].rightCacheBounds;Gt!==0&&(Ft===0?H1(dr,e0):W1(dr,e0,e0)),Ft+=Gt;let es=0,ds=0;Ft!==0&&(es=$h(e0)/At);let tn=et-Ft;tn!==0&&(ds=$h(ts)/At);let rn=1+1.25*(es*Ft+ds*tn);rn<mt&&(nt=Et,mt=rn,ct=Nt.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${st} used.`);return{axis:nt,pos:ct}}function G9(s,o,_,j){let et=0;for(let st=o,nt=o+_;st<nt;st++)et+=s[st*6+j*2];return et/_}function j9(s,o){let _=s.attributes.position,j=s.index.array,et=j.length/3,st=new Float32Array(et*6),nt=_.normalized,ct=_.array,At=_.offset||0,mt=3;_.isInterleavedBufferAttribute&&(mt=_.data.stride);let gt=["getX","getY","getZ"];for(let _t=0;_t<et;_t++){let Et=_t*3,Ct=_t*6,Bt,Dt,Ft;nt?(Bt=j[Et+0],Dt=j[Et+1],Ft=j[Et+2]):(Bt=j[Et+0]*mt+At,Dt=j[Et+1]*mt+At,Ft=j[Et+2]*mt+At);for(let Rt=0;Rt<3;Rt++){let Nt,Gt,dr;nt?(Nt=_[gt[Rt]](Bt),Gt=_[gt[Rt]](Dt),dr=_[gt[Rt]](Ft)):(Nt=ct[Bt+Rt],Gt=ct[Dt+Rt],dr=ct[Ft+Rt]);let ts=Nt;Gt<ts&&(ts=Gt),dr<ts&&(ts=dr);let es=Nt;Gt>es&&(es=Gt),dr>es&&(es=dr);let ds=(es-ts)/2,tn=Rt*2;st[Ct+tn+0]=ts+ds,st[Ct+tn+1]=ds+(Math.abs(ts)+ds)*wI,ts<o[Rt]&&(o[Rt]=ts),es>o[Rt+3]&&(o[Rt+3]=es)}}return st}function H9(s,o){function _(Rt){Et&&Et(Rt/Ct)}function j(Rt,Nt,Gt,dr=null,ts=0){if(!Bt&&ts>=At&&(Bt=!0,mt&&(console.warn(`MeshBVH: Max depth of ${At} reached when generating BVH. Consider increasing maxDepth.`),console.warn(s))),Gt<=gt||ts>=At)return _(Nt+Gt),Rt.offset=Nt,Rt.count=Gt,Rt;let es=k9(Rt.boundingData,dr,nt,Nt,Gt,_t);if(es.axis===-1)return _(Nt+Gt),Rt.offset=Nt,Rt.count=Gt,Rt;let ds=U9(ct,nt,Nt,Gt,es);if(ds===Nt||ds===Nt+Gt)_(Nt+Gt),Rt.offset=Nt,Rt.count=Gt;else{Rt.splitAxis=es.axis;let tn=new Oc,rn=Nt,un=ds-Nt;Rt.left=tn,tn.boundingData=new Float32Array(6),Y1(nt,rn,un,tn.boundingData,st),j(tn,rn,un,st,ts+1);let $n=new Oc,kn=ds,lo=Gt-un;Rt.right=$n,$n.boundingData=new Float32Array(6),Y1(nt,kn,lo,$n.boundingData,st),j($n,kn,lo,st,ts+1)}return Rt}N9(s,o);let et=new Float32Array(6),st=new Float32Array(6),nt=j9(s,et),ct=s.index.array,At=o.maxDepth,mt=o.verbose,gt=o.maxLeafTris,_t=o.strategy,Et=o.onProgress,Ct=s.index.count/3,Bt=!1,Dt=[],Ft=F9(s);if(Ft.length===1){let Rt=Ft[0],Nt=new Oc;Nt.boundingData=et,V9(nt,Rt.offset,Rt.count,st),j(Nt,Rt.offset,Rt.count,st),Dt.push(Nt)}else for(let Rt of Ft){let Nt=new Oc;Nt.boundingData=new Float32Array(6),Y1(nt,Rt.offset,Rt.count,Nt.boundingData,st),j(Nt,Rt.offset,Rt.count,st),Dt.push(Nt)}return Dt}function MI(s,o){let _=H9(s,o),j,et,st,nt=[],ct=o.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let gt=0;gt<_.length;gt++){let _t=_[gt],Et=At(_t),Ct=new ct(32*Et);j=new Float32Array(Ct),et=new Uint32Array(Ct),st=new Uint16Array(Ct),mt(0,_t),nt.push(Ct)}return nt;function At(gt){return gt.count?1:1+At(gt.left)+At(gt.right)}function mt(gt,_t){let Et=gt/4,Ct=gt/2,Bt=!!_t.count,Dt=_t.boundingData;for(let Ft=0;Ft<6;Ft++)j[Et+Ft]=Dt[Ft];if(Bt){let Ft=_t.offset,Rt=_t.count;return et[Et+6]=Ft,st[Ct+14]=Rt,st[Ct+15]=65535,gt+32}else{let Ft=_t.left,Rt=_t.right,Nt=_t.splitAxis,Gt;if(Gt=mt(gt+32,Ft),Gt/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return et[Et+6]=Gt/4,Gt=mt(Gt,Rt),et[Et+7]=Nt,Gt}}}var Dn=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(s,o){let _=1/0,j=-1/0;for(let et=0,st=s.length;et<st;et++){let nt=s[et][o];_=nt<_?nt:_,j=nt>j?nt:j}this.min=_,this.max=j}setFromPoints(s,o){let _=1/0,j=-1/0;for(let et=0,st=o.length;et<st;et++){let nt=o[et],ct=s.dot(nt);_=ct<_?ct:_,j=ct>j?ct:j}this.min=_,this.max=j}isSeparated(s){return this.min>s.max||s.min>this.max}};Dn.prototype.setFromBox=function(){let s=new E$2;return function(o,_){let j=_.min,et=_.max,st=1/0,nt=-1/0;for(let ct=0;ct<=1;ct++)for(let At=0;At<=1;At++)for(let mt=0;mt<=1;mt++){s.x=j.x*ct+et.x*(1-ct),s.y=j.y*At+et.y*(1-At),s.z=j.z*mt+et.z*(1-mt);let gt=o.dot(s);st=Math.min(gt,st),nt=Math.max(gt,nt)}this.min=st,this.max=nt}}();var W9=function(){let s=new E$2,o=new E$2,_=new E$2;return function(j,et,st){let nt=j.start,ct=s,At=et.start,mt=o;_.subVectors(nt,At),s.subVectors(j.end,j.start),o.subVectors(et.end,et.start);let gt=_.dot(mt),_t=mt.dot(ct),Et=mt.dot(mt),Ct=_.dot(ct),Bt=ct.dot(ct)*Et-_t*_t,Dt,Ft;Bt!==0?Dt=(gt*_t-Ct*Et)/Bt:Dt=0,Ft=(gt+Dt*_t)/Et,st.x=Dt,st.y=Ft}}(),qp=function(){let s=new U$1,o=new E$2,_=new E$2;return function(j,et,st,nt){W9(j,et,s);let ct=s.x,At=s.y;if(ct>=0&&ct<=1&&At>=0&&At<=1){j.at(ct,st),et.at(At,nt);return}else if(ct>=0&&ct<=1){At<0?et.at(0,nt):et.at(1,nt),j.closestPointToPoint(nt,!0,st);return}else if(At>=0&&At<=1){ct<0?j.at(0,st):j.at(1,st),et.closestPointToPoint(st,!0,nt);return}else{let mt;ct<0?mt=j.start:mt=j.end;let gt;At<0?gt=et.start:gt=et.end;let _t=o,Et=_;if(j.closestPointToPoint(gt,!0,o),et.closestPointToPoint(mt,!0,_),_t.distanceToSquared(gt)<=Et.distanceToSquared(mt)){st.copy(_t),nt.copy(gt);return}else{st.copy(mt),nt.copy(Et);return}}}}(),TI=function(){let s=new E$2,o=new E$2,_=new Vr,j=new Mi;return function(et,st){let{radius:nt,center:ct}=et,{a:At,b:mt,c:gt}=st;if(j.start=At,j.end=mt,j.closestPointToPoint(ct,!0,s).distanceTo(ct)<=nt||(j.start=At,j.end=gt,j.closestPointToPoint(ct,!0,s).distanceTo(ct)<=nt)||(j.start=mt,j.end=gt,j.closestPointToPoint(ct,!0,s).distanceTo(ct)<=nt))return!0;let _t=st.getPlane(_);if(Math.abs(_t.distanceToPoint(ct))<=nt){let Et=_t.projectPoint(ct,o);if(st.containsPoint(Et))return!0}return!1}}(),q9=1e-15;function ed(s){return Math.abs(s)<q9}var In=class extends Cr$1{constructor(...s){super(...s),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new E$2),this.satBounds=new Array(4).fill().map(()=>new Dn),this.points=[this.a,this.b,this.c],this.sphere=new Or$1,this.plane=new Vr,this.needsUpdate=!0}intersectsSphere(s){return TI(s,this)}update(){let s=this.a,o=this.b,_=this.c,j=this.points,et=this.satAxes,st=this.satBounds,nt=et[0],ct=st[0];this.getNormal(nt),ct.setFromPoints(nt,j);let At=et[1],mt=st[1];At.subVectors(s,o),mt.setFromPoints(At,j);let gt=et[2],_t=st[2];gt.subVectors(o,_),_t.setFromPoints(gt,j);let Et=et[3],Ct=st[3];Et.subVectors(_,s),Ct.setFromPoints(Et,j),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(nt,s),this.needsUpdate=!1}};In.prototype.closestPointToSegment=function(){let s=new E$2,o=new E$2,_=new Mi;return function(j,et=null,st=null){let{start:nt,end:ct}=j,At=this.points,mt,gt=1/0;for(let _t=0;_t<3;_t++){let Et=(_t+1)%3;_.start.copy(At[_t]),_.end.copy(At[Et]),qp(_,j,s,o),mt=s.distanceToSquared(o),mt<gt&&(gt=mt,et&&et.copy(s),st&&st.copy(o))}return this.closestPointToPoint(nt,s),mt=nt.distanceToSquared(s),mt<gt&&(gt=mt,et&&et.copy(s),st&&st.copy(nt)),this.closestPointToPoint(ct,s),mt=ct.distanceToSquared(s),mt<gt&&(gt=mt,et&&et.copy(s),st&&st.copy(ct)),Math.sqrt(gt)}}();In.prototype.intersectsTriangle=function(){let s=new In,o=new Array(3),_=new Array(3),j=new Dn,et=new Dn,st=new E$2,nt=new E$2,ct=new E$2,At=new E$2,mt=new Mi,gt=new Mi,_t=new Mi;return function(Et,Ct=null,Bt=!1){this.needsUpdate&&this.update(),Et.isExtendedTriangle?Et.needsUpdate&&Et.update():(s.copy(Et),s.update(),Et=s);let Dt=this.plane,Ft=Et.plane;if(Math.abs(Dt.normal.dot(Ft.normal))>1-1e-10){let Rt=this.satBounds,Nt=this.satAxes;_[0]=Et.a,_[1]=Et.b,_[2]=Et.c;for(let ts=0;ts<4;ts++){let es=Rt[ts],ds=Nt[ts];if(j.setFromPoints(ds,_),es.isSeparated(j))return!1}let Gt=Et.satBounds,dr=Et.satAxes;o[0]=this.a,o[1]=this.b,o[2]=this.c;for(let ts=0;ts<4;ts++){let es=Gt[ts],ds=dr[ts];if(j.setFromPoints(ds,o),es.isSeparated(j))return!1}for(let ts=0;ts<4;ts++){let es=Nt[ts];for(let ds=0;ds<4;ds++){let tn=dr[ds];if(st.crossVectors(es,tn),j.setFromPoints(st,o),et.setFromPoints(st,_),j.isSeparated(et))return!1}}return Ct&&(Bt||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),Ct.start.set(0,0,0),Ct.end.set(0,0,0)),!0}else{let Rt=this.points,Nt=!1,Gt=0;for(let lo=0;lo<3;lo++){let Il=Rt[lo],cu=Rt[(lo+1)%3];mt.start.copy(Il),mt.end.copy(cu),mt.delta(nt);let Ko=Nt?gt.start:gt.end,ru=ed(Ft.distanceToPoint(Il));if(ed(Ft.normal.dot(nt))&&ru){gt.copy(mt),Gt=2;break}if((Ft.intersectLine(mt,Ko)||ru)&&!ed(Ko.distanceTo(cu))){if(Gt++,Nt)break;Nt=!0}}if(Gt===1&&Et.containsPoint(gt.end))return Ct&&(Ct.start.copy(gt.end),Ct.end.copy(gt.end)),!0;if(Gt!==2)return!1;let dr=Et.points,ts=!1,es=0;for(let lo=0;lo<3;lo++){let Il=dr[lo],cu=dr[(lo+1)%3];mt.start.copy(Il),mt.end.copy(cu),mt.delta(ct);let Ko=ts?_t.start:_t.end,ru=ed(Dt.distanceToPoint(Il));if(ed(Dt.normal.dot(ct))&&ru){_t.copy(mt),es=2;break}if((Dt.intersectLine(mt,Ko)||ru)&&!ed(Ko.distanceTo(cu))){if(es++,ts)break;ts=!0}}if(es===1&&this.containsPoint(_t.end))return Ct&&(Ct.start.copy(_t.end),Ct.end.copy(_t.end)),!0;if(es!==2)return!1;if(gt.delta(nt),_t.delta(ct),nt.dot(ct)<0){let lo=_t.start;_t.start=_t.end,_t.end=lo}let ds=gt.start.dot(nt),tn=gt.end.dot(nt),rn=_t.start.dot(nt),un=_t.end.dot(nt),$n=tn<rn,kn=ds<un;return ds!==un&&rn!==tn&&$n===kn?!1:(Ct&&(At.subVectors(gt.start,_t.start),At.dot(nt)>0?Ct.start.copy(gt.start):Ct.start.copy(_t.start),At.subVectors(gt.end,_t.end),At.dot(nt)<0?Ct.end.copy(gt.end):Ct.end.copy(_t.end)),!0)}}}();In.prototype.distanceToPoint=function(){let s=new E$2;return function(o){return this.closestPointToPoint(o,s),o.distanceTo(s)}}();In.prototype.distanceToTriangle=function(){let s=new E$2,o=new E$2,_=["a","b","c"],j=new Mi,et=new Mi;return function(st,nt=null,ct=null){let At=nt||ct?j:null;if(this.intersectsTriangle(st,At))return(nt||ct)&&(nt&&At.getCenter(nt),ct&&At.getCenter(ct)),0;let mt=1/0;for(let gt=0;gt<3;gt++){let _t,Et=_[gt],Ct=st[Et];this.closestPointToPoint(Ct,s),_t=Ct.distanceToSquared(s),_t<mt&&(mt=_t,nt&&nt.copy(s),ct&&ct.copy(Ct));let Bt=this[Et];st.closestPointToPoint(Bt,s),_t=Bt.distanceToSquared(s),_t<mt&&(mt=_t,nt&&nt.copy(Bt),ct&&ct.copy(s))}for(let gt=0;gt<3;gt++){let _t=_[gt],Et=_[(gt+1)%3];j.set(this[_t],this[Et]);for(let Ct=0;Ct<3;Ct++){let Bt=_[Ct],Dt=_[(Ct+1)%3];et.set(st[Bt],st[Dt]),qp(j,et,s,o);let Ft=s.distanceToSquared(o);Ft<mt&&(mt=Ft,nt&&nt.copy(s),ct&&ct.copy(o))}}return Math.sqrt(mt)}}();var On=class{constructor(s,o,_){this.isOrientedBox=!0,this.min=new E$2,this.max=new E$2,this.matrix=new ue$2,this.invMatrix=new ue$2,this.points=new Array(8).fill().map(()=>new E$2),this.satAxes=new Array(3).fill().map(()=>new E$2),this.satBounds=new Array(3).fill().map(()=>new Dn),this.alignedSatBounds=new Array(3).fill().map(()=>new Dn),this.needsUpdate=!1,s&&this.min.copy(s),o&&this.max.copy(o),_&&this.matrix.copy(_)}set(s,o,_){this.min.copy(s),this.max.copy(o),this.matrix.copy(_),this.needsUpdate=!0}copy(s){this.min.copy(s.min),this.max.copy(s.max),this.matrix.copy(s.matrix),this.needsUpdate=!0}};On.prototype.update=function(){return function(){let s=this.matrix,o=this.min,_=this.max,j=this.points;for(let At=0;At<=1;At++)for(let mt=0;mt<=1;mt++)for(let gt=0;gt<=1;gt++){let _t=1*At|2*mt|4*gt,Et=j[_t];Et.x=At?_.x:o.x,Et.y=mt?_.y:o.y,Et.z=gt?_.z:o.z,Et.applyMatrix4(s)}let et=this.satBounds,st=this.satAxes,nt=j[0];for(let At=0;At<3;At++){let mt=st[At],gt=et[At],_t=1<<At,Et=j[_t];mt.subVectors(nt,Et),gt.setFromPoints(mt,j)}let ct=this.alignedSatBounds;ct[0].setFromPointsField(j,"x"),ct[1].setFromPointsField(j,"y"),ct[2].setFromPointsField(j,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();On.prototype.intersectsBox=function(){let s=new Dn;return function(o){this.needsUpdate&&this.update();let _=o.min,j=o.max,et=this.satBounds,st=this.satAxes,nt=this.alignedSatBounds;if(s.min=_.x,s.max=j.x,nt[0].isSeparated(s)||(s.min=_.y,s.max=j.y,nt[1].isSeparated(s))||(s.min=_.z,s.max=j.z,nt[2].isSeparated(s)))return!1;for(let ct=0;ct<3;ct++){let At=st[ct],mt=et[ct];if(s.setFromBox(At,o),mt.isSeparated(s))return!1}return!0}}();On.prototype.intersectsTriangle=function(){let s=new In,o=new Array(3),_=new Dn,j=new Dn,et=new E$2;return function(st){this.needsUpdate&&this.update(),st.isExtendedTriangle?st.needsUpdate&&st.update():(s.copy(st),s.update(),st=s);let nt=this.satBounds,ct=this.satAxes;o[0]=st.a,o[1]=st.b,o[2]=st.c;for(let _t=0;_t<3;_t++){let Et=nt[_t],Ct=ct[_t];if(_.setFromPoints(Ct,o),Et.isSeparated(_))return!1}let At=st.satBounds,mt=st.satAxes,gt=this.points;for(let _t=0;_t<3;_t++){let Et=At[_t],Ct=mt[_t];if(_.setFromPoints(Ct,gt),Et.isSeparated(_))return!1}for(let _t=0;_t<3;_t++){let Et=ct[_t];for(let Ct=0;Ct<4;Ct++){let Bt=mt[Ct];if(et.crossVectors(Et,Bt),_.setFromPoints(et,o),j.setFromPoints(et,gt),_.isSeparated(j))return!1}}return!0}}();On.prototype.closestPointToPoint=function(){return function(s,o){return this.needsUpdate&&this.update(),o.copy(s).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),o}}();On.prototype.distanceToPoint=function(){let s=new E$2;return function(o){return this.closestPointToPoint(o,s),o.distanceTo(s)}}();On.prototype.distanceToBox=function(){let s=["x","y","z"],o=new Array(12).fill().map(()=>new Mi),_=new Array(12).fill().map(()=>new Mi),j=new E$2,et=new E$2;return function(st,nt=0,ct=null,At=null){if(this.needsUpdate&&this.update(),this.intersectsBox(st))return(ct||At)&&(st.getCenter(et),this.closestPointToPoint(et,j),st.closestPointToPoint(j,et),ct&&ct.copy(j),At&&At.copy(et)),0;let mt=nt*nt,gt=st.min,_t=st.max,Et=this.points,Ct=1/0;for(let Dt=0;Dt<8;Dt++){let Ft=Et[Dt];et.copy(Ft).clamp(gt,_t);let Rt=Ft.distanceToSquared(et);if(Rt<Ct&&(Ct=Rt,ct&&ct.copy(Ft),At&&At.copy(et),Rt<mt))return Math.sqrt(Rt)}let Bt=0;for(let Dt=0;Dt<3;Dt++)for(let Ft=0;Ft<=1;Ft++)for(let Rt=0;Rt<=1;Rt++){let Nt=(Dt+1)%3,Gt=(Dt+2)%3,dr=Ft<<Nt|Rt<<Gt,ts=1<<Dt|Ft<<Nt|Rt<<Gt,es=Et[dr],ds=Et[ts];o[Bt].set(es,ds);let tn=s[Dt],rn=s[Nt],un=s[Gt],$n=_[Bt],kn=$n.start,lo=$n.end;kn[tn]=gt[tn],kn[rn]=Ft?gt[rn]:_t[rn],kn[un]=Rt?gt[un]:_t[rn],lo[tn]=_t[tn],lo[rn]=Ft?gt[rn]:_t[rn],lo[un]=Rt?gt[un]:_t[rn],Bt++}for(let Dt=0;Dt<=1;Dt++)for(let Ft=0;Ft<=1;Ft++)for(let Rt=0;Rt<=1;Rt++){et.x=Dt?_t.x:gt.x,et.y=Ft?_t.y:gt.y,et.z=Rt?_t.z:gt.z,this.closestPointToPoint(et,j);let Nt=et.distanceToSquared(j);if(Nt<Ct&&(Ct=Nt,ct&&ct.copy(j),At&&At.copy(et),Nt<mt))return Math.sqrt(Nt)}for(let Dt=0;Dt<12;Dt++){let Ft=o[Dt];for(let Rt=0;Rt<12;Rt++){let Nt=_[Rt];qp(Ft,Nt,j,et);let Gt=j.distanceToSquared(et);if(Gt<Ct&&(Ct=Gt,ct&&ct.copy(j),At&&At.copy(et),Gt<mt))return Math.sqrt(Gt)}}return Math.sqrt(Ct)}}();var td=new E$2,rd=new E$2,id=new E$2,r0=new U$1,i0=new U$1,n0=new U$1,CI=new E$2,PI=new E$2,_I=new E$2,s0=new E$2;function Y9(s,o,_,j,et,st){let nt;return st===pi?nt=s.intersectTriangle(j,_,o,!0,et):nt=s.intersectTriangle(o,_,j,st!==fi,et),nt===null?null:{distance:s.origin.distanceTo(et),point:et.clone()}}function X9(s,o,_,j,et,st,nt,ct,At){td.fromBufferAttribute(o,st),rd.fromBufferAttribute(o,nt),id.fromBufferAttribute(o,ct);let mt=Y9(s,td,rd,id,s0,At);if(mt){j&&(r0.fromBufferAttribute(j,st),i0.fromBufferAttribute(j,nt),n0.fromBufferAttribute(j,ct),mt.uv=Cr$1.getInterpolation(s0,td,rd,id,r0,i0,n0,new U$1)),et&&(r0.fromBufferAttribute(et,st),i0.fromBufferAttribute(et,nt),n0.fromBufferAttribute(et,ct),mt.uv1=Cr$1.getInterpolation(s0,td,rd,id,r0,i0,n0,new U$1)),_&&(CI.fromBufferAttribute(_,st),PI.fromBufferAttribute(_,nt),_I.fromBufferAttribute(_,ct),mt.normal=Cr$1.getInterpolation(s0,td,rd,id,CI,PI,_I,new E$2),mt.normal.dot(s.direction)>0&&mt.normal.multiplyScalar(-1));let gt={a:st,b:nt,c:ct,normal:new E$2,materialIndex:0};Cr$1.getNormal(td,rd,id,gt.normal),mt.face=gt,mt.faceIndex=st}return mt}function Q1(s,o,_,j,et){let st=j*3,nt=s.index.getX(st),ct=s.index.getX(st+1),At=s.index.getX(st+2),{position:mt,normal:gt,uv:_t,uv1:Et}=s.attributes,Ct=X9(_,mt,gt,_t,Et,nt,ct,At,o);return Ct?(Ct.faceIndex=j,et&&et.push(Ct),Ct):null}function DI(s,o,_,j,et,st){for(let nt=j,ct=j+et;nt<ct;nt++)Q1(s,o,_,nt,st)}function II(s,o,_,j,et){let st=1/0,nt=null;for(let ct=j,At=j+et;ct<At;ct++){let mt=Q1(s,o,_,ct);mt&&mt.distance<st&&(nt=mt,st=mt.distance)}return nt}function ps(s,o,_,j){let et=s.a,st=s.b,nt=s.c,ct=o,At=o+1,mt=o+2;_&&(ct=_.getX(o),At=_.getX(o+1),mt=_.getX(o+2)),et.x=j.getX(ct),et.y=j.getY(ct),et.z=j.getZ(ct),st.x=j.getX(At),st.y=j.getY(At),st.z=j.getZ(At),nt.x=j.getX(mt),nt.y=j.getY(mt),nt.z=j.getZ(mt)}function K1(s,o,_,j,et,st,nt){let ct=_.index,At=_.attributes.position;for(let mt=s,gt=o+s;mt<gt;mt++)if(ps(nt,mt*3,ct,At),nt.needsUpdate=!0,j(nt,mt,et,st))return!0;return!1}var nd=class{constructor(s){this._getNewPrimitive=s,this._primitives=[]}getPrimitive(){let s=this._primitives;return s.length===0?this._getNewPrimitive():s.pop()}releasePrimitive(s){this._primitives.push(s)}};function Ta(s,o){return o[s+15]===65535}function Rc(s,o){return o[s+6]}function sd(s,o){return o[s+14]}function od(s){return s+8}function ad(s,o){return o[s+6]}function OI(s,o){return o[s+7]}var ld=new jt,a0=new E$2,K9=["x","y","z"];function l0(s,o,_,j,et){let st=s*2,nt=cd,ct=Tl,At=Cl;if(Ta(st,ct)){let mt=Rc(s,At),gt=sd(st,ct);DI(o,_,j,mt,gt,et)}else{let mt=od(s);u0(mt,nt,j,a0)&&l0(mt,o,_,j,et);let gt=ad(s,At);u0(gt,nt,j,a0)&&l0(gt,o,_,j,et)}}function c0(s,o,_,j){let et=s*2,st=cd,nt=Tl,ct=Cl;if(Ta(et,nt)){let At=Rc(s,ct),mt=sd(et,nt);return II(o,_,j,At,mt)}else{let At=OI(s,ct),mt=K9[At],gt=j.direction[mt]>=0,_t,Et;gt?(_t=od(s),Et=ad(s,ct)):(_t=ad(s,ct),Et=od(s));let Ct=u0(_t,st,j,a0)?c0(_t,o,_,j):null;if(Ct){let Dt=Ct.point[mt];if(gt?Dt<=st[Et+At]:Dt>=st[Et+At+3])return Ct}let Bt=u0(Et,st,j,a0)?c0(Et,o,_,j):null;return Ct&&Bt?Ct.distance<=Bt.distance?Ct:Bt:Ct||Bt||null}}var RI$2=function(){let s,o,_=[],j=new nd(()=>new jt);return function(...st){s=j.getPrimitive(),o=j.getPrimitive(),_.push(s,o);let nt=et(...st);j.releasePrimitive(s),j.releasePrimitive(o),_.pop(),_.pop();let ct=_.length;return ct>0&&(o=_[ct-1],s=_[ct-2]),nt};function et(st,nt,ct,At,mt=null,gt=0,_t=0){function Et(Nt){let Gt=Nt*2,dr=Tl,ts=Cl;for(;!Ta(Gt,dr);)Nt=od(Nt),Gt=Nt*2;return Rc(Nt,ts)}function Ct(Nt){let Gt=Nt*2,dr=Tl,ts=Cl;for(;!Ta(Gt,dr);)Nt=ad(Nt,ts),Gt=Nt*2;return Rc(Nt,ts)+sd(Gt,dr)}let Bt=st*2,Dt=cd,Ft=Tl,Rt=Cl;if(Ta(Bt,Ft)){let Nt=Rc(st,Rt),Gt=sd(Bt,Ft);return fs(st,Dt,s),At(Nt,Gt,!1,_t,gt+st,s)}else{let Nt=od(st),Gt=ad(st,Rt),dr=Nt,ts=Gt,es,ds,tn,rn;if(mt&&(tn=s,rn=o,fs(dr,Dt,tn),fs(ts,Dt,rn),es=mt(tn),ds=mt(rn),ds<es)){dr=Gt,ts=Nt;let Ko=es;es=ds,ds=Ko,tn=rn}tn||(tn=s,fs(dr,Dt,tn));let un=Ta(dr*2,Ft),$n=ct(tn,un,es,_t+1,gt+dr),kn;if($n===2){let Ko=Et(dr),ru=Ct(dr)-Ko;kn=At(Ko,ru,!0,_t+1,gt+dr,tn)}else kn=$n&&et(dr,nt,ct,At,mt,gt,_t+1);if(kn)return!0;rn=o,fs(ts,Dt,rn);let lo=Ta(ts*2,Ft),Il=ct(rn,lo,ds,_t+1,gt+ts),cu;if(Il===2){let Ko=Et(ts),ru=Ct(ts)-Ko;cu=At(Ko,ru,!0,_t+1,gt+ts,rn)}else cu=Il&&et(ts,nt,ct,At,mt,gt,_t+1);return!!cu}}}(),LI=function(){let s=new In,o=new In,_=new ue$2,j=new On,et=new On;return function st(nt,ct,At,mt,gt=null){let _t=nt*2,Et=cd,Ct=Tl,Bt=Cl;if(gt===null&&(At.boundingBox||At.computeBoundingBox(),j.set(At.boundingBox.min,At.boundingBox.max,mt),gt=j),Ta(_t,Ct)){let Dt=ct,Ft=Dt.index,Rt=Dt.attributes.position,Nt=At.index,Gt=At.attributes.position,dr=Rc(nt,Bt),ts=sd(_t,Ct);if(_.copy(mt).invert(),At.boundsTree)return fs(nt,Et,et),et.matrix.copy(_),et.needsUpdate=!0,At.boundsTree.shapecast({intersectsBounds:es=>et.intersectsBox(es),intersectsTriangle:es=>{es.a.applyMatrix4(mt),es.b.applyMatrix4(mt),es.c.applyMatrix4(mt),es.needsUpdate=!0;for(let ds=dr*3,tn=(ts+dr)*3;ds<tn;ds+=3)if(ps(o,ds,Ft,Rt),o.needsUpdate=!0,es.intersectsTriangle(o))return!0;return!1}});for(let es=dr*3,ds=ts+dr*3;es<ds;es+=3){ps(s,es,Ft,Rt),s.a.applyMatrix4(_),s.b.applyMatrix4(_),s.c.applyMatrix4(_),s.needsUpdate=!0;for(let tn=0,rn=Nt.count;tn<rn;tn+=3)if(ps(o,tn,Nt,Gt),o.needsUpdate=!0,s.intersectsTriangle(o))return!0}}else{let Dt=nt+8,Ft=Bt[nt+6];return fs(Dt,Et,ld),!!(gt.intersectsBox(ld)&&st(Dt,ct,At,mt,gt)||(fs(Ft,Et,ld),gt.intersectsBox(ld)&&st(Ft,ct,At,mt,gt)))}}}();function u0(s,o,_,j){return fs(s,o,ld),_.intersectBox(ld,j)}var Z1=[],o0,cd,Tl,Cl;function ud(s){o0&&Z1.push(o0),o0=s,cd=new Float32Array(s),Tl=new Uint16Array(s),Cl=new Uint32Array(s)}function Yp(){o0=null,cd=null,Tl=null,Cl=null,Z1.length&&ud(Z1.pop())}var J1=Symbol("skip tree generation"),$1=new jt,eA=new jt,hd=new ue$2,Lc=new On,Xp=new On,Qp=new E$2,h0=new E$2,Z9=new E$2,J9=new E$2,$9=new E$2,BI=new jt,Co=new nd(()=>new In),Po=class{static serialize(s,o={}){if(o.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),Po.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});o={cloneBuffers:!0,...o};let _=s.geometry,j=s._roots,et=_.getIndex(),st;return o.cloneBuffers?st={roots:j.map(nt=>nt.slice()),index:et.array.slice()}:st={roots:j,index:et.array},st}static deserialize(s,o,_={}){if(typeof _=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),Po.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});_={setIndex:!0,..._};let{index:j,roots:et}=s,st=new Po(o,{..._,[J1]:!0});if(st._roots=et,_.setIndex){let nt=o.getIndex();if(nt===null){let ct=new Xe(s.index,1,!1);o.setIndex(ct)}else nt.array!==j&&(nt.array.set(j),nt.needsUpdate=!0)}return st}constructor(s,o={}){if(s.isBufferGeometry){if(s.index&&s.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(o=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[J1]:!1},o),o.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,o[J1]||(this._roots=MI(s,o),!s.boundingBox&&o.setBoundingBox&&(s.boundingBox=this.getBoundingBox(new jt))),this.geometry=s}refit(s=null){s&&Array.isArray(s)&&(s=new Set(s));let o=this.geometry,_=o.index.array,j=o.attributes.position,et,st,nt,ct,At=0,mt=this._roots;for(let _t=0,Et=mt.length;_t<Et;_t++)et=mt[_t],st=new Uint32Array(et),nt=new Uint16Array(et),ct=new Float32Array(et),gt(0,At),At+=et.byteLength;function gt(_t,Et,Ct=!1){let Bt=_t*2;if(nt[Bt+15]===65535){let Dt=st[_t+6],Ft=nt[Bt+14],Rt=1/0,Nt=1/0,Gt=1/0,dr=-1/0,ts=-1/0,es=-1/0;for(let ds=3*Dt,tn=3*(Dt+Ft);ds<tn;ds++){let rn=_[ds],un=j.getX(rn),$n=j.getY(rn),kn=j.getZ(rn);un<Rt&&(Rt=un),un>dr&&(dr=un),$n<Nt&&(Nt=$n),$n>ts&&(ts=$n),kn<Gt&&(Gt=kn),kn>es&&(es=kn)}return ct[_t+0]!==Rt||ct[_t+1]!==Nt||ct[_t+2]!==Gt||ct[_t+3]!==dr||ct[_t+4]!==ts||ct[_t+5]!==es?(ct[_t+0]=Rt,ct[_t+1]=Nt,ct[_t+2]=Gt,ct[_t+3]=dr,ct[_t+4]=ts,ct[_t+5]=es,!0):!1}else{let Dt=_t+8,Ft=st[_t+6],Rt=Dt+Et,Nt=Ft+Et,Gt=Ct,dr=!1,ts=!1;s?Gt||(dr=s.has(Rt),ts=s.has(Nt),Gt=!dr&&!ts):(dr=!0,ts=!0);let es=Gt||dr,ds=Gt||ts,tn=!1;es&&(tn=gt(Dt,Et,Gt));let rn=!1;ds&&(rn=gt(Ft,Et,Gt));let un=tn||rn;if(un)for(let $n=0;$n<3;$n++){let kn=Dt+$n,lo=Ft+$n,Il=ct[kn],cu=ct[kn+3],Ko=ct[lo],ru=ct[lo+3];ct[_t+$n]=Il<Ko?Il:Ko,ct[_t+$n+3]=cu>ru?cu:ru}return un}}}traverse(s,o=0){let _=this._roots[o],j=new Uint32Array(_),et=new Uint16Array(_);st(0);function st(nt,ct=0){let At=nt*2,mt=et[At+15]===65535;if(mt){let gt=j[nt+6],_t=et[At+14];s(ct,mt,new Float32Array(_,nt*4,6),gt,_t)}else{let gt=nt+8,_t=j[nt+6],Et=j[nt+7];s(ct,mt,new Float32Array(_,nt*4,6),Et)||(st(gt,ct+1),st(_t,ct+1))}}}raycast(s,o=Hn){let _=this._roots,j=this.geometry,et=[],st=o.isMaterial,nt=Array.isArray(o),ct=j.groups,At=st?o.side:o;for(let mt=0,gt=_.length;mt<gt;mt++){let _t=nt?o[ct[mt].materialIndex].side:At,Et=et.length;if(ud(_[mt]),l0(0,j,_t,s,et),Yp(),nt){let Ct=ct[mt].materialIndex;for(let Bt=Et,Dt=et.length;Bt<Dt;Bt++)et[Bt].face.materialIndex=Ct}}return et}raycastFirst(s,o=Hn){let _=this._roots,j=this.geometry,et=o.isMaterial,st=Array.isArray(o),nt=null,ct=j.groups,At=et?o.side:o;for(let mt=0,gt=_.length;mt<gt;mt++){let _t=st?o[ct[mt].materialIndex].side:At;ud(_[mt]);let Et=c0(0,j,_t,s);Yp(),Et!=null&&(nt==null||Et.distance<nt.distance)&&(nt=Et,st&&(Et.face.materialIndex=ct[mt].materialIndex))}return nt}intersectsGeometry(s,o){let _=this.geometry,j=!1;for(let et of this._roots)if(ud(et),j=LI(0,_,s,o),Yp(),j)break;return j}shapecast(s,o,_){let j=this.geometry;if(s instanceof Function){if(o){let _t=o;o=(Et,Ct,Bt,Dt)=>{let Ft=Ct*3;return _t(Et,Ft,Ft+1,Ft+2,Bt,Dt)}}s={boundsTraverseOrder:_,intersectsBounds:s,intersectsTriangle:o,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let et=Co.getPrimitive(),{boundsTraverseOrder:st,intersectsBounds:nt,intersectsRange:ct,intersectsTriangle:At}=s;if(ct&&At){let _t=ct;ct=(Et,Ct,Bt,Dt,Ft)=>_t(Et,Ct,Bt,Dt,Ft)?!0:K1(Et,Ct,j,At,Bt,Dt,et)}else ct||(At?ct=(_t,Et,Ct,Bt)=>K1(_t,Et,j,At,Ct,Bt,et):ct=(_t,Et,Ct)=>Ct);let mt=!1,gt=0;for(let _t of this._roots){if(ud(_t),mt=RI$2(0,j,nt,ct,st,gt),Yp(),mt)break;gt+=_t.byteLength}return Co.releasePrimitive(et),mt}bvhcast(s,o,_){let{intersectsRanges:j,intersectsTriangles:et}=_,st=this.geometry.index,nt=this.geometry.attributes.position,ct=s.geometry.index,At=s.geometry.attributes.position;hd.copy(o).invert();let mt=Co.getPrimitive(),gt=Co.getPrimitive();if(et){let Et=function(Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr){for(let ts=Dt,es=Dt+Ft;ts<es;ts++){ps(gt,ts*3,ct,At),gt.a.applyMatrix4(o),gt.b.applyMatrix4(o),gt.c.applyMatrix4(o),gt.needsUpdate=!0;for(let ds=Ct,tn=Ct+Bt;ds<tn;ds++)if(ps(mt,ds*3,st,nt),mt.needsUpdate=!0,et(mt,gt,ds,ts,Rt,Nt,Gt,dr))return!0}return!1};if(j){let Ct=j;j=function(Bt,Dt,Ft,Rt,Nt,Gt,dr,ts){return Ct(Bt,Dt,Ft,Rt,Nt,Gt,dr,ts)?!0:Et(Bt,Dt,Ft,Rt,Nt,Gt,dr,ts)}}else j=Et}s.getBoundingBox(eA),eA.applyMatrix4(o);let _t=this.shapecast({intersectsBounds:Et=>eA.intersectsBox(Et),intersectsRange:(Et,Ct,Bt,Dt,Ft,Rt)=>($1.copy(Rt),$1.applyMatrix4(hd),s.shapecast({intersectsBounds:Nt=>$1.intersectsBox(Nt),intersectsRange:(Nt,Gt,dr,ts,es)=>j(Et,Ct,Nt,Gt,Dt,Ft,ts,es)}))});return Co.releasePrimitive(mt),Co.releasePrimitive(gt),_t}intersectsBox(s,o){return Lc.set(s.min,s.max,o),Lc.needsUpdate=!0,this.shapecast({intersectsBounds:_=>Lc.intersectsBox(_),intersectsTriangle:_=>Lc.intersectsTriangle(_)})}intersectsSphere(s){return this.shapecast({intersectsBounds:o=>s.intersectsBox(o),intersectsTriangle:o=>o.intersectsSphere(s)})}closestPointToGeometry(s,o,_={},j={},et=0,st=1/0){s.boundingBox||s.computeBoundingBox(),Lc.set(s.boundingBox.min,s.boundingBox.max,o),Lc.needsUpdate=!0;let nt=this.geometry,ct=nt.attributes.position,At=nt.index,mt=s.attributes.position,gt=s.index,_t=Co.getPrimitive(),Et=Co.getPrimitive(),Ct=h0,Bt=Z9,Dt=null,Ft=null;j&&(Dt=J9,Ft=$9);let Rt=1/0,Nt=null,Gt=null;return hd.copy(o).invert(),Xp.matrix.copy(hd),this.shapecast({boundsTraverseOrder:dr=>Lc.distanceToBox(dr),intersectsBounds:(dr,ts,es)=>es<Rt&&es<st?(ts&&(Xp.min.copy(dr.min),Xp.max.copy(dr.max),Xp.needsUpdate=!0),!0):!1,intersectsRange:(dr,ts)=>{if(s.boundsTree)return s.boundsTree.shapecast({boundsTraverseOrder:es=>Xp.distanceToBox(es),intersectsBounds:(es,ds,tn)=>tn<Rt&&tn<st,intersectsRange:(es,ds)=>{for(let tn=es*3,rn=(es+ds)*3;tn<rn;tn+=3){ps(Et,tn,gt,mt),Et.a.applyMatrix4(o),Et.b.applyMatrix4(o),Et.c.applyMatrix4(o),Et.needsUpdate=!0;for(let un=dr*3,$n=(dr+ts)*3;un<$n;un+=3){ps(_t,un,At,ct),_t.needsUpdate=!0;let kn=_t.distanceToTriangle(Et,Ct,Dt);if(kn<Rt&&(Bt.copy(Ct),Ft&&Ft.copy(Dt),Rt=kn,Nt=un/3,Gt=tn/3),kn<et)return!0}}}});{let es=gt?gt.count:mt.count;for(let ds=0,tn=es;ds<tn;ds+=3){ps(Et,ds,gt,mt),Et.a.applyMatrix4(o),Et.b.applyMatrix4(o),Et.c.applyMatrix4(o),Et.needsUpdate=!0;for(let rn=dr*3,un=(dr+ts)*3;rn<un;rn+=3){ps(_t,rn,At,ct),_t.needsUpdate=!0;let $n=_t.distanceToTriangle(Et,Ct,Dt);if($n<Rt&&(Bt.copy(Ct),Ft&&Ft.copy(Dt),Rt=$n,Nt=rn/3,Gt=ds/3),$n<et)return!0}}}}}),Co.releasePrimitive(_t),Co.releasePrimitive(Et),Rt===1/0?null:(_.point?_.point.copy(Bt):_.point=Bt.clone(),_.distance=Rt,_.faceIndex=Nt,j&&(j.point?j.point.copy(Ft):j.point=Ft.clone(),j.point.applyMatrix4(hd),Bt.applyMatrix4(hd),j.distance=Bt.sub(j.point).length(),j.faceIndex=Gt),_)}closestPointToPoint(s,o={},_=0,j=1/0){let et=_*_,st=j*j,nt=1/0,ct=null;if(this.shapecast({boundsTraverseOrder:mt=>(Qp.copy(s).clamp(mt.min,mt.max),Qp.distanceToSquared(s)),intersectsBounds:(mt,gt,_t)=>_t<nt&&_t<st,intersectsTriangle:(mt,gt)=>{mt.closestPointToPoint(s,Qp);let _t=s.distanceToSquared(Qp);return _t<nt&&(h0.copy(Qp),nt=_t,ct=gt),_t<et}}),nt===1/0)return null;let At=Math.sqrt(nt);return o.point?o.point.copy(h0):o.point=h0.clone(),o.distance=At,o.faceIndex=ct,o}getBoundingBox(s){return s.makeEmpty(),this._roots.forEach(o=>{fs(0,new Float32Array(o),BI),s.union(BI)}),s}},tf=Jo(FI()),e7=.5*(Math.sqrt(3)-1),Kp=(3-Math.sqrt(3))/6,t7=1/3,_o=1/6,Zp=s=>Math.floor(s)|0,VI=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),rA=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function d0(s=Math.random){let o=zI(s),_=new Float64Array(o).map(et=>VI[et%12*2]),j=new Float64Array(o).map(et=>VI[et%12*2+1]);return function(et,st){let nt=0,ct=0,At=0,mt=(et+st)*e7,gt=Zp(et+mt),_t=Zp(st+mt),Et=(gt+_t)*Kp,Ct=gt-Et,Bt=_t-Et,Dt=et-Ct,Ft=st-Bt,Rt,Nt;Dt>Ft?(Rt=1,Nt=0):(Rt=0,Nt=1);let Gt=Dt-Rt+Kp,dr=Ft-Nt+Kp,ts=Dt-1+2*Kp,es=Ft-1+2*Kp,ds=gt&255,tn=_t&255,rn=.5-Dt*Dt-Ft*Ft;if(rn>=0){let kn=ds+o[tn],lo=_[kn],Il=j[kn];rn*=rn,nt=rn*rn*(lo*Dt+Il*Ft)}let un=.5-Gt*Gt-dr*dr;if(un>=0){let kn=ds+Rt+o[tn+Nt],lo=_[kn],Il=j[kn];un*=un,ct=un*un*(lo*Gt+Il*dr)}let $n=.5-ts*ts-es*es;if($n>=0){let kn=ds+1+o[tn+1],lo=_[kn],Il=j[kn];$n*=$n,At=$n*$n*(lo*ts+Il*es)}return 70*(nt+ct+At)}}function UI(s=Math.random){let o=zI(s),_=new Float64Array(o).map(st=>rA[st%12*3]),j=new Float64Array(o).map(st=>rA[st%12*3+1]),et=new Float64Array(o).map(st=>rA[st%12*3+2]);return function(st,nt,ct){let At,mt,gt,_t,Et=(st+nt+ct)*t7,Ct=Zp(st+Et),Bt=Zp(nt+Et),Dt=Zp(ct+Et),Ft=(Ct+Bt+Dt)*_o,Rt=Ct-Ft,Nt=Bt-Ft,Gt=Dt-Ft,dr=st-Rt,ts=nt-Nt,es=ct-Gt,ds,tn,rn,un,$n,kn;dr>=ts?ts>=es?(ds=1,tn=0,rn=0,un=1,$n=1,kn=0):dr>=es?(ds=1,tn=0,rn=0,un=1,$n=0,kn=1):(ds=0,tn=0,rn=1,un=1,$n=0,kn=1):ts<es?(ds=0,tn=0,rn=1,un=0,$n=1,kn=1):dr<es?(ds=0,tn=1,rn=0,un=0,$n=1,kn=1):(ds=0,tn=1,rn=0,un=1,$n=1,kn=0);let lo=dr-ds+_o,Il=ts-tn+_o,cu=es-rn+_o,Ko=dr-un+2*_o,ru=ts-$n+2*_o,Tn=es-kn+2*_o,ao=dr-1+3*_o,uu=ts-1+3*_o,hu=es-1+3*_o,tA=Ct&255,Sv=Bt&255,W0=Dt&255,l1=.6-dr*dr-ts*ts-es*es;if(l1<0)At=0;else{let UE=tA+o[Sv+o[W0]];l1*=l1,At=l1*l1*(_[UE]*dr+j[UE]*ts+et[UE]*es)}let X1=.6-lo*lo-Il*Il-cu*cu;if(X1<0)mt=0;else{let UE=tA+ds+o[Sv+tn+o[W0+rn]];X1*=X1,mt=X1*X1*(_[UE]*lo+j[UE]*Il+et[UE]*cu)}let kI=.6-Ko*Ko-ru*ru-Tn*Tn;if(kI<0)gt=0;else{let UE=tA+un+o[Sv+$n+o[W0+kn]];kI*=kI,gt=kI*kI*(_[UE]*Ko+j[UE]*ru+et[UE]*Tn)}let q1=.6-ao*ao-uu*uu-hu*hu;if(q1<0)_t=0;else{let UE=tA+1+o[Sv+1+o[W0+1]];q1*=q1,_t=q1*q1*(_[UE]*ao+j[UE]*uu+et[UE]*hu)}return 32*(At+mt+gt+_t)}}function zI(s){let o=new Uint8Array(512);for(let _=0;_<512/2;_++)o[_]=_;for(let _=0;_<512/2-1;_++){let j=_+~~(s()*(256-_)),et=o[_];o[_]=o[j],o[j]=et}for(let _=256;_<512;_++)o[_]=o[_-256];return o}var Gs=new Cr$1,f0=class{constructor(s){this.weightAttribute=null;let o=s.geometry;if(!o.isBufferGeometry||o.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");o.index&&(o=o.toNonIndexed()),this.geometry=o,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let s=this.positionAttribute,o=new Float32Array(s.count/3);for(let j=0;j<s.count;j+=3){let et=1;Gs.a.fromBufferAttribute(s,j),Gs.b.fromBufferAttribute(s,j+1),Gs.c.fromBufferAttribute(s,j+2),et*=Gs.getArea(),o[j/3]=et}this.distribution=new Float32Array(s.count/3);let _=0;for(let j=0;j<o.length;j++)_+=o[j],this.distribution[j]=_;return this}setRandomGenerator(s){return this.randomFunction=s,this}sample(s,o){if(this.distribution){let _=this.distribution[this.distribution.length-1],j=this.binarySearch(this.randomFunction()*_);return this.sampleFace(j,s,o)}}binarySearch(s){if(!this.distribution)return 0;let o=this.distribution,_=0,j=o.length-1,et=-1;for(;_<=j;){let st=Math.ceil((_+j)/2);if(st===0||o[st-1]<=s&&o[st]>s){et=st;break}else s<o[st]?j=st-1:_=st+1}return et}sampleFace(s,o,_){let j=this.randomFunction(),et=this.randomFunction();return j+et>1&&(j=1-j,et=1-et),Gs.a.fromBufferAttribute(this.positionAttribute,s*3),Gs.b.fromBufferAttribute(this.positionAttribute,s*3+1),Gs.c.fromBufferAttribute(this.positionAttribute,s*3+2),o.set(0,0,0).addScaledVector(Gs.a,j).addScaledVector(Gs.b,et).addScaledVector(Gs.c,1-(j+et)),Gs.getNormal(_),this}},GI=Jo(iA()),r7=new ue$2,i7=new ue$2,n7=new ue$2,dd;(s=>{function o(_){return _&&_.__isSPEObject}s.is=o})(dd||(dd={}));var fd=s=>class extends s{constructor(){super(...arguments),this.previousModelViewMatrix=new ue$2,this.copyPreviousMatrix=!0,this.hiddenMatrix=new ue$2,this.matrixWorldRigid=new ue$2,this.shearScale=new ue$2,this.shearScaleInv=new ue$2}get __isSPEObject(){return!0}isDescendantOf(o){o instanceof Mt&&(o=o.uuid);let _=this;for(;_.parent;){if(_.parent.uuid===o)return!0;_=_.parent}return!1}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,o=!0);for(let _ of this.children)_.updateMatrixWorld(o)}updateWorldMatrix(o,_){let j=this.parent;if(o&&j!==null&&j.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),_)for(let et of this.children)et.updateWorldMatrix(!1,!0)}traverseChildren(o,_=0){for(let j of this.children)dd.is(j)&&j.traverseObject(o,_+1)}traverseObject(o,_=0){if(o(this,_)!==!0)for(let j of this.children)dd.is(j)&&j.traverseObject(o,_+1)}updateMatrixWorldSVD(){let o=this.matrixWorld.elements,_=[[o[0],o[4],o[8]],[o[1],o[5],o[9]],[o[2],o[6],o[10]]],{u:j,v:et,q:st}=(0,GI.SVD)(_),nt=r7.set(j[0][0],j[0][1],j[0][2],0,j[1][0],j[1][1],j[1][2],0,j[2][0],j[2][1],j[2][2],0,0,0,0,1),ct=i7.set(et[0][0],et[0][1],et[0][2],0,et[1][0],et[1][1],et[1][2],0,et[2][0],et[2][1],et[2][2],0,0,0,0,1),At=n7.copy(ct).transpose();this.shearScale.makeScale(st[0],st[1],st[2]).multiply(At).premultiply(ct),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(nt,At).copyPosition(this.matrixWorld),st.every(mt=>Math.abs(st[0]-mt)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(o,_){this.updateWorldMatrix(!0,!1);let j=new ue$2().copy(this.matrixWorld).invert();return o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),j.multiply(o.parent.matrixWorld)),"hiddenMatrix"in o&&o.hiddenMatrix instanceof ue$2?o.hiddenMatrix.premultiply(j):o.applyMatrix4(j),o.updateWorldMatrix(!1,!1),this.add(o),_!==void 0&&(this.children.pop(),this.children.splice(_,0,o)),this}copy(o,_=!1){return super.copy(o,_),this.hasNonUniformScale=o.hasNonUniformScale,this}onAfterRender(o,_,j,et,st,nt){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},nA=class extends fd(Mt){},s7=s=>s.type==="Mesh",Br=class extends nA{constructor(s){super(),this.object=s,this.matrixAutoUpdate=!1,this.hasNonUniformScale=s.hasNonUniformScale}raycast(s,o){}expand(){let s=0,o=this.object.entityChildren(s);for(;o;){let _=this.children[s];(_==null?void 0:_.object)!==o&&(_&&this.remove(_),_=new Br(o),this.add(_),this.children.splice(s,0,this.children.pop()),_.matrixWorldNeedsUpdate=!0,_.matrixAutoUpdate=!1,_.matrix=o.matrix,_.hiddenMatrix=o.hiddenMatrix),_.expand(),s+=1,o=this.object.entityChildren(s)}for(;this.children.length>s;)this.remove(this.children[s])}get visible(){var s;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((s=this.object.dataPatched.cloner)==null?void 0:s.hideBase)===!0}set visible(s){}get castShadow(){return this.object.castShadow}set castShadow(s){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(s){}get isMesh(){return s7(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(s){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},Bc=new E$2,Nc=new E$2,pd=new ue$2,HI=[new E$2(-1,1,1),new E$2(-1,-1,1),new E$2(1,-1,1),new E$2(1,1,1),new E$2(-1,1,-1),new E$2(-1,-1,-1),new E$2(1,-1,-1),new E$2(1,1,-1)],o7=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],a7=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],jI=(s,o,_)=>{s.updateEntityBoxSize(Bc,Nc),pd.copy(o).multiply(s.matrixWorld),Nc.x===0&&Nc.y===0&&Nc.z===0?_.push(new E$2(Bc.x,Bc.y,Bc.z).applyMatrix4(pd)):HI.forEach(j=>{_.push(j.clone().multiply(Nc).add(Bc).applyMatrix4(pd))})},Jp=class extends jt{constructor(){super(...arguments),this.matrix=new ue$2,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(s){return super.copy(s),this.matrix.copy(s.matrix),this.vertices=s.vertices.map(o=>o.clone()),this.faces=s.faces.map(o=>o.clone()),this.edges=s.edges.map(o=>o.clone()),this.centerEdges=s.centerEdges.map(o=>o.clone()),this}setFromObjectSize(s,o=!1){s.updateWorldMatrix(!1,o),this.makeEmpty(),this.matrix.copy(s.matrixWorld);let _=new ue$2().copy(s.matrixWorld).invert();return this.expandByObjectSize(s,_,o)}expandByObjectSize(s,o,_=!1){let j=[];return _===!0?s.traverseEntity(et=>{if(et.visible||et.cloner&&et.data.visible){if(!("geometry"in et)){j.push(new E$2);return}jI(et,o,j)}}):jI(s,o,j),this.setFromPoints(j)}getCenter(s){return s=super.getCenter(s),s.applyMatrix4(this.matrix),s}getPositionToCenter(s){return s=super.getCenter(s),s.applyMatrix4(pd.copy(this.matrix).setPosition(0,0,0)),s}computeVertices(){this.getSize(Nc).multiplyScalar(.5),this.getCenter(Bc),pd.copy(this.matrix).setPosition(Bc),this.vertices=HI.map(s=>s.clone().multiply(Nc).applyMatrix4(pd))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=o7.map(([s,o])=>new Mi(this.vertices[s],this.vertices[o])),this.centerEdges=this.edges.map(s=>s.getCenter(new E$2))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=a7.map(([s,o])=>this.vertices[s].clone().add(this.vertices[o]).multiplyScalar(.5))}},js={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},oA=class extends fp{constructor(){super()}getPoints(s=12){let o=[],_,j=this.getCurveLengths(),et=j[j.length-1]/j.length;for(let st=0,nt=this.curves;st<nt.length;st++){let ct=nt[st],At=st===0?j[st]:j[st]-j[st-1],mt=Math.ceil(s*At/et),gt=ct.getPoints(mt);for(let _t=0;_t<gt.length;_t++){let Et=gt[_t];_&&_.equals(Et)||(o.push(Et),_=Et)}}return this.autoClose&&o.length>1&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o}},aA=.001;function lA(s,o,_){return o.clone().sub(s).cross(o.clone().sub(_)).length()<=aA}function sA(s,o){let _=new E$2(...s.position),j=new E$2(...s.controlNext.position),et=new E$2(...o.controlPrevious.position),st=new E$2(...o.position);return lA(_,j,st)&&lA(_,et,st)}function m0(s){let o=s.points.map(gt=>new E$2(...gt.data.position)),_=[s.points[0]],j=new E$2(..._[0].data.position);for(let gt=0;gt<s.points.length-1;gt++)lA(j,o[gt],o[gt+1])||(_.push(s.points[gt]),j=o[gt]);_.push(s.points[s.points.length-1]);let et=s.isClosed,st=_.length-(et?0:1),nt=_.length,ct=[];for(let gt=0;gt<nt;gt++){let _t=_[gt].data,Et=new E$2(..._t.position),Ct=new E$2(..._t.controlPrevious.position),Bt=new E$2(..._t.controlNext.position),Dt={position:Et,baseRoundness:_t.roundness,controlPrevious:Ct,controlNext:Bt};if(_t.roundness===0||!s.isClosed&&(gt===0||gt===nt-1)){ct[gt]={...Dt,removedLength:0};continue}let Ft=et&&gt==0?nt-1:gt-1,Rt=et&&gt==nt-1?0:gt+1,Nt=_[Ft].data,Gt=_[Rt].data,dr=new E$2(...Nt.position),ts=new E$2(...Gt.position),es=dr.clone().sub(Et).normalize(),ds=ts.clone().sub(Et).normalize();Object.assign(Dt,{prevDir:es,nextDir:ds});let tn=sA(Nt,_t),rn=sA(_t,Gt);if(!tn||!rn)ct[gt]={...Dt,removedLength:0};else{let un=es.clone().add(ds).normalize(),$n=un.clone().cross(es).length()/es.dot(un);ct[gt]={...Dt,tan:$n,removedLength:_t.roundness/$n}}}for(let gt=0;gt<st;gt++){let _t=gt,Et=et&&gt===nt-1?0:gt+1,Ct=ct[_t],Bt=ct[Et];if(Ct.removedLength!==0||Bt.removedLength!==0){let Dt=Ct.position.distanceTo(Bt.position);Ct.removedLength=Math.min(Ct.removedLength,Dt/2),Bt.removedLength=Math.min(Bt.removedLength,Dt/2)}}let At=[];for(let gt=0;gt<st;gt++){let _t=gt,Et=et&&gt===nt-1?0:gt+1,Ct=ct[_t],Bt=ct[Et],Dt=null;if(!sA(_[_t].data,_[Et].data))Ct.position.distanceTo(Bt.position)>aA&&(Dt=new yc(Ct.position,Ct.controlNext,Bt.controlPrevious,Bt.position));else{let Ft=Ct.position.clone(),Rt=Bt.position.clone();(Ct.removedLength!==0||Bt.removedLength!==0)&&(Ct.nextDir&&Ft.add(Ct.nextDir.clone().setLength(Ct.removedLength)),Bt.prevDir&&Rt.add(Bt.prevDir.clone().setLength(Bt.removedLength))),Ft.distanceTo(Rt)>aA&&(Dt=new yc(Ft,Ft.clone().lerp(Rt,.3),Rt.clone().lerp(Ft,.3),Rt))}At[2*gt+1]=Dt}for(let gt=0;gt<nt;gt++){let _t=ct[gt];if(_t.removedLength===0){At[2*gt]=null;continue}let Et=_t.position,Ct=_t.prevDir.clone().multiplyScalar(_t.removedLength).add(Et),Bt=_t.nextDir.clone().multiplyScalar(_t.removedLength).add(Et),Dt=_t.tan*_t.removedLength,Ft=_t.prevDir.clone().add(_t.nextDir).normalize(),Rt=Ct.clone().lerp(Bt,.5),Nt=Ct.distanceTo(Bt)/2,Gt=Ft.clone().multiplyScalar(Math.sqrt(Math.pow(Dt,2)-Math.pow(Nt,2))).add(Rt),dr=Ft.clone().multiplyScalar(-Dt).add(Gt),ts=Et.distanceTo(dr)/Et.distanceTo(Rt),es=_t.prevDir.clone().multiplyScalar(ts*Et.distanceTo(Ct)).add(Et),ds=es.clone().lerp(dr,2),tn=Ct.clone().lerp(es,4/3),rn=Bt.clone().lerp(ds,4/3);At[2*gt]=new yc(Ct,tn,rn,Bt)}let mt=new oA;return At.forEach(gt=>{gt&&mt.add(gt)}),mt}var yt;(s=>{function o(_){return _&&_.__isEntity}s.is=o})(yt||(yt={}));var Do=s=>yt.is(s),l7={type:"completeState",isfromEntity:!0},c7=["x","y","z"],cA=new E$2,u7=new E$2().set(0,1,0),md=s=>class extends fd(s){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new Jp,this._recursiveBBox=new Jp,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(o){let _=this.children[o];if(yt.is(_))return _}entityChildrenCount(){let o=this.children.length;for(;o--;)if(yt.is(this.children[o]))return o+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let o=this;for(;o.data.type!=="Instance";){let _=o.parent;if(yt.is(_))o=_;else return}return o}forInstancesRec(o){this.instances.forEach(_=>{_.disposed||o(_),_.forInstancesRec(o)})}super_Entity(o,_){typeof o=="string"&&(this.uuid=o),this.identity=o,this.data=_,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(o,_,j=!1){if(!(this.data.states.length===0&&!j)){for(let et of this.data.states)va.toOps(this.data,et.data).forEach(st=>{let nt=Lh.replaceProps(st,this.data);this.dataPatched=this.data,this.updateByPatchedOp(nt,this.data,_)});if(o!==null){let et=this.data.states.data(o);et&&(this.dataPatched=va.patch(this.data,et),va.toOps(this.data,et).forEach(st=>{this.updateByPatchedOp(st,this.dataPatched,_)}))}j&&this.updateTransformState(this.dataPatched,_),this.stateSelection=o,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(o,_){o.setScalar(0),_.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(o=>{Do(o)&&o.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(o=>{o.resetBBoxNeedsUpdateSelf()})}find(o){let _;return this.traverseEntity(j=>{j.uuid===o&&(_=j)}),_}traverseSortNextHelper(){let o=this.parent;if(o){let _=o.children,j=_.indexOf(this)+1;if(yt.is(_[j]))return _[j];if(yt.is(o))return o.traverseSortNextHelper()}}sortNext(){let o=this.children;return this.children.length>0&&yt.is(this.children[0])?o[0]:this.traverseSortNextHelper()}goUp(o){let _=this;for(;o>0&&_!==null;)_=_.parent,o-=1;return _}hasAnccestorOrSelf(o){return this===o||this.hasAnccestor(o)}hasAnccestor(o){let _=this.parent;for(;_;){if(o===_)return!0;_=_.parent}return!1}countToAccestor(o){let _=0,j=this;for(;j!==o;){if(j===null)return-1;j=j.parent,_+=1}return _}forEachEntity(o){for(let _ of this.children)Do(_)&&o(_)}traverseEntityAncestors(o){this.traverseAncestors(_=>{yt.is(_)&&o(_)})}traverseConcreteEntity(o,_=0){if(o(this,_)!==!0)for(let j of this.children)Do(j)&&j.isConcreteEntity&&j.traverseEntity(o,_+1)}traverseEntity(o,_=0){if(o(this,_)!==!0)for(let j of this.children)Do(j)&&j.traverseEntity(o,_+1)}traverseVisibleEntity(o){o(this);for(let _ of this.children)Do(_)&&_.visible&&_.traverseVisibleEntity(o)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(o){super.updateMatrixWorld(o),this.dispatchEvent({type:"updateMatrixWorld"})}copy(o,_=!1){return super.copy(o,_),this.dataPatched=o.dataPatched,this.raycastLock=o.raycastLock,this.scaleLock=o.scaleLock,this.hiddenMatrix.copy(o.hiddenMatrix),this}hasEntityChild(){return this.children.some(o=>Do(o))}isAncestorOf(o){if(this.uuid===o)return!1;let _=!1;return this.traverseEntity(j=>{j.uuid===o&&(_=!0)}),_}toObjectTransformState(o=[]){this.updateWorldMatrix(!0,!1);let _={position:this.position.toArray(),rotation:[this.rotation.x*we.RAD2DEG,this.rotation.y*we.RAD2DEG,this.rotation.z*we.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return Ch(_,o)}getTransformValues(o,_,j){return _[o].map((et,st)=>(j==null?void 0:j.shared.getVariable(et,[this.uuid,o,c7[st]]))??et)}updateTransformState(o,_){let j=!1;return o.position&&(this.position.fromArray(this.getTransformValues("position",o,_)),j=!0),o.rotation&&(cA.fromArray(this.getTransformValues("rotation",o,_)).multiplyScalar(we.DEG2RAD),this.rotation.setFromVector3(cA),j=!0),o.scale&&(this.scale.fromArray(this.getTransformValues("scale",o,_)),j=!0),o.hiddenMatrix!==void 0&&(j=!0,this.hiddenMatrix.fromArray(o.hiddenMatrix??vl.identity)),j&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(et=>{et.invalidateClonerTransform(this)})),o.position&&o.rotation&&o.scale&&o.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),j}onVariableUpdate(o=!1){if(o){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(_=>{_.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let o of this.children)yt.is(o)&&o.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(o=>{yt.is(o)&&o.disposeRecursively()})}toState(o=[]){let _={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(o)};return Ch(_,o)}updateByObjUpdateOp(o,_){o!==void 0&&this.updateByOp({type:0,props:o,path:[]},{...this.data,...o},_,!1)}updateByOp(o,_,j,et){let st=this.data;this.data=_;let nt=o,ct=Lt(o.path,["states","*"]);if(ct!==null){if(o.type===0){let[At]=ct;if((this==null?void 0:this.stateSelection)===At){let mt={...o.props};if(delete mt.name,Object.values(o.props).some(gt=>gt===void 0)){let gt=this.data;if(gt!==void 0){let _t=Sr$1.zoom(gt,o.path.slice(2));if(_t)for(let Et in o.props)o.props[Et]===void 0&&Et in _t&&(mt[Et]=_t[Et])}}nt={...o,props:mt,path:o.path.slice(2)}}}}else if(o.type===0){let At=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(At!==void 0){if(o.props.name!==void 0&&At.name){let{name:gt,..._t}=At;At=_t}if(o.props.material!==void 0&&"material"in At){let{material:gt,..._t}=At;At=_t}let mt=Sr$1.removeOverridden(o.path,o.props,At);nt={...o,props:mt}}}if(this.updateByPatchedOpBase(nt,va.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),j),Lt(o.path,["overrides"])){let At=[],mt=[...o.path];for(At.push(mt[1]),mt.splice(0,2);mt.length>0&&mt[0]==="descendants";)At.push(mt[1]),mt.splice(0,2);if(At[At.length-1]===void 0){if(o.type===0)for(let gt of Object.keys(o.props)){At[At.length-1]=gt;let _t=j.scene.findInstance([this.uuid,...At]);_t&&(_t.overrideData=o.props[gt],_t.updateState(vo.apply(_t.component.data,_t.overrideData),j))}}else{let gt=j.scene.findInstance([this.uuid,...At]);if(gt){let _t=Sr$1.zoom(gt.component.data,mt);if(o={...o,path:mt},o.type===0){let Et=o.props;if(_t)for(let[Ct,Bt]of Object.entries(o.props))Bt===void 0&&(Et===o.props&&(Et={...o.props}),Et[Ct]=_t[Ct]);o={...o,props:Et}}gt.overrideData=Hh.resolve(_.overrides,At),gt.updateByOp(o,Rr$1.applySimple(gt.data,o),j,!1)}}}else if(this.instances.length>0){let At;if(o.path.length===0&&o.type===0){let mt;for(let gt of Mo.rootOverrideProps)gt in o.props&&(mt===void 0&&(mt={}),mt[gt]=o.props[gt]);mt&&(At={...o,props:mt})}else for(let mt of Mo.rootOverrideProps)if(Lt(o.path,[mt])){At=o;break}At!==void 0&&this.instances.forEach(mt=>{if(mt.isInstanceRoot){let gt=vo.filterOp(mt.overrideData,At);gt&&mt.updateByOp(gt,Rr$1.applySimple(mt.data,gt),j,!0)}}),this.instances.forEach(mt=>{if(!mt.isInstanceRoot){let gt=vo.filterOp(mt.overrideData,o);if(gt){let _t;st===mt.data&&o===gt?_t=_:_t=Rr$1.applySimple(mt.data,gt),mt.updateByOp(gt,_t,j,!0)}}})}}updateByPatchedOpBase(o,_,j){if(this.dataPatched=_,o.path.length===0&&o.type===0)o.props.type!==void 0&&!Vs.is(o.props.type)&&js.changeEntityProptotype(this,_,j);else if(o.path.length===1&&o.path[0]==="geometry"&&o.type===0&&"type"in o.props){js.changeEntityProptotype(this,_,j);for(let et of this.children)yt.is(et)&&et.updateVisible(j.scene)}this.updateByPatchedOp(o,_,j)}updateByPatchedOp(o,_,j){if(o.path.length===0&&o.type===0&&this.updateState(o.props,j),Lt(o.path,["pathSnapping"])!==null&&this.updatePathSnapping(_.pathSnapping),Lt(o.path,["cloner"])!==null){let et=Rr$1.drop(o,1);et.path.length===0&&et.type===0&&et.props.disabled===!0?this.setFromClonerState(null,j):this.cloner?this.cloner.updateState(_.cloner,j.scene):(this.setFromClonerState(_.cloner,j),this.expandCloner(j.scene)),this.updateVisible(j.scene)}}updatePathSnapping(o=this.dataPatched.pathSnapping){this._updatedPathSnapping=o,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(o){var Bt,Dt,Ft,Rt,Nt;let _=((Bt=this._updatedPathSnapping)==null?void 0:Bt.pathId)??this.dataPatched.pathSnapping.pathId,j=((Dt=this._updatedPathSnapping)==null?void 0:Dt.slide)??this.dataPatched.pathSnapping.slide??0,et=((Ft=this._updatedPathSnapping)==null?void 0:Ft.offset)??this.dataPatched.pathSnapping.offset??0,st=((Rt=this._updatedPathSnapping)==null?void 0:Rt.orientation)??this.dataPatched.pathSnapping.orientation;if(_===null)return;let nt=o.find(_);if(!nt||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let ct=nt.data;if(ct.geometry.path.points.length<=1)return;let At=m0(ct.geometry.path),mt=(j+et)%1;j+et===1&&mt===0&&(mt=1);let gt=null;try{gt=At.curves.length?At.getPointAt(mt):null}catch{}if(gt===null)return;let _t=this.parent?(Nt=this.parent)==null?void 0:Nt.matrixWorld:new ue$2;nt.updateMatrixWorld();let Et=new ue$2().multiplyMatrices(_t.clone().invert(),nt.matrixWorld);gt.applyMatrix4(Et);let Ct={position:gt.toArray(),rotation:ct.rotation};if(st==="tangential"){let Gt=new ue$2().extractRotation(nt.matrixWorld),dr=At.getTangentAt(mt).applyMatrix4(Gt).add(gt),ts=new ue$2().lookAt(gt,dr,u7),es=cA.setFromEuler(new ir().setFromRotationMatrix(ts)).multiplyScalar(we.RAD2DEG);Ct={...Ct,rotation:es.toArray()}}this.updateTransformState(Ct),this.traverseEntity(Gt=>{Gt._cameraType&&Gt.dispatchEvent(l7)})}updateVisible(o){var j;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||((j=this.dataPatched.cloner)==null?void 0:j.hideBase)!==!0),!o)return;let _=!1;this.traverseEntity(et=>{if(et.data.type==="Splat")return _=!0,!0}),_&&o.reloadSplats()}updateState_Entity(o,_){o.name!==void 0&&(this.name=o.name),o.raycastLock!==void 0&&(this.raycastLock=o.raycastLock),o.visible!==void 0&&(this.updateVisible(_==null?void 0:_.scene),this.resetBBoxNeedsUpdate()),_&&"cloner"in o&&o.cloner!==void 0&&(this.setFromClonerState(o.cloner,_),this.updateVisible(_.scene)),this.updateTransformState(o,_)}get attachedSurfaceCloners(){return this.children.filter(o=>o instanceof js.Cloner&&o.parameters.type==="toObject")}setFromClonerState(o,_){this.disposed||(o===null||o.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new js.Cloner(this,o),_.scene.addPendingExpandCloner(this)):this.cloner.updateState(o,_.scene))}expandCloner(o){!this.disposed&&this.cloner&&this.cloner.expandClones(o)}invalidateClonerTransform(o){this.cloner&&this.cloner.invalidateTransform(o)}requestRender(){this.dispatchEvent({type:"requestRender"})}},g0=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},s.parameters);_.thetaLength=we.clamp(_.thetaLength,0,360);let j=_.width/2,et=_.radiusTop??j,st=_.radiusBottom??j;return et===st?(et=j,st=j):et>st?(et=j,st=st*j/et):(et=et*j/st,st=j),{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width),radiusTop:et,radiusBottom:st})}}static build(s){let{width:o,depth:_,height:j,radialSegments:et,heightSegments:st,openEnded:nt,thetaStart:ct,thetaLength:At,radiusTop:mt,radiusBottom:gt,cornerRadius:_t,cornerSegments:Et,hollow:Ct}=s.parameters,Bt;return At===0?(Bt=new _e,Bt.setAttribute("position",new Me([],3))):_t||Ct?Bt=new $p(mt,gt,j,et,st,nt,ct,At*Math.PI/180,_t,_t,Et,Ct):Bt=new xc(mt,gt,j,et,st,nt,ct,At*Math.PI/180),Bt.scale(1,1,_/o),Object.assign(Bt,{userData:{...s,type:"CylinderGeometry"}})}};function Pl(s,o,_){_.x=s.x*o.x,_.y=s.y,_.z=s.x*o.y}function WI(s){return new U$1(s.y,-s.x)}var $p=class extends _e{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t,Et=!1){super(),this.type="RoundedCylinderBufferGeometry",s=s!==void 0?s:1,o=o!==void 0?o:1,_=_||1,j=Math.floor(j)||8,et=Math.floor(et)||1,st=st!==void 0?st:!1,nt=nt!==void 0?nt:0,ct=ct!==void 0?ct:Math.PI*2,st&&(At=0,mt=0);let Ct=[],Bt=[],Dt=[],Ft=[],Rt=0,Nt=_/2,Gt=new E$2,dr=new E$2;Et&&s==0&&(s=At),Et&&o==0&&(o=mt);let ts=new U$1(s,Nt),es=new U$1(o,-Nt),ds=null,tn=null,rn=null,un=null,$n=ts.clone().sub(es),kn=0,lo=0,Il=0;_t>0&&(kn=Math.min(s,o)*(1-_t),lo=s-kn,Il=o-kn);let cu=ts.clone();cu.x-=kn;let Ko=Math.PI-$n.angle(),ru=$n.angle(),Tn=Math.tan(ru/2),ao=Math.tan(Ko/2),uu=Tn+ao,hu=_t?uu:ao,tA=_t?uu:Tn;if(At=Math.min(At,(s-lo)/hu,$n.length()/uu),mt=Math.min(mt,(o-Il)/tA,$n.length()/uu),At>0){let q1=At/Tn;ds=ts.clone().sub(new U$1(q1,At)),_t&&(rn=ds.clone(),rn.x-=kn-uu*At),ts.sub($n.clone().setLength(q1))}if(mt>0){let q1=mt/ao;tn=es.clone().sub(new U$1(q1,-mt)),es.add($n.clone().setLength(q1)),_t&&(un=tn.clone(),un.x-=kn-uu*mt,cu.sub($n.clone().setLength(q1)))}$n=ts.clone().sub(es);let Sv=$n.length()<.5,W0=[];for(let q1=0;q1<=j;q1++){let UE=[],a1=q1/j,LE=a1*ct+nt,rS=new U$1(Math.sin(LE),Math.cos(LE));un&&tn?(l1(UE,a1,rS,Ko,mt,un,-1,!0),l1(UE,a1,rS,ru,mt,tn,-1,!1)):tn?(X1(UE,rS,tn.x,0,-1),l1(UE,a1,rS,ru,mt,tn,-1,!1)):st||X1(UE,rS,o,Il,-1);let gD=WI($n).normalize();if(Pl(gD,rS,Gt),!Sv)for(let NI=0;NI<=et;NI++){let a$=NI/et,x$=$n.clone().multiplyScalar(a$).add(es);Pl(x$,rS,dr),Bt.push(dr.x,dr.y,dr.z),Dt.push(Gt.x,Gt.y,Gt.z),Ft.push(a1,.5+dr.y/_),UE.push(Rt++)}if(rn&&ds?(l1(UE,a1,rS,Ko,At,ds,1,!1),l1(UE,a1,rS,ru,At,rn,1,!0)):ds?(l1(UE,a1,rS,Ko,At,ds,1,!1),X1(UE,rS,ds.x,0,1)):st||X1(UE,rS,s,lo,1),_t&&!Sv){let NI=WI($n).multiplyScalar(-1).normalize();Pl(NI,rS,Gt);for(let a$=0;a$<=et;a$++){let x$=a$/et,l$=$n.clone().multiplyScalar(-x$).add(cu);Pl(l$,rS,dr),Bt.push(dr.x,dr.y,dr.z),Dt.push(Gt.x,Gt.y,Gt.z),Ft.push(a1,.5+dr.y/_),UE.push(Rt++)}}_t&&!st&&UE.push(UE[0]),W0.push(UE)}for(let q1=0;q1<W0.length-1;q1++)for(let UE=0;UE<W0[0].length-1;UE++){if(st&&_t&&UE==et)continue;let a1=W0[q1][UE],LE=W0[q1+1][UE],rS=W0[q1+1][UE+1],gD=W0[q1][UE+1],NI=Bt[rS*3+0],a$=Bt[rS*3+2];Ct.push(a1,LE,gD),(NI!=0||a$!=0)&&Ct.push(LE,rS,gD)}ct<Math.PI*2&&(kI(-1,W0[0],nt),kI(1,W0[W0.length-1],nt+ct)),this.setIndex(Ct),this.setAttribute("position",new Me(Bt,3)),this.setAttribute("normal",new Me(Dt,3)),this.setAttribute("uv",new Me(Ft,2));function l1(q1,UE,a1,LE,rS,gD,NI,a$){for(let x$=0;x$<gt+1;x$++){let l$=x$/gt,pR=NI<0?l$:1-l$;a$&&(pR-=1),pR*=LE;let h$=new U$1(Math.sin(pR),Math.cos(pR)*NI),w$=h$.clone().multiplyScalar(rS).add(gD);Pl(w$,a1,dr),Bt.push(dr.x,dr.y,dr.z),Pl(h$,a1,Gt),Dt.push(Gt.x,Gt.y,Gt.z),Ft.push(UE,.5+dr.y/_),q1.push(Rt++)}}function X1(q1,UE,a1,LE,rS){let gD=new E$2,NI=new U$1,a$=[a1,LE];rS<0&&a$.reverse();for(let x$ of a$)NI.set(x$,Nt*rS),Pl(NI,UE,gD),Bt.push(gD.x,gD.y,gD.z),Dt.push(0,rS,0),Ft.push(.5,.5),q1.push(Rt++)}function kI(q1,UE,a1){let LE=new U$1(Math.sin(a1),Math.cos(a1)),rS=new U$1(-Math.cos(a1),Math.sin(a1)),gD=new E$2,NI=q1<0?(l$,pR,h$)=>Ct.push(l$,pR,h$):(l$,pR,h$)=>Ct.push(l$,h$,pR),a$=new U$1((s+o+lo+Il)/4,0);Pl(a$,LE,gD),Bt.push(gD.x,gD.y,gD.z),Dt.push(rS.x,0,rS.y),Ft.push(.5,.5);let x$=Rt++;for(let l$ of UE){let pR=Bt.slice(l$*3,l$*3+3);Bt.push(...pR),Dt.push(rS.x,0,rS.y);let h$=Ft.slice(l$*2,l$*2+2);Ft.push(...h$),Rt++}for(let l$=x$+1;l$<Rt-1;l$++)NI(x$,l$,l$+1);NI(x$,Rt-1,x$+1)}}},qI=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},s.parameters);return _.thetaLength=we.clamp(_.thetaLength,0,360),{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,depth:_,height:j,radialSegments:et,heightSegments:st,openEnded:nt,thetaStart:ct,thetaLength:At,cornerRadiusTop:mt,cornerRadiusBottom:gt,cornerSegments:_t}=s.parameters,Et;return At===0?(Et=new _e,Et.setAttribute("position",new Me([],3))):mt>0||gt>0||At<360?Et=new $p(0,o/2,j,et,st,nt,ct,At*Math.PI/180,mt,gt,_t,0,!0):Et=new tl(o/2,j,et,st,nt),Et.scale(1,1,_/o),Object.assign(Et,{userData:{...s,type:"ConeGeometry"}})}},YI=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,height:_,depth:j,widthSegments:et,heightSegments:st,depthSegments:nt,cornerRadius:ct,cornerSegments:At}=s.parameters,mt;return ct===0?mt=new mi(o,_,j,et,st,nt):mt=new hA(o,_,j,et,st,nt,ct,At),Object.assign(mt,{userData:{...s,type:"CubeGeometry"}})}},uA=Math.PI/2,hA=class extends _e{constructor(s=1,o=1,_=1,j=1,et=1,st=1,nt=0,ct=4){super(),this.type="BoxGeometry",j=Math.floor(j),et=Math.floor(et),st=Math.floor(st),ct=Math.floor(ct),nt=Math.min(nt,s/2,o/2,_/2);let At=[],mt=[],gt=[],_t=[],Et=0;Ct("z","y","x",-1,-1,_,o,s,st,et),Ct("z","y","x",1,-1,_,o,-s,st,et),Ct("x","z","y",1,1,s,_,o,j,st),Ct("x","z","y",1,-1,s,_,-o,j,st),Ct("x","y","z",1,-1,s,o,_,j,et),Ct("x","y","z",-1,-1,s,o,-_,j,et),nt>0&&(Bt("z","y","x",-1,-1,1,_,o,s,st),Bt("z","y","x",1,-1,-1,_,o,s,st),Bt("z","y","x",-1,1,-1,_,o,s,st),Bt("z","y","x",1,1,1,_,o,s,st),Bt("x","y","z",-1,-1,-1,s,o,_,j),Bt("x","y","z",1,-1,1,s,o,_,j),Bt("x","y","z",-1,1,1,s,o,_,j),Bt("x","y","z",1,1,-1,s,o,_,j),Bt("y","x","z",-1,-1,1,o,s,_,et),Bt("y","x","z",1,-1,-1,o,s,_,et),Bt("y","x","z",1,1,1,o,s,_,et),Bt("y","x","z",-1,1,-1,o,s,_,et),Dt(1,1,1),Dt(-1,1,1),Dt(1,-1,1),Dt(-1,-1,1),Dt(1,1,-1),Dt(-1,1,-1),Dt(1,-1,-1),Dt(-1,-1,-1)),this.setIndex(At),this.setAttribute("position",new Me(mt,3)),this.setAttribute("normal",new Me(gt,3)),this.setAttribute("uv",new Me(_t,2));function Ct(Ft,Rt,Nt,Gt,dr,ts,es,ds,tn,rn){let un=(ts-2*nt)/tn,$n=(es-2*nt)/rn,kn=ts/2-nt,lo=es/2-nt,Il=ds/2,cu=tn+1,Ko=rn+1,ru=0,Tn=new E$2;for(let ao=0;ao<Ko;ao++){let uu=ao*$n-lo;for(let hu=0;hu<cu;hu++){let tA=hu*un-kn;Tn[Ft]=tA*Gt,Tn[Rt]=uu*dr,Tn[Nt]=Il,mt.push(Tn.x,Tn.y,Tn.z),Tn[Ft]=0,Tn[Rt]=0,Tn[Nt]=ds>0?1:-1,gt.push(Tn.x,Tn.y,Tn.z),_t.push(hu/tn),_t.push(1-ao/rn),ru+=1}}for(let ao=0;ao<rn;ao++)for(let uu=0;uu<tn;uu++){let hu=Et+uu+cu*ao,tA=Et+uu+cu*(ao+1),Sv=Et+(uu+1)+cu*(ao+1),W0=Et+(uu+1)+cu*ao;At.push(hu,tA,W0),At.push(tA,Sv,W0)}Et+=ru}function Bt(Ft,Rt,Nt,Gt,dr,ts,es,ds,tn,rn){let un=(es-2*nt)/rn,$n=es/2-nt,kn=ds/2-nt,lo=tn/2,Il=rn+1,cu=0,Ko=new E$2,ru=new E$2;for(let Tn=0;Tn<ct+1;Tn++){let ao=Tn/ct*uA,uu=Math.sin(ao)*nt,hu=(1-Math.cos(ao))*nt,tA=Math.sin(ao),Sv=Math.cos(ao);Ko[Rt]=(kn+uu)*dr,Ko[Nt]=(lo-hu)*ts,ru[Ft]=0,ru[Rt]=tA*Math.sign(Ko[Rt]),ru[Nt]=Sv*Math.sign(Ko[Nt]);for(let W0=0;W0<Il;W0++){let l1=W0*un-$n;Ko[Ft]=l1*Gt,mt.push(Ko.x,Ko.y,Ko.z),gt.push(ru.x,ru.y,ru.z),_t.push(W0/rn),_t.push(0),cu+=1}}for(let Tn=0;Tn<ct;Tn++)for(let ao=0;ao<rn;ao++){let uu=Et+ao+Il*Tn,hu=Et+ao+Il*(Tn+1),tA=Et+(ao+1)+Il*(Tn+1),Sv=Et+(ao+1)+Il*Tn;At.push(uu,hu,Sv),At.push(hu,tA,Sv)}Et+=cu}function Dt(Ft,Rt,Nt){let Gt=new E$2,dr=new E$2(s/2,o/2,_/2);dr.subScalar(nt);let ts=[],es=Ft*Rt*Nt>0?(tn,rn,un)=>At.push(tn,rn,un):(tn,rn,un)=>At.push(tn,un,rn);for(let tn=0;tn<=ct;tn++){let rn=[],un=uA*(1-tn/ct),$n=Math.cos(un),kn=Math.sin(un),lo=0;for(let Il=0;Il<=tn;Il++){let cu=Math.cos(lo),Ko=Math.sin(lo);Gt.x=$n*cu,Gt.y=kn,Gt.z=$n*Ko;let ru=dr.clone().addScaledVector(Gt,nt);mt.push(Ft*ru.x,Rt*ru.y,Nt*ru.z),gt.push(Ft*Gt.x,Rt*Gt.y,Nt*Gt.z),_t.push(0,0),rn.push(Et++),lo+=uA/tn}ts.push(rn)}let ds=ts.length-1;for(let tn=0;tn<ds;tn++){let rn=ts[tn],un=ts[tn+1],$n=rn.length-1;es(rn[0],un[1],un[0]);for(let kn=1;kn<=$n;kn++)es(rn[kn-1],rn[kn],un[kn]),es(rn[kn],un[kn+1],un[kn])}}}},_l=class extends _e{constructor(s=[],o=[],_="",j=1,et=.2,st=4){super(),this.type="PolyhedronGeometryRound";let nt=[],ct=[],At=[];mt(),gt(),this.setAttribute("position",new Me(nt,3)),this.setAttribute("normal",new Me(At,3)),this.setAttribute("uv",new Me(ct,2));return;function mt(){var ru;et=Math.min(1-1e-5,et),et==0&&(st=0);let _t={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[_],Et=new E$2,Ct=Et.clone(),Bt=new Cr$1,Dt=et*j,Ft=j-Dt,Rt=st+1,Nt=new E$2,Gt=(Tn,ao)=>Nt.subVectors(Tn,ao).normalize(),dr=(Tn,ao)=>Array(Tn).fill(void 0).map(ao),ts=dr(s.length/3,(Tn,ao)=>new E$2().fromArray(s,ao*3).setLength(j)),es=[],ds=1e6;for(let Tn=0;Tn<ts.length;Tn++){let ao=ts[Tn],uu=[],hu,tA,Sv,W0=1e10,l1=-1;for(;(l1=o.indexOf(Tn,l1+1))!=-1;){let UE=l1-l1%3;hu=o[UE+(l1+1)%3],tA=o[UE+(l1+2)%3],Sv=ao.distanceToSquared(ts[hu]),W0=Math.min(W0,Sv),uu.push([hu,tA,Sv])}W0+=1e-6;let X1=[],kI=0,q1=uu.length;for(let UE=0;UE<q1;UE++){[hu,tA,Sv]=uu[kI];let a1=((ru=es[hu])==null?void 0:ru.includes(Tn))==!0;Sv<=W0&&X1.push(hu+ +a1*ds),kI=uu.findIndex(LE=>LE[0]==tA)}es.push(X1)}let tn=[];{let Tn=0,ao=0,uu,hu,tA=_t==3;for(let Sv=0;Sv<=st;Sv++){uu=Sv*(Sv+1)/2,hu=(Sv+1)*(Sv+2)/2;for(let W0=0;W0<st-Sv;W0++)[Tn,ao]=[uu+W0+Sv+2,hu+W0+Sv+3],tn.push(uu,hu,...tA?[ao,uu]:[Tn,hu],ao,Tn),[uu,hu]=[Tn,ao];tn.push(uu,hu,uu+st+2)}}let rn=Et.clone(),un=Et.clone(),$n=Et.clone(),kn=Et.clone(),lo=Et.clone(),Il=[],cu=dr(ts.length,()=>dr(_t,()=>Et.clone()));for(let Tn=0;Tn<ts.length;Tn++){Et.copy(ts[Tn]).normalize(),rn.copy(Et).multiplyScalar(Ft);let ao=es[Tn];for(let X1=0;X1<ao.length;X1++){let kI=ao[X1],q1=ao[(X1+1)%_t];Bt.setFromPointsAndIndices(ts,Tn,kI%ds,q1%ds),Bt.b.sub(Bt.a).setLength(1e10).add(Bt.a),Bt.c.sub(Bt.a).setLength(1e10).add(Bt.a),Bt.closestPointToPoint(rn,cu[Tn][X1])}let uu=[],hu=[],tA=[],Sv=new E$2;st==0&&[...cu[Tn]].reduce((X1,kI)=>X1.add(kI),Sv).multiplyScalar(1/_t);for(let X1=0;X1<_t;X1++){let kI=[],q1=(X1-1+_t)%_t,UE=cu[Tn][q1],a1=cu[Tn][X1];Et.copy(UE).sub(rn),Ct.copy(a1).sub(rn);let LE=rn.angleTo(Et),rS=Et.angleTo(Ct),gD=Math.cos(LE)*Dt;st==0?un.copy(Sv):un.copy(rn).setLength(Ft+gD),hu.push(gD);let NI=[un,UE,a1];for(let a$=0;a$<2;a$++){let x$=NI[a$],l$=NI[a$+1];kn.subVectors(x$,rn),lo.subVectors(l$,rn),$n.crossVectors(kn,lo).normalize();for(let pR=0;pR<Rt;pR++){let h$=[LE,rS][a$]*pR/Rt;Et.copy(kn).applyAxisAngle($n,h$).add(rn),uu.push(Et.clone()),a$&&(Gt(Et,rn),kI.push([pR==0?x$:Et.clone(),Nt.clone()]))}a$&&(Gt(l$,rn),kI.push([l$,Nt.clone()]))}tA.push(kI)}Il.push(tA);let W0=2*Rt,l1=2;for(let X1=0;X1<_t;X1++){let kI=W0*X1,q1=W0*((X1+1)%_t),UE=[uu[kI]];for(let LE=1;LE<Rt;LE++){kn=uu[kI+LE],lo=uu[q1+LE],UE.push(kn);for(let rS=1,gD=LE-l1+1;rS<=gD;rS++)Et.lerpVectors(kn,lo,rS/(gD+1)),Et.sub(rn).setLength(hu[X1]).add(rn),UE.push(Et.clone());UE.push(lo)}for(let LE=0;LE<Rt;LE++)UE.push(uu[LE+Rt+kI]);UE.push(uu[q1+Rt]);let a1=tn.map(LE=>UE[LE]);nt.push(...a1.map(LE=>[LE.x,LE.y,LE.z]).flat()),At.push(...a1.map(LE=>(Gt(LE,rn),[Nt.x,Nt.y,Nt.z])).flat())}}let Ko=[];for(let Tn=0;Tn<es.length;Tn++)for(let ao=0;ao<_t;ao++){let uu=es[Tn][ao];if(uu<ds){let hu=es[uu].findIndex(W0=>W0%ds==Tn),tA=Il[Tn][ao],Sv=Il[uu][hu];for(let W0=0;W0<Rt;W0++){let l1=tA[W0],X1=Sv[Rt-W0],kI=tA[W0+1],q1=Sv[Rt-(W0+1)];[l1,X1,kI,kI,X1,q1].forEach(UE=>{nt.push(UE[0].x,UE[0].y,UE[0].z),At.push(UE[1].x,UE[1].y,UE[1].z)})}Ko.push(tA[0][0],Sv[Rt][0],tA[Rt][0],Sv[0][0])}}for(;Ko.length;){let Tn,ao,uu,hu;[Tn,ao]=Ko.splice(0,2);let tA=[Tn];for(;Tn!=ao;)tA.push(ao),uu=Ko.indexOf(ao),hu=uu%2,ao=Ko.splice(uu-hu,2)[1-hu];Nt.subVectors(tA[0],tA[1]).cross(Et.subVectors(tA[0],tA[2])).normalize();let Sv=Nt.dot(tA[0])<0;Sv&&Nt.negate();for(let W0=1;W0<=tA.length-2;W0++)[tA[W0+ +Sv],tA[W0+1-+Sv],tA[0]].forEach(l1=>{nt.push(l1.x,l1.y,l1.z),At.push(Nt.x,Nt.y,Nt.z)})}}function gt(){let _t=new E$2;for(let es=0;es<nt.length;es+=3){_t.x=nt[es+0],_t.y=nt[es+1],_t.z=nt[es+2];let ds=dr(_t)/2/Math.PI+.5,tn=ts(_t)/Math.PI+.5;ct.push(ds,1-tn)}let Et=new E$2,Ct=new E$2,Bt=new E$2,Dt=new E$2,Ft=new U$1,Rt=new U$1,Nt=new U$1,Gt=(es,ds,tn,rn)=>{rn<0&&es.x===1&&(ct[ds]=es.x-1),tn.x===0&&tn.z===0&&(ct[ds]=rn/2/Math.PI+.5)};for(let es=0,ds=0;es<nt.length;es+=9,ds+=6){Et.set(nt[es+0],nt[es+1],nt[es+2]),Ct.set(nt[es+3],nt[es+4],nt[es+5]),Bt.set(nt[es+6],nt[es+7],nt[es+8]),Ft.set(ct[ds+0],ct[ds+1]),Rt.set(ct[ds+2],ct[ds+3]),Nt.set(ct[ds+4],ct[ds+5]),Dt.copy(Et).add(Ct).add(Bt).divideScalar(3);let tn=dr(Dt);Gt(Ft,ds+0,Et,tn),Gt(Rt,ds+2,Ct,tn),Gt(Nt,ds+4,Bt,tn)}for(let es=0;es<ct.length;es+=6){let ds=ct[es+0],tn=ct[es+2],rn=ct[es+4],un=Math.max(ds,tn,rn),$n=Math.min(ds,tn,rn);un>.9&&$n<.1&&(ds<.2&&(ct[es+0]+=1),tn<.2&&(ct[es+2]+=1),rn<.2&&(ct[es+4]+=1))}function dr(es){return Math.atan2(es.z,-es.x)}function ts(es){return Math.atan2(-es.y,Math.sqrt(es.x*es.x+es.z*es.z))}}}static fromJSON(s){return new _l(s.vertices,s.indices,s.radius,s.corner,s.cornerSides)}},XI=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,detail:0,corner:0,cornerSides:4},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,height:_,depth:j,detail:et,corner:st,cornerSides:nt}=s.parameters,ct=et===0&&st!==0?new em(o*.5,st,nt):new Vu(o*.5,et);return ct.scale(1,_/o,j/o),Object.assign(ct,{userData:{...s,type:"DodecahedronGeometry"}})}},em=class extends _l{constructor(s=1,o=.2,_=4){let j=(1+Math.sqrt(5))/2,et=1/j,st=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-et,-j,0,-et,j,0,et,-j,0,et,j,-et,-j,0,-et,j,0,et,-j,0,et,j,0,-j,0,-et,j,0,-et,-j,0,et,j,0,et],nt=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],ct="DodecahedronGeometry";super(st,nt,ct,s,o,_),this.type=ct}static fromJSON(s){return new em(s.radius,s.corner,s.cornerSides)}},tm=1e-12,gd=class{constructor(s){this.position=new U$1,this.startPosition=new U$1,this.uuid=we.generateUUID(),this.position=s.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(s){this.position.copy(this.startPosition).add(s)}copy(s){return this.position.copy(s.position),this.startPosition.copy(s.startPosition),this}clone(){return new gd(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},yd=class extends gd{constructor(s){super(s.position),this.parent=s}copy(s){return super.copy(s),this}clone(){return new yd(this.parent).copy(this)}},Hs=class extends gd{constructor(s,o){super(o),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=s,this.controls.push(new yd(this),new yd(this))}static create(s,o){let _=new Hs(s,new U$1(...o.position));return _.controls[0].position.set(...o.controlPrevious.position),_.controls[1].position.set(...o.controlNext.position),_.roundness=o.roundness,_.areControlsDirectionsMirrored=o.areControlsDirectionsMirrored,_}getOppositeControl(s){let o=this.controls.indexOf(s);return o===0?this.controls[1]:o===1?this.controls[0]:null}applyOffsetToControls(s,o=1){for(let _=0,j=this.controls.length;_<j;_++){let et=this.controls[_];this.position.distanceTo(et.position)<=o?et.position.copy(this.position):et.applyOffset(s)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(s){return super.copy(s),this.controls[0].copy(s.controls[0]),this.controls[1].copy(s.controls[1]),this.roundness=s.roundness,this.uuid=s.uuid,this}clone(){return new Hs(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var _,j;let s=(_=this.curveBefore)==null?void 0:_.getTangentAt(1),o=(j=this.curveAfter)==null?void 0:j.getTangentAt(0);return[s,o]}computeNormals(s=new U$1,o=new U$1){let[_,j]=this.computeTangents();return _&&j&&(QI(_,s),QI(j,o)),[s,o]}computeTangent(s=new U$1){let[o,_]=this.computeTangents();return o&&_&&s.copy(o).add(_).normalize(),s}computeNormal(s=new U$1){let[o,_]=this.computeNormals();return s.copy(o).add(_).normalize(),s}};function QI(s,o=new U$1){let _=s.length();return o.set(-s.y/_,s.x/_)}var fA=s=>s,vd=new U$1,y0=new U$1,h7=new U$1,d7=new U$1,f7=new U$1,p7=new U$1,ZI=new E$2,JI=new E$2;function $I(s){let o=new U$1;o.addVectors(s.v0,vd.subVectors(s.v1,s.v0).multiplyScalar(2/3));let _=new U$1;return _.addVectors(s.v2,y0.subVectors(s.v1,s.v2).multiplyScalar(2/3)),new an(s.v0,o,_,s.v2)}function rm(s,o,_=Number.EPSILON){return Math.abs(s-o)<_}function m7(s,o,_=Number.EPSILON){return s.distanceTo(o)<_}function g7(s,o,_=Number.EPSILON){return s.distanceTo(o)<_}function pA(s,o,_){let j=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),et=Math.sqrt(Math.pow(o.x-_.x,2)+Math.pow(o.y-_.y,2)),st=Math.sqrt(Math.pow(_.x-s.x,2)+Math.pow(_.y-s.y,2));return Math.acos((et*et+j*j-st*st)/(2*et*j))}function eO(s,o,_){return KI(s,o)&&KI(o,_)&&dA(s.position,o.position,_.position)}function dA(s,o,_){return vd.copy(o).sub(s).cross(y0.copy(_).sub(s))===0}function tO(s,o,_,j,et){let st=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),nt=(s.y+o.y)/2,ct=(s.x+o.x)/2,At=Math.sqrt(Math.pow(_,2)-Math.pow(st/2,2))*(s.y-o.y)/st,mt=Math.sqrt(Math.pow(_,2)-Math.pow(st/2,2))*(o.x-s.x)/st;return j.set(ct+At,nt+mt),et.set(ct-At,nt-mt),[j,et]}function rO(s,o,_){let j=s.distanceTo(_),et=o.distanceTo(_);return j<et?o:s}function iO(s,o,_,j,et,st){let nt=o.x-s.x,ct=o.y-s.y,At=_.x-s.x,mt=_.y-s.y,gt=Math.sqrt((nt+At)*(nt+At)+(ct+mt)*(ct+mt)),_t;return pA(o,s,_)>Math.PI&&(gt*=-1),rm(mt,ct)?_t=(ct+mt)*(j/gt-.5)*8/3/(nt-At):_t=(nt+At)*(j/gt-.5)*8/3/(mt-ct),et.set(o.x-_t*ct,o.y+_t*nt),st.set(_.x+_t*mt,_.y-_t*At),[et,st]}function mA(s,o){return s.position.equals(s.controls[1].position)&&o.position.equals(o.controls[0].position)}function KI(s,o){return dA(s.position,s.controls[1].position,o.position)&&dA(s.position,o.controls[0].position,o.position)}function nO(s,o,_,j,et=.5){let st=vd.subVectors(o,s).multiplyScalar(et).add(s),nt=y0.subVectors(_,o).multiplyScalar(et).add(o),ct=h7.subVectors(j,_).multiplyScalar(et).add(_),At=st,mt=d7.subVectors(nt,st).multiplyScalar(et).add(st),gt=f7.subVectors(ct,nt).multiplyScalar(et).add(nt),_t=ct,Et=p7.subVectors(gt,mt).multiplyScalar(et).add(mt);return[s.x,s.y,At.x,At.y,mt.x,mt.y,Et.x,Et.y,gt.x,gt.y,_t.x,_t.y,j.x,j.y]}function sO(s,o,_=12,j=!0){let et=JI.set(0,0,0),st,nt=0;for(let ct=0;ct<o.length;ct++){let At=fA(o[ct]),mt=vd,gt=Dl(At,_);for(let _t=0;_t<=gt;_t++)if(At instanceof an||At instanceof Yn||At instanceof ln){if(At.getPoint(_t/gt,mt),et.set(mt.x,mt.y,0),st!==void 0&&g7(st,et))continue;st===void 0&&(st=ZI),st.copy(et),s.setXYZ(nt,et.x,et.y,et.z),nt++}}return j&&nt>1&&!(s.getX(nt-1)===s.getX(0)&&s.getY(nt-1)===s.getY(0)&&s.getZ(nt-1)===s.getZ(0))&&(s.setXYZ(nt,s.getX(0),s.getY(0),s.getZ(0)),nt++),s}function oO(s,o,_,j=12,et=!0){let st=JI.set(0,0,0),nt=0,ct=[];for(let At=0;At<o.length;At++){if(_[At]===!1)continue;let mt,gt=fA(o[At]),_t=vd,Et=Dl(gt,j);ct.push(Et);for(let Ct=0;Ct<=Et;Ct++)if(gt instanceof an||gt instanceof Yn||gt instanceof ln){if(gt.getPoint(Ct/Et,_t),st.set(_t.x,_t.y,0),mt==null?void 0:mt.equals(st))continue;mt===void 0?mt=ZI:(s.setXYZ(nt,mt.x,mt.y,mt.z),nt++,s.setXYZ(nt,st.x,st.y,st.z),nt++),mt.copy(st)}}return et&&nt>1&&!(s.getX(nt-1)===s.getX(0)&&s.getY(nt-1)===s.getY(0)&&s.getZ(nt-1)===s.getZ(0))&&(s.setXYZ(nt,s.getX(0),s.getY(0),s.getZ(0)),nt++),ct}function gA(s,o=12,_=!1){let j=[];for(let et=0,st=s.length;et<st;et++){let nt=s[et],ct=0;if(_&&nt.roundedCurveCorner!==void 0){let At=Dl(nt.roundedCurveCorner,o)*.5;et>0&&(j[et-1]+=At),ct+=At}nt.curveAfter!==void 0&&(ct+=Dl(nt.curveAfter,o)),j.push(ct)}return s.length>0&&_&&s[0].roundedCurveCorner!==void 0&&(j[s.length-1]+=Dl(s[0].roundedCurveCorner,o)*.5),j}function Dl(s,o=12){return s&&s instanceof gc?o*2:s&&(s instanceof ln||s instanceof dp)?1:s&&s instanceof Bu?o*s.points.length:o}function aO(s,o,_=12,j=!0){let et,st=0;for(let nt=0;nt<o.length;nt++){let ct=fA(o[nt]),At=Dl(ct,_),mt=vd;for(let gt=0;gt<=At;gt++)if(ct instanceof an||ct instanceof Yn||ct instanceof ln){if(ct.getPoint(gt/At,mt),et!==void 0&&m7(et,mt,tm))continue;et===void 0&&(et=y0),et.copy(mt),s.push(mt.x,mt.y),st++}}return rm(s[0],s[s.length-2],tm)&&rm(s[1],s[s.length-1],tm)&&(s.pop(),s.pop()),j&&st>1&&!(rm(s[st-1],s[1],tm)&&rm(s[st-2],s[0],tm))&&(s.push(s[0],s[1]),st++),s}var yA=new U$1,y7=new U$1,v7=new U$1,x7=new U$1,b7=new U$1,S7=new U$1,qt=class extends aa{constructor(s=100,o=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Vr(new E$2(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=we.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=s,this._height=o}static createFromState(s,o,_){let j=new qt;return j.isClosed=s.isClosed,j.points=s.points.map(et=>Hs.create(et.id,et.data)),typeof s.roundness=="number"&&(j.roundness=s.roundness),j.shapeHoles=s.shapeHoles.map(et=>qt.createFromState(et)),o!==void 0&&_!==void 0&&j.applySize(o,_),j.update(),j}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(s){if(this._roundness!==s){this._roundness=s;for(let o=0,_=this.points.length;o<_;o++)this.points[o].roundness=s;this.needsUpdate=!0}}getPointsIndexesByIds(s){return s.map(o=>this.getPointIndexById(o)).filter(o=>o>=0)}getPointIndexById(s){let o=this.points.length,_=this.points.findIndex(j=>j.uuid===s);if(_<0){let j=o;for(let et=0,st=this.shapeHoles.length;et<st;et++){let nt=this.shapeHoles[et],ct=nt.points.length,At=nt.getPointIndexById(s);if(At<0)j+=ct;else return At+j}}return _}getLineIndexById(s){return this.getPointIndexById(s)}getBezierPoint(s){if(s<=this.points.length-1)return this.points[s];if(this.shapeHoles.length>0){let o=this.points.length;for(let _=0,j=this.shapeHoles.length;_<j;_++){let et=this.shapeHoles[_],st=s-o;if(st<=et.points.length-1)return et.points[st];o+=et.points.length}}throw new Error("This shape does not have a point for this index: "+s)}getBezierPointIndex(s){let o=this.points.indexOf(s);if(o>=0)return o;if(o=this.points.length,this.shapeHoles.length>0)for(let _=0,j=this.shapeHoles.length;_<j;_++){let et=this.shapeHoles[_],st=et.points.indexOf(s);if(st>=0)return o+st;o+=et.points.length}return-1}getAllPoints(){let s=[].concat(...this.shapeHoles.map(o=>o.points));return[...this.points,...s]}applySize(s,o){s===0&&(s=.001),o===0&&(o=.001),this._width=s,this._height=o}applyScale(s,o){let _=yA.set(s,o);for(let j=0,et=this.points.length;j<et;j++){let st=this.points[j];st.position.multiply(_),st.controls[0].position.multiply(_),st.controls[1].position.multiply(_)}for(let j=0,et=this.shapeHoles.length;j<et;j++)this.shapeHoles[j].applyScale(s,o);this._update()}createPoint(s,o=0,_=we.generateUUID()){let j;s instanceof U$1?j=s:j=new U$1(s,o);let et=new Hs(_,j);return et.roundness=this.roundness,et}addPoint(s){this.points.push(s),this.needsUpdate=!0}addPointAt(s,o){this.points.splice(o,0,s),this.needsUpdate=!0}getPointByUuid(s){for(let o=0,_=this.points.length;o<_;o++){let j=this.points[o];if(j.uuid===s)return j}for(let o=0,_=this.shapeHoles.length;o<_;o++){let j=this.shapeHoles[o].getPointByUuid(s);if(j)return j}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(s){let o=this.points.indexOf(s);o>=0&&this.points.splice(o,1),this.needsUpdate=!0}removePointById(s){let o=this.points.find(_=>_.uuid===s);o&&this.removePoint(o)}update(){for(let s=0,o=this.shapeHoles.length;s<o;s++)this.shapeHoles[s].update();this._update()}extractShapePointsToBuffer(s,o=12,_=!1){this.subdivision=o,this.curveDivisions===void 0&&this.computeCurveDivisions(o);let j=_?this.roundedCurveDivisions:this.curveDivisions;return sO(s,_?this.roundedCurves:this.curves,o,this.autoClose),j.reduce((et,st)=>et+st,0)+1}computeCurveDivisions(s=12){return this.curveDivisions=gA(this.points,s,!1),this.roundedCurveDivisions=gA(this.points,s,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(s,o,_=12){return oO(s,this.curves,o,_,this.autoClose).reduce((j,et)=>j+et,0)*2}extractShapePointsToFlatArray(s,o=12){return this.subdivision=o,this.curveDivisions===void 0&&this.computeCurveDivisions(o),aO(s,this.roundedCurves,o,this.autoClose)}getCurveIndexFromVertexId(s,o=!1){let _=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let j=o?this.roundedCurveDivisions:this.curveDivisions,et=0;o&&this.points[0].roundedCurveCorner!==void 0&&(et=Dl(this.points[0].roundedCurveCorner,this.subdivision)*.5);let st=s-et;st<0&&(st+=j.reduce((nt,ct)=>nt+ct,0));for(let nt=0,ct=j.length;nt<ct;nt++){let At=j[nt];if(st<_+At)return[nt,(st-_+1)/At];_+=At}return[0,1]}getCurveT(s,o,_){let j=this.points[s],et=this.points[s>=this.points.length-1?0:s+1],st=this.curveDivisions,nt=st[s];if(mA(j,et)){let At=j.position.distanceTo(et.position);return j.position.distanceTo(yA.set(_.x,_.y))/At}let ct=0;for(let At=0;At<s;At++)ct+=st[At];return(o-ct)/nt}dispose(){}_applyCurveForPoint(s,o){mA(o,s)?this.lineTo(s.position.x,s.position.y):this.bezierCurveTo(o.controls[1].position.x,o.controls[1].position.y,s.controls[0].position.x,s.controls[0].position.y,s.position.x,s.position.y);let _=this.curves[this.curves.length-1];s.curveBefore=_,o.curveAfter=_;let j=_.clone();s.roundedCurveBefore=j,o.roundedCurveAfter=j,s.roundedCurveCorner=void 0,this.roundedCurves.push(j)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let o=0,_=this.points.length;o<_;o++){let j=this.points[o];if(o===0)this.moveTo(j.position.x,j.position.y);else{let et=this.points[o-1];this._applyCurveForPoint(j,et)}}let s=this.getLastPoint();if(s!=null&&s.curveAfter&&(s.curveAfter=void 0),this.isClosed){let o=this.points[0],_=this.points[this.points.length-1];this._applyCurveForPoint(o,_)}if(this.points.length>2){let o=0;for(let _=0,j=this.points.length;_<j;_++){let et=this.points[_],st=this.points[_-1]??this.points[this.points.length-1],nt=this.points[_+1]??this.points[0],ct=et.roundness,At=st&&nt&&eO(st,et,nt);if(!et.controlsMoved()&&ct>0&&!At){let mt=et.curveBefore,gt=et.curveAfter;if(mt===void 0||gt===void 0)continue;let _t=et.roundedCurveBefore,Et=et.roundedCurveAfter,Ct=mt.getLength(),Bt=gt.getLength(),Dt=Math.min(ct,Ct*.499),Ft=Math.min(ct,Bt*.499),Rt=Math.min(Dt,Ft),Nt=1-Rt/Ct,Gt=Rt/Bt,dr=mt.getPointAt(Nt,yA),ts=gt.getPointAt(Gt,y7);this._subSplitCurve(mt,_t,Nt,dr,void 0),this._subSplitCurve(gt,Et,Gt,void 0,ts);let es;if(this.useCubicForRoundedCorners){let ds=pA(dr,et.position,ts)/2,tn=Math.tan(ds)*dr.distanceTo(et.position),[rn,un]=tO(dr,ts,tn,v7,x7),$n=rO(rn,un,et.position),[kn,lo]=iO($n,dr,ts,tn,b7,S7);es=new an(dr.clone(),kn.clone(),lo.clone(),ts.clone())}else es=new Yn(dr.clone(),et.position.clone(),ts.clone());et.roundedCurveCorner=es,this.roundedCurves.splice(_+o,0,es),o++}}}}_subSplitCurve(s,o,_,j,et){if(s instanceof ln)j!==void 0&&o.v2.copy(j),et!==void 0&&o.v1.copy(et);else{let st=s,nt=o,ct=st.getUtoTmapping(_,0),At=nO(st.v0,st.v1,st.v2,st.v3,ct);return j!==void 0&&(nt.v0.set(At[0],At[1]),nt.v1.set(At[2],At[3]),nt.v2.set(At[4],At[5]),nt.v3.set(At[6],At[7])),et!==void 0&&(nt.v0.set(At[6],At[7]),nt.v1.set(At[8],At[9]),nt.v2.set(At[10],At[11]),nt.v3.set(At[12],At[13])),nt}return o}clone(){let s=new qt(this._width,this._height);return s.points=this.points.map(o=>o.clone()),s.isClosed=this.isClosed,s.roundness=this.roundness,s.isMesh2D=this.isMesh2D,s.shapeHoles=this.shapeHoles.map(o=>o.clone()),s}toJSON(){return{points:this.points.reduce((s,o)=>s.concat(o.toJSON()),[]),shapeHoles:this.shapeHoles.map(s=>s.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(s){var _;this.points=[],this.pointIDs=0;let o=s.points.length/7;for(let j=0;j<o;j++){let et=j*7,st=s.points[et+0],nt=s.points[et+1],ct=s.points[et+2],At=s.points[et+3],mt=s.points[et+4],gt=s.points[et+5],_t=s.points[et+6],Et=new Hs(we.generateUUID(),new U$1(st,nt));Et.controls[0].position.set(ct,At),Et.controls[1].position.set(mt,gt),Et.roundness=_t,this.points.push(Et)}return this.shapeHoles=(_=s.shapeHoles)!=null&&_.length?s.shapeHoles.map(j=>{let et=new qt;return et.fromJSON(j),et}):[],this.isClosed=s.isClosed,this._roundness=s.roundness,this._update(),this}fromShape(s,o=!1){this.isText=o;let _=(et,st)=>{st instanceof an&&st.v3.equals(et.position)&&et.controls[0].position.copy(st.v2)},j=et=>{let st=[],nt,ct;for(nt=0,ct=et.length;nt<ct;nt++)et[nt]instanceof Yn&&(et[nt]=$I(et[nt]));for(nt=0,ct=et.length;nt<ct;nt++){let gt=et[nt],_t=nt>0?et[nt-1]:null,Et;gt instanceof an?(Et=this.createPoint(gt.v0),Et.controls[1].position.copy(gt.v1)):gt instanceof ln&&(Et=this.createPoint(gt.v1)),Et!==void 0&&(_t!==null&&_(Et,_t),st.push(Et))}let At=et[et.length-1],mt=!1;return At instanceof an?At.v3.equals(st[0].position)&&(st[0].controls[0].position.copy(At.v2),mt=!0):At instanceof ln&&At.v2.equals(st[0].position)&&(mt=!0),this.isClosed=mt,st};return this.points=j(s.curves),s instanceof aa&&(this.shapeHoles=s.holes.map(et=>{let st=new qt;return st.fromShape(et),st})),this.update(),this}updatePoint(s,o){let _=this.getPointByUuid(s);_&&(o.position!==void 0&&_.position.fromArray(o.position),o.roundness!==void 0&&(_.roundness=o.roundness),o.areControlsDirectionsMirrored!==void 0&&(_.areControlsDirectionsMirrored=o.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(s,o){var j;let _=(j=this.getPointByUuid(s))==null?void 0:j.controls[0];_&&(o.position&&_.position.fromArray(o.position),this.needsUpdate=!0)}updateNextControl(s,o){var j;let _=(j=this.getPointByUuid(s))==null?void 0:j.controls[1];_&&(o.position&&_.position.fromArray(o.position),this.needsUpdate=!0)}},xA=Math.PI*2;function vA({x:s,y:o},_,j,et,st){return{x:s*_+et,y:o*j+st}}function w7(s,o){let _=o===1.5707963267948966?.551915024494:o===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(o/4),j=Math.cos(s),et=Math.sin(s),st=Math.cos(s+o),nt=Math.sin(s+o);return[{x:j-et*_,y:et+j*_},{x:st+nt*_,y:nt-st*_},{x:st,y:nt}]}function lO(s,o,_,j){let et=s*j-o*_<0?-1:1,st=Math.min(1,Math.max(-1,s*_+o*j));return et*Math.acos(st)}function A7(s,o,_,j,et,st,nt,ct,At,mt){let gt=Math.pow(et,2),_t=Math.pow(st,2),Et=Math.pow(nt,2),Ct=Math.pow(ct,2),Bt=gt*_t-gt*Ct-_t*Et;Bt<0&&(Bt=0),Bt/=gt*Ct+_t*Et,Bt=Math.sqrt(Bt)*(At===mt?-1:1);let Dt=Bt*et/st*ct,Ft=Bt*-st/et*nt,Rt=Dt+(s+_)/2,Nt=Ft+(o+j)/2,Gt=(nt-Dt)/et,dr=(ct-Ft)/st,ts=(-nt-Dt)/et,es=(-ct-Ft)/st,ds=lO(1,0,Gt,dr),tn=lO(Gt,dr,ts,es);return!mt&&tn>0&&(tn-=xA),mt&&tn<0&&(tn+=xA),{centerx:Rt,centery:Nt,ang1:ds,ang2:tn}}function cO({px:s,py:o,cx:_,cy:j,rx:et,ry:st,largeArcFlag:nt,sweepFlag:ct}){let At=[];if(et===0||st===0)return[];let mt=(s-_)/2,gt=(o-j)/2;if(mt===0&&gt===0)return[];et=Math.abs(et),st=Math.abs(st);let _t=Math.pow(mt,2)/Math.pow(et,2)+Math.pow(gt,2)/Math.pow(st,2);_t>1&&(et*=Math.sqrt(_t),st*=Math.sqrt(_t));let Et=A7(s,o,_,j,et,st,mt,gt,nt,ct),{ang1:Ct,ang2:Bt}=Et,{centerx:Dt,centery:Ft}=Et,Rt=Math.abs(Bt)/(xA/4);Math.abs(1-Rt)<1e-7&&(Rt=1);let Nt=Math.max(Math.ceil(Rt),1);Bt/=Nt;for(let Gt=0;Gt<Nt;Gt++)At.push(w7(Ct,Bt)),Ct+=Bt;return At.map(Gt=>{let{x:dr,y:ts}=vA(Gt[0],et,st,Dt,Ft),{x:es,y:ds}=vA(Gt[1],et,st,Dt,Ft),{x:tn,y:rn}=vA(Gt[2],et,st,Dt,Ft);return{x1:dr,y1:ts,x2:es,y2:ds,x:tn,y:rn}})}var zt;(function(s){s[s.ODD=0]="ODD",s[s.NONZERO=1]="NONZERO",s[s.POSITIVE=2]="POSITIVE",s[s.NEGATIVE=3]="NEGATIVE",s[s.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(zt||(zt={}));var jr$1;(function(s){s[s.POLYGONS=0]="POLYGONS",s[s.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",s[s.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(jr$1||(jr$1={}));function ut(s,o){if(!s)throw o||"Assertion Failed!"}var ot=function(){function s(){}return s.vertEq=function(o,_){return o.s===_.s&&o.t===_.t},s.vertLeq=function(o,_){return o.s<_.s||o.s===_.s&&o.t<=_.t},s.transLeq=function(o,_){return o.t<_.t||o.t===_.t&&o.s<=_.s},s.edgeGoesLeft=function(o){return s.vertLeq(o.Dst,o.Org)},s.edgeGoesRight=function(o){return s.vertLeq(o.Org,o.Dst)},s.vertL1dist=function(o,_){return Math.abs(o.s-_.s)+Math.abs(o.t-_.t)},s.edgeEval=function(o,_,j){ut(s.vertLeq(o,_)&&s.vertLeq(_,j));var et=_.s-o.s,st=j.s-_.s;return et+st>0?et<st?_.t-o.t+(o.t-j.t)*(et/(et+st)):_.t-j.t+(j.t-o.t)*(st/(et+st)):0},s.edgeSign=function(o,_,j){ut(s.vertLeq(o,_)&&s.vertLeq(_,j));var et=_.s-o.s,st=j.s-_.s;return et+st>0?(_.t-j.t)*et+(_.t-o.t)*st:0},s.transEval=function(o,_,j){ut(s.transLeq(o,_)&&s.transLeq(_,j));var et=_.t-o.t,st=j.t-_.t;return et+st>0?et<st?_.s-o.s+(o.s-j.s)*(et/(et+st)):_.s-j.s+(j.s-o.s)*(st/(et+st)):0},s.transSign=function(o,_,j){ut(s.transLeq(o,_)&&s.transLeq(_,j));var et=_.t-o.t,st=j.t-_.t;return et+st>0?(_.s-j.s)*et+(_.s-o.s)*st:0},s.vertCCW=function(o,_,j){return o.s*(_.t-j.t)+_.s*(j.t-o.t)+j.s*(o.t-_.t)>=0},s.interpolate=function(o,_,j,et){return o=o<0?0:o,j=j<0?0:j,o<=j?j===0?(_+et)/2:_+(et-_)*(o/(o+j)):et+(_-et)*(j/(o+j))},s.intersect=function(o,_,j,et,st){var nt,ct,At;s.vertLeq(o,_)||(At=o,o=_,_=At),s.vertLeq(j,et)||(At=j,j=et,et=At),s.vertLeq(o,j)||(At=o,o=j,j=At,At=_,_=et,et=At),s.vertLeq(j,_)?s.vertLeq(_,et)?(nt=s.edgeEval(o,j,_),ct=s.edgeEval(j,_,et),nt+ct<0&&(nt=-nt,ct=-ct),st.s=s.interpolate(nt,j.s,ct,_.s)):(nt=s.edgeSign(o,j,_),ct=-s.edgeSign(o,et,_),nt+ct<0&&(nt=-nt,ct=-ct),st.s=s.interpolate(nt,j.s,ct,et.s)):st.s=(j.s+_.s)/2,s.transLeq(o,_)||(At=o,o=_,_=At),s.transLeq(j,et)||(At=j,j=et,et=At),s.transLeq(o,j)||(At=o,o=j,j=At,At=_,_=et,et=At),s.transLeq(j,_)?s.transLeq(_,et)?(nt=s.transEval(o,j,_),ct=s.transEval(j,_,et),nt+ct<0&&(nt=-nt,ct=-ct),st.t=s.interpolate(nt,j.t,ct,_.t)):(nt=s.transSign(o,j,_),ct=-s.transSign(o,et,_),nt+ct<0&&(nt=-nt,ct=-ct),st.t=s.interpolate(nt,j.t,ct,et.t)):st.t=(j.t+_.t)/2},s}(),im=function(){function s(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return s}(),v0=function(){function s(o){this.side=o,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(s.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(o){this.Sym.Lface=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(o){this.Sym.Org=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(o){this.Sym.Lnext=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(o){this.Onext.Sym=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(o){this.Lnext.Sym=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(o){this.Sym.Onext=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(o){this.Sym.Onext.Sym=o},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(o){this.Sym.Lnext.Sym=o},enumerable:!0,configurable:!0}),s}(),xd=function(){function s(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return s}(),uO=function(){function s(){var o=new xd,_=new im,j=new v0(0),et=new v0(1);o.next=o.prev=o,o.anEdge=null,_.next=_.prev=_,j.next=j,j.Sym=et,et.next=et,et.Sym=j,this.vHead=o,this.fHead=_,this.eHead=j,this.eHeadSym=et}return s.prototype.makeEdge_=function(o){var _=new v0(0),j=new v0(1);o.Sym.side<o.side&&(o=o.Sym);var et=o.Sym.next;return j.next=et,et.Sym.next=_,_.next=o,o.Sym.next=j,_.Sym=j,_.Onext=_,_.Lnext=j,_.Org=null,_.Lface=null,_.winding=0,_.activeRegion=null,j.Sym=_,j.Onext=j,j.Lnext=_,j.Org=null,j.Lface=null,j.winding=0,j.activeRegion=null,_},s.prototype.splice_=function(o,_){var j=o.Onext,et=_.Onext;j.Sym.Lnext=_,et.Sym.Lnext=o,o.Onext=et,_.Onext=j},s.prototype.makeVertex_=function(o,_,j){var et=o;ut(et,"Vertex can't be null!");var st=j.prev;et.prev=st,st.next=et,et.next=j,j.prev=et,et.anEdge=_;var nt=_;do nt.Org=et,nt=nt.Onext;while(nt!==_)},s.prototype.makeFace_=function(o,_,j){var et=o;ut(et,"Face can't be null");var st=j.prev;et.prev=st,st.next=et,et.next=j,j.prev=et,et.anEdge=_,et.trail=null,et.marked=!1,et.inside=j.inside;var nt=_;do nt.Lface=et,nt=nt.Lnext;while(nt!==_)},s.prototype.killEdge_=function(o){o.Sym.side<o.side&&(o=o.Sym);var _=o.next,j=o.Sym.next;_.Sym.next=j,j.Sym.next=_},s.prototype.killVertex_=function(o,_){var j=o.anEdge,et=j;do et.Org=_,et=et.Onext;while(et!==j);var st=o.prev,nt=o.next;nt.prev=st,st.next=nt},s.prototype.killFace_=function(o,_){var j=o.anEdge,et=j;do et.Lface=_,et=et.Lnext;while(et!==j);var st=o.prev,nt=o.next;nt.prev=st,st.next=nt},s.prototype.makeEdge=function(){var o=new xd,_=new xd,j=new im,et=this.makeEdge_(this.eHead);return this.makeVertex_(o,et,this.vHead),this.makeVertex_(_,et.Sym,this.vHead),this.makeFace_(j,et,this.fHead),et},s.prototype.splice=function(o,_){var j=!1,et=!1;if(o!==_){if(_.Org!==o.Org&&(et=!0,this.killVertex_(_.Org,o.Org)),_.Lface!==o.Lface&&(j=!0,this.killFace_(_.Lface,o.Lface)),this.splice_(_,o),!et){var st=new xd;this.makeVertex_(st,_,o.Org),o.Org.anEdge=o}if(!j){var nt=new im;this.makeFace_(nt,_,o.Lface),o.Lface.anEdge=o}}},s.prototype.delete=function(o){var _=o.Sym,j=!1;if(o.Lface!==o.Rface&&(j=!0,this.killFace_(o.Lface,o.Rface)),o.Onext===o)this.killVertex_(o.Org,null);else if(o.Rface.anEdge=o.Oprev,o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev),!j){var et=new im;this.makeFace_(et,o,o.Lface)}_.Onext===_?(this.killVertex_(_.Org,null),this.killFace_(_.Lface,null)):(o.Lface.anEdge=_.Oprev,_.Org.anEdge=_.Onext,this.splice_(_,_.Oprev)),this.killEdge_(o)},s.prototype.addEdgeVertex=function(o){var _=this.makeEdge_(o),j=_.Sym;this.splice_(_,o.Lnext),_.Org=o.Dst;var et=new xd;return this.makeVertex_(et,j,_.Org),_.Lface=j.Lface=o.Lface,_},s.prototype.splitEdge=function(o){var _=this.addEdgeVertex(o),j=_.Sym;return this.splice_(o.Sym,o.Sym.Oprev),this.splice_(o.Sym,j),o.Dst=j.Org,j.Dst.anEdge=j.Sym,j.Rface=o.Rface,j.winding=o.winding,j.Sym.winding=o.Sym.winding,j.idx=o.idx,j.Sym.idx=o.Sym.idx,j},s.prototype.connect=function(o,_){var j=!1,et=this.makeEdge_(o),st=et.Sym;if(_.Lface!==o.Lface&&(j=!0,this.killFace_(_.Lface,o.Lface)),this.splice_(et,o.Lnext),this.splice_(st,_),et.Org=o.Dst,st.Org=_.Org,et.Lface=st.Lface=o.Lface,o.Lface.anEdge=st,!j){var nt=new im;this.makeFace_(nt,et,o.Lface)}return et},s.prototype.zapFace=function(o){var _=o.anEdge,j,et,st,nt,ct;et=_.Lnext;do j=et,et=j.Lnext,j.Lface=null,j.Rface===null&&(j.Onext===j?this.killVertex_(j.Org,null):(j.Org.anEdge=j.Onext,this.splice_(j,j.Oprev)),st=j.Sym,st.Onext===st?this.killVertex_(st.Org,null):(st.Org.anEdge=st.Onext,this.splice_(st,st.Oprev)),this.killEdge_(j));while(j!=_);nt=o.prev,ct=o.next,ct.prev=nt,nt.next=ct},s.prototype.countFaceVerts_=function(o){var _=o.anEdge,j=0;do j++,_=_.Lnext;while(_!==o.anEdge);return j},s.prototype.mergeConvexFaces=function(o){var _,j,et,st,nt,ct,At;for(_=this.fHead.next;_!==this.fHead;_=_.next)if(_.inside)for(j=_.anEdge,nt=j.Org;et=j.Lnext,st=j.Sym,st&&st.Lface&&st.Lface.inside&&(ct=this.countFaceVerts_(_),At=this.countFaceVerts_(st.Lface),ct+At-2<=o&&ot.vertCCW(j.Lprev.Org,j.Org,st.Lnext.Lnext.Org)&&ot.vertCCW(st.Lprev.Org,st.Org,j.Lnext.Lnext.Org)&&(et=st.Lnext,this.delete(st),j=null,st=null)),!(j&&j.Lnext.Org===nt);)j=et;return!0},s.prototype.check=function(){var o=this.fHead,_=this.vHead,j=this.eHead,et,st,nt,ct,At,mt;for(st=o,st=o;(et=st.next)!==o;st=et){ut(et.prev===st),At=et.anEdge;do ut(At.Sym!==At),ut(At.Sym.Sym===At),ut(At.Lnext.Onext.Sym===At),ut(At.Onext.Sym.Lnext===At),ut(At.Lface===et),At=At.Lnext;while(At!==et.anEdge)}for(ut(et.prev===st&&et.anEdge===null),ct=_,ct=_;(nt=ct.next)!==_;ct=nt){ut(nt.prev===ct),At=nt.anEdge;do ut(At.Sym!==At),ut(At.Sym.Sym===At),ut(At.Lnext.Onext.Sym===At),ut(At.Onext.Sym.Lnext===At),ut(At.Org===nt),At=At.Onext;while(At!==nt.anEdge)}for(ut(nt.prev===ct&&nt.anEdge===null),mt=j,mt=j;(At=mt.next)!==j;mt=At)ut(At.Sym.next===mt.Sym),ut(At.Sym!==At),ut(At.Sym.Sym===At),ut(At.Org!==null),ut(At.Dst!==null),ut(At.Lnext.Onext.Sym===At),ut(At.Onext.Sym.Lnext===At);ut(At.Sym.next===mt.Sym&&At.Sym===this.eHeadSym&&At.Sym.Sym===At&&At.Org===null&&At.Dst===null&&At.Lface===null&&At.Rface===null)},s}(),hO=function(){function s(){this.handle=null}return s}(),dO=function(){function s(){this.key=null,this.node=0}return s}(),E7=function(){function s(o,_){this.leq=_,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=o,this.nodes=[],this.handles=[];for(var j=0;j<o+1;j++)this.nodes[j]=new hO,this.handles[j]=new dO;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return s.prototype.floatDown_=function(o){var _=this.nodes,j=this.handles,et,st,nt;for(et=_[o].handle;;){if(nt=o<<1,nt<this.size&&this.leq(j[_[nt+1].handle].key,j[_[nt].handle].key)&&++nt,ut(nt<=this.max),st=_[nt].handle,nt>this.size||this.leq(j[et].key,j[st].key)){_[o].handle=et,j[et].node=o;break}_[o].handle=st,j[st].node=o,o=nt}},s.prototype.floatUp_=function(o){var _=this.nodes,j=this.handles,et,st,nt;for(et=_[o].handle;;){if(nt=o>>1,st=_[nt].handle,nt===0||this.leq(j[st].key,j[et].key)){_[o].handle=et,j[et].node=o;break}_[o].handle=st,j[st].node=o,o=nt}},s.prototype.init=function(){for(var o=this.size;o>=1;--o)this.floatDown_(o);this.initialized=!0},s.prototype.min=function(){return this.handles[this.nodes[1].handle].key},s.prototype.insert=function(o){var _,j;if(_=++this.size,_*2>this.max){this.max*=2;var et,st;for(st=this.nodes.length,this.nodes.length=this.max+1,et=st;et<this.nodes.length;et++)this.nodes[et]=new hO;for(st=this.handles.length,this.handles.length=this.max+1,et=st;et<this.handles.length;et++)this.handles[et]=new dO}return this.freeList===0?j=_:(j=this.freeList,this.freeList=this.handles[j].node),this.nodes[_].handle=j,this.handles[j].node=_,this.handles[j].key=o,this.initialized&&this.floatUp_(_),j},s.prototype.extractMin=function(){var o=this.nodes,_=this.handles,j=o[1].handle,et=_[j].key;return this.size>0&&(o[1].handle=o[this.size].handle,_[o[1].handle].node=1,_[j].key=null,_[j].node=this.freeList,this.freeList=j,--this.size,this.size>0&&this.floatDown_(1)),et},s.prototype.delete=function(o){var _=this.nodes,j=this.handles,et;ut(o>=1&&o<=this.max&&j[o].key!==null),et=j[o].node,_[et].handle=_[this.size].handle,j[_[et].handle].node=et,--this.size,et<=this.size&&(et<=1||this.leq(j[_[et>>1].handle].key,j[_[et].handle].key)?this.floatDown_(et):this.floatUp_(et)),j[o].key=null,j[o].node=this.freeList,this.freeList=o},s}(),bA=function(){function s(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return s}(),fO=function(){function s(){this.key=null,this.next=null,this.prev=null}return s}(),M7=function(){function s(o,_){this.frame=o,this.leq=_,this.head=new fO,this.head.next=this.head,this.head.prev=this.head}return s.prototype.min=function(){return this.head.next},s.prototype.max=function(){return this.head.prev},s.prototype.insert=function(o){return this.insertBefore(this.head,o)},s.prototype.search=function(o){var _=this.head;do _=_.next;while(_.key!==null&&!this.leq(this.frame,o,_.key));return _},s.prototype.insertBefore=function(o,_){do o=o.prev;while(o.key!==null&&!this.leq(this.frame,o.key,_));var j=new fO;return j.key=_,j.next=o.next,o.next.prev=j,j.prev=o,o.next=j,j},s.prototype.delete=function(o){o.next.prev=o.prev,o.prev.next=o.next},s}(),T7=function(){function s(){}return s.regionBelow=function(o){return o.nodeUp.prev.key},s.regionAbove=function(o){return o.nodeUp.next.key},s.debugEvent=function(o){},s.addWinding=function(o,_){o.winding+=_.winding,o.Sym.winding+=_.Sym.winding},s.edgeLeq=function(o,_,j){var et=o.event,st=_.eUp,nt=j.eUp;if(st.Dst===et)return nt.Dst===et?ot.vertLeq(st.Org,nt.Org)?ot.edgeSign(nt.Dst,st.Org,nt.Org)<=0:ot.edgeSign(st.Dst,nt.Org,st.Org)>=0:ot.edgeSign(nt.Dst,et,nt.Org)<=0;if(nt.Dst===et)return ot.edgeSign(st.Dst,et,st.Org)>=0;var ct=ot.edgeEval(st.Dst,et,st.Org),At=ot.edgeEval(nt.Dst,et,nt.Org);return ct>=At},s.deleteRegion=function(o,_){_.fixUpperEdge&&ut(_.eUp.winding===0),_.eUp.activeRegion=null,o.dict.delete(_.nodeUp)},s.fixUpperEdge=function(o,_,j){ut(_.fixUpperEdge),o.mesh.delete(_.eUp),_.fixUpperEdge=!1,_.eUp=j,j.activeRegion=_},s.topLeftRegion=function(o,_){var j=_.eUp.Org,et;do _=s.regionAbove(_);while(_.eUp.Org===j);if(_.fixUpperEdge){if(et=o.mesh.connect(s.regionBelow(_).eUp.Sym,_.eUp.Lnext),et===null)return null;s.fixUpperEdge(o,_,et),_=s.regionAbove(_)}return _},s.topRightRegion=function(o){var _=o.eUp.Dst;do o=s.regionAbove(o);while(o.eUp.Dst===_);return o},s.addRegionBelow=function(o,_,j){var et=new bA;return et.eUp=j,et.nodeUp=o.dict.insertBefore(_.nodeUp,et),et.fixUpperEdge=!1,et.sentinel=!1,et.dirty=!1,j.activeRegion=et,et},s.isWindingInside=function(o,_){switch(o.windingRule){case zt.ODD:return(_&1)!==0;case zt.NONZERO:return _!==0;case zt.POSITIVE:return _>0;case zt.NEGATIVE:return _<0;case zt.ABS_GEQ_TWO:return _>=2||_<=-2}throw new Error("Invalid winding rulle")},s.computeWinding=function(o,_){_.windingNumber=s.regionAbove(_).windingNumber+_.eUp.winding,_.inside=s.isWindingInside(o,_.windingNumber)},s.finishRegion=function(o,_){var j=_.eUp,et=j.Lface;et.inside=_.inside,et.anEdge=j,s.deleteRegion(o,_)},s.finishLeftRegions=function(o,_,j){for(var et,st=null,nt=_,ct=_.eUp;nt!==j;){if(nt.fixUpperEdge=!1,st=s.regionBelow(nt),et=st.eUp,et.Org!=ct.Org){if(!st.fixUpperEdge){s.finishRegion(o,nt);break}et=o.mesh.connect(ct.Lprev,et.Sym),s.fixUpperEdge(o,st,et)}ct.Onext!==et&&(o.mesh.splice(et.Oprev,et),o.mesh.splice(ct,et)),s.finishRegion(o,nt),ct=st.eUp,nt=st}return ct},s.addRightEdges=function(o,_,j,et,st,nt){var ct,At,mt,gt,_t=!0;mt=j;do ut(ot.vertLeq(mt.Org,mt.Dst)),s.addRegionBelow(o,_,mt.Sym),mt=mt.Onext;while(mt!==et);for(st===null&&(st=s.regionBelow(_).eUp.Rprev),At=_,gt=st;ct=s.regionBelow(At),mt=ct.eUp.Sym,mt.Org===gt.Org;)mt.Onext!==gt&&(o.mesh.splice(mt.Oprev,mt),o.mesh.splice(gt.Oprev,mt)),ct.windingNumber=At.windingNumber-mt.winding,ct.inside=s.isWindingInside(o,ct.windingNumber),At.dirty=!0,!_t&&s.checkForRightSplice(o,At)&&(s.addWinding(mt,gt),s.deleteRegion(o,At),o.mesh.delete(gt)),_t=!1,At=ct,gt=mt;At.dirty=!0,ut(At.windingNumber-mt.winding===ct.windingNumber),nt&&s.walkDirtyRegions(o,At)},s.spliceMergeVertices=function(o,_,j){o.mesh.splice(_,j)},s.vertexWeights=function(o,_,j){var et=ot.vertL1dist(_,o),st=ot.vertL1dist(j,o),nt=.5*st/(et+st),ct=.5*et/(et+st);o.coords[0]+=nt*_.coords[0]+ct*j.coords[0],o.coords[1]+=nt*_.coords[1]+ct*j.coords[1],o.coords[2]+=nt*_.coords[2]+ct*j.coords[2]},s.getIntersectData=function(o,_,j,et,st,nt){_.coords[0]=_.coords[1]=_.coords[2]=0,_.idx=-1,s.vertexWeights(_,j,et),s.vertexWeights(_,st,nt)},s.checkForRightSplice=function(o,_){var j=s.regionBelow(_),et=_.eUp,st=j.eUp;if(ot.vertLeq(et.Org,st.Org)){if(ot.edgeSign(st.Dst,et.Org,st.Org)>0)return!1;ot.vertEq(et.Org,st.Org)?et.Org!==st.Org&&(o.pq.delete(et.Org.pqHandle),s.spliceMergeVertices(o,st.Oprev,et)):(o.mesh.splitEdge(st.Sym),o.mesh.splice(et,st.Oprev),_.dirty=j.dirty=!0)}else{if(ot.edgeSign(et.Dst,st.Org,et.Org)<0)return!1;s.regionAbove(_).dirty=_.dirty=!0,o.mesh.splitEdge(et.Sym),o.mesh.splice(st.Oprev,et)}return!0},s.checkForLeftSplice=function(o,_){var j=s.regionBelow(_),et=_.eUp,st=j.eUp,nt;if(ut(!ot.vertEq(et.Dst,st.Dst)),ot.vertLeq(et.Dst,st.Dst)){if(ot.edgeSign(et.Dst,st.Dst,et.Org)<0)return!1;s.regionAbove(_).dirty=_.dirty=!0,nt=o.mesh.splitEdge(et),o.mesh.splice(st.Sym,nt),nt.Lface.inside=_.inside}else{if(ot.edgeSign(st.Dst,et.Dst,st.Org)>0)return!1;_.dirty=j.dirty=!0,nt=o.mesh.splitEdge(st),o.mesh.splice(et.Lnext,st.Sym),nt.Rface.inside=_.inside}return!0},s.checkForIntersect=function(o,_){var j=s.regionBelow(_),et=_.eUp,st=j.eUp,nt=et.Org,ct=st.Org,At=et.Dst,mt=st.Dst,gt,_t,Et=new xd,Ct,Bt;if(ut(!ot.vertEq(mt,At)),ut(ot.edgeSign(At,o.event,nt)<=0),ut(ot.edgeSign(mt,o.event,ct)>=0),ut(nt!==o.event&&ct!==o.event),ut(!_.fixUpperEdge&&!j.fixUpperEdge),nt===ct||(gt=Math.min(nt.t,At.t),_t=Math.max(ct.t,mt.t),gt>_t))return!1;if(ot.vertLeq(nt,ct)){if(ot.edgeSign(mt,nt,ct)>0)return!1}else if(ot.edgeSign(At,ct,nt)<0)return!1;return s.debugEvent(o),ot.intersect(At,nt,mt,ct,Et),ut(Math.min(nt.t,At.t)<=Et.t),ut(Et.t<=Math.max(ct.t,mt.t)),ut(Math.min(mt.s,At.s)<=Et.s),ut(Et.s<=Math.max(ct.s,nt.s)),ot.vertLeq(Et,o.event)&&(Et.s=o.event.s,Et.t=o.event.t),Ct=ot.vertLeq(nt,ct)?nt:ct,ot.vertLeq(Ct,Et)&&(Et.s=Ct.s,Et.t=Ct.t),ot.vertEq(Et,nt)||ot.vertEq(Et,ct)?(s.checkForRightSplice(o,_),!1):!ot.vertEq(At,o.event)&&ot.edgeSign(At,o.event,Et)>=0||!ot.vertEq(mt,o.event)&&ot.edgeSign(mt,o.event,Et)<=0?mt===o.event?(o.mesh.splitEdge(et.Sym),o.mesh.splice(st.Sym,et),_=s.topLeftRegion(o,_),et=s.regionBelow(_).eUp,s.finishLeftRegions(o,s.regionBelow(_),j),s.addRightEdges(o,_,et.Oprev,et,et,!0),!0):At===o.event?(o.mesh.splitEdge(st.Sym),o.mesh.splice(et.Lnext,st.Oprev),j=_,_=s.topRightRegion(_),Bt=s.regionBelow(_).eUp.Rprev,j.eUp=st.Oprev,st=s.finishLeftRegions(o,j,null),s.addRightEdges(o,_,st.Onext,et.Rprev,Bt,!0),!0):(ot.edgeSign(At,o.event,Et)>=0&&(s.regionAbove(_).dirty=_.dirty=!0,o.mesh.splitEdge(et.Sym),et.Org.s=o.event.s,et.Org.t=o.event.t),ot.edgeSign(mt,o.event,Et)<=0&&(_.dirty=j.dirty=!0,o.mesh.splitEdge(st.Sym),st.Org.s=o.event.s,st.Org.t=o.event.t),!1):(o.mesh.splitEdge(et.Sym),o.mesh.splitEdge(st.Sym),o.mesh.splice(st.Oprev,et),et.Org.s=Et.s,et.Org.t=Et.t,et.Org.pqHandle=o.pq.insert(et.Org),s.getIntersectData(o,et.Org,nt,At,ct,mt),s.regionAbove(_).dirty=_.dirty=j.dirty=!0,!1)},s.walkDirtyRegions=function(o,_){for(var j=s.regionBelow(_),et,st;;){for(;j.dirty;)_=j,j=s.regionBelow(j);if(!_.dirty&&(j=_,_=s.regionAbove(_),_===null||!_.dirty))return;if(_.dirty=!1,et=_.eUp,st=j.eUp,et.Dst!==st.Dst&&s.checkForLeftSplice(o,_)&&(j.fixUpperEdge?(s.deleteRegion(o,j),o.mesh.delete(st),j=s.regionBelow(_),st=j.eUp):_.fixUpperEdge&&(s.deleteRegion(o,_),o.mesh.delete(et),_=s.regionAbove(j),et=_.eUp)),et.Org!==st.Org)if(et.Dst!==st.Dst&&!_.fixUpperEdge&&!j.fixUpperEdge&&(et.Dst===o.event||st.Dst===o.event)){if(s.checkForIntersect(o,_))return}else s.checkForRightSplice(o,_);et.Org===st.Org&&et.Dst===st.Dst&&(s.addWinding(st,et),s.deleteRegion(o,_),o.mesh.delete(et),_=s.regionAbove(j))}},s.connectRightVertex=function(o,_,j){var et,st=j.Onext,nt=s.regionBelow(_),ct=_.eUp,At=nt.eUp,mt=!1;if(ct.Dst!==At.Dst&&s.checkForIntersect(o,_),ot.vertEq(ct.Org,o.event)&&(o.mesh.splice(st.Oprev,ct),_=s.topLeftRegion(o,_),st=s.regionBelow(_).eUp,s.finishLeftRegions(o,s.regionBelow(_),nt),mt=!0),ot.vertEq(At.Org,o.event)&&(o.mesh.splice(j,At.Oprev),j=s.finishLeftRegions(o,nt,null),mt=!0),mt){s.addRightEdges(o,_,j.Onext,st,st,!0);return}ot.vertLeq(At.Org,ct.Org)?et=At.Oprev:et=ct,et=o.mesh.connect(j.Lprev,et),s.addRightEdges(o,_,et,et.Onext,et.Onext,!1),et.Sym.activeRegion.fixUpperEdge=!0,s.walkDirtyRegions(o,_)},s.connectLeftDegenerate=function(o,_,j){var et,st,nt,ct,At;if(et=_.eUp,ot.vertEq(et.Org,j)){ut(!1),s.spliceMergeVertices(o,et,j.anEdge);return}if(!ot.vertEq(et.Dst,j)){o.mesh.splitEdge(et.Sym),_.fixUpperEdge&&(o.mesh.delete(et.Onext),_.fixUpperEdge=!1),o.mesh.splice(j.anEdge,et),s.sweepEvent(o,j);return}ut(!1),_=s.topRightRegion(_),At=s.regionBelow(_),nt=At.eUp.Sym,st=ct=nt.Onext,At.fixUpperEdge&&(ut(st!==nt),s.deleteRegion(o,At),o.mesh.delete(nt),nt=st.Oprev),o.mesh.splice(j.anEdge,nt),ot.edgeGoesLeft(st)||(st=null),s.addRightEdges(o,_,nt.Onext,ct,st,!0)},s.connectLeftVertex=function(o,_){var j,et,st,nt,ct,At,mt=new bA;if(mt.eUp=_.anEdge.Sym,j=o.dict.search(mt).key,et=s.regionBelow(j),!!et){if(nt=j.eUp,ct=et.eUp,ot.edgeSign(nt.Dst,_,nt.Org)===0){s.connectLeftDegenerate(o,j,_);return}if(st=ot.vertLeq(ct.Dst,nt.Dst)?j:et,j.inside||st.fixUpperEdge){if(st===j)At=o.mesh.connect(_.anEdge.Sym,nt.Lnext);else{var gt=o.mesh.connect(ct.Dnext,_.anEdge);At=gt.Sym}st.fixUpperEdge?s.fixUpperEdge(o,st,At):s.computeWinding(o,s.addRegionBelow(o,j,At)),s.sweepEvent(o,_)}else s.addRightEdges(o,j,_.anEdge,_.anEdge,null,!0)}},s.sweepEvent=function(o,_){o.event=_,s.debugEvent(o);for(var j=_.anEdge;j.activeRegion===null;)if(j=j.Onext,j===_.anEdge){s.connectLeftVertex(o,_);return}var et=s.topLeftRegion(o,j.activeRegion);ut(et!==null);var st=s.regionBelow(et),nt=st.eUp,ct=s.finishLeftRegions(o,st,null);ct.Onext===nt?s.connectRightVertex(o,et,ct):s.addRightEdges(o,et,ct.Onext,nt,nt,!0)},s.addSentinel=function(o,_,j,et){var st=new bA,nt=o.mesh.makeEdge();nt.Org.s=j,nt.Org.t=et,nt.Dst.s=_,nt.Dst.t=et,o.event=nt.Dst,st.eUp=nt,st.windingNumber=0,st.inside=!1,st.fixUpperEdge=!1,st.sentinel=!0,st.dirty=!1,st.nodeUp=o.dict.insert(st)},s.initEdgeDict=function(o){o.dict=new M7(o,s.edgeLeq);var _=o.bmax[0]-o.bmin[0],j=o.bmax[1]-o.bmin[1],et=o.bmin[0]-_,st=o.bmax[0]+_,nt=o.bmin[1]-j,ct=o.bmax[1]+j;s.addSentinel(o,et,st,nt),s.addSentinel(o,et,st,ct)},s.doneEdgeDict=function(o){for(var _,j=0;(_=o.dict.min().key)!==null;)_.sentinel||(ut(_.fixUpperEdge),ut(++j===1)),ut(_.windingNumber===0),s.deleteRegion(o,_)},s.removeDegenerateEdges=function(o){var _,j,et,st=o.mesh.eHead;for(_=st.next;_!==st;_=j)j=_.next,et=_.Lnext,ot.vertEq(_.Org,_.Dst)&&_.Lnext.Lnext!==_&&(s.spliceMergeVertices(o,et,_),o.mesh.delete(_),_=et,et=_.Lnext),et.Lnext===_&&(et!==_&&((et===j||et===j.Sym)&&(j=j.next),o.mesh.delete(et)),(_===j||_===j.Sym)&&(j=j.next),o.mesh.delete(_))},s.initPriorityQ=function(o){var _,j,et,st=0;for(et=o.mesh.vHead,j=et.next;j!==et;j=j.next)st++;for(st+=8,_=o.pq=new E7(st,ot.vertLeq),et=o.mesh.vHead,j=et.next;j!==et;j=j.next)j.pqHandle=_.insert(j);return j!==et?!1:(_.init(),!0)},s.donePriorityQ=function(o){o.pq=null},s.removeDegenerateFaces=function(o,_){var j,et,st;for(j=_.fHead.next;j!==_.fHead;j=et)et=j.next,st=j.anEdge,ut(st.Lnext!==st),st.Lnext.Lnext===st&&(s.addWinding(st.Onext,st),o.mesh.delete(st));return!0},s.computeInterior=function(o,_){_===void 0&&(_=!0);var j,et;if(s.removeDegenerateEdges(o),!s.initPriorityQ(o))return!1;for(s.initEdgeDict(o);(j=o.pq.extractMin())!==null;){for(;et=o.pq.min(),!(et===null||!ot.vertEq(et,j));)et=o.pq.extractMin(),s.spliceMergeVertices(o,j.anEdge,et.anEdge);s.sweepEvent(o,j)}return o.event=o.dict.min().key.eUp.Org,s.debugEvent(o),s.doneEdgeDict(o),s.donePriorityQ(o),s.removeDegenerateFaces(o,o.mesh)?(_&&o.mesh.check(),!0):!1},s}(),C7=function(){function s(){this.mesh=new uO,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=zt.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return s.prototype.dot_=function(o,_){return o[0]*_[0]+o[1]*_[1]+o[2]*_[2]},s.prototype.normalize_=function(o){var _=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(!_)throw"Zero-size vector!";_=Math.sqrt(_),o[0]/=_,o[1]/=_,o[2]/=_},s.prototype.longAxis_=function(o){var _=0;return Math.abs(o[1])>Math.abs(o[0])&&(_=1),Math.abs(o[2])>Math.abs(o[_])&&(_=2),_},s.prototype.computeNormal_=function(o){var _,j,et,st,nt,ct,At=[0,0,0],mt=[0,0,0],gt=[0,0,0],_t=[0,0,0],Et=[0,0,0],Ct=[null,null,null],Bt=[null,null,null],Dt=this.mesh.vHead;_=Dt.next;for(var Ft=0;Ft<3;++Ft)st=_.coords[Ft],mt[Ft]=st,Bt[Ft]=_,At[Ft]=st,Ct[Ft]=_;for(_=Dt.next;_!==Dt;_=_.next)for(var Rt=0;Rt<3;++Rt)st=_.coords[Rt],st<mt[Rt]&&(mt[Rt]=st,Bt[Rt]=_),st>At[Rt]&&(At[Rt]=st,Ct[Rt]=_);var Nt=0;if(At[1]-mt[1]>At[0]-mt[0]&&(Nt=1),At[2]-mt[2]>At[Nt]-mt[Nt]&&(Nt=2),mt[Nt]>=At[Nt]){o[0]=0,o[1]=0,o[2]=1;return}for(ct=0,j=Bt[Nt],et=Ct[Nt],gt[0]=j.coords[0]-et.coords[0],gt[1]=j.coords[1]-et.coords[1],gt[2]=j.coords[2]-et.coords[2],_=Dt.next;_!==Dt;_=_.next)_t[0]=_.coords[0]-et.coords[0],_t[1]=_.coords[1]-et.coords[1],_t[2]=_.coords[2]-et.coords[2],Et[0]=gt[1]*_t[2]-gt[2]*_t[1],Et[1]=gt[2]*_t[0]-gt[0]*_t[2],Et[2]=gt[0]*_t[1]-gt[1]*_t[0],nt=Et[0]*Et[0]+Et[1]*Et[1]+Et[2]*Et[2],nt>ct&&(ct=nt,o[0]=Et[0],o[1]=Et[1],o[2]=Et[2]);ct<=0&&(o[0]=o[1]=o[2]=0,o[this.longAxis_(gt)]=1)},s.prototype.checkOrientation_=function(){for(var o=this.mesh.fHead,_,j=this.mesh.vHead,et,st=0,nt=o.next;nt!==o;nt=nt.next)if(et=nt.anEdge,!(et.winding<=0))do st+=(et.Org.s-et.Dst.s)*(et.Org.t+et.Dst.t),et=et.Lnext;while(et!==nt.anEdge);if(st<0){for(_=j.next;_!==j;_=_.next)_.t=-_.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},s.prototype.projectPolygon_=function(){var o=this.mesh.vHead,_=[0,0,0],j,et,st=!1;_[0]=this.normal[0],_[1]=this.normal[1],_[2]=this.normal[2],!_[0]&&!_[1]&&!_[2]&&(this.computeNormal_(_),st=!0),j=this.sUnit,et=this.tUnit;var nt=this.longAxis_(_);j[nt]=0,j[(nt+1)%3]=1,j[(nt+2)%3]=0,et[nt]=0,et[(nt+1)%3]=0,et[(nt+2)%3]=_[nt]>0?1:-1;for(var ct=o.next;ct!==o;ct=ct.next)ct.s=this.dot_(ct.coords,j),ct.t=this.dot_(ct.coords,et);st&&this.checkOrientation_();for(var At=!0,mt=o.next;mt!==o;mt=mt.next)At?(this.bmin[0]=this.bmax[0]=mt.s,this.bmin[1]=this.bmax[1]=mt.t,At=!1):(mt.s<this.bmin[0]&&(this.bmin[0]=mt.s),mt.s>this.bmax[0]&&(this.bmax[0]=mt.s),mt.t<this.bmin[1]&&(this.bmin[1]=mt.t),mt.t>this.bmax[1]&&(this.bmax[1]=mt.t))},s.prototype.addWinding_=function(o,_){o.winding+=_.winding,o.Sym.winding+=_.Sym.winding},s.prototype.tessellateMonoRegion_=function(o,_){var j,et;if(j=_.anEdge,!(j.Lnext!==j&&j.Lnext.Lnext!==j))throw"Mono region invalid";for(;ot.vertLeq(j.Dst,j.Org);j=j.Lprev);for(;ot.vertLeq(j.Org,j.Dst);j=j.Lnext);et=j.Lprev;for(var st=void 0;j.Lnext!==et;)if(ot.vertLeq(j.Dst,et.Org)){for(;et.Lnext!==j&&(ot.edgeGoesLeft(et.Lnext)||ot.edgeSign(et.Org,et.Dst,et.Lnext.Dst)<=0);)st=o.connect(et.Lnext,et),et=st.Sym;et=et.Lprev}else{for(;et.Lnext!==j&&(ot.edgeGoesRight(j.Lprev)||ot.edgeSign(j.Dst,j.Org,j.Lprev.Org)>=0);)st=o.connect(j,j.Lprev),j=st.Sym;j=j.Lnext}if(et.Lnext===j)throw"Mono region invalid";for(;et.Lnext.Lnext!==j;)st=o.connect(et.Lnext,et),et=st.Sym;return!0},s.prototype.tessellateInterior_=function(o){for(var _,j=o.fHead.next;j!==o.fHead;j=_)if(_=j.next,j.inside&&!this.tessellateMonoRegion_(o,j))return!1;return!0},s.prototype.discardExterior_=function(o){for(var _,j=o.fHead.next;j!==o.fHead;j=_)_=j.next,j.inside||o.zapFace(j)},s.prototype.setWindingNumber_=function(o,_,j){for(var et,st=o.eHead.next;st!==o.eHead;st=et)et=st.next,st.Rface.inside!==st.Lface.inside?st.winding=st.Lface.inside?_:-_:j?o.delete(st):st.winding=0},s.prototype.getNeighbourFace_=function(o){return!o.Rface||!o.Rface.inside?-1:o.Rface.n},s.prototype.outputPolymesh_=function(o,_,j,et){var st,nt=0,ct=0,At;j>3&&o.mergeConvexFaces(j);for(var mt=o.vHead.next;mt!==o.vHead;mt=mt.next)mt.n=-1;for(var gt=o.fHead.next;gt!==o.fHead;gt=gt.next)if(gt.n=-1,!!gt.inside){st=gt.anEdge,At=0;do{var mt=st.Org;mt.n===-1&&(mt.n=ct,ct++),At++,st=st.Lnext}while(st!==gt.anEdge);if(At>j)throw"Face vertex greater that support polygon";gt.n=nt,++nt}this.elementCount=nt,_===jr$1.CONNECTED_POLYGONS&&(nt*=2),this.elements=[],this.elements.length=nt*j,this.vertexCount=ct,this.vertices=[],this.vertices.length=ct*et,this.vertexIndices=[],this.vertexIndices.length=ct;for(var mt=o.vHead.next;mt!==o.vHead;mt=mt.next)if(mt.n!==-1){var _t=mt.n*et;this.vertices[_t+0]=mt.coords[0],this.vertices[_t+1]=mt.coords[1],et>2&&(this.vertices[_t+2]=mt.coords[2]),this.vertexIndices[mt.n]=mt.idx}for(var Et=0,gt=o.fHead.next;gt!==o.fHead;gt=gt.next)if(gt.inside){st=gt.anEdge,At=0;do{var mt=st.Org;this.elements[Et++]=mt.n,At++,st=st.Lnext}while(st!==gt.anEdge);for(var Ct=At;Ct<j;++Ct)this.elements[Et++]=-1;if(_===jr$1.CONNECTED_POLYGONS){st=gt.anEdge;do this.elements[Et++]=this.getNeighbourFace_(st),st=st.Lnext;while(st!==gt.anEdge);for(var Bt=At;Bt<j;++Bt)this.elements[Et++]=-1}}},s.prototype.outputContours_=function(o,_){var j,et,st=0,nt=0;this.vertexCount=0,this.elementCount=0;for(var ct=o.fHead.next;ct!==o.fHead;ct=ct.next)if(ct.inside){et=j=ct.anEdge;do this.vertexCount++,j=j.Lnext;while(j!==et);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*_,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var At=0,mt=0,gt=0;st=0;for(var ct=o.fHead.next;ct!==o.fHead;ct=ct.next)if(ct.inside){nt=0,et=j=ct.anEdge;do this.vertices[At++]=j.Org.coords[0],this.vertices[At++]=j.Org.coords[1],_>2&&(this.vertices[At++]=j.Org.coords[2]),this.vertexIndices[mt++]=this.vertexIdCallback?this.vertexIdCallback(j):j.Org.idx,nt++,j=j.Lnext;while(j!==et);this.elements[gt++]=st,this.elements[gt++]=nt,st+=nt}},s.prototype.addContour=function(o,_){this.mesh===null&&(this.mesh=new uO),o<2&&(o=2),o>3&&(o=3);for(var j=null,et=0;et<_.length;et+=o)j===null?(j=this.mesh.makeEdge(),this.mesh.splice(j,j.Sym)):(this.mesh.splitEdge(j),j=j.Lnext),j.Org.coords[0]=_[et+0],j.Org.coords[1]=_[et+1],o>2?j.Org.coords[2]=_[et+2]:j.Org.coords[2]=0,j.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(j),j.winding=1,j.Sym.winding=-1},s.prototype.tesselate=function(o,_,j,et,st,nt){if(o===void 0&&(o=zt.ODD),_===void 0&&(_=jr$1.POLYGONS),nt===void 0&&(nt=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,st&&(this.normal[0]=st[0],this.normal[1]=st[1],this.normal[2]=st[2]),this.windingRule=o,et<2&&(et=2),et>3&&(et=3),!this.mesh)return!1;this.projectPolygon_(),T7.computeInterior(this,nt);var ct=this.mesh;return _===jr$1.BOUNDARY_CONTOURS?this.setWindingNumber_(ct,1,!0):this.tessellateInterior_(ct),nt&&ct.check(),_===jr$1.BOUNDARY_CONTOURS?this.outputContours_(ct,et):this.outputPolymesh_(ct,_,j,et),!0},s}();function Ws(s){var o=s.windingRule,_=o===void 0?zt.ODD:o,j=s.elementType,et=j===void 0?jr$1.POLYGONS:j,st=s.polySize,nt=st===void 0?3:st,ct=s.vertexSize,At=ct===void 0?2:ct,mt=s.normal,gt=mt===void 0?[0,0,1]:mt,_t=s.contours,Et=_t===void 0?[]:_t,Ct=s.strict,Bt=Ct===void 0?!0:Ct,Dt=s.debug,Ft=Dt===void 0?!1:Dt;if(!Et&&Bt)throw new Error("Contours can't be empty");if(Et){var Rt=new C7;s.edgeCreateCallback&&(Rt.edgeCreateCallback=s.edgeCreateCallback),s.vertexIdCallback&&(Rt.vertexIdCallback=s.vertexIdCallback);for(var Nt=0;Nt<Et.length;Nt++)Rt.addContour(At||2,Et[Nt]);return Rt.tesselate(_,et,nt,At,gt,Bt),{vertices:Rt.vertices,vertexIndices:Rt.vertexIndices,vertexCount:Rt.vertexCount,elements:Rt.elements,elementCount:Rt.elementCount,mesh:Ft?Rt.mesh:void 0}}}zt.ODD;zt.NONZERO;zt.POSITIVE;zt.NEGATIVE;zt.ABS_GEQ_TWO;jr$1.POLYGONS;jr$1.CONNECTED_POLYGONS;jr$1.BOUNDARY_CONTOURS;var x0=class{constructor(s=256,o=!1){this.capacity=s,this.size=0,this.debug=o,this.debug&&console.log(`allocating with cap ${s}`);let _=s*x0.eSize;this.buffer=new ArrayBuffer(_);let j=Float32Array.BYTES_PER_ELEMENT,et=0;this.positions=new Float32Array(this.buffer,et*j,3*s),et+=3*s,this.normals=new Float32Array(this.buffer,et*j,3*s),et+=3*s,this.uvs=new Float32Array(this.buffer,et*j,2*s)}realloc(s,o=!1){if(s<this.size)throw Error("cannot shrink buffer");if(s<=this.capacity&&!o)return;this.debug&&console.log(`resizing from ${this.capacity} → ${s}`);let _=s*x0.eSize,j=new ArrayBuffer(_),et=Float32Array.BYTES_PER_ELEMENT,st=0,nt=new Float32Array(j,st*et,3*s);st+=3*s;let ct=new Float32Array(j,st*et,3*s);st+=3*s;let At=new Float32Array(j,st*et,2*s);o?(nt.set(this.positions.subarray(0,this.size*3)),ct.set(this.normals.subarray(0,this.size*3)),At.set(this.uvs.subarray(0,this.size*2))):(nt.set(this.positions),ct.set(this.normals),At.set(this.uvs)),this.buffer=j,this.positions=nt,this.normals=ct,this.uvs=At,this.capacity=s}get(s=1){let o=this.size+s;if(o>this.capacity){let j=this.capacity;for(;o>j;)j*=2;this.realloc(j)}let _=this.size;return this.size=o,_}reserve(s){let o=this.size+s;o>this.capacity&&this.realloc(o)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} → ${this.size}`),this.realloc(this.size,!0)}},nm$7=x0;nm$7.eSize=8*Float32Array.BYTES_PER_ELEMENT;var yO=Jo(gO()),sm={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},MA={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},TA={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},EA=(s,o)=>([_,j])=>(j<_&&(j+=o),(s>=_?s:s+o)<=j),Ol=class extends _e{constructor(s,o,_=0,j=12,et=3,st=zt.ODD,nt=!1){super(),this.forPathBevel=nt,this.type="ShapeGeometry",this.vertexCache={},this._shape=s,this._depth=o,this._curveSegments=j,this._bevelSegmentsInput=et;let ct=this._shape.extractShapePointsToFlatArray([],j),At=this._shape.shapeHoles.map(rn=>{let un=rn.extractShapePointsToFlatArray([],j),$n=[];for(let kn=un.length-1;kn>=1;kn-=2){let lo=un[kn-1],Il=un[kn-0];$n.push(lo,Il)}return $n}),mt=[],gt=[];for(let rn=0;rn<ct.length;rn+=2)gt.push([ct[rn],ct[rn+1]]);mt.push(gt);for(let rn=0;rn<At.length;rn++){let un=At[rn],$n=[];for(let kn=0;kn<un.length;kn+=2)$n.push([un[kn],un[kn+1]]);mt.push($n)}let _t;s.isText?_t=new Ku().setFromPoints(s.points.map(rn=>rn.position)).getSize(new U$1).length()*.1:mt[0].length===0?_t=_:_t=(0,yO.default)(mt).distance,_<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(_,_t,o/2),this._bevelSegments=Math.floor(et));let Et;try{Et=Ws({windingRule:st,elementType:jr$1.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[ct]})}catch{Et=sm}let Ct;try{Ct=Ws({windingRule:zt.ODD,elementType:jr$1.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...At]})}catch{Ct=MA}if(!Et)throw new Error("error generating geometry");let Bt=Et.elementCount;if(Ct){Et.elementCount+=Ct.elementCount;for(let rn=0;rn<Ct.elements.length;rn++){let un=Ct.elements[rn],$n=rn%2===0?Et.vertexCount:0;Et.elements.push(un+$n)}for(let rn=0;rn<Ct.vertexIndices.length;rn++){let un=Ct.vertexIndices[rn],$n=Et.vertexCount;Et.vertexIndices.push(un+$n)}for(let rn=0;rn<Ct.vertices.length;rn++){let un=Ct.vertices[rn];Et.vertices.push(un)}}let Dt=1/0,Ft=-1/0,Rt=1/0,Nt=-1/0;for(let rn=0,un=Et.vertexCount;rn<un;rn++){let $n=rn*2,kn=Et.vertices[$n+0],lo=Et.vertices[$n+1];kn<Dt&&(Dt=kn),kn>Ft&&(Ft=kn),lo<Rt&&(Rt=lo),lo>Nt&&(Nt=lo)}this._minX=Dt,this._minY=Rt,this._width=Ft-Dt,this._height=Nt-Rt,this._buffer=new nm$7(this._computeBufferEstimatedSize(Et));let Gt=[],dr=[];for(let rn=Et.elementCount-1;rn>=0;rn--){let un=rn>=Bt,$n=rn*2,kn=Et.elements[$n+0],lo=Et.elements[$n+1],Il=kn+lo,cu={start:kn,count:lo,normals:[],continuous:[],concave:[]},Ko=kn,ru=Il-1,Tn=kn+1,ao=this._shape.roundedCurves.length;do{let W0=Ko-kn,l1=Et.vertices[ru*2+0],X1=Et.vertices[ru*2+1],kI=Et.vertices[Ko*2+0],q1=Et.vertices[Ko*2+1],UE=Et.vertices[Tn*2+0],a1=Et.vertices[Tn*2+1],LE=kI-l1,rS=q1-X1,gD=Math.sqrt(LE*LE+rS*rS);LE/=gD,rS/=gD;let NI=kI-UE,a$=q1-a1,x$=Math.sqrt(NI*NI+a$*a$);NI/=x$,a$/=x$,cu.normals[W0*2+0]=-a$,cu.normals[W0*2+1]=NI,cu.concave[W0]=LE*a$-rS*NI>0;let l$=Et.vertexIndices[Ko];if(Array.isArray(l$))cu.continuous[W0]=!1;else{let[pR,h$]=this._shape.getCurveIndexFromVertexId(l$-1,!0);if(h$>0&&h$<1)cu.continuous[W0]=!0;else{let w$=h$===1?pR+1:pR-1;w$=(w$+ao)%ao;let E$=h$===1?0:1,Vx=this._shape.roundedCurves[pR].getTangent(h$),b0=this._shape.roundedCurves[w$].getTangent(E$);cu.continuous[W0]=Vx.dot(b0)>.95}}un&&(cu.normals[W0*2+0]*=-1,cu.normals[W0*2+1]*=-1),[ru,Ko,Tn]=[Ko,Tn,Tn+1],Tn>=Il&&(Tn-=lo)}while(Tn!==kn+1);let uu=[];uu.push({bevelI:0,angle:0,size:0,boundary:{vertices:Et.vertices.slice(kn*2,Il*2),vertexCount:lo,vertexIndices:new Array(lo).fill(!0).map((W0,l1)=>[l1,l1]),elements:[0,lo],elementCount:1,mesh:null},reverseMap:[],insetPoints:Et.vertices.slice(kn*2,Il*2)});let hu=0;for(let W0=1;W0<=this._bevelSegments;W0++){let l1=W0/this._bevelSegments*Math.PI/2,X1=(1-Math.cos(l1))*this._bevel,kI=[],q1=[],UE=0;for(let LE=0;LE<lo;LE++){let rS=LE*2,gD=(LE-1+lo)%lo*2,NI=Et.vertices[cu.start*2+rS+0],a$=Et.vertices[cu.start*2+rS+1],x$=-cu.normals[gD+0]*X1,l$=-cu.normals[gD+1]*X1,pR=-cu.normals[rS+0]*X1,h$=-cu.normals[rS+1]*X1;if(cu.concave[LE]||!cu.concave[LE]&&un){let w$=Math.atan2(l$,x$),E$=Math.atan2(h$,pR);E$>w$&&(E$-=Math.PI*2);let Vx=E$-w$;if(cu.continuous[LE]||un){let b0=w$+Vx/2,o$=Math.cos(b0)*X1,m$=Math.sin(b0)*X1;kI[2*UE+0]=NI+o$*(un?-1:1),kI[2*UE+1]=a$+m$*(un?-1:1),q1[UE]=LE,UE++}else{let b0=Math.max(1,Math.floor(j/4*Math.abs(Vx)/Math.PI));for(let o$=0;o$<=b0;o$++){let m$=w$+Vx*(o$/b0),t0=Math.cos(m$)*X1,_$=Math.sin(m$)*X1;kI[2*UE+0]=NI+t0,kI[2*UE+1]=a$+_$,q1[UE]=LE,UE++}}}else kI[2*UE+0]=NI+x$,kI[2*UE+1]=a$+l$,q1[UE]=LE,UE++,kI[2*UE+0]=NI,kI[2*UE+1]=a$,q1[UE]=LE,UE++,kI[2*UE+0]=NI+pR,kI[2*UE+1]=a$+h$,q1[UE]=LE,UE++}let a1=Ws({windingRule:zt.POSITIVE,elementType:jr$1.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[kI],edgeCreateCallback:LE=>{let rS=LE.Org.idx,gD=q1[rS],NI=q1[(rS+1)%q1.length];LE.idx=[gD,NI],LE.Sym.idx=[NI,gD]},vertexIdCallback:LE=>{let rS=LE.Lprev.idx;return[rS?rS[1]:0,LE.idx?LE.idx[0]:0]}});if(!a1)throw console.log("Error"),new Error(`error generating bevel geometry for ${W0}'th loop`);if(!a1.vertexCount){let LE=(W0-1)/this._bevelSegments*Math.PI/2;hu=(1-Math.sin(LE))*this._bevel;break}for(let LE=0;LE<a1.vertexIndices.length;LE++){let[rS,gD]=a1.vertexIndices[LE];if(rS===gD)continue;let NI=gD;gD<rS&&(NI+=lo);for(let a$=rS;a$<NI;a$++){let x$=a$%lo,l$=(a$+1)%lo;if(!cu.continuous[x$]||!cu.continuous[l$]){a1.vertexIndices[LE]=[rS,x$],a1.vertexIndices.splice(LE+1,0,[l$,gD]),a1.vertices.splice((LE+1)*2,0,a1.vertices[LE*2],a1.vertices[LE*2+1]);break}}}uu.push({bevelI:W0,angle:l1,size:X1,boundary:a1,reverseMap:q1,insetPoints:kI})}let tA=(W0,l1,X1)=>{let kI=0,q1=W0.boundary.vertexIndices.length;for(;kI<q1&&X1(W0.boundary.vertexIndices[l1]);)l1=(l1+1)%q1,kI++;return kI},Sv=Gt.length;for(let W0=1;W0<uu.length;W0++){let l1=uu[W0-1],X1=uu[W0],kI=l1.boundary.vertexIndices.length,q1=X1.boundary.vertexIndices.length;if(!kI||!q1)break;let UE=cu.concave.length,a1=0,LE=EA(a1,lo);for(;!l1.boundary.vertexIndices.filter(LE).length||!X1.boundary.vertexIndices.filter(LE).length;)a1++,LE=EA(a1,lo);let rS=l1.boundary.vertexIndices.findIndex(LE),gD=X1.boundary.vertexIndices.findIndex(LE);do rS=(rS+1)%kI;while(LE(l1.boundary.vertexIndices[rS]));do gD=(gD+1)%q1;while(LE(X1.boundary.vertexIndices[gD]));a1=(a1+1)%lo;let NI=a1,a$=0,x$=this._buildBevelVert(cu,l1,(rS-1+kI)%kI,void 0,a$),l$=this._buildBevelVert(cu,X1,(gD-1+q1)%q1,void 0,a$),pR=x$,h$=l$,w$,E$,Vx=!1;do{a$=(a1||UE)/UE,LE=EA(a1,lo);let b0=tA(l1,rS,LE),o$=tA(X1,gD,LE),m$=Vx;if(Vx=!1,b0&&!o$){for(let t0=0;t0<b0;t0++)w$=this._buildBevelVert(cu,l1,(rS+t0)%kI,t0/(b0-1),a$),Gt.push(pR.topN,w$.topP,h$.topN),nt===!1&&Gt.push(w$.bottomP,pR.bottomN,h$.bottomN),pR=w$;Vx=!0}else if(!b0&&o$)for(let t0=0;t0<o$;t0++)E$=this._buildBevelVert(cu,X1,(gD+t0)%q1,t0/(o$-1),a$),Gt.push(h$.topN,pR.topP,E$.topP),nt===!1&&Gt.push(pR.bottomP,h$.bottomN,E$.bottomP),h$=E$;else if(b0&&o$)if(w$=this._buildBevelVert(cu,l1,rS,0,a$),E$=this._buildBevelVert(cu,X1,gD,0,a$),m$?(Gt.push(pR.topN,E$.topP,h$.topN),Gt.push(pR.topN,w$.topP,E$.topP),nt===!1&&(Gt.push(E$.bottomP,pR.bottomN,h$.bottomN),Gt.push(E$.bottomP,w$.bottomP,pR.bottomN))):(Gt.push(h$.topN,pR.topN,w$.topP),Gt.push(h$.topN,w$.topP,E$.topP),nt===!1&&(Gt.push(w$.bottomP,pR.bottomN,h$.bottomN),Gt.push(w$.bottomP,h$.bottomN,E$.bottomP))),pR=w$,h$=E$,b0===o$)for(let t0=1;t0<b0;t0++)w$=this._buildBevelVert(cu,l1,(rS+t0)%kI,t0/(b0-1),a$),E$=this._buildBevelVert(cu,X1,(gD+t0)%q1,t0/(o$-1),a$),Gt.push(pR.topN,w$.topP,h$.topN),Gt.push(h$.topN,w$.topP,E$.topP),nt===!1&&(Gt.push(w$.bottomP,pR.bottomN,h$.bottomN),Gt.push(w$.bottomP,h$.bottomN,E$.bottomP)),pR=w$,h$=E$;else if(b0>o$){let t0=b0/o$,_$=0;for(let D$=1;D$<b0;D$++)w$=this._buildBevelVert(cu,l1,(rS+D$)%kI,D$/(b0-1),a$),Gt.push(pR.topN,w$.topP,h$.topN),nt===!1&&Gt.push(w$.bottomP,pR.bottomN,h$.bottomN),pR=w$,D$>(_$+1)*t0&&(_$++,E$=this._buildBevelVert(cu,X1,(gD+_$)%q1,_$/(o$-1),a$),Gt.push(h$.topN,w$.topP,E$.topP),nt===!1&&Gt.push(w$.bottomP,h$.bottomN,E$.bottomP),h$=E$)}else{let t0=o$/b0,_$=0;for(let D$=1;D$<o$;D$++)E$=this._buildBevelVert(cu,X1,(gD+D$)%q1,D$/(o$-1),a$),Gt.push(h$.topN,w$.topP,E$.topP),nt===!1&&Gt.push(w$.bottomP,h$.bottomN,E$.bottomP),h$=E$,D$>(_$+1)*t0&&(_$++,w$=this._buildBevelVert(cu,l1,(rS+_$)%kI,_$/(b0-1),a$),Gt.push(pR.topN,w$.topP,h$.topN),nt===!1&&Gt.push(w$.bottomP,pR.bottomN,h$.bottomN),pR=w$)}rS=(rS+b0)%kI,gD=(gD+o$)%q1,a1=(a1+1)%UE}while(a1!==NI)}if(nt===!1&&this._depth>this._bevel*2&&this._buildWall(uu,cu,Gt),un){let W0=[];for(let l1=Gt.length-1;l1>=Sv+2;l1-=3){let X1=Gt[l1-2],kI=Gt[l1-1],q1=Gt[l1-0];W0.push(q1,kI,X1)}Gt.splice(Sv,Gt.length-Sv,...W0)}if(un){let W0=[];for(let l1=uu[uu.length-1].boundary.vertices.length-1;l1>=1;l1-=2){let X1=uu[uu.length-1].boundary.vertices[l1-1],kI=uu[uu.length-1].boundary.vertices[l1-0];W0.push(X1,kI)}dr.push(W0)}if(!un){let W0=uu[uu.length-1],l1;try{l1=Ws({windingRule:uu.length>1?zt.POSITIVE:zt.ODD,elementType:jr$1.POLYGONS,vertexSize:2,strict:!0,contours:[W0.insetPoints,...dr]})}catch{l1=TA}if(!l1)throw new Error("Error generating geometry for surface");At.length===0&&this._bevel<_t&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let X1=0;X1<l1.elementCount*3;X1+=3){let kI=this._buildSurfaceVert(l1,l1.elements[X1+0],hu),q1=this._buildSurfaceVert(l1,l1.elements[X1+1],hu),UE=this._buildSurfaceVert(l1,l1.elements[X1+2],hu);Gt.push(kI.top,q1.top,UE.top),nt===!1&&Gt.push(UE.bottom,q1.bottom,kI.bottom)}}this.vertexCache={}}this._buffer.shrink();let ts=new Xe(Uint32Array.from(Gt),1),es=new Xe(this._buffer.positions,3),ds=new Xe(this._buffer.normals,3),tn=new Xe(this._buffer.uvs,2);es.needsUpdate=!0,ds.needsUpdate=!0,tn.needsUpdate=!0,ts.needsUpdate=!0,this.setAttribute("position",es),this.setAttribute("normal",ds),this.setAttribute("uv",tn),this.setIndex(ts)}_computeBufferEstimatedSize(s){return s.vertexCount*2*(2+this._bevelSegments)}_buildWall(s,o,_){let j=s[0];for(let et=0,st=j.boundary.vertexCount;et<st;et++){let nt=this._buildBevelVert(o,j,et),ct=this._buildBevelVert(o,j,(et+1)%st);_.push(ct.topP,nt.topN,nt.bottomN),_.push(ct.topP,nt.bottomN,ct.bottomP)}}_buildSurfaceVert(s,o,_){let j=o.toString();if(j in this.vertexCache)return this.vertexCache[j];let et=s.vertices[o*2+0],st=s.vertices[o*2+1],nt=(et-this._minX)/this._width,ct=(st-this._minY)/this._height;this.forPathBevel&&(ct=1);let At=this._buffer.get(this.forPathBevel?1:2),mt=At*3,gt=At*2,_t={top:At+0,bottom:At+1};return this._buffer.positions[mt+0]=et,this._buffer.positions[mt+1]=st,this._buffer.positions[mt+2]=this.forPathBevel?this._bevel:this._depth-_,this._buffer.normals[mt+0]=0,this._buffer.normals[mt+1]=0,this._buffer.normals[mt+2]=1,this._buffer.uvs[gt+0]=nt,this._buffer.uvs[gt+1]=ct,this.forPathBevel===!1&&(this._buffer.positions[mt+3]=et,this._buffer.positions[mt+4]=st,this._buffer.positions[mt+5]=_,this._buffer.normals[mt+3]=0,this._buffer.normals[mt+4]=0,this._buffer.normals[mt+5]=-1,this._buffer.uvs[gt+2]=nt,this._buffer.uvs[gt+3]=ct),this.vertexCache[j]=_t,_t}_buildBevelVert(s,o,_,j=1,et){let st=`${o.bevelI}:${_}`;if(st in this.vertexCache&&et!==0&&et!==1&&(!et||et===this.vertexCache[st].pathBevelUCoord))return this.vertexCache[st];let[nt,ct]=o.boundary.vertexIndices[_],At,mt,gt,_t;nt!==ct?(mt=nt,At=ct,_t=!1,gt=s.continuous[mt]&&s.continuous[At]):(At=nt,mt=(At-1+s.count)%s.count,_t=s.concave[At]&&o.bevelI>0,gt=s.continuous[At]||_t);let Et=Math.cos(o.angle),Ct=Math.sin(o.angle),Bt=_*2,Dt=At*2,Ft=mt*2,Rt=o.boundary.vertices[Bt+0],Nt=o.boundary.vertices[Bt+1],Gt=(1-Ct)*this._bevel,dr=(Rt-this._minX)/this._width,ts=(Nt-this._minY)/this._height;this.forPathBevel&&(et!==void 0&&(dr=et),ts=1);let es=s.normals[Dt+0],ds=s.normals[Dt+1],tn=s.normals[Ft+0],rn=s.normals[Ft+1];if(_t){let Il=tn-es,cu=rn-ds;es=es+Il*(1-j),ds=ds+cu*(1-j);let Ko=Math.sqrt(es*es+ds*ds);es/=Ko,ds/=Ko}let un=this.forPathBevel?this._buffer.get(gt?1:2):this._buffer.get(gt?2:4),$n=un*3,kn=un*2,lo={i:_,fi:At,topP:un+0,topN:un+0,bottomP:un+1,bottomN:un+1,pathBevelUCoord:et};return this._buffer.positions[$n+0]=Rt,this._buffer.positions[$n+1]=Nt,this._buffer.positions[$n+2]=(this.forPathBevel?this._bevel:this._depth)-Gt,this._buffer.normals[$n+0]=es*Et,this._buffer.normals[$n+1]=ds*Et,this._buffer.normals[$n+2]=Ct,this._buffer.uvs[kn+0]=dr,this._buffer.uvs[kn+1]=ts,this.forPathBevel===!1&&(this._buffer.positions[$n+3]=Rt,this._buffer.positions[$n+4]=Nt,this._buffer.positions[$n+5]=Gt,this._buffer.normals[$n+3]=es*Et,this._buffer.normals[$n+4]=ds*Et,this._buffer.normals[$n+5]=-Ct,this._buffer.uvs[kn+2]=ts,this._buffer.uvs[kn+3]=dr),gt||(this.forPathBevel?(un+=1,$n+=3,kn+=2):(un+=2,$n+=6,kn+=4),lo.topP=un+0,lo.bottomP=un+1,this._buffer.positions[$n+0]=Rt,this._buffer.positions[$n+1]=Nt,this._buffer.positions[$n+2]=(this.forPathBevel?this._bevel:this._depth)-Gt,this._buffer.normals[$n+0]=tn*Et,this._buffer.normals[$n+1]=rn*Et,this._buffer.normals[$n+2]=Ct,this._buffer.uvs[kn+0]=dr,this._buffer.uvs[kn+1]=ts,this.forPathBevel===!1&&(this._buffer.positions[$n+3]=Rt,this._buffer.positions[$n+4]=Nt,this._buffer.positions[$n+5]=Gt,this._buffer.normals[$n+3]=tn*Et,this._buffer.normals[$n+4]=rn*Et,this._buffer.normals[$n+5]=-Ct,this._buffer.uvs[kn+2]=ts,this._buffer.uvs[kn+3]=dr)),this.vertexCache[st]=lo,lo}clone(){let s=new Ol(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return s.userData=fa(this.userData),s}},bd=class extends _e{constructor(s,o=12,_={}){super(),this.type="ShapeGeometry",this.windingRule=zt.ODD,this.elementType=jr$1.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=s,this._curveSegments=o,this._triangulationOptions=Object.assign({windingRule:zt.ODD,elementType:jr$1.POLYGONS,polySize:3,vertexSize:2,strict:!0},_);let j=this._shape.extractShapePointsToFlatArray([],this._curveSegments),et=this._shape.shapeHoles.map(Et=>Et.extractShapePointsToFlatArray([],this._curveSegments)),st,nt=!0,ct=!0,At,mt;for(let Et=0,Ct=j.length/2;Et<Ct;Et++){let Bt=Et*2,Dt=j[Bt+0],Ft=j[Bt+1];if(At!==void 0&&Dt!==At&&(nt=!1),mt!==void 0&&Ft!==mt&&(ct=!1),At=Dt,mt=Ft,!nt&&!ct)break}if(!nt&&!ct)try{st=Ws({contours:[j,...et],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{st=sm}let gt=(st==null?void 0:st.vertexCount)??1,_t=(st==null?void 0:st.elementCount)??1;if(this._positionAttribute=new Xe(new Float32Array(gt*3),3),this._normalAttribute=new Xe(new Float32Array(gt*3),3),this._uvAttribute=new Xe(new Float32Array(gt*2),2),this._indexAttribute=new Xe(new Uint32Array(_t*3),1),st){let Et=1/0,Ct=-1/0,Bt=1/0,Dt=-1/0;for(let Nt=0,Gt=gt;Nt<Gt;Nt++){let dr=Nt*2,ts=st.vertices[dr+0],es=st.vertices[dr+1];ts<Et&&(Et=ts),ts>Ct&&(Ct=ts),es<Bt&&(Bt=es),es>Dt&&(Dt=es)}let Ft=Ct-Et,Rt=Dt-Bt;for(let Nt=0,Gt=gt;Nt<Gt;Nt++){let dr=Nt*2,ts=st.vertices[dr+0],es=st.vertices[dr+1],ds=(ts-Et)/Ft,tn=(es-Bt)/Rt;this._positionAttribute.setXYZ(Nt,ts,es,0),this._normalAttribute.setXYZ(Nt,0,0,1),this._uvAttribute.setXY(Nt,ds,tn)}for(let Nt=0,Gt=_t;Nt<Gt;Nt++){let dr=Nt*3,ts=st.elements[dr+0],es=st.elements[dr+1],ds=st.elements[dr+2];this._indexAttribute.setX(dr+0,ts),this._indexAttribute.setX(dr+1,es),this._indexAttribute.setX(dr+2,ds)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((st==null?void 0:st.elementCount)??1)*3)}clone(){let s=new bd(this._shape,this._curveSegments);return s.userData=fa(this.userData),s}},Sd=class extends Ol{constructor(s,o,_=0,j=12,et=3,st=zt.ODD){super(s,o,_,j,et,st),this.type="ShapeGeometry"}_computeBufferEstimatedSize(s){return s.vertexCount*2*(2+this._bevelSegments)}_buildWall(s,o,_){let j=s[0];for(let et=0,st=j.boundary.vertexCount;et<st;et++){let nt=this._buildBevelVert(o,j,et),ct=this._buildBevelVert(o,j,(et+1)%st);_.push(ct.topP,nt.topN,nt.bottomN),_.push(ct.topP,nt.bottomN,ct.bottomP)}}clone(){let s=new Sd(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return s.userData=fa(this.userData),s}},Rn=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){var mt,gt;let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:zt.ODD},s.parameters),j=Math.abs(_.width),et=Math.abs(_.height??_.width),st=Math.abs(_.depth??0),nt=s.shape??(o==null?void 0:o.shape),ct=(nt==null?void 0:nt.roundness)??_.roundness;nt!==void 0&&(nt instanceof qt?(nt.width!==j||nt.height!==et)&&nt.applySize(j,et):nt=new qt(j,et).fromJSON(nt),((mt=s.parameters)==null?void 0:mt.roundness)!==void 0&&((gt=s.parameters)==null?void 0:gt.roundness)>0&&nt.update());let At=nt??new qt(j,et);return{parameters:Object.assign(_,{width:j,height:et,depth:st,roundness:ct}),shape:At}}static build(s){let{depth:o,extrudeBevelSize:_,extrudeBevelSegments:j,subdivisions:et,roundness:st,windingRule:nt}=s.parameters;s.shape.roundness=st;let ct;return o<=0?ct=new bd(s.shape,et,{windingRule:nt}):ct=new Sd(s.shape,o,_,et,j,nt),Object.assign(ct,{userData:{...s,type:"VectorGeometry"}})}},xO=Math.PI*2,Ad=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},s.parameters);return _.angle=we.clamp(_.angle,0,360),{shape:s.shape&&s.shape instanceof qt?s.shape:new qt,parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??0)})}}static build(s){let{width:o,height:_,spikes:j,angle:et,innerRadius:st,depth:nt,extrudeBevelSize:ct,extrudeBevelSegments:At}=s.parameters,mt=s.shape,gt=o*.5,_t=_*.5,Et=O7(mt,gt,_t,et*Math.PI/180,j,st);mt.isClosed=!0,mt.update();let Ct;return et===0?(Ct=new _e,Ct.setAttribute("position",new Me([],3))):Ct=Rn.create({shape:mt,parameters:{subdivisions:Et,depth:nt,extrudeBevelSize:ct,extrudeBevelSegments:At}}),Object.assign(Ct,{userData:{...s,type:"EllipseGeometry"}})}};function O7(s,o,_,j,et,st){if(j>=xO)return et>30||et%4===0?(L7(s,o,_,st),Math.round(et/4)):vO(s,j,et,o,_,st);j=Math.max(j,.001);let nt={x:0,y:_},ct=j+Math.PI*.5,At={x:Math.cos(ct)*o,y:Math.sin(ct)*_},mt=cO({px:nt.x,py:nt.y,cx:At.x,cy:At.y,rx:o,ry:_,largeArcFlag:j>Math.PI,sweepFlag:!0});return et>30||et%mt.length===0?R7(s,nt.x,nt.y,mt,et,o,_,st):vO(s,j,et,o,_,st)}function R7(s,o,_,j,et,st,nt,ct){let At=Math.round(et/j.length);s.addPoint(wd(o,_));for(let mt=0,gt=j.length;mt<gt;mt++){let _t=j[mt],Et=s.points[mt],Ct=wd(_t.x,_t.y);Et.controls[1].position.set(_t.x1,_t.y1),Ct.controls[0].position.set(_t.x2,_t.y2),s.addPoint(Ct)}return ct>0?bO(s,st,nt,ct):s.addPoint(wd(0,0)),At}function vO(s,o,_,j,et,st){let nt=-o/_;for(let ct=0;ct<=_;ct++){let At=nt*ct,mt=Math.sin(At)*j,gt=Math.cos(At)*et;s.addPoint(wd(mt,gt))}return o<xO?st>0?bO(s,j,et,st):s.addPoint(wd(0,0)):(s.removePoint(s.points[s.points.length-1]),st>0&&SO(s,j,et,st)),1}function L7(s,o,_,j=0,et=0,st=0){let nt=.5522847498,ct=o*nt,At=_*nt;s.addPoint(S0(et-o,st,et-o,st-At,et-o,st+At)),s.addPoint(S0(et,st+_,et-ct,st+_,et+ct,st+_)),s.addPoint(S0(et+o,st,et+o,st+At,et+o,st-At)),s.addPoint(S0(et,st-_,et+ct,st-_,et-ct,st-_)),j>0&&SO(s,o,_,j)}function wd(s,o){return new Hs(we.generateUUID(),new U$1(s,o))}function S0(s,o,_,j,et,st){let nt=wd(s,o);return nt.controls[0].position.set(_,j),nt.controls[1].position.set(et,st),nt}function bO(s,o,_,j){wO(s,o,_,j).forEach(et=>s.addPoint(et))}function SO(s,o,_,j){let et=wO(s,o,_,j),st=new qt;et.forEach(nt=>st.addPoint(nt)),st.isClosed=!0,s.shapeHoles.push(st)}function wO(s,o,_,j){let et=j*o/100,st=et*(Math.abs(_)/Math.abs(o)),nt=new U$1(et/o,st/_),ct=s.points.map(At=>{let mt=At.clone();return mt.uuid=we.generateUUID(),mt}).reverse();return ct.forEach(At=>{At.position.multiply(nt);let mt=At.controls[0].position.clone().multiply(nt),gt=At.controls[1].position.clone().multiply(nt);At.controls[0].position.copy(gt),At.controls[1].position.copy(mt)}),ct}var AO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},s.parameters),j=Math.abs(_.width),et=Math.abs(_.height??j),st=Math.abs(_.depth??j),nt=Math.abs(Math.min(j,st))/2;return{parameters:Object.assign(_,{width:j,height:et,depth:st,radius:nt,segments:Math.round(_.segments),pathSegments:Math.round(_.pathSegments),cornerSegments:Math.round(_.cornerSegments)})}}static build(s){let{width:o,height:_,depth:j,radius:et,revolutions:st,segments:nt,pathRadius:ct,pathType:At,pathSegments:mt,cornerRadius:gt,cornerSegments:_t}=s.parameters,Et=new om(!1,o,_,j,et,st,nt,ct,At,mt,gt,_t);return Object.assign(Et,{userData:{...s,type:"HelixGeometry"}})}},CA=new ho([0,0,0],1),om=class extends _e{constructor(s=!0,o=1,_=1,j=1,et=1,st=1,nt=1,ct=1,At=1,mt=1,gt=1,_t=1){if(super(),st===0)return;let Et=s&&st===1;Et&&(_t=0),gt>100&&(gt=100),gt===0&&(_t=0);let Ct=()=>new E$2,Bt=new E$2,Dt=Ct(),Ft=Ct(),Rt=Ct(),Nt,Gt,dr,ts,es,ds,tn,rn,un=Ct(),$n=Ct(),kn=Ct(),lo=Ct(),Il=Ct(),cu=Ct(),Ko=Ct(),ru=Ct(),Tn=_-2*ct+.001,ao=Tn/st,uu=Math.ceil(nt*st),hu=uu+1,tA=Tn/uu,Sv=-Tn/2,W0=mt+1,l1=2*Math.PI/mt,X1=Math.PI/2/_t,kI=.01,q1=Math.min((1-gt/100)*ct,ct-kI),UE=ct-q1,a1=0,LE=2,rS=_t*LE+LE,gD=W0*rS/LE,NI=gD+W0*hu,a$=Math.max(0,W0*(hu+rS)),[x$,l$,pR]=[3,3,2].map(p$=>Array(a$*p$).fill(0)),h$=[],w$=et-ct;function E$(p$,F$){let R$=Math.PI/2;ds=F$*tA,rn=2*Math.PI*(ds%ao)/ao+R$,ds+=Sv,tn=Math.sin(rn)*w$,es=Math.cos(rn)*w$,s?p$.set(es,tn,ds):p$.set(es,ds,tn)}E$(Bt,-1e-10),E$(Dt,0),un.copy(Bt),E$(Bt,1);let Vx=Bt.distanceTo(Dt),b0=Et?0:UE+q1,o$=Vx*uu+2*b0,m$=q1,t0=o$-b0;for(let p$=0;p$<=uu;p$++){E$(Ft,p$),ru.subVectors(Ft,un).normalize(),un.copy(Ft),cu.copy(Ft).setComponent(+s+1,0).normalize(),Ko.crossVectors(ru,cu).normalize();let F$=p$===0,R$=p$===uu,O$=F$?3*Math.PI/2:X1,j$=F$?m$:t0,U$=F$?W0:NI,z$=F$?0:a$-W0,kQ=ru.clone().multiplyScalar(F$?-UE:UE).add(Ft),YQ=ru.clone().multiplyScalar(F$?-1:1).normalize();for(let mO=0;mO<W0;mO++){let f$=mO*l1;if($n.addVectors(Bt.copy(cu).multiplyScalar(ct*Math.cos(f$)),Dt.copy(Ko).multiplyScalar(ct*Math.sin(f$))),kn.copy($n).normalize(),F$||R$){Et||(a1=z$+mO,[0,1,2].forEach(b$=>{x$[a1*3+b$]=kQ.getComponent(b$),l$[a1*3+b$]=YQ.getComponent(b$)}),pR[a1*2]=+R$,pR[a1*2+1]=mO/mt),Dt.copy(kn).multiplyScalar(q1),Rt.addVectors(Ft,Dt);for(let b$=0;b$<_t;b$++){let I$=b$*X1+O$;lo.addVectors(Bt.copy(ru).multiplyScalar(UE*Math.sin(I$)),Dt.copy(kn).multiplyScalar(UE*Math.cos(I$))),Il.copy(lo).normalize(),Dt.addVectors(Rt,lo),lo.normalize(),a1=U$+b$*W0+mO,[0,1,2].forEach(X$=>{x$[a1*3+X$]=Dt.getComponent(X$),l$[a1*3+X$]=Il.getComponent(X$)});let V$=+F$+Math.sin(I$);pR[a1*2]=(j$+UE*V$)/o$,pR[a1*2+1]=mO/mt}}Dt.addVectors(Ft,$n),a1=gD+p$*W0+mO,[0,1,2].forEach(b$=>{x$[a1*3+b$]=Dt.getComponent(b$),l$[a1*3+b$]=kn.getComponent(b$)}),pR[a1*2]=(b0+p$*Vx)/o$,pR[a1*2+1]=mO/mt}}let _$=hu+2*_t+LE,[D$,M$]=[+Et,_$-1];for(let p$=D$;p$<=M$-1;p$++){let F$=Et&&p$===M$-1;for(let R$=0;R$<W0-1;R$++)Nt=p$*W0+R$,Gt=Nt+1,dr=(F$?R$:Nt)+W0,ts=(F$?R$+1:Gt)+W0,p$===0?h$.push(Gt,ts,dr):p$===_$-2?h$.push(Nt,Gt,dr):h$.push(Nt,Gt,dr,Gt,ts,dr)}this.setIndex(h$),this.setAttribute("position",new Me(x$,3)),this.setAttribute("normal",new Me(l$,3)),this.setAttribute("uv",new Me(pR,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let s=this.userData.parameters,o=Math.ceil(s.tubularSegments),_=s.radialSegments+1,j=Array.from(this.getIndex().array),et,st,nt,ct,At=6*(o-1)*s.radialSegments,mt=o,gt=mt===o;for(let _t=0;_t<s.radialSegments;_t++)et=mt*_+_t,st=et+1,nt=(gt?_t:et)+_,ct=(gt?_t+1:st)+_,j[At++]=et,j[At++]=st,j[At++]=nt,j[At++]=st,j[At++]=ct,j[At++]=nt;return j.length=At,CA.array=j,CA.count=j.length,CA}},EO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,detail:0,corner:0,cornerSides:4},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,height:_,depth:j,detail:et,corner:st,cornerSides:nt}=s.parameters,ct=et===0&&st!==0?new am(o*.5,st,nt):new zu(o*.5,et);return ct.scale(1,_/o,j/o),Object.assign(ct,{userData:{...s,type:"IcosahedronGeometry"}})}},am=class extends _l{constructor(s=1,o=.2,_=4){let j=(1+Math.sqrt(5))/2,et=[-1,j,0,1,j,0,-1,-j,0,1,-j,0,0,-1,j,0,1,j,0,-1,-j,0,1,-j,j,0,-1,j,0,1,-j,0,-1,-j,0,1],st=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],nt="IcosahedronGeometry";super(et,st,nt,s,o,_),this.type=nt}static fromJSON(s){return new am(s.radius,s.corner,s.cornerSides)}},MO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){var j;(((j=s.parameters)==null?void 0:j.points)??[]).forEach(et=>{Array.isArray(et)&&(et.x=et[0],et.y=et[1])});let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{points:o,segments:_,verticalSegments:j}=s.parameters,et=new aa;et.moveTo(o[0].x,o[0].y),et.bezierCurveTo(o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y);let st=new Nu(et.extractPoints(j).shape,_);return st.rotateZ(Math.PI),Object.assign(st,{userData:{...s,type:"LatheGeometry"}})}},Io=new ue$2,PA=new Mt,w0=new E$2,Rl=class extends pr{constructor(){super(),this.uuid=we.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(s){let o=new fr$7().getNormalMatrix(s);for(let _=0,j=this.vertices.length;_<j;_++)this.vertices[_].applyMatrix4(s);for(let _=0,j=this.faces.length;_<j;_++){let et=this.faces[_];et.normal.applyMatrix3(o).normalize();for(let st=0,nt=et.vertexNormals.length;st<nt;st++)et.vertexNormals[st].applyMatrix3(o).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(s){return Io.makeRotationX(s),this.applyMatrix4(Io),this}rotateY(s){return Io.makeRotationY(s),this.applyMatrix4(Io),this}rotateZ(s){return Io.makeRotationZ(s),this.applyMatrix4(Io),this}translate(s,o,_){return Io.makeTranslation(s,o,_),this.applyMatrix4(Io),this}scale(s,o,_){return Io.makeScale(s,o,_),this.applyMatrix4(Io),this}lookAt(s){return PA.lookAt(s),PA.updateMatrix(),this.applyMatrix4(PA.matrix),this}fromBufferGeometry(s){let o=this,_=s.index!==null?s.index:void 0,j=s.attributes;if(j.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let et=j.position,st=j.normal,nt=j.color,ct=j.uv,At=j.uv2;At!==void 0&&(this.faceVertexUvs[1]=[]);for(let _t=0;_t<et.count;_t++)o.vertices.push(new E$2().fromBufferAttribute(et,_t)),nt!==void 0&&o.colors.push(new We().fromBufferAttribute(nt,_t));function mt(_t,Et,Ct,Bt){let Dt=nt===void 0?[]:[o.colors[_t].clone(),o.colors[Et].clone(),o.colors[Ct].clone()],Ft=st===void 0?[]:[new E$2().fromBufferAttribute(st,_t),new E$2().fromBufferAttribute(st,Et),new E$2().fromBufferAttribute(st,Ct)],Rt=new Ed(_t,Et,Ct,Ft,Dt,Bt);o.faces.push(Rt),ct!==void 0&&o.faceVertexUvs[0].push([new U$1().fromBufferAttribute(ct,_t),new U$1().fromBufferAttribute(ct,Et),new U$1().fromBufferAttribute(ct,Ct)]),At!==void 0&&o.faceVertexUvs[1].push([new U$1().fromBufferAttribute(At,_t),new U$1().fromBufferAttribute(At,Et),new U$1().fromBufferAttribute(At,Ct)])}let gt=s.groups;if(gt.length>0)for(let _t=0;_t<gt.length;_t++){let Et=gt[_t],Ct=Et.start,Bt=Et.count;for(let Dt=Ct,Ft=Ct+Bt;Dt<Ft;Dt+=3)_!==void 0?mt(_.getX(Dt),_.getX(Dt+1),_.getX(Dt+2),Et.materialIndex):mt(Dt,Dt+1,Dt+2,Et.materialIndex)}else if(_!==void 0)for(let _t=0;_t<_.count;_t+=3)mt(_.getX(_t),_.getX(_t+1),_.getX(_t+2));else for(let _t=0;_t<et.count;_t+=3)mt(_t,_t+1,_t+2);return this.computeFaceNormals(),s.boundingBox!==null&&(this.boundingBox=s.boundingBox.clone()),s.boundingSphere!==null&&(this.boundingSphere=s.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(w0).negate(),this.translate(w0.x,w0.y,w0.z),this}normalize(){this.computeBoundingSphere();let s=this.boundingSphere.center,o=this.boundingSphere.radius,_=o===0?1:1/o,j=new ue$2;return j.set(_,0,0,-_*s.x,0,_,0,-_*s.y,0,0,_,-_*s.z,0,0,0,1),this.applyMatrix4(j),this}computeFaceNormals(){let s=new E$2,o=new E$2;for(let _=0,j=this.faces.length;_<j;_++){let et=this.faces[_],st=this.vertices[et.a],nt=this.vertices[et.b],ct=this.vertices[et.c];s.subVectors(ct,nt),o.subVectors(st,nt),s.cross(o),s.normalize(),et.normal.copy(s)}}computeVertexNormals(s=!0){let o=new Array(this.vertices.length);for(let _=0,j=this.vertices.length;_<j;_++)o[_]=new E$2;if(s){let _=new E$2,j=new E$2;for(let et=0,st=this.faces.length;et<st;et++){let nt=this.faces[et],ct=this.vertices[nt.a],At=this.vertices[nt.b],mt=this.vertices[nt.c];_.subVectors(mt,At),j.subVectors(ct,At),_.cross(j),o[nt.a].add(_),o[nt.b].add(_),o[nt.c].add(_)}}else{this.computeFaceNormals();for(let _=0,j=this.faces.length;_<j;_++){let et=this.faces[_];o[et.a].add(et.normal),o[et.b].add(et.normal),o[et.c].add(et.normal)}}for(let _=0,j=this.vertices.length;_<j;_++)o[_].normalize();for(let _=0,j=this.faces.length;_<j;_++){let et=this.faces[_],st=et.vertexNormals;st.length===3?(st[0].copy(o[et.a]),st[1].copy(o[et.b]),st[2].copy(o[et.c])):(st[0]=o[et.a].clone(),st[1]=o[et.b].clone(),st[2]=o[et.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let s=0,o=this.faces.length;s<o;s++){let _=this.faces[s],j=_.vertexNormals;j.length===3?(j[0].copy(_.normal),j[1].copy(_.normal),j[2].copy(_.normal)):(j[0]=_.normal.clone(),j[1]=_.normal.clone(),j[2]=_.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let o=0,_=this.faces.length;o<_;o++){let j=this.faces[o];j.__originalFaceNormal?j.__originalFaceNormal.copy(j.normal):j.__originalFaceNormal=j.normal.clone(),j.__originalVertexNormals||(j.__originalVertexNormals=[]);for(let et=0,st=j.vertexNormals.length;et<st;et++)j.__originalVertexNormals[et]?j.__originalVertexNormals[et].copy(j.vertexNormals[et]):j.__originalVertexNormals[et]=j.vertexNormals[et].clone()}let s=new Rl;s.faces=this.faces;for(let o=0,_=this.morphTargets.length;o<_;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];let et=this.morphNormals[o].faceNormals,st=this.morphNormals[o].vertexNormals;for(let nt=0,ct=this.faces.length;nt<ct;nt++){let At=new E$2,mt={a:new E$2,b:new E$2,c:new E$2};et.push(At),st.push(mt)}}let j=this.morphNormals[o];s.vertices=this.morphTargets[o].vertices,s.computeFaceNormals(),s.computeVertexNormals();for(let et=0,st=this.faces.length;et<st;et++){let nt=this.faces[et],ct=j.faceNormals[et],At=j.vertexNormals[et];ct.copy(nt.normal),At.a.copy(nt.vertexNormals[0]),At.b.copy(nt.vertexNormals[1]),At.c.copy(nt.vertexNormals[2])}}for(let o=0,_=this.faces.length;o<_;o++){let j=this.faces[o];j.normal=j.__originalFaceNormal,j.vertexNormals=j.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jt),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or$1),this.boundingSphere.setFromPoints(this.vertices)}merge(s,o,_=0){if(!(s&&s.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",s);return}let j,et=this.vertices.length,st=this.vertices,nt=s.vertices,ct=this.faces,At=s.faces,mt=this.colors,gt=s.colors;o!==void 0&&(j=new fr$7().getNormalMatrix(o));for(let _t=0,Et=nt.length;_t<Et;_t++){let Ct=nt[_t].clone();o!==void 0&&Ct.applyMatrix4(o),st.push(Ct)}for(let _t=0,Et=gt.length;_t<Et;_t++)mt.push(gt[_t].clone());for(let _t=0,Et=At.length;_t<Et;_t++){let Ct=At[_t],Bt,Dt,Ft=Ct.vertexNormals,Rt=Ct.vertexColors,Nt=new Ed(Ct.a+et,Ct.b+et,Ct.c+et);Nt.normal.copy(Ct.normal),j!==void 0&&Nt.normal.applyMatrix3(j).normalize();for(let Gt=0,dr=Ft.length;Gt<dr;Gt++)Bt=Ft[Gt].clone(),j!==void 0&&Bt.applyMatrix3(j).normalize(),Nt.vertexNormals.push(Bt);Nt.color.copy(Ct.color);for(let Gt=0,dr=Rt.length;Gt<dr;Gt++)Dt=Rt[Gt],Nt.vertexColors.push(Dt.clone());Nt.materialIndex=Ct.materialIndex+_,ct.push(Nt)}for(let _t=0,Et=s.faceVertexUvs.length;_t<Et;_t++){let Ct=s.faceVertexUvs[_t];this.faceVertexUvs[_t]===void 0&&(this.faceVertexUvs[_t]=[]);for(let Bt=0,Dt=Ct.length;Bt<Dt;Bt++){let Ft=Ct[Bt],Rt=[];for(let Nt=0,Gt=Ft.length;Nt<Gt;Nt++)Rt.push(Ft[Nt].clone());this.faceVertexUvs[_t].push(Rt)}}}mergeMesh(s){if(!(s&&s.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",s);return}s.matrixAutoUpdate&&s.updateMatrix(),this.merge(s.geometry,s.matrix)}mergeVertices(s=4){let o={},_=[],j=[],et=Math.pow(10,s);for(let ct=0,At=this.vertices.length;ct<At;ct++){let mt=this.vertices[ct],gt=Math.round(mt.x*et)+"_"+Math.round(mt.y*et)+"_"+Math.round(mt.z*et);o[gt]===void 0?(o[gt]=ct,_.push(this.vertices[ct]),j[ct]=_.length-1):j[ct]=j[o[gt]]}let st=[];for(let ct=0,At=this.faces.length;ct<At;ct++){let mt=this.faces[ct];mt.a=j[mt.a],mt.b=j[mt.b],mt.c=j[mt.c];let gt=[mt.a,mt.b,mt.c];for(let _t=0;_t<3;_t++)if(gt[_t]===gt[(_t+1)%3]){st.push(ct);break}}for(let ct=st.length-1;ct>=0;ct--){let At=st[ct];this.faces.splice(At,1);for(let mt=0,gt=this.faceVertexUvs.length;mt<gt;mt++)this.faceVertexUvs[mt].splice(At,1)}let nt=this.vertices.length-_.length;return this.vertices=_,nt}setFromPoints(s){this.vertices=[];for(let o=0,_=s.length;o<_;o++){let j=s[o];this.vertices.push(new E$2(j.x,j.y,j.z||0))}return this}sortFacesByMaterialIndex(){let s=this.faces,o=s.length;for(let ct=0;ct<o;ct++)s[ct]._id=ct;function _(ct,At){return ct.materialIndex-At.materialIndex}s.sort(_);let j=this.faceVertexUvs[0],et=this.faceVertexUvs[1],st,nt;j&&j.length===o&&(st=[]),et&&et.length===o&&(nt=[]);for(let ct=0;ct<o;ct++){let At=s[ct]._id;st&&st.push(j[At]),nt&&nt.push(et[At])}st&&(this.faceVertexUvs[0]=st),nt&&(this.faceVertexUvs[1]=nt)}toJSON(){let s={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.parameters!==void 0){let Ct=this.parameters;for(let Bt in Ct)Ct[Bt]!==void 0&&(s[Bt]=Ct[Bt]);return s}let o=[];for(let Ct=0;Ct<this.vertices.length;Ct++){let Bt=this.vertices[Ct];o.push(Bt.x,Bt.y,Bt.z)}let _=[],j=[],et={},st=[],nt={},ct=[],At={};for(let Ct=0;Ct<this.faces.length;Ct++){let Bt=this.faces[Ct],Dt=!0,Ft=!1,Rt=this.faceVertexUvs[0][Ct]!==void 0,Nt=Bt.normal.length()>0,Gt=Bt.vertexNormals.length>0,dr=Bt.color.r!==1||Bt.color.g!==1||Bt.color.b!==1,ts=Bt.vertexColors.length>0,es=0;if(es=mt(es,0,0),es=mt(es,1,Dt),es=mt(es,2,Ft),es=mt(es,3,Rt),es=mt(es,4,Nt),es=mt(es,5,Gt),es=mt(es,6,dr),es=mt(es,7,ts),_.push(es),_.push(Bt.a,Bt.b,Bt.c),_.push(Bt.materialIndex),Rt){let ds=this.faceVertexUvs[0][Ct];_.push(Et(ds[0]),Et(ds[1]),Et(ds[2]))}if(Nt&&_.push(gt(Bt.normal)),Gt){let ds=Bt.vertexNormals;_.push(gt(ds[0]),gt(ds[1]),gt(ds[2]))}if(dr&&_.push(_t(Bt.color)),ts){let ds=Bt.vertexColors;_.push(_t(ds[0]),_t(ds[1]),_t(ds[2]))}}function mt(Ct,Bt,Dt){return Dt?Ct|1<<Bt:Ct&~(1<<Bt)}function gt(Ct){let Bt=Ct.x.toString()+Ct.y.toString()+Ct.z.toString();return et[Bt]!==void 0||(et[Bt]=j.length/3,j.push(Ct.x,Ct.y,Ct.z)),et[Bt]}function _t(Ct){let Bt=Ct.r.toString()+Ct.g.toString()+Ct.b.toString();return nt[Bt]!==void 0||(nt[Bt]=st.length,st.push(Ct.getHex())),nt[Bt]}function Et(Ct){let Bt=Ct.x.toString()+Ct.y.toString();return At[Bt]!==void 0||(At[Bt]=ct.length/2,ct.push(Ct.x,Ct.y)),At[Bt]}return s.data={},s.data.vertices=o,s.data.normals=j,st.length>0&&(s.data.colors=st),ct.length>0&&(s.data.uvs=[ct]),s.data.faces=_,s}clone(){return new Rl().copy(this)}copy(s){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=s.name;let o=s.vertices;for(let _t=0,Et=o.length;_t<Et;_t++)this.vertices.push(o[_t].clone());let _=s.colors;for(let _t=0,Et=_.length;_t<Et;_t++)this.colors.push(_[_t].clone());let j=s.faces;for(let _t=0,Et=j.length;_t<Et;_t++)this.faces.push(j[_t].clone());for(let _t=0,Et=s.faceVertexUvs.length;_t<Et;_t++){let Ct=s.faceVertexUvs[_t];this.faceVertexUvs[_t]===void 0&&(this.faceVertexUvs[_t]=[]);for(let Bt=0,Dt=Ct.length;Bt<Dt;Bt++){let Ft=Ct[Bt],Rt=[];for(let Nt=0,Gt=Ft.length;Nt<Gt;Nt++){let dr=Ft[Nt];Rt.push(dr.clone())}this.faceVertexUvs[_t].push(Rt)}}let et=s.morphTargets;for(let _t=0,Et=et.length;_t<Et;_t++){let Ct={};if(Ct.name=et[_t].name,et[_t].vertices!==void 0){Ct.vertices=[];for(let Bt=0,Dt=et[_t].vertices.length;Bt<Dt;Bt++)Ct.vertices.push(et[_t].vertices[Bt].clone())}if(et[_t].normals!==void 0){Ct.normals=[];for(let Bt=0,Dt=et[_t].normals.length;Bt<Dt;Bt++)Ct.normals.push(et[_t].normals[Bt].clone())}this.morphTargets.push(Ct)}let st=s.morphNormals;for(let _t=0,Et=st.length;_t<Et;_t++){let Ct={};if(st[_t].vertexNormals!==void 0){Ct.vertexNormals=[];for(let Bt=0,Dt=st[_t].vertexNormals.length;Bt<Dt;Bt++){let Ft=st[_t].vertexNormals[Bt],Rt={};Rt.a=Ft.a.clone(),Rt.b=Ft.b.clone(),Rt.c=Ft.c.clone(),Ct.vertexNormals.push(Rt)}}if(st[_t].faceNormals!==void 0){Ct.faceNormals=[];for(let Bt=0,Dt=st[_t].faceNormals.length;Bt<Dt;Bt++)Ct.faceNormals.push(st[_t].faceNormals[Bt].clone())}this.morphNormals.push(Ct)}let nt=s.skinWeights;for(let _t=0,Et=nt.length;_t<Et;_t++)this.skinWeights.push(nt[_t].clone());let ct=s.skinIndices;for(let _t=0,Et=ct.length;_t<Et;_t++)this.skinIndices.push(ct[_t].clone());let At=s.lineDistances;for(let _t=0,Et=At.length;_t<Et;_t++)this.lineDistances.push(At[_t]);let mt=s.boundingBox;mt!==null&&(this.boundingBox=mt.clone());let gt=s.boundingSphere;return gt!==null&&(this.boundingSphere=gt.clone()),this.elementsNeedUpdate=s.elementsNeedUpdate,this.verticesNeedUpdate=s.verticesNeedUpdate,this.uvsNeedUpdate=s.uvsNeedUpdate,this.normalsNeedUpdate=s.normalsNeedUpdate,this.colorsNeedUpdate=s.colorsNeedUpdate,this.lineDistancesNeedUpdate=s.lineDistancesNeedUpdate,this.groupsNeedUpdate=s.groupsNeedUpdate,this}toBufferGeometry(){let s=new _A().fromGeometry(this),o=new _e,_=new Float32Array(s.vertices.length*3);if(o.setAttribute("position",A0.call(new Xe(_,3),s.vertices)),s.normals.length>0){let j=new Float32Array(s.normals.length*3);o.setAttribute("normal",A0.call(new Xe(j,3),s.normals))}if(s.colors.length>0){let j=new Float32Array(s.colors.length*3);o.setAttribute("color",TO.call(new Xe(j,3),s.colors))}if(s.uvs.length>0){let j=new Float32Array(s.uvs.length*2);o.setAttribute("uv",CO.call(new Xe(j,2),s.uvs))}if(s.uvs2.length>0){let j=new Float32Array(s.uvs2.length*2);o.setAttribute("uv2",CO.call(new Xe(j,2),s.uvs2))}o.groups=s.groups;for(let j in s.morphTargets){let et=[],st=s.morphTargets[j];for(let nt=0,ct=st.length;nt<ct;nt++){let At=st[nt],mt=new Me(At.data.length*3,3);mt.name=At.name,et.push(A0.call(mt,At.data))}o.morphAttributes[j]=et}if(s.skinIndices.length>0){let j=new Me(s.skinIndices.length*4,4);o.setAttribute("skinIndex",PO$1.call(j,s.skinIndices))}if(s.skinWeights.length>0){let j=new Me(s.skinWeights.length*4,4);o.setAttribute("skinWeight",PO$1.call(j,s.skinWeights))}return s.boundingSphere!==null&&(o.boundingSphere=s.boundingSphere.clone()),s.boundingBox!==null&&(o.boundingBox=s.boundingBox.clone()),o}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(s){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(s)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(s){let o=new _e,_=s.geometry;if(s.isPoints||s.isLine){let j=new Me(_.vertices.length*3,3),et=new Me(_.colors.length*3,3);if(o.setAttribute("position",A0.call(j,_.vertices)),o.setAttribute("color",TO.call(et,_.colors)),_.lineDistances&&_.lineDistances.length===_.vertices.length){let st=new Me(_.lineDistances.length,1);o.setAttribute("lineDistance",B7.call(st,_.lineDistances))}_.boundingSphere!==null&&(o.boundingSphere=_.boundingSphere.clone()),_.boundingBox!==null&&(o.boundingBox=_.boundingBox.clone())}else s.isMesh&&(o=_.toBufferGeometry());return o}};Rl.prototype.isGeometry=!0;var _A=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(s){let o=[],_,j,et,st=s.faces;for(j=0;j<st.length;j++){let nt=st[j];nt.materialIndex!==et&&(et=nt.materialIndex,_!==void 0&&(_.count=j*3-_.start,o.push(_)),_={start:j*3,materialIndex:et})}_!==void 0&&(_.count=j*3-_.start,o.push(_)),this.groups=o}fromGeometry(s){let o=s.faces,_=s.vertices,j=s.faceVertexUvs,et=j[0]&&j[0].length>0,st=j[1]&&j[1].length>0,nt=s.morphTargets,ct=nt.length,At;if(ct>0){At=[];for(let Ft=0;Ft<ct;Ft++)At[Ft]={name:nt[Ft].name,data:[]};this.morphTargets.position=At}let mt=s.morphNormals,gt=mt.length,_t;if(gt>0){_t=[];for(let Ft=0;Ft<gt;Ft++)_t[Ft]={name:mt[Ft].name,data:[]};this.morphTargets.normal=_t}let Et=s.skinIndices,Ct=s.skinWeights,Bt=Et.length===_.length,Dt=Ct.length===_.length;_.length>0&&o.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let Ft=0;Ft<o.length;Ft++){let Rt=o[Ft];this.vertices.push(_[Rt.a],_[Rt.b],_[Rt.c]);let Nt=Rt.vertexNormals;if(Nt.length===3)this.normals.push(Nt[0],Nt[1],Nt[2]);else{let dr=Rt.normal;this.normals.push(dr,dr,dr)}let Gt=Rt.vertexColors;if(Gt.length===3)this.colors.push(Gt[0],Gt[1],Gt[2]);else{let dr=Rt.color;this.colors.push(dr,dr,dr)}if(et===!0){let dr=j[0][Ft];dr!==void 0?this.uvs.push(dr[0],dr[1],dr[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",Ft),this.uvs.push(new U$1,new U$1,new U$1))}if(st===!0){let dr=j[1][Ft];dr!==void 0?this.uvs2.push(dr[0],dr[1],dr[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",Ft),this.uvs2.push(new U$1,new U$1,new U$1))}for(let dr=0;dr<ct;dr++){let ts=nt[dr].vertices;At[dr].data.push(ts[Rt.a],ts[Rt.b],ts[Rt.c])}for(let dr=0;dr<gt;dr++){let ts=mt[dr].vertexNormals[Ft];_t[dr].data.push(ts.a,ts.b,ts.c)}Bt&&this.skinIndices.push(Et[Rt.a],Et[Rt.b],Et[Rt.c]),Dt&&this.skinWeights.push(Ct[Rt.a],Ct[Rt.b],Ct[Rt.c])}return this.computeGroups(s),this.verticesNeedUpdate=s.verticesNeedUpdate,this.normalsNeedUpdate=s.normalsNeedUpdate,this.colorsNeedUpdate=s.colorsNeedUpdate,this.uvsNeedUpdate=s.uvsNeedUpdate,this.groupsNeedUpdate=s.groupsNeedUpdate,s.boundingSphere!==null&&(this.boundingSphere=s.boundingSphere.clone()),s.boundingBox!==null&&(this.boundingBox=s.boundingBox.clone()),this}},Ed=class{constructor(s,o,_,j,et,st=0){this.a=s,this.b=o,this.c=_,this.normal=j&&j.isVector3?j:new E$2,this.vertexNormals=Array.isArray(j)?j:[],this.color=et&&et.isColor?et:new We,this.vertexColors=Array.isArray(et)?et:[],this.materialIndex=st}clone(){return new this.constructor().copy(this)}copy(s){this.a=s.a,this.b=s.b,this.c=s.c,this.normal.copy(s.normal),this.color.copy(s.color),this.materialIndex=s.materialIndex;for(let o=0,_=s.vertexNormals.length;o<_;o++)this.vertexNormals[o]=s.vertexNormals[o].clone();for(let o=0,_=s.vertexColors.length;o<_;o++)this.vertexColors[o]=s.vertexColors[o].clone();return this}};function B7(s){return this.array.set(s),this}function TO(s){let o=this.array,_=0;for(let j=0,et=s.length;j<et;j++){let st=s[j];st===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",j),st=new We),o[_++]=st.r,o[_++]=st.g,o[_++]=st.b}return this}function CO(s){let o=this.array,_=0;for(let j=0,et=s.length;j<et;j++){let st=s[j];st===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",j),st=new U$1),o[_++]=st.x,o[_++]=st.y}return this}function A0(s){let o=this.array,_=0;for(let j=0,et=s.length;j<et;j++){let st=s[j];st===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",j),st=new E$2),o[_++]=st.x,o[_++]=st.y,o[_++]=st.z}return this}function PO$1(s){let o=this.array,_=0;for(let j=0,et=s.length;j<et;j++){let st=s[j];st===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",j),st=new Ze),o[_++]=st.x,o[_++]=st.y,o[_++]=st.z,o[_++]=st.w}return this}var N7=["a","b","c"];function F7(s,o){switch(o){case"c":return s.c;case"b":return s.b;case"a":default:return s.a}}function DA(s,o,_){let j=Math.min(s,o),et=Math.max(s,o),st=j+"_"+et;return _.get(st)}function IA(s,o,_,j,et,st){let nt=Math.min(s,o),ct=Math.max(s,o),At=nt+"_"+ct,mt;if(j.has(At))mt=j.get(At);else{let gt=_[nt],_t=_[ct];mt={a:gt,b:_t,newEdge:null,faces:[]},j.set(At,mt)}mt.faces.push(et),st[s].edges.push(mt),st[o].edges.push(mt)}function V7(s,o,_,j){let et,st,nt;for(et=0,st=s.length;et<st;et++)_[et]={edges:[]};for(et=0,st=o.length;et<st;et++)nt=o[et],IA(nt.a,nt.b,s,j,nt,_),IA(nt.b,nt.c,s,j,nt,_),IA(nt.c,nt.a,s,j,nt,_)}function E0(s,o,_,j,et){s.push(new Ed(o,_,j,void 0,void 0,et))}function Md(s,o){return Math.abs(o-s)/2+Math.min(s,o)}function M0(s,o,_,j){s.push([o.clone(),_.clone(),j.clone()])}var T0=class{constructor(s=1){this.subdivisions=s}modify(s){s instanceof _e?s=new Rl().fromBufferGeometry(s):s=s.clone(),s.mergeVertices();let o=this.subdivisions;for(;o-- >0;)this._smooth(s);return s.computeFaceNormals(),s.computeVertexNormals(),s}_smooth(s){let o=new E$2,_,j,et,st,nt,ct=s.vertices,At=s.faces,mt=s.faceVertexUvs[0],gt=mt!==void 0&&mt.length>0,_t=[],Et=new Map;V7(ct,At,_t,Et);let Ct=[],Bt,Dt,Ft,Rt,Nt,Gt,dr;for(let kI of Array.from(Et.keys())){for(Dt=Et.get(kI),Ft=new E$2,Nt=3/8,Gt=1/8,dr=Dt.faces.length,dr!=2&&(Nt=.5,Gt=0,dr!=1),Ft.addVectors(Dt.a,Dt.b).multiplyScalar(Nt),o.set(0,0,0),st=0;st<dr;st++){for(Rt=Dt.faces[st],nt=0;nt<3&&(Bt=ct[F7(Rt,N7[nt])],!(Bt!==Dt.a&&Bt!==Dt.b));nt++);Bt&&o.add(Bt)}o.multiplyScalar(Gt),Ft.add(o),Dt.newEdge=Ct.length,Ct.push(Ft)}let ts,es,ds,tn,rn,un,$n,kn=[];for(j=0,et=ct.length;j<et;j++){for(un=ct[j],rn=_t[j].edges,_=rn.length,_==3?ts=3/16:_>3&&(ts=3/(8*_)),es=1-_*Number(ts),ds=ts,_<=2&&(_==2?(es=3/4,ds=1/8):_==1||_==0),$n=un.clone().multiplyScalar(es),o.set(0,0,0),st=0;st<_;st++)tn=rn[st],Bt=tn.a!==un?tn.a:tn.b,o.add(Bt);o.multiplyScalar(Number(ds)),$n.add(o),kn.push($n)}let lo=kn.concat(Ct),Il=kn.length,cu,Ko,ru,Tn=[],ao=[],uu,hu,tA,Sv,W0=new U$1,l1=new U$1,X1=new U$1;for(j=0,et=At.length;j<et;j++)Rt=At[j],cu=Number(DA(Rt.a,Rt.b,Et).newEdge)+Il,Ko=Number(DA(Rt.b,Rt.c,Et).newEdge)+Il,ru=Number(DA(Rt.c,Rt.a,Et).newEdge)+Il,E0(Tn,cu,Ko,ru,Rt.materialIndex),E0(Tn,Rt.a,cu,ru,Rt.materialIndex),E0(Tn,Rt.b,Ko,cu,Rt.materialIndex),E0(Tn,Rt.c,ru,Ko,Rt.materialIndex),gt&&(uu=mt[j],hu=uu[0],tA=uu[1],Sv=uu[2],W0.set(Md(hu.x,tA.x),Md(hu.y,tA.y)),l1.set(Md(tA.x,Sv.x),Md(tA.y,Sv.y)),X1.set(Md(hu.x,Sv.x),Md(hu.y,Sv.y)),M0(ao,W0,l1,X1),M0(ao,hu,W0,X1),M0(ao,tA,l1,W0),M0(ao,Sv,X1,l1));s.vertices=lo,s.faces=Tn,gt&&(s.faceVertexUvs[0]=ao)}},Pi=new E$2,_O=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=s.geometry??(o==null?void 0:o.geometry)??new _e().copy(new mi(100,100,100)),j;o===void 0?(_.computeBoundingBox(),_.boundingBox.getSize(Pi),j={width:Pi.x,height:Pi.y,depth:Pi.z,subdivisions:0}):j=o.parameters;let et={...j,...s.parameters};return{parameters:{width:Math.abs(et.width),height:Math.abs(et.height),depth:Math.abs(et.depth),subdivisions:Math.abs(et.subdivisions)},geometry:_}}static build(s){let{width:o,height:_,depth:j,subdivisions:et}=s.parameters,st=s.geometry??new _e().copy(new mi(100,100,100)),nt=st.userData.parameters;nt===void 0?(st.computeBoundingBox(),st.boundingBox.getSize(Pi)):Pi.set(nt.width,nt.height,nt.depth),(o!==Pi.x||_!==Pi.y||j!==Pi.z)&&st.scale(Pi.x===0?1:o/Pi.x,Pi.y===0?1:_/Pi.y,Pi.z===0?1:j/Pi.z);let ct=st.originalGeometry;try{et>0?(ct===void 0||(nt==null?void 0:nt.subdivisions)!==et)&&(ct===void 0&&(ct=st),st=new T0(et).modify(ct).toBufferGeometry()):(ct!==void 0&&(st=ct),ct=void 0,st.getAttribute("normal")===void 0&&st.computeVertexNormals())}catch{ct!==void 0&&(st=ct),ct=void 0,st.getAttribute("normal")===void 0&&st.computeVertexNormals()}return ct!==void 0&&Object.assign(st,{originalGeometry:ct}),delete s.geometry,Object.assign(st,{userData:{...s,type:"NonParametricGeometry"}})}static loadFromUrl(s,o,_){new Xu(_).load(s,j=>{let et=this.normalizeInputs({geometry:j});j.boundingBox.getSize(Pi);let st=100/Pi.x;Object.assign(et.parameters,{width:100,height:Pi.y*st,depth:Pi.z*st}),o(this.build(et))})}},C0=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},s.parameters);return{shape:s.shape&&s.shape instanceof qt?s.shape:new qt,parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??0)})}}static build(s){let{width:o,height:_,spikes:j,cornerRadius:et,depth:st,extrudeBevelSize:nt,extrudeBevelSegments:ct}=s.parameters,At=s.shape,mt=o*.5,gt=_*.5,_t=0,Et=0,Ct=2*Math.PI/j;for(let Dt=0;Dt<j;Dt++){let Ft=Ct*Dt,Rt=_t+Math.sin(Ft)*mt,Nt=Et+Math.cos(Ft)*gt;At.addPoint(At.createPoint(Rt,Nt))}At.isClosed=!0;for(let Dt=0,Ft=At.points.length;Dt<Ft;Dt++)At.points[Dt].roundness=et;At.roundness=et,At.update();let Bt=Rn.create({shape:At,parameters:{roundness:et,depth:st,extrudeBevelSize:nt,extrudeBevelSegments:ct}});return Object.assign(Bt,{userData:{...s,type:"PolygonGeometry"}})}},DO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,height:_,depth:j,radialSegments:et,heightSegments:st,openEnded:nt,cornerRadius:ct,cornerSegments:At}=s.parameters,mt=new RA(o*.5,_,et,st,nt,ct,At);return mt.scale(1,1,j/o),Object.assign(mt,{userData:{...s,type:"PyramidGeometry"}})}};function lm(s,o,_){_.x=s.x*o.x,_.y=s.y,_.z=s.x*o.y}function OA(s,o,_,j,et,st){let nt=o.clone().sub(s),ct=_.clone().sub(s),At=nt.angleTo(ct);if(nt.normalize(),ct.normalize(),j===et){let mt=nt.add(ct).normalize();st.copy(s).addScaledVector(mt,j/Math.sin(At/2))}else{let mt=nt.angleTo(ct);st.copy(s),st.addScaledVector(nt,et/Math.sin(mt)),st.addScaledVector(ct,j/Math.sin(mt))}}function U7(s,o,_){let j=s.clone().sub(o),et=_.clone().sub(o);return j.projectOnVector(et),j.add(o)}var RA=class extends _e{constructor(s=.5,o=1,_=4,j=1,et=!1,st=0,nt=4){super(),_=Math.floor(Math.max(3,_)),j=Math.floor(j),nt=Math.floor(nt);let ct=[],At=[],mt=[],gt=[],_t=0,Et=o/2,Ct=Math.PI/_,Bt=s*Math.cos(Math.PI/_),Dt=2*Math.PI/_,Ft=(_-2)*Math.PI/_,Rt=Math.PI-Ft,Nt=new E$2(0,-Et,0),Gt=new E$2(0,Et,0),dr=new U$1(s,-Et),ts=new U$1(Bt,-Et),es=new U$1(0,Gt.y).sub(ts),ds=new U$1(0,Gt.y).sub(dr),tn=new U$1(es.y,-es.x).normalize(),rn=new U$1(ds.y,-ds.x).normalize(),un=s*Math.cos(Math.PI/_)*Math.tan((Math.PI-es.angle())/2)-1e-8;st=Math.min(st,un);let $n;{let ru=new E$2(tn.x,tn.y,0),Tn=new E$2(Math.cos(Dt)*ru.x,ru.y,Math.sin(Dt)*ru.x);$n=ru.angleTo(Tn)}let kn=st/Math.tan((Math.PI-es.angle())/2),lo=st/Math.tan((Math.PI-$n)/2),Il=new E$2;if(!et){At.push(Nt.x,Nt.y,Nt.z),mt.push(0,-1,0),gt.push(0,0);let ru=_t++,Tn=[],ao=dr.clone(),uu=kn/Math.cos(Math.PI/_);ao.x-=uu;for(let hu=0;hu<_;hu++){let tA=hu/_*Math.PI*2+Ct,Sv=new U$1(Math.sin(tA),Math.cos(tA));lm(ao,Sv,Il),At.push(Il.x,Il.y,Il.z),mt.push(0,-1,0),gt.push(0,0),Tn.push(_t++)}for(let hu=0;hu<Tn.length;hu++)ct.push(Tn[hu],ru,Tn[(hu+1)%Tn.length])}{let ru=new E$2,Tn=new E$2,ao=new E$2,uu=new E$2,hu=new E$2,tA=new E$2;for(let Sv=0;Sv<_;Sv++){let W0=Sv/_*Math.PI*2+Ct,l1=(Sv+.5)/_*Math.PI*2+Ct,X1=(Sv+1)/_*Math.PI*2+Ct,kI=new U$1(Math.sin(W0),Math.cos(W0)),q1=new U$1(Math.sin(l1),Math.cos(l1)),UE=new U$1(Math.sin(X1),Math.cos(X1));lm(dr,kI,Tn),lm(dr,UE,ao),lm(tn,q1,ru),OA(Gt,Tn,ao,lo,lo,uu),At.push(uu.x,uu.y,uu.z),OA(Tn,Gt,ao,lo,kn,hu),At.push(hu.x,hu.y,hu.z),OA(ao,Tn,Gt,kn,lo,tA),At.push(tA.x,tA.y,tA.z),mt.push(ru.x,ru.y,ru.z),mt.push(ru.x,ru.y,ru.z),mt.push(ru.x,ru.y,ru.z),gt.push(0,0),gt.push(0,0),gt.push(0,0);let a1=_t++,LE=_t++,rS=_t++;if(ct.push(a1,LE,rS),st>0){{let a$=Tn.clone().add(ao).multiplyScalar(.5),x$=Gt.clone().sub(a$).normalize(),l$=Nt.clone().sub(a$).normalize().add(x$).normalize().multiplyScalar(-1),pR=tA.clone().sub(hu);cu(a$,pR,l$,es.angle())}let gD,NI;{let a$=new E$2;lm(rn,UE,a$);let x$=tA.clone().add(uu).multiplyScalar(.5);x$=U7(x$,ao,Gt);let l$=tA.clone().sub(uu);[gD,NI]=cu(x$,l$,a$,$n,uu.y)}{let a$=gD,x$=a$.clone().setY(0).normalize(),l$=new E$2(0,-1,0),pR=x$.clone().cross(l$);Ko(a$,x$,l$,pR)}{let a$=es.angle(),x$=Math.PI-a$,l$=Gt.clone();l$.y-=st/Math.sin(a$-Math.PI/2);let pR=new E$2,h$=[];for(let E$=0;E$<nt;E$++){let Vx=[],b0=Math.PI/2-x$*E$/nt,o$=Math.cos(b0),m$=Math.sin(b0),t0=l1;for(let _$=0;_$<=E$;_$++){let D$=Math.cos(t0),M$=Math.sin(t0);ru.x=o$*M$,ru.y=m$,ru.z=o$*D$,pR.copy(l$).addScaledVector(ru,st),At.push(pR.x,pR.y,pR.z),mt.push(ru.x,ru.y,ru.z),gt.push(0,0),Vx.push(_t++),t0+=Math.PI*2/E$/_}h$.push(Vx)}NI.reverse(),h$.push(NI);let w$=h$.length-1;for(let E$=0;E$<w$;E$++){let Vx=h$[E$],b0=h$[E$+1],o$=Vx.length-1;ct.push(b0[1],Vx[0],b0[0]);for(let m$=1;m$<=o$;m$++)ct.push(Vx[m$],Vx[m$-1],b0[m$]),ct.push(b0[m$+1],Vx[m$],b0[m$])}}}}}this.setIndex(ct),this.setAttribute("position",new Me(At,3)),this.setAttribute("normal",new Me(mt,3)),this.setAttribute("uv",new Me(gt,2));function cu(ru,Tn,ao,uu,hu){let tA=-uu/2,Sv=(Math.PI-uu)/2,W0=Tn.clone().normalize().cross(ao);ru.addScaledVector(ao,-st/Math.sin(Sv));let l1=new E$2,X1=new E$2,kI=1,q1=_t,UE=[];for(let a1=0;a1<=nt;a1++){let LE=tA+a1/nt*uu;X1.set(0,0,0),X1.addScaledVector(W0,Math.sin(LE)),X1.addScaledVector(ao,Math.cos(LE));for(let rS=0;rS<=kI;rS++){let gD=rS/kI-.5;if(l1.copy(ru),l1.addScaledVector(Tn,gD),l1.addScaledVector(X1,st),hu!=null){let NI=Math.max(0,l1.y-hu);l1.addScaledVector(Tn,-NI/Tn.y)}At.push(l1.x,l1.y,l1.z),mt.push(X1.x,X1.y,X1.z),gt.push(0,0),rS===0&&UE.push(_t),_t++}}for(let a1=0;a1<nt;a1++)for(let LE=0;LE<kI;LE++){let rS=q1+LE+(kI+1)*a1,gD=rS+(kI+1),NI=gD+1,a$=rS+1;ct.push(rS,gD,a$),ct.push(gD,NI,a$)}return[ru.clone().addScaledVector(Tn,.5),UE]}function Ko(ru,Tn,ao,uu){let hu=Math.PI/2,tA=ds.angle()-hu,Sv=[],W0=new E$2,l1=new E$2;for(let kI=0;kI<=nt;kI++){let q1=[],UE=kI/nt;for(let a1=0;a1<=kI;a1++){let LE=((kI?a1/kI:0)-.5)*Rt,rS=Math.cos(LE),gD=Math.sin(LE),NI=Math.atan(Math.tan(tA)*rS),a$=(hu+NI)*UE,x$=Math.cos(a$),l$=Math.sin(a$);W0.set(0,0,0),W0.addScaledVector(Tn,l$*rS),W0.addScaledVector(ao,x$),W0.addScaledVector(uu,l$*gD),l1.copy(ru).addScaledVector(W0,st),At.push(l1.x,l1.y,l1.z),mt.push(W0.x,W0.y,W0.z),gt.push(0,0),q1.push(_t++)}Sv.push(q1)}let X1=Sv.length-1;for(let kI=0;kI<X1;kI++){let q1=Sv[kI],UE=Sv[kI+1],a1=q1.length-1;ct.push(q1[0],UE[1],UE[0]);for(let LE=1;LE<=a1;LE++)ct.push(q1[LE-1],q1[LE],UE[LE]),ct.push(q1[LE],UE[LE+1],UE[LE])}}}},Td=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},s.parameters),j=Object.assign((o==null?void 0:o.ui)??{enabledIndieCorners:!1},s.ui);return{shape:s.shape&&s.shape instanceof qt?s.shape:new qt,parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??0)}),ui:j}}static build(s){let o=s.shape,{width:_,height:j,cornerRadius:et,cornerType:st,depth:nt,extrudeBevelSize:ct,extrudeBevelSegments:At}=s.parameters,mt={x:_*.5,y:j*.5},gt={x:-mt.x,y:-mt.y},_t={x:mt.x,y:mt.y};function Et(dr,ts,es){return ts>_&&es>j?Math.min(dr*_/ts,dr*j/es):ts>_?dr*_/ts:es>j?dr*j/es:dr}let Ct=[];Ct[0]=et[0]===0?0:Et(et[0],et[0]+et[3],et[0]+et[1]),Ct[1]=et[1]===0?0:Et(et[1],et[1]+et[2],et[1]+et[0]),Ct[2]=et[2]===0?0:Et(et[2],et[2]+et[1],et[2]+et[3]),Ct[3]=et[3]===0?0:Et(et[3],et[3]+et[0],et[3]+et[2]);let Bt=gt.x,Dt=_t.x,Ft=_t.y,Rt=gt.y;o.addPoint(o.createPoint(Bt,Ft)),o.addPoint(o.createPoint(Dt,Ft)),o.addPoint(o.createPoint(Dt,Rt)),o.addPoint(o.createPoint(Bt,Rt)),o.isClosed=!0;let Nt=!0;for(let dr=0,ts=o.points.length;dr<ts;dr++)o.points[dr].roundness=Ct[dr],dr>0&&Ct[dr]!==Ct[dr-1]&&(Nt=!1);Nt&&(o.roundness=Ct[0]),o.useCubicForRoundedCorners=st!==1,o.update();let Gt=Rn.create({shape:o,parameters:{depth:nt,extrudeBevelSize:ct,extrudeBevelSegments:At}});return Object.assign(Gt,{userData:{...s,type:"RectangleGeometry"}})}},IO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},s.parameters);return _.thetaLength=we.clamp(_.thetaLength,0,180),{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o=100,height:_=o,depth:j=o,widthSegments:et=64,heightSegments:st=64,phiStart:nt,phiLength:ct,thetaStart:At,thetaLength:mt}=s.parameters,gt;return mt===0?(gt=new _e,gt.setAttribute("position",new Me([],3))):gt=new Ls(.5*o,et,st,nt,ct,At,mt*we.DEG2RAD),gt.scale(1,_/o,j/o),Object.assign(gt,{userData:{...s,type:"SphereGeometry"}})}},OO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,widthSegments:8,heightSegments:8},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:0})}}static build(s){let{width:o=100,height:_=o,widthSegments:j=8,heightSegments:et=8}=s.parameters,st=new Li(o,_,j,et);return st.scale(1,1,1),Object.assign(st,{userData:{...s,type:"PlaneGeometry"}})}},RO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,angle:90,cornerRadius:24,cornerSegments:8},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width)})}}static build(s){let{width:o,height:_,depth:j,angle:et,cornerRadius:st,cornerSegments:nt}=s.parameters,ct=new LA(o,_,j,et,st,nt);return Object.assign(ct,{userData:{...s,type:"BackdropGeometry"}})}},LA=class extends _e{constructor(s=1,o=1,_=1,j=90,et=10,st=24){super(),this.type="BackdropGeometry";let nt=[],ct=[],At=[],mt=.001;et==0&&(st=1),st=Math.max(1,Math.floor(st)),et=Math.min(et,100),j=Math.min(180-mt,j),j*=Math.PI/180;let gt=[],_t=Math.PI/2,Et=(kI=0,q1=0,UE=0)=>new E$2(kI,q1,UE),Ct=Et(),Bt=Et(),[Dt,Ft,Rt]=[o/2,s/2,_/2],Nt=-Ft,Gt=+Ft,[dr,ts,es]=[Et(Nt,-Dt,+Rt),Et(Nt,-Dt,-Rt),Et(Nt,+Dt,-Rt)],ds=(kI,q1=!1)=>Math.sin(kI-Math.PI/(1+ +q1)),tn=(kI,q1=!1)=>Math.cos(kI-Math.PI/(1+ +q1));es.y=Math.sin(j)*o-Dt;let rn=Math.cos(j)*o-Rt,un=dr.z-mt;j<=_t?(es.z=Math.min(rn,un),es.z==un&&(es.y-=(rn-un)/Math.tan(_t-j))):ts.z=Math.min(ts.z-rn-Rt,dr.z-mt),Ct.subVectors(dr,ts),Bt.subVectors(es,ts);let $n=Math.min(Ct.length(),Bt.length())*et/100,kn=$n*Math.tan(j/2),lo=$n/Math.cos(j/2),Il=Ct.clone().normalize().add(Bt.normalize()).setLength(lo).add(ts);Ct.set(0,ds(j,!0),tn(j,!0)),gt.push([es,Ct.clone()]);let cu=(Math.PI-j)/st;for(let kI=0;kI<=st;kI++){let q1=_t+j+kI*cu;Ct.set(0,Math.sin(q1)*kn,Math.cos(q1)*kn),Ct.add(Il),Bt.set(0,ds(q1),tn(q1)),gt.push([Ct.clone(),Bt.clone()])}gt.push([dr,Et(0,1,0)]);let Ko=Math.sin(cu/2)*kn*2,ru=gt.length-1,Tn=gt[0][0].distanceTo(gt[1][0]),ao=gt[ru-1][0].distanceTo(gt[ru][0]),uu=Tn+Ko*st+ao;gt[0].push(1);for(let kI=0;kI<=st;kI++)gt[kI+1].push(1-(Tn+kI*Ko)/uu);gt[ru].push(0);let[hu,tA,Sv]=gt[0],W0,l1,X1;for(let kI=1;kI<gt.length;kI++)[W0,l1,X1]=gt[kI],nt.push(Nt,hu.y,hu.z,Nt,W0.y,W0.z,Gt,hu.y,hu.z,Gt,hu.y,hu.z,Nt,W0.y,W0.z,Gt,W0.y,W0.z),ct.push(0,tA.y,tA.z,0,l1.y,l1.z,0,tA.y,tA.z,0,tA.y,tA.z,0,l1.y,l1.z,0,l1.y,l1.z),At.push(0,Sv,0,X1,1,Sv,1,Sv,0,X1,1,X1),[hu,tA,Sv]=[W0,l1,X1];this.setAttribute("position",new Me(nt,3)),this.setAttribute("normal",new Me(ct,3)),this.setAttribute("uv",new Me(At,2))}},P0=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},s.parameters);return{shape:s.shape&&s.shape instanceof qt?s.shape:new qt,parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??0)})}}static build(s){let{width:o,height:_,innerRadiusPercent:j,spikes:et,cornerRadius:st,angle:nt,depth:ct,extrudeBevelSize:At,extrudeBevelSegments:mt}=s.parameters,gt=s.shape,_t=o*.5,Et=_*.5,Ct=0,Bt=0,Dt=nt*Math.PI/360/et,Ft=Math.PI/2*3*-1,Rt=_t*j/100,Nt=Et*j/100;if(et===3&&j===50){Dt=2*Math.PI/et;for(let dr=0;dr<et;dr++){let ts=Dt*dr,es=Ct+Math.sin(ts)*_t,ds=Bt+Math.cos(ts)*Et;gt.addPoint(gt.createPoint(es,ds))}}else for(let dr=0;dr<et;dr++){let ts=Ct+Math.cos(Ft)*_t,es=Bt+Math.sin(Ft)*Et;gt.addPoint(gt.createPoint(ts,es)),Ft+=Dt,ts=Ct+Math.cos(Ft)*Rt,es=Bt+Math.sin(Ft)*Nt,gt.addPoint(gt.createPoint(ts,es)),Ft+=Dt}gt.isClosed=!0;for(let dr=0,ts=gt.points.length;dr<ts;dr++)gt.points[dr].roundness=st;gt.roundness=st,gt.update();let Gt=Rn.create({shape:gt,parameters:{roundness:st,depth:ct,extrudeBevelSize:At,extrudeBevelSegments:mt}});return Object.assign(Gt,{userData:{...s,type:"StarGeometry"}})}},LO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??0)})}}static build(s){let{width:o,height:_}=s.parameters,j=new Li(o,_);return Object.assign(j,{userData:{...s,type:"TextFrameGeometry"}})}},BO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},s.parameters),j=Math.abs(_.width),et=Math.abs(_.height??_.width),st=Math.round(Math.abs(_.depth??_.width*.25));return{parameters:Object.assign(_,{width:j,height:et,depth:st})}}static build(s){let{width:o,height:_,depth:j,radialSegments:et,tubularSegments:st,arc:nt,cornerRadius:ct,cornerSegments:At}=s.parameters,mt=z7(o,_,j,o*.5,nt,st,0,0,et,ct,At);return mt.scale(1,_/o,1),Object.assign(mt,{userData:{...s,type:"TorusGeometry"}})}};function z7(s,o,_,j,et,st,nt,ct,At,mt,gt){[o,_]=[_,o],nt=o/2;let _t=we.clamp(et/360,0,1);if(_t===0){let Et=new _e;return Et.setAttribute("position",new Me([],3)),Et}return _t===1&&(mt=0),new om(!0,s,o,_,j,_t,st,nt,ct,At,mt,gt)}var NO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},s.parameters);return{parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width),depth:Math.abs(_.depth??_.width),tube:_.tube??_.width*.125})}}static build(s){let{width:o,tube:_,tubularSegments:j,radialSegments:et,p:st,q:nt}=s.parameters,ct=o*.5;ct!==_&&(ct-=_);let At=new Gu(ct,_,j,et,st,nt);return Object.assign(At,{userData:{...s,type:"TorusKnotGeometry"}})}},FO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},s.parameters);return{shape:s.shape&&s.shape instanceof qt?s.shape:new qt,parameters:Object.assign(_,{width:Math.abs(_.width),height:Math.abs(_.height??_.width*(_.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(_.depth??0)})}}static build(s){let{width:o=100,height:_,cornerRadius:j,depth:et,extrudeBevelSize:st,extrudeBevelSegments:nt,isRect:ct}=s.parameters,At=s.shape,mt=o*.5,gt=_*.5;ct?(At.addPoint(At.createPoint(-mt,gt)),At.addPoint(At.createPoint(mt,-gt)),At.addPoint(At.createPoint(-mt,-gt))):(At.addPoint(At.createPoint(0,gt)),At.addPoint(At.createPoint(mt,-gt)),At.addPoint(At.createPoint(-mt,-gt))),At.isClosed=!0;for(let Et=0,Ct=At.points.length;Et<Ct;Et++)At.points[Et].roundness=j;At.roundness=j,At.update();let _t=Rn.create({shape:At,parameters:{roundness:j,depth:et,extrudeBevelSize:st,extrudeBevelSegments:nt}});return Object.assign(_t,{userData:{...s,type:"TriangleGeometry"}})}};function VO(s,o){let _=2*Math.PI;return(s%_+_)%_===(o%_+_)%_}var BA$1=class{add(o,_,j){if(typeof arguments[0]!="string")for(let et in arguments[0])this.add(et,arguments[0][et],arguments[1]);else(Array.isArray(o)?o:[o]).forEach(function(et){this[et]=this[et]||[],_&&this[et][j?"unshift":"push"](_)},this)}run(o,_){this[o]=this[o]||[],this[o].forEach(function(j){j.call(_&&_.context?_.context:_,_)})}},NA=class{constructor(s){this.jsep=s,this.registered={}}register(...s){s.forEach(o=>{if(typeof o!="object"||!o.name||!o.init)throw new Error("Invalid JSEP plugin format");this.registered[o.name]||(o.init(this.jsep),this.registered[o.name]=o)})}},fe$2=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+fe$2.version}static addUnaryOp(o){return fe$2.max_unop_len=Math.max(o.length,fe$2.max_unop_len),fe$2.unary_ops[o]=1,fe$2}static addBinaryOp(o,_,j){return fe$2.max_binop_len=Math.max(o.length,fe$2.max_binop_len),fe$2.binary_ops[o]=_,j?fe$2.right_associative.add(o):fe$2.right_associative.delete(o),fe$2}static addIdentifierChar(o){return fe$2.additional_identifier_chars.add(o),fe$2}static addLiteral(o,_){return fe$2.literals[o]=_,fe$2}static removeUnaryOp(o){return delete fe$2.unary_ops[o],o.length===fe$2.max_unop_len&&(fe$2.max_unop_len=fe$2.getMaxKeyLen(fe$2.unary_ops)),fe$2}static removeAllUnaryOps(){return fe$2.unary_ops={},fe$2.max_unop_len=0,fe$2}static removeIdentifierChar(o){return fe$2.additional_identifier_chars.delete(o),fe$2}static removeBinaryOp(o){return delete fe$2.binary_ops[o],o.length===fe$2.max_binop_len&&(fe$2.max_binop_len=fe$2.getMaxKeyLen(fe$2.binary_ops)),fe$2.right_associative.delete(o),fe$2}static removeAllBinaryOps(){return fe$2.binary_ops={},fe$2.max_binop_len=0,fe$2}static removeLiteral(o){return delete fe$2.literals[o],fe$2}static removeAllLiterals(){return fe$2.literals={},fe$2}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(o){this.expr=o,this.index=0}static parse(o){return new fe$2(o).parse()}static getMaxKeyLen(o){return Math.max(0,...Object.keys(o).map(_=>_.length))}static isDecimalDigit(o){return o>=48&&o<=57}static binaryPrecedence(o){return fe$2.binary_ops[o]||0}static isIdentifierStart(o){return o>=65&&o<=90||o>=97&&o<=122||o>=128&&!fe$2.binary_ops[String.fromCharCode(o)]||fe$2.additional_identifier_chars.has(String.fromCharCode(o))}static isIdentifierPart(o){return fe$2.isIdentifierStart(o)||fe$2.isDecimalDigit(o)}throwError(o){let _=new Error(o+" at character "+this.index);throw _.index=this.index,_.description=o,_}runHook(o,_){if(fe$2.hooks[o]){let j={context:this,node:_};return fe$2.hooks.run(o,j),j.node}return _}searchHook(o){if(fe$2.hooks[o]){let _={context:this};return fe$2.hooks[o].find(function(j){return j.call(_.context,_),_.node}),_.node}}gobbleSpaces(){let o=this.code;for(;o===fe$2.SPACE_CODE||o===fe$2.TAB_CODE||o===fe$2.LF_CODE||o===fe$2.CR_CODE;)o=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let o=this.gobbleExpressions(),_=o.length===1?o[0]:{type:fe$2.COMPOUND,body:o};return this.runHook("after-all",_)}gobbleExpressions(o){let _=[],j,et;for(;this.index<this.expr.length;)if(j=this.code,j===fe$2.SEMCOL_CODE||j===fe$2.COMMA_CODE)this.index++;else if(et=this.gobbleExpression())_.push(et);else if(this.index<this.expr.length){if(j===o)break;this.throwError('Unexpected "'+this.char+'"')}return _}gobbleExpression(){let o=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",o)}gobbleBinaryOp(){this.gobbleSpaces();let o=this.expr.substr(this.index,fe$2.max_binop_len),_=o.length;for(;_>0;){if(fe$2.binary_ops.hasOwnProperty(o)&&(!fe$2.isIdentifierStart(this.code)||this.index+o.length<this.expr.length&&!fe$2.isIdentifierPart(this.expr.charCodeAt(this.index+o.length))))return this.index+=_,o;o=o.substr(0,--_)}return!1}gobbleBinaryExpression(){let o,_,j,et,st,nt,ct,At,mt;if(nt=this.gobbleToken(),!nt||(_=this.gobbleBinaryOp(),!_))return nt;for(st={value:_,prec:fe$2.binaryPrecedence(_),right_a:fe$2.right_associative.has(_)},ct=this.gobbleToken(),ct||this.throwError("Expected expression after "+_),et=[nt,st,ct];_=this.gobbleBinaryOp();){if(j=fe$2.binaryPrecedence(_),j===0){this.index-=_.length;break}st={value:_,prec:j,right_a:fe$2.right_associative.has(_)},mt=_;let gt=_t=>st.right_a&&_t.right_a?j>_t.prec:j<=_t.prec;for(;et.length>2&&gt(et[et.length-2]);)ct=et.pop(),_=et.pop().value,nt=et.pop(),o={type:fe$2.BINARY_EXP,operator:_,left:nt,right:ct},et.push(o);o=this.gobbleToken(),o||this.throwError("Expected expression after "+mt),et.push(st,o)}for(At=et.length-1,o=et[At];At>1;)o={type:fe$2.BINARY_EXP,operator:et[At-1].value,left:et[At-2],right:o},At-=2;return o}gobbleToken(){let o,_,j,et;if(this.gobbleSpaces(),et=this.searchHook("gobble-token"),et)return this.runHook("after-token",et);if(o=this.code,fe$2.isDecimalDigit(o)||o===fe$2.PERIOD_CODE)return this.gobbleNumericLiteral();if(o===fe$2.SQUOTE_CODE||o===fe$2.DQUOTE_CODE)et=this.gobbleStringLiteral();else if(o===fe$2.OBRACK_CODE)et=this.gobbleArray();else{for(_=this.expr.substr(this.index,fe$2.max_unop_len),j=_.length;j>0;){if(fe$2.unary_ops.hasOwnProperty(_)&&(!fe$2.isIdentifierStart(this.code)||this.index+_.length<this.expr.length&&!fe$2.isIdentifierPart(this.expr.charCodeAt(this.index+_.length)))){this.index+=j;let st=this.gobbleToken();return st||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:fe$2.UNARY_EXP,operator:_,argument:st,prefix:!0})}_=_.substr(0,--j)}fe$2.isIdentifierStart(o)?(et=this.gobbleIdentifier(),fe$2.literals.hasOwnProperty(et.name)?et={type:fe$2.LITERAL,value:fe$2.literals[et.name],raw:et.name}:et.name===fe$2.this_str&&(et={type:fe$2.THIS_EXP})):o===fe$2.OPAREN_CODE&&(et=this.gobbleGroup())}return et?(et=this.gobbleTokenProperty(et),this.runHook("after-token",et)):this.runHook("after-token",!1)}gobbleTokenProperty(o){this.gobbleSpaces();let _=this.code;for(;_===fe$2.PERIOD_CODE||_===fe$2.OBRACK_CODE||_===fe$2.OPAREN_CODE||_===fe$2.QUMARK_CODE;){let j;if(_===fe$2.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==fe$2.PERIOD_CODE)break;j=!0,this.index+=2,this.gobbleSpaces(),_=this.code}this.index++,_===fe$2.OBRACK_CODE?(o={type:fe$2.MEMBER_EXP,computed:!0,object:o,property:this.gobbleExpression()},this.gobbleSpaces(),_=this.code,_!==fe$2.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):_===fe$2.OPAREN_CODE?o={type:fe$2.CALL_EXP,arguments:this.gobbleArguments(fe$2.CPAREN_CODE),callee:o}:(_===fe$2.PERIOD_CODE||j)&&(j&&this.index--,this.gobbleSpaces(),o={type:fe$2.MEMBER_EXP,computed:!1,object:o,property:this.gobbleIdentifier()}),j&&(o.optional=!0),this.gobbleSpaces(),_=this.code}return o}gobbleNumericLiteral(){let o="",_,j;for(;fe$2.isDecimalDigit(this.code);)o+=this.expr.charAt(this.index++);if(this.code===fe$2.PERIOD_CODE)for(o+=this.expr.charAt(this.index++);fe$2.isDecimalDigit(this.code);)o+=this.expr.charAt(this.index++);if(_=this.char,_==="e"||_==="E"){for(o+=this.expr.charAt(this.index++),_=this.char,(_==="+"||_==="-")&&(o+=this.expr.charAt(this.index++));fe$2.isDecimalDigit(this.code);)o+=this.expr.charAt(this.index++);fe$2.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+o+this.char+")")}return j=this.code,fe$2.isIdentifierStart(j)?this.throwError("Variable names cannot start with a number ("+o+this.char+")"):(j===fe$2.PERIOD_CODE||o.length===1&&o.charCodeAt(0)===fe$2.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:fe$2.LITERAL,value:parseFloat(o),raw:o}}gobbleStringLiteral(){let o="",_=this.index,j=this.expr.charAt(this.index++),et=!1;for(;this.index<this.expr.length;){let st=this.expr.charAt(this.index++);if(st===j){et=!0;break}else if(st==="\\")switch(st=this.expr.charAt(this.index++),st){case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:o+=st}else o+=st}return et||this.throwError('Unclosed quote after "'+o+'"'),{type:fe$2.LITERAL,value:o,raw:this.expr.substring(_,this.index)}}gobbleIdentifier(){let o=this.code,_=this.index;for(fe$2.isIdentifierStart(o)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(o=this.code,fe$2.isIdentifierPart(o));)this.index++;return{type:fe$2.IDENTIFIER,name:this.expr.slice(_,this.index)}}gobbleArguments(o){let _=[],j=!1,et=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let st=this.code;if(st===o){j=!0,this.index++,o===fe$2.CPAREN_CODE&&et&&et>=_.length&&this.throwError("Unexpected token "+String.fromCharCode(o));break}else if(st===fe$2.COMMA_CODE){if(this.index++,et++,et!==_.length){if(o===fe$2.CPAREN_CODE)this.throwError("Unexpected token ,");else if(o===fe$2.CBRACK_CODE)for(let nt=_.length;nt<et;nt++)_.push(null)}}else if(_.length!==et&&et!==0)this.throwError("Expected comma");else{let nt=this.gobbleExpression();(!nt||nt.type===fe$2.COMPOUND)&&this.throwError("Expected comma"),_.push(nt)}}return j||this.throwError("Expected "+String.fromCharCode(o)),_}gobbleGroup(){this.index++;let o=this.gobbleExpressions(fe$2.CPAREN_CODE);if(this.code===fe$2.CPAREN_CODE)return this.index++,o.length===1?o[0]:o.length?{type:fe$2.SEQUENCE_EXP,expressions:o}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:fe$2.ARRAY_EXP,elements:this.gobbleArguments(fe$2.CBRACK_CODE)}}},k7=new BA$1;Object.assign(fe$2,{hooks:k7,plugins:new NA(fe$2),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});fe$2.max_unop_len=fe$2.getMaxKeyLen(fe$2.unary_ops);fe$2.max_binop_len=fe$2.getMaxKeyLen(fe$2.binary_ops);var Fc=s=>new fe$2(s).parse(),G7=Object.getOwnPropertyNames(fe$2);G7.forEach(s=>{Fc[s]===void 0&&s!=="prototype"&&(Fc[s]=fe$2[s])});Fc.Jsep=fe$2;var j7="ConditionalExpression",H7={name:"ternary",init(s){s.hooks.add("after-expression",function(o){if(o.node&&this.code===s.QUMARK_CODE){this.index++;let _=o.node,j=this.gobbleExpression();if(j||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===s.COLON_CODE){this.index++;let et=this.gobbleExpression();if(et||this.throwError("Expected expression"),o.node={type:j7,test:_,consequent:j,alternate:et},_.operator&&s.binary_ops[_.operator]<=.9){let st=_;for(;st.right.operator&&s.binary_ops[st.right.operator]<=.9;)st=st.right;o.node.test=st.right,st.right=o.node,o.node=_}}else this.throwError("Expected :")}})}};Fc.plugins.register(H7);var W7=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],q7=["0","1","2","3","4","5","6","7","8","9","."],Y7=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function X7(s){return typeof s!="string"?!1:!isNaN(s)&&!isNaN(parseFloat(s))}Fc.addBinaryOp("^",11,!0);function _0(s,o,_="number"){let j="";for(let nt=0;nt<s.length;nt++){let ct=s[nt];if("objType"in ct&&ct.objType==="api"){let At=JSON.parse(ct.id),mt=At[0],gt=o.getUserAPI(mt);if(gt!==void 0){let _t=gt.retrieveValue(At.slice(1));_t!==void 0&&(j+=_t)}continue}if("objType"in ct&&ct.objType==="webhook"){let At=JSON.parse(ct.id),[mt,gt]=At,_t=o.getUserWebhook(mt);if(_t!==void 0){let Et=_t.getParameterValue(gt);Et!==void 0&&(j+=Et)}continue}if("id"in ct){let At=s[nt-1];if(nt>0&&"id"in At){console.error("Two variables in a row",s);return}let mt=o.getVariable(ct.id),gt=Lr$1.getDisplayedValue(mt);_==="number"&&Lr$1.isTextValue(mt)&&Array.isArray(mt.textValue)&&mt.textValue.length===1?gt=parseFloat(gt).toString():_==="boolean"&&Lr$1.isBoolean(mt)?gt=mt?"true":"false":_==="boolean"&&Lr$1.isTextValue(mt)&&!Array.isArray(mt.textValue)&&(gt='"'+gt+'"'),j+=gt;continue}else if(_==="string"){ct.name!=='"'&&(ct.name!=="+"||ct.escaped)&&(j+=ct.name),ct.name==="+"&&!ct.escaped&&j[j.length-1]==="\\"&&(j=j.slice(0,-1)+ct.name);continue}if(ct.name==="and"){j+="&&";continue}if(ct.name==="or"){j+="||";continue}if(ct.name==="True"){j+="true";continue}if(ct.name==="False"){j+="false";continue}if(_==="boolean"&&!X7(ct.name)&&!q7.includes(ct.name)&&!W7.includes(ct.name)&&!Y7.includes(ct.name.replace(/\($/g,""))){j+='"'+ct.name+'"';continue}j+=ct.name}if(_==="string")return j;if(s.length===0){if(_==="number")return 0;if(_==="boolean")return!1}let et;try{et=Fc(j)}catch(nt){console.error(j,nt);return}let st;try{st=Ht(et)}catch(nt){console.error(j,et,nt)}return st}function Ht(s){switch(s.type){case"BinaryExpression":switch(s.operator){case"==":return+(Ht(s.left)===Ht(s.right));case"!=":return+(Ht(s.left)!==Ht(s.right));case">":return+(Ht(s.left)>Ht(s.right));case">=":return+(Ht(s.left)>=Ht(s.right));case"<":return+(Ht(s.left)<Ht(s.right));case"<=":return+(Ht(s.left)<=Ht(s.right));case"+":return Ht(s.left)+Ht(s.right);case"-":return Ht(s.left)-Ht(s.right);case"*":return Ht(s.left)*Ht(s.right);case"/":return Ht(s.left)/Ht(s.right);case"%":return Ht(s.left)%Ht(s.right);case"&&":return Ht(s.left)&&Ht(s.right);case"||":return Ht(s.left)||Ht(s.right);case"^":return Math.pow(Ht(s.left),Ht(s.right));default:throw new Error("Unknown operator: "+s.operator)}case"UnaryExpression":switch(s.operator){case"-":return-Ht(s.argument);case"!":return+!Ht(s.argument);default:throw new Error("Unknown operator: "+s.operator)}case"Identifier":throw new Error("Unknown identifier: "+s.name);case"Literal":return s.value;case"CallExpression":if(s.callee.type==="Identifier"){if(s.callee.name==="random"){let o=0,_=1;if(s.arguments.length>=1)try{o=Ht(s.arguments[0])}catch(j){console.warn(j)}if(s.arguments.length>=2)try{_=Ht(s.arguments[1])}catch(j){console.warn(j)}return o=Math.min(_,o),_=Math.max(_,o),o+Math.random()*(_-o)}return Math[s.callee.name].apply(null,s.arguments.map(Ht))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+s.type)}}var Q7=new ue$2,K7=new ue$2;function Z7(s,o,_){let j=[new E$2,new E$2,new E$2],et=[new E$2,new E$2,new E$2];return s.extractBasis(j[0],j[1],j[2]),o.extractBasis(et[0],et[1],et[2]),j.forEach((st,nt)=>{let ct=et[nt],At=we.lerp(st.length(),ct.length(),_);st.lerp(ct,_).setLength(At)}),new ue$2().makeBasis(j[0],j[1],j[2])}var UO=class{static create(s){return this.build(this.normalizeInputs(s))}static normalizeInputs(s,o){let _=Object.assign({},(o==null?void 0:o.parameters)??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},s.parameters),j=Math.abs(_.width),et=Math.abs(_.height??_.width),st=Math.abs(_.depth??0),nt=(o==null?void 0:o.shapeData)??Ad.create({parameters:P1}).userData.shape;return{path:s.path??kh.defaultData(),parameters:Object.assign(_,{width:j,height:et,depth:st,extrusion:{...Vv,..._.extrusion}}),shapeData:nt}}static build(s){if(s.path.points.length>=2){let o=new FA(s);return Object.assign(o,{userData:{...s,type:"PathGeometry"}})}else return Object.assign(new _e,{userData:{...s,type:"PathGeometry"}})}},FA=class extends _e{constructor(s){super(),this.type="PathExtrusionGeometry",this.inputs=s,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let s=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&s.depth===1)||!VO(s.twist,0)||s.startScale!==s.endScale}build(){let s=this._extractPathPoints();if(s.length<2)return;let o=this._computeBasisMatrices(s),{depth:_,offset:j}=this.inputs.parameters.extrusion;_=Math.max(0,Math.min(_,1)),j=Math.max(0,Math.min(j,1));let et=this.inputs.path.isClosed?s.length:s.length-1,st=Math.floor(j*et),nt=this.inputs.path.isClosed?Math.ceil((_+j)*et):Math.ceil(Math.min(1,_+j)*et),ct=Math.min(Math.max(2,nt-st+1),et+2),At=[],mt=[];for(let ru=0;ru<ct;ru++){let Tn=this.inputs.path.isClosed?(ru+st)%s.length:Math.min(ru+st,s.length-1);At.push(s[Tn].clone()),mt.push(o[Tn].clone())}let gt=(ru,Tn,ao)=>{At[ru]=At[ru].clone().lerp(At[Tn],ao),mt[ru]=Z7(mt[ru],mt[Tn],ao)},_t=0,Et=j*et%1;(!this.inputs.path.isClosed||_<=1)&&(Et||j===0)&&(_t=Et,gt(0,1,_t));let Ct=0,Bt=(j+_)*et%1;if((this.inputs.path.isClosed&&_<=1||!this.inputs.path.isClosed&&j+_<1)&&Bt&&(Ct=Bt,gt(At.length-1,At.length-2,1-Ct)),_===0){let ru=At.length-1;At[ru].copy(At[0]),mt[ru].copy(mt[0])}this._applyPathModifiers(mt,_t,Ct);let{bevel:Dt,bevelSides:Ft}=this.inputs.parameters.extrusion,Rt=Dt>0?this.inputs.parameters.extrusion.capType:"flat",Nt=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(Nt=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:Gt,infos:dr,vertices:ts}=this._computeShapePoints(Nt),es=0,ds;Rt==="round"&&(ds=new Ol(this.inputs.shapeData,2*Dt,Dt,Nt,Ft,void 0,!0),es=ds.getAttribute("position").count);let tn=0,rn=0;dr.sort((ru,Tn)=>ru.start-Tn.start),dr.forEach(ru=>{ru.verticesStart=tn,ru.verticesCount=ru.continuous.reduce((Tn,ao,uu)=>Tn+(uu===0||!ao?2:1),0),rn+=ru.verticesCount,tn=rn});let un=rn*ct,$n,kn=0;if(this._isOpenEnded()&&Rt==="flat"){try{$n=Ws({windingRule:zt.ODD,elementType:jr$1.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:Gt})}catch{$n=TA}kn=$n.vertexCount}let lo=un+2*kn+es*2,Il=un+2*kn,cu={positions:new Float32Array(lo*3),normals:new Float32Array(lo*3),uvs:new Float32Array(lo*2)},Ko=[];if(dr.forEach(ru=>{this._extrudeRegion(ru,ts,mt,At,cu,Ko,this._isGeometryClosed()&&!this._isOpenEnded())}),$n&&(this._closeEnd($n,un,Ko,cu,mt[0],At[0],!1),this._closeEnd($n,un+kn,Ko,cu,mt[mt.length-1],At[At.length-1],!0)),ds){cu.positions.set(ds.getAttribute("position").array,Il*3),cu.normals.set(ds.getAttribute("normal").array,Il*3),cu.uvs.set(ds.getAttribute("uv").array,Il*2);for(let uu=Il;uu<Il+es;uu++)cu.uvs[uu*2+1]=1e-4;let ru=Ko.length;Ko.push(...ds.getIndex().array.map(uu=>uu+Il)),Il+=es,cu.positions.set(ds.getAttribute("position").array,Il*3),cu.normals.set(ds.getAttribute("normal").array,Il*3),cu.uvs.set(ds.getAttribute("uv").array,Il*2);let Tn=Ko.length;Ko.push(...ds.getIndex().array.map(uu=>uu+Il)),this.setAttribute("position",new Xe(cu.positions,3)),this.setAttribute("normal",new Xe(cu.normals,3)),this.setAttribute("uv",new Xe(cu.uvs,2)),this.setIndex(Ko);let ao=Q7;ao.copy(mt[mt.length-1]).setPosition(At[At.length-1]),this.applyMatrix4OnRange(ao,Il,lo),ao.copy(mt[0]).setPosition(At[0]).multiply(K7.makeScale(1,1,-1)),this.applyMatrix4OnRange(ao,Il-es,Il),this.reverseIndicesOnRange(ru,Tn)}else this.setAttribute("position",new Xe(cu.positions,3)),this.setAttribute("normal",new Xe(cu.normals,3)),this.setAttribute("uv",new Xe(cu.uvs,2)),this.setIndex(Ko)}_extractPathPoints(){let s=m0(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(s.length<2)return[];let o=[s[0]];return s.forEach(_=>{o[o.length-1].distanceToSquared(_)>.001&&o.push(_)}),this.inputs.path.isClosed&&o[o.length-1].distanceTo(o[0])<.001&&o.pop(),o}_computeBasisMatrices(s){let o=[],_=s.length,j=this.inputs.path.isClosed,et=new E$2,st=new E$2,nt=new E$2,ct=new E$2,At=new E$2(0,1,0);for(let Bt=0;Bt<_;Bt++){let Dt=s[Bt],Ft;Bt===0?Ft=j?s[s.length-2]:Dt.clone().multiplyScalar(2).sub(s[1]):Ft=s[Bt-1];let Rt;Bt===_-1?Rt=j?s[1]:Dt.clone().multiplyScalar(2).sub(s[Bt-1]):Rt=s[Bt+1];let Nt=Dt.clone().sub(Ft).normalize(),Gt=Rt.clone().sub(Dt).normalize(),dr=Nt.clone().add(Gt).normalize();nt.copy(dr),Bt===0&&(dr.equals(At)||dr.clone().negate().equals(At))&&At.set(0,0,1);let ts=At.clone().cross(dr).normalize(),es=dr.clone().cross(ts).normalize();At.copy(es),ct.copy(ts),Bt===0&&(et.copy(es),st.copy(dr));let ds=new ue$2().makeBasis(ts,es,dr);o.push(ds)}let mt=j?st:nt,gt=j?et:new E$2(0,1,0),_t=mt.clone().cross(ct).normalize(),Et=Math.acos(gt.dot(_t));if(isNaN(Et))return o;let Ct=gt.clone().cross(_t);mt.dot(Ct)>0&&(Et*=-1);for(let Bt=1;Bt<o.length;Bt++){let Dt=new ue$2().makeRotationZ(Et*Bt/o.length);o[Bt].multiply(Dt)}return o}_applyPathModifiers(s,o,_){let j=s.length,{angle:et,twist:st,startScale:nt,endScale:ct}=this.inputs.parameters.extrusion,At=new ue$2,mt=new ue$2;return s.forEach((gt,_t)=>{let Et=_t===0?0:_t===j-1?1:(_t-o)/(j-(_===0?0:1)-(o+(1-_)));At.makeRotationZ(we.lerp(et,et+st,Et)*we.DEG2RAD);let Ct=we.lerp(nt,ct,Et);mt.makeScale(Ct,Ct,Ct),gt.multiply(At).multiply(mt)}),s}_computeShapePoints(s=12,o=zt.ODD){let _=this.inputs.shapeData,j=_.extractShapePointsToFlatArray([],s),et=_.shapeHoles.map(mt=>{let gt=mt.extractShapePointsToFlatArray([],s),_t=[];for(let Et=gt.length-1;Et>=1;Et-=2){let Ct=gt[Et-1],Bt=gt[Et-0];_t.push(Ct,Bt)}return _t}),st;try{st=Ws({windingRule:o,elementType:jr$1.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[j]})}catch{st=sm}let nt;try{nt=Ws({windingRule:zt.ODD,elementType:jr$1.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...et]})}catch{nt=MA}if(!st)throw new Error("error generating geometry");let ct=st.elementCount;if(nt){st.elementCount+=nt.elementCount;for(let mt=0;mt<nt.elements.length;mt++){let gt=nt.elements[mt],_t=mt%2===0?st.vertexCount:0;st.elements.push(gt+_t)}for(let mt=0;mt<nt.vertexIndices.length;mt++){let gt=nt.vertexIndices[mt],_t=st.vertexCount;st.vertexIndices.push(gt+_t)}for(let mt=0;mt<nt.vertices.length;mt++){let gt=nt.vertices[mt];st.vertices.push(gt)}}for(let mt=0,gt=st.vertexCount;mt<gt;mt++){let _t=mt*2;st.vertices[_t+0],st.vertices[_t+1]}let At=[];for(let mt=st.elementCount-1;mt>=0;mt--){let gt=mt>=ct,_t=mt*2,Et=st.elements[_t+0],Ct=st.elements[_t+1],Bt=Et+Ct,Dt={start:Et,count:Ct,normals:[],isHole:gt,continuous:[],verticesStart:0,verticesCount:0};At.push(Dt);let Ft=Et,Rt=Bt-1,Nt=Et+1,Gt=_.roundedCurves.length;do{let dr=Ft-Et;st.vertices[Rt*2+0],st.vertices[Rt*2+1];let ts=st.vertices[Ft*2+0],es=st.vertices[Ft*2+1],ds=st.vertices[Nt*2+0],tn=st.vertices[Nt*2+1],rn=ts-ds,un=es-tn,$n=Math.sqrt(rn*rn+un*un);rn/=$n,un/=$n,Dt.normals[dr*2+0]=-un,Dt.normals[dr*2+1]=rn;let kn=st.vertexIndices[Ft];if(Array.isArray(kn))Dt.continuous[dr]=!1;else{let[lo,Il]=_.getCurveIndexFromVertexId(kn-1,!0);if(Il>0&&Il<1)Dt.continuous[dr]=!0;else{let cu=Il===1?lo+1:lo-1;cu=(cu+Gt)%Gt;let Ko=Il===1?0:1,ru=_.roundedCurves[lo].getTangent(Il),Tn=_.roundedCurves[cu].getTangent(Ko);Dt.continuous[dr]=ru.dot(Tn)>.95}}gt&&(Dt.normals[dr*2+0]*=-1,Dt.normals[dr*2+1]*=-1),[Rt,Ft,Nt]=[Ft,Nt,Nt+1],Nt>=Bt&&(Nt-=Ct)}while(Nt!==Et+1)}return{regions:[j,...et],infos:At,vertices:st.vertices}}_insertVertex(s,o,_,j,et){let st=o*2,nt=o*3;s.positions[nt+0]=_.x,s.positions[nt+1]=_.y,s.positions[nt+2]=_.z,s.normals[nt+0]=j.x,s.normals[nt+1]=j.y,s.normals[nt+2]=j.z,s.uvs[st+0]=et.x,s.uvs[st+1]=et.y}_extrudeRegion(s,o,_,j,et,st,nt){let ct=new E$2,At=new E$2,mt=new E$2,gt=new E$2,_t=new U$1;_.forEach((Ct,Bt)=>{let Dt=j[Bt],Ft=s.verticesStart*_.length+s.verticesCount*Bt;for(let Rt=0;Rt<s.count;Rt++){let Nt=(s.start+Rt)*2;if(ct.set(o[Nt+0],o[Nt+1],0),mt.copy(ct).applyMatrix4(Ct).add(Dt),s.continuous[Rt])gt.set(s.normals[Rt*2+0],s.normals[Rt*2+1],0);else{let Gt=Rt===0?(s.start+s.count-1)*2:Nt-2;At.set(o[Gt+0],o[Gt+1],0),gt.copy(ct).sub(At),gt.set(-gt.y,gt.x,0),s.isHole||gt.negate()}if(gt.applyMatrix4(Ct).normalize(),_t.set(Rt===0?1:Rt/s.count,Bt/(_.length-1)),this._insertVertex(et,Ft,mt,gt,_t),Ft++,!s.continuous[Rt]||Rt===0){if(Rt===0)gt.set(s.normals[Rt*2+0],s.normals[Rt*2+1],0),_t.set(0,Bt/(_.length-1));else{let Gt=Rt===s.count-1?s.start*2:Nt+2;At.set(o[Gt+0],o[Gt+1],0),gt.copy(At).sub(ct),gt.set(-gt.y,gt.x,0),s.isHole||gt.negate()}gt.applyMatrix4(Ct).normalize(),this._insertVertex(et,Ft,mt,gt,_t),Ft++}}});let Et=_.length-1;for(let Ct=0;Ct<Et;Ct++){let Bt=s.verticesStart*_.length+s.verticesCount*Ct,Dt=s.verticesStart*_.length+s.verticesCount*(Ct+1),Ft=0;for(let Rt=0;Rt<s.count;Rt++){(!s.continuous[Rt]||Rt===0)&&Ft++;let Nt=Rt===s.count-1?0:Ft+1,Gt=Bt+Ft,dr=Bt+Nt,ts=Dt+Nt,es=Dt+Ft;s.isHole?st.push(Gt,ts,dr,Gt,es,ts):st.push(Gt,dr,ts,Gt,ts,es),Ft++}}}_closeEnd(s,o,_,j,et,st,nt){let ct=s.vertexCount,At=new E$2(0,0,nt?-1:1).applyMatrix4(et),mt=new E$2,gt=new U$1;for(let Et=0;Et<ct;Et++){let Ct=2*Et;mt.set(s.vertices[Ct+0],s.vertices[Ct+1],0).applyMatrix4(et).add(st),this._insertVertex(j,o+Et,mt,At,gt)}let _t=s.elements;for(let Et=0;Et<s.elementCount;Et++){let Ct=3*Et,Bt=_t[Ct+0]+o,Dt=_t[Ct+(nt?1:2)]+o,Ft=_t[Ct+(nt?2:1)]+o;_.push(Bt,Dt,Ft)}}applyMatrix4OnRange(s,o,_){let j=s.elements,et=new fr$7().getNormalMatrix(s).elements,st,nt,ct,At,mt=this.attributes.position,gt=this.attributes.normal;if(!mt||!gt)return;let _t=mt.array,Et=gt.array,Ct=mt.itemSize;for(let Bt=o*Ct,Dt=_*Ct;Bt<Dt;Bt+=Ct){if(Bt===o)debugger;st=_t[Bt+0],nt=_t[Bt+1],ct=_t[Bt+2],At=1/(j[3]*st+j[7]*nt+j[11]*ct+j[15]),_t[Bt+0]=(j[0]*st+j[4]*nt+j[8]*ct+j[12])*At,_t[Bt+1]=(j[1]*st+j[5]*nt+j[9]*ct+j[13])*At,_t[Bt+2]=(j[2]*st+j[6]*nt+j[10]*ct+j[14])*At,st=Et[Bt+0],nt=Et[Bt+1],ct=Et[Bt+2],Et[Bt+0]=et[0]*st+et[3]*nt+et[6]*ct,Et[Bt+1]=et[1]*st+et[4]*nt+et[7]*ct,Et[Bt+2]=et[2]*st+et[5]*nt+et[8]*ct}mt.needsUpdate=!0,gt.needsUpdate=!0}reverseIndicesOnRange(s,o){let _=this.index;if(_){for(let j=s;j<o;j+=3){let et=_.getX(j),st=_.getX(j+1),nt=_.getX(j+2);_.setXYZ(j,nt,st,et)}_.needsUpdate=!0}}};function zO(){let s=new _e;return s.setAttribute("position",new Xe(new Float32Array([]),3)),s.setIndex(new Xe(new Uint16Array([]),1)),s}var $7=zO().attributes,eY=12,tY=1,Vc=class extends _e{constructor(s,o){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,$7),this.userData={parameters:s,type:"TextGeometry"};let _=o.getFont(s.font);_!=null&&_.isLoaded?(this.font=_,this.update(s)):this.updateFont(s.font,o).then(()=>{this.update(s),o==null||o.requestRender()})}async updateFont(s,o){let _=o.getFont(s);_&&(this.font=_,await _.loadingPromise)}update(s){let o=this.font;if(this.userData={parameters:s,type:"TextGeometry"},!(o!=null&&o.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:_,height:j,depth:et,extrudeBevelSize:st,extrudeBevelSegments:nt,text:ct,textTransform:At}=s,mt=Lr$1.getDisplayedValue(ct),gt=At===2?mt.toUpperCase():At===3?mt.toLowerCase():mt,_t=rY(s,o,gt),{shapes:Et,charWidths:Ct,charCoords:Bt}=o.generateShapes(_t,s),Dt=(typeof _=="number"?_:1)*.5,Ft=(typeof j=="number"?j:1)*.5,Rt=Et.map(dr=>new qt().fromShape(dr,!0));this.vectorShapes=Rt;let Nt=Rt.map(dr=>Rn.create({shape:dr,parameters:{depth:et,extrudeBevelSegments:nt,extrudeBevelSize:st,windingRule:et<=0?zt.NONZERO:zt.ODD,subdivisions:this.isLowResolution&&et>0?tY:eY}})),Gt=Nt.length?ks(Nt):zO();Gt.translate(-Dt,Ft,0),this.dispose(),this.wrappedText=_t,this.charCoords=Bt,this.charWidths=Ct,this.deleteAttribute("extrudeNormal"),Object.entries(Gt.attributes).forEach(([dr,ts])=>{this.setAttribute(dr,ts)}),this.setIndex(Gt.index),this.computeBoundingSphere()}clone(){let s=qi(new _e,Vc.prototype);return s.copy(this),console.log("CloneGeometry",this,s),s}copy(s){return Object.entries(s.attributes).forEach(([o,_])=>{this.setAttribute(o,_)}),this.setIndex(s.index),this.userData={parameters:{...s.userData.parameters},type:"TextGeometry"},this}async setText(s){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:{textValue:s}})}get text(){return this.userData.parameters.text??""}};function rY(s,o,_){let j=[""],et="";for(let st of _)et+=st,st===" "||st===`
`?(j[j.length-1]+=et,et="",st===`
`&&j.push("")):o.getTextWidth(j[j.length-1]+et,s)>s.width&&(j[j.length-1].length&&j.push(""),o.getTextWidth(j[j.length-1]+et,s)>s.width&&(et.length===1?(j[j.length-1]+=et,et=""):(j[j.length-1]+=et.slice(0,-1),et=et[et.length-1],j.push(""))));return j[j.length-1]+=et,j}var GO,I0=new Promise(s=>{GO=s}),kO=!1,D0;function jO(){if(kO)return;if(D0)return D0;async function s(){let o="https://unpkg.com/@splinetool/modelling-wasm@1.9.30/build",_=__vitePreload(()=>import("./process-B9H0U9ag.js"),[]),[j,et]=await Promise.all([_,fetch(`${o}/process.wasm`).then(ct=>ct.arrayBuffer())]),st=j.default,nt=await st({wasmBinary:et});GO(nt),kO=!0}return D0=s(),D0}var iY=["font"];function Ca(s,o,_,j){var mt,gt;let et,st,nt;s.type==="PathGeometry"?(st=JSON.parse(JSON.stringify(s)),nt=[[],["extrusion"]]):(st={...s},nt=[[]]);for(let _t of nt){let Et=st;for(let Ct of _t)Et=Et[Ct];for(et in Et){let Ct=Et[et];x1(Ct)&&!iY.includes(et)&&(Et[et]=o.getVariable(Ct,[j.uuid,"geometry",..._t,et]),x1(Et[et])&&(Et[et]=1))}}let ct={parameters:st,type:st.type};if(st.type==="PathGeometry")ct.path=st.path;else if(st.type==="VectorGeometry"){let _t=qt.createFromState(st.shape,st.width,st.height);ct.shape=_t}else if(st.type==="NonParametricGeometry"){if(st.data.groups&&((mt=st.data.groups)==null||mt.forEach(_t=>_t.materialIndex=Math.max(_t.materialIndex??0,0))),ct.geometry=new Xu().parse(st),ct.geometry.groups.length===0){let _t=ct.geometry;_t.addGroup(0,Math.max(((gt=_t.getIndex())==null?void 0:gt.count)??0,_t.getAttribute("position").count),0)}}else if(st.type==="SubdivGeometry"){let _t=new ni(st,_);return _t.data=s,_t}else{if(st.type==="TextGeometry")return new Vc(st,o);if(st.type==="InputGeometry")return new Vc(st,o);if(st.type==="UIGeometry")return Td.create({parameters:{width:st.width,height:st.height,cornerRadius:st.cornerRadius,cornerType:st.cornerType}})}let At;try{At=VA(ct)}catch(_t){console.error(_t)}if(!At){let _t=qt.createFromState(zh.defaultData(),100,100);ct.shape=_t,At=VA(ct)}return At}var nY=new ue$2;function cm(s,o,_,j){let et=s.position.array,st=s.normal.array,nt=nY.makeScale(o,_,j).invert().elements,ct,At,mt;for(var gt=0,_t=et.length;gt<_t;gt+=3)et[gt]*=o,et[gt+1]*=_,et[gt+2]*=j,ct=st[gt],At=st[gt+1],mt=st[gt+2],st[gt]=nt[0]*ct+nt[4]*At+nt[8]*mt,st[gt+1]=nt[1]*ct+nt[5]*At+nt[9]*mt,st[gt+2]=nt[2]*ct+nt[6]*At+nt[10]*mt;s.position.needsUpdate=!0,s.normal.needsUpdate=!0}var O0=new jt,Cd=new E$2,lt;I0.then(s=>{lt=s});var HO=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),WO=new Uint32Array([0,1,2,3]),qO=new Uint8Array([4]),ni=class extends _e{constructor(s,o){super(),this.data=s,this.flatShading=o,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(s,o){this.freeSubdivPointer();let _=this.data.scaleBaked,j=Ao.div(o,_);this.subdividedGeometry&&cm(this.subdividedGeometry.attributes,...j),this.originalGeometry&&cm(this.originalGeometry.attributes,...j),this.data=s;let et=this.userData.parameters;this.userData.parameters={width:et.width*j[0],height:et.height*j[1],depth:et.depth*j[2]},this.originalGeometry.boundingSphere.center.multiply(Cd.fromArray(j));let st=Cd.set(et.width,et.height,et.depth).length();this.originalGeometry.boundingSphere.radius=st/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let s,o,_;try{({originalGeometry:s,subdividedGeometry:o,subdivPointer:_}=ni.build(this.data,void 0,!this.flatShading,void 0))}catch{s=new mi(100,100,100),_=0}this.subdivPointer=_,this.originalGeometry=s,this.subdividedGeometry=o??void 0;let j=this.subdividedGeometry??this.originalGeometry;Object.assign(this,j),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(ni.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let s=this.originalGeometry;s.boundingSphere===null&&(s.boundingSphere=new Or$1,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=s.boundingSphere));let o=s.attributes.position,_=s.boundingSphere.center;O0.setFromBufferAttribute(o),O0.getCenter(_),s.boundingSphere.radius=_.distanceTo(O0.max),isNaN(s.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),O0.getSize(Cd);let j={width:Cd.x,height:Cd.y,depth:Cd.z};return this.userData.parameters=j,j}static build(s,o,_,j){let et,st,nt,ct=(s==null?void 0:s.phongAngle)??35;_===!1&&(ct=-1),o&&(lt.free_bvh(o),lt.free_subdivision_surface(o));try{et=ni.allocate(s,j)}catch(At){console.error(At,s),et=ni.allocate({positionWASM:HO,indexWASM:WO,verticesPerFaceWASM:qO},j)}if(lt.set_destination_refinement_level(et,0),st=ni.buildLevel(et,!0,ct),s.subdivisions>0)try{lt.set_destination_refinement_level(et,s.subdivisions),nt=ni.buildLevel(et,!1,ct)}catch{try{lt.set_destination_refinement_level(et,s.subdivisions-1),nt=ni.buildLevel(et,!1,ct)}catch{nt=null}}else nt=null;return{subdivPointer:et,originalGeometry:st,subdividedGeometry:nt}}static primitiveToQuads(s,o,_){s.widthSegments>16&&(s.widthSegments=16),s.heightSegments>16&&(s.heightSegments=16),s.depthSegments>16&&(s.depthSegments=16),s.radialSegments>16&&(s.radialSegments=16),s.type==="DodecahedronGeometry"&&(s.detail=0);let j=s.shape!==void 0||s.path!==void 0?o.geometry:Ca(s,_,!1),et;s.type==="TorusGeometry"&&s.arc===Math.PI*2?et=j.getClosedTorusIndicesForBooleanOrSubdiv():et=j.getIndex();let st,nt,ct,At;({positions:st,triIndices:At}=Uc(j.getAttribute("position"),et));let mt;if(s.type==="CylinderGeometry"&&s.cornerRadius===0&&s.hollow===0&&s.openEnded===!1){let gt=s.radialSegments*s.heightSegments*3*2,_t=gt+s.radialSegments*3;mt=[gt,_t]}return{indices:nt,verticesPerFace:ct}=GA(st,At,j,mt),{positions:st,indices:nt,verticesPerFace:ct}}static allocate(s,o){var Gt;let _,j,et,st=[],nt=[];s.positionWASM&&s.positionWASM.length>0?(_=s.positionWASM,j=s.indexWASM,et=s.verticesPerFaceWASM):(_=HO,j=WO,et=qO);let ct=_.length,At=j.length,mt=et.length,gt=_.length+st.length+nt.length,_t=j.length+et.length,Et=gt*Float32Array.BYTES_PER_ELEMENT+_t*Uint32Array.BYTES_PER_ELEMENT,Ct=gt*Float32Array.BYTES_PER_ELEMENT,Bt=lt._malloc(Et),Dt=new Float32Array(lt.HEAPF32.buffer,Bt,gt),Ft=new Uint32Array(lt.HEAPU32.buffer,Bt+Ct,_t);Dt.set(_,0),Dt.set(st,_.length),Dt.set(nt,_.length+st.length),Ft.set(j,0),Ft.set(et,j.length);let Rt;(Gt=s==null?void 0:s.scaleBaked)!=null&&Gt.some(dr=>dr!==1)&&(Rt=new ue$2().makeScale(...s.scaleBaked)),o&&(Rt?Rt.premultiply(o):Rt=o);let Nt=Rt?lt.alloc_subdivision_surface2(Bt,ct,Bt+Ct,At,Bt+Ct+j.length*Uint32Array.BYTES_PER_ELEMENT,mt,Rt.elements):lt.alloc_subdivision_surface(Bt,ct,Bt+Ct,At,Bt+Ct+j.length*Uint32Array.BYTES_PER_ELEMENT,mt);return lt._free(Bt),Nt}static buildLevel(s,o,_,j,et){let st=et?lt.get_mesh_data2(s,o?lt.Level.CONTROL:lt.Level.REFINED,_,et.elements):lt.get_mesh_data(s,o?lt.Level.CONTROL:lt.Level.REFINED,_),nt=8,ct=lt.HEAPU32.subarray(st>>2,(st>>2)+nt),At=ct.subarray(4,8),mt=0,gt=lt.HEAPU32[ct[mt]>>2],_t=lt.HEAPF32.subarray(gt>>2,(gt>>2)+At[mt]);mt++;let Et=lt.HEAPU32[ct[mt]>>2],Ct=lt.HEAPF32.subarray(Et>>2,(Et>>2)+At[mt]);mt++;let Bt=lt.HEAPU32[ct[mt]>>2],Dt=lt.HEAPU32.subarray(Bt>>2,(Bt>>2)+At[mt]);mt++;let Ft=lt.HEAPU32[ct[mt]>>2],Rt=lt.HEAPU32.subarray(Ft>>2,(Ft>>2)+At[mt]);if(mt++,j===void 0){let Nt=new _e;if(Nt.setIndex(new ho(Rt,1)),Nt.setAttribute("position",new Me(_t,3)),Nt.setAttribute("normal",new Me(Ct,3)),o){Nt.setAttribute("faceMap",new ho(Dt,1));let Gt=new Float32Array(Ct.length/3*4).fill(0);Nt.setAttribute("color",new Xe(Gt,4))}return lt.free_mesh_data(st),Nt.userData.type="SubdivGeometry",Nt}j.getAttribute("position").copyArray(_t),j.getAttribute("normal").copyArray(Ct),j.attributes.position.needsUpdate=!0,j.attributes.normal.needsUpdate=!0,lt.free_mesh_data(st)}static freeSubdivPointer(s){lt.free_bvh(s),lt.free_subdivision_surface(s)}static buildControlCageWireframe(s,o,_){let j=lt.get_wireframe_data_for_base_level(s),et=4,st=lt.HEAPU32.subarray(j>>2,(j>>2)+et),nt=st.subarray(2,4),ct=0,At=lt.HEAPU32[st[ct]>>2],mt=lt.HEAPF32.subarray(At>>2,(At>>2)+nt[ct]);ct++;let gt=lt.HEAPU32[st[ct]>>2],_t=lt.HEAPU32.subarray(gt>>2,(gt>>2)+nt[ct]);if(o===void 0){let Et=new _e;Et.setAttribute("position",new Me(mt,3));let Ct=new Float32Array(mt.length);for(let Bt=0,Dt=mt.length;Bt<Dt;)Ct[Bt++]=_.r,Ct[Bt++]=_.g,Ct[Bt++]=_.b;return Et.setAttribute("color",new Xe(Ct,3)),Et.setIndex(new ho(_t,1)),lt.free_wireframe_data_for_base_level(j),Et}o.getAttribute("position").copyArray(mt),o.attributes.position.needsUpdate=!0,lt.free_wireframe_data_for_base_level(j)}static updateCollabMesh(s,o,_){let j=o===0;j||lt.set_destination_refinement_level(s,o);let et=_?lt.get_topological_data2(s,j?lt.Level.CONTROL:lt.Level.REFINED,_.elements):lt.get_topological_data(s,j?lt.Level.CONTROL:lt.Level.REFINED),st=6,nt=lt.HEAPU32.subarray(et>>2,(et>>2)+st),ct=nt.subarray(3,6),At=0,mt=lt.HEAPU32[nt[At]>>2],gt=new Float32Array(lt.HEAPF32.subarray(mt>>2,(mt>>2)+ct[At]));At++;let _t=lt.HEAPU32[nt[At]>>2],Et=new Uint32Array(lt.HEAPU32.subarray(_t>>2,(_t>>2)+ct[At]));At++;let Ct=lt.HEAPU32[nt[At]>>2],Bt=new Uint8Array(lt.HEAPU32.subarray(Ct>>2,(Ct>>2)+ct[At]));return lt.free_topological_data(et),{positions:gt,indices:Et,verticesPerFace:Bt}}},YO=["getX","getY","getZ"];function Uc(s,o){let _={},j=o?o.count:s.count,et=0,st=[],nt=[],ct=1e4;for(let mt=0;mt<j;mt++){let gt=o?o.getX(mt):mt,_t="";for(let Et=0;Et<3;Et++)_t+=`${~~(s[YO[Et]](gt)*ct)},`;if(_t in _)st.push(_[_t]);else{for(let Et=0;Et<3;Et++)nt.push(s[YO[Et]](gt));_[_t]=et,st.push(et),et++}}let At=[];for(let mt=0;mt<st.length;mt+=3)st[mt]===st[mt+1]||st[mt]===st[mt+2]||st[mt+1]===st[mt+2]||At.push(st[mt],st[mt+1],st[mt+2]);return{positions:nt,triIndices:At}}var R0=new E$2,UA=new E$2,zA=new E$2,kA=new E$2;function GA(s,o,_,j){let et=[],st=[];if(_.userData.shape!==void 0&&_.userData.parameters.depth===0&&_.userData.shape.shapeHoles.length===0){let At=_.userData.shape.extractShapePointsToFlatArray([]),mt=_.userData.parameters.spikes;if(_.userData.type==="EllipseGeometry"&&mt<=24&&mt%4===0&&_.userData.parameters.angle>=360){let Et=At.length/2/mt;At=At.filter((Ct,Bt)=>Math.floor(Bt/2)%Et===0)}let gt=0;for(let Et=0;Et<At.length;Et+=2)gt+=(At[Et]-At[(Et===0?At.length:Et)-2])*(At[Et+1]+At[(Et===0?At.length:Et)-1]);s.length=0;let _t=0;if(gt<0)for(let Et=0;Et<At.length;Et+=2)s.push(At[Et],At[Et+1],0),et.push(_t++);else for(let Et=At.length-2;Et>=0;Et-=2)s.push(At[Et],At[Et+1],0),et.push(_t++);return st.push(_t),{indices:et,verticesPerFace:st}}let nt=new Float32Array([_.userData.parameters.depth])[0],ct=0;for(;ct<o.length;){if(_.useNgonForTopBottomFaceDuringBake){let At=0;if((s[o[ct]*3+2]===nt||s[o[ct]*3+2]===0)&&At++,(s[o[ct+1]*3+2]===nt||s[o[ct+1]*3+2]===0)&&At++,(s[o[ct+2]*3+2]===nt||s[o[ct+2]*3+2]===0)&&At++,At===3)break}if(o[ct+1]===o[ct+3]&&o[ct+2]===o[ct+5]||o[ct+0]===o[ct+3]&&o[ct+2]===o[ct+4]){R0.set(s[o[ct]*3],s[o[ct]*3+1],s[o[ct]*3+2]),UA.set(s[o[ct+1]*3],s[o[ct+1]*3+1],s[o[ct+1]*3+2]),zA.set(s[o[ct+4]*3],s[o[ct+4]*3+1],s[o[ct+4]*3+2]),kA.set(s[o[ct+5]*3],s[o[ct+5]*3+1],s[o[ct+5]*3+2]),UA.sub(R0).normalize(),zA.sub(R0).normalize(),kA.sub(R0).normalize();let At=UA.cross(zA).dot(kA);Math.abs(At)>.005||j&&j.some((mt,gt)=>gt%2===1?!1:ct>=j[gt]&&ct<j[gt+1])?(et.push(o[ct],o[ct+1],o[ct+2]),st.push(3),ct+=3):(et.push(o[ct],o[ct+1],o[ct+4],o[ct+5]),st.push(4),ct+=6)}else et.push(o[ct],o[ct+1],o[ct+2]),st.push(3),ct+=3}if(_.useNgonForTopBottomFaceDuringBake){let At=[],mt=[],gt=0;for(let _t=0,Et=0;_t<s.length;_t+=3,Et++)s[_t+2]===0&&(At.push(Et),gt++),s[_t+2]===nt&&mt.push(Et);if(_.userData.parameters.extrudeBevelSize===0){let _t=mt[0];mt[0]=mt[1],mt[1]=_t}At.reverse(),et.push(...At,...mt),st.push(gt,gt)}return{indices:et,verticesPerFace:st}}var ms={};aF(ms,{calcBoolean:()=>aY,calcBooleanTopological:()=>oY,freeMeshSet:()=>hY,getMeshSet:()=>lY,hasOpenEdges:()=>cY,transformMeshSet:()=>uY});var XO,QO=new Promise(s=>{XO=s}),L0;function KO(){if(L0)return L0;async function s(){let o="https://unpkg.com/@splinetool/boolean-wasm@1.9.30/build",_=__vitePreload(()=>import("./boolean-BpCokwB2.js"),[]),[j,et]=await Promise.all([_,fetch(`${o}/boolean.wasm`).then(ct=>ct.arrayBuffer())]),st=j.default,nt=await st({wasmBinary:et});XO(nt)}return L0=s(),L0}var Tt,Pd;QO.then(s=>Tt=s);function sY(s,o,_){let j,et;s.userData.parameters.type==="TorusGeometry"&&s.userData.parameters.arc===Math.PI*2?et=s.getClosedTorusIndicesForBooleanOrSubdiv():et=s.getIndex();let{positions:st,triIndices:nt}=Uc(s.getAttribute("position"),et),ct;if(o&&_){let{indices:At,verticesPerFace:mt}=GA(st,nt,s);ct=mt.length,j=[];for(let gt=0,_t=0;gt<ct;gt++){j.push(mt[gt]);for(let Et=0;Et<mt[gt];Et++)j.push(At[_t++])}}else{let At=nt.length;j=Array(At+At/3),ct=0;for(let mt=0,gt=0;gt<j.length;)j[gt++]=3,ct++,j[gt++]=nt[mt++],j[gt++]=nt[mt++],j[gt++]=nt[mt++]}return{positions:st,faceIndices:j,nFaces:ct}}function ZO(s){let o=s.length,_=o*Uint32Array.BYTES_PER_ELEMENT,j=o*Float32Array.BYTES_PER_ELEMENT,et=Number.isInteger(s[0])?_:j,st=Tt._malloc(et);return(Number.isInteger(s[0])?new Uint32Array(Tt.HEAPU32.buffer,st,o):new Float32Array(Tt.HEAPF32.buffer,st,o)).set(s,0),st}function JO(s){switch(s){case 0:return Tt.OP.UNION;case 1:return Tt.OP.INTERSECTION;case 2:return Tt.OP.A_MINUS_B;case 3:return Tt.OP.B_MINUS_A;case 4:return Tt.OP.SYMMETRIC_DIFFERENCE;case 5:return Tt.OP.ALL;default:throw new Error("Unknown boolean operation "+s)}}function oY(s,o){Pd===void 0&&(Pd=Tt.init_csg());let _=ZO(s),j=Tt.csg_calc_topological(Pd,_,s.length,JO(o));Tt._free(_);let et=6,st=Tt.HEAPU32.subarray(j>>2,(j>>2)+et),nt=st.subarray(3,6),ct=0,At=Tt.HEAPU32[st[ct]>>2],mt=new Float32Array(Tt.HEAPF32.subarray(At>>2,(At>>2)+nt[ct]));ct++;let gt=Tt.HEAPU32[st[ct]>>2],_t=new Uint32Array(Tt.HEAPU32.subarray(gt>>2,(gt>>2)+nt[ct]));ct++;let Et=Tt.HEAPU32[st[ct]>>2],Ct=new Uint8Array(Tt.HEAPU32.subarray(Et>>2,(Et>>2)+nt[ct]));return Tt.free_mesh_data(j),{positions:mt,indices:_t,verticesPerFace:Ct}}function aY(s,o,_,j){Pd===void 0&&(Pd=Tt.init_csg());let et=ZO(s),st=Tt.csg_calc(Pd,et,s.length,j,JO(o));Tt._free(et);let nt=5,ct=Tt.HEAPU32.subarray(st>>2,(st>>2)+nt),At=ct.subarray(2,5),mt=0,gt=Tt.HEAPU32[ct[mt]>>2],_t=Tt.HEAPF32.subarray(gt>>2,(gt>>2)+At[mt]);mt++;let Et=Tt.HEAPU32[ct[mt]>>2],Ct=Tt.HEAPF32.subarray(Et>>2,(Et>>2)+At[mt]);mt++;let Bt=At[mt];_.setAttribute("position",new Me(_t,3)),_.setAttribute("normal",new Me(Ct,3));let Dt=Tt.HEAPF32.subarray((st>>2)+5,(st>>2)+5+6);return _.boundingSphere===null&&(_.boundingSphere=new Or$1),_.boundingSphere.center.set(Dt[0],Dt[1],Dt[2]),_.boundingSphere.radius=(Dt[3]**2+Dt[4]**2+Dt[5]**2)**.5,_.userData.parameters={width:Dt[3]*2,height:Dt[4]*2,depth:Dt[5]*2},Tt.free_mesh_data(st),Bt}function lY(s,o,_){if(Tt===void 0)return-1;let j,et,st;if(o&&s.userData.positions!==void 0){let Ft=s.userData;st=Ft.verticesPerFace.length,j=Ft.positions,et=Array(Ft.verticesPerFace.reduce((Rt,Nt)=>Rt+Nt,0)+st);for(let Rt=0,Nt=0,Gt=0;Rt<Ft.verticesPerFace.length;Rt++){et[Gt++]=Ft.verticesPerFace[Rt];for(let dr=0;dr<Ft.verticesPerFace[Rt];dr++)et[Gt++]=Ft.indices[Nt++]}}else({positions:j,faceIndices:et,nFaces:st}=sY(s,o,_));let nt=j.length,ct=et.length,At=j.length,mt=et.length,gt=At*Float32Array.BYTES_PER_ELEMENT+mt*Uint32Array.BYTES_PER_ELEMENT,_t=At*Float32Array.BYTES_PER_ELEMENT,Et=Tt._malloc(gt),Ct=new Float32Array(Tt.HEAPF32.buffer,Et,At),Bt=new Uint32Array(Tt.HEAPU32.buffer,Et+_t,mt);Ct.set(j,0),Bt.set(et,0);let Dt=Tt.get_csg_mesh(Et,nt,Et+_t,ct,st);return Tt._free(Et),Dt}function cY(s){return Tt.has_open_edges(s)}function uY(s,o){Tt.transform_csg_mesh(s,o.elements)}function hY(s){Tt.free_csg_mesh(s)}var dY={ConeGeometry:qI,CubeGeometry:YI,CylinderGeometry:g0,DodecahedronGeometry:XI,EllipseGeometry:Ad,HelixGeometry:AO,IcosahedronGeometry:EO,LatheGeometry:MO,NonParametricGeometry:_O,PolygonGeometry:C0,PyramidGeometry:DO,RectangleGeometry:Td,SphereGeometry:IO,PlaneGeometry:OO,BackdropGeometry:RO,StarGeometry:P0,TextFrameGeometry:LO,TorusGeometry:BO,TorusKnotGeometry:NO,TriangleGeometry:FO,PathGeometry:UO,VectorGeometry:Rn},VA=s=>dY[s.type].create(s);function _d(s){return s!==null&&"booleanOp"in s}var Dd=class extends md(Ut){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new ue$2}updateVisible(s){super.updateVisible(s),this.visible=!_d(this.parent)&&this.visible,_d(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(ms.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(s=!1){return s?this.booleanWasTransformed=!0:this.freeBooleanPointer(),_d(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let s of this.children)s instanceof Dd&&(s.freeBooleanPointer(),_d(s)&&s.invalidateUpstreamBooleanData())}updateTransformState(s,o){let _=super.updateTransformState(s,o);return _&&_d(this.parent)&&this.invalidateDownstreamBooleanData(!0),_}onVariableUpdate(s=!1){super.onVariableUpdate(s),_d(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},B0=new jt;function um(s,o=0,_=s.count,j,et){let st=1/0,nt=1/0,ct=1/0,At=-1/0,mt=-1/0,gt=-1/0;for(let _t=o;_t<_;_t++){let Et=s.getX(_t),Ct=s.getY(_t),Bt=s.getZ(_t);Et<st&&(st=Et),Ct<nt&&(nt=Ct),Bt<ct&&(ct=Bt),Et>At&&(At=Et),Ct>mt&&(mt=Ct),Bt>gt&&(gt=Bt)}B0.min.set(st,nt,ct),B0.max.set(At,mt,gt),B0.getCenter(j),B0.getSize(et).multiplyScalar(.5)}var fY=new _e,pY=new on$1,mr=class extends Dd{constructor(s,o){super(fY,pY),this.super_Entity(s,o)}updateState(s,o){this.updateState_Entity(s,o)}updateEntityBoxSize(s,o){let _=this.geometry.getAttribute("position");_!==void 0?um(_,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:_.count,s,o):super.updateEntityBoxSize(s,o)}},Pa=class{constructor(s){if(this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},Pa.uuidContext===null)throw new Error("plz startContext");Pa.uuidContext===Pa.globalContext?this.uuid="_gid"+Pa.uuidContext.nodeContextUuid++:this.uuid="_uid"+Pa.uuidContext.nodeContextUuid++,this.type=s,this.name=""}static startContext(s){this.uuidContext===null||this.uuidContext===Pa.globalContext?this.uuidContext=s:console.error("Can't start context twice")}static endContext(s){this.uuidContext!==s&&console.error("Can't end context twice"),this.uuidContext=null}analyze(s,o){o=o??{},s.analyzing=!0,this.build(s.addFlow(o.slot,o.cache,o.context),"v4"),s.clearVertexNodeCode(),s.clearFragmentNodeCode(),s.removeFlow(),s.analyzing=!1}analyzeAndFlow(s,o,_){return _=_??{},this.analyze(s,_),this.flow(s,o,_)}flow(s,o,_){_=_??{},s.addFlow(_.slot,_.cache,_.context);let j={result:this.build(s,o),code:s.clearNodeCode(),extra:s.context.extra};return s.removeFlow(),j}build(s,o,_){o=o??this.getType(s,o);let j=s.getNodeData(_??this);return s.analyzing&&this.appendDepsNode(s,j,o),s.nodes.indexOf(this)===-1&&s.nodes.push(this),this.updateFrame!==void 0&&s.updaters.indexOf(this)===-1&&s.updaters.push(this),this.generate(s,o,_)}updateFrame(s){}generateReadonly(s,o,_,j,et,st){return""}generate(s,o,_,j,et){return""}parse(s,o,_,j){}appendDepsNode(s,o,_){o.deps=(o.deps||0)+1;let j=s.getTypeLength(_);(j>(o.outputMax||0)||this.getType(s,_))&&(o.outputMax=j,o.output=_)}setName(s){this.name=s}getName(){return this.name}getType(s,o){return o==="sampler2D"||o==="samplerCube"?o:this.type}},sr=Pa;sr.globalContext={nodeContextUuid:0},sr.uuidContext=Pa.globalContext;var hm=class{constructor(s){s=s??{},this.name=s.name,this.type=s.type,this.node=s.node,this.size=s.size,this.needsUpdate=s.needsUpdate}get value(){return this.node.value}set value(s){this.node.value=s}},jA=class{constructor(){this.nodes={},this.keywords={}}add(s){this.nodes[s.name]=s}addKeyword(s,o,_){_=_!==void 0?_:!0,this.keywords[s]={callback:o,cache:_}}remove(s){delete this.nodes[s.name]}removeKeyword(s){delete this.keywords[s]}get(s){return this.nodes[s]}getKeyword(s,o){return this.keywords[s].callback(o)}getKeywordData(s){return this.keywords[s]}contains(s){return this.nodes[s]!==void 0}containsKeyword(s){return this.keywords[s]!==void 0}},_i=new jA,tt=class extends sr{constructor(s,o){super(s),this.scope="",o=o??{},this.shared=o.shared!==void 0?o.shared:!0,this.unique=o.unique!==void 0?o.unique:!1}build(s,o,_,j){if(o=o??this.getType(s),this.getShared(s,o)){let et=this.getUnique(s,o);et&&this.uuid===void 0&&(this.uuid=we.generateUUID()),_=s.getUUID(_??this.getUUID(),!et);let st=s.getNodeData(_),nt=st.output||this.getType(s);if(s.analyzing)return(st.deps||0)>0||this.getLabel()?(this.appendDepsNode(s,st,o),this.generate(s,o,_)):super.build(s,o,_);if(et)return st.name=st.name||super.build(s,o,_),st.name;if(!this.getLabel()&&(!this.getShared(s,nt)||s.context.ignoreCache||st.deps===1))return super.build(s,o,_);_=this.getUUID(!1);let ct=this.getTemp(s,_);if(ct)return s.format(ct,nt,o);{ct=super.generate(s,o,_,st.output,j);let At=this.generate(s,nt,_);return s.addNodeCode(ct+" = "+At+";"),s.format(ct,nt,o)}}return super.build(s,o,_)}getShared(s,o){return o!=="sampler2D"&&o!=="samplerCube"&&this.shared}getUnique(s,o){return this.unique}setLabel(s){return this.label=s,this}getLabel(){return this.label}getUUID(s){let o=this.uuid;return typeof this.scope=="string"&&(o=this.scope+"-"+o),o}getTemp(s,o){o=o||this.uuid;let _=s.getVars()[o];return _?_.name:void 0}generate(s,o,_,j,et){return this.getShared(s,o)||console.error("TempNode is not shared"),_=_??this.uuid,s.getTempVar(_,j??this.getType(s),et,this.getLabel()).name}},or=class extends tt{constructor(s,o){o=o??{},o.shared=o.shared!==void 0?o.shared:!1,super(s,o),this.readonly=!1}setReadonly(s){return this.readonly=s,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(s,o,_,j,et,st){_=s.getUUID(_??this.getUUID()),j=j??this.getType(s);let nt=s.getNodeData(_);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(s,o,_,j,et,st):s.isShader("vertex")?(nt.vertex||(nt.vertex=s.createVertexUniform(j,this,et,st,this.getLabel())),s.format(nt.vertex.name,j,o)):(nt.fragment||(nt.fragment=s.createFragmentUniform(j,this,et,st,this.getLabel())),s.format(nt.fragment.name,j,o))}},Hr=class extends or{constructor(s=0,o){super("v2"),this.nodeType="Vector2",this.value=s instanceof U$1?s:new U$1(s,o)}get x(){return this.value.x}set x(s){this.value.x=s}get y(){return this.value.y}set y(s){this.value.y=s}generateReadonly(s,o,_,j,et,st){return s.format("vec2("+this.value.x+", "+this.value.y+")",j,o)}},Xi=class extends or{constructor(s=0,o,_){super("v3"),this.nodeType="Vector3",this.value=s instanceof E$2?s:new E$2(s,o,_)}get x(){return this.value.x}set x(s){this.value.x=s}get y(){return this.value.y}set y(s){this.value.y=s}get z(){return this.value.z}set z(s){this.value.z=s}generateReadonly(s,o,_,j,et,st){return s.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",j,o)}},vr=class extends We{constructor(s,o,_,j){super(s,o,_),this.isColorA=!0,this.a=j}setRGBA(s,o,_,j){super.setRGB(s,o,_),this.a=j}copy(s){return super.copy(s),this.a="a"in s?s.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(s){return super.equals(s)&&this.a===s.a}setStyle(s,o="srgb"){let _;if(s==="transparent")return this.setRGBA(0,0,0,0),this;if(_=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(s)){let j,et=_[1],st=_[2];switch(et){case"rgb":case"rgba":if(j=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.a=et==="rgba"?parseFloat(j[4]):1,super.setStyle(s,o);break;case"hsl":case"hsla":if(j=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.a=et==="hsla"?parseFloat(j[4]):1,super.setStyle(s,o);break}}return super.setStyle(s,o)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(s){this.r=s}set y(s){this.g=s}set z(s){this.b=s}set w(s){this.a=s}},Ln=class extends or{constructor(s){super("v4"),this.nodeType="Vector4",this.value=s instanceof vr?s:new vr(s.r,s.g,s.b,s.a)}generateReadonly(s,o,_,j,et,st){return s.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",j,o)}},mY=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,$O=/[a-z_0-9]+/gi,Ee$1=class extends tt{constructor(o,_,j,et,st){super(st),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=st===void 0,this.isInterface=!1,this.parse(o,_,j,et)}getShared(o,_){return!this.isMethod}getType(o){return o.getTypeByFormat(this.type)}getInputByName(o){if(this.inputs){let _=this.inputs.length;for(;_--;)if(this.inputs[_].name===o)return this.inputs[_]}}getIncludeByName(o){if(this.includes){let _=this.includes.length;for(;_--;)if(this.includes[_].name===o)return this.includes[_]}}generate(o,_,j,et,st){let nt,ct=0,At=this.src;if(this.includes)for(let gt=0;gt<this.includes.length;gt++)o.include(this.includes[gt],this);for(let gt in this.extensions)o.extensions[gt]=!0;let mt=[];for(;nt=$O.exec(this.src);)mt.push(nt);for(let gt=0;gt<mt.length;gt++){let _t=mt[gt],Et=_t[0],Ct=this.isMethod?!this.getInputByName(Et):!0,Bt=Et;if(this.keywords[Et]||this.useKeywords&&Ct&&_i.containsKeyword(Et)){let Dt=this.keywords[Et];if(!Dt){let Ft=_i.getKeywordData(Et);Ft.cache&&(Dt=o.keywords[Et]),Dt=Dt||_i.getKeyword(Et,o),Ft.cache&&(o.keywords[Et]=Dt)}Bt=Dt.build(o)}Et!==Bt&&At[_t.index+ct-1]!=="."&&(At=At.substring(0,_t.index+ct)+Bt+At.substring(_t.index+Et.length+ct),ct+=Bt.length-Et.length),this.getIncludeByName(Bt)===void 0&&_i.contains(Bt)&&o.include(_i.get(Bt))}return _==="source"?At:this.isMethod?(this.isInterface||o.include(this,void 0,At),this.name):o.format("( "+At+" )",this.getType(o),_)}parse(o,_,j,et){if(this.src=o||"",this.includes=_??[],this.extensions=j??{},this.keywords=et??{},this.isMethod){let st=mY.exec(this.src);if(this.inputs=[],st&&st.length==4){this.type=st[1],this.name=st[2];let nt=st[3].match($O);if(nt){let ct=0;for(;ct<nt.length;){let At=nt[ct++],mt;At==="in"||At==="out"||At==="inout"?mt=nt[ct++]:(mt=At,At="");let gt=nt[ct++];this.inputs.push({name:gt,type:mt,qualifier:At})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},gY=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,HA=class extends tt{constructor(s="",o){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(s||HA.PI,void 0,void 0,void 0,o)}getType(s){return s.getTypeByFormat(this.type)}parse(s,o,_,j,et){this.src=s||"";let st,nt,ct="",At=gY.exec(s);this.useDefine=et??this.src.charAt(0)==="#",At&&At.length>1?(nt=At[1],st=At[2],ct=At[3]):(st=this.src,nt="f"),this.name=st,this.type=nt,this.value=ct}build(s,o){if(o==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return s.include(this),s.format(this.name,this.getType(s),o)}generate(s,o,_,j,et){return s.format(this.name,this.getType(s),o)}},Wt=HA;Wt.PI="PI",Wt.PI2="PI2",Wt.RECIPROCAL_PI="RECIPROCAL_PI",Wt.RECIPROCAL_PI2="RECIPROCAL_PI2",Wt.LOG2="LOG2",Wt.EPSILON="EPSILON";var yY=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),vY=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),Id=class extends tt{constructor(s=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(s)}getType(s){return s.getTypeByFormat(this.name)}getInputByName(s){let o=this.inputs.length;for(;o--;)if(this.inputs[o].name===s)return this.inputs[o]}generate(s,o,_,j,et){return o==="source"?this.src+";":s.format("( "+this.src+" )",this.getType(s),o)}parse(s=""){this.src=s,this.inputs=[];let o=yY.exec(s);if(o){let _=o[2],j;for(;j=vY.exec(_);)this.inputs.push({type:j[1],name:j[2]});this.name=o[1]}else this.name="";this.type=this.name}},Od=class extends tt{constructor(s){super("v2",{shared:!1}),this.nodeType="UV",this.index=s??0}generate(s,o){s.requires.uv[this.index]=!0;let _=this.index>0?this.index+1:"",j=s.isShader("vertex")?"uv"+_:"vUv"+_;return s.format(j,this.getType(s),o)}};_i.addKeyword("uv",function(){return new Od});_i.addKeyword("uv2",function(){return new Od(1)});var zc=class extends tt{constructor(s,o){super("v4"),this.nodeType="ColorSpace",this.input=s,this.method=o??zc.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(s){switch(s){case mn:return["Linear"];case at:return["sRGB"];default:return[]}}generate(s,o){var nt;let _=this.input.build(s,"v4"),j=this.getType(s),et=zc.Nodes[this.method],st=s.include(et);if(st===zc.LINEAR_TO_LINEAR)return s.format(_,j,o);if(((nt=et.inputs)==null?void 0:nt.length)===2){let ct=this.factor.build(s,"f");return s.format(st+"( "+_+", "+ct+" )",j,o)}else return s.format(st+"( "+_+" )",j,o)}fromEncoding(s){let o=zc.getEncodingComponents(s);this.method="LinearTo"+o[0],this.factor=o[1]}fromDecoding(s){let o=zc.getEncodingComponents(s);this.method=o[0]+"ToLinear",this.factor=o[1]}},xn=zc;xn.Nodes={LinearToLinear:new Ee$1(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ee$1(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ee$1(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},xn.LINEAR_TO_LINEAR="LinearToLinear",xn.SRGB_TO_LINEAR="sRGBToLinear",xn.LINEAR_TO_SRGB="LinearTosRGB";var Yt=class extends Ee$1{constructor(s="",o,_,j,et){super(s,et,j,_,o),this.nodeType="Expression"}},bn=class extends or{constructor(s=new $t,o,_,j){super("v4",{shared:!0}),this.nodeType="Texture",this.value=s,this.uv=o??new Od,this.bias=_,this.project=j!==void 0?j:!1}getTexture(s,o){return super.generate(s,o,this.value.uuid,"t")}generate(s,o){if(o==="sampler2D")return this.getTexture(s,o);let _=this.getTexture(s,o),j=this.uv.build(s,this.project?"v4":"v2"),et=this.bias?this.bias.build(s,"f"):void 0;et===void 0&&s.context.bias&&(et=s.context.bias.setTexture(this).build(s,"f"));let st,nt;this.project?st="texture2DProj":st=et?"tex2DBias":"tex2D",et?nt=st+"( "+_+", "+j+", "+et+" )":nt=st+"( "+_+", "+j+" )";let ct={include:s.isShader("vertex"),ignoreCache:!0},At=this.getType(s);return s.addContext(ct),this.colorSpace=this.colorSpace??new xn(new Yt("",At)),this.colorSpace.fromDecoding(s.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(nt),nt=this.colorSpace.build(s,At),s.removeContext(),s.format(nt,At,o)}},Fe=class extends or{constructor(s){super("f"),this.nodeType="Float",this.value=s??0}generateReadonly(s,o,_,j,et,st){return s.format(this.value+(this.value%1?"":".0"),j,o)}},dm=class extends tt{constructor(s,o){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=s,this.inputs=o??[]}getFunction(){return this.value}getType(s){return this.value.getType(s)}generate(s,o,_,j,et){j=this.getType(s);let st=this.value,nt=st.build(s,o)+"( ",ct=[];if(st.inputs){for(let At=0;At<st.inputs.length;At++){let mt=st.inputs[At],gt=this.inputs[At]||this.inputs[mt.name];ct.push(gt.build(s,s.getTypeByFormat(mt.type)))}nt+=ct.join(", ")+" )"}return s.format(nt,j,o)}},WA=class extends tt{constructor(s,o,_=WA.ADD){super(),this.nodeType="Operator",this.type=s.type,this.a=s,this.b=o,this.op=_}getType(s){let o=this.a.getType(s),_=this.b.getType(s);return s.isTypeMatrix(o)?"v4":s.getTypeLength(_)>s.getTypeLength(o)?_:o}generate(s,o){let _=this.getType(s);this.type=_;let j=this.a.build(s,_),et=this.b.build(s,_);return s.format("( "+j+" "+this.op+" "+et+" )",_,o)}},Ui=WA;Ui.ADD="+",Ui.SUB="-",Ui.MUL="*",Ui.DIV="/";var ar=class extends tt{constructor(s,o=ar.ABS,_,j){super(),this.nodeType="Math",this.a=s,typeof o!="string"?this.b=o:j=o,typeof _!="string"?this.c=_:j=_,this.method=j,this.hashProperties=["method"]}getNumInputs(s){switch(this.method){case ar.MIX:case ar.CLAMP:case ar.REFRACT:case ar.SMOOTHSTEP:case ar.FACEFORWARD:return 3;case ar.MIN:case ar.MAX:case ar.MOD:case ar.STEP:case ar.REFLECT:case ar.DISTANCE:case ar.DOT:case ar.CROSS:case ar.POW:return 2;default:return 1}}getInputType(s){let o=s.getTypeLength(this.a.getType(s)),_=this.b?s.getTypeLength(this.b.getType(s)):0,j=this.c?s.getTypeLength(this.c.getType(s)):0;return o>_&&o>j?this.a.getType(s):_>j?this.b.getType(s):this.c.getType(s)}getType(s){switch(this.method){case ar.LENGTH:case ar.DISTANCE:case ar.DOT:return"f";case ar.CROSS:return"v3"}return this.getInputType(s)}generate(s,o){let _,j,et,st=this.a?s.getTypeLength(this.a.getType(s)):0,nt=this.b?s.getTypeLength(this.b.getType(s)):0,ct=this.c?s.getTypeLength(this.c.getType(s)):0,At=this.getInputType(s),mt=this.getType(s);switch(this.type=mt,this.method){case ar.NEGATE:return s.format("( -"+this.a.build(s,At)+" )",At,o);case ar.INVERT:return s.format("( 1.0 - "+this.a.build(s,At)+" )",At,o);case ar.CROSS:_=this.a.build(s,"v3"),j=this.b.build(s,"v3");break;case ar.STEP:_=this.a.build(s,st===1?"f":At),j=this.b.build(s,At);break;case ar.MIN:case ar.MAX:case ar.MOD:_=this.a.build(s,At),j=this.b.build(s,nt===1?"f":At);break;case ar.REFRACT:_=this.a.build(s,At),j=this.b.build(s,At),et=this.c.build(s,"f");break;case ar.MIX:_=this.a.build(s,At),j=this.b.build(s,At),et=this.c.build(s,ct===1?"f":At);break;default:_=this.a.build(s,At),this.b&&(j=this.b.build(s,At)),this.c&&(et=this.c.build(s,At));break}let gt=[];gt.push(_),j&&gt.push(j),et&&gt.push(et);let _t=this.getNumInputs(s);if(gt.length!==_t)throw Error(`Arguments not match used in "${this.method}". Require ${_t}, currently ${gt.length}.`);return s.format(this.method+"( "+gt.join(", ")+" )",mt,o)}},ft=ar;ft.RAD="radians",ft.DEG="degrees",ft.EXP="exp",ft.EXP2="exp2",ft.LOG="log",ft.LOG2="log2",ft.SQRT="sqrt",ft.INV_SQRT="inversesqrt",ft.FLOOR="floor",ft.CEIL="ceil",ft.NORMALIZE="normalize",ft.FRACT="fract",ft.SATURATE="saturate",ft.SIN="sin",ft.COS="cos",ft.TAN="tan",ft.ASIN="asin",ft.ACOS="acos",ft.ARCTAN="atan",ft.ABS="abs",ft.SIGN="sign",ft.LENGTH="length",ft.NEGATE="negate",ft.INVERT="invert",ft.MIN="min",ft.MAX="max",ft.MOD="mod",ft.STEP="step",ft.REFLECT="reflect",ft.DISTANCE="distance",ft.DOT="dot",ft.CROSS="cross",ft.POW="pow",ft.MIX="mix",ft.CLAMP="clamp",ft.REFRACT="refract",ft.SMOOTHSTEP="smoothstep",ft.FACEFORWARD="faceforward";var Rd=class extends tt{constructor(s,o,_){super("v4"),this.nodeType="TextureCubeUV",this.value=s,this.uv=o,this.bias=_}bilinearCubeUV(s,o,_,j){let et=new dm(Rd.Nodes.bilinearCubeUV,[o,_,j]);this.colorSpaceTL=this.colorSpaceTL??new xn(new Yt("","v4")),this.colorSpaceTL.fromDecoding(s.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(et.build(s)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new xn(new Yt("","v4")),this.colorSpaceTR.fromDecoding(s.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(et.build(s)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new xn(new Yt("","v4")),this.colorSpaceBL.fromDecoding(s.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(et.build(s)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new xn(new Yt("","v4")),this.colorSpaceBR.fromDecoding(s.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(et.build(s)+".br");let st={include:s.isShader("vertex"),ignoreCache:!0};s.addContext(st),this.colorSpaceTLExp=new Yt(this.colorSpaceTL.build(s,"v4"),"v4"),this.colorSpaceTRExp=new Yt(this.colorSpaceTR.build(s,"v4"),"v4"),this.colorSpaceBLExp=new Yt(this.colorSpaceBL.build(s,"v4"),"v4"),this.colorSpaceBRExp=new Yt(this.colorSpaceBR.build(s,"v4"),"v4"),s.removeContext();let nt=new Yt("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return nt.keywords.cubeUV_TL=this.colorSpaceTLExp,nt.keywords.cubeUV_TR=this.colorSpaceTRExp,nt.keywords.cubeUV_BL=this.colorSpaceBLExp,nt.keywords.cubeUV_BR=this.colorSpaceBRExp,nt.keywords.cubeUV=et,nt}generate(s,o){if(s.isShader("fragment")){let _=this.uv,j=this.bias||s.context.roughness,et=new dm(Rd.Nodes.roughnessToMip,[j]),st=new ft(et,Rd.Nodes.m0,Rd.Nodes.cubeUV_maxMipLevel,ft.CLAMP),nt=new ft(st,ft.FLOOR),ct=new ft(st,ft.FRACT),At=this.bilinearCubeUV(s,this.value,_,nt),mt=this.bilinearCubeUV(s,this.value,_,new Ui(nt,new Fe(1).setReadonly(!0),Ui.ADD)),gt=new ft(At,mt,ct,ft.MIX);return s.format(gt.build(s),"v4",o)}else return console.warn("TextureCubeUVNode is not compatible with "+s.shader+" shader."),s.format("vec4( 0.0 )",this.getType(s),o)}},Ld=Rd;Ld.Nodes=function(){let s=new Id(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),o=new Wt("float cubeUV_maxMipLevel 8.0",!0),_=new Wt("float cubeUV_minMipLevel 4.0",!0),j=new Wt("float cubeUV_maxTileSize 256.0",!0),et=new Wt("float cubeUV_minTileSize 16.0",!0),st=new Ee$1(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);st.useKeywords=!1;let nt=new Ee$1(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);nt.useKeywords=!1;let ct=new Ee$1(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[s,st,nt,o,_,j,et]);ct.useKeywords=!1;let At=new Wt("float r0 1.0",!0),mt=new Wt("float v0 0.339",!0),gt=new Wt("float m0 -2.0",!0),_t=new Wt("float r1 0.8",!0),Et=new Wt("float v1 0.276",!0),Ct=new Wt("float m1 -1.0",!0),Bt=new Wt("float r4 0.4",!0),Dt=new Wt("float v4 0.046",!0),Ft=new Wt("float m4 2.0",!0),Rt=new Wt("float r5 0.305",!0),Nt=new Wt("float v5 0.016",!0),Gt=new Wt("float m5 3.0",!0),dr=new Wt("float r6 0.21",!0),ts=new Wt("float v6 0.0038",!0),es=new Wt("float m6 4.0",!0),ds=[At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,es],tn=new Ee$1(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,ds);return{bilinearCubeUV:ct,roughnessToMip:tn,m0:gt,cubeUV_maxMipLevel:o}}();var kc=class extends tt{constructor(s){super("v3"),this.nodeType="Normal",this.scope=s??kc.VIEW}getShared(){return this.scope===kc.WORLD}build(s,o,_,j){let et=s.context[this.scope+"Normal"];return et?et.build(s,o,_,j):super.build(s,o,_)}generate(s,o,_,j,et){let st;switch(this.scope){case kc.VIEW:s.isShader("vertex")?st="transformedNormal":st="geometryNormal";break;case kc.LOCAL:s.isShader("vertex")?st="objectNormal":(s.requires.normal=!0,st="vObjectNormal");break;case kc.WORLD:s.isShader("vertex")?st="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(s.requires.worldNormal=!0,st="vWNormal");break}return s.format(st,this.getType(s),o)}},zi=kc;zi.LOCAL="local",zi.WORLD="world",zi.VIEW="view",zi.NORMAL="normal";_i.addKeyword("viewNormal",function(){return new zi(zi.VIEW)});_i.addKeyword("localNormal",function(){return new zi(zi.NORMAL)});_i.addKeyword("worldNormal",function(){return new zi(zi.WORLD)});var Oo=class extends tt{constructor(s){super("v3"),this.nodeType="Position",this.scope=s??Oo.LOCAL}getType(){switch(this.scope){case Oo.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case Oo.LOCAL:case Oo.WORLD:return!1}return!0}generate(s,o,_,j,et){let st;switch(this.scope){case Oo.LOCAL:s.isShader("vertex")?st="transformed":(s.requires.position=!0,st="vPosition");break;case Oo.WORLD:if(s.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";s.requires.worldPosition=!0,st="vWPosition";break;case Oo.VIEW:st=s.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case Oo.PROJECTION:st=s.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return s.format(st,this.getType(),o)}},Bn=Oo;Bn.LOCAL="local",Bn.WORLD="world",Bn.VIEW="view",Bn.PROJECTION="projection";_i.addKeyword("position",function(){return new Bn});_i.addKeyword("worldPosition",function(){return new Bn(Bn.WORLD)});_i.addKeyword("viewPosition",function(){return new Bn(Bn.VIEW)});var qs=class extends tt{constructor(s){super("v3"),this.nodeType="Reflect",this.scope=s??qs.CUBE}getUnique(s){return!s.context.viewNormal}getType(){switch(this.scope){case qs.SPHERE:return"v2"}return this.type}generate(s,o){let _=this.getUnique(s);if(s.isShader("fragment")){let j;switch(this.scope){case qs.VECTOR:{let et=new zi(zi.VIEW),st=s.context.roughness,nt=et.build(s,"v3"),ct=new Bn(Bn.VIEW).build(s,"v3"),At=st?st.build(s,"f"):void 0,mt=`reflect( -normalize( ${ct} ), ${nt} )`;At&&(mt=`normalize( mix( ${mt}, ${nt}, ${At} * ${At} ) )`);let gt=`inverseTransformDirection( ${mt}, viewMatrix )`;_?(s.addNodeCode(`vec3 reflectVec = ${gt};`),j="reflectVec"):j=gt;break}case qs.CUBE:{let et=new qs(qs.VECTOR).build(s,"v3"),st="vec3( -"+et+".x, "+et+".yz )";_?(s.addNodeCode(`vec3 reflectCubeVec = ${st};`),j="reflectCubeVec"):j=st;break}case qs.SPHERE:{let et="normalize( ( viewMatrix * vec4( "+new qs(qs.VECTOR).build(s,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";_?(s.addNodeCode(`vec2 reflectSphereVec = ${et};`),j="reflectSphereVec"):j=et;break}}return s.format(j,this.getType(),o)}else return console.warn("ReflectNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.type,o)}},Ro=qs;Ro.CUBE="cube",Ro.SPHERE="sphere",Ro.VECTOR="vector";var N0=class extends tt{constructor(s=new bn,o,_){super("v4"),this.nodeType="TextureCube",this.value=s,this.radianceNode=new Ld(this.value,o??new Ro(Ro.VECTOR),_),this.irradianceNode=new Ld(this.value,new zi(zi.WORLD),new Fe(1).setReadonly(!0))}generate(s,o){return s.isShader("fragment")?(s.require("irradiance"),s.context.bias&&s.context.bias.setTexture(this.value),(s.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(s,o)):(console.warn("TextureCubeNode is not compatible with "+s.shader+" shader."),s.format("vec4( 0.0 )",this.getType(s),o))}},F0=class extends or{constructor(s=new Ru,o,_){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=s,this.uv=o??new Ro,this.bias=_}getTexture(s,o){return super.generate(s,o,this.value.uuid,"tc")}generate(s,o){var At;if(o==="samplerCube")return this.getTexture(s,o);let _=this.getTexture(s,o),j=(At=this.uv)==null?void 0:At.build(s,"v3"),et=this.bias?this.bias.build(s,"f"):void 0;et===void 0&&s.context.bias&&(et=s.context.bias.setTexture(this).build(s,"f"));let st;et?st="texCubeBias( "+_+", "+j+", "+et+" )":st="texCube( "+_+", "+j+" )";let nt={include:s.isShader("vertex"),ignoreCache:!0},ct=this.getType(s);return s.addContext(nt),this.colorSpace=this.colorSpace??new xn(new Yt("",ct)),this.colorSpace.fromDecoding(s.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(st),st=this.colorSpace.build(s,ct),s.removeContext(),s.format(st,ct,o)}},eR=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,tR=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,rR=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,iR=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,nR=`
layout(location = 1) out vec4 gVelocity;
`,sR=`
    // Discard fully transparent pixels 
    if (gl_FragColor.a <= 0.0) discard;

    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);
`,oR=["x","y","z","w"],xY=["float","vec2","vec3","vec4"],bY={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},SY$1={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},Bd=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function s(o,_){return o.deps.length-_.deps.length}return function(o,_){let j=this.getIncludes(o,_);if(!j)return"";let et="";j=j.sort(s);for(let st=0;st<j.length;st++)j[st].src&&(et+=j[st].src+`
`);return et}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(s,o){this.addVertexParsCode(eR),this.addFragmentParsCode(tR),this.buildShader("vertex",s),this.buildShader("fragment",o);for(let _=0;_<this.requires.uv.length;_++)if(this.requires.uv[_]){let j=_>0?_+1:"";this.addVaryCode("varying vec2 vUv"+j+";"),_>0&&this.addVertexParsCode("attribute vec2 uv"+j+";"),this.addVertexFinalCode("vUv"+j+" = uv"+j+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(rR),this.addFragmentFinalCode(iR)),this}buildShader(s,o){this.resultCode[s]=o.build(this.setShader(s),"v4")}setMaterial(s,o){return this.defines={},this}addFlow(s,o,_){return this.addSlot(s).addCache(o).addContext(_)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(s){return this.cache=s??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(s){return this.context=Object.assign({},this.context,s),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(s){return this.slot=s||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(s,o){this.fragmentVariables[s]===void 0&&(this.addFragmentCode(`${o} ${s};`),this.fragmentVariables[s]="")}addFragmentParsVariable(s,o){this.fragmentParsVariables[s]===void 0&&(this.addFragmentParsCode(`${o} ${s};`),this.fragmentParsVariables[s]="")}addVertexParsVariable(s,o){this.vertexParsVariables[s]===void 0&&(this.addVertexParsCode(`${o} ${s};`),this.vertexParsVariables[s]="")}addVertexCode(s){this.addCode(s,"vertex")}addFragmentCode(s){this.addCode(s,"fragment")}addCode(s,o){this.code[o??this.shader]+=s+`
`}addVertexNodeCode(s){this.addNodeCode(s,"vertex")}addFragmentNodeCode(s){this.addNodeCode(s,"fragment")}addNodeCode(s,o){this.nodeCode[o??this.shader]+=s+`
`}clearNodeCode(s){s=s??this.shader;let o=this.nodeCode[s];return this.nodeCode[s]="",o}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(s){this.addFinalCode(s,"vertex")}addFragmentFinalCode(s){this.addFinalCode(s,"fragment")}addFinalCode(s,o){this.finalCode[o??this.shader]+=s+`
`}addVertexParsCode(s){this.addParsCode(s,"vertex")}addFragmentParsCode(s){this.addParsCode(s,"fragment")}addParsCode(s,o){this.parsCode[o??this.shader]+=s+`
`}addVaryCode(s){this.addVertexParsCode(s),this.addFragmentParsCode(s)}isCache(s){return this.caches.indexOf(s)!==-1}isSlot(s){return this.slots.indexOf(s)!==-1}define(s,o){this.defines[s]=o===void 0?1:o}require(s){this.requires[s]=!0}isDefined(s){return this.defines[s]!==void 0}getVar(s,o,_,j="varying",et="V",st=""){let nt=this.getVars(j),ct=nt[s];if(!ct){let At=nt.length;ct={name:_||"node"+et+At+(st?"_"+st:""),type:o},nt.push(ct),nt[s]=ct}return ct}getTempVar(s,o,_,j){return this.getVar(s,o,_,this.shader,"T",j)}getAttribute(s,o){if(!this.attributes[s]){let _=this.getVar(s,o);this.addVertexParsCode("attribute "+o+" "+s+";"),this.addVertexFinalCode(_.name+" = "+s+";"),this.attributes[s]={varying:_,name:s,type:o}}return this.attributes[s]}getCode(s){return[this.prefixCode,this.parsCode[s],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[s],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[s],"uniform"),this.getIncludesCode("consts",s),this.getIncludesCode("structs",s),this.getIncludesCode("functions",s),"void main() {",this.getVarListCode(this.getVars(s)),this.code[s],this.resultCode[s],this.finalCode[s],"}"].join(`
`)}getVarListCode(s,o){o=o??"";let _="";for(let j=0,et=s.length;j<et;++j){let st=s[j],nt=st.type,ct=st.name,At=st.size,mt=this.getFormatByType(nt);if(mt===void 0)throw new Error("Node pars "+mt+" not found.");mt.includes("[]")?_+=o+" "+mt.substring(0,mt.length-2)+" "+ct+`[${At}];
`:_+=o+" "+mt+" "+ct+`;
`}return _}getVars(s){return this.inputs.vars[s??this.shader]}getNodeData(s){let o=s instanceof sr?s.uuid:s;return this.nodeData[o]=this.nodeData[o]||{}}createUniform(s,o,_,j,et,st){if(o.includes("[]")){let nt=this.inputs.arrayUniforms,ct=nt.list.length,At=new hm({type:o,size:_.size,name:j||"nodeUA"+ct+(st?"_"+st:""),node:_,needsUpdate:et});return nt.list.push(At),nt[s].push(At),nt[s][At.name]=At,this.uniforms[At.name]=At,At}else{let nt=this.inputs.uniforms,ct=nt.list.length,At=new hm({type:o,name:j||"nodeU"+ct+(st?"_"+st:""),node:_,needsUpdate:et});return nt.list.push(At),nt[s].push(At),nt[s][At.name]=At,this.uniforms[At.name]=At,At}}createVertexUniform(s,o,_,j,et){return this.createUniform("vertex",s,o,_,j,et)}createFragmentUniform(s,o,_,j,et){return this.createUniform("fragment",s,o,_,j,et)}include(s,o,_){var st;let j;if(s=typeof s=="string"?_i.get(s):s,this.context.include===!1)return s.name;s instanceof Ee$1?j=this.includes.functions:s instanceof Wt?j=this.includes.consts:s instanceof Id&&(j=this.includes.structs);let et=j[this.shader]=j[this.shader]||[];if(s){let nt=et[s.name];if(nt||(nt=et[s.name]={node:s,deps:[]},et.push(nt),nt.src=s.build(this,"source")),s instanceof Ee$1&&o&&et[o.name]&&et[o.name].deps.indexOf(s)===-1&&(et[o.name].deps.push(s),(st=s.includes)==null?void 0:st.length)){let ct=0;do this.include(s.includes[ct++],o);while(ct<s.includes.length)}return _&&(nt.src=_),s.name}else throw new Error("Include not found.")}colorToVectorProperties(s){return s.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(s){return s.replace(/c/g,"v3")}getIncludes(s,o){return this.includes[s][o||this.shader]}getConstructorFromLength(s){return xY[s-1]}isTypeMatrix(s){return/^m/.test(s)}getTypeLength(s){return s==="f"?1:parseInt(this.colorToVector(s).substr(1))}getTypeFromLength(s){return s===1?"f":"v"+s}findNode(...s){for(let o=0;o<arguments.length;o++){let _=s[o];if(_!=null&&_.isNode)return _}}resolve(...s){for(let o=0;o<arguments.length;o++){let _=s[o];if(_!==void 0){if(_.isNode)return _;if(_.isTexture)switch(_.mapping){case Qa:case Ka:return new F0(_);case Zu:return new N0(new bn(_));default:return new bn(_)}else{if(_.isVector2)return new Hr(_);if(_.isVector3)return new Xi(_);if(_.isVector4)return new Ln(_)}}}}format(s,o,_){switch(this.colorToVector(_+" <- "+o)){case"f <- v2":return s+".x";case"f <- v3":return s+".x";case"f <- v4":return s+".x";case"f <- i":case"f <- b":return"float( "+s+" )";case"v2 <- f":return"vec2( "+s+" )";case"v2 <- v3":return s+".xy";case"v2 <- v4":return s+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+s+" ) )";case"v3 <- f":return"vec3( "+s+" )";case"v3 <- v2":return"vec3( "+s+", 0.0 )";case"v3 <- v4":return s+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+s+" ) )";case"v4 <- f":return"vec4( "+s+" )";case"v4 <- v2":return"vec4( "+s+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+s+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+s+" ) )";case"i <- f":case"i <- b":return"int( "+s+" )";case"i <- v2":return"int( "+s+".x )";case"i <- v3":return"int( "+s+".x )";case"i <- v4":return"int( "+s+".x )";case"b <- f":return"( "+s+" != 0.0 )";case"b <- v2":return"( "+s+" != vec2( 0.0 ) )";case"b <- v3":return"( "+s+" != vec3( 0.0 ) )";case"b <- v4":return"( "+s+" != vec4( 0.0 ) )";case"b <- i":return"( "+s+" != 0 )"}return s}getTypeByFormat(s){return bY[s]||s}getFormatByType(s){return SY$1[s]||s}getUUID(s,o){return o=o!==void 0?o:!0,o&&this.cache&&(s=this.cache+"-"+s),s}getElementByIndex(s){return oR[s]}getIndexByElement(s){return oR.indexOf(s)}isShader(s){return this.shader===s}setShader(s){return this.shader=s,this}mergeDefines(s){for(let o in s)this.defines[o]=s[o];return this.defines}mergeUniform(s){for(let o in s)this.uniforms[o]=s[o];return this.uniforms}getTextureEncodingFromMap(s){let o;return s?s.isTexture&&(o=s.encoding):o=mn,o===mn&&this.context.gamma&&(o=at),o}},er=class extends or{constructor(s=0,o,_,j){super("c"),this.nodeType="Color",this.value=s instanceof vr?s:new vr(s||0,o,_,j)}setRGBA(s){this.value.setRGBA(s.r,s.g,s.b,s.a)}generate(s,o,_,j,et,st){_=s.getUUID(_??this.getUUID()),j=j??this.getType(s);let nt=s.getNodeData(_),ct=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let At=this.alpha.build(s,"f");s.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${At};`)}return ct?this.generateReadonly(s,o,_,j,et,st):s.isShader("vertex")?(nt.vertex||(nt.vertex=s.createVertexUniform(j,this,et,st,this.getLabel())),s.format(nt.vertex.name,j,o)):(nt.fragment||(nt.fragment=s.createFragmentUniform(j,this,et,st,this.getLabel())),s.format(nt.fragment.name,j,o))}generateReadonly(s,o,_,j,et,st){return s.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",j,o)}},It=class extends or{constructor(s){super("i"),this.nodeType="Int",this.value=Math.floor(s??0)}generateReadonly(s,o,_,j,et,st){return s.format(this.value.toString(),j,o)}},Kr=class extends or{constructor(s){super("b"),this.nodeType="Bool",this.value=s??!1}generateReadonly(s,o,_,j){return s.format(this.value?"true":"false",j,o)}},Ys=class extends or{constructor(s=1,o){super("f[]"),this.nodeType="FloatArray",this.size=s,this.value=Array.isArray(o)?o:typeof o=="number"?new Array(s).fill(o):new Array(s).fill(0)}},Ll=class extends or{},V0=class extends Ll{constructor(s){super("v3"),this.image=s,this._value=new E$2}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},Gc=class extends Ll{constructor(s,o,_=1008,j=1006){super("t"),this.image=s,this.wrap=o,this.minFilter=_,this.magFilter=j}get value(){return this.image.getTexture(this.wrap,this.minFilter,this.magFilter)}},Nd=class extends or{constructor(s){super("m3"),this.nodeType="Matrix3",this.value=s??new fr$7}generateReadonly(s,o,_,j,et,st){return s.format("mat3("+this.value.elements.join(", ")+")",j,o)}get elements(){return this.value.elements}set elements(s){this.value.fromArray(s)}},Qi=class extends or{constructor(s){super("m4"),this.nodeType="Matrix4",this.value=s??new ue$2}generateReadonly(s,o,_,j,et,st){return s.format("mat4("+this.value.elements.join(", ")+")",j,o)}get elements(){return this.value.elements}set elements(s){this.value.fromArray(s)}};function aR(s,o,_,j=0){s.setUvTransform(_[0],_[1],o[0],o[1],0,0,0).premultiply(new fr$7().makeRotation(j*we.DEG2RAD))}var U0=class extends Nd{constructor(s,o,_=0){super(new fr$7),this.repeat=s,this.offset=o,this.rotation=_,aR(this.value,s,o,_)}updateMatrix(){aR(this.value,this.repeat,this.offset,this.rotation)}},Xs=class extends or{constructor(s=1,o){super("v4[]"),this.nodeType="Vector4Array",this.size=s,this.value=Array.isArray(o)?o:o instanceof Ze?new Array(s).fill(o):new Array(s).fill(new Ze(0))}},Fd=class extends tt{constructor(s,o,_,j){super("v3"),this.nodeType="Blend",this.a=s,this.b=o,this.alpha=_,this.mode=j}generate(s,o){if(s.isShader("fragment")){let _=[];return _.push(this.a.build(s,"c")),_.push(this.b.build(s,"c")),_.push(this.alpha.build(s,"f")),_.push(this.mode.build(s,"i")),s.format("spe_blend("+_.join(",")+")",this.getType(s),o)}else return console.warn("BlendNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},qA=class extends tt{constructor(s,o){super("v3"),this.nodeType="CustomColor",this.color=s,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.isShader("fragment")){let _=s.include(qA.Nodes.customColor);s.addFragmentVariable(this.calpha,"float");let j=[];return j.push(this.color.build(s,"v3")),j.push(this.mask?`luminance(${this.mask.build(s,"v3")})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("CustomColorNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},jc=qA;jc.Nodes=function(){return{customColor:new Ee$1(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var YA=class extends tt{constructor(s,o){super("v3"),this.nodeType="CustomNormal",this.cnormal=s,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.isShader("fragment")){let _=s.include(YA.Nodes.customNormal);s.addFragmentVariable(this.calpha,"float");let j=[];return j.push(this.cnormal.build(s,"v3")),j.push("normal"),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("CustomNormalNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Vd=YA;Vd.Nodes=function(){return{customNormal:new Ee$1(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var Ud=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t){super("v3"),this.nodeType="CustomTexture",this.texture=s,this.textureSize=o,this.crop=_,this.projection=j,this.axis=et,this.side=st,this.size=nt,this.blending=ct,this.mat=At,this.isMask=_t,this.alpha=mt,this.mode=gt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){s.require("position"),s.require("normal"),s.require("uv"),s.requires.uv=[!0],s.extensions.shaderTextureLOD=!0,s.extensions.derivatives=!0;let _=`g${this.uuid.toString().replace(/-/g,"")}`,j;switch(this.projection.value){case 3:j=s.include(Ud.Nodes.cylindrical);break;case 2:j=s.include(Ud.Nodes.spherical);break;case 1:let st=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],nt=["zy","xz","xy"][this.axis.value],ct=new Ee$1(`
		vec3 ${_}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${nt})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${st}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);j=s.include(ct);break;case 4:j=s.include(Ud.Nodes.triplanar);break;default:j=s.include(Ud.Nodes.uv);break}s.addFragmentVariable(this.calpha,"float");let et=[];if(et.push("normal"),et.push(this.texture.generate(s,"t")),et.push(this.textureSize.build(s,"v2")),et.push(this.crop.build(s,"f")),et.push(this.mat.build(s,"mat3")),et.push(this.size.build(s,"v2")),et.push(this.blending.build(s,"f")),et.push(this.isMask.build(s,"b")),et.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),et.push(this.alpha.build(s,"f")),et.push(this.mode.build(s,"i")),et.push(this.calpha),this.projection.value===4){let st=`${_}_writeUvs`,nt=st+"0",ct=st+"1",At=st+"2",mt=`${_}_triplanarWeights`;s.addFragmentVariable(nt,"vec2"),s.addFragmentVariable(ct,"vec2"),s.addFragmentVariable(At,"vec2"),s.addFragmentVariable(mt,"vec3"),et.push(nt),et.push(ct),et.push(At),et.push(mt)}else{let st=`${_}_writeUvs`;s.addFragmentVariable(st,"vec2"),et.push(st)}return s.format(j+"("+et.join(",")+")",this.getType(s),o)}},Bl=Ud;Bl.Nodes=function(){let s=new Ee$1(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),o=new Ee$1(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),_=new Ee$1(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),j=new Ee$1(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:s,spherical:o,uv:_,triplanar:j}}();var zd=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t){super("v3"),this.nodeType="Depth",this.gradientType=s,this.smooth=o,this.near=_,this.far=j,this.isVector=et,this.isWorldSpace=st,this.origin=nt,this.direction=ct,this.colors=At,this.steps=mt,this.isMask=_t,this.alpha=gt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){let _=`g${this.uuid.toString().replace(/-/g,"")}`,j=new Ee$1(`vec3 ${_}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${_}_MAX_COLORS], float steps[${_}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${_}_IS_VECTOR
                   #ifdef ${_}_LINEAR
                       #ifdef ${_}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${_}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${_}_SMOOTH
				for ( int i = 1; i < ${_}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${_}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[zd.Nodes.vectorLinearWorldSpaceDepth,zd.Nodes.vectorLinearObjectSpaceDepth,zd.Nodes.vectorSphericalObjectSpaceDepth,zd.Nodes.vectorSphericalWorldSpaceDepth]);if(s.isShader("fragment")){s.define(`${_}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&s.define(`${_}_SMOOTH`),this.isVector.value>.5&&s.define(`${_}_IS_VECTOR`),this.gradientType.value===0&&s.define(`${_}_LINEAR`),this.isWorldSpace.value>.5&&s.define(`${_}_WORLDSPACE`),s.require("worldPosition"),s.addFragmentVariable(this.calpha,"float");let et=s.include(j),st=[];return st.push(this.near.build(s,"f")),st.push(this.far.build(s,"f")),st.push(this.origin.build(s,"v3")),st.push(this.direction.build(s,"v3")),st.push(this.colors.build(s,"v4[]")),st.push(this.steps.build(s,"f[]")),st.push(this.isMask.build(s,"b")),st.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),st.push(this.alpha.build(s,"f")),st.push(this.calpha),s.format(et+"("+st.join(",")+")",this.getType(s),o)}else return console.warn("DepthNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},kd=zd;kd.Nodes=function(){let s=new Ee$1(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),o=new Ee$1(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),_=new Ee$1(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),j=new Ee$1(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:s,vectorLinearObjectSpaceDepth:o,vectorSphericalWorldSpaceDepth:_,vectorSphericalObjectSpaceDepth:j}}();var fm=class extends tt{constructor(s,o,_,j,et,st,nt,ct){super("v3"),this.nodeType="Fresnel",this.color=s,this.bias=o,this.scale=_,this.intensity=j,this.factor=et,this.isMask=ct,this.alpha=st,this.mode=nt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.require("vWorldViewDir"),s.require("worldNormal"),s.isShader("fragment")){s.addFragmentVariable(this.calpha,"float");let _=new Ee$1(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),j=s.include(_),et=[];return et.push(this.color.build(s,"c")),et.push(this.bias.build(s,"f")),et.push(this.scale.build(s,"f")),et.push(this.intensity.build(s,"f")),et.push(this.factor.build(s,"f")),et.push(this.isMask.build(s,"b")),et.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),et.push(this.alpha.build(s,"f")),et.push(this.mode.build(s,"i")),et.push(this.calpha),s.format(j+"("+et.join(",")+")",this.getType(s),o)}else return console.warn("FresnelNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},XA=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At){super("v3"),this.nodeType="Gradient",this.gradientType=s,this.smooth=o,this.colors=_,this.steps=j,this.offset=et,this.morph=st,this.angle=nt,this.isMask=At,this.alpha=ct,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.isShader("fragment")){s.define("GRAD_MAX",10),s.require("uv"),s.requires.uv=[!0],s.addFragmentVariable(this.calpha,"float");let _=s.include(XA.Nodes.gradient),j=[];return j.push(this.gradientType.build(s,"i")),j.push(this.smooth.build(s,"b")),j.push(this.colors.build(s,"v4[]")),j.push(this.steps.build(s,"f[]")),j.push(this.offset.build(s,"v2")),j.push(this.morph.build(s,"v2")),j.push(this.angle.build(s,"f")),j.push(this.isMask.build(s,"b")),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("GradientNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Gd=XA;Gd.Nodes=function(){return{gradient:new Ee$1(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var QA=class extends tt{constructor(s,o,_,j,et){super("v3"),this.nodeType="Matcap",this.texture=s,this.isMask=j,this.alpha=o,this.mode=_,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`,this.rotation=et}generate(s,o){if(s.isShader("fragment")){s.addFragmentVariable(this.calpha,"float");let _=s.include(QA.Nodes.matcap);s.require("normal"),s.requires.normal=!0;let j=[];return j.push(this.texture.generate(s,"t")),j.push("normal"),j.push(this.isMask.build(s,"b")),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.mode.build(s,"i")),j.push(this.calpha),j.push(this.rotation.build(s,"f")),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("MatcapNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},jd=QA;jd.Nodes=function(){return{matcap:new Ee$1(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha, float rotation) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) );
					uv = mat2( cos(rotation), sin(rotation), -sin(rotation), cos(rotation) ) * uv;
					uv = uv * 0.495 + 0.5;
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var pm=(s=>(s.SIMPLEX="simplex3d",s.SIMPLEX_FRACTAL="simplex3dFractal",s.ASHIMA="simplexAshima",s.FBM="fbm",s.PERLIN="perlin",s.VORONOI="voronoi",s))(pm||{}),ki=function(){let s=new Ee$1(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),o=new Ee$1(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[s]);o.keywords.F3=new Wt("float F3 0.3333333"),o.keywords.G3=new Wt("float G3 0.1666667");let _=new Ee$1(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[o]),j=new Ee$1("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),et=new Ee$1("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),st=new Ee$1(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[j,et]),nt=new Ee$1("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),ct=new Ee$1("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[nt]),At=new Ee$1(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[ct]),mt=new Ee$1(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[At]);mt.keywords.NUM_OCTAVES=new Wt("int NUM_OCTAVES 5");let gt=new Ee$1("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),_t=new Ee$1(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[j,et,gt]),Et=new Ee$1(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),Ct=new Ee$1(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),Bt=new Ee$1(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),Dt=new Ee$1(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),Ft=new Ee$1(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),Rt=new Ee$1(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),Nt=new Ee$1(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[Et,Ct,Bt,Dt,Ft,Rt]);return{simplex:o,simplexFractal:_,simplexAshima:st,fbm:mt,perlin:_t,voronoi:Nt}}(),Hd=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt){super("v3"),this.nodeType="Noise",this.scale=s,this.size=o,this.move=_,this.fA=j,this.fB=et,this.distortion=st,this.colorA=nt,this.colorB=ct,this.colorC=At,this.colorD=mt,this.noiseType=_t,this.voronoiStyle=Ct,this.highCut=Bt,this.lowCut=Dt,this.smoothness=Ft,this.seed=Rt,this.quality=Nt,this.isMask=Et,this.alpha=gt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o,_,j,et){s.require("uv"),s.requires.uv=[!0],s.addFragmentVariable(this.calpha,"float");let st=Object.values(pm)[this.noiseType.value],nt=st=="voronoi"?`
		float v = ${st}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${st}(st),
					   ${st}(st + vec3(1.0)),
					   ${st}(st + vec3(1.0)));
		vec3 r = vec3(${st}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${st}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${st}(st * q));
		float f = ${st}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,ct=new Ee$1(`vec3 ${st}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${nt}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[ki.simplex,ki.simplexFractal,ki.simplexAshima,ki.fbm,ki.perlin,ki.voronoi]),At=s.include(ct),mt=[];return mt.push(this.scale.build(s,"f")),mt.push(this.size.build(s,"v3")),mt.push(this.move.build(s,"f")),mt.push(this.fA.build(s,"v2")),mt.push(this.fB.build(s,"v2")),mt.push(this.distortion.build(s,"v2")),mt.push(this.colorA.build(s,"v4")),mt.push(this.colorB.build(s,"v4")),mt.push(this.colorC.build(s,"v4")),mt.push(this.colorD.build(s,"v4")),mt.push(this.voronoiStyle.build(s,"i")),mt.push(this.highCut.build(s,"f")),mt.push(this.lowCut.build(s,"f")),mt.push(this.smoothness.build(s,"f")),mt.push(this.seed.build(s,"f")),mt.push(this.quality.build(s,"i")),mt.push(this.isMask.build(s,"b")),mt.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),mt.push(this.alpha.build(s,"f")),mt.push(this.calpha),s.format(At+"("+mt.join(",")+")",this.getType(s),o)}};Hd.numOctaves=5;var KA=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=s,this.contourColor=o,this.outlineWidth=_,this.contourWidth=j,this.contourThreshold=et,this.outlineThreshold=st,this.contourFrequency=nt,this.outlineSmoothing=ct,this.contourDirection=At,this.positionalLines=mt,this.compensation=gt,this.resolution=_t,this.normalMap=Et,this.depthMap=Ct,this.pixelRatio=Bt,this.alpha=Dt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){let _=`g${this.uuid.toString().replace(/-/g,"")}`;if(s.require("vWorldViewDir"),s.require("worldNormal"),s.extensions.derivatives=!0,this.compensation.value&&s.define("OUTLINE_COMPENSATION",`${_}_offset`),this.firstTime){let j=this.outlineWidth.build(s,"f"),et=this.resolution.build(s,"v2"),st=this.compensation.build(s,"b"),nt=this.pixelRatio.build(s,"f");s.addVertexParsVariable("randomColor","attribute vec3"),s.addVertexParsVariable("extrudeNormal","attribute vec3"),s.addVertexParsVariable(j,"uniform float"),s.addVertexParsVariable(et,"uniform vec2"),s.addVertexParsVariable(st,"uniform bool"),s.addVertexParsVariable(nt,"uniform float"),s.addVertexParsVariable("vID","flat out float"),s.addFragmentParsVariable("vID","flat in float"),s.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${_}_offset = vec2(0.0);
                if (${st}) {
                    vec4 ${_}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${_}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${_}_offset = normalize(${_}_clipNormal.xy) / ${et} * (${j} / 2.0) * ${_}_clipPosition.w * 2.0 * ${nt};
                    ${_}_clipPosition.xy += ${_}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${_}_clipPosition;
                }
            `)}if(s.isShader("fragment")){s.require("uv"),s.requires.uv=[!0],s.addFragmentVariable(this.calpha,"float");let j=s.include(KA.Nodes.outline),et=[];return et.push(this.outlineColor.build(s,"c")),et.push(this.contourColor.build(s,"c")),et.push(this.outlineWidth.build(s,"f")),et.push(this.contourWidth.build(s,"f")),et.push(this.contourThreshold.build(s,"f")),et.push(this.outlineThreshold.build(s,"f")),et.push(this.contourFrequency.build(s,"f")),et.push(this.outlineSmoothing.build(s,"f")),et.push(this.contourDirection.build(s,"v3")),et.push(this.positionalLines.build(s,"b")),et.push(this.resolution.build(s,"v2")),et.push(this.normalMap.getTexture(s,"t")),et.push(this.depthMap.getTexture(s,"t")),et.push(this.pixelRatio.build(s,"f")),et.push(this.compensation.build(s,"b")),et.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),et.push(this.alpha.build(s,"f")),et.push(this.calpha),this.firstTime=!this.firstTime,s.format(j+"("+et.join(",")+")",this.getType(s),o)}else return console.warn("OutlineNode is not compatible with "+s.shader+" shader."),""}},Wd=KA;Wd.Nodes=function(){let s=new Ee$1(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ee$1(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[s])}}();var Lo=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt){super("v3"),this.nodeType="Pattern",this.style=s,this.projection=o,this.axis=_,this.blending=j,this.offset=et,this.colorA=st,this.colorB=nt,this.frequency=ct,this.size=At,this.variation=mt,this.smoothness=gt,this.zigzag=_t,this.rotation=Et,this.vertical=Ct,this.horizontal=Bt,this.sides=Dt,this.isMask=Rt,this.alpha=Ft,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.isShader("fragment")){s.require("position"),s.require("uv"),s.requires.uv=[!0],s.require("normal"),s.requires.normal=!0,s.addFragmentVariable(this.calpha,"float");let _;switch(this.style.value){case 0:_="circle";break;case 1:_="ring";break;case 2:_="polygon";break;case 3:_="xcross";break;case 4:_="diamond";break;case 5:_="checkerboard";break;case 6:_="line";break;case 7:_="wave";break;default:_="circle";break}let j=`g${this.uuid.toString().replace(/-/g,"")}`,et=new Ee$1(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),st=new Ee$1(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),nt="";if(this.projection.value===4){let gt=this.style.value===2?`${_}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${_}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,_t=this.style.value===2?`${_}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${_}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,Et=this.style.value===2?`${_}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${_}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;nt=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${gt};
				float d1 = ${_t};
				float d2 = ${Et};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let gt=this.style.value===2?`${_}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${_}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,_t="";this.axis.value===0?_t=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?_t=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,_t=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let Et="";switch(this.projection.value){case 0:Et="custom_uv = vUv.st;";break;case 1:break;case 2:Et=`
							vec3 p = position;
							${_t}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break}nt=`
				vec2 custom_uv;
				${Et}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${gt};
				`}let ct=new Ee$1(`vec3 ${j}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${nt}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[st,et,Lo.DrawFunctions.circle,Lo.DrawFunctions.ring,Lo.DrawFunctions.polygon,Lo.DrawFunctions.cross,Lo.DrawFunctions.diamond,Lo.DrawFunctions.checkerboard,Lo.DrawFunctions.line,Lo.DrawFunctions.wave]),At=s.include(ct),mt=[];return mt.push("normal"),mt.push(this.blending.build(s,"f")),mt.push(this.style.build(s,"i")),mt.push(this.offset.build(s,"v2")),mt.push(this.colorA.build(s,"v4")),mt.push(this.colorB.build(s,"v4")),mt.push(this.frequency.build(s,"v2")),mt.push(this.size.build(s,"f")),mt.push(this.variation.build(s,"f")),mt.push(this.smoothness.build(s,"f")),mt.push(this.zigzag.build(s,"f")),mt.push(this.rotation.build(s,"f")),mt.push(this.vertical.build(s,"v2")),mt.push(this.horizontal.build(s,"v2")),mt.push(this.sides.build(s,"i")),mt.push(this.isMask.build(s,"b")),mt.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),mt.push(this.alpha.build(s,"f")),mt.push(this.calpha),s.format(At+"("+mt.join(",")+")",this.getType(s),o)}else return console.warn("PatterNode is not compatible with "+s.shader+" shader."),s.format("vec3(0.0)",this.getType(s),o)}},qd=Lo;qd.DrawFunctions=function(){let s=new Ee$1(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),o=new Ee$1(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[s]),_=new Ee$1(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[o]),j=new Ee$1(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[o]),et=new Ee$1(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[o]),st=new Ee$1(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[o]),nt=new Ee$1(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[o]),ct=new Ee$1(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),At=new Ee$1(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[o]),mt=new Ee$1(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:o,circle:_,ring:j,polygon:et,cross:st,diamond:nt,checkerboard:ct,line:At,wave:mt}}();var ZA=class extends tt{constructor(s,o,_,j,et,st,nt,ct){super("v3"),this.nodeType="Rainbow",this.filmThickness=s,this.movement=o,this.wavelengths=_,this.noiseStrength=j,this.noiseScale=et,this.offset=st,this.isMask=ct,this.alpha=nt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.require("vWorldViewDir"),s.require("worldNormal"),s.isShader("fragment")){s.require("uv"),s.requires.uv=[!0],s.addFragmentVariable(this.calpha,"float");let _=s.include(ZA.Nodes.rainbow),j=[];return j.push(this.filmThickness.build(s,"f")),j.push(this.movement.build(s,"f")),j.push(this.wavelengths.build(s,"v3")),j.push(this.noiseStrength.build(s,"f")),j.push(this.noiseScale.build(s,"f")),j.push(this.offset.build(s,"v3")),j.push(this.isMask.build(s,"b")),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("RainbowNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Yd=ZA;Yd.Nodes=function(){let s=new Ee$1(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[ki.simplex]);return{rainbow:new Ee$1(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[s])}}();var JA=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt){super("v3"),this.nodeType="Toon",this.positioning=s,this.colors=o,this.steps=_,this.source=j,this.isWorldSpace=et,this.noiseStrength=st,this.noiseScale=nt,this.shadowColor=ct,this.offset=At,this.alpha=mt,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.require("worldNormal"),s.require("worldPosition"),s.isShader("fragment")){s.define("COLORS_MAX",10),s.addFragmentVariable(this.calpha,"float");let _=s.include(JA.Nodes.toon),j=[];return j.push(this.positioning.build(s,"i")),j.push(this.colors.build(s,"v4[]")),j.push(this.steps.build(s,"f[]")),j.push(this.source.build(s,"v3")),j.push(this.isWorldSpace.build(s,"b")),j.push(this.noiseStrength.build(s,"f")),j.push(this.noiseScale.build(s,"f")),j.push(this.shadowColor.build(s,"v4")),j.push(this.offset.build(s,"v3")),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("ToonNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Xd=JA;Xd.Nodes=function(){let s=new Ee$1(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),o=new Ee$1(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),_=new Ee$1(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[o]),j=new Ee$1(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),et=new Ee$1(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[j]);return{toon:new Ee$1(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[ki.simplex,s,_,et])}}();var lR=function(){return{textureBicubic:new Ee$1(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function cR(s,o){return s>=o?new U$1(o/s,1):new U$1(1,s/o)}var $A=class extends tt{constructor(s,o,_,j,et,st,nt,ct){super("v3"),this.nodeType="Transmission",this.thickness=s,this.ior=o,this.roughness=_,this.transmissionSamplerSize=j,this.transmissionSamplerMap=et,this.transmissionDepthMap=st,this.aspectRatio=nt,this.alpha=ct,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(s,o){if(s.extensions.shaderTextureLOD=!0,s.extensions.derivatives=!0,s.isShader("fragment")){s.define("NUM_SAMPLES",6),s.define("BLUR_SLOD",Math.pow(2,$e$2.transmissionLod.value)),s.require("worldPosition"),s.requires.worldNormal=!0,s.requires.modelMatrix=!0,s.requires.projectionMatrix=!0,s.addFragmentVariable(this.calpha,"float");let _=s.include($A.Nodes.transmission),j=[];return j.push(this.thickness.build(s,"f")),j.push(this.ior.build(s,"f")),j.push(this.roughness.build(s,"f")),j.push(this.transmissionSamplerSize.build(s,"v2")),j.push(this.transmissionSamplerMap.getTexture(s,"t")),j.push(this.transmissionDepthMap.getTexture(s,"t")),j.push(this.aspectRatio.build(s,"v2")),j.push("normal"),j.push(this.mask?`luminance(${this.mask.flow(s,"v3").result})`:"1.0"),j.push(this.alpha.build(s,"f")),j.push(this.calpha),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("TransmissionNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Qd=$A;Qd.Nodes=function(){let s=new Ee$1(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),o=new Ee$1(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),_=new Ee$1(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),j=new Ee$1(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[lR.textureBicubic,_,s]),et=new Ee$1(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[j,o]);return{transmission:new Ee$1(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[et])}}();var eE=(s=>(s.NOISE="noise",s.MAP="map",s))(eE||{}),tE=class extends tt{constructor(s,o,_,j,et,st,nt,ct,At,mt,gt){super("v3"),this.displacementTypeIndex=new It(0),this.nodeType="VertexDisplacement",this.intensity=s,this.movementOrTexture=o,Object.values(eE)[this.displacementTypeIndex.value]==="map"&&(this.mat=new Nd(this.movementOrTexture.value.matrix)),this.cropOrOffset=_,this.scale=mt,this.noiseFunctionIndex=gt,this.voronoiStyle=j,this.smoothness=et,this.seed=st,this.highCut=nt,this.lowCut=ct,this.quality=At}generate(s,o){if(s.isShader("vertex")){s.define("USE_LAYER_DISPLACE");let _,j=[];switch(j.push("displaced_position"),j.push("displaced_normal"),Object.values(eE)[this.displacementTypeIndex.value]){case"map":{_=s.include(tE.Nodes.map),j.push(this.movementOrTexture.getTexture(s,"t")),j.push("uv"),j.push(this.cropOrOffset.build(s,"f")),this.mat&&j.push(this.mat.build(s,"mat3"));break}case"noise":{let et=Object.values(pm)[this.noiseFunctionIndex.value],st=new Ee$1(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),nt=et=="voronoi"?`
					float v = ${et}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${et}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,ct=new Ee$1(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${nt}
						}`,[ki.simplex,ki.simplexFractal,ki.simplexAshima,ki.fbm,ki.perlin,ki.voronoi]),At=new Ee$1(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[ct,st]);_=s.include(At),j.push(this.scale.build(s,"f")),j.push(this.cropOrOffset.build(s,"v3")),j.push(this.movementOrTexture.build(s,"f")),j.push(this.voronoiStyle.build(s,"i")),j.push(this.smoothness.build(s,"f")),j.push(this.seed.build(s,"f")),j.push(this.highCut.build(s,"f")),j.push(this.lowCut.build(s,"f")),j.push(this.quality.build(s,"i"));break}}return j.push(this.intensity.build(s,"f")),j.push("displaced_normal"),s.format(_+"("+j.join(",")+")",this.getType(s),o)}else return console.warn("VertexDisplacementNode is not compatible with "+s.shader+" shader."),s.format("vec3( 0.0 )",this.getType(s),o)}},Kd=tE;Kd.Nodes=function(){let s=new Ee$1(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),o=new Ee$1(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ee$1(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[s,o])}}();var $e$2={normalRenderTarget:new bn,normalRenderTargetDepth:new bn,transmissionRenderTarget:new bn,aspectRatio:new Hr,transmissionSize:new Hr(2048,2048),transmissionRenderTargetDepth:new bn,aoRenderTarget:new bn,aoEnabled:new Kr,pixelRatioNode:new Fe(1),resolution:new Hr,penumbraSize:new Ys(5,.5),frameIndex:new It(0),transmissionLod:new It(2)};for(let s of Object.values($e$2))s.isRenderGlobal=!0;var z0={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.9.30/build/ui.wasm"},_a=class extends sr{constructor(){super("basic"),this.nodeType="Basic",this.color=new er(ii),this.shadingAlpha=new Fe(1),this.shadingBlend=new It(0),this.previousModelViewMatrix=new Qi,this.previouseProjectionMatrix=new Qi}get category(){return"phong"}generate(s){let o;if(s.isShader("vertex")){let _=this.position?this.position.analyzeAndFlow(s,"v3",{cache:"position"}):void 0;s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({resolution:$e$2.resolution}),s.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),s.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),s.mergeUniform(Bs.merge([De$1.fog])),s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let j=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];_&&j.push(_.code,_.result?"displaced_position = "+_.result+";":""),j.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),j.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),j.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),o=j.join(`
`)}else{this.color===void 0&&(this.color=new er(ii)),this.color.analyze(s,{slot:"color"}),this.alpha&&this.alpha.analyze(s),this.afterColor&&this.afterColor.analyze(s,{slot:"afterColor"});let _=this.color.flow(s,"c",{slot:"color"}),j=this.alpha?this.alpha.flow(s,"f"):void 0,et=this.alphaOverride?this.alphaOverride.flow(s,"f"):void 0,st=this.afterColor?this.afterColor.flow(s,"c",{slot:"afterColor"}):void 0;s.requires.transparent=j!==void 0,s.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let nt=["#include <normal_fragment_begin>",_.code];j&&nt.push(j.code,"#ifdef ALPHATEST"," if ( "+j.result+" <= ALPHATEST ) discard;","#endif"),st?nt.push(st.code,`vec3 outgoingLight = ${_.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${st.result}, 1.0, SPE_BLENDING_NORMAL);`):nt.push(`vec3 finalColor = ${_.result};`);let ct="1.0";this.mask&&(this.mask.analyze(s),ct=`luminance(${this.mask.flow(s,"v3").result})`),j?nt.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${j.result} * ${ct} );`):nt.push("gl_FragColor = vec4("+_.result+", 1.0 );"),et&&nt.push(`gl_FragColor.a *= ${et.result};`),nt.push("#include <fog_fragment>","#include <dithering_fragment>"),o=nt.join(`
`)}return o}},mm=class extends sr{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new er(ii),this.emissive=new er(0),this.emissiveIntensity=new Fe(1),this.previousModelViewMatrix=new Qi,this.previouseProjectionMatrix=new Qi,this.shadingAlpha=new Fe(1),this.shadingBlend=new It(0),this.occlusion=new Kr(!0)}get category(){return"lambert"}build(s){let o;if(s.define("LAMBERT"),s.requires.lights=!0,s.extensions.derivatives=!0,s.isShader("vertex")){let _=this.position?this.position.analyzeAndFlow(s,"v3",{cache:"position"}):void 0;s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({resolution:$e$2.resolution}),s.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),s.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),s.mergeUniform(Bs.merge([De$1.fog,De$1.lights])),s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let j=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];_&&j.push(_.code,_.result?"displaced_position = "+_.result+";":""),j.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),j.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),j.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),j.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),o=j.join(`
`)}else{s.mergeUniform({penumbraSize:$e$2.penumbraSize}),s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({aoMap:$e$2.aoRenderTarget}),s.mergeUniform({aoEnabled:$e$2.aoEnabled}),this.color===void 0&&(this.color=new er(ii)),this.color.analyze(s,{slot:"color"}),this.shadingAlpha.analyze(s),this.shadingBlend.analyze(s),this.afterColor&&this.afterColor.analyze(s,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(s);let _=this.color.flow(s,"c",{slot:"color"}),j=this.emissive.flow(s,"c",{slot:"emissive"}),et=this.emissiveIntensity.flow(s,"f",{slot:"emissive"}),st=this.occlusion.flow(s,"b",{slot:"occlusion"}),nt=this.shadingAlpha.flow(s,"f"),ct=this.shadingBlend.flow(s,"i"),At=this.afterColor?this.afterColor.flow(s,"c",{slot:"afterColor"}):void 0,mt=this.alpha?this.alpha.flow(s,"f"):void 0,gt=this.alphaOverride?this.alphaOverride.flow(s,"f"):void 0;s.requires.transparent=mt!==void 0,s.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let _t=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];_t.push(_.code,"vec3 diffuseColor = "+_.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),mt&&_t.push(mt.code,"#ifdef ALPHATEST","if ( "+mt.result+" <= ALPHATEST ) discard;","#endif"),_t.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),j&&_t.push(j.code,"reflectedLight.directDiffuse += "+j.result+" * "+et.result+";"),_t.push("vec3 ao = aoEnabled && "+st.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let Et="1.0";this.mask&&(this.mask.analyze(s),Et=`luminance(${this.mask.flow(s,"v3").result})`),_t.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${nt.result} * ${Et} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${nt.result} * ${Et}, ${ct.result} );

					outgoingLight *= ao;
				}
				`),At&&_t.push(At.code,`outgoingLight = spe_blend(outgoingLight, ${At.result}, 1.0, SPE_BLENDING_NORMAL);`),mt?_t.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${mt.result} );`):_t.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),gt&&_t.push(`gl_FragColor.a *= ${gt.result};`),_t.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),o=_t.join(`
`)}return o}},Da=function(){let s=new Ee$1(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),o=new Ee$1(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:s,perturbNormalArb:o}}(),gm=class extends sr{constructor(){super("phong"),this.nodeType="Phong",this.color=new er(ii),this.specular=new er(1118481),this.shininess=new Fe(30),this.previousModelViewMatrix=new Qi,this.previouseProjectionMatrix=new Qi,this.shadingAlpha=new Fe(1),this.shadingBlend=new It(0),this.occlusion=new Kr(!0)}get category(){return"phong"}build(s){let o;if(s.define("PHONG"),s.requires.lights=!0,s.extensions.derivatives=!0,s.isShader("vertex")){let _=this.position?this.position.analyzeAndFlow(s,"v3",{cache:"position"}):void 0;s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({resolution:$e$2.resolution}),s.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),s.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),s.mergeUniform(Bs.merge([De$1.fog,De$1.lights])),s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let j=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];_&&j.push(_.code,_.result?"displaced_position = "+_.result+";":""),j.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),j.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),j.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),o=j.join(`
`)}else{s.mergeUniform({penumbraSize:$e$2.penumbraSize}),s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({aoMap:$e$2.aoRenderTarget}),s.mergeUniform({aoEnabled:$e$2.aoEnabled}),this.color===void 0&&(this.color=new er(ii)),this.color.analyze(s,{slot:"color"}),this.specular.analyze(s),this.shininess.analyze(s);let _=this.occlusion.flow(s,"b",{slot:"occlusion"});this.shadingAlpha.analyze(s),this.shadingBlend.analyze(s),this.afterColor&&this.afterColor.analyze(s,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(s);let j=this.color.flow(s,"c",{slot:"color"}),et=this.specular.flow(s,"c"),st=this.shininess.flow(s,"f"),nt=this.shadingAlpha.flow(s,"f"),ct=this.shadingBlend.flow(s,"i"),At=this.afterColor?this.afterColor.flow(s,"c",{slot:"afterColor"}):void 0,mt=this.alpha?this.alpha.flow(s,"f"):void 0,gt=this.alphaOverride?this.alphaOverride.flow(s,"f"):void 0;s.requires.transparent=mt!==void 0,s.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let _t=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){s.include(Da.dHdxy),s.include(Da.perturbNormalArb);let Ct=this.bumpMap.texture.flow(s,"t"),Bt=this.bumpMap.flow(s,"v3"),Dt=this.bumpMapIntensity?this.bumpMapIntensity.flow(s,"f").result:"1.0",Ft="";this.bumpMap.projection.value===4?Ft=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${Ct.result}, uv0, ${Dt});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${Ct.result}, uv1, ${Dt});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${Ct.result}, uv2, ${Dt});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:Ft=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${Ct.result}, bumpMapCachedUv, ${Dt});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,_t.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${Bt.result};
					${Ft}
					`)}_t.push(j.code,"	vec3 diffuseColor = "+j.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",et.code,"	vec3 specular = "+et.result+";",st.code,"	float shininess = max( 0.0001, "+st.result+" );","	float specularStrength = 1.0;"),mt&&_t.push(mt.code,"#ifdef ALPHATEST","if ( "+mt.result+" <= ALPHATEST ) discard;","#endif"),_t.push("material.diffuseColor = diffuseColor;"),_t.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),_t.push("vec3 ao = aoEnabled && "+_.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let Et="1.0";this.mask&&(this.mask.analyze(s),Et=`luminance(${this.mask.flow(s,"v3").result})`),_t.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${nt.result} * ${Et} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${nt.result} * ${Et}, ${ct.result} );
					
					outgoingLight *= ao;
				}
				`),At&&_t.push(At.code,`outgoingLight = spe_blend(outgoingLight, ${At.result}, 1.0, SPE_BLENDING_NORMAL);`),mt?_t.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${mt.result});`):_t.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),gt&&_t.push(`gl_FragColor.a *= ${gt.result};`),_t.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),o=_t.join(`
`)}return o}},ym=class extends sr{constructor(){super("standard"),this.nodeType="Standard",this.color=new er(ii),this.roughness=new Fe(.3),this.metalness=new Fe(0),this.reflectivity=new Fe(.5),this.previousModelViewMatrix=new Qi,this.previouseProjectionMatrix=new Qi,this.shadingAlpha=new Fe(1),this.shadingBlend=new It(0),this.occlusion=new Kr(!0)}get category(){return"physical"}build(s){let o;if(s.define("STANDARD"),s.requires.lights=!0,s.extensions.derivatives=!0,s.extensions.shaderTextureLOD=!0,s.isShader("vertex")){let _=this.position?this.position.analyzeAndFlow(s,"v3",{cache:"position"}):void 0;s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({resolution:$e$2.resolution}),s.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),s.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),s.mergeUniform(Bs.merge([De$1.fog,De$1.lights])),De$1.LTC_1&&(s.uniforms.ltc_1={value:void 0},s.uniforms.ltc_2={value:void 0}),s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let j=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];_&&j.push(_.code,_.result?"displaced_position = "+_.result+";":""),j.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),j.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),j.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),o=j.join(`
`)}else{s.mergeUniform({penumbraSize:$e$2.penumbraSize}),s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({aoMap:$e$2.aoRenderTarget}),s.mergeUniform({aoEnabled:$e$2.aoEnabled});let _={gamma:!0};this.color===void 0&&(this.color=new er(ii)),this.color.analyze(s,{slot:"color",context:_}),this.roughness.analyze(s),this.metalness.analyze(s);let j=this.occlusion.flow(s,"b",{slot:"occlusion"});this.shadingAlpha.analyze(s),this.shadingBlend.analyze(s),this.afterColor&&this.afterColor.analyze(s,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(s),this.reflectivity&&this.reflectivity.analyze(s);let et=this.color.flow(s,"c",{slot:"color",context:_}),st=this.roughness.flow(s,"f"),nt=this.metalness.flow(s,"f"),ct=this.shadingAlpha.flow(s,"f"),At=this.shadingBlend.flow(s,"i"),mt=this.afterColor?this.afterColor.flow(s,"c",{slot:"afterColor"}):void 0,gt=this.alpha?this.alpha.flow(s,"f"):void 0,_t=this.alphaOverride?this.alphaOverride.flow(s,"f"):void 0,Et=this.reflectivity?this.reflectivity.flow(s,"f"):void 0;s.requires.transparent=gt!==void 0,s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let Ct=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){s.include(Da.dHdxy),s.include(Da.perturbNormalArb);let Dt=this.bumpMap.texture.flow(s,"t"),Ft=this.bumpMap.flow(s,"v3"),Rt=this.bumpMapIntensity?this.bumpMapIntensity.flow(s,"f").result:"1.0",Nt="";this.bumpMap.projection.value===4?Nt=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${Dt.result}, uv0, ${Rt});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${Dt.result}, uv1, ${Rt});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${Dt.result}, uv2, ${Rt});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:Nt=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${Dt.result}, bumpMapCachedUv, ${Rt});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,Ct.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${Ft.result};
					${Nt}
					`)}if(Ct.push(et.code,"	vec3 diffuseColor = "+et.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",nt.code,"	float metalnessFactor = "+nt.result+";"),this.roughnessMap){let Dt=this.roughnessMap.texture.flow(s,"t"),Ft=this.roughnessMap.flow(s,"v3"),Rt="";this.roughnessMap.projection.value===4?Rt=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${Dt.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${Dt.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${Dt.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${st.result};
					`:Rt=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${Dt.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${st.result};
					`,Ct.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${Ft.result};

					const float roughnessScale = 1.0;

					${Rt}
				`)}else Ct.push(st.code,"	float roughnessFactor = "+st.result+";");gt&&Ct.push(gt.code,"#ifdef ALPHATEST","	if ( "+gt.result+" <= ALPHATEST ) discard;","#endif"),Ct.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),Ct.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),Et?Ct.push(Et.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+Et.result+" ) ), diffuseColor, metalnessFactor );"):Ct.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),Ct.push("#include <lights_fragment_begin>"),Ct.push("#include <lights_fragment_end>"),Ct.push("vec3 ao = aoEnabled && "+j.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let Bt="1.0";this.mask&&(this.mask.analyze(s),Bt=`luminance(${this.mask.flow(s,"v3").result})`),Ct.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${ct.result} * ${Bt} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${ct.result} * ${Bt}, ${At.result} );
					
					outgoingLight *= ao;
				}
				`),mt&&Ct.push(mt.code,`outgoingLight = spe_blend(outgoingLight, ${mt.result}, 1.0, SPE_BLENDING_NORMAL);`),gt?Ct.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${gt.result} );`):Ct.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),_t&&Ct.push(`gl_FragColor.a *= ${_t.result};`),Ct.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),o=Ct.join(`
`)}return o}},vm=class extends sr{constructor(){super("toon"),this.nodeType="Toon",this.color=new er(ii),this.specular=new er(1118481),this.shininess=new Fe(30),this.previousModelViewMatrix=new Qi,this.previouseProjectionMatrix=new Qi,this.shadingAlpha=new Fe(1),this.shadingBlend=new It(0)}get category(){return"toon"}build(s){let o;if(s.define("TOON"),s.requires.lights=!0,s.extensions.derivatives=!0,s.isShader("vertex")){let _=this.position?this.position.analyzeAndFlow(s,"v3",{cache:"position"}):void 0;s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({resolution:$e$2.resolution}),s.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),s.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),s.mergeUniform(Bs.merge([De$1.fog,De$1.lights])),s.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let j=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];_&&j.push(_.code,_.result?"displaced_position = "+_.result+";":""),j.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),j.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),j.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),o=j.join(`
`)}else{s.mergeUniform({penumbraSize:$e$2.penumbraSize}),s.mergeUniform({frameIndex:$e$2.frameIndex}),s.mergeUniform({aoMap:$e$2.aoRenderTarget}),s.mergeUniform({aoEnabled:$e$2.aoEnabled}),this.color===void 0&&(this.color=new er(ii)),this.color.analyze(s,{slot:"color"}),this.specular.analyze(s),this.shininess.analyze(s),this.shadingAlpha.analyze(s),this.shadingBlend.analyze(s),this.afterColor&&this.afterColor.analyze(s,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(s);let _=this.color.flow(s,"c",{slot:"color"}),j=this.specular.flow(s,"c"),et=this.shininess.flow(s,"f"),st=this.shadingAlpha.flow(s,"f"),nt=this.shadingBlend.flow(s,"i"),ct=this.afterColor?this.afterColor.flow(s,"c",{slot:"afterColor"}):void 0,At=this.alpha?this.alpha.flow(s,"f"):void 0,mt=this.alphaOverride?this.alphaOverride.flow(s,"f"):void 0;s.requires.transparent=At!==void 0,s.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let gt=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){s.include(Da.dHdxy),s.include(Da.perturbNormalArb);let Et=this.bumpMap.texture.flow(s,"t"),Ct=this.bumpMap.flow(s,"v3"),Bt=this.bumpMapIntensity?this.bumpMapIntensity.flow(s,"f").result:"1.0",Dt="";this.bumpMap.projection.value===4?Dt=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${Et.result}, uv0, ${Bt});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${Et.result}, uv1, ${Bt});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${Et.result}, uv2, ${Bt});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:Dt=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${Et.result}, bumpMapCachedUv, ${Bt});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,gt.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${Ct.result};
					${Dt}
					`)}gt.push(_.code,"	vec3 diffuseColor = "+_.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",j.code,"	vec3 specular = "+j.result+";",et.code,"	float shininess = max( 0.0001, "+et.result+" );","	float specularStrength = 1.0;"),At&&gt.push(At.code,"#ifdef ALPHATEST","if ( "+At.result+" <= ALPHATEST ) discard;","#endif"),gt.push("material.diffuseColor = diffuseColor;"),gt.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),gt.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let _t="1.0";this.mask&&(this.mask.analyze(s),_t=`luminance(${this.mask.flow(s,"v3").result})`),gt.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${st.result} * ${_t} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${st.result} * ${_t}, ${nt.result} );
				}
				`),ct&&gt.push(ct.code,`outgoingLight = spe_blend(outgoingLight, ${ct.result}, 1.0, SPE_BLENDING_NORMAL);`),At?gt.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${At.result} );`):gt.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),mt&&gt.push(`gl_FragColor.a *= ${mt.result};`),gt.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),o=gt.join(`
`)}return o}},k0=class{constructor(s=1e3*10){this.timeout=s,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...s){}remove(s){let o=this.cache.get(s);o&&(this.dispose(s,o.data),this.cache.delete(s),o.prev.next=o.next,o.next.prev=o.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let s=Date.now(),o=this.head.next;for(;o.time<s-this.timeout;)this.dispose(o.src,o.data),this.cache.delete(o.src),o=o.next,o.prev=this.head,this.head.next=o;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(s){var o;return(o=this.cache.get(s))==null?void 0:o.data}load(s){let o=Date.now(),_=this.cache.get(s);return _===void 0?(_={data:this.create(s),src:s,time:o,next:null,prev:null},this.cache.set(s,_)):(_.time=o,_.prev.next=_.next,_.next.prev=_.prev),_.prev=this.tail.prev,_.next=this.tail,this.tail.prev.next=_,this.tail.prev=_,this.scheduleCleanup(),_.data}},iE=class extends k0{create(s){return URL.createObjectURL(new Blob([s]))}dispose(s,o){URL.revokeObjectURL(o)}},rE;function uR(s){return typeof s=="string"?s:(rE||(rE=new iE),rE.load(s))}var G0=class{constructor(s,o){this.data=s,this.cache=o,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},j0=class{constructor(){this.cache=new Map}remove(s){this.cache.delete(s.data)}load(s){let o=this.cache.get(s);return o===void 0&&(o=this.create(s),this.cache.set(s,o)),o.refCount+=1,o}},Zd=class extends G0{constructor(s,o){super(s,o.imageHolderCache),this.data=s,this.shared=o,this.loaded=!1,this.isVideo=!1,this.isBuffer=!1,this._cache={1e3:{},1001:{},1002:{}},this.isVideo=s.type==="video",this.isBuffer=s.isWebGLRenderTarget===!0,this.loadPromise=this.updateSrc(this.isBuffer?s:s.data)}async updateSrc(s){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let o=()=>{this.loaded=!0;for(let j of Object.values(this._cache))for(let et of Object.values(j))for(let st of Object.values(et))st&&(st.image=this.img,st.needsUpdate=!0);this.shared.requestRender()};if(this.isBuffer)this.img=s,this.loaded=!0;else if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof s!="string"){var _=new FileReader;_.readAsDataURL(new Blob([s],{type:"video/mp4"}));let j;await new Promise(et=>{_.onloadend=st=>{var nt;j=(nt=st.target)==null?void 0:nt.result,et(null)}}),this.img.src=j}else this.img.src=s;this.img.onloadeddata=()=>{o()}}else this.img=new Image,this.img.src=uR(s),this.img.onload=o,await new Promise(j=>{this.img.onload=()=>{o(),j(null)}})}getTexture(s,o=1008,_=1006){var et,st;let j=(st=(et=this._cache[s])==null?void 0:et[o])==null?void 0:st[_];if(j)return j;{let nt;return this.isBuffer?nt=this.img.texture:this.isVideo?nt=new ay(this.img,void 0,s,s):nt=new $t(this.img,void 0,s,s,_,o),this.loaded&&(nt.needsUpdate=!0),this._cache[s]===void 0&&(this._cache[s]={}),this._cache[s][o]===void 0&&(this._cache[s][o]={}),this._cache[s][o][_]=nt,nt}}setNeedsUpdate(s){for(let o of Object.values(this._cache))for(let _ of Object.values(o))for(let j of Object.values(_))j&&(j.needsUpdate=s)}disposeTextures(){for(let[s,o]of Object.entries(this._cache))for(let[_,j]of Object.entries(o))for(let[et,st]of Object.entries(j))st==null||st.dispose(),this._cache[s]!==void 0&&this._cache[s][_]!==void 0&&(this._cache[s][_][et]=void 0)}dispose(){super.dispose(),this.disposeTextures()}},Jn=class extends Zd{};function sE(s,o){var _=MY(o);return _.formatToParts?AY(_,s):EY(_,s)}var wY={year:0,month:1,day:2,hour:3,minute:4,second:5};function AY(s,o){try{for(var _=s.formatToParts(o),j=[],et=0;et<_.length;et++){var st=wY[_[et].type];st>=0&&(j[st]=parseInt(_[et].value,10))}return j}catch(nt){if(nt instanceof RangeError)return[NaN];throw nt}}function EY(s,o){var _=s.format(o).replace(/\u200E/g,""),j=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(_);return[j[3],j[1],j[2],j[4],j[5],j[6]]}var nE={};function MY(s){if(!nE[s]){var o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),_=o==="06/25/2014, 00:00:00"||o==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";nE[s]=_?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return nE[s]}function H0(s,o,_,j,et,st,nt){var ct=new Date(0);return ct.setUTCFullYear(s,o,_),ct.setUTCHours(j,et,st,nt),ct}var hR=36e5,TY=6e4,oE={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function xm(s,o,_){var j,et;if(!s||(j=oE.timezoneZ.exec(s),j))return 0;var st;if(j=oE.timezoneHH.exec(s),j)return st=parseInt(j[1],10),dR(st)?-(st*hR):NaN;if(j=oE.timezoneHHMM.exec(s),j){st=parseInt(j[1],10);var nt=parseInt(j[2],10);return dR(st,nt)?(et=Math.abs(st)*hR+nt*TY,st>0?-et:et):NaN}if(_Y(s)){o=new Date(o||Date.now());var ct=_?o:CY(o),At=aE(ct,s),mt=_?At:PY(o,At,s);return-mt}return NaN}function CY(s){return H0(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function aE(s,o){var _=sE(s,o),j=H0(_[0],_[1]-1,_[2],_[3]%24,_[4],_[5],0).getTime(),et=s.getTime(),st=et%1e3;return et-=st>=0?st:1e3+st,j-et}function PY(s,o,_){var j=s.getTime(),et=j-o,st=aE(new Date(et),_);if(o===st)return o;et-=st-o;var nt=aE(new Date(et),_);return st===nt?st:Math.max(st,nt)}function dR(s,o){return-23<=s&&s<=23&&(o==null||0<=o&&o<=59)}var fR={};function _Y(s){if(fR[s])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:s}),fR[s]=!0,!0}catch{return!1}}var AR=Jo(mR(),1),uE=Jo(yR(),1),OY=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,vR=OY,lE=36e5,xR=6e4,RY=2,Sn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:vR};function hE(s,o){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(s===null)return new Date(NaN);var _={},j=_.additionalDigits==null?RY:(0,AR.default)(_.additionalDigits);if(j!==2&&j!==1&&j!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]")return new Date(s.getTime());if(typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]")return new Date(s);if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var et=LY(s),st=BY(et.date,j),nt=st.year,ct=st.restDateString,At=NY(ct,nt);if(isNaN(At))return new Date(NaN);if(At){var mt=At.getTime(),gt=0,_t;if(et.time&&(gt=FY(et.time),isNaN(gt)))return new Date(NaN);if(et.timeZone||_.timeZone){if(_t=xm(et.timeZone||_.timeZone,new Date(mt+gt)),isNaN(_t))return new Date(NaN)}else _t=(0,uE.default)(new Date(mt+gt)),_t=(0,uE.default)(new Date(mt+gt+_t));return new Date(mt+gt+_t)}else return new Date(NaN)}function LY(s){var o={},_=Sn.dateTimePattern.exec(s),j;if(_?(o.date=_[1],j=_[3]):(_=Sn.datePattern.exec(s),_?(o.date=_[1],j=_[2]):(o.date=null,j=s)),j){var et=Sn.timeZone.exec(j);et?(o.time=j.replace(et[1],""),o.timeZone=et[1].trim()):o.time=j}return o}function BY(s,o){var _=Sn.YYY[o],j=Sn.YYYYY[o],et;if(et=Sn.YYYY.exec(s)||j.exec(s),et){var st=et[1];return{year:parseInt(st,10),restDateString:s.slice(st.length)}}if(et=Sn.YY.exec(s)||_.exec(s),et){var nt=et[1];return{year:parseInt(nt,10)*100,restDateString:s.slice(nt.length)}}return{year:null}}function NY(s,o){if(o===null)return null;var _,j,et,st;if(s.length===0)return j=new Date(0),j.setUTCFullYear(o),j;if(_=Sn.MM.exec(s),_)return j=new Date(0),et=parseInt(_[1],10)-1,SR(o,et)?(j.setUTCFullYear(o,et),j):new Date(NaN);if(_=Sn.DDD.exec(s),_){j=new Date(0);var nt=parseInt(_[1],10);return zY(o,nt)?(j.setUTCFullYear(o,0,nt),j):new Date(NaN)}if(_=Sn.MMDD.exec(s),_){j=new Date(0),et=parseInt(_[1],10)-1;var ct=parseInt(_[2],10);return SR(o,et,ct)?(j.setUTCFullYear(o,et,ct),j):new Date(NaN)}if(_=Sn.Www.exec(s),_)return st=parseInt(_[1],10)-1,wR(o,st)?bR(o,st):new Date(NaN);if(_=Sn.WwwD.exec(s),_){st=parseInt(_[1],10)-1;var At=parseInt(_[2],10)-1;return wR(o,st,At)?bR(o,st,At):new Date(NaN)}return null}function FY(s){var o,_,j;if(o=Sn.HH.exec(s),o)return _=parseFloat(o[1].replace(",",".")),cE(_)?_%24*lE:NaN;if(o=Sn.HHMM.exec(s),o)return _=parseInt(o[1],10),j=parseFloat(o[2].replace(",",".")),cE(_,j)?_%24*lE+j*xR:NaN;if(o=Sn.HHMMSS.exec(s),o){_=parseInt(o[1],10),j=parseInt(o[2],10);var et=parseFloat(o[3].replace(",","."));return cE(_,j,et)?_%24*lE+j*xR+et*1e3:NaN}return null}function bR(s,o,_){o=o||0,_=_||0;var j=new Date(0);j.setUTCFullYear(s,0,4);var et=j.getUTCDay()||7,st=o*7+_+1-et;return j.setUTCDate(j.getUTCDate()+st),j}var VY=[31,28,31,30,31,30,31,31,30,31,30,31],UY=[31,29,31,30,31,30,31,31,30,31,30,31];function ER(s){return s%400===0||s%4===0&&s%100!==0}function SR(s,o,_){if(o<0||o>11)return!1;if(_!=null){if(_<1)return!1;var j=ER(s);if(j&&_>UY[o]||!j&&_>VY[o])return!1}return!0}function zY(s,o){if(o<1)return!1;var _=ER(s);return!(_&&o>366||!_&&o>365)}function wR(s,o,_){return!(o<0||o>52||_!=null&&(_<0||_>6))}function cE(s,o,_){return!(s!=null&&(s<0||s>=25)||o!=null&&(o<0||o>=60)||_!=null&&(_<0||_>=60))}function Y0(s,o,_){var j=hE(s,_),et=xm(o,j,!0),st=new Date(j.getTime()-et),nt=new Date(0);return nt.setFullYear(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate()),nt.setHours(st.getUTCHours(),st.getUTCMinutes(),st.getUTCSeconds(),st.getUTCMilliseconds()),nt}function Ki(s,o){return o.color(s)}function dE(s=new Date,o){let _=o.format,j=s.getSeconds(),et=s;o&&o.timeZone!==null&&(et=Y0(new Date,o.timeZone));let st=et.getHours(),nt=et.getMinutes(),ct;o.format12h24h==="12ampm"&&(ct=st>=12?"PM":"AM");let At=st;o.format12h24h!=="24"&&(At=st%12,At===0&&(At=12));let mt,gt;switch(_){case"HH:mm:ss":mt=[At,nt,j];break;case"HH:mm":mt=[At,nt];break;case"HH":mt=[At],ct=void 0;break;case"mm":mt=[nt],ct=void 0;break;case"ss":mt=[j],ct=void 0;break;case"year":gt=et.getFullYear();break;case"month":gt=et.getMonth()+1;break;case"dayOfYear":gt=Math.floor((et.getTime()-new Date(et.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":gt=et.getDate();break;case"secondOfDay":gt=st*60*60+nt*60+j;break;default:console.error("Unknown time format",_),gt=0;break}return mt!==void 0?{textValue:mt,suffix:ct}:gt}function MR(s,o){switch(s.type){case"fresnel":return jY(s,o);case"gradient":return HY$1(s,o);case"depth":return WY(s,o);case"normal":return qY(s,o);case"noise":return YY(s,o);case"rainbow":return XY(s,o);case"toon":return QY(s,o);case"outline":return KY(s,o);case"transmission":return ZY(s,o);case"color":return GY(s,o);case"pattern":return JY(s,o)}}function kY(s){return{type:s.type}}function Qs(s,o){let{alpha:_,mode:j,isMask:et}=s,st=typeof _=="string"?(Number(o.getVariable(_))??100)/100:_;return{...kY(s),alpha:st,mode:j,isMask:et}}function GY(s,o){return{...Qs(s,o),color:Ki(s.color,o)}}function jY(s,o){let{bias:_,scale:j,intensity:et,factor:st,color:nt}=s;return{...Qs(s,o),color:Ki(nt,o),bias:_,scale:j,intensity:et,factor:st}}function HY$1(s,o){let{gradientType:_,smooth:j,colors:et,steps:st,angle:nt,offset:ct,morph:At}=s;return{...Qs(s,o),gradientType:_,smooth:j,colors:et.map(mt=>new Ze(mt[0],mt[1],mt[2],mt[3])),num:et.length,steps:st,offset:new U$1(...ct),morph:new U$1(...At),angle:nt}}function WY(s,o){let{gradientType:_,near:j,far:et,isVector:st,isWorldSpace:nt,origin:ct,direction:At,colors:mt,steps:gt,smooth:_t}=s;return{...Qs(s,o),gradientType:_,near:j,far:et,isVector:st,isWorldSpace:nt,origin:new E$2(...ct),direction:At?new E$2(...At):new E$2(1,0,0),colors:mt.map(Et=>Et!==void 0?new Ze(Et[0],Et[1],Et[2],Et[3]):new Ze(0,0,0,0)),steps:gt.slice(0,mt.length),smooth:_t}}function qY(s,o){let{cnormal:_}=s;return{...Qs(s,o),cnormal:new E$2(_[0],_[1],_[2])}}function YY(s,o){return{...Qs(s,o),scale:s.scale,move:s.move,fA:new U$1(...s.fA),fB:new U$1(...s.fB),size:new E$2(...s.size),distortion:new U$1(...s.distortion),colorA:Ki(s.colorA,o),colorB:Ki(s.colorB,o),colorC:Ki(s.colorC,o),colorD:Ki(s.colorD,o),noiseType:s.noiseType,voronoiStyle:s.voronoiStyle,highCut:s.highCut,lowCut:s.lowCut,smoothness:s.smoothness,seed:s.seed,quality:s.quality}}function XY(s,o){return{...Qs(s,o),filmThickness:s.filmThickness,movement:s.movement,wavelengths:new E$2(...s.wavelengths),noiseStrength:s.noiseStrength,noiseScale:s.noiseScale,offset:new E$2(...s.offset)}}function QY(s,o){return{...Qs(s,o),positioning:s.positioning,colors:s.colors.map(_=>new Ze(_[0],_[1],_[2],_[3])),num:s.colors.length,steps:s.steps,source:new E$2(...s.source),isWorldSpace:s.isWorldSpace,noiseStrength:s.noiseStrength,noiseScale:s.noiseScale,shadowColor:Ki(s.shadowColor,o),offset:new E$2(...s.offset)}}function KY(s,o){return{...Qs(s,o),outlineColor:Ki(s.outlineColor,o),contourColor:Ki(s.contourColor,o),outlineWidth:s.outlineWidth,contourWidth:s.contourWidth,outlineThreshold:s.outlineThreshold,contourThreshold:s.contourThreshold,outlineSmoothing:s.outlineSmoothing,contourFrequency:s.contourFrequency,contourDirection:new E$2(...s.contourDirection),positionalLines:s.positionalLines,compensation:s.compensation}}function ZY(s,o){return{...Qs(s,o),thickness:s.thickness,ior:s.ior,roughness:s.roughness}}function JY(s,o){return{...Qs(s,o),style:s.style,projection:s.projection,axis:s.axis,blending:s.blending,offset:new U$1(...s.offset),colorA:Ki(s.colorA,o),colorB:Ki(s.colorB,o),frequency:new U$1(...s.frequency),size:s.size,variation:s.variation,smoothness:s.smoothness,zigzag:s.zigzag,rotation:s.rotation,vertical:new U$1(...s.vertical),horizontal:new U$1(...s.horizontal),sides:s.sides}}var Nl=class extends vr{},$Y={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},eX={depth:["colors"]};function tX(s,o,_){var st,nt;if(o==="isMask")return!0;let j=$Y[s.type],et=eX[s.type];if(et!==void 0){let ct=s.color;if(et.includes(o)){let At=(nt=(st=ct[o])==null?void 0:st.value)==null?void 0:nt.length;if(At!==void 0&&At!==_.length)return!0}}return j!==void 0?j.includes(o):!1}function fE(s,o,_){let j=_.uniforms[`f${_.id}_texture`];if(!j)return!1;let et=!1,st=s;if("image"in st){let nt=st.image,ct=o.image(nt),At=j;At.image instanceof Jn||At.image.deref(),At.image=ct}if("video"in st){let nt=st.video,ct=o.video(nt),At=j;At.image instanceof Jn||At.image.deref(),At.image=ct}if("wrapping"in st){let nt=j;nt.wrap=st.wrapping}if("minFilter"in st){let nt=j;nt.minFilter=st.minFilter}if("magFilter"in st){let nt=j;nt.magFilter=st.magFilter}if("rotation"in st&&_.uniforms[`f${_.id}_rotation`])return _.uniforms[`f${_.id}_rotation`].value=(st.rotation??0)*we.DEG2RAD,et;if("repeat"in st||"offset"in st||"rotation"in st){let nt="mat",ct=_.uniforms[`f${_.id}_${nt}`];"repeat"in st&&(ct.repeat=st.repeat),"offset"in st&&(ct.offset=st.offset),"rotation"in st&&(ct.rotation=st.rotation??0),ct.updateMatrix()}return et}function TR(s,o,_,j){let et=!1;for(let[st,nt]of Object.entries(s)){if(st==="bumpMap"||st==="roughnessMap"){et=!0;continue}if(!st||nt===void 0)continue;if(pE(st,_,j,o)){st==="visible"&&_.type==="light"&&(et=!0);continue}_.visible=j.visible;let ct=_.uniforms[`f${_.id}_${st}`];if(ct&&!(ct instanceof Ll))switch(et=et||tX(_,st,nt),ct.constructor){case er:if(typeof nt=="string"){let At=o.getColor(nt);At&&(ct.value=At);break}else{let At=nt;ct.value instanceof Nl?ct.value=new vr(At.r,At.g,At.b,At.a):ct.setRGBA(At);break}case Ln:if(typeof nt=="string"){let At=o.getColor(nt);At&&(ct.value=At);break}else{let At=nt;ct.value instanceof Nl?ct.value=new vr(At.r,At.g,At.b,At.a):ct.value.setRGBA(At.r,At.g,At.b,At.a);break}case Hr:{let At=nt;ct.value.setX(At[0]),ct.value.setY(At[1]);break}case Xi:{let At=nt;ct.value.setX(At[0]),ct.value.setY(At[1]),ct.value.setZ(At[2]);break}case bn:{fE(nt,o,_);break}case Xs:{ct.value=nt.map(At=>new Ze(...At));break}default:{ct.value=nt;break}}}return et}var Fl=(s,o,_)=>Math.max(0,Math.min(1,Number(o.getVariable(typeof s=="number"?s*100:s,_)??100)/100))??1,Vl=class{constructor(s,o,_,j,et){this.id=s,this.uuid=o,this.data=_,this.uniforms={};for(let st in j)this.uniforms[`f${this.id}_${st}`]=j[st];for(let st in _)pE(st,this,_,et)}get type(){return this.data.type}static create(s,o,_,j){if(_.type==="light")return wn.createLigherLayer(s,o,_,j);if(_.type==="texture"||_.type==="video"){let et=_.type==="texture"?j.uiBuffer(_.texture.image)??j.image(_.texture.image):j.video(_.texture.video),st=new Gc(et,_.texture.wrapping,_.texture.minFilter??1008,_.texture.magFilter??1006),nt=new V0(et),ct=new U0(_.texture.repeat,_.texture.offset,_.texture.rotation??0),At=new Fe(_.crop?1:0),mt=new It(_.projection??0),gt=new It(["x","y","z"].indexOf(_.axis)??0),_t=new It(_.side??0),Et=new Hr(_.size?new U$1(_.size[0],_.size[1]):new U$1(100,100)),Ct=new Fe(_.blending??0),Bt=new Fe(Fl(_.alpha,j)),Dt=new It(_.mode??0),Ft=new Kr(_.isMask??!1),Rt=new Bl(st,nt,At,mt,gt,_t,Et,Ct,ct,Bt,Dt,Ft),Nt=new Yt(Rt.calpha,"f");return new Ir$1(s,o,_,{texture:st,textureSize:nt,crop:At,projection:mt,axis:gt,side:_t,size:Et,blending:Ct,mat:ct,alpha:Bt,mode:Dt,isMask:Ft},Rt,Dt,Nt,Ft,j)}else if(_.type==="matcap"){let et=j.image(_.texture.image),st=new Gc(et,_.texture.wrapping,_.texture.minFilter??1008,_.texture.magFilter??1006),nt=new Fe(Fl(_.alpha,j)),ct=new It(_.mode??0),At=new Kr(_.isMask??!1),mt=new Fe((_.texture.rotation??0)*we.DEG2RAD),gt=new jd(st,nt,ct,At,mt),_t=new Yt(gt.calpha,"f");return new Ir$1(s,o,_,{texture:st,alpha:nt,mode:ct,isMask:At,rotation:mt},gt,ct,_t,At,j)}else if(_.type==="displace")if(_.displacementType==="noise"){let et=new Xi(new E$2(..._.offset)),st=new Fe(_.scale??10),nt=new Fe(_.intensity??8),ct=new Fe(_.movement??1),At=new It(_.noiseType??0),mt=new It(_.voronoiStyle??0),gt=new Fe(_.smoothness??.5),_t=new Fe(_.seed??0),Et=new Fe(_.highCut??1),Ct=new Fe(_.lowCut??0),Bt=new It(_.quality??1),Dt=new Kd(nt,ct,et,mt,gt,_t,Et,Ct,Bt,st,At);return new bm(s,o,_,{offset:et,scale:st,intensity:nt,movement:ct,noiseType:At,voronoiStyle:mt,smoothness:gt,seed:_t,highCut:Et,lowCut:Ct,quality:Bt},Dt,j)}else throw new Error;else return nX(s,o,_,j)}updateByOp(s,o,_){let j=s;if(j.path[0]===void 0){if(j.type===0)return"type"in j.props||"category"in j.props||"visible"in j.props?(_.scene.markNeedsUpdateRendererDirty(),!0):TR(j.props,_.shared,this,o)}else if(j.path[0]==="texture")return"texture"in o||"video"in o?fE(j.props,_.shared,this):!0;return!1}dispose(){if(rX(this)){let s=this.uniforms[`f${this.id}_texture`];if(!s)return!1;let o=s;o.image instanceof Jn||o.image.deref()}}hasValueByKey(s){return this.uniforms[s]!==void 0}hasValue(s){return this.hasValueByKey(`f${this.id}_${s}`)}setValue(s,o){let _=`f${this.id}_${s}`;this.hasValueByKey(_)&&o!==void 0&&(this.uniforms[_].value=o)}getNode(s){let o=`f${this.id}_${s}`;if(this.hasValueByKey(o))return this.uniforms[o]}getValue(s){let o=`f${this.id}_${s}`;if(this.hasValueByKey(o))return this.uniforms[o].value}getName(s){let o=/f\d+_(.*)/.exec(s);if(o&&o.length>1)return o[1];console.log(`Layer.getName: error ${s}`)}getNames(){let s=[];for(let o in this.uniforms){let _=this.getName(o);_&&s.push(_)}return s}},Ir$1=class extends Vl{constructor(o,_,j,et,st,nt,ct,At,mt){super(o,_,j,et,mt),this.params=et,this.color=st,this.mode=nt,this.alpha=ct,this.isMask=At}},bm=class extends Vl{constructor(s,o,_,j,et,st){super(s,o,_,j,st),this.position=et}},wn=class extends Vl{constructor(s,o,_,j,et,st){super(s,o,_,et,st),this.node=j}static createLigherLayer(s,o,_,j){let et,st=new Fe(Fl(_.alpha,j)),nt=new It(_.mode),ct=new Fe(_.bumpMapIntensity),At=new Fe(Fl(_.alphaOverride,j)),mt;if(!_.visible)et=new _a,mt={};else if(_.category==="lambert"){et=new mm;let gt=new er(j.color(_.emissive)??0),_t=new Kr(_.occlusion??!0);mt={emissive:gt,occlusion:_t},et.emissive=gt,et.occlusion=_t}else if(_.category==="toon"){et=new vm;let gt=new Fe(_.shininess??30),_t=new er(j.color(_.specular)??1118481);mt={shininess:gt,specular:_t},et.shininess=gt,et.specular=_t}else if(_.category==="physical"){et=new ym;let gt=new Fe(_.roughness??.3),_t=new Fe(_.metalness??0),Et=new Fe(_.reflectivity??.5),Ct=new Kr(_.occlusion??!0);mt={roughness:gt,metalness:_t,reflectivity:Et,occlusion:Ct},et.roughness=gt,et.metalness=_t,et.reflectivity=Et,et.occlusion=Ct}else{et=new gm;let gt=new Fe(_.shininess??30),_t=new er(_.specular!==void 0?j.color(_.specular)??1118481:1118481),Et=new Kr(_.occlusion??!0);mt={shininess:gt,specular:_t,occlusion:Et},et.shininess=gt,et.specular=_t,et.occlusion=Et}return et.alpha=new Fe(1),et.shadingAlpha=st,et.shadingBlend=nt,et.bumpMapIntensity=ct,et.alphaOverride=At,mt.alpha=et.shadingAlpha,mt.mode=et.shadingBlend,mt.bumpMapIntensity=et.bumpMapIntensity,mt.alphaOverride=et.alphaOverride,new wn(s,o,_,et,mt,j)}get category(){return this.node.category}};function rX(s){let o=s instanceof Vl?s.type:s;return o==="texture"||o==="video"||o==="displace_map"||o==="matcap"}function gs(s){return{alpha:new Fe(s.alpha??1),mode:new It(s.mode??0),isMask:new Kr(s.isMask??!1)}}function iX(s,o,_,j,et){switch(s.type){case"color":{let st=new er(j.color??ii),nt=gs(j),ct=new jc(st,nt.alpha),At=new Yt(ct.calpha,"f");return new Ir$1(o,_,s,{color:st,...nt},ct,nt.mode,At,nt.isMask,et)}case"fresnel":{let st=new er(j.color??16777215),nt=new Fe(j.bias??.1),ct=new Fe(j.scale??1),At=new Fe(j.intensity??2),mt=new Fe(j.factor??1),gt=gs(j),_t=new fm(st,nt,ct,At,mt,gt.alpha,gt.mode,gt.isMask),Et=new Yt(_t.calpha,"f");return new Ir$1(o,_,s,{color:st,bias:nt,scale:ct,intensity:At,factor:mt,...gt},_t,gt.mode,Et,gt.isMask,et)}case"rainbow":{let st=new Fe(j.filmThickness??30),nt=new Fe(j.movement??0),ct=new Xi(j.wavelengths??new E$2(0,0,0)),At=new Fe(j.noiseStrength??0),mt=new Fe(j.noiseScale??1),gt=new Xi(j.offset??new E$2(0,0,0)),_t=gs(j),Et=new Yd(st,nt,ct,At,mt,gt,_t.alpha,_t.isMask),Ct=new Yt(Et.calpha,"f");return new Ir$1(o,_,s,{filmThickness:st,movement:nt,wavelengths:ct,noiseStrength:At,noiseScale:mt,offset:gt,..._t},Et,_t.mode,Ct,_t.isMask,et)}case"transmission":{let st=new Fe(j.thickness??10),nt=new Fe(j.ior??1.5),ct=new Fe(j.roughness??.5),At=$e$2.transmissionSize,mt=$e$2.transmissionRenderTarget,gt=$e$2.transmissionRenderTargetDepth,_t=window.innerWidth,Et=window.innerHeight,Ct=_t>=Et?new Hr(Et/_t,1):new Hr(1,_t/Et),Bt=gs(j),Dt=new Qd(st,nt,ct,At,mt,gt,Ct,Bt.alpha),Ft=new Yt(Dt.calpha,"f");return new Ir$1(o,_,s,{thickness:st,ior:nt,roughness:ct,aspectRatio:Ct,...Bt},Dt,Bt.mode,Ft,Bt.isMask,et)}case"toon":{let st=new It(j.positioning??0),nt;j.colors?nt=new Xs(j.colors.length,j.colors):(nt=new Xs(10,new Ze(0,0,0,1)),nt.value[1]=new Ze(1,1,1,1));let ct;j.steps?ct=new Ys(j.steps.length,j.steps):(ct=new Ys(10,1),ct.value[0]=0);let At=new Xi(j.source??new E$2(0,0,0)),mt=new Kr(j.isWorldSpace??!0),gt=new Fe(j.noiseStrength??0),_t=new Fe(j.noiseScale??1),Et=new Ln(j.shadowColor),Ct=new Xi(j.offset??new E$2(0,0,0)),Bt=gs(j),Dt=new Xd(st,nt,ct,At,mt,gt,_t,Et,Ct,Bt.alpha),Ft=new Yt(Dt.calpha,"f");return new Ir$1(o,_,s,{positioning:st,colors:nt,steps:ct,source:At,isWorldSpace:mt,noiseStrength:gt,noiseScale:_t,shadowColor:Et,offset:Ct,...Bt},Dt,Bt.mode,Ft,Bt.isMask,et)}case"outline":{let st=new er(j.outlineColor??16777215),nt=new er(j.contourColor??16777215),ct=new Fe(j.outlineWidth??.1),At=new Fe(j.contourWidth??.1),mt=new Fe(j.outlineThreshold??.1),gt=new Fe(j.contourThreshold??.1),_t=new Fe(j.outlineSmoothing??.1),Et=new Fe(j.contourFrequency??.1),Ct=new Xi(j.contourDirection??new E$2(0,1,0)),Bt=new Kr(j.positionalLines??!1),Dt=new Kr(j.compensation??!0),Ft=$e$2.normalRenderTarget,Rt=$e$2.normalRenderTargetDepth,Nt=$e$2.pixelRatioNode,Gt=$e$2.resolution,dr=gs(j),ts=new Wd(st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Gt,Ft,Rt,Nt,dr.alpha),es=new Yt(ts.calpha,"f");return new Ir$1(o,_,s,{outlineColor:st,contourColor:nt,outlineWidth:ct,contourWidth:At,outlineThreshold:mt,contourThreshold:gt,outlineSmoothing:_t,contourFrequency:Et,contourDirection:Ct,positionalLines:Bt,compensation:Dt,...dr},ts,dr.mode,es,dr.isMask,et)}case"depth":{let st=new It(j.gradientType??0),nt=new Kr(j.smooth??!1),ct=new Fe(j.near??50),At=new Fe(j.far??200),mt=new Fe(j.isVector??1),gt=new Fe(j.isWorldSpace??0),_t=new Xi(j.origin??new E$2),Et=new Xi(j.direction??new E$2),Ct;j.colors?Ct=new Xs(j.colors.length,j.colors):(Ct=new Xs(2,new Ze(0,0,0,1)),Ct.value[1]=new Ze(1,1,1,1));let Bt;j.steps?Bt=new Ys(j.steps.length,j.steps):(Bt=new Ys(2,1),Bt.value[0]=0);let Dt=gs(j),Ft=new kd(st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt.alpha,Dt.isMask),Rt=new Yt(Ft.calpha,"f");return new Ir$1(o,_,s,{gradientType:st,smooth:nt,near:ct,far:At,isVector:mt,isWorldSpace:gt,origin:_t,direction:Et,colors:Ct,steps:Bt,...Dt},Ft,Dt.mode,Rt,Dt.isMask,et)}case"noise":{let st=new Fe(j.scale??1),nt=new Xi(j.size??new E$2(100,100,100)),ct=new Fe(j.move??1),At=new Hr(j.fA??new U$1(1.7,9.2)),mt=new Hr(j.fB??new U$1(8.3,2.8)),gt=new Hr(j.distortion??new U$1(1,1)),_t=new Ln(j.colorA),Et=new Ln(j.colorB),Ct=new Ln(j.colorC),Bt=new Ln(j.colorD),Dt=new It(j.noiseType??0),Ft=new It(j.voronoiStyle??0),Rt=new Fe(j.highCut??1),Nt=new Fe(j.lowCut??0),Gt=new Fe(j.smoothness??.5),dr=new Fe(j.seed??.5),ts=new It(j.quality??1),es=gs(j),ds=new Hd(st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,es.alpha,Dt,es.isMask,Ft,Rt,Nt,Gt,dr,ts),tn=new Yt(ds.calpha,"f");return new Ir$1(o,_,s,{scale:st,size:nt,move:ct,fA:At,fB:mt,distortion:gt,colorA:_t,colorB:Et,colorC:Ct,colorD:Bt,noiseType:Dt,...es,voronoiStyle:Ft,highCut:Rt,lowCut:Nt,smoothness:Gt,seed:dr,quality:ts},ds,es.mode,tn,es.isMask,et)}case"normal":{let st=new Xi(j.cnormal??new E$2(1,1,1)),nt=gs(j),ct=new Vd(st,nt.alpha),At=new Yt(ct.calpha,"f");return new Ir$1(o,_,s,{cnormal:st,...nt},ct,nt.mode,At,nt.isMask,et)}case"gradient":{let st=new It(j.gradientType??0),nt=new Kr(j.smooth??!1),ct;j.colors?ct=new Xs(j.colors.length,j.colors):(ct=new Xs(10,new Ze(0,0,0,1)),ct.value[1]=new Ze(1,1,1,1));let At;j.steps?At=new Ys(j.steps.length,j.steps):(At=new Ys(10,1),At.value[0]=0);let mt=new Hr(j.offset??new U$1(0,0)),gt=new Hr(j.morph??new U$1(0,0)),_t=new Fe(j.angle??0),Et=gs(j),Ct=new Gd(st,nt,ct,At,mt,gt,_t,Et.alpha,Et.isMask),Bt=new Yt(Ct.calpha,"f");return new Ir$1(o,_,s,{gradientType:st,smooth:nt,colors:ct,steps:At,offset:mt,morph:gt,angle:_t,...Et},Ct,Et.mode,Bt,Et.isMask,et)}case"pattern":{let st=new It(j.style??0),nt=new It(j.projection??0),ct=new It(["x","y","z"].indexOf(j.axis)??0),At=new Fe(j.blending??0),mt=new Hr(j.offset??new U$1(0,0)),gt=new Ln(j.colorA),_t=new Ln(j.colorB),Et=new Hr(j.frequency??new U$1(10,10)),Ct=new Fe(j.size??.5),Bt=new Fe(j.variation??0),Dt=new Fe(j.smoothness??.5),Ft=new Fe(j.zigzag??0),Rt=new Fe(j.rotation??0),Nt=new Hr(j.vertical??new U$1(0,1)),Gt=new Hr(j.horizontal??new U$1(0,1)),dr=new It(j.sides??6),ts=gs(j),es=new qd(st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts.alpha,ts.isMask),ds=new Yt(es.calpha,"f");return new Ir$1(o,_,s,{style:st,projection:nt,axis:ct,blending:At,offset:mt,colorA:gt,colorB:_t,frequency:Et,size:Ct,variation:Bt,smoothness:Dt,zigzag:Ft,rotation:Rt,vertical:Nt,horizontal:Gt,sides:dr,...ts},es,ts.mode,ds,ts.isMask,et)}default:{let st=new er(1,0,0,1),nt=gs(j),ct=new jc(st,nt.alpha),At=new Yt(ct.calpha,"f");return new Ir$1(o,_,s,{color:st,...nt},ct,nt.mode,At,nt.isMask,et)}}}function nX(s,o,_,j){let et=MR(_,j);return iX(_,s,o,et,j)}function pE(s,o,_,j){if(_.type==="displace"&&(s==="intensity"||s==="visible")){let et=o.uniforms[`f${o.id}_intensity`];return et?(et.value=_.intensity*(_.visible?1:0),et):void 0}if(_.type!=="displace"&&(s==="alpha"||s==="visible")){let et=o.uniforms[`f${o.id}_alpha`];if(!et)return;if(et.value=Fl(_.alpha,j)*(_.visible?1:0),_.type==="outline"&&s==="visible"){let st=o.uniforms[`f${o.id}_compensation`];st&&(st.value=_.compensation&&_.visible)}return et}}function Wc(s,o){let _=0,j=s.layers.find(et=>et.data.type==="light");if(j){let et=j.data,st=Number(o.getVariable(et.alphaOverride));if((typeof et.alphaOverride=="string"?st/100:et.alphaOverride)<1)return!0}for(let et of s.layers){if(et.data.type!=="displace"&&et.data.isMask)return!0;if(et.data.type!=="displace"&&"alpha"in et.data&&et.data.type!=="light"&&et.data.type!=="fresnel"&&et.data.type!=="texture"&&et.data.type!=="matcap"&&et.data.type!=="rainbow"&&et.data.type!=="outline"&&et.data.type!=="pattern"){let st=et.data.visible?et.data.alpha:0;if(typeof st=="string"&&(st=Math.max(0,Math.min(1,Number(o.getVariable(st)??100)/100))),st===1&&et.data.type==="depth"||et.data.type==="gradient"){for(let nt of et.data.colors)if(nt[3]<1){st=nt[3];break}}else if(st===1&&et.data.type==="noise"){let nt=o.color(et.data.colorA).a,ct=o.color(et.data.colorB).a,At=o.color(et.data.colorC).a,mt=o.color(et.data.colorD).a,gt=Math.min(nt,Math.min(ct,Math.min(At,mt)));gt<1&&(st=gt)}_+=(1-_)*st}}return _<1}var Nn=class extends it{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.nodeContextUuid=0,this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return""}},X0=class extends Nn{constructor(s,o,_,j){super(),this.flatShading=s,this.side=o,this.wireframe=_,this.root=j}updateAfterBuild(){let s=this.root;this.lights=s.lights,this.vertexShader=s.vertexShader,this.fragmentShader=s.fragmentShader,this.defines=s.defines,this.uniforms=s.uniforms,this.extensions=s.extensions,this.transparent=s.transparent,this.cacheKey=s.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(s,o){this.root.onBeforeCompile(s)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(s,o,_){return this.root.getFlavor(s,o,_)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(s){return this.root.getLayersOfType(s)}getLayerByUuid(s){return this.root.getLayerByUuid(s)}updateByOp(s,o,_){this.root.updateByOp(s,o,_)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},Ia=class extends Nn{constructor(s,o,_=!0){super(),this.data=s,this.allowVariableSaves=_,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.needsJitter=o.shared.needsJitter,sr.startContext(this),this.reset0(s,o),sr.endContext(this)}get nodeMaterial(){return this}getFlavor(s,o,_){let j=_?6:(s?3:0)+o;if(j===0)return this;this.flavors===void 0&&(this.flavors=[]),j-=1;let et=this.flavors[j];return et===void 0&&(et=new X0(s,o,_,this),et.needsJitter=this.needsJitter,this.flavors[j]=et,et.flatShading=s,et.side=o,et.updateAfterBuild()),et}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var s;return((s=this.lightLayer.getNode("occlusion"))==null?void 0:s.value)??!1}reset(s,o,_=!1){sr.startContext(this),(this.data!==s||_)&&this.reset0(s,o),sr.endContext(this)}reset0(s,o){this.data=s;let _=s.layers??Qr.defaultTwoLayerData("phong").layers;try{this.layers=_.map(j=>Vl.create(this.layerIdGen++,j.id,j.data,o.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=s.name??"Untitled Material",this.onUpdate(o.shared),this.transparent=Wc(s,o.shared),this.saveVariableLocations(o)}onVariableUpdate(s,o,_){if(s[0]==="alphaOverride")this.transparent=Wc(this.data,_.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(o)/100,1)));else if(s[0]==="layer"){let j=s[1],et=s[2];if(j&&et){let st=this.layers.find(nt=>nt.uuid===j);st!=null&&st.hasValue(et)&&(et==="alpha"?(this.transparent=Wc(this.data,_.shared),st.setValue(et,Math.max(0,Math.min(Number(o)/100,1)))):st.setValue(et,o))}}}saveVariableLocations(s){if(!this.allowVariableSaves)return;let o=this.data.layers.find(_=>_.data.type==="light");o&&s.shared.getVariable(o.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(_=>{"alpha"in _.data&&typeof _.data.alpha=="string"&&s.shared.getVariable(_.data.alpha,["material",this.uuid,"layer",_.id,"alpha"])})}getLayersOfType(s){return this.layers.filter(o=>o.type===s)}getLayerByUuid(s){return this.layers.find(o=>o.uuid===s)}onUpdate(s){this.lightLayer=this.layers.find(o=>o instanceof wn),this.lightLayer===void 0&&(this.lightLayer=new wn(0,"",{...Gr.defaultData("light","phong"),visible:!1},new _a,{},s)),this.dispose();for(let o of this.flavors)o&&o.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions(),this.build(),this.nodeContextUuid=0}applyTextureMaps(){let s=this.layers.find(et=>et instanceof wn);if(!s)return;let o=s.data,_=o.bumpMap,j=o.roughnessMap;s.node.bumpMap=void 0,s.node.roughnessMap=void 0;for(let et=0;et<this.layers.length;++et){let st=this.layers[et];st instanceof Ir$1&&st.color instanceof Bl&&(st.uuid===_&&(s.node.bumpMap=st.color),st.uuid===j&&(s.node.roughnessMap=st.color))}}updateByOp(s,o,_){if(sr.startContext(this),o!==void 0?this.data=o:o=this.data,this.transparent=Wc(o,_.shared),s.path[0]==="layers"){let j=_.shared,et=s.path[1];if(et===void 0)_.scene.markNeedsUpdateRendererDirty(),this.reset0(o,_);else{s.type===0&&s.props.occlusion!==void 0&&_.scene.markNeedsUpdateRendererDirty();let st=this.layers.find(nt=>nt.uuid===et);if(st){let nt=o.layers.data(et),ct;s.type===0&&("alpha"in s.props||"alphaOverride"in s.props)&&("alpha"in s.props?ct={...s.props,alpha:Fl(s.props.alpha,j,["material",this.uuid,"layer",et,"alpha"])}:ct={...s.props,alphaOverride:Fl(s.props.alphaOverride,j,["material",this.uuid,"alphaOverride"])}),st.updateByOp({...s,...ct?{props:ct}:{},path:s.path.slice(2)},nt,_)&&this.reset0(o,_)}}}else this.reset0(o,_);sr.endContext(this)}applyMasks(){for(let s=0;s<this.layers.length;++s){let o=this.layers[s];o instanceof Ir$1?o.color.mask=void 0:o instanceof wn&&(o.node.mask=void 0)}for(let s=0;s<this.layers.length;++s){let o=this.layers[s];if(o instanceof Ir$1&&o.isMask.value&&o.data.visible&&s>0){let _=s-1,j=this.layers[_];j instanceof wn?j.node.mask=new Ui(o.color,o.alpha,Ui.MUL):j instanceof Ir$1&&(j.isMask.value||(j.color.mask=new Ui(o.color,o.alpha,Ui.MUL)))}}}blendColors(){let s=this.layers.findIndex(_=>_ instanceof Ir$1),o=this.layers.findIndex(_=>_ instanceof wn);if(s!==-1&&s<o){let _=this.layers[s].color;for(let j=s+1;j<o;++j){let et=this.layers[j];if(et instanceof Ir$1){if(et.isMask.value)continue;_=new Fd(_,et.color,et.alpha,et.mode)}}this.fragment.color=_}else this.fragment.color=void 0}blendAfterColors(){let s=new Yt("outgoingLight","f"),o=this.layers.findIndex(_=>_ instanceof wn);if(this.layers.length>o+1){for(let _=o+1;_<this.layers.length;++_){let j=this.layers[_];if(j instanceof Ir$1){if(j.isMask.value)continue;s=new Fd(s,j.color,j.alpha,j.mode)}}this.fragment.afterColor=s}else this.fragment.afterColor=void 0}blendPositions(){let s=this.layers.filter(o=>o instanceof bm);if(s.length>0){let o=s[0].position;for(let _=1;_<s.length;++_)s[_]&&(o=new Ui(o,s[_].position,Ui.ADD),o=new Ui(o,new Fe(.5).setReadonly(!0),Ui.MUL));this.fragment.position=o}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(s){s.defines=this.defines,s.uniforms=this.uniforms,s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader,s.extensionDerivatives=this.extensions.derivatives===!0,s.extensionFragDepth=this.extensions.fragDepth===!0,s.extensionDrawBuffers=this.extensions.drawBuffers===!0,s.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(s,o){let _=(j,et,st)=>Math.min(Math.max(j,et),st);for(let j of this.layers)if(j.type==="displace"){let et=_(j.uniforms[`f${j.id}_intensity`].value,s,o);j.uniforms[`f${j.id}_intensity`].value=et}}updateFrame(s){for(let o=0;o<this.updaters.length;++o)s.updateNode(this.updaters[o])}build(){let s=new Bd;s.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,s.build(this.fragment,this.fragment),this.vertexShader=s.getCode("vertex"),this.fragmentShader=s.getCode("fragment"),this.defines=s.defines,this.uniforms=s.uniforms,this.extensions=s.extensions,this.updaters=s.updaters;for(let o of this.flavors)o&&o.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(s=>s.dispose()),super.dispose();for(let s of this.flavors)s&&s.dispose()}assetsLoaded(){for(let s of this.layers)if(s instanceof Ir$1){let o=s.params.texture;if(o instanceof Gc&&!o.image.loaded)return!1}return!0}};Object.defineProperties(Nn.prototype,{properties:{get:function(){return this.fragment.properties}}});var qc=class extends Ia{constructor(s,o,_){super(s,o,!1),this.uuid=_,this.allowVariableSaves=!0,this.saveVariableLocations(o)}},CR$2=new Map;function PR$1(s){if(typeof s=="string")return s;let o=CR$2.get(s);return o||(o={url:URL.createObjectURL(new Blob([s]))},CR$2.set(s,o)),o.url}var DR,IR=new Promise(s=>{DR=s}),_R=!1,Q0;function OR(){if(_R)return;if(Q0)return Q0;async function s(){await __vitePreload(()=>import("./howler-twwNiqPA.js").then(o=>o.h),[]),DR(window!==void 0?window:global),_R=!0}return Q0=s(),Q0}var RR;IR.then(s=>RR=s);function LR(s){let o=!1;return s.scene.objects.traverse((_,j)=>{if(j.events===void 0||Array.isArray(j.events)===!1)return!0;let et=[];j.events.forEach(st=>{"dragDropActions"in st.data?(et.push(...st.data.dragDropActions.drag),et.push(...st.data.dragDropActions.drop)):"inActions"in st.data?(et.push(...st.data.inActions),et.push(...st.data.outActions)):"gameActions"in st.data?(et.push(...st.data.gameActions.idle),et.push(...st.data.gameActions.move),et.push(...st.data.gameActions.jump),et.push(...st.data.gameActions.run)):"breakpoints"in st.data?st.data.breakpoints.forEach(nt=>{et.push(...nt.data.actions)}):"actions"in st.data&&et.push(...st.data.actions),o=o||et.some(nt=>nt.data.type==="Audio")})}),o}var Oa=class{constructor({src:s,volume:o,delay:_,loop:j}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let et;typeof s=="string"?et={src:s}:et={src:PR$1(s),format:"wav"},this.sound=new RR.Howl(et),this.sound.on("end",this.onEnd),this.src=s,o!==void 0&&(this.volume=o),_!==void 0&&(this.delay=_),j!==void 0&&(this.loop=j)}get status(){return this._status}get volume(){return this._volume}set volume(s){this._volume=s,this.sound.volume(s)}get loop(){return this._loop}set loop(s){this._loop=s,this.loopsRemaining=s}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(s,o=1e3){s?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,o),this.clearFade()},s)):this.sound.fade(this._volume,0,o)}on(s,o,_){this.sound.on(s,o,_)}off(s,o,_){this.sound.off(s,o,_)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(s=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},K0=class{constructor(){this.type="ShapePath",this.color=new We,this.subPaths=[],this.currentPath=null}moveTo(s,o){return this.currentPath=new vc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(s,o),this}lineTo(s,o){var _;return(_=this.currentPath)==null||_.lineTo(s,o),this}quadraticCurveTo(s,o,_,j){var et;return(et=this.currentPath)==null||et.quadraticCurveTo(s,o,_,j),this}bezierCurveTo(s,o,_,j,et,st){var nt;return(nt=this.currentPath)==null||nt.bezierCurveTo(s,o,_,j,et,st),this}splineThru(s){var o;return(o=this.currentPath)==null||o.splineThru(s),this}toShapes(){let s={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},o={loc:s.ORIGIN,t:0};function _(Ct,Bt,Dt,Ft){let Rt=Ct.x,Nt=Bt.x,Gt=Dt.x,dr=Ft.x,ts=Ct.y,es=Bt.y,ds=Dt.y,tn=Ft.y,rn=(dr-Gt)*(ts-ds)-(tn-ds)*(Rt-Gt),un=(Nt-Rt)*(ts-ds)-(es-ts)*(Rt-Gt),$n=(tn-ds)*(Nt-Rt)-(dr-Gt)*(es-ts),kn=rn/$n,lo=un/$n;if($n===0&&rn!==0||kn<=0||kn>=1||lo<0||lo>1)return null;if(rn===0&&$n===0){for(let Il=0;Il<2;Il++)if(j(Il===0?Dt:Ft,Ct,Bt),o.loc===s.ORIGIN){let cu=Il===0?Dt:Ft;return{x:cu.x,y:cu.y,t:o.t}}else if(o.loc===s.BETWEEN){let cu=+(Rt+o.t*(Nt-Rt)).toPrecision(10),Ko=+(ts+o.t*(es-ts)).toPrecision(10);return{x:cu,y:Ko,t:o.t}}return null}else{for(let Ko=0;Ko<2;Ko++)if(j(Ko===0?Dt:Ft,Ct,Bt),o.loc===s.ORIGIN){let ru=Ko===0?Dt:Ft;return{x:ru.x,y:ru.y,t:o.t}}let Il=+(Rt+kn*(Nt-Rt)).toPrecision(10),cu=+(ts+kn*(es-ts)).toPrecision(10);return{x:Il,y:cu,t:kn}}}function j(Ct,Bt,Dt){let Ft=Dt.x-Bt.x,Rt=Dt.y-Bt.y,Nt=Ct.x-Bt.x,Gt=Ct.y-Bt.y,dr=Ft*Gt-Nt*Rt;if(Ct.x===Bt.x&&Ct.y===Bt.y){o.loc=s.ORIGIN,o.t=0;return}if(Ct.x===Dt.x&&Ct.y===Dt.y){o.loc=s.DESTINATION,o.t=1;return}if(dr<-Number.EPSILON){o.loc=s.LEFT;return}if(dr>Number.EPSILON){o.loc=s.RIGHT;return}if(Ft*Nt<0||Rt*Gt<0){o.loc=s.BEHIND;return}if(Math.sqrt(Ft*Ft+Rt*Rt)<Math.sqrt(Nt*Nt+Gt*Gt)){o.loc=s.BEYOND;return}let ts;Ft!==0?ts=Nt/Ft:ts=Gt/Rt,o.loc=s.BETWEEN,o.t=ts}function et(Ct,Bt){let Dt=[],Ft=[];for(let Rt=1;Rt<Ct.length;Rt++){let Nt=Ct[Rt-1],Gt=Ct[Rt];for(let dr=1;dr<Bt.length;dr++){let ts=Bt[dr-1],es=Bt[dr],ds=_(Nt,Gt,ts,es);ds!==null&&Dt.find(tn=>tn.t<=ds.t+Number.EPSILON&&tn.t>=ds.t-Number.EPSILON)===void 0&&(Dt.push(ds),Ft.push(new U$1(ds.x,ds.y)))}}return Ft}function st(Ct,Bt,Dt){let Ft=new U$1;Bt.getCenter(Ft);let Rt=[];return Dt.forEach(Nt=>{Nt.boundingBox.containsPoint(Ft)&&et(Ct,Nt.points).forEach(Gt=>{Rt.push({identifier:Nt.identifier,isCW:Nt.isCW,point:Gt})})}),Rt.sort((Nt,Gt)=>Nt.point.x-Gt.point.x),Rt}function nt(Ct,Bt,Dt,Ft,Rt){(Rt==null||Rt==="")&&(Rt="nonzero");let Nt=new U$1;Ct.boundingBox.getCenter(Nt);let Gt=[new U$1(Dt,Nt.y),new U$1(Ft,Nt.y)],dr=st(Gt,Ct.boundingBox,Bt);dr.sort((un,$n)=>un.point.x-$n.point.x);let ts=[],es=[];dr.forEach(un=>{un.identifier===Ct.identifier?ts.push(un):es.push(un)});let ds=ts[0].point.x,tn=[],rn=0;for(;rn<es.length&&es[rn].point.x<ds;)tn.length>0&&tn[tn.length-1]===es[rn].identifier?tn.pop():tn.push(es[rn].identifier),rn++;if(tn.push(Ct.identifier),Rt==="evenodd"){let un=tn.length%2===0,$n=tn[tn.length-2];return{identifier:Ct.identifier,isHole:un,for:$n}}else if(Rt==="nonzero"){let un=!0,$n=null,kn=null;for(let lo=0;lo<tn.length;lo++){let Il=tn[lo];Bt[Il]&&(un?(kn=Bt[Il].isCW,un=!1,$n=Il):kn!==Bt[Il].isCW&&(kn=Bt[Il].isCW,un=!0))}return{identifier:Ct.identifier,isHole:un,for:$n}}else console.warn('fill-rule: "'+Rt+'" is currently not implemented.')}let ct=0,At=999999999,mt=-999999999,gt=[];this.subPaths.forEach(Ct=>{let Bt=Ct.getPoints(),Dt=-999999999,Ft=999999999,Rt=-999999999,Nt=999999999;for(let Gt=0;Gt<Bt.length;Gt++){let dr=Bt[Gt];dr.y>Dt&&(Dt=dr.y),dr.y<Ft&&(Ft=dr.y),dr.x>Rt&&(Rt=dr.x),dr.x<Nt&&(Nt=dr.x)}mt<=Rt&&(mt=Rt+1),At>=Nt&&(At=Nt-1),Bt.length&&gt.push({curves:Ct.curves,points:Bt,isCW:Uu.isClockWise(Bt),identifier:ct++,boundingBox:new Ku(new U$1(Nt,Ft),new U$1(Rt,Dt))})});let _t=gt.map(Ct=>{var Bt;return nt(Ct,gt,At,mt,(Bt=this.userData)==null?void 0:Bt.style.fillRule)}),Et=[];return gt.forEach(Ct=>{let Bt=_t[Ct.identifier];if(Bt&&!Bt.isHole){let Dt=new aa;Dt.curves=Ct.curves,_t.filter(Ft=>(Ft==null?void 0:Ft.isHole)&&Ft.for===Ct.identifier).forEach(Ft=>{if(Ft){let Rt=gt[Ft.identifier],Nt=new vc;Nt.curves=Rt.curves,Dt.holes.push(Nt)}}),Et.push(Dt)}}),Et}},mE=!1,NR,gE=new Promise(s=>{NR=s}),BR=!1,Z0;function FR(){if(mE=!0,BR)return;if(Z0)return Z0;async function s(){let o=await __vitePreload(()=>import("./opentype-D6jUvuOk.js"),[]);NR(o),BR=!0}return Z0=s(),Z0}var Sm=class{async load(s,o,_=()=>{}){let{load:j}=await gE;j(s,(et,st)=>{et||!st?_(et??"Something went wrong"):o(st)})}async parse(s){let{parse:o,Bidi:_}=await gE;try{let j=o(s),et=new _,st=nt=>j.charToGlyphIndex(nt.char);return et.registerModifier("glyphIndex",null,st),et.applyFeatures(j,j.defaultRenderOptions.features),{font:j,bidi:et}}catch(j){console.error(j)}}};async function sX(s){return await(await fetch(s)).arrayBuffer()}var oX=new Sm;async function yE(s){let o,_,j=!1;if(s.url?(o=await sX(s.url),_=s.url,j=s.url.startsWith("/")):s.data&&(o=s.data.buffer.slice(s.data.byteOffset,s.data.byteOffset+s.data.byteLength)),o)if(mE){let et=await oX.parse(o);if(et)return{font:et.font,url:_,intercepted:j,arr:o,bidi:et.bidi}}else return{font:void 0,url:_,intercepted:j,arr:o,bidi:null}}function aX(s,o){return o.state.glyphIndex===s||o.state.fina===s||o.state.medi===s||o.state.init===s}var J0=class{constructor(s){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=s.isUserFont??!1,this._loadingPromise=yE(s).then(o=>{o&&(this._arrayBuffer=o.arr,this._url=o.url,this.font=o.font,this._intercepted=o.intercepted,this._isLoaded=!0,this._bidi=o.bidi)})}update(s){this._isLoaded=!1,this._isUserFont=s.isUserFont??!1,this._loadingPromise=yE(s).then(o=>{o&&(this._arrayBuffer=o.arr,this._url=o.url,this.font=o.font,this._intercepted=o.intercepted,this._isLoaded=!0,this._bidi=o.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(s,o,_){if(!this._bidi)return[];let j=this._bidi;j.getTextGlyphs(o);let et=j.tokenizer.tokens,st=[],nt=0,ct=_.length===et.length;for(let At=0;At<_.length;At++){let mt=_[At].index,gt=String.fromCharCode(_[At].unicode),_t=et[nt];if(aX(mt,_t)||ct)st.push({char:gt,index:mt,replacements:[_t.state.glyphIndex],replacementChars:[_t.char]}),nt++;else{let Et=_t.char,Ct="",Bt=[_t.state.glyphIndex],Dt=[],Ft=!1;for(;!Ft;)nt++,Ct=o.charAt(nt),Et+=Ct,Bt.push(s.charToGlyphIndex(Ct)),Dt=s.stringToGlyphs(Et),Dt.length===1&&Dt[0].index===mt&&(Ft=!0),nt>o.length&&(Ft=!0);st.push({char:gt,index:mt,replacements:Bt,replacementChars:Array.from(Et)}),nt++}}return st}generateShapes(s,o){if(!this._isLoaded)return;let _=this.font,j=o.fontSize/this.unitsPerEm,et=o.fontSize*o.lineHeight,st=s.map(Rt=>this.getTextWidth(Rt,o)),nt=o.width,ct=this.getCharWidth(`
`,o),At=o.horizontalAlign===1?ct:0,mt=this.computeSpaceWidthForLine(s,0,o),gt=this.getLineInitialOffsetX(st[0],nt,o.horizontalAlign,s[0],ct),_t=this.getLineInitialOffsetY(et,s.length,o.height,j,o.verticalAlign),Et=[],Ct=s.map(Rt=>[]),Bt=s.map(Rt=>[]),Dt;for(let Rt=0;Rt<s.length;Rt++){let Nt=s[Rt],Gt={features:{liga:!0}},dr=[];try{dr=_.stringToGlyphs(Nt,Gt)}catch(es){console.warn(es)}gt=this.getLineInitialOffsetX(st[Rt],nt,o.horizontalAlign,Nt,ct);let ts=[];try{ts=this.reverseLigaturesTable(_,Nt,dr)}catch(es){console.warn(es)}mt=this.computeSpaceWidthForLine(s,Rt,o);for(let es=0;es<dr.length;es++){let ds=dr[es],tn=ds.index===0?`
`:ds.unicode?String.fromCharCode(ds.unicode):void 0,rn=ts[es],un=0,$n=0;es===0&&o.horizontalAlign===2&&ds.leftSideBearing!==void 0&&($n=-ds.leftSideBearing*j),Dt&&(un=_.getKerningValue(ds,Dt)*j),gt+=$n+un;let kn=0;if(tn===`
`)kn=At;else if(tn===" ")kn=mt;else{let lo=this.createPath(ds,j,gt,_t,o);lo&&(kn=lo.offsetX-(un+$n),Et.push(lo.path))}if(rn.replacements.length===1)Bt[Rt].push([gt,_t]),Ct[Rt].push(kn);else{let lo=rn.replacements.map(ru=>(_.glyphs.get(ru).advanceWidth??0)*j),Il=lo.reduce((ru,Tn)=>ru+=Tn,0),cu=lo.map(ru=>ru/Il),Ko=gt;for(let ru=0;ru<cu.length;ru++){let Tn=kn*cu[ru];Bt[Rt].push([Ko,_t]),Ct[Rt].push(Tn),Ko+=Tn}}gt+=kn,Dt=ds}_t-=et}let Ft=[];for(let Rt=0,Nt=Et.length;Rt<Nt;Rt++)Ft.push(...Et[Rt].toShapes());return{shapes:Ft,charWidths:Ct,lineWidths:st,charCoords:Bt}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var s;return((s=this.font)==null?void 0:s.ascender)??0}get descender(){var s;return((s=this.font)==null?void 0:s.descender)??0}get familyName(){var s;return((s=this.font)==null?void 0:s.names.fontFamily)??""}get subfamilyName(){var s;return((s=this.font)==null?void 0:s.names.fontSubfamily)??""}get unitsPerEm(){var s;return((s=this.font)==null?void 0:s.unitsPerEm)??1}getLineInitialOffsetX(s,o,_,j,et){return(_===3||_===2)&&j.indexOf(`
`)>=0&&(s-=et),_===3?o*.5-s*.5:_===2?o-s:0}getLineInitialOffsetY(s,o,_,j,et){let st=o*s,nt=Math.abs(this.ascender-this.descender)*j,ct=s-nt,At=-this.ascender*j-ct/2;return et===3?-(_-st-At):et===2?-(_*.5-st*.5-At):At}createPath(s,o,_,j,et){var At;let st=s.getPath(_,-j,et.fontSize,{kerning:!1,letterSpacing:et.letterSpacing});if(!st){console.error('THREE.Font: character "'+s+'" does not exists in font family '+this.familyName+".");return}let nt=new K0,ct=(s.advanceWidth??1)*o;if(s)for(let mt of st.commands){let gt=(At=nt.currentPath)==null?void 0:At.currentPoint;if(!(gt&&mt.type!=="Z"&&gt.x===mt.x&&-gt.y===mt.y))switch(mt.type){case"M":nt.moveTo(mt.x,-mt.y);break;case"L":nt.lineTo(mt.x,-mt.y);break;case"Q":nt.quadraticCurveTo(mt.x1,-mt.y1,mt.x,-mt.y);break;case"C":nt.bezierCurveTo(mt.x1,-mt.y1,mt.x2,-mt.y2,mt.x,-mt.y);break}}return nt.subPaths.forEach(mt=>{let gt=lX(mt.curves);gt!==void 0&&mt.currentPoint.distanceTo(gt)>0&&mt.lineTo(gt.x,gt.y)}),{offsetX:ct+et.fontSize*et.letterSpacing,path:nt}}getCharWidth(s,o){var _;return((_=this.font)==null?void 0:_.getAdvanceWidth(s,o.fontSize,{kerning:!0,letterSpacing:o.letterSpacing}))??0}getTextWidth(s,o){var _;return((_=this.font)==null?void 0:_.getAdvanceWidth(s,o.fontSize,{kerning:!0,letterSpacing:o.letterSpacing}))??0}computeSpaceWidthForLine(s,o,_){let j=this.getCharWidth(" ",_),et=s[o];if(et){let st=this.countSpaces(et.trimEnd());if(_.horizontalAlign===4&&o<s.length-1&&st){let nt=_.width,ct=this.getTextWidth(et,_);return(nt-(ct-st*j))/st}}return j}countSpaces(s){return(s.match(/ /g)||[]).length}};function lX(s){if(s.length){let o=s[0];if(o instanceof ln)return o.v1;if(o instanceof an||o instanceof Yn)return o.v0}}var vE=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(s){return this.objects.get(s)}get size(){return this.objects.size}get(s,o,_){let j=this.objects.get(s);return j===void 0?(j=this.createObject(s,o,_),this.objects.set(s,j)):j.isShared=!0,j}forceDelete(s){let o=this.objects.get(s);o&&(this.disposeObject(o),this.objects.delete(s))}mutateIfUnique(s,o){let _=this.objects.get(s);if(_&&_.isShared!==!0)return this.objects.delete(s),this.objects.set(o,_),_}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(s,o){let _=this.objects.get(s);o===_&&this.unreachable.delete(s)}endGc(){this.unreachable.forEach(s=>{this.disposeObject(this.objects.get(s)),this.objects.delete(s)}),this.unreachable.clear()}dispose(){this.objects.forEach(s=>{this.disposeObject(s)}),this.objects.clear()}},wm=class extends vE{constructor(s){super(),this.flatShading=s}disposeObject(s){s.dispose()}createObject(s,o,_){let j=Ca(s,o,this.flatShading,_);return j.computeBoundingSphere(),j}},VR={markNeedsUpdateRendererDirty:()=>{}};function Yc(s){return{all:s=s||new Map,on:function(o,_){var j=s.get(o);j?j.push(_):s.set(o,[_])},off:function(o,_){var j=s.get(o);j&&(_?j.splice(j.indexOf(_)>>>0,1):s.set(o,[]))},emit:function(o,_){var j=s.get(o);j&&j.slice().map(function(et){et(_)}),(j=s.get("*"))&&j.slice().map(function(et){et(o,_)})}}}var ex=class{constructor(s,o,_){var j;this.id=s,this.userAPI=o,this.result=void 0,this.error="null",this.isPrefetched=!1,this.isLoading=!1,this.isLoaded=!1,this.prefetchPromise=new Promise(et=>et()),this.emitter=Yc(),((j=o==null?void 0:o.integration)==null?void 0:j.type)==="OpenAI"?this.result={content:""}:o.method==="GET"&&o.url!==""&&(this.prefetchPromise=this.prefetch(_))}async prefetch(s){await this.callUserAPI(s)}async callUserAPI(s){var o,_,j;this.emitter.emit("start",{userAPIId:this.id}),this.isLoading=!0,this.isLoading=!1;try{this.result=await fX(this.userAPI,s),this.error="null",this.emitter.emit("success",{userAPIId:this.id})}catch(et){let st=((j=(_=(o=et.message)==null?void 0:o.split("_:_"))==null?void 0:_[0])==null?void 0:j.replace("status:",""))??"null";this.error=st,this.result=null,this.emitter.emit("error",{userAPIId:this.id})}this.isLoading=!1,this.isPrefetched=!0,this.isLoaded=!0}update(s,o){this.userAPI=s,this.userAPI.url!==""&&this.userAPI.method==="GET"&&this.prefetch(o)}retrieveValue(s){if(this.result)try{return Sr$1.zoom(this.result,s)}catch(o){console.error(o)}}retrieveZoomedKeyValues(s){if(this.result){let o=s&&s.length?Sr$1.zoom(this.result,s):this.result;if(dX(o))return Object.entries(o);if(hX(o))return o.map((_,j)=>[j.toString(),_]);throw uX(o)?new Error("This path points to a value, use retrieveValue() instead. "+(s==null?void 0:s.join("."))):new Error("Path error"+(s==null?void 0:s.join(".")))}}dispose(){}on(s,o){this.emitter.on(s,o)}off(s,o){this.emitter.off(s,o)}get autostart(){return this.userAPI.autoStart}};function cX(s){let o=new Headers;return s.headers.forEach(_=>{_.data.key!==""&&o.append(_.data.key,_.data.value)}),o}function uX(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"||s===null}function hX(s){return Array.isArray(s)}function dX(s){return typeof s=="object"&&s!==null}async function fX(s,o,_=new AbortController){var st,nt;let j;if(((st=s.integration)==null?void 0:st.type)==="OpenAI"){let ct=$0(s.integration.prompt===""?"":JSON.parse(s.integration.prompt),o),At=s.integration.behavior===""?"":$0(JSON.parse(s.integration.behavior),o);j=`{
			"model": "${s.integration.model}",
			"messages": [${s.integration.useBehavior?`
			{
				"role": "system",
				"content": "${At}"
			},`:""}
			{
				"role": "user",
				"content": "${ct}"
			}
			]
		}`}else s.method==="POST"&&s.body&&(j=$0(JSON.parse(s.body),o));let et=await fetch(s.url,{method:s.method,headers:cX(s),signal:_.signal,body:j});if(!et.ok)throw new Error("status:"+et.status+"_:_"+et.statusText);return((nt=s.integration)==null?void 0:nt.type)==="OpenAI"?{content:(await et.json()).choices[0].message.content}:await et.json()}var UR=(s,o)=>{if(typeof s=="string"){let _=o.getVariable(s);if(_)return UR(_,o)}return Lr$1.isBoolean(s)?Lr$1.getDisplayedValue(s).toLowerCase():Lr$1.getDisplayedValue(s)},$0=(s,o)=>s.map((_,j)=>{if("text"in _)return _.text;if("type"in _){if(_.type==="paragraph")return(j>0?`
`:"")+$0(_.children,o);if(_.type==="variable"){let et=o.getVariable(_.variableId);if(et!==void 0)return UR(et,o)}}return""}).join(""),tx=1e3,zR=512*tx;function pX(s,o){let _=typeof s;return!!((o==="string"||o==="number")&&_===o||o==="boolean"&&(s==="true"||s==="false"||s===!0||s===!1)||o==="image"&&_==="string"&&s.startsWith("http"))}var kR="https://hooks.spline.design",mX=`${kR}/events?hashFile=`,rx=class{constructor(s,o){this.id=s,this.userWebhook=o,this.result=void 0,this._connected=!1,this.emitter=Yc(),this.reconnectWaitFor=tx,this._onError=_=>{var j,et,st;(j=this.eventSource)==null||j.removeEventListener("message",this._onMessage),(et=this.eventSource)==null||et.removeEventListener("error",this._onError),(st=this.eventSource)==null||st.removeEventListener("open",this._onConnected),this._scheduleReconnect()},this._onConnected=_=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=tx,this._connected=!0},this._onDisconnected=()=>{clearTimeout(this.scheduledReconnectHandle),this.reconnectWaitFor=tx,this._connected=!1},this._onMessage=_=>{let j=_.data,et;try{et=JSON.parse(j)}catch(st){console.error("Error parsing webhook message",st)}if(et){let st=!1;this.userWebhook.parametersSchemas.forEach(({data:nt})=>{et[nt.name]!==void 0&&pX(et[nt.name],nt.type)&&(this.result===void 0&&(this.result={}),this.result[nt.name]=et[nt.name],st=!0)}),st&&this.emitter.emit("message",{userWebhookId:this.id})}}}connect(){clearTimeout(this.scheduledReconnectHandle),this.userWebhook.url&&(this.eventSource=new EventSource(mX+this.userWebhook.url),this.eventSource.addEventListener("message",this._onMessage),this.eventSource.addEventListener("error",this._onError),this.eventSource.addEventListener("open",this._onConnected))}disconnect(){var s,o,_,j;(s=this.eventSource)==null||s.removeEventListener("message",this._onMessage),(o=this.eventSource)==null||o.removeEventListener("error",this._onError),(_=this.eventSource)==null||_.removeEventListener("open",this._onConnected),(j=this.eventSource)==null||j.close(),this._onDisconnected(),clearTimeout(this.scheduledReconnectHandle)}_scheduleReconnect(){this.reconnectWaitFor*=2,this.reconnectWaitFor>zR&&(this.reconnectWaitFor=zR),clearTimeout(this.scheduledReconnectHandle),this.scheduledReconnectHandle=setTimeout(()=>{this.scheduledReconnectHandle=void 0,this.connect()},this.reconnectWaitFor)}update(s){this.userWebhook=s}dispose(){this._connected&&this.disconnect()}get connected(){return this._connected}on(s,o){this.emitter.on(s,o)}off(s,o){this.emitter.off(s,o)}getParametersKeys(){return this.userWebhook.parametersSchemas.map(s=>s.data.name)}getParameterValue(s){var o;if(this.getParametersKeys().includes(s)){if(this.result)return(o=this.result)==null?void 0:o[s];for(let _ of this.userWebhook.parametersSchemas)if(_.data.name===s)return Yv.defaultParameterValueByType(_.data.type)}}};function ix(s){return"variable_"+s}var xE=class extends j0{constructor(s){super(),this.shared=s}create(s){return new Zd(s,this.shared)}},Xc=class{constructor(s,o={},_=!0,j=!1){if(this.data=s,this.needsJitter=_,this.enableLocalStorageForPersistentVariables=j,this.geometryCache=new wm(!0),this.geometryCache2=new wm(!1),this.imageHolderCache=new xE(this),this.thisContext={scene:VR,shared:this},this.deletedMaterial=new qc(Qr.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new Jn(Qv.emptyImage,this),this.deletedVideo=new Jn(Uh.defaultVideo,this),this.materials={},this.images={},this.uiBuffers={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.userAPIs={},this.userWebhooks={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},o.images)for(let[et,st]of Object.entries(o.images))this.addImage(et,st);if(o.videos)for(let[et,st]of Object.entries(o.videos))this.addVideo(et,st);if(o.audios)for(let[et,st]of Object.entries(o.audios))this.addAudio(et,st);if(o.particles)for(let[et,st]of Object.entries(o.particles))this.addParticle(et,st);this.reset(s)}setRequestRender(s){this._requestRender=s}getImageLoadPromises(){return Object.values(this.images).map(s=>s.loadPromise)}setEntityOpContext(s){this.entityOpContext=s}reset(s,o=!1){this.data=s,this.resetLib(s.lib);for(let{id:_,data:j}of s.variables)this.addVariableHolder(_,j),o&&this.updateVariableHolder(_,j);for(let[_,j]of Object.entries(s.userAPIs))this.addUserAPI(_,j);for(let[_,j]of Object.entries(s.userWebhooks))this.addUserWebhook(_,j);for(let[_,j]of Object.entries(s.images))this.addImage(_,j);for(let[_,j]of Object.entries(s.videos))this.addVideo(_,j);for(let[_,j]of Object.entries(s.colors))this.addColor(_,j);for(let[_,j]of Object.entries(s.materials))this.addMaterial(_,j);for(let[_,j]of Object.entries(s.audios))this.addAudio(_,j);for(let[_,j]of Object.entries(s.particles))this.addParticle(_,j);for(let[_,j]of Object.entries(s.fonts))this.addFont(_,j)}addMaterial(s,o){if(this.materials[s]){let _=this.materials[s];_.reset(o,this.thisContext),_.dispose()}else{let _=new qc(o,this.thisContext,s);this.materials[s]=_}}deleteMaterial(s){this.materials[s]&&(this.materials[s].nodeMaterialDispose(),delete this.materials[s])}getMaterial(s){return this.materials[s]}getMaterialOrDeletedPlaceholder(s){return this.materials[s]??this.deletedMaterial}material(s){return typeof s=="string"?this.getMaterialOrDeletedPlaceholder(s):s==null?(console.error("material is undefined or null"),this.deletedMaterial):new Ia(s,this.thisContext)}getMaterials(){return this.materials}addImage(s,o){return this.images[s]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[s].updateSrc(o.data),!0):(this.images[s]=new Jn(o,this),!1)}deleteImage(s){let o=this.images[s];o&&(o.dispose(),delete this.images[s])}getDefaultImage(){return this.images.image_0}getImage(s){return this.images[s]??this.deletedImage}image(s){return typeof s=="string"?this.getImage(s):this.imageHolderCache.load(s)}addUIBuffer(s,o){return this.uiBuffers[s]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.uiBuffers[s].updateSrc(o),!0):(this.uiBuffers[s]=new Jn(o,this),!1)}uiBuffer(s){return this.uiBuffers[s]}addVideo(s,o){return this.videos[s]?(this.videos[s].updateSrc(o.data),!0):(this.videos[s]=new Jn(o,this),!1)}deleteVideo(s){let o=this.videos[s];o&&(o.dispose(),delete this.videos[s])}getVideo(s){return this.videos[s]??this.deletedVideo}video(s){return typeof s=="string"?this.getVideo(s):this.imageHolderCache.load(s)}addColor(s,o){return this.colors[s]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in o?this.colors[s].setRGBA(o.r,o.g,o.b,o.a):this.colors[s].setRGBA(o.r,o.g,o.b,1),!0):("a"in o?this.colors[s]=new Nl(o.r,o.g,o.b,o.a):this.colors[s]=new Nl(o.r,o.g,o.b,1),!1)}updateColor(s,o){if(this.colors[s]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let _=this.colors[s];return this.colors[s].r=o.r??_.r,this.colors[s].g=o.g??_.g,this.colors[s].b=o.b??_.b,this.colors[s].a=o.a??_.a,!0}return!1}deleteColor(s){this.colors[s]&&delete this.colors[s]}getColor(s){return this.colors[s]}color(s){let o;if(typeof s=="string"){let _=this.getColor(s);_?o=_:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),o=new vr(0,0,0,0))}else return"a"in s?new vr(s.r,s.g,s.b,s.a):new vr(s.r,s.g,s.b,1);return o}addAudio(s,o){this.audios[s]=o}getAudio(s){let o=this.audios[s];if(o instanceof Oa)return o;{let _=new Oa({src:o.data});return this.audios[s]=_,_}}addParticle(s,o){this.particles[s]=o}getParticle(s){return this.particles[s]}deleteParticle(s){this.particles[s]&&delete this.particles[s]}deleteAudio(s){let o=this.audios[s];o&&(o instanceof Oa&&o.dispose(),delete this.audios[s])}addFont(s,o){this.fonts[s]=new J0(o),this.fonts[s].loadingPromise.then(()=>this.requestRender())}getFont(s){return this.fonts[s]}deleteFont(s){this.fonts[s]&&delete this.fonts[s]}dispose(){Object.keys(this.materials).forEach(s=>this.deleteMaterial(s)),this._requestRender=void 0,Object.values(this.audios).forEach(s=>{s instanceof Oa&&s.dispose()}),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(s,o){if(this.variables[s]===void 0){let _=o.value;if(this.enableLocalStorageForPersistentVariables&&o.persistent){let j=localStorage.getItem(ix(s));_=j!==null?JSON.parse(j):o.value}return this.variables[s]={value:_,locations:[],persistent:o.persistent},"dynamicVariableType"in o&&(this.variables[s].dynamicVariablePlayState="Playing",this.variables[s].dynamicVariableToggleIsForward=void 0),!0}return this.variables[s].value=o.value,!1}resetDynamicVariablePlayState(){for(let s in this.variables)this.variables[s].dynamicVariablePlayState!==void 0&&(this.variables[s].dynamicVariablePlayState="Playing",this.variables[s].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(s,o){this.updateVariable(s,o.value)}updateVariable(s,o){if(this.variables[s]===void 0)return!1;this.variables[s].value=o,this.enableLocalStorageForPersistentVariables&&this.variables[s].persistent&&localStorage.setItem(ix(s),JSON.stringify(o));let _=o;for(;typeof _=="string";)_=this.variables[_].value;let j=this.entityOpContext.scene;for(let et=this.variables[s].locations.length-1;et>=0;et--){let st=this.variables[s].locations[et];if(st[0]==="material"){let nt=st[1],ct=_,At={scene:j,shared:this},mt=st.slice(2);j.traverseMaterial(_t=>{let Et=_t.root??_t;Et.uuid===nt&&Et.onVariableUpdate(mt,ct,At)});let gt=this.materials[nt];gt&&gt.onVariableUpdate(mt,ct,At)}else{let nt=j.find(st[0]);if(nt===void 0){this.variables[s].locations.splice(et,1);continue}if(st[1]!=="geometry"&&st[1]!=="particles"){for(let ct=1;ct<st.length-1;ct++)nt=nt[st[ct]];st[1]==="rotation"?nt[st[st.length-1]]=_*we.DEG2RAD:nt[st[st.length-1]]=_}if(nt=j.find(st[0]),nt.type==="ParticleEmitter"&&nt.updateVariableState(_,st),yt.is(nt)){if(st[1]==="position"||st[1]==="rotation"||st[1]==="scale")nt.onVariableUpdate();else if(st[1]==="geometry"){let ct=nt;nt.component&&(ct=nt.component);let At=ct.dataPatched;ct.chooseGeoemtryCache(this).forceDelete(At.geometry),ct.createGeometryDelayed(this.entityOpContext),ct.onVariableUpdate(!0),ct.invalidateDownstreamBooleanData(),ct.instances.forEach(mt=>{let gt=mt.dataPatched;mt.chooseGeoemtryCache(this).forceDelete(gt.geometry),mt.createGeometryDelayed(this.entityOpContext),mt.onVariableUpdate(!0),mt.invalidateDownstreamBooleanData()})}}}}return this.requestRender(),!0}deleteVariable(s){this.variables[s]&&delete this.variables[s]}getVariable(s,o){var _,j,et;if(Array.isArray(s)){if(s[0]==="mouse")return((_=this.mouseProperty)==null?void 0:_[s[1]])??0;if(s[0]==="raycast")return((j=this.raycastProperty)==null?void 0:j[s[1]])??0;let st=this.entityOpContext.scene.find(s[0]);if(s[1]==="width"||s[1]==="height"||s[1]==="depth")return st.geometry.userData.parameters[s[1]];for(let nt=1;nt<s.length;nt++)st=st[s[nt]];return s[1]==="rotation"&&(st*=we.RAD2DEG),st}for(let st in this.variables){if(o===void 0)break;let nt=this.variables[st],ct=(et=nt.locations)==null?void 0:et.findIndex(At=>Sr$1.equal(At,o));ct!==void 0&&ct!==-1&&nt.locations.splice(ct,1)}if(typeof s=="string"){let st=s,nt=s;do{if(nt=st,this.variables[st]===void 0)break;let ct=this.variables[st].value;o&&this.variables[nt]!==void 0&&this.variables[nt].locations.push(o),st=ct}while(typeof st=="string");return st}else return s}getVariables(){return this.variables}getDynamicVariablePlayState(s){var o;return(o=this.variables[s])==null?void 0:o.dynamicVariablePlayState}setDynamicVariablePlayState(s,o){this.variables[s]!==void 0&&(this.variables[s].dynamicVariablePlayState=o)}getDynamicVariableToggleIsForward(s){var o;return(o=this.variables[s])==null?void 0:o.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(s,o){this.variables[s]!==void 0&&(this.variables[s].dynamicVariableToggleIsForward=o)}resetLib(s){for(let[o,_]of Object.entries(s.images))this.addImage(o,_.asset);for(let[o,_]of Object.entries(s.audios))this.addAudio(o,_.asset);for(let[o,_]of Object.entries(s.particles))this.addParticle(o,_.asset);for(let[o,_]of Object.entries(s.colors))this.addColor(o,_.asset);for(let[o,_]of Object.entries(s.fonts))this.addFont(o,_.asset);for(let[o,_]of Object.entries(s.materials))this.addMaterial(o,_.asset);for(let[o,_]of Object.entries(s.videos))this.addVideo(o,_.asset);for(let[o,_]of Object.entries(s.variables))this.addVariableHolder(o,_.asset)}updateLibByOp(s,o){s.path[0]==="images"?s.path.length===1&&s.type===1?this.addImage(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteImage(s.id):s.path[0]==="videos"?s.path.length===1&&s.type===1?this.addVideo(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteVideo(s.id):s.path[0]==="audios"?s.path.length===1&&s.type===1?this.addAudio(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteAudio(s.id):s.path[0]==="particles"?s.path.length===1&&s.type===1?this.addParticle(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteParticle(s.id):s.path[0]==="colors"?s.path.length===1&&s.type===1?this.addColor(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteColor(s.id):s.path[0]==="materials"?s.path.length===1&&s.type===1?this.addMaterial(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteMaterial(s.id):s.path[0]==="fonts"?s.path.length===1&&s.type===1?this.addFont(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteFont(s.id):s.path[0]==="variables"?s.path.length===1&&s.type===1?this.addVariableHolder(s.id,s.data.asset):s.path.length===1&&s.type===2&&this.deleteVariable(s.id):s.path[0]==="components"&&o.updateByLibOp(s,this)}updateByOp(s,o,_){var j,et;if(this.data=o,s.path[0]==="images")s.path.length===2&&s.type===0?s.props.data&&this.getImage(s.path[1]).updateSrc(s.props.data):s.path.length===1&&s.type===1?this.addImage(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteImage(s.id);else if(s.path[0]==="videos")s.path.length===2&&s.type===0?s.props.data&&this.getVideo(s.path[1]).updateSrc(s.props.data):s.path.length===1&&s.type===1?this.addVideo(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteVideo(s.id);else if(s.path[0]==="audios")s.path.length===2&&s.type===0?s.props.data&&this.addAudio(s.path[1],o.audios[s.path[1]]):s.path.length===1&&s.type===1?this.addAudio(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteAudio(s.id);else if(s.path[0]==="particles")s.path.length===2&&s.type===0?s.props.data&&this.addParticle(s.path[1],o.particles[s.path[1]]):s.path.length===1&&s.type===1?this.addParticle(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteParticle(s.id);else if(s.path[0]==="colors")s.path.length===2&&s.type===0?this.updateColor(s.path[1],s.props):s.path.length===1&&s.type===1?this.addColor(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteColor(s.id);else if(s.path[0]==="materials")s.path.length===1&&s.type===1?this.addMaterial(s.id,s.data):s.path.length===1&&s.type===2?this.deleteMaterial(s.id):s.path.length>1&&this.getMaterial(s.path[1]).updateByOp(Rr$1.drop(s,2),o.materials[s.path[1]],{shared:this,scene:_});else if(s.path[0]==="fonts")s.path.length===2&&s.type===0?this.updateFont(s.path[1],s,_):s.path.length===1&&s.type===1?this.addFont(s.id,s.data):s.path.length===1&&s.type===2&&this.deleteFont(s.id);else if(s.path[0]==="variables")s.path.length===2&&s.type===0?"value"in s.props?this.updateVariable(s.path[1],s.props.value):"persistent"in s.props&&(this.variables[s.path[1]].persistent=s.props.persistent):s.path.length===1&&s.type===4?this.addVariableHolder(s.id,s.data):s.path.length===1&&s.type===5&&this.deleteVariable(s.id);else if(s.path[0]==="userAPIs"){if(s.path.length===1&&s.type===1)this.addUserAPI(s.id,s.data);else if(s.path.length===1&&s.type===2)this.deleteUserAPI(s.id);else if(typeof s.path[1]=="string"){let st=o.userAPIs[s.path[1]];st&&((j=this.getUserAPI(s.path[1]))==null||j.update(st,this))}}else if(s.path[0]==="userWebhooks"){if(s.path.length===1&&s.type===1)this.addUserWebhook(s.id,s.data);else if(s.path.length===1&&s.type===2)this.deleteUserWebhook(s.id);else if(typeof s.path[1]=="string"){let st=o.userWebhooks[s.path[1]];st&&((et=this.getUserWebhook(s.path[1]))==null||et.update(st))}}else s.path[0]==="lib"&&this.updateLibByOp(Rr$1.drop(s,1),_)}updateFont(s,o,_){if(o.props.url){let j=this.getFont(s),et={...this.data.fonts[s],url:o.props.url};j.update(et),j.loadingPromise.then(()=>this.requestRender()),_.updateFont(s,this)}}addUserAPI(s,o){return this.userAPIs[s]?(this.userAPIs[s].update(o,this),!0):(this.userAPIs[s]=new ex(s,o,this),!1)}getUserAPI(s){return this.userAPIs[s]}getUserAPIs(){return this.userAPIs}deleteUserAPI(s){let o=this.userAPIs[s];o&&(o.dispose(),delete this.userAPIs[s])}addUserWebhook(s,o){return this.userWebhooks[s]?(this.userWebhooks[s].update(o),!0):(this.userWebhooks[s]=new rx(s,o),!1)}getUserWebhook(s){return this.userWebhooks[s]}getUserWebhooks(){return this.userWebhooks}deleteUserWebhook(s){let o=this.userWebhooks[s];o&&(o.dispose(),delete this.userWebhooks[s])}};new Xc(vn.emptyData());var ys=class extends mr{updateByPatchedOp(s,o,_){if(super.updateByPatchedOp(s,o,_),lD(s.path,["materials"])!==null&&s.type===0&&Array.isArray(this.material))for(let[j,et]of Object.entries(s.props)){let st=_.shared.material(et);this.material[Number(j)]=st}else if(Lt(s.path,["material"])&&this.material instanceof Nn)"material"in o&&typeof o.material!="string"&&this.material.updateByOp(Rr$1.drop(s,1),o.material,_);else if(Lt(s.path,["materials","*"])&&Array.isArray(this.material)){let j=s.path[1];if("materials"in o&&j<this.material.length){let et=o.materials[j];typeof et!="string"&&this.material[j].updateByOp(Rr$1.drop(s,2),et,_)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(s,o){var j,et;super.updateState(s,o),s.castShadow!==void 0&&(this.castShadow=s.castShadow),s.receiveShadow!==void 0&&(this.receiveShadow=s.receiveShadow);let _=this.dataPatched;if(((j=s.geometry)==null?void 0:j.type)!=="NonParametricGeometry"&&"material"in s&&s.material!==void 0&&(this.disposeMaterial(),this.material=o.shared.material(s.material).getFlavor(_.flatShading,_.side,_.wireframe),o.scene.markNeedsUpdateRendererDirty()),(((et=s.geometry)==null?void 0:et.type)==="NonParametricGeometry"||"materials"in s)&&("materials"in s&&s.materials!==void 0?(this.disposeMaterial(),this.material=s.materials.map(st=>o.shared.material(st).getFlavor(_.flatShading,_.side,_.wireframe)),o.scene.markNeedsUpdateRendererDirty()):"material"in s&&s.material!==void 0&&(this.disposeMaterial(),this.material=[o.shared.material(s.material).getFlavor(_.flatShading,_.side,_.wireframe)],o.scene.markNeedsUpdateRendererDirty())),s.flatShading!==void 0||s.wireframe!==void 0||s.side!==void 0)if(Array.isArray(this.material))for(let st=0;st<this.material.length;st++)this.material[st]=this.material[st].getFlavor(_.flatShading,_.side,_.wireframe);else this.material=this.material.getFlavor(_.flatShading,_.side,_.wireframe)}disposeMaterial(){this.material&&tv(this.material).forEach(s=>{s instanceof Nn&&(s instanceof qc||s.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},GR=new E$2,jR=new Ze,HR=new Ze,yX=new E$2,WR=new ue$2,lr=class extends ys{constructor(s,o,_){super(s,o),this.data=o,this.isSkinnedMesh=!1,this.localGeometry=void 0,o.bindMode&&o.bindMatrix&&(this.bindMode=o.bindMode,this.bindMatrix=new ue$2().fromArray(o.bindMatrix),this.bindMatrixInverse=new ue$2)}chooseGeoemtryCache(s){return s.geometryCache}markGeometryAsReachable(s){this.geometryCreateDeleyed instanceof _e&&this.chooseGeoemtryCache(s).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof Xc){let s=this.geometryCreateDeleyed,o=this.chooseGeoemtryCache(s);this.geometryCreateDeleyed=o.get(this.dataPatched.geometry,s,this)}return this.geometryCreateDeleyed}set geometry(s){this.localGeometry=s}get is2DAndNoDepth(){let s=this.dataPatched.geometry;return Gp.is2DParametricMesh(s.type)&&s.depth===0}get is2DType(){return Gp.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(s,o,_){super.updateByPatchedOp(s,o,_),Lt(s.path,["geometry"])&&this.updateByPatchedOpGeometry(Rr$1.drop(s,1),o.geometry,_)}removeInteractionGeometry(s){var o;(o=this.localGeometry)==null||o.dispose(),this.localGeometry=void 0}updateGeometryInteractions(s,o){var j;this.invalidateDownstreamBooleanData();let _=this.data.geometry.type;if(_==="NonParametricGeometry"||_==="SubdivGeometry"){let et=s;if(this.localGeometry===void 0){let mt={...this.data.geometry,...et};this.localGeometry=Ca(mt,o,this.data.flatShading,this)}let st,nt,ct;et.scaleBaked?[st,nt,ct]=et.scaleBaked:{width:st,height:nt,depth:ct}=et;let At=this.localGeometry.userData;At.sxPrev!==void 0&&cm(this.localGeometry.attributes,st/At.sxPrev,nt/At.syPrev,ct/At.szPrev),At.sxPrev=st,At.syPrev=nt,At.szPrev=ct}else{let et={...this.data.geometry,...s};(j=this.localGeometry)==null||j.dispose(),this.localGeometry=Ca(et,o,this.data.flatShading,this)}}refreshAttachedClonersInteractions(){for(let s of this.attachedSurfaceCloners)s.update()}refreshAttachedCloners(s){for(let o of this.attachedSurfaceCloners)s.scene.addPendingUpdateCloner(o.object)}refreshAttachedPaths(s){for(let o of this.attachedPaths)s.scene.addPendingCommand(()=>o.updateShape())}createGeometryDelayed(s){this.geometryCreateDeleyed=s.shared,this.refreshAttachedCloners(s),this.refreshAttachedPaths(s)}updateByPatchedOpGeometry(s,o,_){var et;let j=!1;s.type===0&&s.path.length===0&&Object.keys(s.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof ni&&this.chooseGeoemtryCache(_.shared).mutateIfUnique(this.geometryCreateDeleyed.data,o)===this.geometryCreateDeleyed&&(j=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(o,s.props.scaleBaked),this.refreshAttachedCloners(_),this.refreshAttachedPaths(_)),j||((et=_.scene)==null||et.markGeometryCacheDirty(),this.createGeometryDelayed(_)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(s,o){this.createGeometryDelayed(o)}updateState(s,o){s.geometry!==void 0&&this.updateGeometryOnStateUpdate(s.geometry,o),super.updateState(s,o)}updateGeometryGroupsIfNeeded(){var s;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(((s=this.geometry.getIndex())==null?void 0:s.count)??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(s,o){let _=this.geometry.userData.parameters;this.is2DType?s.set(0,0,_.depth*.5):this.isNonParametric?(s.setScalar(0),this.geometry.boundingSphere&&s.copy(this.geometry.boundingSphere.center),o.set(_.width,_.height,_.depth??0).multiplyScalar(.5)):s.setScalar(0),o.set(_.width,_.height,_.depth??0).multiplyScalar(.5)}updateMatrixWorld(s){super.updateMatrixWorld(s),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(s,o){this.skeleton=s,this.isSkinnedMesh=!0,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.copy(o).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(s){let o=new Ze,_=this.geometry.attributes.skinWeight;for(let j=0,et=_.count;j<et;j++){o.fromBufferAttribute(_,j);let st=1/o.manhattanLength();st!==1/0?o.multiplyScalar(st):o.set(1,0,0,0),_.setXYZW(j,o.x,o.y,o.z,o.w)}}boneTransform(s,o){let _=this.skeleton;if(_===void 0)return;let j=this.geometry;jR.fromBufferAttribute(j.attributes.skinIndex,s),HR.fromBufferAttribute(j.attributes.skinWeight,s),GR.copy(o).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let et=0;et<4;et++){let st=HR.getComponent(et);if(st!==0){let nt=jR.getComponent(et);WR.multiplyMatrices(_.bones[nt].matrixWorld,_.boneInverses[nt]),o.addScaledVector(yX.copy(GR).applyMatrix4(WR),st)}}return o.applyMatrix4(this.bindMatrixInverse)}};function vX(s){var nt,ct;if(s.geometry.attributes.extrudeNormal||!s.geometry.attributes.position||!s.geometry.attributes.normal)return;let o=new Map,_=s.geometry.attributes,j=_.position.array,et=_.normal.array,st=new Float32Array(j.length);for(let At=0;At<j.length;At+=3){let mt=`${j[At]}_${j[At+1]}_${j[At+2]}`,gt=new E$2(et[At],et[At+1],et[At+2]);o.has(mt)?(nt=o.get(mt))==null||nt.normals.push(gt):o.set(mt,{normals:[gt],result:new E$2})}o.forEach((At,mt)=>{for(let gt of At.normals)At.result.add(gt);At.result.divideScalar(At.normals.length)});for(let At=0;At<j.length;At+=3){let mt=`${j[At]}_${j[At+1]}_${j[At+2]}`,gt=(ct=o.get(mt))==null?void 0:ct.result;gt&&(st[At]=gt.x,st[At+1]=gt.y,st[At+2]=gt.z)}s.geometry.setAttribute("extrudeNormal",new Me(st,3))}function xX(s){if(s.geometry.attributes.extrudeNormals||!s.geometry.attributes.position)return;let o=s.geometry.attributes.position.array,_=new Float32Array(o.length),j=new E$2;for(let et=0;et<o.length;et+=3)j.set(o[et],o[et+1],o[et+2]).normalize(),_[et]=j.x,_[et+1]=j.y,_[et+2]=j.z;s.geometry.setAttribute("extrudeNormal",new Me(_,3))}function Jd(s){if(Array.isArray(s.material)){for(let o of s.material)if(o.getLayersOfType("outline").length===0)return}else if(!(s.material instanceof Nn)||s.material.getLayersOfType("outline").length===0)return;s instanceof lr&&s.is2DAndNoDepth?xX(s):vX(s)}function $d(s){if(!s.geometry.attributes.position)return;let o=s.geometry.attributes.position.array,_=new Float32Array(o.length),j=parseInt(s.uuid.replace(/\D/g,"")),et=[we.seededRandom(j),we.seededRandom(j+1e4),we.seededRandom(j+2e4)];for(let st=0;st<o.length;st++)_[st]=et[st%3];s.geometry.setAttribute("randomColor",new Xe(_,3))}var Bo=new jt,Am=new E$2;function qR(s){let o=!1;return s.scene.objects.traverse((_,j)=>{j.type==="Mesh"&&j.geometry.type==="SubdivGeometry"&&(o=!0)}),o}var Ks=class extends lr{constructor(s,o,_){super(s,o,_),this.data=o,this.hiddenMatrixOld=new ue$2,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(s){return this.dataPatched.flatShading?s.geometryCache:s.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(s,o){let _=this.geometry.userData.parameters;s.copy(this.originalGeometryNew.boundingSphere.center),o.set(_.width,_.height,_.depth??0).multiplyScalar(.5)}createGeometryByControls(s){var st,nt,ct;if(this.skipReactionUpdate===!0)return;let o=(st=this.localGeometry)==null?void 0:st.uuid,{originalGeometry:_,subdividedGeometry:j,subdivPointer:et}=ni.build(s,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=et,_!==void 0&&((nt=this.originalGeometry)==null||nt.dispose(),this.originalGeometry=_),j!==void 0&&((ct=this.subdividedGeometry)==null||ct.dispose(),this.subdividedGeometry=j??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,Jd(this),$d(this),this.calcBoundingBox(),o&&(this.localGeometry.uuid=o)}updateState(s,o){if(super.updateState(s,o),s.flatShading!==void 0){let _=this.material;this.material=Array.isArray(_)?_.map(j=>j.getFlavor(!1,j.side,j.wireframe)):_.getFlavor(!1,_.side,_.wireframe),this.smoothShading=!s.flatShading,this.createGeometryDelayed(o)}}updateMesh(s=!1){ni.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,s&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&ni.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,s&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=ni.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=ni.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(s,o){let _=this.localGeometry;this.localGeometry=this.originalGeometryNew,mr.prototype.raycast.call(this,s,o),this.localGeometry=_}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let s=this.originalGeometry;s.boundingSphere===null&&(s.boundingSphere=new Or$1,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=s.boundingSphere));let o=s.attributes.position,_=s.boundingSphere.center;Bo.setFromBufferAttribute(o),Bo.getCenter(_),s.boundingSphere.radius=_.distanceTo(Bo.max),isNaN(s.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Bo.getSize(Am),this.hasNonUniformScale&&Am.divide(this.scale);let j={width:Am.x,height:Am.y,depth:Am.z};return this.geometry.userData.parameters=j,j}updateBoundingSphere(s){let o=this.originalGeometry;Bo.min.set(s[0],s[2],s[4]),Bo.max.set(s[1],s[3],s[5]),this.hasNonUniformScale&&(Bo.min.applyMatrix4(this.shearScaleInv),Bo.max.applyMatrix4(this.shearScaleInv)),o.boundingSphere===null&&(o.boundingSphere=new Or$1);let _=o.boundingSphere.center;Bo.getCenter(_),o.boundingSphere.radius=_.distanceTo(Bo.max)}freeSubdivPointer(){var s,o;this.subdivPointer&&(ni.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(s=this.originalGeometry)==null||s.dispose(),(o=this.subdividedGeometry)==null||o.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(s,o,_){super.updateByPatchedOpGeometry(s,o,_),this.localGeometry&&this.createGeometryByControls(o)}},YR=-1,bX=1,XR={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},QR={polygon_center:0,edge:1,vertex:2},Em=(s,o)=>(_,j)=>!o||_===0||s===0?0:s*j/100,vt=(s,o)=>{let _=Math.abs(o),j=_*-1;return(s-YR)*(_-j)/(bX-YR)+j};function KR(s){let o=[],_={};for(var j=0,et=s.length;j<et;j++){var st=JSON.stringify(s[j].pos.map(nt=>Math.round(nt*1e4)/1e4));_[st]||(o.push(s[j]),_[st]=!0)}return o}var SX=new E$2,nx=new E$2,wX=new E$2,AX=new E$2;function ef(s,o){let _=wX.fromArray(s),j=AX.fromArray(o);nx.copy(j).sub(_);let et=nx.length();return nx.normalize().multiplyScalar(et*.5),SX.copy(_).add(nx).toArray()}var vs=new Cr$1,sx=new E$2,ox=new E$2,Qc=new E$2;function ZR(s){let o=[];for(let _=0;_<=s.index.count;_++)if(sx.fromArray(s.index.array,_*3),vs.setFromAttributeAndIndices(s.attributes.position,sx.x,sx.y,sx.z),vs.getNormal(ox),vs.getMidpoint(Qc),!(isNaN(Qc.x)||isNaN(Qc.y)||isNaN(Qc.z))){let{a:j,b:et,c:st}=vs,nt=j.toArray(),ct=et.toArray(),At=st.toArray(),mt=j.distanceTo(et),gt=et.distanceTo(st),_t=st.distanceTo(j),Et=ef(nt,ct),Ct=ef(ct,At),Bt=ef(At,nt),Dt=[mt,gt,_t],Ft=Math.max(...Dt),Rt=Dt.filter(dr=>Math.round(dr)===Math.round(Ft)).length>1,Nt=[],Gt=vs.getMidpoint(Qc).toArray();Ft===mt&&!Rt&&(Nt=[Ct,Bt,Bt],Gt=Et),Ft===gt&&!Rt&&(Nt=[Et,Bt,Bt],Gt=Ct),Ft===_t&&!Rt&&(Nt=[Et,Ct,Ct],Gt=Bt),Rt&&(Nt=[Et,Ct,Bt]),o.push({vertices:[nt,ct,At],faceCenters:Nt,midpoint:Gt,norm:vs.getNormal(ox).toArray()})}return o}function JR(s){let o=[],{position:_}=s.attributes;for(let j=0;j<_.count;j++){vs.setFromAttributeAndIndices(_,j*3,j*3+1,j*3+2),vs.getNormal(ox),vs.getMidpoint(Qc);let et=vs.a.toArray(),st=vs.b.toArray(),nt=vs.c.toArray();o.push({vertices:[et,st,nt],faceCenters:[ef(et,st),ef(st,nt),ef(nt,et)],midpoint:Qc.toArray(),norm:ox.toArray()})}return o}var EX$1=4,MX=.5,bE=s=>.5*(1-Math.cos(s*Math.PI)),SE=class{constructor(){this.perlin=new Array(4096)}noise(s,o=0,_=0){if(this.perlin==null){this.perlin=new Array(4096);for(let Ft=0;Ft<4096;Ft++)this.perlin[Ft]=Math.random()}s<0&&(s=-s),o<0&&(o=-o),_<0&&(_=-_);let j=Math.floor(s),et=Math.floor(o),st=Math.floor(_),nt=s-j,ct=o-et,At=_-st,mt,gt,_t=0,Et=.5,Ct,Bt,Dt;for(let Ft=0;Ft<EX$1;Ft++){let Rt=j+(et<<4)+(st<<8);mt=bE(nt),gt=bE(ct),Ct=this.perlin[Rt&4095],Ct+=mt*(this.perlin[Rt+1&4095]-Ct),Bt=this.perlin[Rt+16&4095],Bt+=mt*(this.perlin[Rt+16+1&4095]-Bt),Ct+=gt*(Bt-Ct),Rt+=256,Bt=this.perlin[Rt&4095],Bt+=mt*(this.perlin[Rt+1&4095]-Bt),Dt=this.perlin[Rt+16&4095],Dt+=mt*(this.perlin[Rt+16+1&4095]-Dt),Bt+=gt*(Dt-Bt),Ct+=bE(At)*(Bt-Ct),_t+=Ct*Et,Et*=MX,j<<=1,nt*=2,et<<=1,ct*=2,st<<=1,At*=2,nt>=1&&(j++,nt--),ct>=1&&(et++,ct--),At>=1&&(st++,At--)}return _t}noiseSeed(s){let o=(()=>{let _,j;return{setSeed(et){j=_=(et??Math.random()*4294967296)>>>0},getSeed(){return _},rand(){return j=(1664525*j+1013904223)%4294967296,j/4294967296}}})();o.setSeed(s),this.perlin=new Array(4096);for(let _=0;_<4096;_++)this.perlin[_]=o.rand()}},$R=SE,e3=new E$2,t3=new ue$2,r3=new Rs;function wE(s){let o=!1;return s.scene.objects.traverse((_,j)=>{j.type==="Mesh"&&(j.geometry.type==="TextGeometry"||j.geometry.type==="InputGeometry")&&(o=!0)}),o}var Ul=class extends lr{constructor(s,o,_){super(s,o,_),this.data=o}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var o;let s=this.dataPatched;return((o=this.font)==null?void 0:o.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,s.geometry.height,this.fontScale,s.geometry.verticalAlign))??0}get fontScale(){let s=this.dataPatched;return this.font?s.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var s;return(((s=this.font)==null?void 0:s.ascender)??1)*this.fontScale}get descender(){var s;return(((s=this.font)==null?void 0:s.descender)??1)*this.fontScale}get lineHeight(){let s=this.dataPatched;return s.geometry.fontSize*s.geometry.lineHeight}raycast(s,o){let{matrixWorld:_}=this;if(!(isNaN(s.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(t3.copy(_).invert(),r3.copy(s.ray).applyMatrix4(t3),r3.intersectBox(this.singleBBox,e3))){let j=e3.applyMatrix4(_),et=s.ray.origin.distanceTo(j);o.push({distance:et,point:j.clone(),object:this})}}},An=1e-4,No,s3,o3,a3,i3=new E$2,n3=new E$2;I0.then(s=>{No=s,s3=[No.get_face_center,No.get_edge_midpoint,No.get_vertex_position],o3=[No.get_face_normal,No.get_edge_normal,No.get_vertex_normal],a3=[No.face_count,No.edge_count,No.vertex_count]});var TX=new ue$2,CX=new ue$2,zl=new E$2,ax=new E$2,Mm=new E$2,AE=new E$2,PX=new E$2,_X=new E$2,Ra=new $R,Gi=class extends fd(Mt){constructor(s,o){super(),this.parameters=o,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=s}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(s){if(this.parent===null)this.updateState(this.parameters,s);else for(let o of this.children)o instanceof Br&&o.expand()}invalidateTransform(s){this.matrixWorldNeedsUpdate=!0,this.traverse(o=>{o instanceof Br&&o.object===s&&(o.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let s of this.children)s.updateMatrix(),s.hasNonUniformScale&&(s.updateMatrixWorld(),s.updateMatrixWorldSVD())}_updateCount(s){let o;if(s!==void 0?o=s:o=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(o=0),this.parameters.type==="toObject"&&this.objectForSample){for(let j=0,et=this.children.length;j<et;++j)this.remove(this.children[0]);let _=this.children;if(_.length===o)return;if(_.length<o)for(let j=0,et=o-_.length;j<et;++j){let st=new Br(this.object);st.expand(),this.add(st)}else for(let j=0,et=_.length-o;j<et;++j)this.remove(_[j])}else{if(this.children.length===o)return;if(this.children.length<o)for(let _=0,j=o-this.children.length;_<j;++_){let et=new Br(this.object);et.expand(),this.add(et)}else for(let _=0,j=this.children.length-o;_<j;++_)this.remove(this.children[0])}}_updateRadial(s){let o=s.radial,_=o.start*we.DEG2RAD,j=o.end*we.DEG2RAD,et=_-j,st=new ir(o.rotation[0],o.rotation[1],o.rotation[2]),nt;switch(o.axis){case"z":nt=new E$2(0,0,1);break;case"y":nt=new E$2(0,1,0);break;default:case"x":nt=new E$2(1,0,0);break}let ct=s.randomnessObject??Eo.defaultData([1,1,1]).randomnessObject,At=ct.noiseType==="perlin";Ra.noiseSeed(ct.seed);let mt=d0((0,tf.default)(ct.seed)),gt=Em(ct.strength,this.parameters.randomness);for(let[_t,Et]of this.children.entries()){let Ct=_t*(ct.freqScale/10)+ct.movement,Bt=At?Ra.noise(Ct):mt(Ct,Ct),Dt=_t+1;Et.scale.x=o.scale[0]+gt(Dt,vt(Bt,ct.scale[0]))||An,Et.scale.y=o.scale[1]+gt(Dt,vt(Bt,ct.scale[1]))||An,Et.scale.z=o.scale[2]+gt(Dt,vt(Bt,ct.scale[2]))||An,Et.position.setScalar(0);let Ft=et/s.count*_t-_;switch(o.axis){case"x":Et.rotation.set(0,Ft,0);break;case"y":Et.rotation.set(0,0,Ft);break;case"z":Et.rotation.set(Ft,0,0);break}Et.translateOnAxis(nt,o.radius),Et.position.x+=o.position[0]+gt(Dt,vt(Bt,ct.position[0])),Et.position.y+=o.position[1]+gt(Dt,vt(Bt,ct.position[1])),Et.position.z+=o.position[2]+gt(Dt,vt(Bt,ct.position[2]));let Rt=gt(Dt,vt(Bt,ct.rotation[0])),Nt=gt(Dt,vt(Bt,ct.rotation[1])),Gt=gt(Dt,vt(Bt,ct.rotation[2]));o.alignment===!0?(Et.rotation.x+=st.x+Rt,Et.rotation.y+=st.y+Nt,Et.rotation.z+=st.z+Gt):Et.rotation.set(st.x+Rt,st.y+Nt,st.z+Gt)}}_updateLinear(s){if(s.type!=="linear")throw new Error;let o=s.linear,_=new ir(o.rotation[0],o.rotation[1],o.rotation[2]),j=s.randomnessObject??Eo.defaultData([1,1,1]).randomnessObject,et=j.noiseType==="perlin";Ra.noiseSeed(j.seed);let st=d0((0,tf.default)(j.seed)),nt=Em(j.strength,this.parameters.randomness);for(let[ct,At]of this.children.entries()){let mt=ct*(j.freqScale/10)+j.movement,gt=et?Ra.noise(mt):st(mt,mt),_t=ct+1,Et=nt(_t,vt(gt,j.rotation[0])),Ct=nt(_t,vt(gt,j.rotation[1])),Bt=nt(_t,vt(gt,j.rotation[2]));At.scale.x=1+(o.scale[0]-1)*ct+nt(_t,vt(gt,j.scale[0]))||An,At.scale.y=1+(o.scale[1]-1)*ct+nt(_t,vt(gt,j.scale[1]))||An,At.scale.z=1+(o.scale[2]-1)*ct+nt(_t,vt(gt,j.scale[2]))||An,At.rotation.x=_.x*ct+Et,At.rotation.y=_.y*ct+Ct,At.rotation.z=_.z*ct+Bt,At.position.x=o.position[0]*ct+nt(_t,vt(gt,j.position[0])),At.position.y=o.position[1]*ct+nt(_t,vt(gt,j.position[1])),At.position.z=o.position[2]*ct+nt(_t,vt(gt,j.position[2]))}}_updateGrid(s){let o=0,_=s.grid,j=s.randomnessObject??Eo.defaultData([1,1,1]).randomnessObject,et=Em(j.strength,this.parameters.randomness),st=j.noiseType==="perlin";Ra.noiseSeed(j.seed);let nt=UI((0,tf.default)(j.seed));if(_.useCenter===!0){let ct={x:_.count[0]%2===0?2:1,y:_.count[1]%2===0?2:1,z:_.count[2]%2===0?2:1},At=new E$2(_.size[0]*(_.count[0]-ct.x)*.5,_.size[1]*(_.count[1]-ct.y)*.5,_.size[2]*(_.count[2]-ct.z)*.5);for(let mt=0;mt<_.count[0];mt++)for(let gt=0;gt<_.count[1];gt++)for(let _t=0;_t<_.count[2];_t++){let Et=[(mt+1)*(j.freqScale/10)+j.movement,(gt+1)*(j.freqScale/10)+j.movement,(_t+1)*(j.freqScale/10)+j.movement],Ct=st?Ra.noise(...Et):nt(...Et),Bt=this.children[o++];Bt.scale.x=1+et(o,vt(Ct,j.scale[0]))||An,Bt.scale.y=1+et(o,vt(Ct,j.scale[1]))||An,Bt.scale.z=1+et(o,vt(Ct,j.scale[2]))||An;let Dt=et(o,vt(Ct,j.rotation[0])),Ft=et(o,vt(Ct,j.rotation[1])),Rt=et(o,vt(Ct,j.rotation[2]));Bt.rotation.set(Dt,Ft,Rt),Bt.position.x=_.size[0]*mt-At.x+et(o,vt(Ct,j.position[0])),Bt.position.y=_.size[1]*gt-At.y+et(o,vt(Ct,j.position[1])),Bt.position.z=_.size[2]*_t-At.z+et(o,vt(Ct,j.position[2]))}}else for(let ct=0;ct<_.count[0];ct++)for(let At=0;At<_.count[1];At++)for(let mt=0;mt<_.count[2];mt++){let gt=[(ct+1)*(j.freqScale/10)+j.movement,(At+1)*(j.freqScale/10)+j.movement,(mt+1)*(j.freqScale/10)+j.movement],_t=st?Ra.noise(...gt):nt(...gt),Et=this.children[o++];Et.scale.x=1+et(o,vt(_t,j.scale[0]))||An,Et.scale.y=1+et(o,vt(_t,j.scale[1]))||An,Et.scale.z=1+et(o,vt(_t,j.scale[2]))||An;let Ct=et(o,vt(_t,j.rotation[0])),Bt=et(o,vt(_t,j.rotation[1])),Dt=et(o,vt(_t,j.rotation[2]));Et.rotation.set(Ct,Bt,Dt),Et.position.x=_.size[0]*ct+et(o,vt(_t,j.position[0])),Et.position.y=-_.size[1]*At+et(o,vt(_t,j.position[1])),Et.position.z=-_.size[2]*mt+et(o,vt(_t,j.position[2]))}}_updateToObject(s){var Dt;if(s.type!=="toObject")throw new Error;let{toObject:o}=s,_=new ir(o.rotation[0],o.rotation[1],o.rotation[2]),j=s.randomnessObject??Eo.defaultData([1,1,1]).randomnessObject,et=j.noiseType==="perlin";Ra.noiseSeed(j.seed);let st=d0((0,tf.default)(j.seed)),nt=Em(j.strength,this.parameters.randomness);if(!o.object){for(let[,Ft]of this.children.entries())Ft.position.set(0,0,0),Ft.scale.setScalar(1),Ft.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof Ul)if(!((Dt=this.objectForSample.font)!=null&&Dt.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let ct=this.getSubdivData(),At=[],mt=Ft=>{let Rt=Ft.length,Nt=Ft.map(ts=>ts[0]).reduce((ts,es)=>ts+es,0),Gt=Ft.map(ts=>ts[1]).reduce((ts,es)=>ts+es,0),dr=Ft.map(ts=>ts[2]).reduce((ts,es)=>ts+es,0);return[Nt/Rt,Gt/Rt,dr/Rt]},gt=Ft=>Math.round(Ft*1e6)/1e6;ct.forEach(Ft=>{let Rt=ct.filter(Nt=>gt(Ft.pos[0])===gt(Nt.pos[0])&&gt(Ft.pos[1])===gt(Nt.pos[1])&&gt(Ft.pos[2])===gt(Nt.pos[2]));Rt.length>1?At.push({pos:Ft.pos,norm:mt(Rt.map(Nt=>Nt.norm))}):At.push(Ft)});let _t=KR(At);if(_t.length>0){let Ft=Math.round(_t.length*o.count/100);this._updateCount(Ft)}else{let Ft=this.objectForSample.geometry.getAttribute("position");if(!Ft||isNaN(Ft.count)||Ft.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let Et=new f0(this.objectForSample).build(),Ct=XR[o.axis],Bt=this.children;Et.setRandomGenerator((0,tf.default)(this.object.uuid+o.seed));for(let[Ft,Rt]of Bt.entries()){let Nt=Ft*(j.freqScale/10)+j.movement,Gt=et?Ra.noise(Nt):st(Nt,Nt),dr=Ft+1,ts=nt(dr,vt(Gt,j.rotation[0])),es=nt(dr,vt(Gt,j.rotation[1])),ds=nt(dr,vt(Gt,j.rotation[2]));o.spreadType==="random"?Et.sample(Mm,AE):(_t.length&&(Mm.fromArray(_t[Ft].pos),AE.fromArray(_t[Ft].norm)),this.objectForSample instanceof Ks&&Mm.applyMatrix4(TX.copy(this.objectForSample.matrixWorld).invert())),Mm.applyMatrix4(this.object.hiddenMatrix.clone().invert()),Rt.position.copy(Mm),zl.fromArray(Ct);let tn=o.align==="normal"?AE:this.object.getWorldDirection(_X),rn=ax.fromArray(o.position);ax.x+=nt(dr,vt(Gt,j.position[0])),ax.y+=nt(dr,vt(Gt,j.position[1])),ax.z+=nt(dr,vt(Gt,j.position[2]));let un=Math.acos(tn.dot(zl)),$n=PX.crossVectors(zl,tn).normalize(),kn=CX.makeRotationAxis($n,un),lo=tn.clone().cross(this.object.up).normalize(),Il=lo.clone().cross(tn).normalize(),cu=new ue$2().makeBasis(lo,tn,Il),Ko=new E$2(zl.y,zl.z,zl.x).normalize(),ru=Ko.clone().cross(zl).normalize(),Tn=new ue$2().makeBasis(Ko,zl,ru).invert(),ao=new ue$2().multiplyMatrices(cu,Tn);Rt.rotation.setFromRotationMatrix(ao),rn.applyMatrix4(kn),Rt.position.add(rn),Rt.rotation.x=Rt.rotation.x+_.x+ts,Rt.rotation.y=Rt.rotation.y+_.y+es,Rt.rotation.z=Rt.rotation.z+_.z+ds,Rt.scale.setScalar(1),Rt.scale.x=Rt.scale.x+o.scale[0]+nt(dr,vt(Gt,j.scale[0]))||An,Rt.scale.y=Rt.scale.y+o.scale[1]+nt(dr,vt(Gt,j.scale[1]))||An,Rt.scale.z=Rt.scale.z+o.scale[2]+nt(dr,vt(Gt,j.scale[2]))||An,Rt.scale.multiply(this.object.scale),Rt.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let s=this.parameters.toObject.spreadType;if(s==="random")return[];if(this.objectForSample instanceof Ks){let o=this.objectForSample,_=QR[s],j=a3[_],et=s3[_],st=o3[_],nt=[],ct=j(o.subdivPointerNew);for(let At=0;At<=ct-1;At++){let mt=et(o.subdivPointerNew,At),gt=st(o.subdivPointerNew,At);i3.fromArray(mt).applyMatrix4(o.matrixWorld),n3.fromArray(gt),nt.push({pos:i3.toArray(),norm:n3.toArray()})}return nt}else return(this.objectForSample.geometry.index?ZR(this.objectForSample.geometry):JR(this.objectForSample.geometry)).map((o,_)=>s==="polygon_center"?{pos:o.midpoint,norm:o.norm}:s==="vertex"?[{pos:o.vertices[0],norm:o.norm},{pos:o.vertices[1],norm:o.norm},{pos:o.vertices[2],norm:o.norm}]:s==="edge"?[{pos:o.faceCenters[0],norm:o.norm},{pos:o.faceCenters[1],norm:o.norm},{pos:o.faceCenters[2],norm:o.norm}]:[]).flat()}updateState(s,o){var _;if(this.parameters=fa(s),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(_=this.object.parent)==null||_.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let j=o.find(this.parameters.toObject.object);j instanceof mr?this.objectForSample=j:this.objectForSample=void 0,this.matrix=new ue$2,this.hiddenMatrix=new ue$2,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,j&&j.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},Fo=s=>{var o;return o=class extends s{},o.geometryHelper=new mi(30,30,30),o},lx=new Rs,EE=new Or$1,l3=new ue$2,Vo=(s,o,_,j,et=!1,st=s)=>{let nt=o,ct=st.matrixWorld;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),EE.copy(nt.boundingSphere),EE.applyMatrix4(ct),_.ray.intersectsSphere(EE)===!1||(l3.copy(ct).invert(),lx.copy(_.ray).applyMatrix4(l3),nt.boundingBox!==null&&lx.intersectsBox(nt.boundingBox)===!1))return;let At,mt,gt,_t,Et=nt.index,Ct=nt.attributes.position,Bt=nt.drawRange,Dt,Ft;if(et===!1){let Nt=Math.max(0,Bt.start),Gt=Math.min(Et.count,Bt.start+Bt.count);for(Dt=Nt,Ft=Gt;Dt<Ft;Dt+=3)if(mt=Et.getX(Dt),gt=Et.getX(Dt+1),_t=Et.getX(Dt+2),At=Rt(s,_,lx,Ct,mt,gt,_t),At){At.faceIndex=Math.floor(Dt/3),j.push(At);return}}else{let Nt=nt.attributes.position,Gt=new E$2,dr=new E$2,ts=new E$2,es=new E$2,ds=2,tn=1/((st.scale.x+st.scale.y+st.scale.z)/3),rn=tn*tn,un=Math.max(0,Bt.start),$n=Math.min(Nt.count,Bt.start+Bt.count);for(let kn=un,lo=$n-1;kn<lo;kn+=ds){if(Gt.fromBufferAttribute(Nt,kn),dr.fromBufferAttribute(Nt,kn+1),lx.distanceSqToSegment(Gt,dr,es,ts)>rn)continue;es.applyMatrix4(st.matrixWorld);let Il=_.ray.origin.distanceTo(es);Il<_.near||Il>_.far||j.push({distance:Il,point:ts.clone().applyMatrix4(st.matrixWorld),object:s})}}function Rt(Nt,Gt,dr,ts,es,ds,tn){let rn=new E$2,un=new E$2,$n=new E$2,kn=new E$2,lo=new E$2;if(rn.fromBufferAttribute(ts,es),un.fromBufferAttribute(ts,ds),$n.fromBufferAttribute(ts,tn),dr.intersectTriangle(rn,un,$n,!1,kn)===null)return null;lo.copy(kn),lo.applyMatrix4(Nt.matrixWorld);let Il=Gt.ray.origin.distanceTo(lo);return Il<Gt.near||Il>Gt.far?null:{faceIndex:1,distance:Il,point:lo.clone(),object:Nt}}},cx=new E$2,xs=new qn,ME=class extends el{constructor(s){let o=new _e,_=new ss({color:16777215,vertexColors:!0,toneMapped:!1}),j=[],et=[],st={},nt=new We(15711266),ct=new We(15711266),At=new We(2857471);mt("n1","n2",nt),mt("n2","n4",nt),mt("n4","n3",nt),mt("n3","n1",nt),mt("f1","f2",nt),mt("f2","f4",nt),mt("f4","f3",nt),mt("f3","f1",nt),mt("n1","f1",nt),mt("n2","f2",nt),mt("n3","f3",nt),mt("n4","f4",nt),mt("p","n1",ct),mt("p","n2",ct),mt("p","n3",ct),mt("p","n4",ct),mt("u1","u2",At),mt("u2","u3",At),mt("u3","u1",At);function mt(_t,Et,Ct){gt(_t,Ct),gt(Et,Ct)}function gt(_t,Et){j.push(0,0,0),et.push(Et.r,Et.g,Et.b),st[_t]===void 0&&(st[_t]=[]),st[_t].push(j.length/3-1)}o.setAttribute("position",new Me(j,3)),o.setAttribute("color",new Me(et,3)),super(o,_),this.type="CameraHelper",this.camera=s,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=st,this.update()}update(){let s=this.geometry,o=this.pointMap;xs.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let _=1,j=1,et=.8;Zs("n1",o,s,xs,-_,-j,et),Zs("n2",o,s,xs,_,-j,et),Zs("n3",o,s,xs,-_,j,et),Zs("n4",o,s,xs,_,j,et);let st=et;Zs("f1",o,s,xs,-_,-j,st),Zs("f2",o,s,xs,_,-j,st),Zs("f3",o,s,xs,-_,j,st),Zs("f4",o,s,xs,_,j,st);let nt=st,ct=.5;Zs("u1",o,s,xs,_*.7*ct,j*1.1,nt),Zs("u2",o,s,xs,-_*.7*ct,j*1.1,nt),Zs("u3",o,s,xs,0,j*(1.1+.9*ct),nt),s.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function Zs(s,o,_,j,et,st,nt){cx.set(et,st,nt).unproject(j);let ct=o[s];if(ct!==void 0){let At=_.getAttribute("position");for(let mt=0,gt=ct.length;mt<gt;mt++)At.setXYZ(ct[mt],cx.x,cx.y,cx.z)}}var ux=class extends Fo(ME){constructor(s){super(s),this.object=s,this.object=s,this.name=`CombinedCameraHelper: ${s.uuid}`}updateMatrixWorld(s){super.updateMatrixWorld(s),this.updateTarget()}updateTarget(){let s=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(s)}raycast(s,o){Vo(this.object,this.geometry,s,o,!0)}},hx;(s=>s.is=o=>"objectHelper"in o)(hx||(hx={}));var bs=(s,o)=>class extends md(s){constructor(){super(...arguments),this.objectHelper=new o(this),this.gizmos={}}get geometryHelper(){return o.geometryHelper}raycast(_,j){this.objectHelper.raycast(_,j)}showGizmos(){for(let _ in this.gizmos){let j=this.gizmos[_];j instanceof al&&(j.visible=!0)}}updateEntityBoxSize(_,j){this.objectHelper.visible&&this.geometryHelper instanceof mi?(_.setScalar(0),j.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(_,j)}hideGizmos(){for(let _ in this.gizmos){let j=this.gizmos[_];j instanceof al&&(j.visible=!1)}}},dx=790,rf=new E$2,TE=new E$2,CE=new Qe,PE=new E$2,Tm=new E$2,_E=new E$2,wr$1=class extends bs(qn,ux){constructor(o="",_={...Ic.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=bl.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(o,_),this.previousProjectionMatrix=new ue$2,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let j=this.width,et=this.height;this.orthoCamera=new Ja(j*-.5,j*.5,et*.5,et*-.5,-5e4,1e4),this.perspCamera=new $r$1(45,j/et,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(o){this.perspCamera.fov=o}get fov(){return this.perspCamera.fov}setNear(o,_){o==="PerspectiveCamera"?this.perspCamera.near=_:this.orthoCamera.near=_}setZoom(o,_){_>=0&&(o==="PerspectiveCamera"?this.perspCamera.zoom=_:this.orthoCamera.zoom=_)}set cameraType(o){o==="PerspectiveCamera"?this.toPerspective():o==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(o){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=o:this.orthoCamera.near=o}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(o){o>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=o:this.orthoCamera.zoom=o)}lookAt(o,_,j){typeof o=="number"&&(o=new E$2(o,_,j)),super.lookAt(o),this.getWorldPosition(rf),this.targetOffset=rf.distanceTo(o)}getTarget(o=new E$2){return this.getWorldDirection(TE),this.getWorldPosition(rf),TE.multiplyScalar(this.targetOffset),o.copy(rf).add(TE),o}getDistanceToTarget(){let o=this.getTarget();return this.getWorldPosition(rf),rf.distanceTo(o)}updateUp(){this.getWorldQuaternion(CE),PE.set(0,0,1).applyQuaternion(CE),Tm.copy(Mt.DEFAULT_UP),this.isUpVectorFlipped&&Tm.negate(),Tm.applyQuaternion(CE),_E.copy(Mt.DEFAULT_UP).projectOnPlane(PE),this.angleOffsetFromUp=_E.angleTo(Tm),this.angleOffsetFromUp*=_E.cross(Tm).dot(PE)>=0?1:-1}updateTransformState(o,_){let j=super.updateTransformState(o,_);return o.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=o.isUpVectorFlipped),this.updateUp(),j}getViewFrontToObject(o){let _=o.getWorldPosition(new E$2),j=o.getWorldDirection(new E$2).multiplyScalar(this.targetOffset);return{position:_.clone().add(j),target:_}}getViewToTarget(o){let _=this.getWorldDirection(new E$2).multiplyScalar(this.targetOffset);return{position:o.clone().sub(_),target:o}}getViewToObject(o){let _=new E$2;return o.getWorldPosition(_),this.getViewToTarget(_)}setViewplaneSize(o,_,j=!1){if(this.aspect=o/_,j){let et=o>_?this.aspect:1,st=o>_?1:this.aspect;this.left=-dx*.5*et,this.right=dx*.5*et,this.top=dx*.5*(1/st),this.bottom=-dx*.5*(1/st)}else this.left=-o*.5,this.right=o*.5,this.top=_*.5,this.bottom=-_*.5;this.updateProjectionMatrix()}copyViewPlaneSize(o){this.aspect=o.aspect,this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(o){this.perspCamera.setFocalLength(o),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(o,_,j,et,st,nt){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(o,_,j,et,st,nt):this.orthoCamera.setViewOffset(o,_,j,et,st,nt)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(o){super.updateMatrixWorld(o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(o,_){super.updateWorldMatrix(o,_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(o,_){return super.copy(o,_),this.parent=o.parent,this.orthoCamera.copy(o.orthoCamera),this.perspCamera.copy(o.perspCamera),this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.far=o.far,this.view=o.view===null?null:Object.assign({},o.view),this._cameraType=o._cameraType,this.aspect=o.aspect,this.fov=o.fov,this.focus=o.focus,this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this.targetOffset=o.targetOffset,this.updateProjectionMatrix(),this}toCameraState(o=[]){let _={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return Ch(_,o)}updateCameraSubtype(o,_){let j=o==="perspective"?"PerspectiveCamera":"OrthographicCamera";_.zoom!==void 0&&this.setZoom(j,_.zoom),_.near!==void 0&&this.setNear(j,_.near),_.fov!==void 0&&j==="PerspectiveCamera"&&(this.fov=_.fov)}updateState(o,_){this.updateCameraState(o,_)}updateCameraState(o,_){this.updateState_Entity(o,_),o.far!==void 0&&(this.far=o.far),o.orthographic!==void 0&&this.updateCameraSubtype("orthographic",o.orthographic),o.perspective!==void 0&&this.updateCameraSubtype("perspective",o.perspective),o.type!==void 0&&(this.cameraType=o.type),o.up!==void 0&&this.up.fromArray(o.up),o.targetOffset!==void 0&&(this.targetOffset=o.targetOffset),o.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=o.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(o,_,j){super.updateByPatchedOp(o,_,j),o.path.length===1&&o.type===0&&this.updateCameraSubtype(o.path[0],o.props)}toState(o){return{...super.toState(o),...this.toCameraState(o),type:this.cameraType}}},nf=new ue$2,OX=new ue$2;function DE(s){let o=!1;return s.scene.objects.traverse((_,j)=>{var et;((et=j.geometry)==null?void 0:et.type)==="BooleanGeometry"&&(o=!0)}),o}var Fn=class extends ys{constructor(s,o,_){super(s,o),this.data=o,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new _e,this.onAfterRender=(j,et,st,nt,ct,At)=>{super.onAfterRender(j,et,st,nt,ct,At),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(s,o,_){super.updateByPatchedOp(s,o,_),s.path.length===1&&s.path[0]==="geometry"&&s.type===0&&s.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(s,o=!0){var j;if(this.booleanMeshSetAddress!==-1&&!s)return;for(let et=0;et<this.children.length;et++){let st=this.children[et];st instanceof Fn&&st.dataPatched.visible===!0&&st.recomputeBoolean(s===!0,o)}this.meshSetAddresses=[];for(let et=0;et<this.children.length;et++){let st=this.children[et];if(st instanceof mr&&st.dataPatched.visible===!0&&((j=st.geometry.attributes.position)==null?void 0:j.count)>0&&st.geometry.drawRange.count>0&&st.booleanMeshSetAddress!==0){nf.multiplyMatrices(st.hiddenMatrix,st.matrix);try{if(st.booleanMeshSetAddress===-1){if((st.geometry.index??st.geometry.getAttribute("position")).count/3<15e5&&(st.booleanMeshSetAddress=ms.getMeshSet(st.geometry,s===!0,o)),st.booleanMeshSetAddress===-1)return;ms.transformMeshSet(st.booleanMeshSetAddress,nf),st.booleanMatrixInvOld.copy(nf).invert(),st.booleanWasTransformed=!1}else st instanceof Fn&&st.needsTransformForDownstream===!0?(ms.transformMeshSet(st.booleanMeshSetAddress,nf),st.needsTransformForDownstream=!1):st.booleanWasTransformed===!0&&(ms.transformMeshSet(st.booleanMeshSetAddress,OX.multiplyMatrices(nf,st.booleanMatrixInvOld)),st.booleanMatrixInvOld.copy(nf).invert(),st.booleanWasTransformed=!1)}catch(nt){console.error(nt),st.booleanMeshSetAddress=0,st.geometry.userData.booleanOperationDidFail=!0;continue}ms.hasOpenEdges(st.booleanMeshSetAddress)===!1||et===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(st.booleanMeshSetAddress),st.geometry.userData.booleanOperationDidFail=!1):st.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new Me([],0)),this.geometry.setDrawRange(0,0);return}if(s===!0)return ms.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let _=this.geometry;_.dispose(),this.geometry=new _e,this.geometry.userData=_.userData,this.geometry.boundingSphere=_.boundingSphere;try{this.booleanMeshSetAddress=ms.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(et){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(et)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,Jd(this),$d(this)}dispose(){super.dispose(),this.geometry.dispose()}},fx;(s=>{function o(_){return yt.is(_)&&_ instanceof sl}s.is=o})(fx||(fx={}));var sf=(s,o)=>class extends bs(s,o){updateState_Light(_,j){this.updateState_Entity(_,j),_.color!==void 0&&(this.color=j.shared.color(_.color)),_.intensity!==void 0&&(this.intensity=_.intensity),_.depth!==void 0&&(this.shadow.camera.far=_.depth,this.shadow.needsUpdate=!0),_.shadows!==void 0&&(this.castShadow=_.shadows)}},cn=s=>s instanceof mr,En=s=>s!==null&&s instanceof Fn,c3=s=>s instanceof wr$1,u3=s=>fx.is(s),Cm=s=>hx.is(s),RX=new E$2(1,1,1),h3=new E$2,LX=new E$2,d3=new Qe,Ss=class extends Fo(wy){constructor(s,o=15){super(o),this.object=s,this.dummy=new sn,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${s.uuid}`,this.matrix=this.dummy.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(s,o){Vo(this.object,Ss.geometryHelper,s,o,!1,this.dummy)}update(){}updateMatrix(){}updateMatrixWorld(s){this.object.matrixWorld.decompose(h3,d3,LX),this.matrix.compose(h3,d3,RX),super.updateMatrixWorld(s)}updateWorldMatrix(s,o){}},ws=class extends bs(sn,Ss){constructor(s,o){super(),this.super_Entity(s,o),this.objectHelper.update()}updateState(s,o){this.updateState_Entity(s,o),"buffer"in s&&Object.keys(s).length===1&&o.scene.reloadSplats()}},kl=class extends bs(sn,Ss){constructor(s,o,_){super(),this.super_Entity(s,o),this.context=_,this.objectHelper.update()}updateState(s,o){this.updateState_Entity(s,o)}},x3={RED:0,GREEN:1,BLUE:2,ALPHA:3},Pm="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",BX=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;uniform vec4 kernel64[32];varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;}}`,px=class extends it{constructor(s=!1,o=!1){super({name:"BokehMaterial",defines:{PASS:s?"2":"1"},uniforms:{kernel64:new le$2(null),kernel16:new le$2(null),inputBuffer:new le$2(null),cocBuffer:new le$2(null),texelSize:new le$2(new U$1),scale:new le$2(1)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:BX,vertexShader:Pm}),this.toneMapped=!1,o&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}set cocBuffer(s){this.uniforms.cocBuffer.value=s}setCoCBuffer(s){this.uniforms.cocBuffer.value=s}get scale(){return this.uniforms.scale.value}set scale(s){this.uniforms.scale.value=s}getScale(s){return this.uniforms.scale.value=s}setScale(s){this.uniforms.scale.value=s}generateKernel(){let s=2.39996323,o=new Float32Array(128),_=new Float32Array(32),j=0,et=0;for(let ct=0;ct<80;++ct){let At=ct*s,mt=Math.sqrt(ct)/Math.sqrt(80),gt=mt*Math.cos(At),_t=mt*Math.sin(At);ct%5===0?(_[et++]=gt,_[et++]=_t):(o[j++]=gt,o[j++]=_t)}let st=[],nt=[];for(let ct=0;ct<128;)st.push(new Ze(o[ct++],o[ct++],o[ct++],o[ct++]));for(let ct=0;ct<32;)nt.push(new Ze(_[ct++],_[ct++],_[ct++],_[ct++]));this.uniforms.kernel64.value=st,this.uniforms.kernel16.value=nt}setTexelSize(s,o){this.uniforms.texelSize.value.set(s,o)}setSize(s,o){this.uniforms.texelSize.value.set(1/s,1/o)}};function f3(s,o,_){return s*(o-_)-o}function BE(s,o,_){return Math.min(Math.max((s+o)/(o-_),0),1)}var NX=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,FX=class extends it{constructor(s){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new le$2(null),focusDistance:new le$2(0),focusRange:new le$2(0),cameraNear:new le$2(.3),cameraFar:new le$2(1e3)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:NX,vertexShader:Pm}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(s)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(s){this.uniforms.depthBuffer.value=s}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,o=Bi){this.depthBuffer=s,this.depthPacking=o}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(s){this.uniforms.focusDistance.value=s}get worldFocusDistance(){return-f3(this.focusDistance,this.near,this.far)}set worldFocusDistance(s){this.focusDistance=BE(-s,this.near,this.far)}getFocusDistance(s){this.uniforms.focusDistance.value=s}setFocusDistance(s){this.uniforms.focusDistance.value=s}get focalLength(){return this.focusRange}set focalLength(s){this.focusRange=s}get focusRange(){return this.uniforms.focusRange.value}set focusRange(s){this.uniforms.focusRange.value=s}get worldFocusRange(){return-f3(this.focusRange,this.near,this.far)}set worldFocusRange(s){this.focusRange=BE(-s,this.near,this.far)}getFocalLength(s){return this.focusRange}setFocalLength(s){this.focusRange=s}adoptCameraSettings(s){s&&(this.uniforms.cameraNear.value=s.near,this.uniforms.cameraFar.value=s.far,s instanceof $r$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},VX=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,UX="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",p3=class extends it{constructor(s=new U$1){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new le$2(null),texelSize:new le$2(new U$1),halfTexelSize:new le$2(new U$1),kernel:new le$2(0),scale:new le$2(1)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:VX,vertexShader:UX}),this.toneMapped=!1,this.setTexelSize(s.x,s.y)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.inputBuffer=s}get scale(){return this.uniforms.scale.value}set scale(s){this.uniforms.scale.value=s}getScale(){return this.uniforms.scale.value}setScale(s){this.uniforms.scale.value=s}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(s){this.uniforms.kernel.value=s}setKernel(s){this.kernel=s}setTexelSize(s,o){this.uniforms.texelSize.value.set(s,o),this.uniforms.halfTexelSize.value.set(s,o).multiplyScalar(.5)}setSize(s,o){let _=this.uniforms;_.texelSize.value.set(1/s,1/o),_.halfTexelSize.value.copy(_.texelSize.value).multiplyScalar(.5)}},zX=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,kX=class extends it{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new le$2(null),opacity:new le$2(1)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:zX,vertexShader:Pm}),this.toneMapped=!1}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}getOpacity(s){return this.uniforms.opacity.value}setOpacity(s){this.uniforms.opacity.value=s}},GX=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,jX=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,of={DEPTH:0,LUMA:1,COLOR:2},HX={DISABLED:0,DEPTH:1,CUSTOM:2},WX=class extends it{constructor(s=new U$1,o=of.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:la.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new le$2(null),depthBuffer:new le$2(null),predicationBuffer:new le$2(null),texelSize:new le$2(s)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:GX,vertexShader:jX}),this.toneMapped=!1,this.edgeDetectionMode=o}set depthBuffer(s){this.uniforms.depthBuffer.value=s}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,o=Bi){this.depthBuffer=s,this.depthPacking=o}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(s){this.defines.EDGE_DETECTION_MODE=s.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(s){this.edgeDetectionMode=s}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(s){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=s.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(s){this.localContrastAdaptationFactor=s}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(s){this.defines.EDGE_THRESHOLD=s.toFixed("6"),this.defines.DEPTH_THRESHOLD=(s*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(s){this.edgeDetectionThreshold=s}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(s){this.defines.PREDICATION_MODE=s.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(s){this.predicationMode=s}set predicationBuffer(s){this.uniforms.predicationBuffer.value=s}setPredicationBuffer(s){this.uniforms.predicationBuffer.value=s}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(s){this.defines.PREDICATION_THRESHOLD=s.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(s){this.predicationThreshold=s}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(s){this.defines.PREDICATION_SCALE=s.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(s){this.predicationScale=s}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(s){this.defines.PREDICATION_STRENGTH=s.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(s){this.predicationStrength=s}setSize(s,o){this.uniforms.texelSize.value.set(1/s,1/o)}},qX=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,YX="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",Js={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},NE=class extends it{constructor(s,o,_,j,et=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:la.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new le$2(null),depthBuffer:new le$2(null),resolution:new le$2(new U$1),texelSize:new le$2(new U$1),cameraNear:new le$2(.3),cameraFar:new le$2(1e3),aspect:new le$2(1),time:new le$2(0)},blending:Jt,depthWrite:!1,depthTest:!1,dithering:et}),this.toneMapped=!1,s&&this.setShaderParts(s),o&&this.setDefines(o),_&&this.setUniforms(_),this.adoptCameraSettings(j)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(s){this.uniforms.depthBuffer.value=s}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,o=Bi){this.depthBuffer=s,this.depthPacking=o}setShaderParts(s){return this.fragmentShader=qX.replace(Js.FRAGMENT_HEAD,s.get(Js.FRAGMENT_HEAD)).replace(Js.FRAGMENT_MAIN_UV,s.get(Js.FRAGMENT_MAIN_UV)).replace(Js.FRAGMENT_MAIN_IMAGE,s.get(Js.FRAGMENT_MAIN_IMAGE)),this.vertexShader=YX.replace(Js.VERTEX_HEAD,s.get(Js.VERTEX_HEAD)).replace(Js.VERTEX_MAIN_SUPPORT,s.get(Js.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(s){for(let o of s.entries())this.defines[o[0]]=o[1];return this.needsUpdate=!0,this}setUniforms(s){for(let o of s.entries())this.uniforms[o[0]]=o[1];return this}setExtensions(s){this.extensions={};for(let o of s)this.extensions[o]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(s){this.encodeOutput!==s&&(s?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(s){return this.encodeOutput}setOutputEncodingEnabled(s){this.encodeOutput=s}get time(){return this.uniforms.time.value}set time(s){this.uniforms.time.value=s}setDeltaTime(s){this.uniforms.time.value+=s}adoptCameraSettings(s){s&&(this.uniforms.cameraNear.value=s.near,this.uniforms.cameraFar.value=s.far,s instanceof $r$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(s,o){let _=this.uniforms;_.resolution.value.set(s,o),_.texelSize.value.set(1/s,1/o),_.aspect.value=s/o}static get Section(){return Js}},XX$1=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,QX=class extends it{constructor(s=!1,o=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:la.replace(/\D+/g,"")},uniforms:{inputBuffer:new le$2(null),threshold:new le$2(0),smoothing:new le$2(1),range:new le$2(null)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:XX$1,vertexShader:Pm}),this.toneMapped=!1,this.colorOutput=s,this.luminanceRange=o}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get threshold(){return this.uniforms.threshold.value}set threshold(s){this.smoothing>0||s>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=s}getThreshold(){return this.threshold}setThreshold(s){this.threshold=s}get smoothing(){return this.uniforms.smoothing.value}set smoothing(s){this.threshold>0||s>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=s}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(s){this.smoothing=s}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(s){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(s){s?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(s){return this.colorOutput}setColorOutputEnabled(s){this.colorOutput=s}get useRange(){return this.luminanceRange!==null}set useRange(s){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(s){s!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=s,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(s){this.luminanceRange=s}},KX=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,b3={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},ZX=class extends it{constructor(s=null){super({name:"MaskMaterial",uniforms:{maskTexture:new le$2(s),inputBuffer:new le$2(null),strength:new le$2(1)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:KX,vertexShader:Pm}),this.toneMapped=!1,this.setColorChannel(x3.RED),this.setMaskFunction(b3.DISCARD)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}set maskTexture(s){this.uniforms.maskTexture.value=s,delete this.defines.MASK_PRECISION_HIGH,s.type!==_r$1&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(s){this.maskTexture=s}set colorChannel(s){this.defines.COLOR_CHANNEL=s.toFixed(0),this.needsUpdate=!0}setColorChannel(s){this.colorChannel=s}set maskFunction(s){this.defines.MASK_FUNCTION=s.toFixed(0),this.needsUpdate=!0}setMaskFunction(s){this.maskFunction=s}get inverted(){return this.defines.INVERTED!==void 0}set inverted(s){this.inverted&&!s?delete this.defines.INVERTED:s&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(s){this.inverted=s}get strength(){return this.uniforms.strength.value}set strength(s){this.uniforms.strength.value=s}getStrength(){return this.strength}setStrength(s){this.strength=s}},JX=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,$X="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",eQ=class extends it{constructor(s=new U$1,o=new U$1){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new le$2(null),searchTexture:new le$2(null),areaTexture:new le$2(null),resolution:new le$2(o),texelSize:new le$2(s)},blending:Jt,depthWrite:!1,depthTest:!1,fragmentShader:JX,vertexShader:$X}),this.toneMapped=!1}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(s){this.uniforms.searchTexture.value=s}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(s){this.uniforms.areaTexture.value=s}setLookupTextures(s,o){this.searchTexture=s,this.areaTexture=o}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(s){let o=Math.min(Math.max(s,0),112);this.defines.MAX_SEARCH_STEPS_INT=o.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=o.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(s){this.orthogonalSearchSteps=s}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(s){let o=Math.min(Math.max(s,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=o.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=o.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(s){this.diagonalSearchSteps=s}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(s){s?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(s){this.diagonalDetection=s}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(s){let o=Math.min(Math.max(s,0),100);this.defines.CORNER_ROUNDING=o.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(o/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(s){this.cornerRounding=s}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(s){s?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(s){this.cornerDetection=s}setSize(s,o){let _=this.uniforms;_.texelSize.value.set(1/s,1/o),_.resolution.value.set(s,o)}},tQ=new qn,Gl=null;function rQ(){if(Gl===null){let s=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),o=new Float32Array([0,0,2,0,0,2]);Gl=new _e,Gl.setAttribute!==void 0?(Gl.setAttribute("position",new Xe(s,3)),Gl.setAttribute("uv",new Xe(o,2))):(Gl.addAttribute("position",new Xe(s,3)),Gl.addAttribute("uv",new Xe(o,2)))}return Gl}var xi=class{constructor(s="Pass",o=new ei,_=tQ){this.name=s,this.renderer=null,this.scene=o,this.camera=_,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(s){if(this.rtt===s){let o=this.getFullscreenMaterial();o!==null&&(o.needsUpdate=!0),this.rtt=!s}}setRenderer(s){this.renderer=s}isEnabled(){return this.enabled}setEnabled(s){this.enabled=s}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(s){let o=this.screen;o!==null?o.material=s:(o=new Ut(rQ(),s),o.frustumCulled=!1,this.scene===null&&(this.scene=new ei),this.scene.add(o),this.screen=o)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(s){this.fullscreenMaterial=s}getDepthTexture(){return null}setDepthTexture(s,o=Bi){}render(s,o,_,j,et){throw new Error("Render method not implemented!")}setSize(s,o){}initialize(s,o,_){}dispose(){for(let s of Object.keys(this)){let o=this[s];if(o!==null&&typeof o=="object"&&typeof o.dispose=="function"){if(o instanceof ei||o===this.renderer)continue;this[s].dispose()}}}},_m=class extends xi{constructor(s,o=!0){super("CopyPass"),this.fullscreenMaterial=new kX,this.needsSwap=!1,this.renderTarget=s,s===void 0&&(this.renderTarget=new dt(1,1,{minFilter:rt,magFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=o}get resize(){return this.autoResize}set resize(s){this.autoResize=s}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(s){this.autoResize=s}render(s,o,_,j,et){this.fullscreenMaterial.inputBuffer=o.texture,s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,o){this.autoResize&&this.renderTarget.setSize(s,o)}initialize(s,o,_){_!==void 0&&(this.renderTarget.texture.type=_,_!==_r$1?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":s.outputEncoding===at&&(this.renderTarget.texture.encoding=at))}},S3=class extends xi{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(s,o,_,j,et){let st=s.state.buffers.stencil;st.setLocked(!1),st.setTest(!1)}},IE=new We,FE=class extends xi{constructor(s=!0,o=!0,_=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=s,this.depth=o,this.stencil=_,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(s,o,_){this.color=s,this.depth=o,this.stencil=_}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(s){this.overrideClearColor=s}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(s){this.overrideClearAlpha=s}render(s,o,_,j,et){let st=this.overrideClearColor,nt=this.overrideClearAlpha,ct=s.getClearAlpha(),At=st!==null,mt=nt>=0;At?(IE.copy(s.getClearColor(IE)),s.setClearColor(st,mt?nt:ct)):mt&&s.setClearAlpha(nt),s.setRenderTarget(this.renderToScreen?null:o),s.clear(this.color,this.depth,this.stencil),At?s.setClearColor(IE,ct):mt&&s.setClearAlpha(ct)}},jl=-1,Vn=class extends pr{constructor(s,o=jl,_=jl,j=1){super(),this.resizable=s,this.base=new U$1(1,1),this.preferred=new U$1(o,_),this.target=this.preferred,this.s=j}get width(){let{base:s,preferred:o,scale:_}=this,j;return o.width!==jl?j=o.width:o.height!==jl?j=Math.round(o.height*(s.width/Math.max(s.height,1))):j=Math.round(s.width*_),j}set width(s){this.preferredWidth=s}get height(){let{base:s,preferred:o,scale:_}=this,j;return o.height!==jl?j=o.height:o.width!==jl?j=Math.round(o.width/Math.max(s.width/Math.max(s.height,1),1)):j=Math.round(s.height*_),j}set height(s){this.preferredHeight=s}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(s){this.s!==s&&(this.s=s,this.preferred.setScalar(jl),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(s){this.scale=s}get baseWidth(){return this.base.width}set baseWidth(s){this.base.width!==s&&(this.base.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(s){this.base.width!==s&&(this.base.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(s){this.base.height!==s&&(this.base.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(s){this.baseHeight=s}setBaseSize(s,o){(this.base.width!==s||this.base.height!==o)&&(this.base.set(s,o),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(s){this.preferred.width!==s&&(this.preferred.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(s){this.preferredWidth=s}get preferredHeight(){return this.preferred.height}set preferredHeight(s){this.preferred.height!==s&&(this.preferred.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(s){this.preferredHeight=s}setPreferredSize(s,o){(this.preferred.width!==s||this.preferred.height!==o)&&(this.preferred.set(s,o),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(s){this.base.set(s.getBaseWidth(),s.getBaseHeight()),this.preferred.set(s.getPreferredWidth(),s.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return jl}},OE=!1,m3=class{constructor(s=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(s),this.meshCount=0,this.replaceMaterial=o=>{if(o.isMesh){let _;if(o.material.flatShading)switch(o.material.side){case fi:_=this.materialsFlatShadedDoubleSide;break;case pi:_=this.materialsFlatShadedBackSide;break;default:_=this.materialsFlatShaded;break}else switch(o.material.side){case fi:_=this.materialsDoubleSide;break;case pi:_=this.materialsBackSide;break;default:_=this.materials;break}this.originalMaterials.set(o,o.material),o.isSkinnedMesh?o.material=_[2]:o.isInstancedMesh?o.material=_[1]:o.material=_[0],++this.meshCount}}}setMaterial(s){if(this.disposeMaterials(),this.material=s,s!==null){let o=this.materials=[s.clone(),s.clone(),s.clone()];for(let _ of o)_.uniforms=Object.assign({},s.uniforms),_.side=Hn;o[2].skinning=!0,this.materialsBackSide=o.map(_=>{let j=_.clone();return j.uniforms=Object.assign({},s.uniforms),j.side=pi,j}),this.materialsDoubleSide=o.map(_=>{let j=_.clone();return j.uniforms=Object.assign({},s.uniforms),j.side=fi,j}),this.materialsFlatShaded=o.map(_=>{let j=_.clone();return j.uniforms=Object.assign({},s.uniforms),j.flatShading=!0,j}),this.materialsFlatShadedBackSide=o.map(_=>{let j=_.clone();return j.uniforms=Object.assign({},s.uniforms),j.flatShading=!0,j.side=pi,j}),this.materialsFlatShadedDoubleSide=o.map(_=>{let j=_.clone();return j.uniforms=Object.assign({},s.uniforms),j.flatShading=!0,j.side=fi,j})}}render(s,o,_){let j=s.shadowMap.enabled;if(s.shadowMap.enabled=!1,OE){let et=this.originalMaterials;this.meshCount=0,o.traverse(this.replaceMaterial),s.render(o,_);for(let st of et)st[0].material=st[1];this.meshCount!==et.size&&et.clear()}else{let et=o.overrideMaterial;o.overrideMaterial=this.material,s.render(o,_),o.overrideMaterial=et}s.shadowMap.enabled=j}disposeMaterials(){if(this.material!==null){let s=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let o of s)o.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return OE}static set workaroundEnabled(s){OE=s}},iQ=class extends xi{constructor(s,o,_=null){super("RenderPass",s,o),this.needsSwap=!1,this.clearPass=new FE,this.overrideMaterialManager=_===null?null:new m3(_),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(s){super.renderToScreen=s,this.clearPass.renderToScreen=s}get overrideMaterial(){let s=this.overrideMaterialManager;return s!==null?s.material:null}set overrideMaterial(s){let o=this.overrideMaterialManager;s!==null?o!==null?o.setMaterial(s):this.overrideMaterialManager=new m3(s):o!==null&&(o.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(s){this.overrideMaterial=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getSelection(){return this.selection}setSelection(s){this.selection=s}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(s){this.ignoreBackground=s}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(s){this.skipShadowMapUpdate=s}getClearPass(){return this.clearPass}render(s,o,_,j,et){let st=this.scene,nt=this.camera,ct=this.selection,At=nt.layers.mask,mt=st.background,gt=s.shadowMap.autoUpdate,_t=this.renderToScreen?null:o;ct!==null&&nt.layers.set(ct.getLayer()),this.skipShadowMapUpdate&&(s.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(st.background=null),this.clearPass.enabled&&this.clearPass.render(s,o),s.setRenderTarget(_t),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(s,st,nt):s.render(st,nt),nt.layers.mask=At,st.background=mt,s.shadowMap.autoUpdate=gt}},VE=class extends xi{constructor(s,o,{resolutionScale:_=1,width:j=Vn.AUTO_SIZE,height:et=Vn.AUTO_SIZE,renderTarget:st}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new iQ(s,o,new up({depthPacking:Tw}));let nt=this.renderPass;nt.skipShadowMapUpdate=!0,nt.ignoreBackground=!0;let ct=nt.getClearPass();ct.overrideClearColor=new We(16777215),ct.overrideClearAlpha=1,this.renderTarget=st,this.renderTarget===void 0&&(this.renderTarget=new dt(1,1,{minFilter:Vt,magFilter:Vt,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let At=this.resolution=new Vn(this,j,et,_);At.addEventListener("change",mt=>this.setSize(At.baseWidth,At.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}render(s,o,_,j,et){let st=this.renderToScreen?null:this.renderTarget;this.renderPass.render(s,st)}setSize(s,o){let _=this.resolution;_.setBaseSize(s,o),this.renderTarget.setSize(_.width,_.height)}},Pt={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},nQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",sQ="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",oQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",aQ="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",lQ="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",cQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",uQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",hQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",dQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",fQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",pQ="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",mQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",gQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",yQ="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",vQ="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",xQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",bQ="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",SQ="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",wQ=new Map([[Pt.SKIP,null],[Pt.ADD,nQ],[Pt.ALPHA,sQ],[Pt.AVERAGE,oQ],[Pt.COLOR_BURN,aQ],[Pt.COLOR_DODGE,lQ],[Pt.DARKEN,cQ],[Pt.DIFFERENCE,uQ],[Pt.EXCLUSION,hQ],[Pt.LIGHTEN,dQ],[Pt.MULTIPLY,fQ],[Pt.DIVIDE,pQ],[Pt.NEGATION,mQ],[Pt.NORMAL,gQ],[Pt.OVERLAY,yQ],[Pt.REFLECT,vQ],[Pt.SCREEN,xQ],[Pt.SOFT_LIGHT,bQ],[Pt.SUBTRACT,SQ]]),AQ=class extends pr{constructor(s,o=1){super(),this.f=s,this.opacity=new le$2(o)}getOpacity(){return this.opacity.value}setOpacity(s){this.opacity.value=s}get blendFunction(){return this.f}set blendFunction(s){this.f=s,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(s){this.blendFunction=s}getShaderCode(){return wQ.get(this.blendFunction)}},Uo={NONE:0,DEPTH:1,CONVOLUTION:2},zo=class extends pr{constructor(s,o,{attributes:_=Uo.NONE,blendFunction:j=Pt.SCREEN,defines:et=new Map,uniforms:st=new Map,extensions:nt=null,vertexShader:ct=null}={}){super(),this.name=s,this.renderer=null,this.attributes=_,this.fragmentShader=o,this.vertexShader=ct,this.defines=et,this.uniforms=st,this.extensions=nt,this.blendMode=new AQ(j),this.blendMode.addEventListener("change",At=>this.setChanged())}getName(){return this.name}setRenderer(s){this.renderer=s}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(s){this.attributes=s,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(s){this.fragmentShader=s,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(s){this.vertexShader=s,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(s,o=Bi){}update(s,o,_){}setSize(s,o){}initialize(s,o,_){}dispose(){for(let s of Object.keys(this)){let o=this[s];if(o!==null&&typeof o=="object"&&typeof o.dispose=="function"){if(o instanceof ei||o===this.renderer)continue;this[s].dispose()}}}};function g3(s,o,_){for(let j of o){let et="$1"+s+j.charAt(0).toUpperCase()+j.slice(1),st=new RegExp("([^\\.])(\\b"+j+"\\b)","g");for(let nt of _.entries())nt[1]!==null&&_.set(nt[0],nt[1].replace(st,et))}}function EQ(s,o,_,j,et,st,nt){let ct=new Map([["fragment",o.getFragmentShader()],["vertex",o.getVertexShader()]]),At=ct.get("fragment")!==void 0&&/mainImage/.test(ct.get("fragment")),mt=ct.get("fragment")!==void 0&&/mainUv/.test(ct.get("fragment")),gt=[],_t=[],Et=!1,Ct=!1;if(ct.get("fragment")===void 0)console.error("Missing fragment shader",o);else if(mt&&nt&Uo.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",o);else if(!At&&!mt)console.error("The fragment shader contains neither a mainImage nor a mainUv function",o);else{let Bt=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,Dt=NE.Section;if(mt){let Rt=`	${s}MainUv(UV);
`;_.set(Dt.FRAGMENT_MAIN_UV,_.get(Dt.FRAGMENT_MAIN_UV)+Rt),Et=!0}if(ct.get("vertex")!==null&&/mainSupport/.test(ct.get("vertex"))){let Rt=`	${s}MainSupport(`;Rt+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(ct.get("vertex"))?`vUv);
`:`);
`,_.set(Dt.VERTEX_MAIN_SUPPORT,_.get(Dt.VERTEX_MAIN_SUPPORT)+Rt),gt=gt.concat([...ct.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(Nt=>Nt[1])),_t=_t.concat(gt).concat([...ct.get("vertex").matchAll(Bt)].map(Nt=>Nt[1]))}_t=_t.concat([...ct.get("fragment").matchAll(Bt)].map(Rt=>Rt[1])),_t=_t.concat([...o.defines.keys()].map(Rt=>Rt.replace(/\([\w\s,]*\)/g,""))),_t=_t.concat([...o.uniforms.keys()]),o.uniforms.forEach((Rt,Nt)=>st.set(s+Nt.charAt(0).toUpperCase()+Nt.slice(1),Rt)),o.defines.forEach((Rt,Nt)=>et.set(s+Nt.charAt(0).toUpperCase()+Nt.slice(1),Rt)),g3(s,_t,et),g3(s,_t,ct);let Ft=o.blendMode;if(j.set(Ft.blendFunction,Ft),At){let Rt=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,Nt=`${s}MainImage(color0, UV, `;nt&Uo.DEPTH&&Rt.test(ct.get("fragment"))&&(Nt+="depth, ",Ct=!0),Nt+=`color1);
	`;let Gt=s+"BlendOpacity";st.set(Gt,Ft.opacity),Nt+=`color0 = blend${Ft.blendFunction}(color0, color1, ${Gt});

	`,_.set(Dt.FRAGMENT_MAIN_IMAGE,_.get(Dt.FRAGMENT_MAIN_IMAGE)+Nt),Nt=`uniform float ${Gt};

`,_.set(Dt.FRAGMENT_HEAD,_.get(Dt.FRAGMENT_HEAD)+Nt)}_.set(Dt.FRAGMENT_HEAD,_.get(Dt.FRAGMENT_HEAD)+ct.get("fragment")+`
`),ct.get("vertex")!==null&&_.set(Dt.VERTEX_HEAD,_.get(Dt.VERTEX_HEAD)+ct.get("vertex")+`
`)}return{varyings:gt,transformedUv:Et,readDepth:Ct}}var Kc=class extends xi{constructor(s,...o){super("EffectPass"),this.fullscreenMaterial=new NE(null,null,null,s),this.effects=o.sort((_,j)=>j.attributes-_.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(s){this.fullscreenMaterial.encodeOutput=s}get dithering(){return this.fullscreenMaterial.dithering}set dithering(s){let o=this.fullscreenMaterial;o.dithering=s,o.needsUpdate=!0}verifyResources(){let s=this.renderer.capabilities,o=Math.min(s.maxFragmentUniforms,s.maxVertexUniforms);this.uniformCount>o&&console.warn("The current rendering context doesn't support more than "+o+" uniforms, but "+this.uniformCount+" were defined"),o=s.maxVaryings,this.varyingCount>o&&console.warn("The current rendering context doesn't support more than "+o+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let s=NE.Section,o=new Map([[s.FRAGMENT_HEAD,""],[s.FRAGMENT_MAIN_UV,""],[s.FRAGMENT_MAIN_IMAGE,""],[s.VERTEX_HEAD,""],[s.VERTEX_MAIN_SUPPORT,""]]),_=new Map,j=new Map,et=new Map,st=new Set,nt=0,ct=0,At=0,mt=!1,gt=!1;for(let Et of this.effects)if(Et.blendMode.blendFunction===Pt.SKIP)At|=Et.getAttributes()&Uo.DEPTH;else if(At&Et.getAttributes()&Uo.CONVOLUTION)console.error("Convolution effects cannot be merged",Et);else{At|=Et.getAttributes();let Ct="e"+nt++,Bt=EQ(Ct,Et,o,_,j,et,At);if(ct+=Bt.varyings.length,mt=mt||Bt.transformedUv,gt=gt||Bt.readDepth,Et.extensions!==null)for(let Dt of Et.extensions)st.add(Dt)}let _t=/\bblend\b/g;for(let Et of _.values()){let Ct=Et.getShaderCode().replace(_t,`blend${Et.blendFunction}`);o.set(s.FRAGMENT_HEAD,o.get(s.FRAGMENT_HEAD)+Ct+`
`)}At&Uo.DEPTH?(gt&&o.set(s.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+o.get(s.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,mt?(o.set(s.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+o.get(s.FRAGMENT_MAIN_UV)),j.set("UV","transformedUv")):j.set("UV","vUv"),o.forEach((Et,Ct,Bt)=>Bt.set(Ct,Et.trim().replace(/^#/,`
#`))),this.uniformCount=et.size,this.varyingCount=ct,this.skipRendering=nt===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(o).setExtensions(st).setUniforms(et).setDefines(j)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(s,o=Bi){this.fullscreenMaterial.depthBuffer=s,this.fullscreenMaterial.depthPacking=o;for(let _ of this.effects)_.setDepthTexture(s,o)}render(s,o,_,j,et){for(let st of this.effects)st.update(s,o,j);if(!this.skipRendering||this.renderToScreen){let st=this.fullscreenMaterial;st.inputBuffer=o.texture,st.time+=j,s.setRenderTarget(this.renderToScreen?null:_),s.render(this.scene,this.camera)}}setSize(s,o){this.fullscreenMaterial.setSize(s,o);for(let _ of this.effects)_.setSize(s,o)}initialize(s,o,_){this.renderer=s;for(let j of this.effects)j.initialize(s,o,_),j.addEventListener("change",et=>this.handleEvent(et));this.updateMaterial(),this.verifyResources(),_!==void 0&&_!==_r$1&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let s of this.effects)s.dispose()}handleEvent(s){switch(s.type){case"change":this.recompile();break}}},MQ=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],gx=class extends xi{constructor({resolutionScale:s=.5,width:o=Vn.AUTO_SIZE,height:_=Vn.AUTO_SIZE,kernelSize:j=Dm.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new dt(1,1,{minFilter:rt,magFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let et=this.resolution=new Vn(this,o,_,s);et.addEventListener("change",st=>this.setSize(et.baseWidth,et.baseHeight)),this.blurMaterial=new p3,this.ditheredBlurMaterial=new p3,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=j}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(s){this.resolution.preferredWidth=s}get height(){return this.resolution.height}set height(s){this.resolution.preferredHeight=s}get scale(){return this.blurMaterial.scale}set scale(s){this.blurMaterial.scale=s}getScale(){return this.blurMaterial.scale}setScale(s){this.blurMaterial.scale=s}getKernelSize(){return this.kernelSize}setKernelSize(s){this.kernelSize=s}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}render(s,o,_,j,et){let st=this.scene,nt=this.camera,ct=this.renderTargetA,At=this.renderTargetB,mt=MQ[this.kernelSize],gt=this.blurMaterial,_t=o,Et,Ct;for(this.fullscreenMaterial=gt,Et=0,Ct=mt.length-1;Et<Ct;++Et){let Bt=Et&1?At:ct;gt.kernel=mt[Et],gt.inputBuffer=_t.texture,s.setRenderTarget(Bt),s.render(st,nt),_t=Bt}this.dithering&&(gt=this.ditheredBlurMaterial,this.fullscreenMaterial=gt),gt.kernel=mt[Et],gt.inputBuffer=_t.texture,s.setRenderTarget(this.renderToScreen?null:_),s.render(st,nt)}setSize(s,o){let _=this.resolution;_.setBaseSize(s,o);let j=_.width,et=_.height;this.renderTargetA.setSize(j,et),this.renderTargetB.setSize(j,et),this.blurMaterial.setSize(j,et),this.ditheredBlurMaterial.setSize(j,et)}initialize(s,o,_){_!==void 0&&(this.renderTargetA.texture.type=_,this.renderTargetB.texture.type=_,_!==_r$1?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):s.outputEncoding===at&&(this.renderTargetA.texture.encoding=at,this.renderTargetB.texture.encoding=at))}static get AUTO_SIZE(){return Vn.AUTO_SIZE}},TQ=class extends xi{constructor({width:s=Vn.AUTO_SIZE,height:o=Vn.AUTO_SIZE,renderTarget:_,luminanceRange:j,colorOutput:et}={}){super("LuminancePass"),this.fullscreenMaterial=new QX(et,j),this.needsSwap=!1,this.renderTarget=_,this.renderTarget===void 0&&(this.renderTarget=new dt(1,1,{minFilter:rt,magFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let st=this.resolution=new Vn(this,s,o);st.addEventListener("change",nt=>this.setSize(st.baseWidth,st.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(s,o,_,j,et){let st=this.fullscreenMaterial;st.inputBuffer=o.texture,s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,o){let _=this.resolution;_.setBaseSize(s,o),this.renderTarget.setSize(_.width,_.height)}initialize(s,o,_){_!==void 0&&_!==_r$1&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},w3=class extends xi{constructor(s,o){super("MaskPass",s,o),this.needsSwap=!1,this.clearPass=new FE(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(s){this.inverse=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(s){this.inverted=s}render(s,o,_,j,et){let st=s.getContext(),nt=s.state.buffers,ct=this.scene,At=this.camera,mt=this.clearPass,gt=this.inverted?0:1,_t=1-gt;nt.color.setMask(!1),nt.depth.setMask(!1),nt.color.setLocked(!0),nt.depth.setLocked(!0),nt.stencil.setTest(!0),nt.stencil.setOp(st.REPLACE,st.REPLACE,st.REPLACE),nt.stencil.setFunc(st.ALWAYS,gt,4294967295),nt.stencil.setClear(_t),nt.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?mt.render(s,null):(mt.render(s,o),mt.render(s,_))),this.renderToScreen?(s.setRenderTarget(null),s.render(ct,At)):(s.setRenderTarget(o),s.render(ct,At),s.setRenderTarget(_),s.render(ct,At)),nt.color.setLocked(!1),nt.depth.setLocked(!1),nt.stencil.setLocked(!1),nt.stencil.setFunc(st.EQUAL,1,4294967295),nt.stencil.setOp(st.KEEP,st.KEEP,st.KEEP),nt.stencil.setLocked(!0)}},hn=class extends xi{constructor(s,o="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=s,this.inputBufferUniform=null,this.setInput(o)}setInput(s){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let o=this.fullscreenMaterial.uniforms;o!==void 0&&o[s]!==void 0&&(this.inputBufferUniform=o[s])}}render(s,o,_,j,et){this.inputBufferUniform!==null&&o!==null&&(this.inputBufferUniform.value=o.texture),s.setRenderTarget(this.renderToScreen?null:_),s.render(this.scene,this.camera)}initialize(s,o,_){_!==void 0&&_!==_r$1&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},RE=1/1e3,CQ=1e3,A3=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(s){return this.fixedDeltaEnabled=s,this}isAutoResetEnabled(s){return this.autoReset}setAutoResetEnabled(s){return typeof document<"u"&&document.hidden!==void 0&&(s?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=s),this}getDelta(){return this.delta*RE}getFixedDelta(){return this.fixedDelta*RE}setFixedDelta(s){return this.fixedDelta=s*CQ,this}getElapsed(){return this.elapsed*RE}getTimescale(){return this.timescale}setTimescale(s){return this.timescale=s,this}update(s){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=s!==void 0?s:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(s){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},Dm={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},PQ=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,E3=class extends zo{constructor({blendFunction:s=Pt.SCREEN,luminanceThreshold:o=.9,luminanceSmoothing:_=.025,resolutionScale:j=.5,intensity:et=1,width:st=Vn.AUTO_SIZE,height:nt=Vn.AUTO_SIZE,kernelSize:ct=Dm.LARGE}={}){super("BloomEffect",PQ,{blendFunction:s,uniforms:new Map([["map",new le$2(null)],["intensity",new le$2(et)]])}),this.renderTarget=new dt(1,1,{minFilter:rt,magFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new TQ({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=o,this.luminanceMaterial.smoothingFactor=_,this.blurPass=new gx({resolutionScale:j,width:st,height:nt,kernelSize:ct});let At=this.blurPass.getResolution();At.addEventListener("change",mt=>this.setSize(At.baseWidth,At.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(s){this.resolution.preferredWidth=s}get height(){return this.resolution.height}set height(s){this.resolution.preferredHeight=s}get dithering(){return this.blurPass.dithering}set dithering(s){this.blurPass.dithering=s}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(s){this.blurPass.kernelSize=s}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(s){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(s){this.uniforms.get("intensity").value=s}getIntensity(){return this.intensity}setIntensity(s){this.intensity=s}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}update(s,o,_){let j=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(s,o,j),this.blurPass.render(s,j,j)):this.blurPass.render(s,o,j)}setSize(s,o){let _=this.resolution;_.setBaseSize(s,o),this.renderTarget.setSize(_.width,_.height),this.luminancePass.resolution.copy(_)}initialize(s,o,_){this.blurPass.initialize(s,o,_),_!==void 0&&(this.renderTarget.texture.type=_,s.outputEncoding===at&&(this.renderTarget.texture.encoding=at))}},_Q="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",M3=class extends zo{constructor({blendFunction:s=Pt.NORMAL,brightness:o=0,contrast:_=0}={}){super("BrightnessContrastEffect",_Q,{blendFunction:s,uniforms:new Map([["brightness",new le$2(o)],["contrast",new le$2(_)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(s){this.uniforms.get("brightness").value=s}getBrightness(s){return this.brightness}setBrightness(s){this.brightness=s}get contrast(){return this.uniforms.get("contrast").value}set contrast(s){this.uniforms.get("contrast").value=s}getContrast(s){return this.contrast}setContrast(s){this.contrast=s}},DQ="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",T3=class extends zo{constructor(s=Pt.NORMAL){super("ColorAverageEffect",DQ,{blendFunction:s})}},IQ="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",OQ="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",C3=class extends zo{constructor({blendFunction:s=Pt.NORMAL,offset:o=new U$1(.001,5e-4)}={}){super("ChromaticAberrationEffect",IQ,{vertexShader:OQ,blendFunction:s,attributes:Uo.CONVOLUTION,uniforms:new Map([["offset",new le$2(o)]])})}get offset(){return this.uniforms.get("offset").value}set offset(s){this.uniforms.get("offset").value=s}getOffset(){return this.offset}setOffset(s){this.offset=s}},RQ=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,P3=class extends zo{constructor(s,{blendFunction:o=Pt.NORMAL,worldFocusDistance:_,worldFocusRange:j,focusDistance:et=0,focalLength:st=.1,focusRange:nt=st,bokehScale:ct=1,width:At=Vn.AUTO_SIZE,height:mt=Vn.AUTO_SIZE}={}){super("DepthOfFieldEffect",RQ,{blendFunction:o,attributes:Uo.DEPTH,uniforms:new Map([["nearColorBuffer",new le$2(null)],["farColorBuffer",new le$2(null)],["nearCoCBuffer",new le$2(null)],["scale",new le$2(1)]])}),this.camera=s,this.renderTarget=new dt(1,1,{minFilter:rt,magFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new hn(new FX(s));let gt=this.cocMaterial;gt.focusDistance=et,gt.focusRange=nt,_!==void 0&&(gt.worldFocusDistance=_),j!==void 0&&(gt.worldFocusRange=j),this.blurPass=new gx({kernelSize:Dm.MEDIUM,width:At,height:mt});let _t=this.blurPass.getResolution();_t.addEventListener("change",Ct=>this.setSize(_t.getBaseWidth(),_t.getBaseHeight())),this.maskPass=new hn(new ZX(this.renderTargetCoC.texture));let Et=this.maskPass.fullscreenMaterial;Et.maskFunction=b3.MULTIPLY,Et.colorChannel=x3.GREEN,this.bokehNearBasePass=new hn(new px(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new hn(new px(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new hn(new px(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new hn(new px(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=ct}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(s){let o=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let _ of o)_.fullscreenMaterial.setScale(s);this.maskPass.fullscreenMaterial.setStrength(s),this.uniforms.get("scale").value=s}getBokehScale(){return this.bokehScale}setBokehScale(s){this.bokehScale=s}getTarget(){return this.target}setTarget(s){this.target=s}calculateFocusDistance(s){let o=this.camera,_=o.position.distanceTo(s);return BE(-_,o.near,o.far)}setDepthTexture(s,o=Bi){this.circleOfConfusionMaterial.depthBuffer=s,this.circleOfConfusionMaterial.depthPacking=o}update(s,o,_){let j=this.renderTarget,et=this.renderTargetCoC,st=this.renderTargetCoCBlurred,nt=this.renderTargetMasked;if(this.target!==null){let ct=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=ct}this.cocPass.render(s,null,et),this.blurPass.render(s,et,st),this.maskPass.render(s,o,nt),this.bokehFarBasePass.render(s,nt,j),this.bokehFarFillPass.render(s,j,this.renderTargetFar),this.bokehNearBasePass.render(s,o,j),this.bokehNearFillPass.render(s,j,this.renderTargetNear)}setSize(s,o){let _=this.resolution;_.setBaseSize(s,o);let j=_.width,et=_.height,st=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];st.push(this.renderTargetCoC,this.renderTargetMasked),st.forEach(nt=>nt.setSize(s,o)),st=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],st.forEach(nt=>nt.setSize(j,et)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(nt=>nt.fullscreenMaterial.setSize(j,et))}initialize(s,o,_){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(j=>j.initialize(s,o,_)),this.blurPass.initialize(s,o,_r$1),_!==void 0&&(this.renderTarget.texture.type=_,this.renderTargetNear.texture.type=_,this.renderTargetFar.texture.type=_,this.renderTargetMasked.texture.type=_,s.outputEncoding===at&&(this.renderTarget.texture.encoding=at,this.renderTargetNear.texture.encoding=at,this.renderTargetFar.texture.encoding=at,this.renderTargetMasked.texture.encoding=at))}};new E$2;new ue$2;var LQ="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",_3=class extends zo{constructor({blendFunction:s=Pt.NORMAL,hue:o=0,saturation:_=0}={}){super("HueSaturationEffect",LQ,{blendFunction:s,uniforms:new Map([["hue",new le$2(new E$2)],["saturation",new le$2(_)]])}),this.hue=o}get saturation(){return this.uniforms.get("saturation").value}set saturation(s){this.uniforms.get("saturation").value=s}getSaturation(){return this.saturation}setSaturation(s){this.saturation=s}get hue(){let s=this.uniforms.get("hue").value;return Math.acos((s.x*3-1)/2)}set hue(s){let o=Math.sin(s),_=Math.cos(s);this.uniforms.get("hue").value.set((2*_+1)/3,(-Math.sqrt(3)*o-_+1)/3,(Math.sqrt(3)*o-_+1)/3)}getHue(){return this.hue}setHue(s){this.hue=s}};new We;var BQ=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,D3=class extends zo{constructor({blendFunction:s=Pt.SCREEN,premultiply:o=!1}={}){super("NoiseEffect",BQ,{blendFunction:s}),this.premultiply=o}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(s){this.premultiply!==s&&(s?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(s){this.premultiply=s}},NQ="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",I3=class extends zo{constructor(s=30){super("PixelationEffect",NQ,{uniforms:new Map([["active",new le$2(!1)],["d",new le$2(new U$1)]])}),this.resolution=new U$1,this.d=0,this.granularity=s}get granularity(){return this.d}set granularity(s){let o=Math.floor(s);o%2>0&&(o+=1),this.d=o,this.uniforms.get("active").value=o>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(s){this.granularity=s}setSize(s,o){this.resolution.set(s,o),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}};new E$2;new E$2;var y3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",v3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",FQ="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",VQ="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",La={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},yx=class extends zo{constructor({preset:s=La.MEDIUM,edgeDetectionMode:o=of.COLOR,predicationMode:_=HX.DISABLED}={}){super("SMAAEffect",FQ,{vertexShader:VQ,blendFunction:Pt.NORMAL,attributes:Uo.CONVOLUTION|Uo.DEPTH,uniforms:new Map([["weightMap",new le$2(null)]])});let j,et;arguments.length>1&&(j=arguments[0],et=arguments[1],arguments.length>2&&(s=arguments[2]),arguments.length>3&&(o=arguments[3])),this.renderTargetEdges=new dt(1,1,{minFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new FE(!0,!1,!1),this.clearPass.overrideClearColor=new We(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new hn(new WX),this.edgeDetectionMaterial.edgeDetectionMode=o,this.edgeDetectionMaterial.predicationMode=_,this.weightsPass=new hn(new eQ);let st=new yp;st.onLoad=()=>{let nt=new $t(j);nt.name="SMAA.Search",nt.magFilter=Vt,nt.minFilter=Vt,nt.generateMipmaps=!1,nt.needsUpdate=!0,nt.flipY=!0,this.weightsMaterial.searchTexture=nt;let ct=new $t(et);ct.name="SMAA.Area",ct.magFilter=rt,ct.minFilter=rt,ct.generateMipmaps=!1,ct.needsUpdate=!0,ct.flipY=!1,this.weightsMaterial.areaTexture=ct,this.dispatchEvent({type:"load"})},st.itemStart("search"),st.itemStart("area"),j!==void 0&&et!==void 0?(st.itemEnd("search"),st.itemEnd("area")):typeof Image<"u"&&(j=new Image,et=new Image,j.addEventListener("load",()=>st.itemEnd("search")),et.addEventListener("load",()=>st.itemEnd("area")),j.src=y3,et.src=v3),this.applyPreset(s)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(s){this.edgeDetectionMaterial.edgeDetectionThreshold=s}setOrthogonalSearchSteps(s){this.weightsMaterial.orthogonalSearchSteps=s}applyPreset(s){let o=this.edgeDetectionMaterial,_=this.weightsMaterial;switch(s){case La.LOW:o.edgeDetectionThreshold=.15,_.orthogonalSearchSteps=4,_.diagonalDetection=!1,_.cornerDetection=!1;break;case La.MEDIUM:o.edgeDetectionThreshold=.1,_.orthogonalSearchSteps=8,_.diagonalDetection=!1,_.cornerDetection=!1;break;case La.HIGH:o.edgeDetectionThreshold=.1,_.orthogonalSearchSteps=16,_.diagonalSearchSteps=8,_.cornerRounding=25,_.diagonalDetection=!0,_.cornerDetection=!0;break;case La.ULTRA:o.edgeDetectionThreshold=.05,_.orthogonalSearchSteps=32,_.diagonalSearchSteps=16,_.cornerRounding=25,_.diagonalDetection=!0,_.cornerDetection=!0;break}}setDepthTexture(s,o=Bi){this.edgeDetectionMaterial.depthBuffer=s,this.edgeDetectionMaterial.depthPacking=o}update(s,o,_){this.clearPass.render(s,this.renderTargetEdges),this.edgeDetectionPass.render(s,o,this.renderTargetEdges),this.weightsPass.render(s,this.renderTargetEdges,this.renderTargetWeights)}setSize(s,o){this.edgeDetectionMaterial.setSize(s,o),this.weightsMaterial.setSize(s,o),this.renderTargetEdges.setSize(s,o),this.renderTargetWeights.setSize(s,o)}dispose(){let{searchTexture:s,areaTexture:o}=this.weightsMaterial;s!==null&&o!==null&&(s.dispose(),o.dispose()),super.dispose()}static get searchImageDataURL(){return y3}static get areaImageDataURL(){return v3}},UQ=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,mx={DEFAULT:0,ESKIL:1},O3=class extends zo{constructor({blendFunction:s=Pt.NORMAL,technique:o=mx.DEFAULT,eskil:_=!1,offset:j=.5,darkness:et=.5}={}){super("VignetteEffect",UQ,{blendFunction:s,defines:new Map([["VIGNETTE_TECHNIQUE",o.toFixed(0)]]),uniforms:new Map([["offset",new le$2(j)],["darkness",new le$2(et)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(s){this.technique!==s&&(this.defines.set("VIGNETTE_TECHNIQUE",s.toFixed(0)),this.setChanged())}get eskil(){return this.technique===mx.ESKIL}set eskil(s){this.technique=s?mx.ESKIL:mx.DEFAULT}getTechnique(){return this.technique}setTechnique(s){this.technique=s}get offset(){return this.uniforms.get("offset").value}set offset(s){this.uniforms.get("offset").value=s}getOffset(){return this.offset}setOffset(s){this.offset=s}get darkness(){return this.uniforms.get("darkness").value}set darkness(s){this.uniforms.get("darkness").value=s}getDarkness(){return this.darkness}setDarkness(s){this.darkness=s}},si=class{constructor(s,o){this.enabled=!1,this.effect=new s(o),Object.defineProperty(this,"opacity",{enumerable:!0,set(_){this.effect.blendMode.opacity.value=_},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(_){this.effect.blendMode.setBlendFunction(Number(_))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=Pt.NORMAL}},af=class extends si{constructor(){super(E3),this.blendFunction=Pt.SCREEN}set intensity(s){this.effect.intensity=s}get intensity(){return this.effect.intensity}set luminanceThreshold(s){this.effect.luminanceMaterial.threshold=s}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(s){this.effect.luminanceMaterial.smoothing=s}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(s){this.effect.blurPass.scale=s}get blurScale(){return this.effect.blurPass.scale}set kernelSize(s){this.effect.blurPass.kernelSize=s}get kernelSize(){return this.effect.blurPass.kernelSize}},lf=class extends si{constructor(){super(M3)}set contrast(s){this.effect.uniforms.get("contrast").value=s}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(s){this.effect.uniforms.get("brightness").value=s}get brightness(){return this.effect.uniforms.get("brightness").value}},cf=class extends si{constructor(){super(C3),this.effect.offset=new U$1(.01,.01)}set offset(s){this.effect.offset.set(s[0]/1e3,s[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},uf=class extends si{constructor(){super(T3)}},hf=class extends si{constructor(){super(_3),this._hue=0}set hue(s){this._hue=s,this.effect.setHue(s)}get hue(){return this._hue}set saturation(s){this.effect.uniforms.get("saturation").value=s}get saturation(){return this.effect.uniforms.get("saturation").value}},df=class extends si{constructor(){super(D3),this.blendFunction=Pt.OVERLAY}},ff=class extends si{constructor(){super(O3)}get eskil(){return this.effect.eskil}set eskil(s){this.effect.eskil=s}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(s){this.effect.uniforms.get("darkness").value=s}get offset(){return this.effect.uniforms.get("offset").value}set offset(s){this.effect.uniforms.get("offset").value=s}},pf=class extends si{constructor(s){super(P3)}set focalLength(s){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=s/2e3}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(s){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=this.isPerspectiveCamera?s/2e3:(s+992)/2e3}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(s){this.effect.bokehScale=s}setCamera(s){let o=!1;(s.isPerspectiveCamera&&this.isPerspectiveCamera===!1||!s.isPerspectiveCamera&&this.isPerspectiveCamera===!0)&&(o=!0),s.isPerspectiveCamera?(this.effect.circleOfConfusionMaterial.adoptCameraSettings(s.perspCamera),this.isPerspectiveCamera=!0):(this.effect.circleOfConfusionMaterial.adoptCameraSettings(s),this.isPerspectiveCamera=!1),o&&this.effect.setChanged()}},mf=class extends si{constructor(){super(I3)}get granularity(){return this.effect.getGranularity()}set granularity(s){this.effect.setGranularity(s)}},R3=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,L3=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,B3=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,N3=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,gf=class extends it{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new le$2(null)},blending:Jt,depthWrite:!1,depthTest:!1,vertexShader:B3,fragmentShader:N3})}set inputBuffer(s){this.uniforms.inputBuffer.value=s}},vx=class extends xi{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new gf,this.resolutionVector=new U$1,this.resolveMaterial=new it({name:"TAAResolveMaterial",uniforms:{inputBuffer:new le$2(null),historyBuffer:new le$2(null),velocityBuffer:new le$2(null),depthBuffer:new le$2(null),resolution:new le$2(new U$1)},blending:Jt,depthWrite:!1,depthTest:!1,vertexShader:R3,fragmentShader:L3}),this.historyRenderTarget=new dt(1024,1024,{minFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new dt(1024,1024,{minFilter:rt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(s,o){this.historyRenderTarget.setSize(s,o),this.resultRenderTarget.setSize(s,o)}render(s,o){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=o.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=o.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=o.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(o.width,o.height),s.setRenderTarget(this.resultRenderTarget),s.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,s.setRenderTarget(this.historyRenderTarget),s.render(this.scene,this.camera);let _=this.renderToScreen?null:o;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,s.setRenderTarget(_),s.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},xx=class extends xi{constructor(s,o,_){super("TransmissionPass",void 0,o),this.MRTCompatible=!0,this.depthPass=new VE(s,o,{renderTarget:_.transmissionDepthTarget}),this.passThroughMaterial=new gf,this.splineScene=s,this.needsSwap=!1}updatePasses(s){this.passThroughMaterial=new gf,this.depthPass=new VE(this.splineScene,this.camera,{renderTarget:s.transmissionDepthTarget})}setCamera(s){this.camera=s}setScene(s){this.splineScene=s}render(s,o,_){let j=this.camera.layers.mask,et=s;et.setRenderTarget(et.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=o.texture[0],et.clear(),et.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(s,o,_),et.shadowMap.needsUpdate=!1,et.shadowMap.autoUpdate=!1;let st=this.renderToScreen?null:o;this.camera.layers.set(3),s.setRenderTarget(st),s.render(this.splineScene,this.camera),this.camera.layers.mask=j}},F3=new ei,WQ=new it({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),Zc=class extends xi{constructor(s,o,_){super("OpaquePass",o??F3,_),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=s}setCamera(s){this.camera=s}setScene(s){this.scene=s??F3}getScene(){return this.scene}render(s,o){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(j=>{j.layers.isEnabled(3)&&j instanceof mr&&(this.originalMaterials.set(j.id,j.material),j.material=WQ)}),s.shadowMap.needsUpdate=!0,s.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let _=this.renderToScreen?null:o;s.setRenderTarget(_),this.clearColorOnly&&s.clear(!0,!1,!0),this.clear&&s.clear(),s.render(this.scene,this.camera),this.clearDepth&&s.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((j,et)=>{let st=this.scene.getObjectById(et);st&&(st.material=j)})}},bx=class{constructor(s,{depthBuffer:o=!0,stencilBuffer:_=!1,multisampling:j=0,frameBufferType:et=0}={}){this.renderer=s,this.helperStartIndex=0,this.copyPass=new _m,this.depthTexture=null,this.timer=new A3,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(o,_,et,j,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(o,_,et,j,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(o,_,et,j,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(s)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(s){let o=this.inputBuffer,_=this.multisampling;_>0&&s>0?(this.inputBuffer.samples=s,this.outputBuffer.samples=s,this.inputBuffer.dispose(),this.outputBuffer.dispose()):_!==s&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(o.depthBuffer,o.stencilBuffer,o.texture.type,s,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(s){var o;if(this.renderer=s,s!==null){let _=s.getSize(new U$1),j=((o=s.getContext().getContextAttributes())==null?void 0:o.alpha)??!1,et=this.inputBuffer.texture[0].type;et===_r$1&&s.outputEncoding===at&&(this.inputBuffer.texture[0].encoding=at,this.outputBuffer.texture[0].encoding=at,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),s.autoClear=!1,this.setSize(_.width,_.height,!1);for(let st of this.passes)st.initialize(s,j,et)}}replaceRenderer(s,o=!0){let _=this.renderer,j=_.domElement.parentNode;return this.setRenderer(s),o&&j!==null&&(j.removeChild(_.domElement),j.appendChild(s.domElement)),_}createDepthTexture(){let s=this.depthTexture=new ns(this._width,this._height);return this.inputBuffer.depthTexture=s,this.inputBuffer.stencilBuffer?(s.format=Za,s.type=Xa):s.type=Ds,s}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let s of this.passes)s.setDepthTexture(null)}}createBuffer(s,o,_,j,et,st){let nt=this.renderer,ct=nt===null?new U$1:nt.getDrawingBufferSize(new U$1),At={minFilter:rt,magFilter:rt,wrapS:Xt,wrapT:Xt,stencilBuffer:o,depthBuffer:s},mt;return j>0?(mt=new dt(ct.width,ct.height,At),mt.samples=j):(et?(mt=new ry(ct.width,ct.height,2,At),mt.texture[1].type=Wn):mt=new dt(ct.width,ct.height,At),mt.depthTexture=new ns(2048,2048),mt.depthTexture.type=br),_===_r$1&&nt!==null&&nt.outputEncoding===at&&(Array.isArray(mt.texture)?mt.texture.forEach(gt=>gt.encoding=at):mt.texture.encoding=at),Array.isArray(mt.texture)?mt.texture.forEach((gt,_t)=>{gt.name=`EffectComposer.Buffer ${et} ${_t}`,gt.generateMipmaps=!1}):(mt.texture.name=`EffectComposer.Buffer ${et}`,mt.texture.generateMipmaps=!1),mt.name=st,mt}addPass(s,o){var ct;let _=this.passes,j=this.renderer,et=j.getDrawingBufferSize(new U$1),st=((ct=j.getContext().getContextAttributes())==null?void 0:ct.alpha)??!1,nt;if(s.MRTCompatible&&(nt=this.inputBuffer.texture[0].type),s.MRTCompatible||(nt=this.inputBuffer.texture.type),s.setRenderer(j),s.setSize(et.width,et.height),s.initialize(j,st,nt),this.autoRenderToScreen&&(_.length>0&&(_[_.length-1].renderToScreen=!1),s.renderToScreen&&(this.autoRenderToScreen=!1)),o!==void 0?_.splice(o,0,s):_.push(s),this.autoRenderToScreen&&(_[_.length-1].renderToScreen=!0),s.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let At=this.createDepthTexture();for(s of _)s.setDepthTexture(At)}else s.setDepthTexture(this.depthTexture)}setHelperStartIndex(s){this.helperStartIndex=s}removePass(s){let o=this.passes,_=o.indexOf(s);if(_!==-1&&o.splice(_,1).length>0){if(this.depthTexture!==null){let j=(et,st)=>et||st.needsDepthTexture;o.reduce(j,!1)||s.getDepthTexture()===this.depthTexture&&s.setDepthTexture(null)}this.autoRenderToScreen&&_===o.length&&(s.renderToScreen=!1,o.length>0&&(o[o.length-1].renderToScreen=!0))}}removeAllPasses(){let s=this.passes;s.length>0&&(this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!1),this.passes=[])}render(s){let o=this.renderer,_=this.copyPass,j=this.inputBuffer,et=this.outputBuffer,st=this.inputBufferSingle,nt=this.outputBufferSingle,ct=!1,At,mt,gt,_t;s===void 0&&(s=this.timer.update().getDelta());for(let Et of this.passes)Et.enabled&&(Et.MRTCompatible?Et.render(o,j,et,s,ct):Et.render(o,st,nt,s,ct),Et.needsSwap&&(ct&&(_.renderToScreen=Et.renderToScreen,At=o.getContext(),mt=o.state.buffers.stencil,mt.setFunc(At.NOTEQUAL,1,4294967295),_.render(o,j,et,s,ct),mt.setFunc(At.EQUAL,1,4294967295)),gt=j,_t=st,j=et,st=nt,et=gt,nt=_t),Et instanceof w3?ct=!0:Et instanceof S3&&(ct=!1))}setSize(s,o,_){let j=this.renderer;if(this._width=s,this._height=o,s===void 0||o===void 0){let st=j.getSize(new U$1);s=st.width,o=st.height}j.setSize(s,o,_);let et=j.getDrawingBufferSize(new U$1);this.inputBuffer.setSize(et.width,et.height),this.outputBuffer.setSize(et.width,et.height),this.inputBufferSingle.setSize(et.width,et.height),this.outputBufferSingle.setSize(et.width,et.height);for(let st of this.passes)st.setSize(et.width,et.height)}reset(){let s=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(s)}dispose(){for(let s of this.passes)s.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},qQ=new it({name:"CombineMaterial",uniforms:{inputBufferA:new le$2(null),inputBufferB:new le$2(null)},blending:Jt,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),Sx=class extends xi{constructor(s){super("HelperPass",void 0,s),this.MRTCompatible=!1,this.fullscreenMaterial=qQ,this.helperPass=new Zc(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new Zc(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let o=new yx({preset:La.LOW,edgeDetectionMode:of.COLOR});this.effectPass=new Kc(this.camera,o),this.rt=new dt(10,10,{minFilter:rt,magFilter:rt,wrapS:Xt,wrapT:Xt,depthBuffer:!0})}setSize(s,o){this.rt.setSize(s,o),this.effectPass.setSize(s,o)}set sceneHelpers(s){this.helperPass.setScene(s)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(s){this.helperPassOnTop.setScene(s)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(s){this.helperPass.setCamera(s),this.helperPassOnTop.setCamera(s)}initialize(s,o,_){super.initialize(s,o,_),this.effectPass.initialize(s,o,_)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(s,o,_){this.rt.depthTexture=o.depthTexture;let j=s.getClearAlpha();s.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(s,this.rt),this.helperPassOnTop.render(s,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(s,this.rt,_),this.fullscreenMaterial.uniforms.inputBufferA.value=_.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=o.texture,s.setClearAlpha(j),s.setRenderTarget(null),s.clear(),s.render(this.scene,this.camera)}},V3=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,U3=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,z3=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,k3=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,G3=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,j3=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,yf=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],$Q=new it({vertexShader:V3,fragmentShader:U3}),vf=new it({vertexShader:G3,fragmentShader:j3,uniforms:{texture_ao_lrez:new le$2(null),texture_depth_lrez:new le$2(null),texture_depth_hrez:new le$2(null),near:new le$2(null),far:new le$2(null)}}),wx=class extends xi{constructor(s,o){super("AmbientOcclusionPass",void 0,o),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let _=1024,j=1024;this.gBuffer=new dt(_,j,{type:go?Wn:br,depthTexture:new ns(_,j),minFilter:rt,magFilter:rt}),this.depthBufferHighRes=new dt(_,j,{depthTexture:new ns(_,j)}),this.aoBuffer=new dt(_,j,{minFilter:rt,magFilter:rt}),this.splineScene=s,this.splineCamera=o;let et=new Float32Array(yf.length*2);for(let nt=0;nt<yf.length;nt++){let ct=nt*2;et[ct+0]=yf[nt][0],et[ct+1]=yf[nt][1]}this.blueNoiseInDiskTexture=new gi(et,yf.length,1,Ju,br),this.blueNoiseInDiskTexture.wrapS=Os,this.blueNoiseInDiskTexture.wrapT=Os,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new it({vertexShader:z3,fragmentShader:k3,uniforms:{near:new le$2(null),far:new le$2(null),fov:new le$2(null),proj_info:new le$2(new Ze),is_ortho:new le$2(!1),resolution:new le$2(new U$1),radius_of_influence:new le$2(8),radius_in_screen_space:new le$2(1),exponent:new le$2(1),ao_color:new le$2(new E$2),bias:new le$2(.5),texture_depth:new le$2(null),texture_normals:new le$2(null),texture_blue_noise:new le$2(null),texture_blue_noise_in_disk:new le$2(this.blueNoiseInDiskTexture),frame_index:new le$2(0),fog_enabled:new le$2(!1),fog_near:new le$2(1),fog_far:new le$2(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new dt(_,j,{minFilter:rt,magFilter:rt,wrapS:Xt,wrapT:Xt,depthBuffer:!1,type:br});let st=new yx({preset:La.ULTRA,edgeDetectionMode:of.COLOR});this.effectPass=new Kc(this.camera,st)}initialize(s,o,_){super.initialize(s,o,_),this.effectPass.initialize(s,o,_)}setBlueNoiseTexture(s){this.hbaoMaterial.uniforms.texture_blue_noise.value=s}setSize(s,o){this._width=s,this._height=o,this.depthBufferHighRes.setSize(s,o);let _=this._runHalfRes?.5:1,j=s*_,et=o*_;this.gBuffer.setSize(j,et),this.aoBuffer.setSize(j,et),this.hbaoMaterial.uniforms.resolution.value.set(j,et),this.aaBuffer.setSize(j,et),this.effectPass.setSize(j,et)}get runHalfRes(){return this._runHalfRes}set runHalfRes(s){this._runHalfRes=s,this.setSize(this._width,this._height)}setCamera(s){this.splineCamera=s}setScene(s){this.splineScene=s}setDepthTexture(s){this.depthBufferHighRes.depthTexture=s,vf.uniforms.texture_depth_hrez.value=s,vf.needsUpdate=!0}render(s,o,_){this.splineScene.overrideMaterial=$Q;let j=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),s.setRenderTarget(this.gBuffer),s.clear(),s.render(this.splineScene,this.splineCamera),s.setRenderTarget(this.depthBufferHighRes),s.clear(),s.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=j,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let et=this.splineCamera.perspCamera.projectionMatrix.elements,st=2/et[0],nt=2/et[5],ct=-(1-et[8])/et[0],At=-(1+et[9])/et[5];this.hbaoMaterial.uniforms.proj_info.value.set(st,nt,ct,At);let mt=this.splineCamera.perspCamera.fov*(Math.PI/180),gt=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(mt*.5)*2),_t=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*gt;this.hbaoMaterial.uniforms.radius_in_screen_space.value=_t,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let et=this.splineCamera.orthoCamera.projectionMatrix.elements,st=2/et[0],nt=2/et[5],ct=-(1+et[12])/et[0],At=-(1-et[13])/et[5];this.hbaoMaterial.uniforms.proj_info.value.set(st,nt,ct,At);let mt=.5*(this.hbaoMaterial.uniforms.resolution.value.y/nt),gt=this.hbaoMaterial.uniforms.radius_of_influence.value*mt;this.hbaoMaterial.uniforms.radius_in_screen_space.value=gt,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,s.setRenderTarget(this.aoBuffer),s.clear(),s.render(this.scene,this.camera),this.fullscreenMaterial=vf,vf.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,vf.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,vf.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,s.setRenderTarget(s.aoRenderTarget),s.clear(),s.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,s.setRenderTarget(this.aaBuffer),s.clear(),s.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(s,this.aaBuffer,s.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},eK=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tK=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,Ax=class extends hn{constructor(){super(new it({vertexShader:eK,fragmentShader:tK,uniforms:{tInput:new le$2(null),tMap:new le$2(null),uResolution:new le$2(new U$1),uSize:new le$2(new U$1),uCoords:new le$2(new U$1),uScale:new le$2(1),uSceneColor:new le$2(new We(16711680)),uDPR:new le$2(1),uCurrent:new le$2(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(s){this.uniforms.tMap.value=s}},rK=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iK=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,nK=[],Ex=class extends hn{constructor(){super(new it({vertexShader:rK,fragmentShader:iK,uniforms:{toScene:new le$2(null),fromScene:new le$2(null),uResolution:new le$2(new U$1),uDPR:new le$2(1),mixRatio:new le$2(0),threshold:new le$2(.1),useTexture:new le$2(0),tMixTexture:{value:nK[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(s){this.uniforms.fromScene.value=s}},sK=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,oK=`
uniform sampler2D inputBuffer;
uniform sampler2D blurredInputBuffer;
uniform sampler2D overlay;
uniform float blurIntensity;

uniform vec2 uResolution;
uniform float uDPR;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( overlay, screenUv );
	vec4 texel2 = texture2D( inputBuffer, screenUv );
	vec4 texel3 = texture2D( blurredInputBuffer, screenUv );

	float blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;
    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );
}
`,Mx=class extends hn{constructor(){super(new it({vertexShader:sK,fragmentShader:oK,uniforms:{inputBuffer:new le$2(null),blurredInputBuffer:new le$2(null),overlay:new le$2(null),uResolution:new le$2(new U$1),uDPR:new le$2(1),blurIntensity:new le$2(0)}})),this._blurEnabled=!1,this.blurTarget=new dt(1,1,{minFilter:rt,magFilter:rt,wrapS:Xt,wrapT:Xt}),this.blurPass=new gx({width:window.innerWidth,height:window.innerHeight,kernelSize:Dm.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(s){this.uniforms.overlay.value=s}setResolution(s,o,_=1){this.uniforms.uResolution.value.set(s,o),this.uniforms.uDPR.value=_,this.blurPass.setSize(s,o),this.blurTarget.setSize(s,o),this.blurPass.setSize(s,o)}get uiCanvas(){return this._uiCanvas}set uiCanvas(s){this._uiCanvas=s,s.texture&&(this.uniforms.overlay.value=s.texture);let o=s.frame;if(o){let _=o.data.backgroundBlur,j=_.radius;this._blurEnabled=_.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=j/3}}render(s,o,_,j,et){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(s,o,this.blurTarget,j,et)),super.render(s,o,_,j,et)}},aK=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lK=`
uniform sampler2D tInput;
uniform sampler2D tOverlayImage;
varying vec2 vUv;
uniform vec2 uResolution;
uniform vec2 uRightBottom;
uniform vec2 uImageSize;
uniform float uScale;
uniform float uDPR;

vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}

vec4 drawFixedSizeImage(sampler2D image, vec2 screenUV, vec2 imageSize, vec2 imageCoords, vec2 screenSize, float dpr) {
	vec2 uv = (screenUV * screenSize * dpr - imageCoords) / (imageSize * dpr);
	if (uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0) {
		return vec4(0.0);
	}
	return texture2D(image, uv);
}

void main() {
    vec2 screenUV = gl_FragCoord.xy / (uResolution.xy * uDPR);
	vec2 imageCoords = vec2(uResolution.x * uDPR - uImageSize.x * uScale * uDPR - uRightBottom.x * uDPR, uRightBottom.y * uDPR);
    vec4 background = texture2D(tInput, screenUV);
    vec4 image = drawFixedSizeImage(tOverlayImage, screenUV, uImageSize * uScale, imageCoords, uResolution, uDPR);
    gl_FragColor = vec4(blendNormal(background.rgb, image.rgb, image.a), max(background.a, image.a));
}
`,Tx=class extends hn{constructor(){super(new it({vertexShader:aK,fragmentShader:lK,uniforms:{tInput:new le$2(null),tOverlayImage:new le$2(null),uResolution:new le$2(new U$1),uImageSize:new le$2(new U$1),uRightBottom:new le$2(new U$1(20,20)),uScale:new le$2(.25),uDPR:new le$2(1)}}),"tInput")}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tOverlayImage.value}set texture(s){this.uniforms.tOverlayImage.value=s,this.uniforms.uImageSize.value.set(s.image.width,s.image.height)}};function W3(s,o){return o&&o.enabled&&s.push(o.effect),s}var cK=s=>Object.values(Pt).includes(s)?s:Pt.NORMAL,Im=class extends pr{constructor(s,o){super(),this._needsDOFResize=o,this.postprocessingState=Gh.defaultData,this._scene=new ei,this._camera=new wr$1,this.effects=new Map,this.blueNoiseTexture=new gi,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new yy,this.renderer=s,this.debug=!1,this.effects.set("bloom",new af),this.effects.set("chromaticAberration",new cf),this.effects.set("vignette",new ff),this.effects.set("noise",new df),this.effects.set("colorAverage",new uf),this.effects.set("hueSaturation",new hf),this.effects.set("brightnessContrast",new lf),this.effects.set("depthOfField",new pf),this.effects.set("pixelation",new mf),this.effectComposer=new bx(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new Zc(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new xx(this.scene,this.camera,this.renderer),this.aoPass=new wx(this.scene,this.camera),this.taaPass=new vx,this.taaPass.renderToScreen=!1,this.helperPass=new Sx(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new Ax,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new Mx,this.uiOverlayPass.enabled=!1,this.logoOverlayPass=new Tx,this.logoOverlayPass.enabled=!1,this.sceneTransitionPass=new Ex,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(s){s!==void 0?(this.stylesOverlayPass.texture=s,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(s){this.helperPass.sceneHelpers=s}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(s){this.helperPass.sceneHelpersOnTop=s}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(s){this._scene=s,this.opaquePass.setScene(s),this.transmissionPass.setScene(s),this.aoPass.setScene(s)}get camera(){return this._camera}set camera(s){let o=this._camera!==s;this._camera=s,this.opaquePass.setCamera(s),this.transmissionPass.setCamera(s),o&&this.transmissionPass.updatePasses(this.renderer),this.aoPass.setCamera(s),this.helperPass.setCamera(s),this.effects.get("depthOfField").setCamera(s)}updateRenderToScreen(){let s=!1;for(let o=this.effectComposer.passes.length-1;o>=0;o--){let _=this.effectComposer.passes[o];if(_.enabled===!0&&!s&&this._renderToScreen){_.renderToScreen=!0,s=!0;continue}_.renderToScreen=!1}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(s){this.blueNoiseTexture=new gi(s,128,128),this.blueNoiseTexture.wrapS=Os,this.blueNoiseTexture.wrapT=Os,this.blueNoiseTexture.minFilter=Vt,this.blueNoiseTexture.magFilter=Vt,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(s,o,_,j,et,st,nt,ct){this.aoPass.enabled=s,this.aoPass.radius=o,this.aoPass.bias=_,this.aoPass.aoColor=j,this.aoPass.fogEnabled=et,this.aoPass.fogNear=st,this.aoPass.fogFar=nt,this.aoPass.runHalfRes!==!ct&&(this.aoPass.runHalfRes=!ct)}setTransmissionPassEnabled(s){this.transmissionPass.enabled=s,this.opaquePass.hasTransmissionPass=s}_initPasses(){var s,o,_;if((s=this.uvEffectPass)==null||s.dispose(),(o=this.effectPass)==null||o.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let j=[this.effects.get("pixelation")].reduce(W3,[]);j.length>0&&(this.uvEffectPass=new Kc(this.camera,...j),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let et=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("depthOfField"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(W3,[]);if(et.length>0&&(this.effectPass=new Kc(this.camera,...et),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass),this._needsDOFResize&&((_=this.effects.get("depthOfField"))==null?void 0:_.enabled)&&window!==void 0)){let st=this.renderer.viewportWidth,nt=this.renderer.viewportHeight;this.renderer.setSize(st-1,nt-1),this.renderer.setSize(st,nt)}}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass),this.effectComposer.addPass(this.logoOverlayPass)}_initCopyPass(){if(this._savePass)return;let s=new U$1;this.renderer.getDrawingBufferSize(s),this._rt=new dt(s.x,s.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:Os,wrapT:Os}),this._rt.samples=0,this._savePass=new _m(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(s){this._rt=s,this._savePass=new _m(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(s){if(this._renderToScreen===s)return;let o=this.effectComposer;!o||(s===!0?o.removePass(this._savePass):o.addPass(this._savePass),this._renderToScreen=s,this.updateRenderToScreen())}set sceneTransitionFromTexture(s){s!==this.sceneTransitionPass.texture&&(s!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=s)}setWatermark(s){this.logoOverlayPass.enabled=s!==null,s&&(this.logoOverlayPass.texture=s)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(s){let{enabled:o,..._}=s,j=!1;o!==this.postprocessingState.enabled&&(j=!0);for(let et of Object.entries(_)){let st=et[1],nt=this.effects.get(et[0]);if(nt){nt.enabled!==st.enabled&&(j=!0),nt.enabled=st.enabled;for(let[ct,At]of Object.entries(st))ct==="blendFunction"?nt.blendFunction=cK(At):nt[ct]=At}}this.postprocessingState=s,j&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(s,o,_,j){s instanceof Ze?(this.effectComposer.inputBuffer.scissor.set(s.x,s.y,s.z,s.w),this.effectComposer.outputBuffer.scissor.set(s.x,s.y,s.z,s.w)):(this.effectComposer.inputBuffer.scissor.set(s,o,_,j),this.effectComposer.outputBuffer.scissor.set(s,o,_,j));let et=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(et),this.effectComposer.outputBuffer.scissor.multiplyScalar(et),this.renderer.setScissor(s,o,_,j)}setScissorTest(s){this.effectComposer.inputBuffer.scissorTest=s,this.effectComposer.outputBuffer.scissorTest=s,this.renderer.setScissorTest(s)}setViewport(s,o,_,j){s instanceof Ze?(this.effectComposer.inputBuffer.viewport.copy(s),this.effectComposer.outputBuffer.viewport.copy(s)):(this.effectComposer.inputBuffer.viewport.set(s,o,_,j),this.effectComposer.outputBuffer.viewport.set(s,o,_,j))}resize(s,o,_){if(this.effectComposer.setSize(s,o,_),this._rt){let j=this.renderer.getPixelRatio();this._rt.setSize(s*j,o*j)}}dispose(){var s,o;(s=this.uvEffectPass)==null||s.dispose(),(o=this.effectPass)==null||o.dispose(),this.effectComposer.dispose()}},uK=s=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${s};
const int gShadowSamples = ${s};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,hK=xt.lights_fragment_begin,dK=xt.shadowmask_pars_fragment,q3=null,fK=s=>{switch(s){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},Y3=(s="medium")=>{if(q3===s)return!1;q3=s;let o=fK(s);xt.shadowmap_pars_fragment=uK(o);let _=hK.slice();_=_.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),_=_.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),xt.lights_fragment_begin=_;let j=dK.slice();return j=j.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),xt.shadowmask_pars_fragment=j,!0},pK=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;
#include <skinning_pars_vertex>

void main()
{
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
vec3 transformed = vec3(position);
#include <skinning_vertex>

vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(transformed, 1.0));
}
`,mK=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,Cx=new it({vertexShader:pK,fragmentShader:mK,uniforms:{depthContrast:{value:1}}}),X3=new $t,Q3=new U$1,Px=class extends _w{constructor(s){super(s),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new U$1,this.dummyCamera=new wr$1,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(et=!0,st=!0,nt=!0)=>{let ct=this.getContext(),At=0;et&&(At|=ct.COLOR_BUFFER_BIT),st&&(At|=ct.DEPTH_BUFFER_BIT),nt&&(At|=ct.STENCIL_BUFFER_BIT),ct.clear(At),ct.clearBufferfv(ct.COLOR,1,[0,0,0,1])},this.pipeline=new Im(this,(s==null?void 0:s.needsDOFResize)??!1),this.autoClear=!1;let o=this.setPixelRatio.bind(this),_=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=Ay,this.dummyCamera.matrixAutoUpdate=!1,this.domElement.removeAttribute("data-engine");let j=this.getContext();if(j&&"drawingBufferColorSpace"in j)try{j.drawingBufferColorSpace="display-p3"}catch(et){console.warn(et)}this.setPixelRatio=et=>{this._pixelRatio!==et&&(this._pixelRatio=et,o(et))},this.setSize=(et,st,nt=!0)=>{var ct,At;(this.viewportWidth!==et||this.viewportHeight!==st)&&(this.viewportWidth=et,this.viewportHeight=st,_(et,st,nt),(ct=this.normalRenderTarget)==null||ct.setSize(et*this._pixelRatio,st*this._pixelRatio),this._resizeTransmission(et,st),(At=this.transmissionDepthTarget)==null||At.setSize(et*this._pixelRatio/2,st*this._pixelRatio/2),this.pipeline.resize(et,st,nt))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new dt(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:rt,magFilter:rt,wrapS:Xt,wrapT:Xt,depthBuffer:!1}))}_resizeTransmission(s,o){var _,j;(_=this.transmissionRenderTarget)==null||_.setSize(s*this._pixelRatio/(this.hdTransmission?1:2),o*this._pixelRatio/(this.hdTransmission?1:2)),(j=this.aoRenderTarget)==null||j.setSize(s*this._pixelRatio/1,o*this._pixelRatio/1)}get hdTransmission(){return $e$2.transmissionLod.value===1}set hdTransmission(s){$e$2.transmissionLod.value=s===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new dt(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:dc,magFilter:rt,wrapS:Xt,wrapT:Xt,depthBuffer:!1}),this.transmissionDepthTarget=new dt(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:Vt,magFilter:Vt,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new dt(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Vt,magFilter:Vt,type:br,depthTexture:new ns(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(s,o,_){this.normalRenderTarget&&(this.setClearColor(0),_.layers.enable(8),_.layers.disable(0),_.layers.disable(3),o.traverseEntity(j=>{j.layers.isEnabled(8)&&(j.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),_ instanceof wr$1?Cx.uniforms.depthContrast.value=(_.far-_.near)/1e4:Cx.uniforms.depthContrast.value=1,o.overrideMaterial=Cx,this.render(o,_),this.setClearColor(o.bgColor,o.bgColor.a),this.setRenderTarget(null),o.overrideMaterial=s.wireframeState?_x:null,_.layers.enable(0),_.layers.enable(3),o.traverseEntity(j=>{j.layers.isEnabled(8)&&(j.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(s,o,_=1){this.dummyCamera.updateCameraState(o.dataPatched),this.dummyCamera.matrix.copy(o.matrixWorld);let j=o.height,et=o.width,st=this.viewportWidth/this.viewportHeight;et<j?et=j*st:j=et/st,this.dummyCamera.setViewplaneSize(et,j);for(let nt=0;nt<_;nt++)this.renderSplineScene(s,this.dummyCamera)}renderSplineScene(s,o,{sceneHelpers:_=this.sceneHelpers,sceneHelpersOnTop:j=this.sceneHelpersOnTop,overrideTransmission:et=void 0,overrideNormal:st=void 0}={}){var Et;let nt=s instanceof Hl?s.activePage:s,ct=nt.visible;nt.visible=!0;let At=nt.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(o)),this.setClearColor(nt.bgColor,nt.bgColor.a),nt.penumbraSizeArray.forEach((Ct,Bt)=>{$e$2.penumbraSize.value[Bt]=Ct}),$e$2.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?$e$2.resolution.value.set(this.resolution.x,this.resolution.y):$e$2.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),st!==void 0?($e$2.normalRenderTarget.value=st,$e$2.normalRenderTargetDepth.value=X3):At.needsNormal()&&(this.createNormalRenderTarget(),$e$2.normalRenderTarget.value=this.normalRenderTarget.texture,$e$2.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(At,nt,o));let mt=nt.data.ao,gt=mt.occlusion;if(gt&&(this.createAORenderTarget(),$e$2.aoRenderTarget.value=this.aoRenderTarget.texture),$e$2.aoEnabled.value=gt,this.pipeline.setAmbientOcclusionParams(mt.occlusion,mt.radius,mt.bias,nt.aoColor,nt.fog!==null,nt.backupFog.near,nt.backupFog.far,mt.aoFullRes&&!go),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&((Et=nt.uiCanvas)==null?void 0:Et.enabled)&&nt.uiCanvas.texture&&nt.uiCanvas.texture.image.width>0){let Ct=this.getSize(Q3),Bt=this.getPixelRatio();(nt.uiCanvas.width!==this.viewportWidth||nt.uiCanvas.height!==this.viewportHeight||nt.uiCanvas.dpr!==Bt)&&nt.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight},Bt),nt.uiCanvas.render(this),this.pipeline.uiOverlayPass.uiCanvas=nt.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(Ct.x,Ct.y,Bt),this.pipeline.updateRenderToScreen()}else this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen();if(this.pipeline.logoOverlayPass.enabled){let Ct=this.getSize(Q3),Bt=this.getPixelRatio();this.pipeline.logoOverlayPass.uniforms.uResolution.value.set(Ct.x,Ct.y),this.pipeline.logoOverlayPass.uniforms.uDPR.value=Bt}let _t=!1;if(et!==void 0)$e$2.transmissionRenderTarget.value=et,$e$2.transmissionRenderTargetDepth.value=X3,this.pipeline.setTransmissionPassEnabled(!1);else{let Ct=At.needsTransmission();Ct&&(this.transmissionRenderTarget===void 0&&(_t=!0),this.createTransmissionRenderTarget(),$e$2.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,$e$2.aspectRatio.value=cR(this.viewportWidth,this.viewportHeight),$e$2.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(Ct)}o.layers.enable(3),o.layers.enable(8),this.pipeline.sceneHelpers=_,this.pipeline.sceneHelpersOnTop=j,this.pipeline.scene=nt,this.pipeline.camera=o,_t&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==nt.postprocessing&&(this.pipeline.updatePostprocessing(nt.postprocessing),!_&&!j&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),nt.overrideMaterial=At.wireframeState?_x:null,this.pipeline.render(),$e$2.frameIndex.value=($e$2.frameIndex.value+1)%16,o instanceof wr$1&&o.copyHistory(),nt.visible=ct}renderFromSceneForSceneTransitionPass(s,o,_){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(s,o),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=_,this.sceneTransitionTimeRemaining=_,this.pipeline.renderToScreen=!0;let j=this.pipeline.sceneTransitionPass.uniforms;j.uDPR.value=window.devicePixelRatio,j.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var s,o,_,j,et,st;this._superDispose(),this.pipeline.dispose(),(s=this.aoRenderTarget)==null||s.dispose(),(o=this.transmissionRenderTarget)==null||o.dispose(),(_=this.transmissionDepthTarget)==null||_.dispose(),(j=this.normalRenderTarget)==null||j.dispose(),(st=(et=this.normalRenderTarget)==null?void 0:et.depthTexture)==null||st.dispose()}},xf=class extends Fo(Sy){constructor(s,o=15,_=10066329){super(s,o,_),this.object=s,this.added=!1,this.name=`DirectionalLightHelper: ${s.uuid}`}raycast(s,o){Vo(this.object,xf.geometryHelper,s,o)}},bf=class extends Fo(by){constructor(s,o=15,_=6710886){super(s,o,_),this.object=s,this.name=`PointLightHelper: ${s.uuid}`}raycast(s,o){Vo(this.object,bf.geometryHelper,s,o)}},Dx=class extends Fo(xy){constructor(s,o=6710886){super(s,o),this.object=s,this.name=`SpotLightHelper: ${s.uuid}`}raycast(s,o){Vo(this.object,Dx.geometryHelper,s,o)}update(){if(this.object!==void 0){let s=Dx._vector,o=this.object.distance?this.object.distance:1e3,_=o*Math.tan(this.object.angle);this.cone.scale.set(_,_,o),s.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(s);let j=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let et=0,st=this.cone.material.length;et<st;et++)this.cone.material[et].color.set(j);else this.cone.material.color.set(j)}}},Om=Dx;Om._vector=new E$2;var Sf=class extends sn{constructor(){super(),this.caretIndex=0,this._caretVisibleAlpha=1,this._selectionVisibleAlpha=.3,this.current={start:0,end:void 0},this.matrixAutoUpdate=!1,this.caretMesh=new Ut(new Li(1,1),new on$1({transparent:!0,opacity:0,side:fi})),this.add(this.caretMesh),this.selectionMesh=new Ut(new Li(1,1),new on$1({color:2857471,transparent:!0,depthTest:!1,depthWrite:!1,opacity:0,side:fi})),this.add(this.selectionMesh),this.hide()}get caretHeight(){var s;return((s=this.object)==null?void 0:s.AD)??0}show(s){this.visible=!0,this.object=s,this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.y=-this.caretHeight*.5,this.setCaretPosition(this.caretIndex),this.update()}hide(){this.visible=!1}update(){if(this.object===void 0)return;this.updateHelperMatrix();let{depth:s}=this.object.geometry.userData.parameters;this.caretMesh.position.z=s,this.selectionMesh.position.z=s}updateHelperMatrix(){if(this.object===void 0)return;let s=this.object,o=s.parent;o!==null&&o.updateWorldMatrix(!0,!1),s.matrixAutoUpdate&&s.updateMatrix(),o!==null?(this.matrixWorld.multiplyMatrices(o.matrixWorld,s.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,s.matrix)):this.matrixWorld.multiplyMatrices(s.hiddenMatrix,s.matrix),this.matrix.copy(this.matrixWorld);for(let _ of this.children)_.matrixWorld.copy(this.matrixWorld);s.updateWorldMatrix(!0,!0)}setCaretColor(s){let o=this.caretMesh.material;o.color.setRGB(s.r,s.g,s.b);let _=this._caretVisibleAlpha===o.opacity;this._caretVisibleAlpha=s.a,_&&(o.opacity=this._caretVisibleAlpha)}setSelectionColor(s){this.selectionMesh.material.color.setRGB(s.r,s.g,s.b)}setCaretPosition(s,o={}){if(this.object===void 0)return;this.caretIndex=s;let _=this.object.wrappedText,[j,et]=Ix(_,s),[st,nt]=s>0?Ix(_,s-1):[null,null];(s>0&&_.length?_[st].charAt(nt):null)===`
`&&(j++,et=0),this.current.start=s,this.current.end=void 0;let[ct,At]=zE(this.object,j,et),{AD:mt,descender:gt}=this.object,_t=gt+mt*.5,{width:Et,height:Ct,depth:Bt}=this.object.geometry.userData.parameters,Dt=typeof Et=="string"?0:Et,Ft=typeof Ct=="string"?0:Ct;this.caretMesh.scale.set(1,this.caretHeight,1),this.caretMesh.position.set(ct-Dt*.5,At+_t+Ft*.5,Bt),this.hideSelectionMesh(),this.showCaretMesh()}setSelection(s,o){if(this.object===void 0)return;let _=this.object.wrappedText;this.current.start=s,this.current.end=o;let j=[],et=[],st=vK(_,s,o),{lineHeight:nt,AD:ct,descender:At}=this.object,mt=At+ct*.5-nt*.5;for(let[Ft,Rt,Nt]of st)if(Rt!==Nt){let[Gt,dr]=zE(this.object,Ft,Rt),[ts,es]=zE(this.object,Ft,Nt);dr+=mt,es+=mt,es+=nt;let ds=j.length/3;j.push(Gt,dr,0),j.push(ts,dr,0),j.push(ts,es,0),j.push(Gt,es,0),et.push(ds+0,ds+1,ds+2),et.push(ds+2,ds+3,ds+0)}let gt=new _e;gt.setIndex(et),gt.setAttribute("position",new Me(j,3));let{width:_t,height:Et,depth:Ct}=this.object.geometry.userData.parameters,Bt=typeof _t=="string"?0:_t,Dt=typeof Et=="string"?0:Et;this.selectionMesh.geometry.dispose(),this.selectionMesh.geometry=gt,this.selectionMesh.position.x=-Bt*.5,this.selectionMesh.position.y=Dt*.5,this.selectionMesh.position.z=Ct,this.showSelectionMesh(),this.hideCaretMesh()}getSelectionFromPosition(s,o,_="previous"){if(this.object===void 0||this.object.font===void 0)return;let j=this.object.wrappedText,et=j.length,st=this.object.lineHeight,nt=et*st,{height:ct,verticalAlign:At}=this.object.geometry.userData.parameters,mt=typeof ct=="string"?0:ct,gt=0;At===3?gt=mt-nt:At===2&&(gt=mt*.5-nt*.5);let _t=Math.min(Math.floor(Math.max(Math.min(-o-gt,nt),0)/st),et-1),Et=this.object.charCoords[_t],Ct=this.object.charWidths[_t],Bt=0,Dt=!1;if(_==="previous"){for(let Ft=0;Ft<Et.length;Ft++)if(Et[Ft][0]+Ct[Ft]*.5-s>0){Bt=Ft,Dt=!0;break}}else if(_==="closest"){let Ft=1/0;for(let Rt=0;Rt<Et.length;Rt++){let Nt=Et[Rt][0]+Ct[Rt]*.5,Gt=Math.abs(Nt-s);Gt<Ft&&(Ft=Gt,Bt=Rt,Dt=!0)}}else for(let Ft=0;Ft<Et.length;Ft++){let Rt=Et[Ft][0],Nt=Et[Ft][0]+Ct[Ft];if(s>=Rt&&s<Nt){Bt=Ft,Dt=!0;break}}return Dt||(Bt=Et.length),{index:this.getGlobalIndexFromLineAndCharIndexes(j,_t,Bt),lineIndex:_t,characterIndex:Bt}}getGlobalIndexFromLineAndCharIndexes(s,o,_){return s.slice(0,o).reduce((j,et)=>j+=et.length,0)+_}showSelectionMesh(){this.selectionMesh.material.opacity=this._selectionVisibleAlpha}hideSelectionMesh(){this.selectionMesh.material.opacity=0}showCaretMesh(){this.caretMesh.material.opacity=this._caretVisibleAlpha}hideCaretMesh(){this.caretMesh.material.opacity=0}};function zE(s,o,_){let{charCoords:j,charWidths:et,initialOffsetY:st,lineHeight:nt}=s;if(j[o]&&j[o].length===0||j.length===0){let gt=0,{horizontalAlign:_t}=s.data.geometry,Et=s.wrappedText,{width:Ct}=s.geometry.userData.parameters;return Et.length===1&&Et[0].length===0&&(_t===3?gt=Ct*.5:_t===2&&(gt=Ct)),[gt,st-nt*o]}let ct=j[o];if(ct===void 0||ct.length===0)return[0,0];let[At,mt]=ct[Math.min(_,ct.length-1)];return _>=ct.length&&(At+=et[o][_-1]),[At,mt]}function Ix(s,o){var j;let _=0;for(let et=0;et<s.length;et++){let st=s[et],nt=o-_;if(nt<=st.length)return[et,nt];_+=st.length}return[Math.max(0,s.length-1),((j=s[s.length-1])==null?void 0:j.length)??0]}function vK(s,o,_){let[j,et]=Ix(s,o),[st,nt]=Ix(s,_),ct=[];et>=s[j].length&&(j++,et=0);for(let At=j;At<=st;At++){let mt=s[At],gt=At===j?et:0,_t=At===st?nt:mt.length;ct.push([At,gt,_t])}return ct}function K3(s,o){let _=ri.fromHex(3223857),j=.8;for(let et of s.layers){if(et.data.type==="light"||et.data.type==="displace"||et.data.type==="fresnel"||et.data.type==="matcap"||et.data.type==="texture"||et.data.type==="toon"||et.data.type==="outline"||et.data.type==="transmission"||et.data.type==="noise")continue;let st=typeof et.data.alpha=="string"?Number(o.getVariable(et.data.alpha)):et.data.alpha;if(et.data.type==="color"&&st>.3){_=xK(et.data.color,o),j=st;break}else if((et.data.type==="depth"||et.data.type==="gradient")&&st>.3){let nt=bK(et.data);_={r:nt[0],g:nt[1],b:nt[2]},j=typeof et.data.alpha=="string"?1:et.data.alpha;break}}return{..._,a:j}}function xK(s,o){return typeof s=="string"?o.data.colors[s]:s}function bK(s){return s.colors[0]}function SK(s,o){s.shadow.camera.right=o/2,s.shadow.camera.left=-o/2,s.shadow.camera.top=o/2,s.shadow.camera.bottom=-o/2,s.shadow.needsUpdate=!0}var wf=class extends sf(gy,xf){constructor(s,o,_){super(),this.super_Entity(s,o),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let j=this.shadow.camera;j.top=1250,j.bottom=-1250,j.right=1250,j.left=-1250,j.near=-1e4,j.far=2500;let et=new ol(this.shadow.camera);et.visible=!1,this.gizmos.shadowmap=et}update(){this.shadow.camera.updateProjectionMatrix();for(let s in this.gizmos){let o=this.gizmos[s];o instanceof ol&&o.update()}}updateMatrixWorld(s){super.updateMatrixWorld(s),this.objectHelper&&this.objectHelper.update()}updateState(s,o){this.updateState_Light(s,o);let _=s.depth!==void 0&&s.depth!==this.shadow.camera.far||s.size!==void 0&&s.size/2!==this.shadow.camera.right;s.size!==void 0&&SK(this,s.size),s.shadowRadius!==void 0&&(this.shadow.radius=s.shadowRadius),s.shadowResolution!==void 0&&(this.shadow.mapSize.set(s.shadowResolution,s.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),s.penumbraSize!==void 0&&o.scene.markPenumbraSizeDirty(),_&&this.update()}},Z3=new E$2,J3=new E$2,$3=new Qe,Af=class extends sf(py,Om){constructor(s,o,_){super(),this.super_Entity(s,o),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let j=this.shadow.camera;j.fov=we.RAD2DEG*2*this.angle,j.aspect=1,j.near=100,j.far=2500;let et=new ol(this.shadow.camera);et.visible=!1,this.gizmos.shadowmap=et,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let s in this.gizmos){let o=this.gizmos[s];o instanceof ol&&o.update()}}updateMatrixWorld(s){super.updateMatrixWorld(s),J3.setFromMatrixPosition(this.matrixWorld),$3.setFromRotationMatrix(this.matrixWorld),Z3.copy(this.up).applyQuaternion($3).negate().multiplyScalar(this.distance),this.target.position.copy(J3).add(Z3),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(s,o){this.updateState_Light(s,o),s.distance!==void 0&&(this.distance=s.distance),s.decay!==void 0&&(this.decay=s.decay),s.angle!==void 0&&(this.angle=s.angle),s.penumbra!==void 0&&(this.penumbra=s.penumbra),s.shadowRadius!==void 0&&(this.shadow.radius=s.shadowRadius),s.penumbraSize!==void 0&&o.scene.markPenumbraSizeDirty(),s.shadowResolution!==void 0&&(this.shadow.mapSize.set(s.shadowResolution,s.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};function wK(s){let o=(s[0][0]+s[1][1])/2,_=(s[0][0]-s[1][1])/2,j=(s[1][0]+s[0][1])/2,et=(s[1][0]-s[0][1])/2,st=Math.sqrt(o*o+et*et),nt=Math.sqrt(_*_+j*j),ct=st+nt,At=st-nt,mt=Math.atan2(j,_),gt=Math.atan2(et,o),_t=(gt-mt)/2,Et=(gt+mt)/2,Ct=[[Math.cos(Et),Math.sin(Et)],[-Math.sin(Et),Math.cos(Et)]],Bt=[[ct,0],[0,At]],Dt=[[Math.cos(_t),Math.sin(_t)],[-Math.sin(_t),Math.cos(_t)]];return Ct[0][0]*=-1,Ct[0][1]*=-1,Dt[0][0]*=-1,Dt[1][0]*=-1,[Ct,Bt,Dt]}function Ox(s,o){return[[s[0][0]*o[0][0]+s[0][1]*o[1][0],s[0][0]*o[0][1]+s[0][1]*o[1][1]],[s[1][0]*o[0][0]+s[1][1]*o[1][0],s[1][0]*o[0][1]+s[1][1]*o[1][1]]]}function eL(s){return[[s[0][0],s[1][0]],[s[0][1],s[1][1]]]}function tL(s){let[o,_,j]=wK(s),et=Ox(o,eL(j)),st=Ox(Ox(j,_),eL(j)),nt=Math.atan2(et[1][0],et[0][0]),ct=[st[0][0],st[1][1]],At=[st[0][1]/st[1][1],st[1][0]/st[0][0]];return{rotation:nt,scale:ct,shear:At}}function rL({rotation:s,scale:o,shear:_}){let j=Math.cos(s),et=Math.sin(s),st=[[j,-et],[et,j]],nt=[[o[0],_[0]*o[1]],[_[1]*o[0],o[1]]],ct=Ox(st,nt);return[ct[0][0],ct[1][0],ct[0][1],ct[1][1]]}var St;(s=>{function o(){return[1,0,0,0,1,0,0,0,1]}s.identity=o;function _(es,ds=s.identity()){for(let tn=0,rn=es.length;tn<rn;tn++)ds[tn]=es[tn];return ds}s.copy=_;function j(es,ds,tn,rn,un,$n){return s.setAbcdef(s.identity(),es,ds,tn,rn,un,$n)}s.create=j;function et(es,ds,tn,rn,un,$n,kn){return es[0]=ds,es[1]=rn,es[2]=$n,es[3]=tn,es[4]=un,es[5]=kn,es}s.setAbcdef=et;function st(es,ds){let[tn,rn,un,$n,kn,lo]=ct(es),[Il,cu,Ko,ru,Tn,ao]=ct(ds),uu=Il*tn+cu*un,hu=Il*rn+cu*$n,tA=Ko*tn+ru*un,Sv=Ko*rn+ru*$n,W0=Tn*tn+ao*un+kn,l1=Tn*rn+ao*$n+lo;return s.create(uu,hu,tA,Sv,W0,l1)}s.append=st;function nt(es,ds){let[tn,rn,un,$n,kn,lo]=ct(es),[Il,cu,Ko,ru,Tn,ao]=ct(ds),uu=tn,hu=rn,tA=un,Sv=$n;(Il!==1||cu!==0||Ko!==0||ru!==1)&&(uu=tn*Il+rn*Ko,hu=tn*cu+rn*ru,tA=un*Il+$n*Ko,Sv=un*cu+$n*ru);let W0=kn*Il+lo*Ko+Tn,l1=kn*cu+lo*ru+ao;return s.create(uu,hu,tA,Sv,W0,l1)}s.prepend=nt;function ct(es){return[es[0],es[3],es[1],es[4],es[2],es[5]]}s.getAbcdef=ct;function At(es){let[ds,tn,rn,un,$n,kn]=s.getAbcdef(es),lo=ds*un-tn*rn,Il=un/lo,cu=-tn/lo,Ko=-rn/lo,ru=ds/lo,Tn=(rn*kn-un*$n)/lo,ao=-(ds*kn-tn*$n)/lo;return s.create(Il,cu,Ko,ru,Tn,ao)}s.invert=At;function mt([es,ds],tn){let[rn,un,$n,kn,lo,Il]=s.getAbcdef(tn);return[rn*es+$n*ds+lo,un*es+kn*ds+Il]}s.apply=mt;function gt(es,ds){let[tn,rn,un,$n,kn,lo]=s.getAbcdef(ds),Il=1/(tn*$n+un*-rn),[cu,Ko]=es;return[$n*Il*cu+-un*Il*Ko+(lo*un-kn*$n)*Il,tn*Il*Ko+-rn*Il*cu+(-lo*tn+kn*rn)*Il]}s.applyInverse=gt;function _t(es,ds,tn=ds){let[rn,un,$n,kn,lo,Il]=s.getAbcdef(es);return s.setAbcdef(es,rn*ds,un*tn,$n*ds,kn*tn,lo*ds,Il*tn),es}s.scale=_t;function Et(es,ds){let tn=Math.cos(ds),rn=Math.sin(ds),[un,$n,kn,lo,Il,cu]=s.getAbcdef(es);return s.setAbcdef(es,un*tn-$n*rn,un*rn+$n*tn,kn*tn-lo*rn,kn*rn+lo*tn,Il*tn-cu*rn,Il*rn+cu*tn),es}s.rotate=Et;function Ct(es,ds,tn){let[rn,un]=tn,$n=s.translate(es,-rn,-un);return $n=s.rotate($n,ds),$n=s.translate($n,rn,un),$n}s.rotateAround=Ct;function Bt(es,ds,tn){let[rn,un,$n,kn,lo,Il]=s.getAbcdef(es);return s.setAbcdef(es,rn,un,$n,kn,lo+ds,Il+tn),es}s.translate=Bt;function Dt(es,ds,tn){let[rn,un,$n,kn]=s.getAbcdef(es);return s.setAbcdef(es,rn,un,$n,kn,ds,tn),es}s.setTranslate=Dt;function Ft(es,ds,tn){let[rn,un,$n,kn]=s.getAbcdef(es);return s.setAbcdef(es,rn,un,$n,kn,ds,tn),es}s.setPosition=Ft;function Rt(es){let[ds,tn,rn,un]=s.getAbcdef(es),$n=Math.sqrt(ds*ds+tn*tn),kn=Math.sqrt(rn*rn+un*un);return[$n,kn]}s.getScale=Rt;function Nt(es){let[,,,,ds,tn]=s.getAbcdef(es);return[ds,tn]}s.getPosition=Nt;function Gt(es,ds){return s.decompose(es,ds).rotation}s.getRotation=Gt;function dr(es,ds){let[tn,rn,un,$n,kn,lo]=s.getAbcdef(es),{rotation:Il,scale:cu,shear:Ko}=tL([[tn,un],[rn,$n]]);return{position:[kn+(ds[0]*tn+ds[1]*un)-ds[0],lo+(ds[0]*rn+ds[1]*$n)-ds[1]],scale:cu,rotation:Il,shear:Ko,pivot:ds}}s.decompose=dr;function ts(es,ds,tn,rn,un=[0,0]){let[$n,kn]=es,[lo,Il]=rn,[cu,Ko,ru,Tn]=rL({rotation:tn,scale:ds,shear:un}),ao=$n-(lo*cu+Il*ru)+lo,uu=kn-(lo*Ko+Il*Tn)+Il;return s.create(cu,Ko,ru,Tn,ao,uu)}s.compose=ts})(St||(St={}));var AK=Math.PI/180;function iL(s,o,_,j,et,st){let nt=s-_,ct=o-j;return nt*nt/(et*et)+ct*ct/(st*st)<=1}function nL(s){return s*AK}var tr=class{constructor(s,o,_){this.uuid=s,this.data=o,this.localMatrix=St.identity(),this.worldMatrix=St.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new Wl,this._recursiveBBox=new Wl,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.shear=[0,0],this.emitter=Yc(),this.dpr=_.dpr??1,this.dataPatched=o}project(s,o){let _=this.worldMatrix;return o&&(_=St.append(o.worldMatrix,_)),St.applyInverse(s,_)}intersects(s,o,_,j=!1){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([s,o],_),j)}intersectsInLocalSpace(s,o,_=!1){let{min:j,max:et}=_?this.recursiveBBox:this.singleBBox;return s>=j[0]&&s<=et[0]&&o>=j[1]&&o<=et[1]}applyTransforms(s){s.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=St.compose(this.position,this.scale,nL(this.rotation),Ea.getPivot(this.dataPatched),this.shear)}updateWorldMatrix(s,o,_){let j=this.parent;o&&j!==null&&j!==void 0&&j.updateWorldMatrix(s,!0,!1),s&&this.updateLocalMatrix(),this.parent?this.worldMatrix=St.append(this.parent.worldMatrix,this.localMatrix):this.worldMatrix=St.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return Ea.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(s=>{s.resetBBoxNeedsUpdateSelf()})}updateTransformState(s){let o=!1;s.position!==void 0&&(o=!0,this.position=s.position),s.rotation!==void 0&&(o=!0,this.rotation=s.rotation),s.scale!==void 0&&(o=!0,this.scale=s.scale),s.shear!==void 0&&(o=!0,this.shear=s.shear),o&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(s,o,_){s.type===0&&s.props.visible!==void 0&&(this.visible=s.props.visible),this.data=o,this.data=o;let j=s,et=Lt(s.path,["states","*"]);if(et!==null){if(s.type===0){let[st]=et;if((this==null?void 0:this.stateSelection)===st){let nt={...s.props};if(delete nt.name,Object.values(s.props).some(ct=>ct===void 0)){let ct=this.data;if(ct!==void 0){let At=Sr$1.zoom(ct,s.path.slice(2));if(At)for(let mt in s.props)s.props[mt]===void 0&&mt in At&&(nt[mt]=At[mt])}}j={...s,props:nt,path:s.path.slice(2)}}}}else if(s.type===0){let st=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(st!==void 0){if(s.props.name!==void 0&&st.name){let{name:ct,...At}=st;st=At}let nt=Sr$1.removeOverridden(s.path,s.props,st);j={...s,props:nt}}}this.updateByPatchedOpBase(j,Aa.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),_)}changeSelectedState(s,o,_=!1){if(!(this.data.states.length===0&&!_)){for(let j of this.data.states)Aa.toOps(this.data,j.data).forEach(et=>{let st=Lh.replaceProps(et,this.data);this.dataPatched=this.data,this.updateByPatchedOp(st,this.data,o)});if(s!==null){let j=this.data.states.data(s);j&&(this.dataPatched=Aa.patch(this.data,j),Aa.toOps(this.data,j).forEach(et=>{this.updateByPatchedOp(et,this.dataPatched,o)}))}_&&this.updateTransformState(this.dataPatched),this.stateSelection=s}}updateState(s,o){s.name!==void 0&&(this.name=s.name),s.visible!==void 0&&(this.visible=s.visible),this.updateTransformState(s)}updateByPatchedOpBase(s,o,_){this.dataPatched=o,this.updateByPatchedOp(s,o,_)}updateByPatchedOp(s,o,_){s.path.length===0&&s.type===0&&this.updateState(s.props,_),this.requestRender()}traverseFrameAncestors(s){this.traverseAncestors(o=>{o.data.type==="frame2d"&&s(o)})}traverseAncestors(s){let o=this.parent;for(;o;)s(o),o=o.parent}requestRender(){this.traverseFrameAncestors(s=>{s.requestRender()})}clone(s){let o=new tr(this.uuid,this.data,s);return o.parent=void 0,o}addEventListener(s,o){this.emitter.on(s,o)}removeEventListener(s,o){this.emitter.off(s,o)}dispatchEvent(s){this.emitter.emit(s.type,{...s,target:s.target??this})}traverseSortNextHelper(){let s=this.parent;if(s){let o=s.children;if(o){let _=o.indexOf(this)+1;return o[_]?o[_]:s.traverseSortNextHelper()}}}sortNext(){let s=this.children;return s&&s.length>0&&s[0]?s[0]:this.traverseSortNextHelper()}isDescendantOf(s){s instanceof tr&&(s=s.uuid);let o=this;for(;o.parent;){if(o.parent.uuid===s)return!0;o=o.parent}return!1}},Zi=class extends tr{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this.context=_,this.children=[]}add(s){s.parent&&s.parent instanceof Zi&&s.parent.remove(s),this.children.push(s),s.parent=this}remove(s){let o=this.children.indexOf(s);o>=0&&(this.children.splice(o,1),s.parent=void 0)}traverse(s){let o=s(this);if(o!==!0)for(let _ of this.children)_ instanceof Zi?_.traverse(s):o=s(_)}intersectsChildrenHelper(s,o,_,j,et){for(let st of this.children)if(st.intersects(s,o,_,!1)&&(et.push(st),j)||st instanceof Zi&&st.intersectsChildrenHelper(s,o,_,j,et))return!0;return!1}intersectsChildren(s,o,_,j=!1,et=[],st=!1){return this.intersectsChildrenHelper(s,o,_,j,et),et}intersectsChildrenHelperReverse(s,o,_,j,et){for(let st of this.children)if(st instanceof Zi&&st.intersectsChildrenHelperReverse(s,o,_,j,et)||st.intersects(s,o,_,!1)&&(et.push(st),j))return!0;return!1}intersectsChildrenReverse(s,o,_,j=!1,et=[],st=!1){return this.intersectsChildrenHelperReverse(s,o,_,j,et),et}updateWorldMatrix(s,o,_){if(super.updateWorldMatrix(s,o,_),_&&this.children)for(let j of this.children)j.updateWorldMatrix(s,!1,!0)}find(s){let o;return this.traverse(_=>{_.uuid===s&&(o=_)}),o}innerDrawChildren(s){for(let o=this.children.length-1;o>=0;o--)this.children[o].draw(s)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse(s=>{s.resetBBoxNeedsUpdateSelf()})}clone(s){let o=new Zi(this.uuid,this.data,s);o.parent=void 0;for(let _ of this.children)o.add(_.clone(s));return o}},Un=class extends Zi{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this.updateState(o,_)}draw(s){!this.visible||(s.save(),this.applyTransforms(s),this.innerDrawChildren(s),s.restore())}clone(s){let o=new Un(this.uuid,this.data,s);o.parent=void 0;for(let _ of this.children)o.add(_.clone(s));return o}};function EK(s,o){let[[_,j],[et,st]]=s,[[nt,ct],[At,mt]]=o,gt=(_-et)*(ct-mt)-(j-st)*(nt-At);if(gt===0)return!1;let _t=((_-nt)*(ct-mt)-(j-ct)*(nt-At))/gt,Et=-((_-et)*(j-ct)-(j-st)*(_-nt))/gt;return _t>=0&&_t<=1&&Et>=0&&Et<=1}var oL=[[-1,1],[-1,-1],[1,-1],[1,1]],sL=(s,o,_)=>{let j=s.getCenter(),et=s.getHalfSize(),st=St.append(o,s.worldMatrix);et[0]===0&&et[1]===0?_.push(St.apply(j,st)):oL.forEach(nt=>{let ct=[nt[0]*et[0]+j[0],nt[1]*et[1]+j[1]];_.push(St.apply(ct,st))})},Wl=class{constructor(){this.matrix=St.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(s,o=!1){s.updateWorldMatrix(),this.makeEmpty(),St.copy(s.worldMatrix,this.matrix);let _=St.invert(s.worldMatrix);this.expandByObjectSize(s,_,o)}expandByObjectSize(s,o,_=!1){let j=[];_===!0&&s instanceof Zi?s.traverse(et=>{et.visible&&sL(et,o,j)}):sL(s,o,j),this.setFromPoints(j)}setFromSize(s,o,_){this.makeEmpty(),St.copy(_,this.matrix),this.expandBySize(s,o,_)}expandBySize(s,o,_){[St.apply([0,0],_),St.apply([0,o],_),St.apply([s,o],_),St.apply([s,0],_)].forEach(j=>this.expandByPoint(j))}getCenter(){let[s,o]=this.min,[_,j]=this.getHalfSize();return St.apply([s+_,o+j],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[(this.max[0]-this.min[0])*.5,(this.max[1]-this.min[1])*.5]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(s){this.makeEmpty();for(let o of s)this.expandByPoint(o)}expandByPoint(s){this.min=[Math.min(this.min[0],s[0]),Math.min(this.min[1],s[1])],this.max=[Math.max(this.max[0],s[0]),Math.max(this.max[1],s[1])]}computeVertices(){let[s,o]=this.getHalfSize(),_=this.getCenter(),[j,et,st,nt]=St.getAbcdef(this.matrix),ct=St.create(j,et,st,nt,_[0],_[1]);this.vertices=oL.map(([At,mt])=>St.apply([At*s,mt*o],ct))}computeEdges(){this.edges=[];for(let s=0,o=this.vertices.length;s<o;++s)this.edges.push([this.vertices[s],this.vertices[(s+1)%o]])}project(s,o){let _=this.matrix;return o&&(_=St.append(o.worldMatrix,_)),St.applyInverse(s,_)}intersects(s,o,_){return this.intersectsInLocalSpace(...this.project([s,o],_))}intersectsInLocalSpace(s,o){let{min:_,max:j}=this;return s>=_[0]&&s<=j[0]&&o>=_[1]&&o<=j[1]}containsPoint(s){let[o,_]=s,[j,et]=this.min,[st,nt]=this.max;return o>=j&&o<=st&&_>=et&&_<=nt}intersectsBBox2D(s){for(let o=0,_=this.edges.length;o<_;o++){let j=this.edges[o];for(let et=0,st=s.edges.length;et<st;et++){let nt=s.edges[et];if(EK(j,nt))return!0}}for(let o=0,_=s.vertices.length;o<_;o++){let j=s.vertices[o];if(this.containsPoint(j))return!0}return!1}ensureMinMax(){let s=this.min,o=this.max;this.min=[Math.min(s[0],o[0]),Math.min(s[1],o[1])],this.max=[Math.max(s[0],o[0]),Math.max(s[1],o[1])]}copy(s){this.min=[...s.min],this.max=[...s.max],St.copy(s.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let s=new Wl;return s.copy(this),s}},lL,cL=new Promise(s=>{lL=s}),aL=!1,Rx;function uL(){if(aL)return;if(Rx)return Rx;async function s(){let o=await __vitePreload(()=>import("./ui-L7l3pL7d.js"),[]);lL(o.default??o),aL=!0}return Rx=s(),Rx}function GE(s){let o=!1;return s.scene.objects.traverse((_,j)=>{(j.type==="Mesh"&&j.geometry.type==="UIGeometry"||j.type==="Page"&&j.uiFrame!==void 0)&&(o=!0)}),o}var pt,kE;async function MK(s){let o=await cL;pt||(kE||(kE=o({locateFile:()=>s})),pt=await kE)}var hL=St.identity(),Rm=class{constructor(s,o=1){this.canvas=s,this._dpr=o,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=bt.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=bt.transparent,this._fonts=new Map,this._isSizeDirty=!1;try{let _=s.getBoundingClientRect();s.width=_.width*o,s.height=_.height*o}catch{console.log(s.width,o)}this._currentM3Transform=hL,this._currentTransform=new Float32Array(hL)}get dpr(){return this._dpr}set dpr(s){this._dpr=s,this._isSizeDirty=!0}async init(){var s,o;if(!this.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");await MK(this.wasmURL),this._surface=pt.MakeWebGLCanvasSurface(this.canvas),this.ctx=(s=this._surface)==null?void 0:s.getCanvas(),this._paint=new pt.Paint,this._paint.setAntiAlias(!0),this._paintFill=this._paint.copy(),this._paintFill.setStyle(pt.PaintStyle.Fill),this._paintStroke=this._paint.copy(),this._paintStroke.setStyle(pt.PaintStyle.Stroke),(o=this.ctx)==null||o.scale(this.dpr,this.dpr)}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(s){this._currentM3Transform=s,this._currentTransform.set(s)}async loadFont(s,o){let _=await(await fetch(s)).arrayBuffer();this.registerFont(_,o)}registerFont(s,o){if(this._fonts.has(o))return;let _=pt.FontMgr.FromData(s);if(_)this._fonts.set(o,_);else throw new Error("Invalid font data for "+o)}get width(){return this._width}get height(){return this._height}set strokeColor(s){this._paintStroke&&this._paintStroke.setColor(Lx(s),pt.ColorSpace.DISPLAY_P3)}set fillColor(s){this._paintFill&&this._paintFill.setColor(Lx(s),pt.ColorSpace.DISPLAY_P3)}set lineWidth(s){this._paintStroke&&this._paintStroke.setStrokeWidth(this._strokeMode==="center"?s:s*2)}set strokeMode(s){this._strokeMode=s}set dropShadowBlur(s){this._dropShadowBlur=s}set dropShadowColor(s){this._dropShadowColor=s}set dropShadowOffsetX(s){this._dropShadowOffsetX=s}set dropShadowOffsetY(s){this._dropShadowOffsetY=s}set innerShadowBlur(s){this._innerShadowBlur=s}set innerShadowColor(s){this._innerShadowColor=s}set innerShadowOffsetX(s){this._innerShadowOffsetX=s}set innerShadowOffsetY(s){this._innerShadowOffsetY=s}set innerShadowSpread(s){this._innerShadowSpread=s}set layerBlur(s){this._layerBlur=s}set backgroundBlur(s){this._backgroundBlur=s}clear(){var s;(s=this.ctx)==null||s.clear(pt.TRANSPARENT)}save(){var s;(s=this.ctx)==null||s.save()}restore(){var s;(s=this.ctx)==null||s.restore()}beginPath(){var s;(s=this._currentPath)==null||s.delete(),this._currentPath=new pt.Path}closePath(){let s=this._currentPath;if(s){if(s.isEmpty())return;let o=s.getBounds();(o[3]-o[1]||o[2]-o[0])&&s.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(s,o,_,j,et=0,st=0,nt=0,ct=0){var mt,gt;let At=pt.XYWHRect(s,o,_,j);if(et===0&&st===0&&ct===0&&nt===0)(mt=this.ctx)==null||mt.clipRect(At,pt.ClipOp.Intersect,!0);else{let _t=pt.RRectXY(At,et,et);_t[4]=_t[5]=et,_t[6]=_t[7]=st,_t[8]=_t[9]=nt,_t[10]=_t[11]=ct,(gt=this.ctx)==null||gt.clipRRect(_t,pt.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let s=St.invert(this.currentTransform);this.ctx.concat(s);let o=St.translate(St.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(o),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(s,o,_=!0){var j,et,st,nt;if(this.ctx&&this._currentPath){let ct,At=!1;if(_&&this._hasDropShadow()){let mt=s.copy();mt.setColor(Lx(this._dropShadowColor));let gt;this._dropShadowBlur>0&&(gt=pt.MaskFilter.MakeBlur(pt.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(((j=this.camera)==null?void 0:j.scale)??1),!1),mt.setMaskFilter(gt)),this.ctx.save(),this.ctx.clipPath(this._currentPath,pt.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),o(mt),this.ctx.restore(),mt.delete(),gt==null||gt.delete()}if(this._backgroundBlur>0&&_){this.ctx.save(),this.ctx.clipPath(this._currentPath,pt.ClipOp.Intersect,!0);let mt=pt.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,pt.TileMode.Clamp,null),gt=s.copy();gt.setImageFilter(mt),gt.setAlphaf(1);let _t=this._currentPath.computeTightBounds();this.ctx.saveLayer(gt,_t,null,pt.SaveLayerInitWithPrevious),this.ctx.drawColor(s.getColor()),this.ctx.restore(),this.ctx.restore(),gt.delete(),mt.delete(),At=!0}if(this._layerBlur>0){let mt=s.copy();ct=pt.MaskFilter.MakeBlur(pt.BlurStyle.Normal,this._layerBlur*this.dpr*(((et=this.camera)==null?void 0:et.scale)??1),!1),mt.setMaskFilter(ct),o(mt),mt.delete(),ct.delete(),At=!0}if(At||o(s),_&&this._hasInnerShadow()){let mt=new pt.Paint;mt.setAntiAlias(!0),mt.setStyle(pt.PaintStyle.Fill),mt.setColor(Lx(this._innerShadowColor));let gt;this._innerShadowBlur>0&&(gt=pt.MaskFilter.MakeBlur(pt.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(((st=this.camera)==null?void 0:st.scale)??1),!1),mt.setMaskFilter(gt));let _t=this._currentPath.computeTightBounds(),[Et,Ct,Bt,Dt]=_t,Ft=Bt-Et,Rt=Dt-Ct;this.ctx.save(),this.ctx.clipPath(this._currentPath,pt.ClipOp.Intersect,!0),this.ctx.saveLayer(mt,_t,null,pt.SaveLayerInitWithPrevious),(nt=this.ctx)==null||nt.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(pt.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+Ft+Math.abs(this._innerShadowOffsetX*2),2e3+Rt+Math.abs(this._innerShadowOffsetY*2)),mt),mt.setBlendMode(pt.BlendMode.Clear),this.ctx.drawPath(this._currentPath,mt),this.ctx.restore(),this.ctx.restore(),mt.delete(),gt==null||gt.delete()}}}_paintInner(s,o=!0){if(this.ctx&&this._currentPath&&s){let _=this.ctx,j=this._currentPath;this._applyEffectsToPaint(s,et=>{let st=!1;!o&&this._strokeMode!=="center"&&(_.save(),_.clipPath(j,this._strokeMode==="outside"?pt.ClipOp.Difference:pt.ClipOp.Intersect,!0),st=!0),_.drawPath(j,et),st&&_.restore()},o)}}_hasDropShadow(){var s;return((s=this._dropShadowColor)==null?void 0:s.a)>0}_hasInnerShadow(){var s;return((s=this._innerShadowColor)==null?void 0:s.a)>0}path(s){var o;(o=this._currentPath)==null||o.addPath(pt.Path.MakeFromSVGString(s))}ellipse(s,o,_,j,et,st,nt,ct){var mt;if(!dL([s,o,_,j])||!this._currentPath)return;if(_<0||j<0)throw Error("radii cannot be negative");let At=pt.XYWHRect(s-_,o-j,_*2,j*2);(mt=this._currentPath)==null||mt.addOval(At)}rect(s,o,_,j,et=0,st=0,nt=0,ct=0){var mt,gt;let At=pt.XYWHRect(s,o,_,j);if(dL(At))if(et===0&&st===0&&ct===0&&nt===0)(mt=this._currentPath)==null||mt.addRect(At);else{let _t=pt.RRectXY(At,et,et);_t[4]=_t[5]=et,_t[6]=_t[7]=st,_t[8]=_t[9]=nt,_t[10]=_t[11]=ct,(gt=this._currentPath)==null||gt.addRRect(_t)}}getHorizontalAlign(s){switch(s){case 2:return pt.TextAlign.Right;case 3:return pt.TextAlign.Center;case 4:return pt.TextAlign.Justify;case 1:default:return pt.TextAlign.Left}}drawTextInner(s,o,_,[j,et,st,nt],ct,At,mt=!0){let gt=0,{ctx:_t}=this;if(!_t)return gt;let Et=At.copy(),Ct=At.copy();return Ct.setAlphaf(0),this._applyEffectsToPaint(Et,Bt=>{o.pushPaintStyle(_,Bt,Ct),o.addText(s);let Dt=o.build();Dt.layout(st);let Ft=et;ct===2?Ft+=(nt-Dt.getHeight())/2:ct===3&&(Ft+=nt-Dt.getHeight()),_t.drawParagraph(Dt,j,Ft),gt=Dt.getHeight(),o.reset(),Dt.delete()},mt),Et.delete(),Ct.delete(),gt}drawText(s,o){let _=0,j=this._fonts.get(o.font),{ctx:et,_paintFill:st,_paintStroke:nt}=this;if(j&&et){let ct=new pt.TextStyle({fontFamilies:[o.font],fontSize:o.fontSize,heightMultiplier:o.lineHeight,letterSpacing:o.letterSpacing}),At=new pt.ParagraphStyle({textStyle:ct,textAlign:this.getHorizontalAlign(o.horizontalAlign)}),mt=pt.XYWHRect(o.x,o.y,o.width,o.height),gt=pt.ParagraphBuilder.Make(At,j);st&&(_=this.drawTextInner(s,gt,ct,mt,o.verticalAlign,st,!0)),nt&&(_=this.drawTextInner(s,gt,ct,mt,o.verticalAlign,nt,!1)),gt.delete()}return{height:_}}render(){var s;(s=this._surface)==null||s.flush()}moveTo(s,o){var _;(_=this._currentPath)==null||_.moveTo(s,o)}lineTo(s,o){var _;(_=this._currentPath)==null||_.lineTo(s,o)}bezierCurveTo(s,o,_,j,et,st){var nt;(nt=this._currentPath)==null||nt.cubicTo(s,o,_,j,et,st)}quadraticCurveTo(s,o,_,j){var et;(et=this._currentPath)==null||et.quadTo(s,o,_,j)}setTransform(s,o=!1){var et,st,nt,ct,At;if(!this.ctx)return;let _=this.ctx.getTotalMatrix(),j=St.invert(_);if(j&&this.ctx.concat(j),(et=this.ctx)==null||et.scale(this.dpr,this.dpr),((st=this.camera)==null?void 0:st.enabled)&&((nt=this.ctx)==null||nt.concat(this.camera.worldMatrix),o)){let mt=St.getScale(this.camera.worldMatrix);(ct=this.ctx)==null||ct.scale(1/mt[0],1/mt[1])}(At=this.ctx)==null||At.concat(s),this.currentTransform=s}transform(s){var o;(o=this.ctx)==null||o.concat(s)}setSize(s,o){var _;!this._isSizeDirty&&s===this._width&&o===this._height||(this._isSizeDirty=!1,this._width=s,this._height=o,this.canvas.style.width=s+"px",this.canvas.style.height=o+"px",this.canvas.width=s*this.dpr,this.canvas.height=o*this.dpr,this._surface&&(this._surface=pt.MakeWebGLCanvasSurface(this.canvas),this.ctx=(_=this._surface)==null?void 0:_.getCanvas()))}};function dL(s){for(let o=0;o<s.length;o++)if(s[o]!==void 0&&!Number.isFinite(s[o]))return!1;return!0}function Lx({r:s,g:o,b:_,a:j}){return pt.Color4f(s,o,_,j)}var Lm=class{constructor(s,o,_){this.uuid=s,this.data=o,this.enabled=!1,this.color=bt.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(o)}update(s){s.color!==void 0&&(this.color=s.color),s.enabled!==void 0&&(this.enabled=s.enabled),s.blurRadius!==void 0&&(this.blurRadius=s.blurRadius),s.offset!==void 0&&(this.offset=s.offset),s.spread!==void 0&&(this.spread=s.spread)}},Bm=class{constructor(s,o,_){this.uuid=s,this.data=o,this.enabled=!1,this.radius=0,this.update(o)}update(s){s.enabled!==void 0&&(this.enabled=s.enabled),s.radius!==void 0&&(this.radius=s.radius)}},Bx=class{constructor(s,o,_){this.uuid=s,this.data=o,this.enabled=!1,this.color=bt.transparent,this.update(o)}update(s){s.enabled!==void 0&&(this.enabled=s.enabled),s.color!==void 0&&(this.color=s.color)}},Nx=class{constructor(s,o,_){this.uuid=s,this.data=o,this.enabled=!1,this.color=bt.transparent,this.thickness=0,this.mode="inside",this.update(o)}update(s){s.enabled!==void 0&&(this.enabled=s.enabled),s.color!==void 0&&(this.color=s.color),s.thickness!==void 0&&(this.thickness=s.thickness),s.mode!==void 0&&(this.mode=s.mode)}},Ar$1=class extends tr{constructor(o,_,j){super(o,_,j),this.uuid=o,this.data=_,this.autoClose=!0,this.fill=new Bx(o+"-fill",_.fill,j),this.stroke=new Nx(o+"-stroke",_.stroke,j),this.dropShadow=new Lm(o+"-dropShadow",_.dropShadow,j),this.innerShadow=new Lm(o+"-innerShadow",_.innerShadow,j),this.backgroundBlur=new Bm(o+"-backgroundBlur",_.backgroundBlur,j),this.layerBlur=new Bm(o+"-layerBlur",_.layerBlur,j)}applyFillStroke(o){o.fillColor=this.fill.enabled?this.fill.color:bt.transparent,o.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:bt.transparent,o.strokeMode=this.stroke.mode,o.lineWidth=this.stroke.thickness}applyFilters(o){this.layerBlur.enabled?o.layerBlur=this.layerBlur.radius*5:o.layerBlur=0,this.backgroundBlur.enabled?o.backgroundBlur=this.backgroundBlur.radius*5:o.backgroundBlur=0,this.dropShadow.enabled?(o.dropShadowBlur=this.dropShadow.blurRadius*5,o.dropShadowColor=this.dropShadow.color,o.dropShadowOffsetX=this.dropShadow.offset[0],o.dropShadowOffsetY=this.dropShadow.offset[1]):o.dropShadowColor=bt.transparent,this.innerShadow.enabled?(o.innerShadowSpread=this.innerShadow.spread,o.innerShadowBlur=this.innerShadow.blurRadius*5,o.innerShadowColor=this.innerShadow.color,o.innerShadowOffsetX=this.innerShadow.offset[0],o.innerShadowOffsetY=this.innerShadow.offset[1]):o.innerShadowColor=bt.transparent}innerDraw(o){}draw(o){!this.visible||(o.save(),this.applyTransforms(o),this.applyFilters(o),this.applyFillStroke(o),o.beginPath(),this.innerDraw(o),this.autoClose&&o.closePath(),this.fill.enabled&&o.fill(),this.stroke.enabled&&o.stroke(),o.restore())}updateByPatchedOp(o,_,j){super.updateByPatchedOp(o,_,j),o.type===0&&(Lt(o.path,["fill"])?this.fill.update(o.props):Lt(o.path,["stroke"])?this.stroke.update(o.props):Lt(o.path,["dropShadow"])?this.dropShadow.update(o.props):Lt(o.path,["innerShadow"])?this.innerShadow.update(o.props):Lt(o.path,["layerBlur"])?this.layerBlur.update(o.props):Lt(o.path,["backgroundBlur"])?this.backgroundBlur.update(o.props):this.resetBBoxNeedsUpdate())}updateState(o,_){super.updateState(o,_),o.fill!==void 0&&this.fill.update(o.fill),o.stroke!==void 0&&this.stroke.update(o.stroke),o.dropShadow!==void 0&&this.dropShadow.update(o.dropShadow),o.innerShadow!==void 0&&this.innerShadow.update(o.innerShadow),o.layerBlur!==void 0&&this.layerBlur.update(o.layerBlur),o.backgroundBlur!==void 0&&this.backgroundBlur.update(o.backgroundBlur)}clone(o){let _=new Ar$1(this.uuid,this.data,o);return _.parent=void 0,_}},ql=class extends Ar$1{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this.width=0,this.height=0,this.updateState(o,_)}innerDraw(s){s.ellipse(this.width*.5,this.height*.5,this.width*.5,this.height*.5,0,0,Math.PI*2)}intersectsInLocalSpace(s,o){return iL(s,o,this.width*.5,this.height*.5,this.width*.5,this.height*.5)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(s){let o=!1;s.width!==void 0&&(this.width=typeof s.width=="number"?s.width:this.width,o=!0),s.height!==void 0&&(this.height=typeof s.height=="number"?s.height:this.height,o=!0),o&&this.updateWorldMatrix(!0,!1,!0)}updateState(s,o){super.updateState(s,o),this.updateSizeState(s)}clone(s){let o=new ql(this.uuid,this.data,s);return o.parent=void 0,o}},As=class extends Ar$1{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(o,_)}innerDraw(s){s.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(s){s.cornerRadius!==void 0&&(this.cornerRadius=s.cornerRadius)}updateSizeState(s){let o=!1;s.width!==void 0&&(this.width=typeof s.width=="number"?s.width:this.width,o=!0),s.height!==void 0&&(this.height=typeof s.height=="number"?s.height:this.height,o=!0),o&&this.updateWorldMatrix(!0,!1,!0)}updateState(s,o){super.updateState(s,o),this.updateSizeState(s),this.updateCornerState(s)}clone(s){let o=new As(this.uuid,this.data,s);return o.parent=void 0,o}},Yl=class extends Ar$1{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(o,_)}get textHeight(){return this._textHeight}applyFillStroke(s){s.fillColor=this.fill.enabled?this.fill.color:bt.transparent,s.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:bt.transparent,s.strokeMode="center",s.lineWidth=this.stroke.thickness}innerDraw(s){var st;(st=this._fontHolder)!=null&&st.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&s.registerFont(this._fontHolder.arrayBuffer,this.data.font);let o=this.data.textTransform,_=this.data.text.textValue.toString(),j=o===2?_.toUpperCase():o===3?_.toLowerCase():_,{height:et}=s.drawText(j,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=et}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateSizeState(s){let o=!1;s.width!==void 0&&(this.width=typeof s.width=="number"?s.width:this.width,o=!0),s.height!==void 0&&(this.height=typeof s.height=="number"?s.height:this.height,o=!0),o&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(s,{shared:o}){s.font!==void 0&&(this._fontHolder=o.getFont(s.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then(()=>{this.requestRender()}))}updateState(s,o){super.updateState(s,o),this.updateSizeState(s),this.updateFontState(s,o)}clone(s){let o=new Yl(this.uuid,this.data,s);return o.parent=void 0,o}},Ef=class extends Ar$1{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(o,_)}computeExtremas(){this.curves.length===0&&this.computeCurves();let s=this.curves.map(j=>Fx.extremas(j)),o=[1/0,1/0],_=[-1/0,-1/0];for(let j=0,et=s.length;j<et;j++){let st=s[j];st[0][0]<o[0]&&(o[0]=st[0][0]),st[0][1]<o[1]&&(o[1]=st[0][1]),st[1][0]>_[0]&&(_[0]=st[1][0]),st[1][1]>_[1]&&(_[1]=st[1][1])}return this.extremasBBox.min=[o[0],o[1]],this.extremasBBox.max=[_[0],_[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let _=1,j=this.data.points.length;_<j;_++){let et=this.data.points[_].data,st=this.data.points[_-1].data,nt={start:st.position,cp1:st.controlNext.position,cp2:et.controlPrevious.position,end:et.position};this.curves.push(nt)}let s=this.data.points[0].data,o=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let _={start:o.position,cp1:o.controlNext.position,cp2:s.controlPrevious.position,end:s.position};this.curves.push(_)}}getCenter(){let[s,o]=this.extremasBBox.min,[_,j]=this.getHalfSize();return[s+_,o+j]}getHalfSize(){let{min:s,max:o}=this.extremasBBox;return[(o[0]-s[0])*.5,(o[1]-s[1])*.5]}innerDraw(s){for(let j=0,et=this.data.points.length;j<et;j++){let st=this.data.points[j].data;if(j===0){let[nt,ct]=st.position;s.moveTo(nt,ct)}else{let nt=this.data.points[j-1].data,[ct,At]=nt.controlNext.position,[mt,gt]=st.controlPrevious.position,[_t,Et]=st.position,Ct={start:nt.position,cp1:nt.controlNext.position,cp2:st.controlPrevious.position,end:st.position};Fx.derive(Ct),s.bezierCurveTo(ct,At,mt,gt,_t,Et)}}let o=this.data.points[0].data,_=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[j,et]=_.controlNext.position,[st,nt]=o.controlPrevious.position,[ct,At]=o.position;s.bezierCurveTo(j,et,st,nt,ct,At)}}updateState(s,o){super.updateState(s,o),this.computeExtremas()}clone(s){let o=new Ef(this.uuid,this.data,s);return o.parent=void 0,o}},Fx;(s=>{function o(nt){let ct=nt.start,At=nt.cp1,mt=nt.cp2,gt=nt.end,_t=[3*(At[0]-ct[0]),3*(At[1]-ct[1])],Et=[3*(mt[0]-At[0]),3*(mt[1]-At[1])],Ct=[3*(gt[0]-mt[0]),3*(gt[1]-mt[1])],Bt={start:_t,cp:Et,end:Ct};return nt.derivative=Bt,Bt.derivative=jE.derive(Bt),Bt}s.derive=o;function _(nt,ct,At,mt=!1){let gt=nt-2*ct+At;if(gt!==0){let _t=-Math.sqrt(Math.abs(ct*ct-nt*At)),Et=-nt+ct,Ct=-(_t+Et)/gt,Bt=-(-_t+Et)/gt;return[Ct,Bt]}else if(ct!==At&&gt===0)return[(2*ct-At)/(2*(ct-At))];return[]}function j(nt){let ct=nt.derivative??s.derive(nt),At=ct.start,mt=ct.cp,gt=ct.end;return[_(At[0],mt[0],gt[0]),_(At[1],mt[1],gt[1])]}s.droot=j;function et(nt){let[ct,At]=s.droot(nt),mt=[nt.start[0],nt.end[0]],gt=[nt.start[1],nt.end[1]];for(let _t of ct)mt.push(s.compute(nt,Math.min(1,Math.max(0,_t)))[0]);for(let _t of At)gt.push(s.compute(nt,Math.min(1,Math.max(0,_t)))[1]);return mt.sort((_t,Et)=>_t-Et),gt.sort((_t,Et)=>_t-Et),[[mt[0],gt[0]],[mt[mt.length-1],gt[gt.length-1]]]}s.extremas=et;function st(nt,ct){if(ct===0)return[...nt.start];if(ct===1)return[...nt.end];let At=1-ct,mt=At*At,gt=ct*ct,_t=mt*At,Et=mt*ct*3,Ct=At*gt*3,Bt=ct*gt;return[_t*nt.start[0]+Et*nt.cp1[0]+Ct*nt.cp2[0]+Bt*nt.end[0],_t*nt.start[1]+Et*nt.cp1[1]+Ct*nt.cp2[1]+Bt*nt.end[1]]}s.compute=st})(Fx||(Fx={}));var jE;(s=>{function o(et){let st=et.start,nt=et.cp,ct=et.end,At=[2*(nt[0]-st[0]),2*(nt[1]-st[1])],mt=[2*(ct[0]-nt[0]),2*(ct[1]-nt[1])],gt={start:At,end:mt};return gt.derivative=HE.derive(gt),et.derivative=gt,gt}s.derive=o;function _(et){let st=et.derivative??s.derive(et),nt=st.start,ct=st.end;return[nt[0]!==ct[0]?nt[0]/(nt[0]-ct[0]):0,nt[1]!==ct[1]?nt[1]/(nt[1]-ct[1]):0]}s.droot=_;function j(et,st){if(st===0)return[...et.start];if(st===1)return[...et.end];let nt=1-st,ct=nt*nt,At=st*st,mt=ct,gt=nt*st*2,_t=At;return[mt*et.start[0]+gt*et.cp[0]+_t*et.end[0],mt*et.start[1]+gt*et.cp[1]+_t*et.end[1]]}s.compute=j})(jE||(jE={}));var HE;(s=>{function o(j){let et=j.start,st=j.end,nt=[st[0]-et[0],st[1]-et[1]];return j.derivative=nt,j.derivative}s.derive=o;function _(j,et){if(et===0)return[...j.start];if(et===1)return[...j.end];let st=j.start,nt=j.end;return[st[0]+(nt[0]-st[0])*et,st[1]+(nt[1]-st[1])*et]}s.compute=_})(HE||(HE={}));var Ji=class extends Zi{constructor(s,o,_){super(s,o,_),this.uuid=s,this.width=0,this.height=0,this.clipped=!0,this.background=new As(s+"-background",Jh.defaultData,_),this.background.parent=this,this.updateState(o,_)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(s){this.background.cornerRadius=s}updateLocalMatrix(){var s;super.updateLocalMatrix(),(s=this.background)==null||s.updateLocalMatrix()}updateWorldMatrix(s,o,_){var j;super.updateWorldMatrix(s,o,_),(j=this.background)==null||j.updateWorldMatrix(s,o,_)}draw(s){if(!this.visible)return;s.save();let o=this.width,_=this.height;this.applyTransforms(s),this.background.width=o,this.background.height=_,this.background.draw(s),this.clipped&&s.clipRect(0,0,o,_,...this.cornerRadius),this.innerDrawChildren(s),s.restore()}getCenter(){return[this.width*.5,this.height*.5]}getHalfSize(){return[this.width*.5,this.height*.5]}updateCornerState(s){s.cornerRadius!==void 0&&(this.cornerRadius=s.cornerRadius)}updateSizeState(s){let o=!1;s.width!==void 0&&(this.width=typeof s.width=="number"?s.width:this.width,o=!0),s.height!==void 0&&(this.height=typeof s.height=="number"?s.height:this.height,o=!0),o&&this.updateWorldMatrix(!0,!1,!0)}updateState(s,o){super.updateState(s,o),this.updateSizeState(s),this.updateCornerState(s),s.fill!==void 0&&this.fill.update(s.fill),s.stroke!==void 0&&this.stroke.update(s.stroke),s.dropShadow!==void 0&&this.dropShadow.update(s.dropShadow),s.innerShadow!==void 0&&this.innerShadow.update(s.innerShadow),s.layerBlur!==void 0&&this.layerBlur.update(s.layerBlur),s.backgroundBlur!==void 0&&this.backgroundBlur.update(s.backgroundBlur),s.clipped!==void 0&&(this.clipped=s.clipped)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(s,o,_){super.updateByPatchedOp(s,o,_),s.type===0&&(Lt(s.path,["fill"])?this.fill.update(s.props):Lt(s.path,["stroke"])?this.stroke.update(s.props):Lt(s.path,["dropShadow"])?this.dropShadow.update(s.props):Lt(s.path,["innerShadow"])?this.innerShadow.update(s.props):Lt(s.path,["layerBlur"])?this.layerBlur.update(s.props):Lt(s.path,["backgroundBlur"])?this.backgroundBlur.update(s.props):this.resetBBoxNeedsUpdate())}clone(s){let o=new Ji(this.uuid,this.data,s);o.parent=void 0;for(let _ of this.children)o.add(_.clone(s));return o}},gL=Jo(WE(),1),Ba=class extends Ar$1{constructor(s,o,_){super(s,o,_),this.uuid=s,this.data=o,this._pathBBox=new DOMRect,this.path="",this.updateState(o,_),this.autoClose=!1,this.computeSVGBBox()}computeSVGBBox(){let s=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","path");document.body.appendChild(s),o.setAttribute("d",this.path),s.appendChild(o),this._pathBBox=o.getBBox(),s.remove()}innerDraw(s){s.path(this.path)}intersectsInLocalSpace(s,o){return s>=this._pathBBox.x&&s<=this._pathBBox.x+this._pathBBox.width&&o>=this._pathBBox.y&&o<=this._pathBBox.y+this._pathBBox.height}getCenter(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}getHalfSize(){return[(this._pathBBox.x+this._pathBBox.width)/2,(this._pathBBox.y+this._pathBBox.height)/2]}updateState(s,o){super.updateState(s,o),s.path!==void 0&&(this.path=s.path,this.computeSVGBBox())}clone(s){let o=new Ba(this.uuid,this.data,s);return o.parent=void 0,o}};function yL(s,o=1,_=1){if(o<=0||_<=0)return s;let j=(0,gL.parseSVG)(s).map(et=>{let st={...et};return"x"in st&&(st.x=st.x*o),"y"in st&&(st.y=st.y*_),"x1"in st&&(st.x1=st.x1*o),"x2"in st&&(st.x2=st.x2*o),"y1"in st&&(st.y1=st.y1*_),"y2"in st&&(st.y2=st.y2*_),"rx"in st&&(st.rx=st.rx*o),"ry"in st&&(st.ry=st.ry*_),st});return vL(j)}function vL(s){let o=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"],_;return s.map(j=>{let et=[];o.forEach(nt=>{if(nt in j){let ct=j[nt]*1;et.length&&ct>=0&&et.push(","),et.push(ct)}});let st=(_===j.code?et[0]<0?"":",":j.code)+et.join("");return _=j.code,st}).join("")}function xL(s,o,_){switch(o.type){case"ellipse2d":return new ql(s,o,_);case"rectangle2d":return new As(s,o,_);case"text2d":return new Yl(s,o,_);case"vector2d":return new Ef(s,o,_);case"path2d":return new Ba(s,o,_);case"frame2d":return new Ji(s,o,_);case"group2d":default:return new Un(s,o,_)}}var qE=class{constructor(s,o,_){this.uuid=s,this.data=o,this.group=new Un(qE.GROUP_ID,{...Hp.defaultData},_),this.createChildrenObjects(o.objects,this.group,_)}createObject(s,o,_,j,et,st){let nt=xL(s,o,st);nt&&(j.add(nt),j.children.splice(et,0,j.children.pop()),nt.updateWorldMatrix(),_.length>0&&(nt instanceof Un||nt instanceof Ji)&&this.createChildrenObjects(_,nt,st))}createChildrenObjects(s,o,_){let j=0;for(let et of s)this.createObject(et.id,et.data,et.children,o,j,_),j+=1}draw(s){this.group.draw(s)}updateEntityByOp(s,o,_,j){let et=this.find(s);if(et)try{et.updateByOp(o,_,{shared:j})}catch(st){console.error(st)}}updateTreeByOp(s,o){if(s.path.length===0&&s.type===7){let _=s.parent===null?this.group:this.find(s.parent);_!==void 0&&_ instanceof Zi&&(this.createObject(s.id,s.data,s.children,_,s.localIndex,o),_.requestRender())}else if(s.path.length===0&&s.type===8){let _=this.find(s.id);if(_!==void 0&&_.parent!==void 0&&_.parent instanceof Zi){let j=_.parent;_.resetBBoxNeedsUpdate(),j==null||j.remove(_),j==null||j.requestRender()}}else if(s.path.length===0&&s.type===9){let _=this.find(s.id);if(_!==void 0){let j=_.parent,et=s.parent===null?this:this.find(s.parent);if(et instanceof Zi||et===this){et.add(_);let st=s.localIndex;et.children.splice(st,0,et.children.pop()),_.updateWorldMatrix(!0,!1,!0),j==null||j.requestRender(),_.requestRender()}_.resetBBoxNeedsUpdate()}}}add(s){this.group.add(s)}remove(s){this.group.remove(s)}traverse(s){this.group.traverse(o=>{o!==this.group&&s(o)})}intersectsChildren(s,o,_,j=!1,et=[]){return this.group.intersectsChildren(s,o,_,j,et,!0)}intersectsChildrenReverse(s,o,_,j=!1,et=[]){return this.group.intersectsChildrenReverse(s,o,_,j,et,!0)}find(s){return this.group.find(s)}get children(){return this.group.children}project(s,o){return this.group.project(s,o)}getWithSortKey(s){let o=this.find(s);if(o===void 0)return;let _=[],j=o;for(;j!==this.group;){let et=j;j=j.parent;let st=j.children.indexOf(et);_.splice(0,0,st)}return{entity:o,sortKey:_}}getAllSorted(s){let o=[];for(let _ of s){let j=this.getWithSortKey(_.id);j!==void 0&&o.push(j)}return o.sort((_,j)=>rv(_.sortKey,j.sortKey)),o.map(_=>_.entity)}},eu=qE;eu.GROUP_ID="scene2d";function YE({constraints:s,newParentWidth:o,newParentHeight:_,initialParentWidth:j,initialParentHeight:et,objectInitialWidth:st,objectInitialHeight:nt,objectInitialPosition:ct}){let{horizontalConstraint:At,verticalConstraint:mt}=s,gt=o-j,_t=_-et,Et=st,Ct=nt,Bt=ct[0],Dt=ct[1];if(At!==0){if(At===1)Bt+=gt;else if(At===3)Bt+=gt/2;else if(At===2)Et=Math.max(1,Et+gt);else if(At===4){let Ft=o/j;Et*=Ft,Bt*=Ft}}if(mt!==0){if(mt===1)Dt+=_t;else if(mt===3)Dt+=_t/2;else if(mt===2)Ct=Math.max(1,Ct+_t);else if(mt===4){let Ft=_/et;Ct*=Ft,Dt*=Ft}}return{width:Et,height:Ct,position:[Bt,Dt]}}Jo(WE(),1);var IK=`
	varying vec2 vUv;
	void main() {
		vUv = uv;
		gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
	}`,OK=`
	uniform sampler2D tDiffuse;
	varying vec2 vUv;
	void main() {
		vec4 texel = texture2D( tDiffuse, vUv );
		gl_FragColor = texel;
	}`,RK=new Ja(-1,1,1,-1,0,1),KE=class extends _e{constructor(){super(),this.setAttribute("position",new Me([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Me([0,2,0,0,2,0],2))}},LK=new KE,ZE=class{constructor(s){this._mesh=new Ut(LK,s)}dispose(){this._mesh.geometry.dispose()}render(s){s.render(this._mesh,RK)}get material(){return this._mesh.material}set material(s){this._mesh.material=s}},bL=new it({defines:{},uniforms:{tDiffuse:new le$2(null)},vertexShader:IK,fragmentShader:OK}),BK$1=new ZE(bL),XE=null,QE=null,NK=()=>(XE===null&&(XE=document.createElement("canvas")),XE),FK=s=>(QE===null&&(QE=new Rm(s)),QE),VK=St.identity(),Mf=class{constructor(s,o,_,j){this.uuid=s,this.width=o,this.height=_,this.context=j,this.enabled=!0,this.isScreenSpace=!1,this.dpr=window.devicePixelRatio,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this._innerApplySize=()=>{let et=this.width,st=this.height,nt=this.dpr;this.renderer.dpr=this.isScreenSpace?nt:Math.floor(2048/Math.max(et,st)),this.renderer.setSize(et,st)},this.onFrameOverrideObjectEvent=et=>{var st,nt;if(((st=et.target)==null?void 0:st.uuid)!==void 0){let ct=(nt=this.frameRoot)==null?void 0:nt.find(et.target.uuid);ct&&ct.dispatchEvent({...et,target:ct})}},this.scene2d=new eu(we.generateUUID(),$v.defaultData,{dpr:window.devicePixelRatio,shared:j.shared}),this.canvas=NK(),this.renderer=FK(this.canvas),this.promise=this.init(),this.renderTarget=new dt(1,1,{type:Wn,stencilBuffer:!1,depthBuffer:!1}),j.shared.addUIBuffer(this.uuid,this.renderTarget),this.textureHolder=j.shared.uiBuffer(this.uuid)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new ly(this.canvas)),this._canvasTexture}async init(){this.renderer instanceof Rm&&(this.renderer.wasmURL=z0.skiaWasmUrl),await this.renderer.init()}render(s){var o,_;if(this.isFrameDirty){this.isFrameDirty=!1,this._innerApplySize(),this.renderer.clear(),(o=this.frameOverride)==null||o.draw(this.renderer),this.renderer.render(),bL.uniforms.tDiffuse.value=this.canvasTexture,this.canvasTexture.needsUpdate=!0;let j=s.getRenderTarget();s.setRenderTarget(this.renderTarget),s.clear(),BK$1.render(s),s.setRenderTarget(j),(_=this.textureHolder)==null||_.setNeedsUpdate(!0)}}updateEntity2DByOp(s,o,_,j){this.scene2d.updateEntityByOp(s,o,_,j),this.applySize()}updateTreeByOp(s,o){this.scene2d.updateTreeByOp(s,o),this.applySize()}applyOverrides(s){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let o=(s==null?void 0:s.width)??this.width,_=(s==null?void 0:s.height)??this.height;this.frameOverride.width=o,this.frameOverride.height=_,this.frameOverride.localMatrix=VK,this.isScreenSpace&&(this.frameOverride.fill.color=bt.from0to1([0,0,0,0])),this.frameOverride.data={...this.frameOverride.data,width:o,height:_},SL({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(s,o=window.devicePixelRatio){var ct,At;let _=Math.max(1,(s==null?void 0:s.width)??this.width),j=Math.max(1,(s==null?void 0:s.height)??this.height);this.dpr=o,this.width=_,this.height=j,this._innerApplySize();let et=1,st=512,nt=512;(_*o<st||j*o<nt)&&(et=Math.max(st/(_*o),nt/(j*o))),this.renderTarget.setSize(_*o*et,j*o*et),(ct=this._canvasTexture)==null||ct.dispose(),this._canvasTexture=void 0,this.applyOverrides(s),(At=this.frameOverride)==null||At.requestRender()}applyFrame(s){var _,j;let o=this.context.scene.find2D(s);if(!(!o||!(o instanceof Ji)))return this.disposeFrameOverride(),this.frameRoot=o,this.frameOverride=o.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),(_=this.frame)==null||_.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse(et=>{et.addEventListener("beginState",this.onFrameOverrideObjectEvent)}),this.frameOverride.traverse(et=>{et.addEventListener("completeState",this.onFrameOverrideObjectEvent)}),(j=this.frame)==null||j.requestRender(),o}get frame(){return this.frameOverride}get frameId(){var s;return(s=this.frame)==null?void 0:s.uuid}find(s){return this.scene2d.find(s)}get texture(){var s;return(s=this.textureHolder)==null?void 0:s.getTexture(1001)}disposeFrameOverride(){var s,o,_;(s=this.frameOverride)==null||s.removeEventListener("render",this.onRenderRequestedDownstream),(o=this.frameOverride)==null||o.traverse(j=>{j.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)}),(_=this.frameOverride)==null||_.traverse(j=>{j.removeEventListener("completeState",this.onFrameOverrideObjectEvent)}),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function SL({objectOverride:s,objectRoot:o,newParentWidth:_,newParentHeight:j,initialParentWidth:et,initialParentHeight:st}){if(s instanceof Ji&&o instanceof Ji||s instanceof Un&&o instanceof Un)for(let nt=0,ct=s.children.length;nt<ct;nt++){let At=s.children[nt],mt=o.children[nt];At&&mt&&At.uuid===mt.uuid&&zK({objectOverride:At,objectRoot:mt,newParentWidth:_,newParentHeight:j,initialParentWidth:et,initialParentHeight:st})}}function UK(s){if(JE(s))return[s.width,s.height];if(s instanceof Ba){let[o,_]=s.getHalfSize();return[o*2,_*2]}else if(s instanceof Un){let[o,_]=s.recursiveBBox.getHalfSize();return[o*2,_*2]}return[0,0]}function zK({objectOverride:s,objectRoot:o,newParentWidth:_,newParentHeight:j,initialParentWidth:et,initialParentHeight:st}){let[nt,ct]=UK(o),{width:At,height:mt,position:gt}=YE({constraints:s.data,newParentWidth:_,newParentHeight:j,initialParentWidth:et,initialParentHeight:st,objectInitialWidth:nt,objectInitialHeight:ct,objectInitialPosition:o.position});if(s.position=gt,s.data={...s.data,position:gt},s.states)for(let _t in s.states)kK({stateId:_t,objectOverride:s,objectRoot:o,newParentWidth:_,newParentHeight:j,initialParentWidth:et,initialParentHeight:st});if(JE(s)||s instanceof Un)JE(s)&&(s.width=At,s.height=mt,s.data={...s.data,width:At,height:mt}),SL({objectOverride:s,objectRoot:o,newParentWidth:At,newParentHeight:mt,initialParentWidth:nt,initialParentHeight:ct});else if(s instanceof Ba){let _t=o,Et=nt!==0?At/nt:1,Ct=ct!==0?mt/ct:1;s.path=yL(_t.path,Et,Ct),s.data={...s.data,path:s.path}}}function kK({stateId:s,objectOverride:o,objectRoot:_,newParentWidth:j,newParentHeight:et,initialParentWidth:st,initialParentHeight:nt}){var mt,gt;let ct=(mt=o.states)==null?void 0:mt[s],At=(gt=_.states)==null?void 0:gt[s];if(ct&&At){let{width:_t,height:Et,position:Ct}=YE({constraints:o.data,newParentWidth:j,newParentHeight:et,initialParentWidth:st,initialParentHeight:nt,objectInitialWidth:Ea.isResizeable(At)?At.width:0,objectInitialHeight:Ea.isResizeable(At)?At.height:0,objectInitialPosition:At.position});Object.assign(o.states[s],{position:Ct}),Ea.isResizeable(ct)&&Object.assign(o.states[s],{width:_t,height:Et})}}function JE(s){return s instanceof As||s instanceof Ji||s instanceof ql||s instanceof Yl}var cr=class extends md(ei){constructor(s,o,_){super(),this.data=o,this.bgColor=new vr(1,1,1,1),this.fog=null,this.backupFog=new Lu(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new We,this.penumbraSizeArrayCache=null,this.super_Entity(s,o),this.personalCamera=new wr$1(hs,{...Ic.defaultData,...o.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new fy(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),o.uiScene?this.uiScene=new eu((Array.isArray(s)?s[0]:s)+"-ui",o.uiScene,{dpr:window.devicePixelRatio,shared:_.shared}):o.uiFrame&&this.createUICanvas(o.uiFrame,_)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){var s;return(s=this.uiCanvas)==null?void 0:s.frame}createUICanvas(s,o){this.uiCanvas=new Mf(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,o),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then(()=>{var _,j;(_=this.uiCanvas)==null||_.applyFrame(s),(j=this.uiCanvas)==null||j.applySize()})}updateVisible(){}setBackgroundColor(s){this.bgColor=s,this.fogUseBGColor===!0&&(this.backupFog.color=s)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(s,o){s.color!==void 0&&(this.ambientLight.color=Ki(s.color,o)),s.intensity!==void 0&&(this.ambientLight.intensity=s.intensity),s.enabled!==void 0&&(s.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(s){this.isActive=!0,s.fog=this.fog,this.traverseEntity(o=>{o instanceof Fn&&o.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(s=>{if(s instanceof ys)if(Array.isArray(s.material))for(let o of s.material)o.needsUpdate=!0;else s.material.needsUpdate=!0,s.material.dispose()})}updateShadow(s){s.softShadowQuality!==void 0&&this.isActive&&Y3(s.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(s,o){if(s.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let _=this.scene;_.fog=this.fog}this.fogUseBGColor=s.useBackgroundColor,s.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=Ki(s.color,o),this.backupFog.near=s.near,this.backupFog.far=s.far}updateAo(s,o){s.aoColor!==void 0&&(this.aoColor=Ki(s.aoColor,o))}updateByOp(s,o,_,j){let et=this.data.uiFrame;super.updateByOp(s,o,_,j);let st=o;Lt(s.path,["fog"])?this.updateFog(st.fog,_.shared):Lt(s.path,["ao"])?this.updateAo(st.ao,_.shared):Lt(s.path,["ambient"])?this.updateAmbientLight(st.ambient,_.shared):Lt(s.path,["shadow"])?this.updateShadow(st.shadow):s.type===0&&s.path.length===0&&(s.props.uiFrame!==void 0||et!==st.uiFrame)&&this.updateUIFrame(s.props.uiFrame,_)}updateUIFrame(s,o){s?(this.uiCanvas||this.createUICanvas(s,o),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(s)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(s,o){this.updateState_Entity(s,o),s.backgroundColor!==void 0&&this.setBackgroundColor(Ki(s.backgroundColor,o.shared)),s.fog!==void 0&&this.updateFog(s.fog,o.shared),s.ambient!==void 0&&this.updateAmbientLight(s.ambient,o.shared),s.ao!==void 0&&this.updateAo(s.ao,o.shared),s.shadow!==void 0&&this.updateShadow(s.shadow)}createFrame(s,o){}raycast(s,o){super.raycast(s,o)}switchActiveCamera(s){s&&s.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=s,s.objectHelper.visible=!1)}get playCamera(){var s;return((s=this.scene)==null?void 0:s.find(this.data.publish.playCamera))??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let s=0,o=0;this.traverseEntity(_=>{if(!_.visible)return!0;_ instanceof wf&&_.visible&&s<3&&(this.penumbraSizeArrayCache[s]=_.data.penumbraSize??.5,s+=1),_ instanceof Af&&_.visible&&s<2&&(this.penumbraSizeArrayCache[3+o]=_.data.penumbraSize??.5,o+=1)})}raycastWithClones(s){let o=[],_=j=>{for(let et of j.children){let st=et.cloner;yt.is(et)&&(et.visible||st!=null&&st.object.data.visible)&&((cn(et)||Cm(et)&&this.scene.enableHelpers&&et.objectHelper.visible)&&(s.intersectObject(et,!1,o),Nm(et,s,o,!0)),_(et))}};return _(this),o}updateEntity2DByOp(s,o,_,j){var et;(et=this.uiCanvas)==null||et.updateEntity2DByOp(s,o,_,j)}},Ux=class extends sf(my,bf){constructor(s,o,_){super(),this.super_Entity(s,o),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let j=this.shadow.camera;j.fov=90,j.aspect=1,j.near=100,j.far=2500;let et=new E$2(-j.far+this.position.x,-j.far+this.position.y,-j.far+this.position.z),st=new E$2(j.far+this.position.x,j.far+this.position.y,j.far+this.position.z),nt=new jt(et,st),ct=new al(nt,new We(16755200));ct.visible=!1,this.gizmos.shadowmap=ct,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let s in this.gizmos){let o=this.gizmos[s];if(o instanceof al){let _=this.shadow.camera,j=new E$2(-_.far+this.position.x,-_.far+this.position.y,-_.far+this.position.z),et=new E$2(_.far+this.position.x,_.far+this.position.y,_.far+this.position.z);o.box.set(j,et),o.updateMatrixWorld(!0)}}}updateMatrixWorld(s){super.updateMatrixWorld(s),this.objectHelper&&this.objectHelper.update()}updateState(s,o){this.updateState_Light(s,o),s.distance!==void 0&&(this.distance=s.distance),s.decay!==void 0&&(this.decay=s.decay),s.shadowRadius!==void 0&&(this.shadow.radius=s.shadowRadius),s.shadowResolution!==void 0&&(this.shadow.mapSize.set(s.shadowResolution,s.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},zx=class extends lr{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(s,o){let _=this.geometry.getAttribute("position");_!==void 0?um(_,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:_.count,s,o):super.updateEntityBoxSize(s,o)}},Xl=class extends lr{constructor(s,o,_){super(s,o,_),this._shapeId=null,this._context=_}updateState(s,o){super.updateState(s,o),this.updateShape()}updateShape(){var j;let s={...this.data.geometry.extrusion.shape};for(let et in s)typeof s[et]=="string"&&(s[et]=this._context.shared.getVariable(s[et],[this.uuid,"geometry","extrusion","shape",et]));let o;if(s.type==="Custom"){let et=s.shapeId;if(et!==this._shapeId&&this.detachShape(),et){this._shapeId=et;let st=this._context.scene.find(et);st!=null&&st.data&&(st.attachedPaths.add(this),o=(j=st.geometry.userData)==null?void 0:j.shape),o||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let et;switch(s.type){case"Rectangle":et=Td;break;case"Ellipse":et=Ad;break;case"Polygon":et=C0;break;case"Star":et=P0;break;default:throw new Error(`Unknown shape type: ${s.type}`)}o=et.create({parameters:s}).userData.shape}let _=this.geometry;o&&_.inputs&&(_.inputs.shapeData=o,_.build(),this.attachedSurfaceCloners.forEach(et=>et.update()))}detachShape(){var s;this._shapeId!==null&&((s=this._context.scene.find(this._shapeId))==null||s.attachedPaths.delete(this))}createGeometryDelayed(s){this.geometryCreateDeleyed=s.shared,this.updateShape(),this.refreshAttachedPaths(s)}updateTransformState(s,o){return super.updateTransformState(s,o)}updateGeometryInteractions(s,o){super.updateGeometryInteractions(s,o),this.updateShape()}updateEntityBoxSize(s,o){let _=this.geometry.getAttribute("position");_!==void 0?um(_,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:_.count,s,o):super.updateEntityBoxSize(s,o)}},Ql=class extends Ul{constructor(s,o,_){super(s,o,_),this.data=o}},$s=class extends bs(sn,Ss){constructor(s,o,_){super(),o.type==="Instance"&&typeof s=="string"&&(o=this.transformAssignData(o,_)),this.super_Entity(s,o),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(s,o){let _=qh.getComponentData({scene:o.scene.data,shared:o.shared.data},s.component);if(_){let j,et;for(let st of Mo.rootOverrideProps)s[st]===void 0?(j===void 0&&(j={...s}),j[st]=_.data[st]):(et===void 0&&(et={}),et[st]=s[st],j===void 0&&(j={...s}),j[st]=vo.apply(_.data[st],s[st]));return this.overrideData=et,j}else return{...vi.defaultData,...s,...Pn(vi.defaultData,Mo.rootOverrideProps)}}updateByOp(s,o,_,j){let et;if(this.isInstanceRoot&&!j){if(o=this.transformAssignData(o,_),s.type===0&&s.path.length===0&&this.component)for(let st of Mo.rootOverrideProps)st in s.props&&s.props[st]===void 0&&(et===void 0&&(et={...s,props:{...s.props}}),et.props[st]=this.component.data[st]);else if(s.type===0&&s.path.length>0&&Mo.rootOverrideProps.includes(s.path[0])){let st=s.path[0];et===void 0&&(et={...s,path:[],props:{[st]:o[st]}})}}super.updateByOp(et??s,o,_,j)}updateState(s,o){this.updateState_Entity(s,o)}expandInstanceChildren(s){let o=this.data;if(this.component===void 0){let _=s.scene.find(o.component)??null,j=!1;if(_!==this.oldComponent){if(this.oldComponent){let et=0;for(let st of this.children)if(yt.is(st))s.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(st),kx(st),et+=1;else break;this.children.splice(0,et)}j=!0}if(_){let et={};AL$1(s,[this.uuid],o.overrides,this,_,_,0,j,et);for(let st of this.children)if(yt.is(st)){let nt=st.data;nt.type==="Empty"&&nt.animations&&st.traverseEntity(ct=>{let At=ct.dataPatched;if(ct instanceof lr&&At.bones&&At.boneInverses){let mt=ct.dataPatched;if(mt.bones&&mt.boneInverses){let gt=mt.bones.map(Ct=>s.scene.find(et[Ct])),_t=mt.boneInverses.map(Ct=>new ue$2().fromArray(Ct)),Et=new $a(gt,_t);ct.bind(Et,ct.bindMatrix)}}else ct.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function kx(s){if(s.component){let o=s.component.instances.indexOf(s);o>=0&&s.component.instances.splice(o,1);for(let _ of s.children)yt.is(_)&&kx(_)}}function wL(s,o,_,j){return s.component===o&&Cc(s.identity,j)?s.overrideData===_?2:1:0}function AL$1(s,o,_,j,et,st,nt,ct,At){if(nt>50)return!1;if(j.component!==et){if(j.component){let gt=j.component.instances.indexOf(j);gt>=0&&j.component.instances.splice(gt,1)}et.instances.find(gt=>gt===j)||et.instances.push(j),j.component=et}et instanceof $s&&et.isInstanceRoot&&et.expandInstanceChildren(s);let mt=0;for(let gt of et.children)if(yt.is(gt)){let _t=[...o,...typeof gt.identity=="string"?[gt.identity]:gt.identity],Et=Hh.resolve(_,_t,1);Et!=null&&!(Et instanceof yr$1)&&(Object.setPrototypeOf(Et,yr$1.prototype),console.error("wrong prototype"));let Ct=null,Bt;if(!ct){let Dt=j.children[mt];if(Ct=yt.is(Dt)?Dt:null,Ct!==null){let Ft=wL(Ct,gt,Et,_t);Bt=Ft>=1?Ct.stateSelection:void 0,Ft!==2&&(Ct=null)}if(Ct===null&&(Ct=s.scene.findInstance(_t)??null,Ct!==null)){let Ft=wL(Ct,gt,Et,_t);if(Bt=Ft>=1?Ct.stateSelection:void 0,Ft!==2)Ct=null;else{let Rt=Ct.parent.children.indexOf(Ct);Ct.parent.children.splice(Rt,1),j.children.splice(mt,0,Ct),Ct.parent===j?Rt<=mt&&console.error("not possible"):(Ct.parent=j,Ct.matrixWorldNeedsUpdate=!0,Ct.resetBBoxNeedsUpdate(),Ct.updateVisible(),s.pendingDeletes.delete(Ct))}}}if(Ct===null){let Dt=Et?vo.apply(gt.data,Et):gt.data;Vs.is(Dt.type)&&(Dt={...Dt,type:"Empty"}),Ct=js.createEntity(_t,Dt,s),Ct.overrideData=Et,j.add(Ct),j.children.splice(j.children.length-1,1),j.children.splice(mt,0,Ct),Ct.updateState(Ct.data,s),Bt&&Ct.changeSelectedState(Bt,s),s.scene.registerInstanceAndSetUuid(Ct)}if(Ct.isBone){let Dt=Ct.identity[Ct.identity.length-1];At[Dt]=Ct.uuid}mt+=1,AL$1(s,o,_,Ct,gt,st,nt+1,ct,At)}if(!ct){let gt=mt;for(;;){let _t=j.children[mt];if(yt.is(_t))s.pendingDeletes.add(_t);else break;mt+=1}j.children.splice(gt,mt-gt)}return!0}var Gx=class extends bs(hp,Ss){constructor(s,o){super(),this.super_Entity(s,o),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(s,o){this.updateState_Entity(s,o)}},Er=class extends lr{constructor(s,o,_){super(s,o,_),this.onBeforeRender=j=>{this.uiCanvas.render(j)},this.uiCanvas=new Mf(s+"-canvas",o.geometry.width,o.geometry.height,_),this.uiCanvas.promise.then(()=>{this.applyFrame(this.dataPatched.geometry.frame,_.shared)})}updateByPatchedOpGeometry(s,o,_){super.updateByPatchedOpGeometry(s,o,_),s.type===0&&(s.props.frame!==void 0&&this.applyFrame(s.props.frame,_.shared),(s.props.width!==void 0||s.props.height!==void 0)&&this.applySize(s.props,_.shared))}applySize(s,o){let _=(s==null?void 0:s.width)??this.dataPatched.geometry.width,j=(s==null?void 0:s.height)??this.dataPatched.geometry.height;this.uiCanvas.applySize({width:_,height:j}),this.applyGeometryParametersFromFrame(o)}applyFrame(s,o){this.uiCanvas.applyFrame(s),this.applyGeometryParametersFromFrame(o),this.applyMaterialParametersFromFrame({shared:o})}applyGeometryParametersFromFrame(s){var _;let o=this.frame;o&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:o.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:o.cornerRadius,cornerType:0})}),(_=this.localGeometry)==null||_.dispose(),this.localGeometry=Ca(this.dataPatched.geometry,s,this.data.flatShading,this))}applyMaterialParametersFromFrame(s){let o=this.frame;if(o){let _=o.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:_.radius,alpha:_.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:_.radius,alpha:_.enabled?1:0}),this.material.reset(this.dataPatched.material,s,!0)}}updateEntity2DByOp(s,o,_,j){this.uiCanvas.updateEntity2DByOp(s,o,_,j),s===this.frameId&&o.type===0&&(o.props.cornerRadius!==void 0?this.applyGeometryParametersFromFrame(j):Lt(o.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:j}))}get frame(){return this.uiCanvas.frame}get frameId(){var s;return(s=this.frame)==null?void 0:s.uuid}removeInteractionGeometry(s){super.removeInteractionGeometry(s),this.applySize({},s)}updateGeometryInteractions(s,o){super.updateGeometryInteractions(s,o),this.applySize({width:s.width,height:s.height},o)}},jx=class{constructor(s,o,_){this.variables=[],this.currentTextureIndex=0;let j=br,et=new ei,st=new qn;st.position.z=1;let nt={passThruTexture:{value:null}},ct=gt(Et(),nt),At=new Ut(new Li(2,2),ct);et.add(At),this.setDataType=function(Ct){return j=Ct,this},this.addVariable=function(Ct,Bt,Dt){let Ft=this.createShaderMaterial(Bt),Rt={name:Ct,initialValueTexture:Dt,material:Ft,dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:Vt,magFilter:Vt};return this.variables.push(Rt),Rt},this.setVariableDependencies=function(Ct,Bt){Ct.dependencies=Bt},this.init=function(){if(_.capabilities.isWebGL2===!1&&_.extensions.has("OES_texture_float")===!1)return"No OES_texture_float support for float textures.";if(_.capabilities.maxVertexTextures===0)return"No support for vertex shader textures.";for(let Ct=0;Ct<this.variables.length;Ct++){let Bt=this.variables[Ct];Bt.renderTargets[0]=this.createRenderTarget(s,o,Bt.wrapS,Bt.wrapT,Bt.minFilter,Bt.magFilter),Bt.renderTargets[1]=this.createRenderTarget(s,o,Bt.wrapS,Bt.wrapT,Bt.minFilter,Bt.magFilter),this.renderTexture(Bt.initialValueTexture,Bt.renderTargets[0]),this.renderTexture(Bt.initialValueTexture,Bt.renderTargets[1]);let Dt=Bt.material,Ft=Dt.uniforms;if(Bt.dependencies!==null)for(let Rt=0;Rt<Bt.dependencies.length;Rt++){let Nt=Bt.dependencies[Rt];if(Nt.name!==Bt.name){let Gt=!1;for(let dr=0;dr<this.variables.length;dr++)if(Nt.name===this.variables[dr].name){Gt=!0;break}if(!Gt)return"Variable dependency not found. Variable="+Bt.name+", dependency="+Nt.name}Ft[Nt.name]={value:null},Dt.fragmentShader=`
uniform sampler2D `+Nt.name+`;
`+Dt.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let Ct=this.currentTextureIndex,Bt=this.currentTextureIndex===0?1:0;for(let Dt=0,Ft=this.variables.length;Dt<Ft;Dt++){let Rt=this.variables[Dt];if(Rt.dependencies!==null){let Nt=Rt.material.uniforms;for(let Gt=0,dr=Rt.dependencies.length;Gt<dr;Gt++){let ts=Rt.dependencies[Gt];Nt[ts.name].value=ts.renderTargets[Ct].texture}}this.doRenderTarget(Rt.material,Rt.renderTargets[Bt])}this.currentTextureIndex=Bt},this.getCurrentRenderTarget=function(Ct){return Ct.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(Ct){return Ct.renderTargets[this.currentTextureIndex===0?1:0]},this.dispose=function(){At.geometry.dispose(),At.material.dispose();let Ct=this.variables;for(let Bt=0;Bt<Ct.length;Bt++){let Dt=Ct[Bt];Dt.initialValueTexture&&Dt.initialValueTexture.dispose();let Ft=Dt.renderTargets;for(let Rt=0;Rt<Ft.length;Rt++)Ft[Rt].dispose()}};function mt(Ct){Ct.defines.resolution="vec2( "+s.toFixed(1)+", "+o.toFixed(1)+" )"}this.addResolutionDefine=mt;function gt(Ct,Bt){Bt=Bt||{};let Dt=new it({uniforms:Bt,vertexShader:_t(),fragmentShader:Ct});return mt(Dt),Dt}this.createShaderMaterial=gt,this.createRenderTarget=function(Ct,Bt,Dt,Ft,Rt,Nt){return Ct=Ct||s,Bt=Bt||o,Dt=Dt||Xt,Ft=Ft||Xt,Rt=Rt||Vt,Nt=Nt||Vt,new dt(Ct,Bt,{wrapS:Dt,wrapT:Ft,minFilter:Rt,magFilter:Nt,format:qr,type:j,depthBuffer:!1})},this.createTexture=function(){let Ct=new Float32Array(s*o*4),Bt=new gi(Ct,s,o,qr,br);return Bt.needsUpdate=!0,Bt},this.renderTexture=function(Ct,Bt){nt.passThruTexture.value=Ct,this.doRenderTarget(ct,Bt),nt.passThruTexture.value=null},this.doRenderTarget=function(Ct,Bt){let Dt=_.getRenderTarget(),Ft=_.xr.enabled,Rt=_.shadowMap.autoUpdate,Nt=_.outputEncoding,Gt=_.toneMapping;_.xr.enabled=!1,_.shadowMap.autoUpdate=!1,_.outputEncoding=mn,_.toneMapping=Is,At.material=Ct,_.setRenderTarget(Bt),_.render(et,st),At.material=ct,_.xr.enabled=Ft,_.shadowMap.autoUpdate=Rt,_.outputEncoding=Nt,_.toneMapping=Gt,_.setRenderTarget(Dt)};function _t(){return`void main()	{

	gl_Position = vec4( position, 1.0 );

}
`}function Et(){return`uniform sampler2D passThruTexture;

void main() {

	vec2 uv = gl_FragCoord.xy / resolution.xy;

	gl_FragColor = texture2D( passThruTexture, uv );

}
`}}},$i=new Cr$1,Hx=new E$2,Wx=class{constructor(s){let o=s.geometry;if(!o.isBufferGeometry||o.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");o.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),o=o.toNonIndexed()),this.geometry=o,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(s){return this.weightAttribute=s?this.geometry.getAttribute(s):null,this}build(){let s=this.positionAttribute,o=this.weightAttribute,_=new Float32Array(s.count/3);for(let et=0;et<s.count;et+=3){let st=1;o&&(st=o.getX(et)+o.getX(et+1)+o.getX(et+2)),$i.a.fromBufferAttribute(s,et),$i.b.fromBufferAttribute(s,et+1),$i.c.fromBufferAttribute(s,et+2),st*=$i.getArea(),_[et/3]=st}this.distribution=new Float32Array(s.count/3);let j=0;for(let et=0;et<_.length;et++)j+=_[et],this.distribution[et]=j;return this}setRandomGenerator(s){return this.randomFunction=s,this}sample(s,o,_){let j=this.distribution[this.distribution.length-1],et=this.binarySearch(this.randomFunction()*j);return this.sampleFace(et,s,o,_)}binarySearch(s){let o=this.distribution,_=0,j=o.length-1,et=-1;for(;_<=j;){let st=Math.ceil((_+j)/2);if(st===0||o[st-1]<=s&&o[st]>s){et=st;break}else s<o[st]?j=st-1:_=st+1}return et}sampleFace(s,o,_,j){let et=this.randomFunction(),st=this.randomFunction();return et+st>1&&(et=1-et,st=1-st),$i.a.fromBufferAttribute(this.positionAttribute,s*3),$i.b.fromBufferAttribute(this.positionAttribute,s*3+1),$i.c.fromBufferAttribute(this.positionAttribute,s*3+2),o.set(0,0,0).addScaledVector($i.a,et).addScaledVector($i.b,st).addScaledVector($i.c,1-(et+st)),_!==void 0&&$i.getNormal(_),j!==void 0&&this.colorAttribute!==void 0&&($i.a.fromBufferAttribute(this.colorAttribute,s*3),$i.b.fromBufferAttribute(this.colorAttribute,s*3+1),$i.c.fromBufferAttribute(this.colorAttribute,s*3+2),Hx.set(0,0,0).addScaledVector($i.a,et).addScaledVector($i.b,st).addScaledVector($i.c,1-(et+st)),j.r=Hx.x,j.g=Hx.y,j.b=Hx.z),this}};function EL(s){let o=new Float32Array(s*s*2);for(let _=0;_<s;_++)for(let j=0;j<s;j++){let et=_*s+j;o[et*2+0]=_/(s-1),o[et*2+1]=j/(s-1)}return o}function ML(s){let o=Math.ceil(Math.sqrt(s));return Math.max(o,1)}function TL(s,o){let _=new Ut(s.geometry,s.material),j=[],et=[],st=new E$2,nt=new E$2;_.geometry.index!==null&&(_.geometry=_.geometry.toNonIndexed());let ct=new Wx(_).build();for(let gt=0;gt<o;gt++)ct.sample(st,nt),j.push(st.x,st.y,st.z),et.push(nt.x,nt.y,nt.z);let At=new Float32Array(j),mt=new Float32Array(et);return{positions:At,normals:mt}}function $E(s,o){let _=s,j=new Float32Array(4*o*o);for(let st=0;st<o*o;st++)j[4*st]=_[3*st],j[4*st+1]=_[3*st+1],j[4*st+2]=_[3*st+2],j[4*st+3]=0;let et=new gi(j,o,o,qr,br);return et.needsUpdate=!0,et}function CL$1({size:s}){let o=new Float32Array(4*s*s);for(let j=0;j<s*s;j++)o[4*j]=j,o[4*j+1]=0,o[4*j+2]=0,o[4*j+3]=0;let _=new gi(o,s,s,qr,br);return _.needsUpdate=!0,_}function PL(s){let o=new Float32Array(4*s*s);for(let j=0;j<s*s;j++)o[4*j]=0,o[4*j+1]=0,o[4*j+2]=0,o[4*j+3]=0;let _=new gi(o,s,s,qr,br);return _.needsUpdate=!0,_}var _L=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform float uTime;
uniform float uSpeed;     // update speed of the particles
uniform vec3 uWorldOffset;    
uniform vec4 uWorldQuaternion;
uniform float uMaxLifeTime;
uniform vec3 uEmitterSize;
uniform float uFPSRatio;     // 1  for 60 FPS

float random (vec2 st) {
    return fract(sin(dot(st.xy,
        vec2(12.9898,78.233)))*
        43758.5453123);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
    vec3 acceleration = force / mass;
    
    return acceleration;
  }
  

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted
    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided
    float lifeTime = uMaxLifeTime;

    // Calculate the position adjustment based on collision
    //     if (collisionFlag > .5) {  
    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0
    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise
    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);

    // Update position based on collision or normal movement
    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);
    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);

    // EMISSION RATE - BIRTH
    // if (isSpawning == 1.0) {
    // Better Approach to avoid If statement
    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;
    originalPosition = mix(originalPosition, newPosition, isSpawning);
    position = mix(position, originalPosition, isSpawning);;
    timeStart = mix(timeStart, uTime, isSpawning);

    // Calculate timeLeft for life normalization
    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);
    float life_Normalize = timeLeft / lifeTime;

    // Use isActive to blend between the calculated color and black
    vec4 activeColor = vec4(position, life_Normalize);
    // if (isActive == 1.0) {
    gl_FragColor = mix(vec4(0.0), activeColor, isActive);

}
`,DL=`

    vec3 mod289(vec3 x) {
      return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 mod289(vec4 x) {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }
    
    vec4 permute(vec4 x) {
        return mod289(((x*34.0)+1.0)*x);
    }
    
    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }
    
    vec3 fade(vec3 t) {
  return t*t*t*(t*(t*6.0-15.0)+10.0);
}

    float snoise(vec3 v)
    {
    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i  = floor(v + dot(v, C.yyy) );
    vec3 x0 =   v - i + dot(i, C.xxx) ;
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min( g.xyz, l.zxy );
    vec3 i2 = max( g.xyz, l.zxy );
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y
    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y
    
    // Permutations
    i = mod289(i);
    vec4 p = permute( permute( permute(
                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))
              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
    
    // Gradients: 7x7 points over a square, mapped onto an octahedron.
    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)
    float n_ = 0.142857142857; // 1.0/7.0
    vec3  ns = n_ * D.wyz - D.xzx;
    
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)
    
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
    
    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    
    vec4 b0 = vec4( x.xy, y.xy );
    vec4 b1 = vec4( x.zw, y.zw );
    
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
    
    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);
    
    //Normalise gradients
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;
    
    // Mix final noise value
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),
                                  dot(p2,x2), dot(p3,x3) ) );
    }
    
    vec3 snoiseVec3( vec3 x ){
    
      float s  = snoise(vec3( x ));
      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));
      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));
      vec3 c = vec3( s , s1 , s2 );
      return c;
    
    }
    
      
    vec3 curlNoise( vec3 p, float seed){
      p += seed;
      const float e = .1;
      vec3 dx = vec3( e   , 0.0 , 0.0 );
      vec3 dy = vec3( 0.0 , e   , 0.0 );
      vec3 dz = vec3( 0.0 , 0.0 , e   );
    
      vec3 p_x0 = snoiseVec3( p - dx );
      vec3 p_x1 = snoiseVec3( p + dx );
      vec3 p_y0 = snoiseVec3( p - dy );
      vec3 p_y1 = snoiseVec3( p + dy );
      vec3 p_z0 = snoiseVec3( p - dz );
      vec3 p_z1 = snoiseVec3( p + dz );
    
      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;
    
      const float divisor = 1.0 / ( 2.0 * e );
      return normalize( vec3( x , y , z ) * divisor );
    
    }


// Classic Perlin noise
float cnoise(vec3 P)
{
  vec3 Pi0 = floor(P); // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod289(Pi0);
  Pi1 = mod289(Pi1);
  vec3 Pf0 = fract(P); // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);

  vec4 gx0 = ixy0 * (1.0 / 7.0);
  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 * (1.0 / 7.0);
  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
  return 2.2 * n_xyz;
}


vec3 fbm_vec3(vec3 p, float frequency, float offset)
{
  return vec3(
    cnoise((p+vec3(offset))*frequency),
    cnoise((p+vec3(offset+20.0))*frequency),
    cnoise((p+vec3(offset-30.0))*frequency)
  );
}

`,IL=`
  #ifdef USE_COLLIDER
    float restitution = max(uBounce * 2., .01); // Energy Loss
    // SPHERE COLLIDER
    // **************************************************************
    #ifdef USE_SPHERE_COLLIDER       
      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
      vec3 radii = uColliderSize;
      // Adjust position relative to collider
      vec3 relPos = position - uColliderPos;
      // Apply rotation of the collider to the relative position
      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
      // Scale relative position by radii (for ellipsoid collision detection)
      vec3 scaledPos = relPos / radii;
      // Calculate ellipsoidal distance
      float dist = length(scaledPos); // Distance in terms of ellipsoid
      
      // Check for collision
      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {
          // Compute the normal at the collision point, accounting for particle size
        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          
        // Compute the normal at the collision point
        vec3 normal = ellipsoidNormal(adjustedPos, radii);
        // Rotate the normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);
        // Reflect the velocity vector off the normal
        velocity = reflect(velocity, normal) * restitution;

        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif

    // BOX COLLIDER or PLANE COLLIDER 
    // **************************************************************
    #ifdef USE_BOX_COLLIDER
      // Box dimensions and repulsion variables
      vec3 boxHalfSize = uColliderSize / 2.0;
      // Convert world position to box's local space
      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
      // Collision detection
      vec3 localDistance = abs(localPos) - boxHalfSize;
      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    

      // Collision Detected
      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      
        // Find the nearest face normal for bounce direction
        vec3 normal;
        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {
            normal = vec3(sign(localPos.x), 0.0, 0.0);
        } else if (localDistance.y > localDistance.z) {
            normal = vec3(0.0, sign(localPos.y), 0.0);
        } else {
            normal = vec3(0.0, 0.0, sign(localPos.z));
        }            
        // Rotate normal back to world space
        normal = applyQuaternionToVector(uColliderQuaternion, normal);      
        // Reflect velocity and apply repulsion force
        velocity = reflect(velocity, normal) * restitution;
        
        collisionFlag = 1.0;
      } else {
        collisionFlag = 0.0;
      }
    #endif      
  #endif      
  // END COLLIDER    
`,OL=`
  #ifdef USE_ATTRACTOR

      #ifdef USE_SPHERE_COLLIDER      
        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)
        vec3 radii = uColliderSize;
        // Adjust position relative to collider
        vec3 relPos = position - uColliderPos;
        // Apply rotation of the collider to the relative position
        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
        // Scale relative position by radii (for ellipsoid collision detection)
        vec3 scaledPos = relPos / radii;
        // Calculate ellipsoidal distance
        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid
        float insideCheck = 1.0;

      #endif


      #ifdef USE_BOX_COLLIDER
        // Box dimensions
        vec3 boxHalfSize = uColliderSize / 2.0;
        // Convert world position to box's local space
        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
        vec3 localDistance = abs(localPos) - boxHalfSize;
        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));
        float insideCheck = particleSize;
      #endif      
  
      // Apply vortex force inside the Helper
      #ifdef USE_FORCE_LOCAL_SPACE
        if (distToSurface <= insideCheck ) {    
            // Define parameters for the attractor field
            #ifdef USE_SPHERE_COLLIDER      
              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed
            #endif

            #ifdef USE_BOX_COLLIDER
              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed
              #endif

            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)
          
            // Use the same radii calculation code as for the collider
            vec3 attractorRadii = uColliderSize;
            // Adjust position relative to attractor center
            vec3 relPos = position - uColliderPos;
            // Apply rotation of the collider to the relative position
            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            
            // Scale relative position by radii (for ellipsoid attraction)
            vec3 scaledPos = relPos / attractorRadii;

            // Calculate ellipsoidal distance as attractor radius
            float attractorRadius = length(scaledPos);
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * attractorStrength;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= attractorDamping;
        }
      #else 
            // Calculate the distance from the attractor center
            vec3 relativePosition = position - uColliderPos;
            // Calculate the force vector towards the attractor center
            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;
            // Apply the attractor force to the particle
            velocity -= attractorForce;
            // Attenuate the particle's velocity
            velocity *= uForceDamping;
      #endif    
  #endif      
`,RL=`
  #ifdef USE_VORTEX
    // Box dimensions
    vec3 boxHalfSize = uColliderSize / 2.0;
    // Convert world position to box's local space
    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      
    vec3 localDistance = abs(localPos) - boxHalfSize;
    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));

    // Apply vortex force inside the box
    if (distToSurface <= particleSize) {
      float vortexStrength = uForceIntensity;
      vec3 localTopCenter = vec3(0.0, 0., 0.0);

      // Transform the local top center to the world space
      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);
      // Calculate the vector from particle to vortex center
      vec3 vortexVector = vortexCenter - position;

      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector
      // Note: important to add a tiny z component to the up vector to avoid instability
      vec3 upVector = vec3(0.0, 1.0, 0.01);
      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));
      rotationAxis = normalize(rotationAxis);

      // Add rotational component to velocity
      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; 

      vec3 rotationVelocity = rotationAxis * rotationSpeed;
      // velocity += rotationVelocity * 0.005 ;
      velocity = rotationVelocity * 0.005 ;

      // Calculate vortex force
      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;
      // Apply the vortex force to the particle
      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);
      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);
    }
  #endif      
`,LL=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU
uniform sampler2D uOriginalPosition;
uniform sampler2D uDirections;     
uniform vec3 uDirectionsAxis;
uniform vec4 uWorldQuaternion;
uniform vec3 uGravity;        
uniform float uNoiseStrength;     // Variation of the noise
uniform float uNoiseScale;        // Scale of the noise
uniform float uNoiseSeed;         // Seed of the noise
uniform float particleSize;
uniform float uSpeed;     // update speed of the particles
uniform float uRandomMassFactor;

// COLLIDER
uniform vec3 uColliderPos;                // Collider Position
uniform vec3 uColliderSize;               // Collider Dimension
uniform vec4 uColliderQuaternion;         // Collider Rotation
uniform vec4 uColliderQuaternionInvert;   // Collider Rotation
uniform float uBounce;                    // Bounce factor
uniform float uForceDamping;
uniform float uForceIntensity;


`+DL+`
float rand(vec2 co){
    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);
}
vec3 applyQuaternionToVector( vec4 q, vec3 v ){
    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
 } 
vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
  
  return acceleration;
}

vec4 conjugate(vec4 q) {
  return vec4(q.w, -q.x, -q.y, -q.z);
}

// Function to compute the normal of the ellipsoid at a given point
vec3 ellipsoidNormal(vec3 p, vec3 radii) {
  return normalize(p / (radii * radii));
}

float friction = .3;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;
    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    vec3 directions = texture2D( uDirections, vUv ).xyz;    
    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;
    float mass = rand(originalPosition.xy) * 0.5 + 0.5;
    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning
    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active
    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision

    // Randomness Mass
    mass = (1.0 - (uRandomMassFactor * mass));
    
    if (isActive == 1.0) {
      // **************************************************************
      // FORCES NOISES
      // **************************************************************
      #ifdef USE_CURL_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {
          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;
        }
      #endif
      // **************************************************************
      #ifdef USE_SIMPLEX_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {
          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);
        }
      #endif
      // ************************************************************** 
      #ifdef USE_FBM_NOISE
        if (uNoiseScale > 0.0 ) {
          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), uNoiseSeed);
          velocity *= uSpeed;
        }
        // Variation of the noise Over Time
        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      
          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;
        }
      #endif

      // COLLIDER
      ${IL}
      // ATTRACTION
      ${OL}  
      // VORTEX
      ${RL}
    } 
    // End isActive

    // SPAWN BIRTH 
    // **************************************************************
    // if (isSpawning == 1.)
    #ifdef USE_NORMALS
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);
    #else
      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    
    #endif
    
    // if (collisionFlag == 0.0)
    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);

    gl_FragColor = vec4(velocity, collisionFlag);
}
`,eM=`

  // Linear Fade In
  float linearFadeIn(float t) {
    return t;
  }


  // linear fade out
  float linearFadeOut(float t) {
    return 1.0 - t;
  }
  
  float linearInOut(float t) {
    return t < 0.5 ? t :  (1.0 - t);  
  }

    // lerp
    float lerp(float a, float b, float t) {
      return a + (b - a) * t;
    }

  // Ease In Out Quart
  float exponentialInOut(float t) {
    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :
    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :
    1.0;
   }

  // constant
  float constant(float t) {
    return 1.0;
  } 
`,BL=`

float rand(vec3 co){
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

vec3 applyQuaternionToVector( vec4 q, vec3 v ){
  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );
}

vec3 applyForce(vec3 force, float mass) {
  vec3 acceleration = force / mass;
    
  return acceleration;
}
`,NL$1=`
vec3 rgb2xyz (in vec3 rgb) {
    float r = rgb.r;
	float g = rgb.g;
	float b = rgb.b;

	r = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);
	g = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);
	b = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);

	float x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);
	float y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);
	float z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);
    
    vec3 xyz = vec3(
        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,
        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,
        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0
    );
    return(xyz);
}

vec3 xyz2lab (in vec3 xyz) {
	float x = xyz.x / 95.047;
	float y = xyz.y / 100.0;
	float z = xyz.z / 108.883;

	x = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);
	y = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);
	z = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);

    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));
    return(lab);
}

vec3 rgb2lab(in vec3 rgb) {
    vec3 xyz = rgb2xyz(rgb);
    vec3 lab = xyz2lab(xyz);
    return(lab);
}

vec3 xyz2rgb (in vec3 xyz) {
	float x = xyz.x / 100.0;
	float y = xyz.y / 100.0;
	float z = xyz.z / 100.0;
	
    
	float r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);
	float g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);
	float b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);

	r = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;
	g = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;
	b = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;

	r = min(max(0.0, r), 1.0);
	g = min(max(0.0, g), 1.0);
	b = min(max(0.0, b), 1.0);

	return(vec3(r, g, b));
}

vec3 lab2xyz (in vec3 lab) {
    float l = lab.x;
	float a = lab.y;
	float b = lab.z;

  	float y = (l + 16.0) / 116.0;
	float x = a / 500.0 + y;
	float z = y - b / 200.0;

	float y2 = pow(y, 3.0);
	float x2 = pow(x, 3.0);
	float z2 = pow(z, 3.0);

  	y = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;
	x = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;
	z = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;

	x *= 95.047;
	y *= 100.0;
	z *= 108.883;

	return(vec3(x, y, z));
}
vec3 lab2rgb (in vec3 lab) {
    vec3 xyz = lab2xyz(lab);
    vec3 rgb = xyz2rgb(xyz);
    return(rgb);
}

`,FL=`
  uniform sampler2D uPosition;
  uniform float uSize;
  uniform float uSizeEnd;
  uniform vec3 uWorldOffset;
  uniform vec4 uWorldQuaternion;
  // Billboard Behavior - Currently at Zero, but we can change that
  uniform float uRotation;
  uniform float uRotationEnd;
  uniform vec2 center;

  // Randomness
  uniform float uRandScaleFactor;
  uniform float uRandRotationFactor;

  attribute vec2 ref;

  varying float v_LifeLeft;    // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  ${BL}
  ${eM}
`,VL=({easeSize:s="linearFadeOut"})=>`
  vUv = uv;  
  vRef = ref;
  // Normalized LifeTime 1 to 0
  float lifeLeft = texture2D(uPosition, ref).w;
  v_LifeLeft = lifeLeft;
  // Position From DataTexture Simulation
  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;
  // Apply World Quaternion
  pos = applyQuaternionToVector(uWorldQuaternion, pos);  
            
  #ifdef  USE_SIZE_END
    // Scaled Over Time
    float t = 1. - lifeLeft;
    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd
    vec3 scaledPosition = position * vec3(currentSize);
  #else
    // Change Size Behavior over LifeTime
    float easeSize = ${s}(1. - lifeLeft);
    // Scaled Over Time
    vec3 scaledPosition = position * vec3(uSize * easeSize);
  #endif

  // Billboard Behavior
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    
  // Randomness 
  float randRef = rand(ref);
  scale *= (1.0 - (uRandScaleFactor * randRef));
  // Rotation
  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);
  float originalRotation = (1.0 - uRotation) * 2.0 * PI;
  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;
  // OverTime
  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);

  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;
  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;
  
  mat4 instanceMatrix = mat4(
    vec4(1.0, 0.0, 0.0, 0.0),
    vec4(0.0, 1.0, 0.0, 0.0),
    vec4(0.0, 0.0, 1.0, 0.0),
    vec4(pos.x, pos.y, pos.z, 1.0)
  );  

  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  mvPosition.xy += rotatedPosition;
  gl_Position = projectionMatrix  * mvPosition;   
`,UL=`
  uniform vec4 uColor;                // start color
  uniform vec4 uColor2;               // end color
  uniform sampler2D uTexture;         // texture
  varying float v_LifeLeft;   // normalized lifetime 1 to 0
  varying vec2 vUv;
  varying vec2 vRef;

  float random(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }
  `+eM+`  
  ${NL$1}

`,zL=({easeOpacity:s="linearFadeOut"})=>`  
  // if Particle is dead, hide it
  if (v_LifeLeft <= 0.005 ) {
    discard;
  }

  #ifdef USE_RANDOM_COLORING
    float randVal = random(vRef); // Generate a random value based on the reference
    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors
  #else
    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);
  #endif

  // Opacity over Life Time
  float finalAlpha = ${s}(1. - v_LifeLeft);  
  vec4 textureColor = texture2D(uTexture, vUv).rgba; 
  finalColor = textureColor.rgb * color.rgb;
  finalAlpha = color.a * textureColor.a * finalAlpha;
  
  gl_FragColor = vec4(finalColor, finalAlpha);     

`,qx=class extends it{constructor(s,o){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(s,o),this.context=o}reset(){}init(s,o){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=s.ease,this.easeSize=s.easeSize,this.layers=[],sr.startContext(sr.globalContext),this.lightLayer=new wn(0,"",{...Gr.defaultData("light","phong"),visible:!1},new _a,{},o.shared),sr.endContext(sr.globalContext),this.build()}updateState(s){s.coloring!==void 0&&(this.isColoringRandom=s.coloring==="random"),s.color!==void 0&&(s.color instanceof Array?this.uniforms.uColor.value=s.color:this.uniforms.uColor.value=this.context.shared.color(s.color)),s.color2!==void 0&&(s.color2 instanceof Array?this.uniforms.uColor2.value=s.color2:this.uniforms.uColor2.value=this.context.shared.color(s.color2)),s.size!==void 0&&(this.uniforms.uSize.value=s.size[0],this.uniforms.uSizeEnd.value=s.size[1],s.size[0]!==s.size[1]?this.useSizeEnd=!0:this.useSizeEnd=!1),s.ease!==void 0&&(this.easeOpacity=s.ease,this.build()),s.easeSize!==void 0&&(this.easeSize=s.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(s){this.build(),s.defines=this.defines,s.uniforms=this.uniforms,s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader}build(){let s=new Bd;return s.needsJitter=this.needsJitter,s.addFragmentParsCode(nR),s.buildShader("vertex",this.fragment),s.buildShader("fragment",this.fragment),s.addFragmentFinalCode(sR),this.isColoringRandom&&s.define("USE_RANDOM_COLORING"),this.useSizeEnd&&s.define("USE_SIZE_END"),s.addVertexParsCode(FL),s.addFragmentParsCode(UL),s.addVertexFinalCode(VL({easeSize:this.easeSize})),s.addFragmentFinalCode(zL({easeOpacity:this.easeOpacity})),this.vertexShader=s.getCode("vertex"),this.fragmentShader=s.getCode("fragment"),this.defines=s.defines,this.uniforms={...s.uniforms,...this.uniforms},this.extensions=s.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach(s=>s.dispose()),super.dispose()}},Tf=class{constructor(s,o,_,j){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=s,this.type=_,this.textureSize=ML(o);let et=1;this.targetMesh=(j==null?void 0:j.type)==="Mesh"&&j?j:this.getMesh(_,et);let{positions:st,dataTexture:nt,dataTextureNormals:ct}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(_,et));this.positionsTexture=nt,this.positionsAttribute=st,this.directionsTexture=ct}createPositions(s,o){let{positions:_,normals:j}=TL(o,s*s),et=$E(_,s),st=$E(j,s);return{dataTexture:et,positions:_,dataTextureNormals:st}}getMesh(s,o){let _=null;switch(s){case"SphereEmitterShape":{_=new Ls(o*.5,32,32);break}case"TorusEmitterShape":{_=new ku(o*.5,.3,15,40);break}case"ConeEmitterShape":{_=new tl(o,o,15);break}case"BoxEmitterShape":{_=new mi(o,o,o);break}case"PlaneEmitterShape":{_=new Li(o,o),_.rotateX(-Math.PI/2);break}case"MeshEmitterShape":{_=new Ls(o,32,32);break}default:{_=new Ls(o,32,32);break}}return new Ut(_,new on$1({color:16711680}))}applyToShader(s,o){this.size=new E$2().fromArray(o.size),s.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function Kl(s){let o={...s},_=Vh.defaultData;o.forceFieldObjectId&&(o.colliderEntityId=o.forceFieldObjectId);let j={..._.shape,...o.shape},et={..._.renderMaterial,...o.renderMaterial};return{..._,...o,shape:j,renderMaterial:et}}var kL=`
// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU
// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU

uniform sampler2D uIndex; // Texture with corresponding index
uniform float uLastIndexEmitted; // Last emitted index
uniform float uParticlesToEmit; // Number of particles to emit on that frame
uniform float uTime;

void main() {
    vec2 vUv = gl_FragCoord.xy / resolution.xy;
    float particleIndex = texture(uIndex, vUv).x;
    float timeLeft = texture2D( uCurrentPosition, vUv ).w;
    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active
    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;


    // ********** Detect Colision to Create a flag and use it in position **********
    // We are doing this here, so

    // ********** Emit Particles **********
    // X = isSpawning 0.0 or 1.0
    // Y = isActive 0.0 or 1.0
    // Check if the vertex index is between the first value and the last value
    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {
    //     // Emit a particle by writing 1 to the red channel of the color output
    //     // r: 1. == emit the particle
    //     // g: 1. == particle is now active
    //     timeStart = uTime;
    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);
    // } else {
    //     // The Particle is either already emitted or not in the range of the particles to emit
    //     // Do not emit a particle by writing 0 to the red channel of the color output        
    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);
    // }
    // Determine if the particle is within the emission range
    float emitLowerBound = step(uLastIndexEmitted, particleIndex);
    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);
    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise

    // Set timeStart and color
    timeStart = mix(timeStart, uTime, emitParticle);
    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);


}
`,tM=10,Yx=class extends Mt{constructor(s,o){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new dy,this.currentWorldPosition=new E$2,this.systemQuaternion=new Qe,this.worldGravity=new E$2(0,0,0),this.directionAxis=new E$2(0,0,0),this.colliderV3=new E$2(0,0,0),this.colliderQuaternion=new Qe(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=s,this.system=o,this.shared=o.context.shared;let _=o.data;this.material=new qx(_.renderMaterial,o.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:_.renderMaterial.color},uColor2:{value:_.renderMaterial.color2},uPosition:{value:new E$2(0,0,0)},uEmissionData:{value:new E$2(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new E$2(0,0,0)},uWorldQuaternion:{value:new Ze(0,0,0,1)},uRandScaleFactor:{value:_.randomScale??0},uRandRotationFactor:{value:_.randomRotation??0},uRotation:{value:_.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:_.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,_.renderMaterial.texture),this.init(_)}setTexture(s,o){let _=o.data;if(typeof o=="string"){let j=this.shared.image(o),et=new $t(j.img);et.needsUpdate=!0,s.uTexture.value=et;return}if(typeof _!="string"){let j=new Image;j.onload=()=>{let nt=new $t(j);nt.needsUpdate=!0,s.uTexture.value=nt};let et=new Blob([_],{type:"image/*"}),st=URL.createObjectURL(et);j.src=st}}updateGeometryAttributes(s,o){var j;let _=EL(o);!((j=this.emitterShape)!=null&&j.positionsAttribute)||s.geometry.setAttribute("ref",new fo(_,2))}applyWorldSpace(){if(!this.system.started||!this.worldSpace||!this.positionSimRT||!this.velocitySimRT)return;let s=this.system;s.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),s.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(s,o){var nt;if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset){this.reset();return}this.applyWorldSpace(),this.globalTime=s,this.positionSimRT.material.uniforms.uTime.value=s,this.emissionRateSimRT.material.uniforms.uTime.value=s;let _=1e3/o,j=this.targetFPS/_,et=this.previousRatio+(j-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=et,this.previousRatio=et;let st=this.isEmitting?this.GoEmitSomeParticles(s,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=st,this.material.uniforms.uPosition.value=(nt=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT))==null?void 0:nt.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let s=this.system.colliderEntities[0],o=this.simFeaturesDefinition.USE_COLLIDER||this.simFeaturesDefinition.USE_ATTRACTOR||this.simFeaturesDefinition.USE_VORTEX;if(s.destroyedInAction&&o&&this.init(Kl({...this.system.data,colliderEntityId:null})),!s||s.destroyedInAction)return;s.getWorldPosition(this.colliderV3),this.colliderV3.y===0&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3);let _=s.data.size;this.colliderV3.fromArray(_),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),s.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert())}updateState(s){!this.velocitySimRT||!this.positionSimRT||(s.renderMaterial&&this.updateMaterialState(s.renderMaterial),this.updateParticleState(s))}updateVariableState(s,o){if(!this.velocitySimRT||!this.positionSimRT)return;o[2]==="size"&&this.material.updateState({size:[s,this.material.uniforms.uSizeEnd.value]}),o[2]==="sizeEnd"&&this.material.updateState({size:[this.material.uniforms.uSize.value,s]});let _=(j,et)=>{let st=[...this.system.data.shape.size];st[j]=et,this.updateParticleState({shape:{...this.system.data.shape,size:st}})};o[2]==="shape_size_0"&&_(0,s),o[2]==="shape_size_1"&&_(1,s),o[2]==="shape_size_2"&&_(2,s),o[2]==="speed"&&(this.velocitySimRT.material.uniforms.uSpeed.value=s/tM),o[2]==="gravity"&&this.worldGravity.set(0,s/100,0),o[2]==="noiseStrength"&&(this.noiseStrength=s,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),o[2]==="noiseScale"&&(this.noiseScale=s,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),o[2]==="direction_x"&&(this.directionAxis=this.getDirectionAxis([Number(s),this.system.data.direction[1],this.system.data.direction[2]])),o[2]==="direction_y"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(s),this.system.data.direction[2]])),o[2]==="direction_z"&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(s)]))}updateMaterialState(s){this.material.updateState({...s,size:s.size?[Number(this.shared.getVariable(s.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(s.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]}),s.texture&&(this.setTexture(this.material.uniforms,s.texture),this.material.needsUpdate=!0)}updateParticleState(s){var o,_,j;if(!(!this.positionSimRT||!this.velocitySimRT)){if(this.shouldReInitGPUCompute(s)&&this.init(Kl(this.system.data)),s.life!==void 0&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=s.life),s.speed!==void 0&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(s.speed,[this.uuid,"particles","speed"]))/tM),s.collisionBounce!==void 0&&(this.velocitySimRT.material.uniforms.uBounce.value=s.collisionBounce),s.noiseStrength!==void 0&&(this.noiseStrength=Number(this.shared.getVariable(s.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),s.noiseScale!==void 0&&(this.noiseScale=Number(this.shared.getVariable(s.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),s.noiseSeed!==void 0&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=s.noiseSeed),s.randomMass!==void 0&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=s.randomMass),((o=s.renderMaterial)==null?void 0:o.size)!==void 0){let et=this.shared.getVariable(s.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(et)}if(((_=s.renderMaterial)==null?void 0:_.spriteRotation)!==void 0&&(this.material.uniforms.uRotation.value=s.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=s.renderMaterial.spriteRotation[1]),s.shape!==void 0){let et=s.shape.size??this.system.data.shape.size,st=[Number(this.shared.getVariable(et[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(et[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(et[2],[this.uuid,"particles","shape_size_2"]))],nt={...Kl(this.system.data).shape,size:st};(j=this.emitterShape)==null||j.applyToShader(this.positionSimRT.material.uniforms,nt)}if(s.gravity!==void 0&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),s.direction!==void 0){let et=this.getDirectionFromVariable(s.direction);this.directionAxis=this.getDirectionAxis(et),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}s.randomRotation!==void 0&&(this.material.uniforms.uRandRotationFactor.value=s.randomRotation),s.randomScale!==void 0&&(this.material.uniforms.uRandScaleFactor.value=s.randomScale)}}updateForceFieldParameters(s){!this.velocitySimRT||(s.forceIntensity!==void 0&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=s.forceIntensity),s.forceDambing!==void 0&&(this.velocitySimRT.material.uniforms.uForceDamping.value=s.forceDambing))}getDirectionAxis(s){let o=[Number(s[0])*we.DEG2RAD,Number(s[1])*we.DEG2RAD,Number(s[2])*we.DEG2RAD],_=new ir(o[0],o[1],o[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(_).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(s){let{birthRatePerSec:o,rootObjectType:_,colliderEntityId:j,shape:et,emitTimeDuration:st,emitTimeCycle:nt,life:ct,directionMode:At,noiseType:mt}=s;return o!==void 0||_!==void 0||j||j===null||nt!==void 0||et!==void 0||ct!==void 0||st!==void 0||At!==void 0||mt!==void 0}init(s){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:s.birthRatePerSec,particleMaxLifeTime:s.life,loopDuration:s.emitTimeCycle==="infinity"?0:s.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(s.shape,this.particlesAmount);let o=setInterval(()=>{if(this.emitterShape)if(isNaN(this.emitterShape.positionsTexture.source.data.data[0])){this.init(s);return}else clearInterval(o)},100);if(!this.emitterShape)return;let _=new jx(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),j=this.updateSimulationDefinition(s),et=_.addVariable("uCurrentPosition",j+_L,this.emitterShape.positionsTexture),st=_.addVariable("uCurrentVelocity",j+LL,this.emitterShape.directionsTexture),nt=_.addVariable("uCurrentEmissionRate",kL,PL(this.emitterShape.textureSize));_.setVariableDependencies(et,[et,st,nt]),_.setVariableDependencies(st,[et,st,nt]),_.setVariableDependencies(nt,[et,st,nt]);let ct=CL$1({size:this.emitterShape.textureSize}),At={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new E$2(0,0,0)},uWorldQuaternion:{value:new Ze(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:s.life},uEmitterSize:{value:new E$2(Number(this.shared.getVariable(s.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(s.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(s.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};et.material.uniforms=At;let mt=this.getDirectionFromVariable(s.direction);this.directionAxis=this.getDirectionAxis(mt),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(s.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(s.noiseScale,[this.uuid,"particles","noiseScale"]));let gt=s.colliderEntityId&&this.system.getColliderData(s.colliderEntityId),_t={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new Ze(0,0,0,1)},uColliderPos:{value:new E$2(0,0,0)},uColliderSize:{value:new E$2(0,0,0)},uForceIntensity:{value:gt?gt.forceIntensity:0},uForceDamping:{value:gt?gt.forceDambing:0},uColliderQuaternion:{value:new Ze(0,0,0,1)},uColliderQuaternionInvert:{value:new Ze(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:s.noiseSeed},uRandomMassFactor:{value:s.randomMass},uBounce:{value:s.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(s.speed,[this.uuid,"particles","speed"]))/tM}};st.material.uniforms=_t;let Et={uIndex:{value:ct},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};nt.material.uniforms=Et;let Ct=[Number(this.shared.getVariable(s.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(s.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(s.shape.size[2],[this.uuid,"particles","shape_size_2"]))],Bt={...Kl(this.system.data).shape,size:Ct};this.emitterShape.applyToShader(et.material.uniforms,Bt),_.init(),this.gpuCompute=_,this.positionSimRT=et,this.velocitySimRT=st,this.emissionRateSimRT=nt,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(s){let o=Number(this.shared.getVariable(s[0],[this.uuid,"particles","direction_x"])),_=Number(this.shared.getVariable(s[1],[this.uuid,"particles","direction_y"])),j=Number(this.shared.getVariable(s[2],[this.uuid,"particles","direction_z"]));return[o,_,j]}updateSimulationDefinition(s){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,s.colliderEntityId&&this.system.colliderEntities.length>0){let _=this.system.getColliderData(s.colliderEntityId);switch(_==null?void 0:_.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0;break}let j=_==null?void 0:_.colliderType;j==="sphere"&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),j==="box"&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),(_==null?void 0:_.forceRange)==="helper"&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}s.directionMode==="normals"&&(this.simFeaturesDefinition.USE_NORMALS=!0),s.noiseType==="curl"&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),s.noiseType==="simplex"&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),s.noiseType==="fbm"&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let o="";for(let[_,j]of Object.entries(this.simFeaturesDefinition))j&&(o+=`#define ${_}
`);return o}createShape(s,o){this.emitterShape&&this.emitterShape.dispose();let _=new E$2(Number(this.shared.getVariable(s.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(s.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(s.size[2],[this.uuid,"particles","shape_size_2"])));if(s.type==="MeshEmitterShape"){let j=null;return this.system.context.scene.traverseEntity(et=>{et.uuid===s.fromMeshId&&(j=et)}),j?new Tf(_,o,s.type,j):new Tf(_,o,"SphereEmitterShape")}else return new Tf(_,o,s.type)}createPrimaryEmitter(s){let o,_=s*s;return o=new oy(new Li(1,1,1),this.material,_),this.updateGeometryAttributes(o,s),this.material.needsUpdate=!0,o.onBeforeRender=()=>{this.applyWorldSpace()},o}getMaxParticlesAmount({birthRatePerSecond:s,particleMaxLifeTime:o,loopDuration:_=0}){return Math.ceil(s*(o+_))}dispose(){var s,o,_;!this.gpuCompute||((o=(s=this.rootObject)==null?void 0:s.parent)==null||o.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),(_=this.emitterShape)==null||_.dispose())}GoEmitSomeParticles(s,o){let _=s-this.lastEmitTime,j=1/o;if(_>=j){let et=Math.max(1,Math.floor(_/j));return this.lastEmitTime=s,this.emittedParticlesAmount+et>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=et,et}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(Kl(this.system.data))}startEmitting(s){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=s}stopEmitting(){this.isEmitting=!1}},Zl=class extends mr{constructor(s,o,_){super(s,o),this.type="ParticleSystem",this.geometry=new _e,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.timeoutId=void 0,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=j=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(j))},this.context=_,this.data={...o,...Kl(o)},this.geometry.setAttribute("position",new Me([],3)),this.material=new on$1({colorWrite:!1}),this.frustumCulled=!1}init(s){this.renderer=s,this.emitter=new Yx(s,this),this.add(this.emitter),this.updateParticleState(this.data)}update(s){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=s,this.stopped||(this.currentLoopTime+=s);let o=this.data.emitTimeCycle==="one_time";if((this.data.emitTimeCycle==="loop"||o)&&this.currentLoopTime>this.data.emitTimeDuration*1e3&&(this.stopped||(this.stop(),o||this.start(this.data.emitTimeDelay*1e3))),this.emitter&&this.started){let _=this.actualTime/1e3;this.emitter.update(_,s)}this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(s){return this.colliderEntities.some(o=>o.identity===s)}getColliderData(s){let o=this.colliderEntities.find(_=>_.identity===s);return o?o.data:null}updateByPatchedOp(s,o,_){super.updateByPatchedOp(s,o,_),Lt(s.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:{...this.data.renderMaterial,...Rr$1.drop(s,1).props}}),Lt(s.path,["shape"])&&this.updateParticleState({shape:{...this.data.shape,...Rr$1.drop(s,1).props}})}updateState(s,o){super.updateState(s,o),this.updateParticleState(s)}updateParticleState(s){if(this.emitter){if(s.colliderEntityId!==void 0&&s.colliderEntityId!==null){let o=this.context.scene.find(s.colliderEntityId);this.colliderEntities=o?[o]:[]}s.colliderEntityId===null&&(this.colliderEntities=[]),this.emitter.updateState(s),s.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(s){!this.emitter||(this.emitter.updateForceFieldParameters(s),this.stop(),this.start())}start(s=0){var o;if(this.currentLoopTime=0,s){this.timeoutId=window.setTimeout(()=>{this.start(0)},s);return}this.started=!0,this.stopped=!1,this.isFrozen=!1,(o=this.emitter)==null||o.startEmitting(this.actualTime/1e3)}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){var s;this.stopped=!0,this.currentLoopTime=0,(s=this.emitter)==null||s.stopEmitting(),clearTimeout(this.timeoutId)}reset(){var s;this.started=!1,this.stopped=!1,(s=this.emitter)==null||s.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}};function GK(){try{let s=window.location.href;if(s.includes("reducesubdiv=")){let o=s.indexOf("reducesubdiv=")+13;return parseInt(s.slice(o,o+1))}}catch{}}var rM=GK();function jK(s,o,_){var et;rM!==void 0&&(((et=o==null?void 0:o.geometry)==null?void 0:et.subdivisions)??0)>rM&&(console.log("reducing subdivisions",o.name,o.geometry.subdivisions),o.geometry.subdivisions=rM);let j;return o.geometry.type==="TextGeometry"?new Ul(s,o,_):o.geometry.type==="InputGeometry"?new Ql(s,o,_):(o.geometry.type==="SubdivGeometry"?j=new Ks(s,o,_):o.geometry.type==="PathGeometry"?j=new Xl(s,o,_):o.geometry.type==="VectorGeometry"?j=new zx(s,o,_):o.geometry.type==="BooleanGeometry"?j=new Fn(s,o,_):o.geometry.type==="UIGeometry"?j=new Er(s,o,_):j=new lr(s,o,_),j)}function Xx(s,o,_){return console.assert(o.type!==void 0),o.type==="Mesh"?jK(s,o,_):o.type==="Empty"?new ws(s,o):o.type==="Particle"?new Zl(s,o,_):o.type==="ParticleCollider"?new kl(s,o,_):o.type==="Splat"?new ws(s,o):o.type==="Bone"?new Gx(s,o):o.type==="Page"?new cr(s,o,_):o.type==="PointLight"?new Ux(s,o,_):o.type==="SpotLight"?new Af(s,o,_):o.type==="DirectionalLight"?new wf(s,o,_):o.type==="Component"||o.type==="Instance"?new $s(s,o,_):Vs.is(o.type)?new wr$1(s,o):(console.error(o),new ws(s,o))}js.createEntity=Xx;function HK(s,o,_){let j=Xx(s.identity,o,_),et=s.children,st=s.attachedPaths,nt=s.parent,ct=s.component,At=s.instances,mt=s.overrideData,gt=s.uuid,_t=s.stateSelection;s.dispose();for(let Et of Object.keys(s))delete s[Et];Object.setPrototypeOf(s,Object.getPrototypeOf(j));for(let Et of Object.keys(j))s[Et]=j[Et];s.children=[...s.children,...et],s.attachedPaths=st,s.parent=nt,s.component=ct,s.instances=At,s.uuid=gt,s.overrideData=mt,s.updateState(s.data,_),_t&&s.changeSelectedState(_t,_),s.resetBBoxNeedsUpdate()}js.changeEntityProptotype=HK;js.Cloner=Gi;function jL(s,o,_,j){s.updateByOp(o,_,j,!1)}function HL$1(s,o){let _=!1,j=o.getLayersOfType("transmission"),et=o.getLayersOfType("outline");return et.length>0&&(s.layers.set(8),j.length>0&&s.layers.enable(3),_=!0,$d(s),Jd(s)),j.length===0&&et.length===0&&s.layers.set(0),s instanceof ys&&s.needsAO&&s.layers.enable(5),_}function WL(s,o){if(!o.layers)return!1;let _=!1,j=o.getLayersOfType("transmission").filter(st=>st.data.visible),et=o.getLayersOfType("outline").filter(st=>st.data.visible);return j.length>0&&(s.layers.set(3),et.length>0&&s.layers.enable(8),_=!0),j.length===0&&et.length===0&&s.layers.set(0),s.needsAO&&s.layers.enable(5),_}function qL(s){let o=!1;return s.traverseEntity(_=>{if(_ instanceof ys)if(Array.isArray(_.material))for(let j=0;j<_.material.length;j++)HL$1(_,_.material[j])&&(o=!0);else HL$1(_,_.material)&&(o=!0)}),o}function YL(s){let o=!1;return s.traverseEntity(_=>{if(_ instanceof ys)if(Array.isArray(_.material))for(let j=0;j<_.material.length;j++)WL(_,_.material[j])&&(o=!0);else WL(_,_.material)&&(o=!0)}),o}var WK=new Qu,qK=new ue$2,YK=new Rs;function Nm(s,o,_,j=!1){let et=s.cloner;if(et)for(let st of et.children){let nt=qK.copy(st.matrixWorld).invert(),ct=YK.copy(o.ray).applyMatrix4(nt),At=s.matrixWorld;ct.applyMatrix4(At);let mt=WK;mt.set(ct.origin,ct.direction),mt.near=o.near,mt.far=o.far;let gt=mt.intersectObject(s,!1);gt.length>0&&_.push({...gt[0],object:j?st:s})}}var Qx=class{constructor(){this._constraints=new Map}setConstraint(s,o){o===null?this._constraints.delete(s):this._constraints.set(s,o)}removeDependencies(s){this._constraints.delete(s)}applyConstraints(s){let o=new Set;this._constraints.forEach((_,j)=>{let et=[j,_],st=_;for(;this._constraints.has(st);){if(st=this._constraints.get(st),et.includes(st)){console.warn(`circular dependency detected: ${et.join(" -> ")}`);break}o.has(st)||et.push(st)}for(let nt=et.length-2;nt>=0;nt--)if(!o.has(et[nt])){let ct=s.find(et[nt]);ct?ct.applyPathSnapping(s):console.warn(`missing entity ${et[nt]}`),o.add(et[nt])}})}findDependency(s,o){let _=s;for(;this._constraints.has(_);)if(_=this._constraints.get(_),_===o)return!0;return!1}},XL="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",ko=class{};nc(ko,"DepthMapRange",65536),nc(ko,"MemoryPageSize",65536),nc(ko,"BytesPerFloat",4),nc(ko,"BytesPerInt",4);function XK(s){let o,_,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft;function Rt($n){let kn=new Float64Array(gt,nt,16);for(let Il=0;Il<16;Il++)kn[Il]=$n[Il];let lo;if(j>1){o.exports.sortIndexes(et,st,mt,nt,ct,At,Et.DepthMapRange,j);let Il=new Uint32Array(j);lo=Il.buffer,Il.set(new Uint32Array(gt,At,j))}else if(j===1){let Il=new Uint32Array(j);Il[0]=new Uint32Array(gt,et,_)[0],lo=Il.buffer}else lo=new ArrayBuffer(0);s.postMessage({sortDone:!0,indexesBuffer:lo},[lo])}function Nt($n,kn,lo){let Il=new Float32Array(gt,st,_*3);j=0;let cu=new Uint32Array(gt,et,_);for(let Ko=0;Ko<lo.length-1;Ko++){let ru=kn[Ko],Tn=$n[Ko].elements,ao=ru.filter(hu=>hu.enabled&&hu.mode==="Include").map(hu=>hu.type==="Box"?es(hu):rn(hu)),uu=ru.filter(hu=>hu.enabled&&hu.mode==="Exclude").map(hu=>hu.type==="Box"?es(hu):rn(hu));for(let hu=lo[Ko];hu<lo[Ko+1];hu++){let tA=Ct[hu*3],Sv=Ct[hu*3+1],W0=Ct[hu*3+2];if((ao.length===0||dr(tA,Sv,W0,ao))&&(uu.length===0||!dr(tA,Sv,W0,uu))){let l1=1/(Tn[3]*tA+Tn[7]*Sv+Tn[11]*W0+Tn[15]);Il[j*3]=(Tn[0]*tA+Tn[4]*Sv+Tn[8]*W0+Tn[12])*l1,Il[j*3+1]=(Tn[1]*tA+Tn[5]*Sv+Tn[9]*W0+Tn[13])*l1,Il[j*3+2]=(Tn[2]*tA+Tn[6]*Sv+Tn[10]*W0+Tn[14])*l1,cu[j]=hu,j++}}}}function Gt($n,kn){let lo=[],Il=kn.filter(ru=>ru.enabled&&ru.mode==="Include").map(ru=>ru.type==="Box"?es(ru):rn(ru)),cu=kn.filter(ru=>ru.enabled&&ru.mode==="Exclude").map(ru=>ru.type==="Box"?es(ru):rn(ru)),Ko=$n.length;for(let ru=0;ru<Ko;ru+=3){let Tn=$n[ru],ao=$n[ru+1],uu=$n[ru+2];(Il.length===0||dr(Tn,ao,uu,Il))&&(cu.length===0||!dr(Tn,ao,uu,cu))||lo.push(ru/3)}return lo}function dr($n,kn,lo,Il,cu){return Il.some(Ko=>{let ru=ts($n,kn,lo,Ko.invRotationMatrix,Ko.cropCenter);return Array.isArray(Ko)?tn(ru.x,ru.y,ru.z,Ko):un(ru.x,ru.y,ru.z,Ko)})}function ts($n,kn,lo,Il,cu){let Ko=$n-cu[0],ru=kn-cu[1],Tn=lo-cu[2],ao=1/(Il[3]*Ko+Il[7]*ru+Il[11]*Tn+Il[15]);return{x:(Il[0]*Ko+Il[4]*ru+Il[8]*Tn+Il[12])*ao+cu[0],y:(Il[1]*Ko+Il[5]*ru+Il[9]*Tn+Il[13])*ao+cu[1],z:(Il[2]*Ko+Il[6]*ru+Il[10]*Tn+Il[14])*ao+cu[2]}}function es($n){let kn=$n.cropSize[0]/2,lo=$n.cropSize[1]/2,Il=$n.cropSize[2]/2,cu=[$n.cropCenter[0]-kn,$n.cropCenter[1]-lo,$n.cropCenter[2]-Il,$n.cropCenter[0]+kn,$n.cropCenter[1]+lo,$n.cropCenter[2]+Il],Ko=ds($n.cropRotation);return Object.assign(cu,{invRotationMatrix:Ko,cropCenter:$n.cropCenter})}function ds($n){let kn=[],lo=$n[0]*Math.PI/180,Il=$n[1]*Math.PI/180,cu=$n[2]*Math.PI/180,Ko=Math.cos(lo),ru=Math.sin(lo),Tn=Math.cos(Il),ao=Math.sin(Il),uu=Math.cos(cu),hu=Math.sin(cu),tA=Ko*uu,Sv=Ko*hu,W0=ru*uu,l1=ru*hu;return kn[0]=Tn*uu,kn[1]=-Tn*hu,kn[2]=ao,kn[4]=Sv+W0*ao,kn[5]=tA-l1*ao,kn[6]=-ru*Tn,kn[8]=l1-tA*ao,kn[9]=W0+Sv*ao,kn[10]=Ko*Tn,kn[12]=0,kn[13]=0,kn[14]=0,kn[3]=0,kn[7]=0,kn[11]=0,kn[15]=1,kn}function tn($n,kn,lo,Il){return $n>=Il[0]&&$n<=Il[3]&&kn>=Il[1]&&kn<=Il[4]&&lo>=Il[2]&&lo<=Il[5]}function rn($n){let kn=2/$n.cropSize[0],lo=2/$n.cropSize[1],Il=2/$n.cropSize[2],cu=ds($n.cropRotation);return{invRadiusX:kn,invRadiusY:lo,invRadiusZ:Il,cropCenter:$n.cropCenter,invRotationMatrix:cu}}function un($n,kn,lo,Il){let cu=($n-Il.cropCenter[0])*Il.invRadiusX,Ko=(kn-Il.cropCenter[1])*Il.invRadiusY,ru=(lo-Il.cropCenter[2])*Il.invRadiusZ;return cu*cu+Ko*Ko+ru*ru<=1}s.onmessage=$n=>{if($n.data.getCroppedIndexes){let kn=new Uint32Array(Gt(new Float32Array($n.data.positions),$n.data.crops)).buffer;s.postMessage({outOfBoundsIndexes:kn},[kn])}else if($n.data.positions)_t=$n.data.positions,Ct=new Float32Array(_t),Dt=$n.data.meshMatrixWorlds,Ft=$n.data.cropsArray,Bt=$n.data.meshIndexIntervals,Nt(Dt,Ft,Bt),s.postMessage({sortSetupComplete:!0});else if($n.data.sort||$n.data.newMatrixWorlds||$n.data.newCropsArray)($n.data.newMatrixWorlds||$n.data.newCropsArray)&&(Ft=$n.data.newCropsArray||Ft,Dt=$n.data.newMatrixWorlds||Dt,Nt(Dt,Ft,Bt)),Rt($n.data.sort.view,$n.data.sort.cameraPosition);else if($n.data.init){Et=$n.data.init.Constants,_=$n.data.init.splatCount;let kn=Et.BytesPerInt,lo=Et.BytesPerFloat*3,Il=new Uint8Array($n.data.init.sorterWasmBytes),cu=kn+lo,Ko=_*cu,ru=_*Et.BytesPerInt*2+Et.DepthMapRange*Et.BytesPerInt*2,Tn=Et.MemoryPageSize*32,ao=Ko+ru+Tn,uu=Math.floor(ao/Et.MemoryPageSize)+1,hu={module:{},env:{memory:new WebAssembly.Memory({initial:uu*2,maximum:uu*3,shared:!0})}};WebAssembly.compile(Il).then(tA=>WebAssembly.instantiate(tA,hu)).then(tA=>{o=tA,et=0,st=_*kn,nt=st+_*lo,mt=nt+16*Et.BytesPerFloat*2,ct=mt+_*Et.BytesPerInt,At=ct+Et.DepthMapRange*Et.BytesPerInt,gt=hu.env.memory.buffer,s.postMessage({sortSetupPhase1Complete:!0})})}}}function QL(s){let o=new Worker(URL.createObjectURL(new Blob(["(",XK.toString(),")(self)"],{type:"application/javascript"}))),_=atob(XL),j=new Uint8Array(_.length);for(let et=0;et<_.length;et++)j[et]=_.charCodeAt(et);return o.postMessage({init:{sorterWasmBytes:j.buffer,splatCount:s,Constants:{BytesPerFloat:ko.BytesPerFloat,BytesPerInt:ko.BytesPerInt,DepthMapRange:ko.DepthMapRange,MemoryPageSize:ko.MemoryPageSize}}}),o}var Kx=function(){let s=new Float32Array(1),o=new Int32Array(s.buffer);return function(_){return s[0]=_,o[0]}}(),KL=function(s,o,_,j){return s+(o<<8)+(_<<16)+(j<<24)},Zx=new U$1;function Jx(s){let o=!1;return s.scene.objects.traverse((_,j)=>{if(j.visible===!1)return!0;j.type==="Splat"&&(o=!0)}),o}var Jl=class extends Ut{constructor(s,o,_,j,et=!1,st=1,nt,ct){super(_,j),this.splatCount=o,this.meshIndexIntervals=nt,this.meshMatrixWorlds=ct,this.splatBuffers=s,this.geometry=_,this.material=j,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=et,this.devicePixelRatio=st,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(s,o,_=!1,j=1,et,st){let nt=Jl.buildGeomtery(o),ct=Jl.buildMaterial(et);return new Jl(s,o,nt,ct,_,j,et,st)}static buildMaterial(s){let o=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,_=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,j={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:s},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new U$1},viewport:{type:"v2",value:new U$1},basisViewport:{type:"v2",value:new U$1},debugColor:{type:"v3",value:new We},covariancesTextureSize:{type:"v2",value:new U$1(1024,1024)},centersColorsTextureSize:{type:"v2",value:new U$1(1024,1024)},orthoZoom:{type:"f",value:-1}};return new it({uniforms:j,vertexShader:o,fragmentShader:_,transparent:!0,alphaTest:1,blending:Ya,depthTest:!0,depthWrite:!1,side:fi})}static buildGeomtery(s){let o=new _e;o.setIndex([0,1,2,0,2,3]);let _=new Float32Array(4*3),j=new Xe(_,3);o.setAttribute("position",j),j.setXYZ(0,-1,-1,0),j.setXYZ(1,-1,1,0),j.setXYZ(2,1,1,0),j.setXYZ(3,1,-1,0),j.needsUpdate=!0;let et=new xp().copy(o),st=new Uint32Array(s),nt=new fo(st,1,!1);return nt.setUsage(qC),et.setAttribute("splatIndex",nt),et.instanceCount=s,et}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(j=>j.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let s=0,o=0,_=0;for(let j of this.splatBuffers){let et=j.nsplats;this.colors.subarray(s,s+et*4).set(j.colorsA),s+=et*4,this.centers.subarray(o,o+et*3).set(j.decoded.xyz.denormDequant().data),o+=et*3,this.covariances.subarray(_,_+et*6).set(new Float32Array(j.precomputedCovarianceBufferData)),_+=et*6}}allocateAndStoreLocalSplatDataInTextures(){let s=this.splatCount,o=new U$1(4096,1024);for(;o.x*o.y*2<s*6;)o.y*=2;let _=new U$1(4096,1024);for(;_.x*_.y*4<s*4;)_.y*=2;let j,et;if(this.halfPrecisionCovariancesOnGPU){et=new Uint16Array(o.x*o.y*2);for(let gt=0;gt<this.covariances.length;gt++)et[gt]=aP.toHalfFloat(this.covariances[gt]);j=new gi(et,o.x,o.y,Ju,Wn)}else et=new Float32Array(o.x*o.y*2),et.set(this.covariances),j=new gi(et,o.x,o.y,Ju,br);j.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=j,this.material.uniforms.covariancesTextureSize.value.copy(o);let st=new Uint32Array(_.x*_.y*4);for(let gt=0;gt<s;gt++){let _t=gt*4,Et=gt*3,Ct=gt*4;st[Ct]=KL(this.colors[_t],this.colors[_t+1],this.colors[_t+2],this.colors[_t+3]),st[Ct+1]=Kx(this.centers[Et]),st[Ct+2]=Kx(this.centers[Et+1]),st[Ct+3]=Kx(this.centers[Et+2])}let nt=new gi(st,_.x,_.y,ww,Ds);nt.internalFormat="RGBA32UI",nt.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=nt,this.material.uniforms.centersColorsTextureSize.value.copy(_);let ct=256*4,At=new Float32Array(256*16);for(let gt=0;gt<this.meshMatrixWorlds.length;gt++)At.set(this.meshMatrixWorlds[gt].elements,gt*16);let mt=new gi(At,ct,1,qr,br);mt.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=mt,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:et,texture:j,size:o},centerColors:{data:st,texture:nt,size:_},meshMatrixWorlds:{data:At,texture:mt}}}updateIndexes(s){let o=this.geometry;o.attributes.splatIndex.set(s),o.attributes.splatIndex.needsUpdate=!0,o.instanceCount=s.length}updateUniforms(s,o,_,j){this.splatCount>0&&(Zx.set(s.x*this.devicePixelRatio,s.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(Zx),this.material.uniforms.basisViewport.value.set(2/Zx.x,2/Zx.y),this.material.uniforms.focal.value.set(o,_),this.material.uniforms.orthoZoom.value=j,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose()),this.removeFromParent()}},JL$1,iM=new Promise(s=>{JL$1=s}),ZL=!1,$x;function nM(){if(ZL)return;if($x)return $x;async function s(){let o=await __vitePreload(()=>import("./gaussian-splat-compression-ro4O0smp.js"),[]);JL$1(o),ZL=!0}return $x=s(),$x}var $L;iM.then(s=>$L=s);var Fm=class{constructor(s={}){nc(this,"updateView",function(){let o=new ue$2,_=[],j=new E$2(0,0,-1),et=new E$2(0,0,-1),st=new E$2,nt=new E$2;return function(ct=!1,At){let mt=this.updateMatrixWorldsInWorkerIfNeeded(),gt=this.cropsChanged();if(!ct){et.set(0,0,-1).applyQuaternion(At.quaternion);let Et=!1,Ct=!1;if(et.dot(j)<=.95&&(Et=!0),nt.copy(At.position).sub(st).length()>=1&&(Ct=!0),!Et&&!Ct&&!mt&&!gt&&!this.needsInitialRender)return}this.needsInitialRender=!1,st.copy(At.position),j.copy(et),o.copy(At.matrixWorld).invert(),o.premultiply(this.dummyPerspectiveMatrix),_[0]=At.position.x,_[1]=At.position.y,_[2]=At.position.z;let _t={sort:{view:o.elements,cameraPosition:_,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...mt?{newMatrixWorlds:this.meshMatrixWorlds}:{},...gt?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=_t:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(_t))}}()),this.scene=s.scene,this.currentPage=null,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null,this.needsInitialRender=!0,this.dummyPerspectiveMatrix=new ue$2().makePerspective(-1,1,-1,1,.1,1e3)}updateSplatMeshUniforms(s,o){let _=new U$1;this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(s.getSize(_),this.cameraFocalLengthX=o.projectionMatrix.elements[0]*this.devicePixelRatio*_.x*.45,this.cameraFocalLengthY=o.projectionMatrix.elements[5]*this.devicePixelRatio*_.y*.45,this.splatMesh.updateUniforms(_,this.cameraFocalLengthX,this.cameraFocalLengthY,o.isPerspectiveCamera?-1:o.zoom*this.devicePixelRatio))}loadSplat(s={}){this.activePage=this.scene.activePage,s.position&&(s.position=new E$2().fromArray(s.position)),s.orientation&&(s.orientation=new Qe().fromArray(s.orientation)),s.halfPrecisionCovariances=!!s.halfPrecisionCovariances;let o=[];if(this.splatEntries=o,this.activePage.traverseVisibleEntity(st=>{st.data.type==="Splat"&&o.push(st)}),this.splatMesh&&this.splatMesh.dispose(),o.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=o.map(st=>st.matrixWorld),this.meshMatrixWorldsOld=o.map(st=>st.matrixWorld.clone()),this.cropsArray=o.map(st=>st.data.crops.map(nt=>nt.data));let _=o.map(st=>new $L.GSplineBuffer(new Uint8Array(st.data.buffer).buffer)),j=0,et=[0];for(let st of _)j+=st.getSplatCount(),et.push(j);return this.setupSplatMesh(_,j,s.position,s.orientation,s.halfPrecisionCovariances,this.devicePixelRatio,et,this.meshMatrixWorlds),this.setupSortWorker(j),!0}updateMatrixWorldsInWorkerIfNeeded(){let s=this.splatDataTextures.meshMatrixWorlds.data;for(let o=0;o<this.meshMatrixWorlds.length;o++)s.set(this.meshMatrixWorlds[o].elements,o*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((o,_)=>o.equals(this.meshMatrixWorldsOld[_]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(o=>o.clone()),!0)}cropsChanged(){let s=!1;return this.splatEntries.forEach((o,_)=>{var j;o.data.crops.forEach((et,st)=>{this.cropsArray[_][st]===void 0?(s=!0,this.cropsArray[_][st]=et.data):Object.entries(et.data).forEach(([nt,ct])=>{var At;Array.isArray(ct)&&ct.some((mt,gt)=>mt!==this.cropsArray[_][st][nt][gt])?(s=!0,this.cropsArray[_][st][nt]=ct):ct!==((At=this.cropsArray[_][st])==null?void 0:At[nt])&&(s=!0,this.cropsArray[_][st][nt]=ct)})}),o.data.crops.length!==((j=this.cropsArray[_])==null?void 0:j.length)&&(this.cropsArray[_].length=o.data.crops.length,s=!0)}),s}setupSplatMesh(s,o,_=new E$2,j=new Qe,et=!1,st=1,nt,ct){this.splatMesh=Jl.buildMesh(s,o,et,st,nt,ct),this.splatMesh.position.copy(_),this.splatMesh.quaternion.copy(j),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=99999,this.splatRenderCount=o,this.splatMesh.onBeforeRender=(At,mt,gt)=>this.update(At,gt)}setupSortWorker(s){this.sortWorker=QL(s),this.sortWorker.onmessage=o=>{var _;o.data.sortDone?(this.sortRunning=!1,(_=this.splatMesh)==null||_.updateIndexes(new Uint32Array(o.data.indexesBuffer)),this.lastSortTime=o.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):o.data.sortCanceled?this.sortRunning=!1:o.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):o.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.scene.activePage.add(this.splatMesh),this.needsInitialRender=!0)}}update(s,o){this.splatMesh!==null&&(this.updateSplatMeshUniforms(s,o),this.updateView(!1,o))}getSplatMesh(){return this.splatMesh}},_x=new on$1;_x.wireframe=!0;var eB=new E$2,Hl=class extends ei{constructor(s,o){super(),this.data=s,this.sharedAssets=o,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new Qx,this.invisibleObjects=new ws("jflkdsafjasdifjaslk",{...Hv.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(s,o),this.matrixAutoUpdate=!1,this.errorPage=new cr("fdasfa",{...ya.defaultData,name:""},{shared:o,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=YL(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=qL(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(s){let o=s.identity.join("-"),_=this.entityIdentityToEntity[o];_&&(s.uuid=_.uuid),this.entityIdentityToEntity[o]=s,this.entityByUuid[s.uuid]=s}markPenumbraSizeDirty(){for(let s of this.children)s instanceof cr&&(s.penumbraSizeArrayCache=null)}findInstance(s){return this.entityIdentityToEntity[s.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(s){let o=this.find(s);if(o===void 0)return;let _=[],j=o;for(;j!==this;){let et=j;j=j.parent;let st=j.children.indexOf(et);_.splice(0,0,st)}return{entity:o,sortKey:_}}getAllSorted(s){let o=[];for(let _ of s){let j=this.getWithSortKey(_.id);j!==void 0&&o.push(j)}return o.sort((_,j)=>rv(_.sortKey,j.sortKey)),o.map(_=>_.entity)}nonExistOrDescendantOf(s,o){let _=this.find(s);if(_===void 0)return!0;for(;_;){if(_.uuid===o)return!0;_=_.parent}return!1}find(s){if(this.activePage&&this.activePage.personalCamera.parent){if(s==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(s===hs)return this.activePage.personalCamera}if(s===""||s===void 0)return;let o=this.entityByUuid[s];return o===void 0?this.getObjectByProperty("uuid",s):o}find2D(s){for(let o of this.children)if(o instanceof cr&&o.uiScene){let _=o.uiScene.find(s);if(_)return _}}findScene2DfromObject2D(s){for(let o of this.children)if(o instanceof cr&&o.uiScene&&o.uiScene.find(s))return o.uiScene}find2DInUIObjects(s){let o;return this.traverseEntity(_=>{o===void 0&&_ instanceof Er&&(o=_.uiCanvas.find(s))}),o}traverse2D(s){for(let o of this.children)o instanceof cr&&o.uiScene&&o.uiScene.traverse(s)}debugEnsureEntity(s){let o=this.find(s);if(o){if(Array.isArray(o.identity)&&this.findInstance(o.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(s){this.toExpandCloner.add(s)}addPendingUpdateCloner(s){this.toUpdateCloner.add(s)}markToExpandCloner(s){this.toExpandCloner.add(s),s.traverseEntityAncestors(o=>{this.toExpandCloner.add(o)})}doPendingExpandCloner(){this.toExpandCloner.forEach(s=>{s.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(s=>{var o;(o=s.cloner)==null||o.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(s){this.pendingCommands.push(s)}applyPendingCommands(){this.pendingCommands.forEach(s=>s()),this.pendingCommands.length=0}updateByLibOp(s,o){s.path.length===1&&s.path[0]==="components"&&s.type===1&&this.createChildrenObjects([{...s.data.asset,id:s.id}],this.invisibleObjects,o)}updateTreeByOp(s,o){var _;if(s.path.length===0&&s.type===7){let j=s.parent===null?this:this.find(s.parent);if(j===void 0)throw new Error("unexpected");let et=this.createObject(s.id,s.data,s.children,j,s.localIndex,o);et.updateVisible(this),et.resetBBoxNeedsUpdate(),cn(et)&&En(et.parent)&&(et.invalidateUpstreamBooleanData(),et.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(j),this.markNeedsRecomputeInstancesForChildren(et),this.markToExpandCloner(et),this.markPenumbraSizeDirty(),et.updatePathSnapping()}else if(s.path.length===0&&s.type===8){let j=this.find(s.id);if(j===void 0)throw new Error("unexpected");this.markToExpandCloner(j),j.resetBBoxNeedsUpdate(),this.unregisterObject(j);let et=j.parent;this.markNeedsRecomputeInstancesForAncessors(et),this.markNeedsRecomputeInstancesForChildren(j),this.markPenumbraSizeDirty(),j.parent.remove(j),En(j.parent)&&(j.parent.invalidateUpstreamBooleanData(),j.parent.invalidateDownstreamBooleanData().recomputeBoolean()),cn(j)&&(j.freeBooleanPointer(),et instanceof Fn&&et.invalidateDownstreamBooleanData().recomputeBoolean()),j instanceof Xl&&j.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(j),this.pathConstraints.removeDependencies(j.uuid),j.updatePathSnapping()}else if(s.path.length===0&&s.type===9){let j=this.find(s.id);if(j===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(j);let et=j.parent;this.markNeedsRecomputeInstancesForAncessors(et),(_=j.cloner)==null||_.resetOnMove(),this.markToExpandCloner(j);let st=s.parent===null?this:this.find(s.parent);if(st===void 0)throw new Error("unexpected");st.add(j),this.markNeedsRecomputeInstancesForAncessors(st),this.markToExpandCloner(j),j.invalidateClonerTransform(j),j.updateVisible(this),j.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let nt=s.localIndex;st.children.splice(nt,0,st.children.pop()),cn(j)&&(j.invalidateUpstreamBooleanData(),En(j.parent)?j.parent.invalidateDownstreamBooleanData().recomputeBoolean():et instanceof Fn&&et.invalidateDownstreamBooleanData().recomputeBoolean()),j.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(s){var o;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let _ of this.children)_ instanceof cr&&(_.visible=_.uuid===s,_.visible&&(this.activePage=_,this.activePage.onActive(this)));this.activePage!==((o=this.splatViewer)==null?void 0:o.activePage)&&this.reloadSplats()}updateEntityByOp(s,o,_,j){if(o.type===0){if(("overrides"in o.props||"component"in o.props)&&this.markNeedsRecomputeInstances(),"visible"in o.props&&this.markPenumbraSizeDirty(),o.path.includes("overrides")&&"states"in o.props){let{rest:st}=o.props;o={...o,props:st},this.markNeedsRecomputeInstances()}o.path[0]==="pathSnapping"&&o.props.pathId!==void 0&&this.pathConstraints.setConstraint(s,o.props.pathId)}let et=this.find(s);if(et)try{jL(et,o,_,{scene:this,shared:j}),et instanceof lr&&et.updateGeometryGroupsIfNeeded()}catch(st){console.error(st)}}updateEntity2DByOp(s,o,_,j,et,st=[]){s.updateEntityByOp(o,_,j,et),this.traverseEntity(nt=>{(nt instanceof Er||nt instanceof cr)&&(st.includes(nt.frameId??"")||nt.frameId===o)&&nt.updateEntity2DByOp(o,_,j,et)})}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(s){this.activePage.switchActiveCamera(s)}isInvisibleObjects(s){return s===this.invisibleObjects||s.hasAnccestor(this.invisibleObjects)}init(s,o){let _=Object.entries(o.data.lib.components).map((j,et)=>({data:j[1].asset.data,children:j[1].asset.children,id:j[0],fi:et}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:o}),this.add(this.invisibleObjects),this.createChildrenObjects(_,this.invisibleObjects,o),this.createChildrenObjects(s.objects,this,o),this.updatePage(s.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(o,!0),this.traverseEntity(j=>{j instanceof wr$1&&j.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(s){s.traverseEntity(o=>{(o.data.type==="Component"||o.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(s){yt.is(s)&&(s.data.type==="Component"&&this.markNeedsRecomputeInstances(),s.traverseAncestors(o=>{yt.is(o)&&o.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(s,o,_,j,et,st,nt){if(s){let ct=j.find(s);ct&&ct!==j&&et.forInstancesRec(At=>{At.data=pl(At.data,mt=>{let gt=mt.events.data(nt.id),_t=At.goUp(st);if(_t){let Et=[...tv(_t.identity),s].join("-"),Ct=this.entityIdentityToEntity[Et];if(Ct){let Bt=Ct.uuid,Dt=Sr$1.zoom(gt,o);Dt[_]=Bt}else console.warn("cannot find instance")}}).data})}}rewriteActions(s,o,_,j,et,st){s.forEach(nt=>{nt.data.type==="Transition"?this.relativeizeInner(nt.data.object,[...o,nt.id],"object",_,j,et,st):nt.data.type==="Animation"?this.relativeizeInner(nt.data.object,[...o,nt.id],"object",_,j,et,st):nt.data.type==="Conditional"&&(this.rewriteActions(nt.data.ifActions,[...o,nt.id,"ifActions"],_,j,et,st),this.rewriteActions(nt.data.elseActions,[...o,nt.id,"elseActions"],_,j,et,st))})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(s=>{if(s instanceof $s&&typeof s.identity=="string"&&s.data.type==="Component")return s.traverseEntity((o,_)=>{o.data.events.forEach(j=>{if(j.data.type==="GameControl"){let et=!1;if(o.forInstancesRec(st=>{st.data=pl(st.data,nt=>{st.isInstanceRoot||(nt.events.delete(j.id),et=!0)}).data}),et===!1)for(let st of Xh.list)this.rewriteActions(j.data.gameActions[st],["gameActions",st],s,o,_,j)}else j.data.type==="Conditional"?(j.data.condition.type==="Distance"?(this.relativeizeInner(j.data.condition.fromObject,["condition"],"fromObject",s,o,_,j),this.relativeizeInner(j.data.condition.toObject,["condition"],"toObject",s,o,_,j)):j.data.condition.type==="State"?this.relativeizeInner(j.data.condition.object,["condition"],"object",s,o,_,j):j.data.condition.type==="Comparison"&&(j.data.condition.lOperand.type==="Property"&&this.relativeizeInner(j.data.condition.lOperand.value[0],["condition","lOperand","value"],0,s,o,_,j),j.data.condition.rOperand.type==="Property"&&this.relativeizeInner(j.data.condition.rOperand.value[0],["condition","rOperand","value"],0,s,o,_,j)),this.rewriteActions(j.data.inActions,["inActions"],s,o,_,j),this.rewriteActions(j.data.outActions,["outActions"],s,o,_,j)):"actions"in j.data&&this.rewriteActions(j.data.actions,["actions"],s,o,_,j)})}),!0})}expandInstances(s,o,_){let j=new Set;this.traverseEntity(et=>{if(et instanceof $s&&et.isInstanceRoot)return et.expandInstanceChildren({scene:this,shared:s,pendingDeletes:j}),o||et.resetBBoxNeedsUpdate(),_&&et.traverseEntity(st=>{_.addClip(st)}),!0});for(let et of j)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(et),kx(et)}recomputeInstances(s,o){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(_=>{_ instanceof $s&&_.isInstanceRoot&&(_.component=void 0)}),this.expandInstances(s,!1,o))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(s){s.traverseEntity(o=>{let _=typeof o.identity=="string"?o.identity:o.identity.join("-");this.entityIdentityToEntity[_]===o&&(delete this.entityByUuid[o.uuid],delete this.entityIdentityToEntity[_]),o.dispose()})}clearScene(){for(let s of this.children)yt.is(s)&&s.disposeRecursively();this.children.length=0}resetAfterClear(s,o){this.init(s,o)}raycast(s){return this.raycast1(s,!1)}raycast1(s,o){let _=[],j=et=>{for(let st of et.children){let nt=st.cloner;if(yt.is(st)&&!st.raycastLock&&(st.visible||nt!=null&&nt.object.data.visible))if(o===!0&&st.isInstanceRoot){let ct=[];if(s.intersectObject(st,!0,ct),ct.length){let At=ct[0];At.object=st,At.point.applyMatrix4(At.object.matrixWorld);let mt=st.matrixWorld.clone().invert();At.point.applyMatrix4(mt),_.push(At)}}else(cn(st)||Cm(st)&&this.enableHelpers&&st.objectHelper.visible)&&(s.intersectObject(st,!1,_),Nm(st,s,_)),j(st)}};return j(this.activePage),_}raycastWithClones(s){let o=[],_=j=>{for(let et of j.children){let st=et.cloner;yt.is(et)&&(et.visible||st!=null&&st.object.data.visible)&&((cn(et)||Cm(et)&&this.enableHelpers&&et.objectHelper.visible)&&(s.intersectObject(et,!1,o),Nm(et,s,o,!0)),_(et))}};return _(this),o}forEachEntity(s){for(let o of this.children)yt.is(o)&&s(o)}traverseConcreteEntity(s){for(let o of this.children)yt.is(o)&&o.isConcreteEntity&&o.traverseEntity(s)}traverseEntity(s){for(let o of this.children)yt.is(o)&&o.traverseEntity(s)}updateFont(s,o){this.traverseEntity(_=>{if(_ instanceof lr&&_.data.type==="Mesh"&&(_.data.geometry.type==="TextGeometry"||_.data.geometry.type==="InputGeometry")&&_.data.geometry.font===s){let j=_.geometry,et=_.data.geometry;j.updateFont(s,o).then(()=>{j.update(et);let st=_.invalidateDownstreamBooleanData();En(st)&&st.recomputeBoolean()})}})}traverseObject(s){for(let o of this.children)dd.is(o)&&o.traverseObject(s)}traverseVisibleEntity(s){for(let o of this.children)yt.is(o)&&o.visible&&o.traverseVisibleEntity(s)}dispose(){this.clearScene()}createChildrenObjects(s,o,_){let j=0;for(let et of s)this.createObject(et.id,et.data,et.children,o,j,_),j+=1}registerObjectCreatedInLegacy(s){this.entityByUuid[s.uuid]=s}unregisterObject(s){delete this.entityByUuid[s.uuid];for(let o of s.children)this.unregisterObject(o)}createObject(s,o,_,j,et,st){var At;let nt={scene:this,shared:st},ct=Xx(s,o,nt);return ct&&(this.entityByUuid[s]=ct,j.add(ct),j.children.splice(et,0,j.children.pop()),_.length>0&&(ct.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(_,ct,st)),ct.updateState(o,nt),ct instanceof lr&&ct.updateGeometryGroupsIfNeeded(),ct.updateVisible(this),ct.cloner&&this.toExpandCloner.add(ct),(At=o.pathSnapping)!=null&&At.pathId&&this.pathConstraints.setConstraint(s,o.pathSnapping.pathId)),o.type==="Empty"&&o.animations&&ct.traverseEntity(mt=>{let gt=mt.dataPatched;if(mt instanceof lr&&gt.bones&&gt.boneInverses){let _t=gt.bones.map(Bt=>this.find(Bt)),Et=gt.boneInverses.map(Bt=>new ue$2().fromArray(Bt)),Ct=new $a(_t,Et);mt.bind(Ct,mt.bindMatrix)}else mt.matrixAutoUpdate=!0}),ct}getCenter(s){let o=[];for(let j=0,et=s.length;j<et;++j){let{id:st,recursive:nt}=s[j],ct=this.find(st),At=nt?ct.recursiveBBox:ct.singleBBox;o.push(...At.vertices)}let _=new jt;return _.setFromPoints(o),_.getCenter(eB),eB}copyMatrixWorld(s,o){if(s===null){o.identity();return}let _=this.find(s);_?o.copy(_.matrixWorld):o.identity()}copyParentMatrixWorld(s,o){var j;if(s===null){o.identity();return}let _=(j=this.find(s))==null?void 0:j.parent;_?o.copy(_.matrixWorld):o.identity()}traverseMaterial(s){this.traverseEntity(o=>{if(o instanceof mr)if(Array.isArray(o.material))for(let _=0;_<o.material.length;_++)o.material[_]instanceof Nn&&s(o.material[_]);else o.material instanceof Nn&&s(o.material)})}updateViewPlaneSize(s,o,_=!1){this.traverseConcreteEntity(j=>{j instanceof wr$1&&j.setViewplaneSize(s,o,_)})}initializeSplatViewer(){this.splatViewer=new Fm({scene:this}),this.reloadSplats()}reloadSplats(){var s;(s=this.splatViewer)==null||s.loadSplat()}},Vm=(s,o)=>{let _=o.x-s.x,j=o.y-s.y;return Math.sqrt(_*_+j*j)},tB=(s,o)=>{let _=o.x-s.x,j=o.y-s.y;return QK(Math.atan2(j,_))},rB=(s,o,_)=>{let j={x:0,y:0};return _=eb(_),j.x=s.x-o*Math.cos(_),j.y=s.y-o*Math.sin(_),j},eb=s=>s*(Math.PI/180),QK=s=>s*(180/Math.PI),iB=s=>isNaN(s.buttons)?s.pressure!==0:s.buttons!==0,sM=new Map,oM=s=>{sM.has(s)&&clearTimeout(sM.get(s)),sM.set(s,setTimeout(s,100))},Cf=(s,o,_)=>{let j=o.split(/[ ,]+/g),et;for(let st=0;st<j.length;st+=1)et=j[st],s.addEventListener?s.addEventListener(et,_,!1):s.attachEvent&&s.attachEvent(et,_)},aM=(s,o,_)=>{let j=o.split(/[ ,]+/g),et;for(let st=0;st<j.length;st+=1)et=j[st],s.removeEventListener?s.removeEventListener(et,_):s.detachEvent&&s.detachEvent(et,_)},tb=s=>(s.preventDefault(),s.type.match(/^touch/)?s.changedTouches:s),lM=()=>{if(typeof window>"u")return;let s=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,o=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:s,y:o}},rb=(s,o)=>{o.top||o.right||o.bottom||o.left?(s.style.top=o.top,s.style.right=o.right,s.style.bottom=o.bottom,s.style.left=o.left):(s.style.left=o.x+"px",s.style.top=o.y+"px")},ib=(s,o,_)=>{let j=sB(s);for(let et in j)if(j.hasOwnProperty(et))if(typeof o=="string")j[et]=o+" "+_;else{let st="";for(let nt=0,ct=o.length;nt<ct;nt+=1)st+=o[nt]+" "+_+", ";j[et]=st.slice(0,-2)}return j},nB=(s,o)=>{let _=sB(s);for(let j in _)_.hasOwnProperty(j)&&(_[j]=o);return _},sB=s=>{let o={};return o[s]="",["webkit","Moz","o"].forEach(function(_){o[_+s.charAt(0).toUpperCase()+s.slice(1)]=""}),o},nb=(s,o)=>{for(let _ in o)o.hasOwnProperty(_)&&(s[_]=o[_]);return s},oB=(s,o)=>{let _={};for(let j in s)s.hasOwnProperty(j)&&o.hasOwnProperty(j)?_[j]=o[j]:s.hasOwnProperty(j)&&(_[j]=s[j]);return _},Um=(s,o)=>{if(s.length)for(let _=0,j=s.length;_<j;_+=1)o(s[_]);else o(s)},aB=(s,o,_)=>({x:Math.min(Math.max(s.x,o.x-_),o.x+_),y:Math.min(Math.max(s.y,o.y-_),o.y+_)});typeof window<"u"&&(lB="ontouchstart"in window,cB=!!window.PointerEvent,uB=!!window.MSPointerEvent);var lB,cB,uB,zm={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},Pf,km={};cB?Pf=zm.pointer:uB?Pf=zm.MSPointer:lB?(Pf=zm.touch,km=zm.mouse):Pf=zm.mouse;function tu(){}tu.prototype.on=function(s,o){var _=this,j=s.split(/[ ,]+/g),et;_._handlers_=_._handlers_||{};for(var st=0;st<j.length;st+=1)et=j[st],_._handlers_[et]=_._handlers_[et]||[],_._handlers_[et].push(o);return _};tu.prototype.off=function(s,o){var _=this;return _._handlers_=_._handlers_||{},s===void 0?_._handlers_={}:o===void 0?_._handlers_[s]=null:_._handlers_[s]&&_._handlers_[s].indexOf(o)>=0&&_._handlers_[s].splice(_._handlers_[s].indexOf(o),1),_};tu.prototype.trigger=function(s,o){var _=this,j=s.split(/[ ,]+/g),et;_._handlers_=_._handlers_||{};for(var st=0;st<j.length;st+=1)et=j[st],_._handlers_[et]&&_._handlers_[et].length&&_._handlers_[et].forEach(function(nt){nt.call(_,{type:et,target:_},o)})};tu.prototype.config=function(s){var o=this;o.options=o.defaults||{},s&&(o.options=oB(o.options,s))};tu.prototype.bindEvt=function(s,o){var _=this;return _._domHandlers_=_._domHandlers_||{},_._domHandlers_[o]=function(){typeof _["on"+o]=="function"?_["on"+o].apply(_,arguments):console.warn('[WARNING] : Missing "on'+o+'" handler.')},Cf(s,Pf[o],_._domHandlers_[o]),km[o]&&Cf(s,km[o],_._domHandlers_[o]),_};tu.prototype.unbindEvt=function(s,o){var _=this;return _._domHandlers_=_._domHandlers_||{},aM(s,Pf[o],_._domHandlers_[o]),km[o]&&aM(s,km[o],_._domHandlers_[o]),delete _._domHandlers_[o],this};var _f=tu;function Di(s,o){return this.identifier=o.identifier,this.position=o.position,this.frontPosition=o.frontPosition,this.collection=s,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(o),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=Di.id,Di.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}Di.prototype=new _f;Di.constructor=Di;Di.id=0;Di.prototype.buildEl=function(s){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};Di.prototype.stylize=function(){if(this.options.dataOnly)return this;var s=this.options.fadeTime+"ms",o=nB("borderRadius","50%"),_=ib("transition","opacity",s),j={};return j.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},j.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},j.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},nb(j.el,_),this.options.shape==="circle"&&nb(j.back,o),nb(j.front,o),this.applyStyles(j),this};Di.prototype.applyStyles=function(s){for(var o in this.ui)if(this.ui.hasOwnProperty(o))for(var _ in s[o])this.ui[o].style[_]=s[o][_];return this};Di.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};Di.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};Di.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};Di.prototype.show=function(s){var o=this;return o.options.dataOnly||(clearTimeout(o.removeTimeout),clearTimeout(o.showTimeout),clearTimeout(o.restTimeout),o.addToDom(),o.restCallback(),setTimeout(function(){o.ui.el.style.opacity=1},0),o.showTimeout=setTimeout(function(){o.trigger("shown",o.instance),typeof s=="function"&&s.call(this)},o.options.fadeTime)),o};Di.prototype.hide=function(s){var o=this;if(o.options.dataOnly)return o;if(o.ui.el.style.opacity=o.options.restOpacity,clearTimeout(o.removeTimeout),clearTimeout(o.showTimeout),clearTimeout(o.restTimeout),o.removeTimeout=setTimeout(function(){var _=o.options.mode==="dynamic"?"none":"block";o.ui.el.style.display=_,typeof s=="function"&&s.call(o),o.trigger("hidden",o.instance)},o.options.fadeTime),o.options.restJoystick){let _=o.options.restJoystick,j={};j.x=_===!0||_.x!==!1?0:o.instance.frontPosition.x,j.y=_===!0||_.y!==!1?0:o.instance.frontPosition.y,o.setPosition(s,j)}return o};Di.prototype.setPosition=function(s,o){var _=this;_.frontPosition={x:o.x,y:o.y};var j=_.options.fadeTime+"ms",et={};et.front=ib("transition",["top","left"],j);var st={front:{}};st.front={left:_.frontPosition.x+"px",top:_.frontPosition.y+"px"},_.applyStyles(et),_.applyStyles(st),_.restTimeout=setTimeout(function(){typeof s=="function"&&s.call(_),_.restCallback()},_.options.fadeTime)};Di.prototype.restCallback=function(){var s=this,o={};o.front=ib("transition","none",""),s.applyStyles(o),s.trigger("rested",s.instance)};Di.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};Di.prototype.computeDirection=function(s){var o=s.angle.radian,_=Math.PI/4,j=Math.PI/2,et,st,nt;if(o>_&&o<_*3&&!s.lockX?et="up":o>-_&&o<=_&&!s.lockY?et="left":o>-_*3&&o<=-_&&!s.lockX?et="down":s.lockY||(et="right"),s.lockY||(o>-j&&o<j?st="left":st="right"),s.lockX||(o>0?nt="up":nt="down"),s.force>this.options.threshold){var ct={},At;for(At in this.direction)this.direction.hasOwnProperty(At)&&(ct[At]=this.direction[At]);var mt={};this.direction={x:st,y:nt,angle:et},s.direction=this.direction;for(At in ct)ct[At]===this.direction[At]&&(mt[At]=!0);if(mt.x&&mt.y&&mt.angle)return s;(!mt.x||!mt.y)&&this.trigger("plain",s),mt.x||this.trigger("plain:"+st,s),mt.y||this.trigger("plain:"+nt,s),mt.angle||this.trigger("dir dir:"+et,s)}else this.resetDirection();return s};var hB=Di;function oi(s,o){var _=this;_.nipples=[],_.idles=[],_.actives=[],_.ids=[],_.pressureIntervals={},_.manager=s,_.id=oi.id,oi.id+=1,_.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},_.config(o),(_.options.mode==="static"||_.options.mode==="semi")&&(_.options.multitouch=!1),_.options.multitouch||(_.options.maxNumberOfNipples=1);let j=getComputedStyle(_.options.zone.parentElement);return j&&j.display==="flex"&&(_.parentIsFlex=!0),_.updateBox(),_.prepareNipples(),_.bindings(),_.begin(),_.nipples}oi.prototype=new _f;oi.constructor=oi;oi.id=0;oi.prototype.prepareNipples=function(){var s=this,o=s.nipples;o.on=s.on.bind(s),o.off=s.off.bind(s),o.options=s.options,o.destroy=s.destroy.bind(s),o.ids=s.ids,o.id=s.id,o.processOnMove=s.processOnMove.bind(s),o.processOnEnd=s.processOnEnd.bind(s),o.get=function(_){if(_===void 0)return o[0];for(var j=0,et=o.length;j<et;j+=1)if(o[j].identifier===_)return o[j];return!1}};oi.prototype.bindings=function(){var s=this;s.bindEvt(s.options.zone,"start"),s.options.zone.style.touchAction="none",s.options.zone.style.msTouchAction="none"};oi.prototype.begin=function(){var s=this,o=s.options;if(o.mode==="static"){var _=s.createNipple(o.position,s.manager.getIdentifier());_.add(),s.idles.push(_)}};oi.prototype.createNipple=function(s,o){var _=this,j=_.manager.scroll,et={},st=_.options,nt={x:_.parentIsFlex?j.x:j.x+_.box.left,y:_.parentIsFlex?j.y:j.y+_.box.top};if(s.x&&s.y)et={x:s.x-nt.x,y:s.y-nt.y};else if(s.top||s.right||s.bottom||s.left){var ct=document.createElement("DIV");ct.style.display="hidden",ct.style.top=s.top,ct.style.right=s.right,ct.style.bottom=s.bottom,ct.style.left=s.left,ct.style.position="absolute",st.zone.appendChild(ct);var At=ct.getBoundingClientRect();st.zone.removeChild(ct),et=s,s={x:At.left+j.x,y:At.top+j.y}}var mt=new hB(_,{color:st.color,size:st.size,threshold:st.threshold,fadeTime:st.fadeTime,dataOnly:st.dataOnly,restJoystick:st.restJoystick,restOpacity:st.restOpacity,mode:st.mode,identifier:o,position:s,zone:st.zone,frontPosition:{x:0,y:0},shape:st.shape});return st.dataOnly||(rb(mt.ui.el,et),rb(mt.ui.front,mt.frontPosition)),_.nipples.push(mt),_.trigger("added "+mt.identifier+":added",mt),_.manager.trigger("added "+mt.identifier+":added",mt),_.bindNipple(mt),mt};oi.prototype.updateBox=function(){var s=this;s.box=s.options.zone.getBoundingClientRect()};oi.prototype.bindNipple=function(s){var o=this,_,j=function(et,st){_=et.type+" "+st.id+":"+et.type,o.trigger(_,st)};s.on("destroyed",o.onDestroyed.bind(o)),s.on("shown hidden rested dir plain",j),s.on("dir:up dir:right dir:down dir:left",j),s.on("plain:up plain:right plain:down plain:left",j)};oi.prototype.pressureFn=function(s,o,_){var j=this,et=0;clearInterval(j.pressureIntervals[_]),j.pressureIntervals[_]=setInterval((function(){var st=s.force||s.pressure||s.webkitForce||0;st!==et&&(o.trigger("pressure",st),j.trigger("pressure "+o.identifier+":pressure",st),et=st)}).bind(j),100)};oi.prototype.onstart=function(s){var o=this,_=o.options,j=s;s=tb(s),o.updateBox();var et=function(st){o.actives.length<_.maxNumberOfNipples?o.processOnStart(st):j.type.match(/^touch/)&&(Object.keys(o.manager.ids).forEach(function(nt){if(Object.values(j.touches).findIndex(function(At){return At.identifier===nt})<0){var ct=[s[0]];ct.identifier=nt,o.processOnEnd(ct)}}),o.actives.length<_.maxNumberOfNipples&&o.processOnStart(st))};return Um(s,et),o.manager.bindDocument(),!1};oi.prototype.processOnStart=function(s){var o=this,_=o.options,j,et=o.manager.getIdentifier(s),st=s.force||s.pressure||s.webkitForce||0,nt={x:s.pageX,y:s.pageY},ct=o.getOrCreate(et,nt);ct.identifier!==et&&o.manager.removeIdentifier(ct.identifier),ct.identifier=et;var At=function(gt){gt.trigger("start",gt),o.trigger("start "+gt.id+":start",gt),gt.show(),st>0&&o.pressureFn(s,gt,gt.identifier),o.processOnMove(s)};if((j=o.idles.indexOf(ct))>=0&&o.idles.splice(j,1),o.actives.push(ct),o.ids.push(ct.identifier),_.mode!=="semi")At(ct);else{var mt=Vm(nt,ct.position);if(mt<=_.catchDistance)At(ct);else{ct.destroy(),o.processOnStart(s);return}}return ct};oi.prototype.getOrCreate=function(s,o){var _=this,j=_.options,et;return/(semi|static)/.test(j.mode)?(et=_.idles[0],et?(_.idles.splice(0,1),et):j.mode==="semi"?_.createNipple(o,s):(console.warn("Coudln't find the needed nipple."),!1)):(et=_.createNipple(o,s),et)};oi.prototype.processOnMove=function(s){var o=this,_=o.options,j=o.manager.getIdentifier(s),et=o.nipples.get(j),st=o.manager.scroll;if(!iB(s)){this.processOnEnd(s);return}if(!et){console.error("Found zombie joystick with ID "+j),o.manager.removeIdentifier(j);return}if(_.dynamicPage){var nt=et.el.getBoundingClientRect();et.position={x:st.x+nt.left,y:st.y+nt.top}}et.identifier=j;var ct=et.options.size/2,At={x:s.pageX,y:s.pageY};_.lockX&&(At.y=et.position.y),_.lockY&&(At.x=et.position.x);var mt=Vm(At,et.position),gt=tB(At,et.position),_t=eb(gt),Et=mt/ct,Ct={distance:mt,position:At},Bt,Dt;if(et.options.shape==="circle"?(Bt=Math.min(mt,ct),Dt=rB(et.position,Bt,gt)):(Dt=aB(At,et.position,ct),Bt=Vm(Dt,et.position)),_.follow){if(mt>ct){let Gt=At.x-Dt.x,dr=At.y-Dt.y;et.position.x+=Gt,et.position.y+=dr,et.el.style.top=et.position.y-(o.box.top+st.y)+"px",et.el.style.left=et.position.x-(o.box.left+st.x)+"px",mt=Vm(At,et.position)}}else At=Dt,mt=Bt;var Ft=At.x-et.position.x,Rt=At.y-et.position.y;et.frontPosition={x:Ft,y:Rt},_.dataOnly||rb(et.ui.front,et.frontPosition);var Nt={identifier:et.identifier,position:At,force:Et,pressure:s.force||s.pressure||s.webkitForce||0,distance:mt,angle:{radian:_t,degree:gt},vector:{x:Ft/ct,y:-Rt/ct},raw:Ct,instance:et,lockX:_.lockX,lockY:_.lockY};Nt=et.computeDirection(Nt),Nt.angle={radian:eb(180-gt),degree:180-gt},et.trigger("move",Nt),o.trigger("move "+et.id+":move",Nt)};oi.prototype.processOnEnd=function(s){var o=this,_=o.options,j=o.manager.getIdentifier(s),et=o.nipples.get(j),st=o.manager.removeIdentifier(et.identifier);!et||(_.dataOnly||et.hide(function(){_.mode==="dynamic"&&(et.trigger("removed",et),o.trigger("removed "+et.id+":removed",et),o.manager.trigger("removed "+et.id+":removed",et),et.destroy())}),clearInterval(o.pressureIntervals[et.identifier]),et.resetDirection(),et.trigger("end",et),o.trigger("end "+et.id+":end",et),o.ids.indexOf(et.identifier)>=0&&o.ids.splice(o.ids.indexOf(et.identifier),1),o.actives.indexOf(et)>=0&&o.actives.splice(o.actives.indexOf(et),1),/(semi|static)/.test(_.mode)?o.idles.push(et):o.nipples.indexOf(et)>=0&&o.nipples.splice(o.nipples.indexOf(et),1),o.manager.unbindDocument(),/(semi|static)/.test(_.mode)&&(o.manager.ids[st.id]=st.identifier))};oi.prototype.onDestroyed=function(s,o){var _=this;_.nipples.indexOf(o)>=0&&_.nipples.splice(_.nipples.indexOf(o),1),_.actives.indexOf(o)>=0&&_.actives.splice(_.actives.indexOf(o),1),_.idles.indexOf(o)>=0&&_.idles.splice(_.idles.indexOf(o),1),_.ids.indexOf(o.identifier)>=0&&_.ids.splice(_.ids.indexOf(o.identifier),1),_.manager.removeIdentifier(o.identifier),_.manager.unbindDocument()};oi.prototype.destroy=function(){var s=this;s.unbindEvt(s.options.zone,"start"),s.nipples.forEach(function(_){_.destroy()});for(var o in s.pressureIntervals)s.pressureIntervals.hasOwnProperty(o)&&clearInterval(s.pressureIntervals[o]);s.trigger("destroyed",s.nipples),s.manager.unbindDocument(),s.off()};var dB=oi;function ji(s){var o=this;o.ids={},o.index=0,o.collections=[],o.scroll=lM(),o.config(s),o.prepareCollections();var _=function(){var et;o.collections.forEach(function(st){st.forEach(function(nt){et=nt.el.getBoundingClientRect(),nt.position={x:o.scroll.x+et.left,y:o.scroll.y+et.top}})})};if(typeof window>"u")return o.collections;Cf(window,"resize",function(){oM(_)});var j=function(){o.scroll=lM()};return Cf(window,"scroll",function(){oM(j)}),o.collections}ji.prototype=new _f;ji.constructor=ji;ji.prototype.prepareCollections=function(){var s=this;s.collections.create=s.create.bind(s),s.collections.on=s.on.bind(s),s.collections.off=s.off.bind(s),s.collections.destroy=s.destroy.bind(s),s.collections.get=function(o){var _;return s.collections.every(function(j){return _=j.get(o),!_}),_}};ji.prototype.create=function(s){return this.createCollection(s)};ji.prototype.createCollection=function(s){var o=this,_=new dB(o,s);return o.bindCollection(_),o.collections.push(_),_};ji.prototype.bindCollection=function(s){var o=this,_,j=function(et,st){_=et.type+" "+st.id+":"+et.type,o.trigger(_,st)};s.on("destroyed",o.onDestroyed.bind(o)),s.on("shown hidden rested dir plain",j),s.on("dir:up dir:right dir:down dir:left",j),s.on("plain:up plain:right plain:down plain:left",j)};ji.prototype.bindDocument=function(){var s=this;s.binded||(s.bindEvt(document,"move").bindEvt(document,"end"),s.binded=!0)};ji.prototype.unbindDocument=function(s){var o=this;(!Object.keys(o.ids).length||s===!0)&&(o.unbindEvt(document,"move").unbindEvt(document,"end"),o.binded=!1)};ji.prototype.getIdentifier=function(s){var o;return s?(o=s.identifier===void 0?s.pointerId:s.identifier,o===void 0&&(o=this.latest||0)):o=this.index,this.ids[o]===void 0&&(this.ids[o]=this.index,this.index+=1),this.latest=o,this.ids[o]};ji.prototype.removeIdentifier=function(s){var o={};for(var _ in this.ids)if(this.ids[_]===s){o.id=_,o.identifier=this.ids[_],delete this.ids[_];break}return o};ji.prototype.onmove=function(s){var o=this;return o.onAny("move",s),!1};ji.prototype.onend=function(s){var o=this;return o.onAny("end",s),!1};ji.prototype.oncancel=function(s){var o=this;return o.onAny("end",s),!1};ji.prototype.onAny=function(s,o){var _=this,j,et="processOn"+s.charAt(0).toUpperCase()+s.slice(1);o=tb(o);var st=function(ct,At,mt){mt.ids.indexOf(At)>=0&&(mt[et](ct),ct._found_=!0)},nt=function(ct){j=_.getIdentifier(ct),Um(_.collections,st.bind(null,ct,j)),ct._found_||_.removeIdentifier(j)};return Um(o,nt),!1};ji.prototype.destroy=function(){var s=this;s.unbindDocument(!0),s.ids={},s.index=0,s.collections.forEach(function(o){o.destroy()}),s.off()};ji.prototype.onDestroyed=function(s,o){var _=this;if(_.collections.indexOf(o)<0)return!1;_.collections.splice(_.collections.indexOf(o),1)};var fB=ji,pB=new fB,mB={create:function(s){return pB.create(s)},factory:pB},gB=new Map,Gm=new Map,Go=class{constructor(s,o,_,j){this.data=o;let{audio:et,volume:st,delay:nt,loop:ct}=o;if(!et)throw new Error("Missing property");let At=typeof et=="string"?j.getAudio(et).src:et.data;this.audioPlayer=new Oa({src:At,volume:st,delay:nt,loop:ct}),Gm.has(_.uuid)?Gm.get(_.uuid).push(this):Gm.set(_.uuid,[this]),gB.set(s,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},Df=class{constructor(s){this.data=s}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(s){let o=gB.get(s);!o||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{o.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):o.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(s){let o=Gm.get(s);!(o!=null&&o.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{o.forEach(_=>_.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):o.forEach(_=>_.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let s=[...Gm.values()];!s.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{s.forEach(o=>{o.forEach(_=>{_.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):s.forEach(o=>{o.forEach(_=>{_.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},jm=class{constructor(s,o,_,j,et){if(this.data=o,this.shared=j,this.condition=et,o.interaction==="play")this.interaction=new Go(s,o,_,j);else if(o.interaction==="pause"||o.interaction==="stop")this.interaction=new Df(o);else throw new Error("Missing property")}dispatchBasic(){if(wt(this.shared,this.condition)===!1)return!1;this.interaction instanceof Go?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(wt(this.shared,this.condition)===!1)return!1;this.interaction instanceof Go?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(s){if(wt(this.shared,this.condition)===!1)return!1;this.interaction instanceof Go&&(s==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},Hm=class{constructor(s,o,_,j){this.data=s,this.page=o,this.shared=_,this.condition=j,this.delay=0,this.emission=s.emission,s.delay!==void 0&&(this.delay=s.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop(this.delay):this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze(this.delay):this.unFreeze(this.delay)}start(s=0){if(s){this.delayTimerId=window.setTimeout(()=>{this.start(0),this.clearDelay()},s);return}this.particleSystem.start()}stop(s=0){if(s){this.delayTimerId=window.setTimeout(()=>{this.stop(0),this.clearDelay()},s);return}this.particleSystem.stop()}freeze(s=0){if(s){this.delayTimerId=window.setTimeout(()=>{this.freeze(0),this.clearDelay()},s);return}this.particleSystem.froze()}unFreeze(s=0){if(s){this.delayTimerId=window.setTimeout(()=>{this.unFreeze(0),this.clearDelay()},s);return}this.particleSystem.unFroze()}reset(s=0){if(s){this.delayTimerId=window.setTimeout(()=>{this.reset(0),this.clearDelay()},s);return}this.particleSystem.reset()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze();break}}dispatchBasic(){if(wt(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze(this.delay);break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchConditional(){if(wt(this.shared,this.condition)===!1||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"stop":this.stop(this.delay);break;case"reset":this.reset(this.delay);break}}dispatchGameControl(s){if(wt(this.shared,this.condition)===!1||!this.particleSystem)return!1;s==="start"?this.start(this.delay):this.stop(this.delay)}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},KK="text/plain",ZK="us-ascii",yB=(s,o)=>o.some(_=>_ instanceof RegExp?_.test(s):_===s),JK=(s,{stripHash:o})=>{let _=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(s);if(!_)throw new Error(`Invalid URL: ${s}`);let{type:j,data:et,hash:st}=_.groups,nt=j.split(";");st=o?"":st;let ct=!1;nt[nt.length-1]==="base64"&&(nt.pop(),ct=!0);let At=(nt.shift()||"").toLowerCase(),mt=[...nt.map(gt=>{let[_t,Et=""]=gt.split("=").map(Ct=>Ct.trim());return _t==="charset"&&(Et=Et.toLowerCase(),Et===ZK)?"":`${_t}${Et?`=${Et}`:""}`}).filter(Boolean)];return ct&&mt.push("base64"),(mt.length>0||At&&At!==KK)&&mt.unshift(At),`data:${mt.join(";")},${ct?et.trim():et}${st?`#${st}`:""}`};function cM(s,o){if(o={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...o},s=s.trim(),/^data:/i.test(s))return JK(s,o);if(/^view-source:/i.test(s))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let _=s.startsWith("//");!_&&/^\.*\//.test(s)||(s=s.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,o.defaultProtocol));let j=new URL(s);if(o.forceHttp&&o.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(o.forceHttp&&j.protocol==="https:"&&(j.protocol="http:"),o.forceHttps&&j.protocol==="http:"&&(j.protocol="https:"),o.stripAuthentication&&(j.username="",j.password=""),o.stripHash?j.hash="":o.stripTextFragment&&(j.hash=j.hash.replace(/#?:~:text.*?$/i,"")),j.pathname){let st=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,nt=0,ct="";for(;;){let mt=st.exec(j.pathname);if(!mt)break;let gt=mt[0],_t=mt.index,Et=j.pathname.slice(nt,_t);ct+=Et.replace(/\/{2,}/g,"/"),ct+=gt,nt=_t+gt.length}let At=j.pathname.slice(nt,j.pathname.length);ct+=At.replace(/\/{2,}/g,"/"),j.pathname=ct}if(j.pathname)try{j.pathname=decodeURI(j.pathname)}catch{}if(o.removeDirectoryIndex===!0&&(o.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(o.removeDirectoryIndex)&&o.removeDirectoryIndex.length>0){let st=j.pathname.split("/"),nt=st[st.length-1];yB(nt,o.removeDirectoryIndex)&&(st=st.slice(0,-1),j.pathname=st.slice(1).join("/")+"/")}if(j.hostname&&(j.hostname=j.hostname.replace(/\.$/,""),o.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(j.hostname)&&(j.hostname=j.hostname.replace(/^www\./,""))),Array.isArray(o.removeQueryParameters))for(let st of[...j.searchParams.keys()])yB(st,o.removeQueryParameters)&&j.searchParams.delete(st);if(o.removeQueryParameters===!0&&(j.search=""),o.sortQueryParameters){j.searchParams.sort();try{j.search=decodeURIComponent(j.search)}catch{}}o.removeTrailingSlash&&(j.pathname=j.pathname.replace(/\/$/,""));let et=s;return s=j.toString(),!o.removeSingleSlash&&j.pathname==="/"&&!et.endsWith("/")&&j.hash===""&&(s=s.replace(/\/$/,"")),(o.removeTrailingSlash||j.pathname==="/")&&j.hash===""&&o.removeSingleSlash&&(s=s.replace(/\/$/,"")),_&&!o.normalizeProtocol&&(s=s.replace(/^http:\/\//,"//")),o.stripProtocol&&(s=s.replace(/^(?:https?:)?\/\//,"")),s}var ob=class{constructor({url:s,context:o},_,j,et){if(this.controlsManager=_,this.shared=j,this.condition=et,!s)throw new Error("Missing property");this.url=s.startsWith("mailto:")?s:cM(s,{removeTrailingSlash:!1,removeSingleSlash:!1,stripWWW:!1}),this.context=o??"tab"}dispatch(){var s;if(wt(this.shared,this.condition)===!1)return!1;go?window.location.assign(this.url):(this.context==="tab"||Zw&&this.context==="none"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(s=this.controlsManager.orbitControls)==null||s.onPointerUp(Je[0]),j2())}},Wm=class{constructor(s,o,_,j,et){this.data=s,this.page=o,this.controlsManager=_,this.shared=j,this.condition=et,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=st=>{var mt,gt;this.timeoutIdQueue.shift();let nt=this.page.scene.find(st);if(nt===void 0)return;let ct=this.controlsManager.sharedGameControlGlobals.rapierWorld,At=ct?(mt=nt.dataPatched.physics)==null?void 0:mt.fusedBody:!0;if(nt.cloner){for(let _t of nt.cloner.children)At?(_t.playModeVisible=!1,_t.rigidBody&&((gt=nt.dataPatched.physics)==null?void 0:gt.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(_t.rigidBody.collider(0).handle),ct.removeRigidBody(_t.rigidBody),_t.rigidBody=void 0),_t.bvhGeometry&&(_t.bvhGeometry=void 0)):this.clone===void 0||this.clone===_t?(_t.playModeVisible=!1,_t.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(_t.rigidBody.collider(0).handle),ct.removeRigidBody(_t.rigidBody),_t.rigidBody=void 0)):_t.playModeVisible===void 0&&(_t.playModeVisible=!0);(At||this.clone===void 0||this.clone===!1)&&(nt.visible=!1,nt.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(nt.rigidBody.collider(0).handle),ct.removeRigidBody(nt.rigidBody),nt.rigidBody=void 0),nt.bvhGeometry&&(nt.bvhGeometry=void 0))}else nt.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(nt.rigidBody.collider(0).handle),ct.removeRigidBody(nt.rigidBody),nt.rigidBody=void 0),nt.bvhGeometry&&(nt.bvhGeometry=void 0),nt.visible=!1;ct===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(_t=>_t.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(_t=>_t.rigidBody!==void 0),nt.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...s.objects]}dispatch(s){if(wt(this.shared,this.condition)===!1)return!1;this.clone=s,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(wt(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(s=>window.clearTimeout(s))}},qm=class{constructor(s,o,_,j,et){this.data=s,this.page=o,this.shared=_,this.eventManager=j,this.condition=et,this.shared=_}dispatch(){if(wt(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var s;this.shared.reset(this.shared.data,!0),If(this.page,this.shared,!0),this.eventManager.reset(),(s=this.eventManager.controlsManager.gameControl)==null||s.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},AB={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},fM={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},$K=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],lb={CSS:{},springs:{}};function eo(s,o,_){return Math.min(Math.max(s,o),_)}function Ym(s,o){return s.indexOf(o)>-1}function uM(s,o){return s.apply(null,o)}var ht={arr:function(s){return Array.isArray(s)},obj:function(s){return Ym(Object.prototype.toString.call(s),"Object")},pth:function(s){return ht.obj(s)&&s.hasOwnProperty("totalLength")},svg:function(s){return s instanceof SVGElement},inp:function(s){return s instanceof HTMLInputElement},dom:function(s){return!("isNode"in s)&&(s.nodeType||ht.svg(s))},str:function(s){return typeof s=="string"},fnc:function(s){return typeof s=="function"},und:function(s){return typeof s>"u"},hex:function(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)},rgb:function(s){return/^rgb/.test(s)},hsl:function(s){return/^hsl/.test(s)},col:function(s){return ht.hex(s)||ht.rgb(s)||ht.hsl(s)},key:function(s){return!AB.hasOwnProperty(s)&&!fM.hasOwnProperty(s)&&s!=="targets"&&s!=="keyframes"}};function EB$1(s){var o=/\(([^)]+)\)/.exec(s);return o?o[1].split(",").map(function(_){return parseFloat(_)}):[]}function MB(s,o){var _=EB$1(s),j=eo(ht.und(_[0])?1:_[0],.1,100),et=eo(ht.und(_[1])?100:_[1],.1,100),st=eo(ht.und(_[2])?10:_[2],.1,100),nt=eo(ht.und(_[3])?0:_[3],.1,100),ct=Math.sqrt(et/j),At=st/(2*Math.sqrt(et*j)),mt=At<1?ct*Math.sqrt(1-At*At):0,gt=1,_t=At<1?(At*ct+-nt)/mt:-nt+ct;function Et(Bt){var Dt=o?o*Bt/1e3:Bt;return At<1?Dt=Math.exp(-Dt*At*ct)*(gt*Math.cos(mt*Dt)+_t*Math.sin(mt*Dt)):Dt=(gt+_t*Dt)*Math.exp(-Dt*ct),Bt===0||Bt===1?Bt:1-Dt}function Ct(){var Bt=lb.springs[s];if(Bt)return Bt;for(var Dt=1/6,Ft=0,Rt=0;;)if(Ft+=Dt,Et(Ft)===1){if(Rt++,Rt>=16)break}else Rt=0;var Nt=Ft*Dt*1e3;return lb.springs[s]=Nt,Nt}return o?Et:Ct}function eZ(s){return s===void 0&&(s=10),function(o){return Math.ceil(eo(o,1e-6,1)*s)*(1/s)}}var tZ=function(){var s=11,o=1/(s-1);function _(gt,_t){return 1-3*_t+3*gt}function j(gt,_t){return 3*_t-6*gt}function et(gt){return 3*gt}function st(gt,_t,Et){return((_(_t,Et)*gt+j(_t,Et))*gt+et(_t))*gt}function nt(gt,_t,Et){return 3*_(_t,Et)*gt*gt+2*j(_t,Et)*gt+et(_t)}function ct(gt,_t,Et,Ct,Bt){var Dt,Ft,Rt=0;do Ft=_t+(Et-_t)/2,Dt=st(Ft,Ct,Bt)-gt,Dt>0?Et=Ft:_t=Ft;while(Math.abs(Dt)>1e-7&&++Rt<10);return Ft}function At(gt,_t,Et,Ct){for(var Bt=0;Bt<4;++Bt){var Dt=nt(_t,Et,Ct);if(Dt===0)return _t;var Ft=st(_t,Et,Ct)-gt;_t-=Ft/Dt}return _t}function mt(gt,_t,Et,Ct){if(!(0<=gt&&gt<=1&&0<=Et&&Et<=1))return;var Bt=new Float32Array(s);if(gt!==_t||Et!==Ct)for(var Dt=0;Dt<s;++Dt)Bt[Dt]=st(Dt*o,gt,Et);function Ft(Rt){for(var Nt=0,Gt=1,dr=s-1;Gt!==dr&&Bt[Gt]<=Rt;++Gt)Nt+=o;--Gt;var ts=(Rt-Bt[Gt])/(Bt[Gt+1]-Bt[Gt]),es=Nt+ts*o,ds=nt(es,gt,Et);return ds>=.001?At(Rt,es,gt,Et):ds===0?es:ct(Rt,Nt,Nt+o,gt,Et)}return function(Rt){return gt===_t&&Et===Ct||Rt===0||Rt===1?Rt:st(Ft(Rt),_t,Ct)}}return mt}(),TB=function(){var s={linear:function(){return function(j){return j}}},o={Sine:function(){return function(j){return 1-Math.cos(j*Math.PI/2)}},Circ:function(){return function(j){return 1-Math.sqrt(1-j*j)}},Back:function(){return function(j){return j*j*(3*j-2)}},Bounce:function(){return function(j){for(var et,st=4;j<((et=Math.pow(2,--st))-1)/11;);return 1/Math.pow(4,3-st)-7.5625*Math.pow((et*3-2)/22-j,2)}},Elastic:function(j,et){j===void 0&&(j=1),et===void 0&&(et=.5);var st=eo(j,1,10),nt=eo(et,.1,2);return function(ct){return ct===0||ct===1?ct:-st*Math.pow(2,10*(ct-1))*Math.sin((ct-1-nt/(Math.PI*2)*Math.asin(1/st))*(Math.PI*2)/nt)}}},_=["Quad","Cubic","Quart","Quint","Expo"];return _.forEach(function(j,et){o[j]=function(){return function(st){return Math.pow(st,et+2)}}}),Object.keys(o).forEach(function(j){var et=o[j];s["easeIn"+j]=et,s["easeOut"+j]=function(st,nt){return function(ct){return 1-et(st,nt)(1-ct)}},s["easeInOut"+j]=function(st,nt){return function(ct){return ct<.5?et(st,nt)(ct*2)/2:1-et(st,nt)(ct*-2+2)/2}}}),s}();function pM(s,o){if(ht.fnc(s))return s;var _=s.split("(")[0],j=TB[_],et=EB$1(s);switch(_){case"spring":return MB(s,o);case"cubicBezier":return uM(tZ,et);case"steps":return uM(eZ,et);default:return uM(j,et)}}function CB$1(s){try{var o=document.querySelectorAll(s);return o}catch{return}}function cb(s,o){for(var _=s.length,j=arguments.length>=2?arguments[1]:void 0,et=[],st=0;st<_;st++)if(st in s){var nt=s[st];o.call(j,nt,st,s)&&et.push(nt)}return et}function ub(s){return s.reduce(function(o,_){return o.concat(ht.arr(_)?ub(_):_)},[])}function vB(s){return ht.arr(s)?s:(ht.str(s)&&(s=CB$1(s)||s),s instanceof NodeList||s instanceof HTMLCollection?[].slice.call(s):[s])}function mM(s,o){return s.some(function(_){return _===o})}function gM(s){var o={};for(var _ in s)o[_]=s[_];return o}function hM(s,o){var _=gM(s);for(var j in s)_[j]=o.hasOwnProperty(j)?o[j]:s[j];return _}function hb(s,o){var _=gM(s);for(var j in o)_[j]=ht.und(s[j])?o[j]:s[j];return _}function rZ(s){var o=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s);return o?"rgba("+o[1]+",1)":s}function iZ(s){var o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,_=s.replace(o,function(ct,At,mt,gt){return At+At+mt+mt+gt+gt}),j=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(_),et=parseInt(j[1],16),st=parseInt(j[2],16),nt=parseInt(j[3],16);return"rgba("+et+","+st+","+nt+",1)"}function nZ(s){var o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),_=parseInt(o[1],10)/360,j=parseInt(o[2],10)/100,et=parseInt(o[3],10)/100,st=o[4]||1;function nt(Et,Ct,Bt){return Bt<0&&(Bt+=1),Bt>1&&(Bt-=1),Bt<1/6?Et+(Ct-Et)*6*Bt:Bt<1/2?Ct:Bt<2/3?Et+(Ct-Et)*(2/3-Bt)*6:Et}var ct,At,mt;if(j==0)ct=At=mt=et;else{var gt=et<.5?et*(1+j):et+j-et*j,_t=2*et-gt;ct=nt(_t,gt,_+1/3),At=nt(_t,gt,_),mt=nt(_t,gt,_-1/3)}return"rgba("+ct*255+","+At*255+","+mt*255+","+st+")"}function sZ(s){if(ht.rgb(s))return rZ(s);if(ht.hex(s))return iZ(s);if(ht.hsl(s))return nZ(s)}function Na(s){var o=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(s);if(o)return o[1]}function oZ(s){if(Ym(s,"translate")||s==="perspective")return"px";if(Ym(s,"rotate")||Ym(s,"skew"))return"deg"}function dM(s,o){return ht.fnc(s)?s(o.target,o.id,o.total):s}function jo(s,o){return s.getAttribute(o)}function yM(s,o,_){var j=Na(o);if(mM([_,"deg","rad","turn"],j))return o;var et=lb.CSS[o+_];if(!ht.und(et))return et;var st=100,nt=document.createElement(s.tagName),ct=s.parentNode&&s.parentNode!==document?s.parentNode:document.body;ct.appendChild(nt),nt.style.position="absolute",nt.style.width=st+_;var At=st/nt.offsetWidth;ct.removeChild(nt);var mt=At*parseFloat(o);return lb.CSS[o+_]=mt,mt}function PB(s,o,_){if(o in s.style){var j=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),et=s.style[o]||getComputedStyle(s).getPropertyValue(j)||"0";return _?yM(s,et,_):et}}function vM(s,o){if(ht.dom(s)&&!ht.inp(s)&&(jo(s,o)||ht.svg(s)&&s[o]))return"attribute";if(ht.dom(s)&&mM($K,o))return"transform";if(ht.dom(s)&&o!=="transform"&&PB(s,o))return"css";if(s[o]!=null)return"object"}function _B(s){if(ht.dom(s)){for(var o=s.style.transform||"",_=/(\w+)\(([^)]*)\)/g,j=new Map,et;et=_.exec(o);)j.set(et[1],et[2]);return j}}function aZ(s,o,_,j){var et=Ym(o,"scale")?1:0+oZ(o),st=_B(s).get(o)||et;return _&&(_.transforms.list.set(o,st),_.transforms.last=o),j?yM(s,st,j):st}function xM(s,o,_,j){switch(vM(s,o)){case"transform":return aZ(s,o,j,_);case"css":return PB(s,o,_);case"attribute":return jo(s,o);default:return s[o]||0}}function bM(s,o){var _=/^(\*=|\+=|-=)/.exec(s);if(!_)return s;var j=Na(s)||0,et=parseFloat(o),st=parseFloat(s.replace(_[0],""));switch(_[0][0]){case"+":return et+st+j;case"-":return et-st+j;case"*":return et*st+j}}function DB(s,o){if(ht.col(s))return sZ(s);if(/\s/g.test(s))return s;var _=Na(s),j=_?s.substr(0,s.length-_.length):s;return o?j+o:j}function SM(s,o){return Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2))}function lZ(s){return Math.PI*2*jo(s,"r")}function cZ(s){return jo(s,"width")*2+jo(s,"height")*2}function uZ(s){return SM({x:jo(s,"x1"),y:jo(s,"y1")},{x:jo(s,"x2"),y:jo(s,"y2")})}function IB(s){for(var o=s.points,_=0,j,et=0;et<o.numberOfItems;et++){var st=o.getItem(et);et>0&&(_+=SM(j,st)),j=st}return _}function hZ(s){var o=s.points;return IB(s)+SM(o.getItem(o.numberOfItems-1),o.getItem(0))}function OB(s){if(s.getTotalLength)return s.getTotalLength();switch(s.tagName.toLowerCase()){case"circle":return lZ(s);case"rect":return cZ(s);case"line":return uZ(s);case"polyline":return IB(s);case"polygon":return hZ(s)}}function dZ(s){var o=OB(s);return s.setAttribute("stroke-dasharray",o),o}function fZ(s){for(var o=s.parentNode;ht.svg(o)&&ht.svg(o.parentNode);)o=o.parentNode;return o}function RB(s,o){var _=o||{},j=_.el||fZ(s),et=j.getBoundingClientRect(),st=jo(j,"viewBox"),nt=et.width,ct=et.height,At=_.viewBox||(st?st.split(" "):[0,0,nt,ct]);return{el:j,viewBox:At,x:At[0]/1,y:At[1]/1,w:nt/At[2],h:ct/At[3]}}function pZ(s,o){var _=ht.str(s)?CB$1(s)[0]:s,j=o||100;return function(et){return{property:et,el:_,svg:RB(_),totalLength:OB(_)*(j/100)}}}function mZ(s,o){function _(ct){ct===void 0&&(ct=0);var At=o+ct>=1?o+ct:0;return s.el.getPointAtLength(At)}var j=RB(s.el,s.svg),et=_(),st=_(-1),nt=_(1);switch(s.property){case"x":return(et.x-j.x)*j.w;case"y":return(et.y-j.y)*j.h;case"angle":return Math.atan2(nt.y-st.y,nt.x-st.x)*180/Math.PI}}function xB(s,o){var _=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,j=DB(ht.pth(s)?s.totalLength:s,o)+"";return{original:j,numbers:j.match(_)?j.match(_).map(Number):[0],strings:ht.str(s)||o?j.split(_):[]}}function LB(s){var o=s?ub(ht.arr(s)?s.map(vB):vB(s)):[];return cb(o,function(_,j,et){return et.indexOf(_)===j})}function BB$1(s){var o=LB(s);return o.map(function(_,j){return{target:_,id:j,total:o.length,transforms:{list:_B(_)}}})}function gZ(s,o){var _=gM(o);if(/^spring/.test(_.easing)&&(_.duration=MB(_.easing)),ht.arr(s)){var j=s.length,et=j===2&&!ht.obj(s[0]);et?s={value:s}:ht.fnc(o.duration)||(_.duration=o.duration/j)}var st=ht.arr(s)?s:[s];return st.map(function(nt,ct){var At=ht.obj(nt)&&!ht.pth(nt)?nt:{value:nt};return ht.und(At.delay)&&(At.delay=ct?0:o.delay),ht.und(At.endDelay)&&(At.endDelay=ct===st.length-1?o.endDelay:0),At}).map(function(nt){return hb(nt,_)})}function yZ(s){for(var o=cb(ub(s.map(function(st){return Object.keys(st)})),function(st){return ht.key(st)}).reduce(function(st,nt){return st.indexOf(nt)<0&&st.push(nt),st},[]),_={},j=function(st){var nt=o[st];_[nt]=s.map(function(ct){var At={};for(var mt in ct)ht.key(mt)?mt==nt&&(At.value=ct[mt]):At[mt]=ct[mt];return At})},et=0;et<o.length;et++)j(et);return _}function vZ(s,o){var _=[],j=o.keyframes;j&&(o=hb(yZ(j),o));for(var et in o)ht.key(et)&&_.push({name:et,tweens:gZ(o[et],s)});return _}function xZ(s,o){var _={};for(var j in s){var et=dM(s[j],o);ht.arr(et)&&(et=et.map(function(st){return dM(st,o)}),et.length===1&&(et=et[0])),_[j]=et}return _.duration=parseFloat(_.duration),_.delay=parseFloat(_.delay),_}function bZ(s,o){var _;return s.tweens.map(function(j){var et=xZ(j,o),st=et.value,nt=ht.arr(st)?st[1]:st,ct=Na(nt),At=xM(o.target,s.name,ct,o),mt=_?_.to.original:At,gt=ht.arr(st)?st[0]:mt,_t=Na(gt)||Na(At),Et=ct||_t;return ht.und(nt)&&(nt=mt),et.from=xB(gt,Et),et.to=xB(bM(nt,gt),Et),et.start=_?_.end:0,et.end=et.start+et.delay+et.duration+et.endDelay,et.easing=pM(et.easing,et.duration),et.isPath=ht.pth(st),et.isColor=ht.col(et.from.original),et.isColor&&(et.round=1),_=et,et})}var NB={css:function(s,o,_){return s.style[o]=_},attribute:function(s,o,_){return s.setAttribute(o,_)},object:function(s,o,_){return s[o]=_},transform:function(s,o,_,j,et){if(j.list.set(o,_),o===j.last||et){var st="";j.list.forEach(function(nt,ct){st+=ct+"("+nt+") "}),s.style.transform=st}}};function FB(s,o){var _=BB$1(s);_.forEach(function(j){for(var et in o){var st=dM(o[et],j),nt=j.target,ct=Na(st),At=xM(nt,et,ct,j),mt=ct||Na(At),gt=bM(DB(st,mt),At),_t=vM(nt,et);NB[_t](nt,et,gt,j.transforms,!0)}})}function SZ(s,o){var _=vM(s.target,o.name);if(_){var j=bZ(o,s),et=j[j.length-1];return{type:_,property:o.name,animatable:s,tweens:j,duration:et.end,delay:j[0].delay,endDelay:et.endDelay}}}function wZ(s,o){return cb(ub(s.map(function(_){return o.map(function(j){return SZ(_,j)})})),function(_){return!ht.und(_)})}function VB(s,o){var _=s.length,j=function(st){return st.timelineOffset?st.timelineOffset:0},et={};return et.duration=_?Math.max.apply(Math,s.map(function(st){let nt=st.startOnceDelay??0,ct=st.pingPongDelayCorrection??0,At=st.pingPongEndDelayCorrection??0;return j(st)+nt+ct+At+st.duration*(st.loop??1)})):o.duration,et.delay=_?Math.min.apply(Math,s.map(function(st){let nt=st.startOnceDelay??0,ct=st.pingPongDelayCorrection??0;return j(st)+nt+ct+st.delay})):o.delay,et.endDelay=_?et.duration-Math.max.apply(Math,s.map(function(st){let nt=st.startOnceDelay??0,ct=st.pingPongDelayCorrection??0,At=st.pingPongEndDelayCorrection??0;return j(st)+nt+ct+st.duration*(st.loop??1)-st.endDelay-At})):o.endDelay,et}var bB=0;function AZ(s){var o=hM(AB,s),_=hM(fM,s),j=vZ(_,s),et=BB$1(s.targets),st=wZ(et,j),nt=VB(st,_),ct=bB;return bB++,hb(o,{id:ct,children:[],animatables:et,animations:st,duration:nt.duration,delay:nt.delay,endDelay:nt.endDelay,startOnceDelay:_.startOnceDelay,pingPongDelayCorrection:_.pingPongDelayCorrection,pingPongEndDelayCorrection:_.pingPongEndDelayCorrection})}var Es=[],SB=[],ab,EZ=function(){function s(){ab=requestAnimationFrame(o)}function o(_){var j=Es.length;if(j){for(var et=0;et<j;){var st=Es[et];st.paused?(Es.splice(et,1),j-=1):(st.tick(_),et++)}s()}else ab=cancelAnimationFrame(ab)}return s}();function MZ(s){document.hidden?(Es.forEach(function(o){return o.pause(s.timeStamp)}),SB=Es.slice(0),ai.running=Es=[]):SB.forEach(function(o){return o.play(s.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",MZ);function ai(s){s===void 0&&(s={});var o=0,_=0,j=0,et,st,nt=0,ct=null;function At(es){var ds=window.Promise&&new Promise(function(tn){return ct=tn});return es.finished=ds,ds}var mt=AZ(s);At(mt);function gt(){var es=mt.direction;es!=="alternate"&&(mt.direction=es!=="normal"?"normal":"reverse"),mt.reversed=!mt.reversed,st.forEach(function(ds){(ds.loop===1||ds.loop%2===0)&&(ds.reversed=mt.reversed)})}function _t(){mt.direction="normal",mt.reversed=!1,st.forEach(function(es){return es.reversed=!1})}function Et(es){return mt.reversed?mt.duration-es:es}function Ct(){o=0,_=Et(mt.currentTime)*(1/ai.speed)}function Bt(es,ds,tn=!1){ds&&(mt.reversed?ds.seek(ds.duration*ds.loop-(es-ds.timelineOffset-ds.pingPongDelayCorrection),tn):ds.seek(es-ds.timelineOffset-ds.startOnceDelay-ds.pingPongDelayCorrection,tn))}function Dt(es,ds=!1){if(mt.reversed)for(var tn=nt;tn--;)Bt(es,st[tn],ds);else for(var rn=0;rn<nt;rn++)Bt(es,st[rn],ds)}function Ft(es){var kI,q1,UE,a1,LE,rS,gD,NI,a$,x$;var ds=0,tn=mt.animations,rn=tn.length;for(mt.direction!=="alternate"&&((kI=mt.parent)==null?void 0:kI.direction)==="alternate"?((q1=mt.parent)==null?void 0:q1.rewind)===!1&&mt.reversePlayback===!0&&mt.rewind===!1&&((UE=mt.parent)!=null&&UE.reversed&&mt.direction==="alternate"?es=mt.duration-mt.delay+mt.endDelay-es:es=mt.duration+mt.delay-mt.endDelay-es):dr(!1,(a1=mt.parent)==null?void 0:a1.rewind,mt.rewind,(LE=mt.parent)==null?void 0:LE.reversePlayback,mt.reversePlayback)&&((rS=mt.parent)!=null&&rS.reversed&&mt.direction==="alternate"?es=mt.duration-mt.delay+mt.endDelay-es:es=mt.duration+mt.delay-mt.endDelay-es);ds<rn;){var un=tn[ds],$n=un.animatable,kn=un.tweens,lo=kn.length-1,Il=kn[lo];lo&&(Il=cb(kn,function(pR){return es<pR.end})[0]||Il);let l$;(gD=mt.parent)!=null&&gD.reversed&&mt.direction==="alternate"?l$=eo(es-Il.start-Il.endDelay,0,Il.duration)/Il.duration:l$=eo(es-Il.start-Il.delay,0,Il.duration)/Il.duration;for(var cu=isNaN(l$)?1:Il.easing(l$),Ko=Il.to.strings,ru=Il.round,Tn=[],ao=Il.to.numbers.length,uu=void 0,hu=0;hu<ao;hu++){var tA=void 0;let pR,h$;mt.direction!=="alternate"?((NI=mt.parent)==null?void 0:NI.rewind)===!1&&mt.reversePlayback===!0&&mt.rewind===!1?(pR=Il.to.numbers[hu],h$=Il.from.numbers[hu]||0):(h$=Il.to.numbers[hu],pR=Il.from.numbers[hu]||0):dr(!0,(a$=mt.parent)==null?void 0:a$.rewind,mt.rewind,(x$=mt.parent)==null?void 0:x$.reversePlayback,mt.reversePlayback)?(pR=Il.to.numbers[hu],h$=Il.from.numbers[hu]||0):(h$=Il.to.numbers[hu],pR=Il.from.numbers[hu]||0),Il.isPath?tA=mZ(Il.value,cu*h$):tA=pR+cu*(h$-pR),ru&&(Il.isColor&&hu>2||(tA=Math.round(tA*ru)/ru)),Tn.push(tA)}var Sv=Ko.length;if(!Sv)uu=Tn[0];else{uu=Ko[0];for(var W0=0;W0<Sv;W0++){Ko[W0];var l1=Ko[W0+1],X1=Tn[W0];isNaN(X1)||(l1?uu+=X1+l1:uu+=X1+" ")}}NB[un.type]($n.target,un.property,uu,$n.transforms),un.currentValue=uu,ds++}}function Rt(es){mt[es]&&!mt.passThrough&&mt[es](mt)}function Nt(){mt.remaining&&mt.remaining!==!0&&mt.remaining--}let Gt={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function dr(es,ds,tn,rn,un){return Gt[es<<4|ds<<3|tn<<2|rn<<1|un]}function ts(es,ds=!1){var kn;var tn=mt.duration;let rn=mt.delay,un=tn-mt.endDelay;(kn=mt.parent)!=null&&kn.reversed&&mt.direction==="alternate"&&(rn=mt.endDelay,un=tn-mt.delay);var $n=Et(es);if(mt.progress=eo($n/tn*100,0,100),ds||(mt.reversePlayback=$n<mt.currentTime),nt&&Dt($n,ds),!mt.began&&mt.currentTime>=0&&(mt.began=!0,Rt("begin")),!mt.loopBegan&&mt.currentTime>0&&(mt.loopBegan=!0,Rt("loopBegin")),(mt.reversed||$n>=0)&&$n<=rn&&mt.currentTime!==0&&(Ft(0),Rt("change")),($n>=un&&mt.currentTime!==tn+mt.pingPongDelayCorrection||!tn)&&(Ft(tn),Rt("change")),$n>rn&&$n<un?(mt.changeBegan||(mt.changeBegan=!0,mt.changeCompleted=!1,Rt("changeBegin")),Ft($n),Rt("change")):mt.changeBegan?(mt.changeCompleted=!0,mt.changeBegan=!1,Rt("change"),nt&&Rt("timelineChangeComplete")):mt.began&&$n>un&&Rt("changeComplete"),mt.currentTime=eo($n,0,tn+mt.pingPongDelayCorrection),mt.began&&Rt("update"),es>=tn)if(Nt(),!mt.remaining)mt.paused=!0,mt.completed||(mt.completed=!0,Rt("loopComplete"),Rt("complete"),!mt.passThrough&&"Promise"in window&&(ct(),At(mt)));else{nt?o+=mt.duration/ai.speed:o+=mt.duration;for(let lo of st)lo.setStartTime(0),lo.remaining=lo.loop;Rt("loopComplete"),mt.loopBegan=!1,mt.direction==="alternate"?gt():nt&&_t()}}return mt.reset=function(){var es=mt.direction;mt.passThrough=!1,mt.currentTime=0,mt.progress=0,mt.paused=!0,mt.began=!1,mt.loopBegan=!1,mt.changeBegan=!1,mt.completed=!1,mt.changeCompleted=!1,mt.reversePlayback=!1,mt.reversed=es==="reverse",mt.remaining=mt.loop,st=mt.children,nt=st.length;for(var ds=nt;ds--;)mt.children[ds].reset();Ft(mt.reversed?mt.duration:0)},mt.setStartTime=function(es){o=es},mt.set=function(es,ds){return FB(es,ds),mt},mt.tick=function(es){j=es,o||(o=j),ts((j+(_-o))*ai.speed)},mt.seek=function(es,ds=!1){ts(es-o,ds)},mt.pause=function(es){mt.paused=!0,nt&&(et=es??performance.now())},mt.play=function(es){!mt.paused||(mt.completed&&mt.reset(),mt.paused=!1,Es.push(mt),nt&&et!==void 0&&(o+=(es??performance.now())-et),ab||EZ())},mt.reverse=function(){gt(),mt.completed=!mt.reversed,Ct()},mt.restart=function(){mt.reset(),mt.play()},mt.reset(),mt.autoplay&&mt.play(),mt}function wB(s,o){for(var _=o.length;_--;)mM(s,o[_].animatable.target)&&o.splice(_,1)}function TZ(s){for(var o=LB(s),_=Es.length;_--;){var j=Es[_],et=j.animations,st=j.children;wB(o,et);for(var nt=st.length;nt--;){var ct=st[nt],At=ct.animations;wB(o,At),!At.length&&!ct.children.length&&st.splice(nt,1)}!et.length&&!st.length&&j.pause()}}function CZ(s,o){o===void 0&&(o={});var _=o.direction||"normal",j=o.easing?pM(o.easing):null,et=o.grid,st=o.axis,nt=o.from||0,ct=nt==="first",At=nt==="center",mt=nt==="last",gt=ht.arr(s),_t=parseFloat(gt?s[0]:s),Et=gt?parseFloat(s[1]):0,Ct=Na(gt?s[1]:s)||0,Bt=o.start||0+(gt?_t:0),Dt=[],Ft=0;return function(Rt,Nt,Gt){if(ct&&(nt=0),At&&(nt=(Gt-1)/2),mt&&(nt=Gt-1),!Dt.length){for(var dr=0;dr<Gt;dr++){if(!et)Dt.push(Math.abs(nt-dr));else{var ts=At?(et[0]-1)/2:nt%et[0],es=At?(et[1]-1)/2:Math.floor(nt/et[0]),ds=dr%et[0],tn=Math.floor(dr/et[0]),rn=ts-ds,un=es-tn,$n=Math.sqrt(rn*rn+un*un);st==="x"&&($n=-rn),st==="y"&&($n=-un),Dt.push($n)}Ft=Math.max.apply(Math,Dt)}j&&(Dt=Dt.map(function(lo){return j(lo/Ft)*Ft})),_==="reverse"&&(Dt=Dt.map(function(lo){return st?lo<0?lo*-1:-lo:Math.abs(Ft-lo)}))}var kn=gt?(Et-_t)/Ft:_t;return Bt+kn*(Math.round(Dt[Nt]*100)/100)+Ct}}function PZ(s){s===void 0&&(s={});var o=ai(s);return o.duration=0,o.add=function(_,j){var et=Es.indexOf(o),st=o.children;et>-1&&Es.splice(et,1);function nt(Et){Et.passThrough=!0}for(var ct=0;ct<st.length;ct++)nt(st[ct]);var At=hb(_,hM(fM,s));At.targets=At.targets||s.targets;var mt=o.duration;At.autoplay=!1,At.timelineOffset=ht.und(j)?mt:bM(j,mt),nt(o);var gt=ai(At);nt(gt),st.push(gt),gt.parent=o;var _t=VB(st,s);return o.delay=_t.delay,o.endDelay=_t.endDelay,o.duration=_t.duration,gt.loop===!0&&(o.duration=1/0),o.seek(0),o.reset(),o.autoplay&&o.play(),o},o}ai.version="3.2.0";ai.speed=1;ai.running=Es;ai.remove=TZ;ai.get=xM;ai.set=FB;ai.convertPx=yM;ai.path=pZ;ai.setDashoffset=dZ;ai.stagger=CZ;ai.timeline=PZ;ai.easing=pM;ai.penner=TB;ai.random=function(s,o){return Math.floor(Math.random()*(o-s+1))+s};var db=ai,UB=new E$2,zB=new E$2,kB=new Qe;function jB(s,o,_,j){if(j===0)return _.copy(s);if(j===1)return _.copy(o);let et=s.w*o.w+s.x*o.x+s.y*o.y+s.z*o.z;if(et>=1)return _.copy(s);let st=1-et*et;if(st<=Number.EPSILON){let gt=1-j;return _.w=gt*s.w+j*o.w,_.x=gt*s.x+j*o.x,_.y=gt*s.y+j*o.y,_.z=gt*s.z+j*o.z,_.normalize(),_}let nt=Math.sqrt(st),ct=Math.atan2(nt,et),At=Math.sin((1-j)*ct)/nt,mt=Math.sin(j*ct)/nt;return _.w=s.w*At+o.w*mt,_.x=s.x*At+o.x*mt,_.y=s.y*At+o.y*mt,_.z=s.z*At+o.z*mt,_}function Zr(s,o,_,j,et,st){let nt=_[s]!==void 0?_[s]:void 0,ct=j[s];if(ct==null)return;let At=nt!=null?typeof nt=="string"?Number(et.getVariable(nt)??0):nt:o[s],mt=typeof ct=="string"?Number(et.getVariable(ct)??0):ct;if(At!==mt)return{update:gt=>{let _t=we.lerp(At,mt,gt);st?o[s]=Math.trunc(_t):o[s]=_t},start:()=>{o[s]=At},end:()=>{o[s]=mt}}}function Qm(s,o,_,j,et,st){let nt=_[s]?_[s]:void 0,ct=j[s];if(!ct)return;let At=o[s],mt=[...nt??At].map(_t=>typeof _t=="string"?Number(et.getVariable(_t)??0):_t),gt=[...ct].map(_t=>typeof _t=="string"?Number(et.getVariable(_t)??0):_t);if(!(mt.length!==gt.length||Cc(mt,gt)))return{update:_t=>{mt.forEach((Et,Ct)=>{let Bt=we.lerp(Et,gt[Ct],_t);o[s][Ct]=st?Math.trunc(Bt):Bt})},start:()=>{Object.assign(o[s],mt)},end:()=>{Object.assign(o[s],gt)}}}function Xm(s,o,_){return o.forEach((j,et)=>{s.setComponent(et,typeof j=="string"?Number(_.getVariable(j)??0):j)}),s}function wM(s,o,_,j,et){let st=_[s]?_[s]:void 0,nt=j[s];if(!nt)return;let ct=o[s],At=st?Xm(new E$2,st,et):ct.clone(),mt=Xm(new E$2,nt,et);if(!At.equals(mt))return{update:gt=>{ct.lerpVectors(At,mt,gt)},start:()=>{ct.copy(At)},end:()=>{ct.copy(mt)}}}function GB(s,o,_){return o.forEach((j,et)=>{s.setComponent(et,typeof j=="string"?Number(_.getVariable(j)??0):j)}),s}function Of(s,o,_,j,et){let st=_[s]?_[s]:void 0,nt=j[s];if(!nt)return;let ct=o[s],At=!(ct instanceof U$1),mt=ct instanceof U$1?ct:new U$1().fromArray(ct),gt=st?GB(new U$1,st,et):mt.clone(),_t=GB(new U$1,nt,et);if(!gt.equals(_t))return{update:Et=>{mt.lerpVectors(gt,_t,Et),At&&(o[s]=mt.toArray())},start:()=>{mt.copy(gt),At&&(o[s]=mt.toArray())},end:()=>{mt.copy(_t),At&&(o[s]=mt.toArray())}}}function HB(s,o,_,j){let et=_[s]?_[s]:void 0,st=j[s];if(!st)return;let nt=o[s],ct=et?new ue$2().fromArray(et):nt.clone(),At=new E$2,mt=new Qe,gt=new E$2;ct.decompose(At,mt,gt);let _t=new ue$2().fromArray(st),Et=new E$2,Ct=new Qe,Bt=new E$2;if(_t.decompose(Et,Ct,Bt),!ct.equals(_t))return{update:Dt=>{kB.slerpQuaternions(mt,Ct,Dt),UB.lerpVectors(At,Et,Dt),zB.lerpVectors(gt,Bt,Dt),nt.compose(UB,kB,zB)},start:()=>{nt.compose(At,mt,gt)},end:()=>{nt.compose(Et,Ct,Bt)}}}function WB(s,o,_,j,et){let st=_[s]?_[s]:void 0,nt=j[s];if(!nt)return;let ct=o[s],At=st?typeof st=="string"?et.getColor(st).clone():new We().setRGB(st.r,st.g,st.b):ct.clone(),mt=typeof nt=="string"?et.getColor(nt).clone():new We().setRGB(nt.r,nt.g,nt.b);if(At.equals(mt))return;let gt=ct.clone();return{update:_t=>{var Et,Ct;gt.lerpColors(At,mt,_t),(Ct=(Et=o[s])==null?void 0:Et.copy)==null||Ct.call(Et,gt)},start:()=>{gt.copy(At)},end:()=>{gt.copy(mt)}}}function Km(s,o,_,j,et){let st=_[s]?_[s]:void 0,nt=j[s];if(!nt)return;let ct=o[s],At=new vr(ct.r,ct.g,ct.b,ct.a),mt=st?typeof st=="string"?et.getColor(st).clone():new vr(st.r,st.g,st.b,st.a):At.clone(),gt=typeof nt=="string"?et.getColor(nt).clone():new vr(nt.r,nt.g,nt.b,nt.a);if(!mt.equals(gt))return{update:_t=>{At.lerpColors(mt,gt,_t);let Et=we.lerp(mt.a,gt.a,_t);At.a=Et,o[s]={r:At.r,g:At.g,b:At.b,a:At.a}},start:()=>{At.copy(mt)},end:()=>{At.copy(gt)}}}function Ho(s,o,_,j,et){if(typeof o[s]=="number")return Zr(s,o,_??{},j,et);if(Array.isArray(o[s]))return Qm(s,o,_??{},j,et)}function qB(s,o,_,j){var ct,At,mt,gt;let et=[],st=s.cameraType==="OrthographicCamera"?(ct=o.orthographic)==null?void 0:ct.zoom:(At=o.perspective)==null?void 0:At.zoom,nt=s.cameraType==="OrthographicCamera"?(mt=_.orthographic)==null?void 0:mt.zoom:(gt=_.perspective)==null?void 0:gt.zoom;if(nt!==void 0){let _t=st??s.zoom,Et=nt;_t!==Et&&et.push({update:Ct=>{s.zoom=we.lerp(_t,Et,Ct),s.updateProjectionMatrix()},start:()=>{s.zoom=_t,s.updateProjectionMatrix()},end:()=>{s.zoom=Et,s.updateProjectionMatrix()}})}if(_.targetOffset!==void 0){let _t=Zr("targetOffset",s,o,_,j);_t&&et.push(_t)}return et}function _Z(s,o,_,j){if(_.scaleBaked===void 0)return;let et=(o.scaleBaked??s.data.geometry.scaleBaked).map(ct=>typeof ct=="string"?Number(j.getVariable(ct)??0):ct),st=_.scaleBaked.map(ct=>typeof ct=="string"?Number(j.getVariable(ct)??0):ct);if(Ao.isEqual(et,st))return;let nt=[];return nt.push({update:ct=>{s.updateGeometryInteractions({scaleBaked:[we.lerp(et[0],st[0],ct),we.lerp(et[1],st[1],ct),we.lerp(et[2],st[2],ct)]},j),s.invalidateDownstreamBooleanData(),s.refreshAttachedClonersInteractions()},start:()=>{s.updateGeometryInteractions({scaleBaked:et},j),s.invalidateDownstreamBooleanData(),s.refreshAttachedClonersInteractions()},end:()=>{s.updateGeometryInteractions({scaleBaked:st},j),s.invalidateDownstreamBooleanData(),s.refreshAttachedClonersInteractions()}}),nt}function DZ(s,o,_,j){if(!_.extrusion)return;let et=s.extrusion,st=o.extrusion??{},nt=_.extrusion,ct=[];return _1.forEach(At=>{let mt=Ho(At,et,st,nt,j);mt&&ct.push(mt)}),ct}function YB(s,o,_,j){let et=[];if(!("geometry"in _))return et;let st=s.geometry.userData.parameters,nt="geometry"in o?o.geometry:{},ct=_.geometry;if(s instanceof Ks){let At=_Z(s,nt,ct,j);At&&et.push(...At)}else{let At={};if(Object.assign(At,Pn(st,zv),Pn(nt,zv)),zv.forEach(mt=>{let gt=Ho(mt,At,nt,ct,j);gt&&et.push(gt)}),s instanceof Xl){Object.assign(At,{extrusion:{...st.extrusion}});let mt=DZ(At,nt,ct,j);mt&&et.push(...mt)}et.length&&et.push({update:mt=>{s.updateGeometryInteractions(At,j),s.updateGeometryGroupsIfNeeded(),s.refreshAttachedClonersInteractions()},start:mt=>{s.updateGeometryInteractions(At,j),s.updateGeometryGroupsIfNeeded(),s.refreshAttachedClonersInteractions()},end:mt=>{s.updateGeometryInteractions(At,j),s.updateGeometryGroupsIfNeeded(),s.refreshAttachedClonersInteractions()}})}return et}function XB(s,o,_,j){let et=[];if(_.intensity!==void 0){let st=Zr("intensity",s,o,_,j);st&&et.push(st)}if(_.color!==void 0){let st=WB("color",s,o,_,j);st&&et.push(st)}return et}function KB(s,o,_,j){let et=[];if(Array.isArray(s.material)){if(!("materials"in _&&_.materials))return et;let st="materials"in o&&o.materials?o.materials:[],nt=_.materials;s.material.forEach((ct,At)=>{if(!nt[At])return;let mt=st[At]??{},gt=nt[At];typeof mt=="string"||typeof gt=="string"||et.push(...QB(ct,mt,gt,j))})}else{if(!("material"in _&&_.material))return et;let st="material"in o&&o.material?o.material:{},nt=_.material;if(typeof st=="string"||typeof nt=="string")return et;et.push(...QB(s.material,st,nt,j))}return et}function QB(s,o,_,j){var nt;let et=[],st=Wc(_,j)||!!o.layers&&Wc(o,j);et.push(UZ(s,st));for(let ct of s.layers){let At=(nt=o.layers)==null?void 0:nt.data(ct.uuid),mt=_.layers.data(ct.uuid);if(!mt||ct.type!=="light"&&(!(ct.visible??!0)||!(mt.visible??!0)))continue;let gt=ct.getNames().filter(_t=>!Nv.some(Et=>_t.includes(Et)));for(let _t of gt)try{let Et=ct.getValue(_t),Ct;if(_t==="colors")Ct=FZ(ct,At,mt,_t);else if(Array.isArray(Et))_t==="steps"&&(Ct=NZ(ct,At,mt,_t));else if(typeof Et=="number")Ct=IZ(ct,At,mt,_t,j);else{if(typeof Et=="boolean")continue;Et instanceof U$1?Ct=OZ(ct,At,mt,_t):Et instanceof E$2?Ct=RZ(ct,At,mt,_t,j):Et instanceof vr?Ct=BZ(ct,At,mt,_t,j):Et instanceof We?Ct=LZ(ct,At,mt,_t,j):"isTexture"in Et&&(Ct=VZ(ct,At,mt,_t))}Ct&&(Array.isArray(Ct)?et.push(...Ct):et.push(Ct))}catch(Et){console.error(`lerpMaterial: unexpected material layer for ${_t}`,Et)}}return et}function IZ(s,o,_,j,et){if(!s.hasValue(j)||!(j in _))return;let st=o?o[j]:s.getValue(j),nt=_[j],ct=typeof st=="string"?Number(et.getVariable(st)??0):st,At=typeof nt=="string"?Number(et.getVariable(nt)??0):nt;if(ct!==At)return{update:mt=>{s.setValue(j,we.lerp(ct,At,mt))},start:()=>{s.setValue(j,ct)},end:()=>{s.setValue(j,At)}}}function OZ(s,o,_,j){if(!s.hasValue(j)||!(j in _))return;let et=s.getValue(j),st=o?new U$1().fromArray(o[j]):et.clone(),nt=new U$1().fromArray(_[j]);if(!st.equals(nt))return{update:ct=>{et.lerpVectors(st,nt,ct)},start:()=>{et.copy(st)},end:()=>{et.copy(nt)}}}function RZ(s,o,_,j,et){if(!s.hasValue(j)||!(j in _))return;let st=s.getValue(j),nt=o?o[j]:void 0,ct=_[j],At=nt?Xm(new E$2,nt,et):st.clone(),mt=Xm(new E$2,ct,et);if(!At.equals(mt))return{update:gt=>{st.lerpVectors(At,mt,gt)},start:()=>{st.copy(At)},end:()=>{st.copy(mt)}}}function LZ(s,o,_,j,et){if(!s.hasValue(j)||!(j in _))return;let st=o?o[j]:void 0,nt=_[j],ct=s.getValue(j),At=st?typeof st=="string"?et.getColor(st).clone():new We().setRGB(st.r,st.g,st.b):ct.clone(),mt=typeof nt=="string"?et.getColor(nt).clone():new We().setRGB(nt.r,nt.g,nt.b);if(At.equals(mt))return;let gt=ct.clone();return{update:_t=>{s.getValue(j)!==gt&&s.setValue(j,gt),gt.lerpColors(At,mt,_t)},start:()=>{gt.copy(At)},end:()=>{gt.copy(mt)}}}function BZ(s,o,_,j,et){if(!s.hasValue(j)||!(j in _))return;let st=o?o[j]:void 0,nt=_[j],ct=s.getValue(j),At=st?typeof st=="string"?et.getColor(st).clone():new We().setRGB(st.r,st.g,st.b):ct.clone(),mt=typeof nt=="string"?et.getColor(nt).clone():new vr(nt.r,nt.g,nt.b,nt.a);if(At.equals(mt))return;let gt=ct.clone();return{update:_t=>{s.getValue(j)!==gt&&s.setValue(j,gt),gt.lerpColors(At,mt,_t)},start:()=>{gt.copy(At)},end:()=>{gt.copy(mt)}}}function NZ(s,o,_,j="steps"){if(!s.hasValue(j)||!(j in _))return;let et=[],st=s.getValue(j),nt=o?o[j]:st,ct=_[j];return Cc(nt,ct)||et.push({update:At=>{let mt=[...st];for(let gt=0;gt<st.length;++gt){let _t=nt[gt],Et=ct[gt];mt[gt]=we.lerp(_t,Et,At)}s.setValue(j,mt)},start:()=>{s.setValue(j,nt)},end:()=>{s.setValue(j,ct)}}),et.length?et:void 0}function FZ(s,o,_,j="colors"){if(!s.hasValue(j)||!(j in _))return;let et=[],st=s.getValue(j),nt=o?o[j]:st.map(At=>At.toArray()),ct=_[j];for(let At=0;At<st.length;++At){let mt=[...nt[At]],gt=[...ct[At]];kp.isEqual(mt,gt)||et.push({update:_t=>{st[At].fromArray(kp.lerp(mt,gt,_t))},start:()=>{st[At].fromArray(mt)},end:()=>{st[At].fromArray(gt)}})}return et.length?et:void 0}function VZ(s,o,_,j="texture"){var Ft,Rt;if(!s.hasValue(j)||!(j in _))return;let et=s.getNode("rotation"),st=((Ft=o==null?void 0:o[j])==null?void 0:Ft.rotation)??0,nt=((Rt=_[j])==null?void 0:Rt.rotation)??0;if(et&&st!==nt)return{update:Nt=>{et.value=we.lerp(st,nt,Nt)*we.DEG2RAD},start:()=>{et.value=st*we.DEG2RAD},end:()=>{et.value=nt*we.DEG2RAD}};let ct=s.getNode("mat");if(!ct)return;let At=o?o[j]:ct,mt=_[j],gt=[...At.repeat],_t=[...At.offset],Et=[...mt.repeat],Ct=[...mt.offset],Bt=At.rotation??0,Dt=mt.rotation??0;if(!Fs.isEqual(gt,Et)||!Fs.isEqual(_t,Ct)||Bt!==Dt)return{update:Nt=>{ct.repeat=Fs.lerp(gt,Et,Nt),ct.offset=Fs.lerp(_t,Ct,Nt),ct.rotation=we.lerp(Bt,Dt,Nt),ct.updateMatrix()},start:()=>{ct.repeat=[...gt],ct.offset=[..._t],ct.rotation=Bt,ct.updateMatrix()},end:()=>{ct.repeat=[...Et],ct.offset=[...Ct],ct.rotation=Dt,ct.updateMatrix()}}}function UZ(s,o){return{update:()=>{s.transparent=o}}}var AM=new E$2,ZB=new ir;function JB(s,o,_,j,et){var Bt,Dt,Ft,Rt,Nt,Gt;let st=[],nt,ct,At,mt,gt,_t,Et,Ct;if(s instanceof tr?(nt=Of("position",s,o,_,et),nt&&st.push(nt),At=Zr("rotation",s,o,_,et),At&&st.push(At),mt=Of("shear",s,o,_,et),mt&&st.push(mt)):(Ct={slide:((Bt=o.pathSnapping)==null?void 0:Bt.slide)??((Dt=s.updatedPathSnapping)==null?void 0:Dt.slide)??((Ft=s.dataPatched.pathSnapping)==null?void 0:Ft.slide)??0,offset:((Rt=o.pathSnapping)==null?void 0:Rt.offset)??((Nt=s.updatedPathSnapping)==null?void 0:Nt.offset)??((Gt=s.dataPatched.pathSnapping)==null?void 0:Gt.offset)??0},_t=Zr("slide",Ct,o.pathSnapping??s.updatedPathSnapping??s.dataPatched.pathSnapping,_.pathSnapping??s.dataPatched.pathSnapping,et),_t&&st.push(_t),Et=Zr("offset",Ct,o.pathSnapping??s.updatedPathSnapping??s.dataPatched.pathSnapping,_.pathSnapping??s.dataPatched.pathSnapping,et),Et&&st.push(Et),!_t&&!Et&&(nt=wM("position",s,o,_,et),nt&&st.push(nt),ct=wM("scale",s,o,_,et),ct&&st.push(ct),At=zZ(s,o,_,j,et),At&&st.push(At),gt=HB("hiddenMatrix",s,o,_),gt&&st.push(gt))),nt||ct||At||gt||_t||Et){let dr=s instanceof tr?()=>{s.updateWorldMatrix(!0)}:()=>{var ts;s.updateMatrix(),s.hasNonUniformScale&&(s.updateMatrixWorld(),s.updateMatrixWorldSVD()),(ts=s.parent)!=null&&ts.matrixWorldFusedFalse&&(s.matrixWorld.multiplyMatrices(s.parent.matrixWorldFusedFalse,s.matrix),s.matrixWorldNeedsUpdate=!1),cn(s)&&En(s.parent)&&s.invalidateDownstreamBooleanData(!0),s.updatePathSnapping(Object.assign({},o.pathSnapping,Ct))};st.push({update:dr,start:dr,end:dr})}return st}function zZ(s,o,_,j,et){var gt;let st=o!=null&&o.rotation?o.rotation.map(_t=>(typeof _t=="string"?Number(et.getVariable(_t)??0):_t)*we.DEG2RAD):void 0,nt=(gt=_.rotation)==null?void 0:gt.map(_t=>(typeof _t=="string"?Number(et.getVariable(_t)??0):_t)*we.DEG2RAD);if(!nt)return;let ct=st?new E$2().fromArray(st):new E$2().setFromEuler(s.rotation),At=new E$2().fromArray(nt);if(ct.equals(At))return;let mt=AM.subVectors(At,ct);if(j&&mt.toArray().every(_t=>Math.abs(_t)<2*Math.PI)){let _t=new Qe().setFromEuler(ZB.setFromVector3(ct)),Et=new Qe().setFromEuler(ZB.setFromVector3(At));return{update:Ct=>{jB(_t,Et,s.quaternion,Ct)},start:()=>{s.rotation.setFromVector3(ct)},end:()=>{s.rotation.setFromVector3(At)}}}else return{update:_t=>{AM.lerpVectors(ct,At,_t),s.rotation.setFromVector3(AM)},start:()=>{s.rotation.setFromVector3(ct)},end:()=>{s.rotation.setFromVector3(At)}}}function $B(s,o,_,j){let et=[];if(!("cloner"in _)||!s.cloner)return et;let st=s.cloner,nt="cloner"in o?o.cloner:{},ct=_.cloner;b1.forEach(Ct=>{let Bt;Ct==="count"?Bt=Zr("count",st.parameters,nt,ct,j,!0):Bt=Ho(Ct,st.parameters,nt??{},ct,j),Bt&&et.push(Bt)});let At=kZ(st,nt,ct,j);At!=null&&At.length&&et.push(...At);let mt=GZ(st,nt,ct,j);mt!=null&&mt.length&&et.push(...mt);let gt=jZ(st,nt,ct,j);gt!=null&&gt.length&&et.push(...gt);let _t=HZ(st,nt,ct,j);_t!=null&&_t.length&&et.push(..._t);let Et=WZ(st,nt,ct,j);return Et!=null&&Et.length&&et.push(...Et),et.length&&et.push({update:()=>{st.update()}}),et}function kZ(s,o,_,j){if(s.parameters.type!=="radial")return;let et=o.radial,st=_.radial;if(!st)return;let nt=s.parameters.radial,ct=[];return S1.forEach(At=>{let mt=Ho(At,nt,et??{},st,j);mt&&ct.push(mt)}),ct}function GZ(s,o,_,j){if(s.parameters.type!=="linear")return;let et=o.linear,st=_.linear;if(!st)return;let nt=[],ct=s.parameters.linear;return w1.forEach(At=>{let mt=Ho(At,ct,et??{},st,j);mt&&nt.push(mt)}),nt}function jZ(s,o,_,j){if(s.parameters.type!=="grid")return;let et=o.grid,st=_.grid;if(!st)return;let nt=[],ct=s.parameters.grid;return A1.forEach(At=>{let mt;At==="count"?mt=Qm(At,ct,et??{},st,j,!0):mt=Ho(At,ct,et??{},st,j),mt&&nt.push(mt)}),nt}function HZ(s,o,_,j){if(s.parameters.type!=="toObject")return;let et=o.toObject,st=_.toObject;if(!st)return;let nt=[],ct=s.parameters.toObject;return E1.forEach(At=>{let mt;At==="count"?mt=Zr(At,ct,et??{},st,j,!0):mt=Ho(At,ct,et??{},st,j),mt&&nt.push(mt)}),nt}function WZ(s,o,_,j){if(!s.parameters.randomness)return;let et=o.randomnessObject,st=_.randomnessObject;if(!st)return;let nt=[],ct=s.parameters.randomnessObject;return M1.forEach(At=>{let mt=Ho(At,ct,et??{},st,j);mt&&nt.push(mt)}),nt}function qZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.fill.enabled=o)}}}function YZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.stroke.enabled=o)}}}function XZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.dropShadow.enabled=o)}}}function QZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.innerShadow.enabled=o)}}}function KZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.backgroundBlur.enabled=o)}}}function ZZ(s,o){return{update:()=>{s instanceof Ar$1&&(s.layerBlur.enabled=o)}}}function eN(s,o,_,j,et){let st=[],nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr;if("width"in s&&(nt=Zr("width",s,o,_,et),nt&&st.push(nt)),"height"in s&&(ct=Zr("height",s,o,_,et),ct&&st.push(ct)),s instanceof Ar$1||s instanceof Ji){let ts={...o.fill},es={..._.fill};ts.enabled!==void 0&&ts.enabled!==es.enabled&&(st.push(qZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,color:{...ts.color,a:0}}),es.enabled||Object.assign(es,{enabled:!0,color:{...es.color,a:0}})),At=Km("color",s.fill,ts,es,et),At&&st.push(At)}if(s instanceof Ar$1){let ts={...o.stroke},es={..._.stroke};(ts.enabled||es.enabled)&&(st.push(YZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,color:{...ts.color,a:0}}),es.enabled||Object.assign(es,{enabled:!0,color:{...es.color,a:0}})),mt=Km("color",s.stroke,ts,es,et),mt&&st.push(mt),gt=Zr("thickness",s.stroke,ts,es,et),gt&&st.push(gt)}if(s instanceof Ar$1){let ts={...o.dropShadow},es={..._.dropShadow};(ts.enabled||es.enabled)&&(st.push(XZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,color:{...ts.color,a:0}}),es.enabled||Object.assign(es,{enabled:!0,color:{...es.color,a:0}})),_t=Km("color",s.dropShadow,ts,es,et),_t&&st.push(_t),Et=Zr("blurRadius",s.dropShadow,ts,es,et),Et&&st.push(Et),Bt=Zr("spread",s.dropShadow,ts,es,et),Bt&&st.push(Bt),Ct=Of("offset",s.dropShadow,ts,es,et),Ct&&st.push(Ct)}if(s instanceof Ar$1){let ts={...o.innerShadow},es={..._.innerShadow};(ts.enabled||es.enabled)&&(st.push(QZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,color:{...ts.color,a:0}}),es.enabled||Object.assign(es,{enabled:!0,color:{...es.color,a:0}})),Dt=Km("color",s.innerShadow,ts,es,et),Dt&&st.push(Dt),Ft=Zr("blurRadius",s.innerShadow,ts,es,et),Ft&&st.push(Ft),Nt=Zr("spread",s.innerShadow,ts,es,et),Nt&&st.push(Nt),Rt=Of("offset",s.innerShadow,ts,es,et),Rt&&st.push(Rt)}if(s instanceof Ar$1||s instanceof Ji){let ts={...o.backgroundBlur},es={..._.backgroundBlur};(ts.enabled||es.enabled)&&(st.push(KZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,radius:0}),es.enabled||Object.assign(es,{enabled:!0,radius:0})),Gt=Zr("radius",s.backgroundBlur,ts,es,et),Gt&&st.push(Gt)}if(s instanceof Ar$1){let ts={...o.layerBlur},es={..._.layerBlur};(ts.enabled||es.enabled)&&(st.push(ZZ(s,!0)),ts.enabled||Object.assign(ts,{enabled:!0,radius:0}),es.enabled||Object.assign(es,{enabled:!0,radius:0})),dr=Zr("radius",s.layerBlur,ts,es,et),dr&&st.push(dr)}if(s instanceof Ji||s instanceof As){let ts=Qm("cornerRadius",s,o,_,et);ts&&st.push(ts)}return st}function EM$1(s,o,_,j,et){let st=[];return s.data.visible&&st.push(...JB(s,o,_,et,j)),s instanceof tr?st.push(...eN(s,o,_,et,j)):(s.data.visible&&st.push(...$B(s,o,_,j)),cn(s)?(s instanceof lr&&s.data.visible&&st.push(...YB(s,o,_,j)),s.data.visible&&st.push(...KB(s,o,_,j))):u3(s)?s.data.visible&&st.push(...XB(s,o,_,j)):c3(s)&&st.push(...qB(s,o,_,j))),st.length?{update:nt=>{st.forEach(ct=>ct.update(nt))},start:nt=>{st.forEach(ct=>{var At;return(At=ct.start)==null?void 0:At.call(ct,nt)})},end:nt=>{st.forEach(ct=>{var At;return(At=ct.end)==null?void 0:At.call(ct,nt)})}}:void 0}var tN=new E$2;function If(s,o,_=!1){var st;let j=[],et=nt=>{let ct=nt.data;delete nt.states,nt.currentState=null,nt.reversibleToState=null,nt.currentTransitionEvent=null;for(let At of ct.states){let mt={...At.data};nt.states||(nt.states={}),nt.states[At.id]=Aa.patch(ct,mt)}iN(s.scene,nt,null,o,ct.events.find(At=>At.data.type==="Follow"||At.data.type==="LookAt")!==void 0),rN(s)};s.scene.traverse2D(et),s.traverseChildren(nt=>{var gt,_t,Et,Ct,Bt,Dt;if(_&&((gt=nt.rigidBody)==null||gt.setTranslation(nt.position0,!0),(_t=nt.rigidBody)==null||_t.setRotation(nt.rotation0,!0),(Et=nt.rigidBody)==null||Et.setLinvel(tN,!0),(Ct=nt.rigidBody)==null||Ct.setAngvel(tN,!0)),!yt.is(nt))return;let ct=nt.uuid,At=nt.data;if(delete nt.states,nt.uuid===hs)return;let mt=!1;j.some(Ft=>{var Rt;return(Rt=s.scene.find(ct))==null?void 0:Rt.isDescendantOf(Ft)})?mt=!0:((Bt=At.physics)==null?void 0:Bt.fusedBody)===!0&&At.physics.rigidBody==="dynamic"&&j.push(ct),nt.data=At,nt.currentState=null,nt.reversibleToState=null,nt.currentTransitionEvent=null;for(let Ft of At.states){let Rt={...Ft.data};s.data.globalPhysics.usePhysics===!0&&At.physics&&(At.physics.rigidBody==="dynamic"||mt)&&(Ft.data.position!==void 0&&delete Rt.position,Ft.data.rotation!==void 0&&delete Rt.rotation,Ft.data.hiddenMatrix!==void 0&&delete Rt.hiddenMatrix),nt.states||(nt.states={}),nt.states[Ft.id]=va.patch(At,Rt)}iN(s.scene,nt,null,o,At.events.find(Ft=>Ft.data.type==="Follow"||Ft.data.type==="LookAt")!==void 0),rN(s),nt instanceof Er&&nt.frame&&(nt.frame.traverse(Ft=>et(Ft)),(Dt=nt.uiCanvas)==null||Dt.applySize())}),s.frame&&(s.frame.traverse(nt=>et(nt)),(st=s.uiCanvas)==null||st.applySize())}function rN(s){s.traverseEntity(o=>{for(let _ of o.data.events){let j=[];switch(_.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":j.push(..._.data.actions);break;case"GameControl":for(let et of Object.values(_.data.gameActions))j.push(...et);break;case"DragDrop":j.push(..._.data.dragDropActions.drag,..._.data.dragDropActions.drop);break;case"Conditional":j.push(..._.data.inActions,..._.data.outActions);break}for(let et of j)if(et.data.type==="Create"&&et.data.hideBase==="Yes"){let st=s.scene.find(et.data.object);st&&(st.visible=!1)}}})}function iN(s,o,_,j,et=!1){if(o instanceof lr&&o.removeInteractionGeometry(j),o instanceof tr?o.changeSelectedState(_,{shared:j},et):o.changeSelectedState(_,{scene:s,shared:j},et),o instanceof lr&&o.updateGeometryGroupsIfNeeded(),o instanceof wr$1&&o.updateCameraState(o.dataPatched,{scene:s,shared:j}),!(o instanceof tr)){if(o.cloner)for(let st of o.cloner.children)st.playModeVisible=void 0;o.updateVisible()}}function TM(s){let o;if(s.easing===5){let{control1:_,control2:j}=s;o=`cubicBezier(
			${_[0]}, ${_[1]}, ${j[0]}, ${j[1]}
		)`}else if(s.easing===6){let{mass:_,stiffness:j,damping:et,velocity:st}=s;o=`spring( ${_}, ${j}, ${et}, ${st} )`}else{let _;switch(s.easing){case 0:_=ma.linear;break;case 1:_=ma.ease;break;case 2:_=ma.easeIn;break;case 3:_=ma.easeOut;break;case 4:_=ma.easeInOut;break;default:_=ma.linear}let[j,et,st,nt]=_;o=`cubicBezier( ${j}, ${et}, ${st}, ${nt} )`}return{duration:Math.max(s.duration,1e-4),easing:o}}function MM(s){let o={delay:0,loop:s.repeat===-1?!0:s.repeat+1};if(s.repeat===0)o.direction="normal",o.rewind=!1;else switch(s.direction){case"pingpong":o.direction="alternate",o.rewind=!1;break;case"pingpong-rewind":o.direction="alternate",o.rewind=!0;break;default:o.direction="normal",o.rewind=!1;break}switch(o.delay=0,o.endDelay=0,o.startOnceDelay=0,o.pingPongDelayCorrection=0,o.pingPongEndDelayCorrection=0,s.delayDirection){case"start-once":o.startOnceDelay=s.delay;break;case"start":o.delay=s.delay;break;case"end":o.endDelay=s.delay;break;case"start-end":case void 0:o.delay=s.delay,o.endDelay=s.delay;break}return o.direction==="alternate"&&(o.delay/=2,o.endDelay/=2,s.delayDirection==="start"?(o.pingPongDelayCorrection=o.delay,typeof o.loop=="number"&&o.loop%2===0&&(o.pingPongEndDelayCorrection=o.delay)):s.delayDirection==="end"?typeof o.loop=="number"&&o.loop%2!==0&&(o.pingPongEndDelayCorrection=o.endDelay):s.delayDirection==="start-end"&&(o.pingPongDelayCorrection=o.delay,o.pingPongEndDelayCorrection=o.endDelay)),o}var JZ={type:"beginState"},$Z={type:"completeState",isfromEntity:!1},pb=class{constructor(s,o,_,j,et,st){if(this.object=s,this.data=j,this.sharedAssets=et,this.allowSlerp=st,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let nt=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=nt,this.object.dispatchEvent({type:"beginState",state:nt}),this.object instanceof tr||this.object.traverseEntity(ct=>{ct!==this.object&&ct instanceof wr$1&&ct.dispatchEvent(JZ)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let nt=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=nt,this.object.dispatchEvent({type:"completeState",state:nt}),this.object instanceof tr||this.object.traverseEntity(ct=>{ct!==this.object&&ct instanceof wr$1&&ct.dispatchEvent($Z)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=EM$1(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},o===void 0){let nt=fb(this.object,this.object.currentState===_?this.object.prevState:this.object.currentState);if(!nt)throw new Error("Missing property");this.from=nt}else{let nt=fb(this.object,o);if(!nt)throw new Error("Missing property");this.from=nt}if(_===void 0)throw new Error("Missing property");{let nt=fb(this.object,_);if(!nt)throw new Error("Missing property");this.to=nt}this.useCurrentState=o===void 0||_===void 0,this.params={targets:this.targets,t:1,autoplay:!1,...MM(j),...TM(j),change:this.onChange},this.callback=EM$1(this.object,o===void 0?{}:this.from.data,_===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},Zm=class extends pr{constructor(s,o,_,j,et){var nt;if(super(),this.eventType=s,this.data=o,this.page=_,this.shared=j,this.condition=et,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.hasPlayedOnce=!1,this.onTimelineChangeComplete=()=>{var ct;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((ct=this.timeline)==null||ct.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!o.object)throw new Error("Missing property");let st=this.page.scene.find(o.object)??((nt=this.page.uiCanvas)==null?void 0:nt.find(o.object))??this.page.scene.find2DInUIObjects(o.object);if(!st)throw new Error("Missing property");if(!st.states)throw new Error("Missing property");if(this.object=st,o.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=o.tweens[0].data.delayDirection==="start-once"?o.tweens[0].data.delay:0,this.init()}get playing(){var s;return((s=this.timeline)==null?void 0:s.paused)===!1}get changeBegan(){return this.tweens.some(s=>s.changeBegan)??!1}init(){this.initialCurrentState=fb(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.data.runMode==="Toggle"&&v1(this.eventType)?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:s=!0,needsRebuild:o=!1,isRebuild:_=!1}={}){var j,et,st,nt;try{let ct=MM(this.data.tweens[0].data);_&&typeof ct.loop=="number"&&ct.loop--,(j=this.timeline)==null||j.pause(),this.timeline=db.timeline({autoplay:!1,...ct,...ct.loop===!0||ct.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let At=this.tweens.findIndex(mt=>mt==null?void 0:mt.changeBegan);if(o===!0&&(this.timelineNeedsRebuild=!0),s){let mt=At===-1?0:At;for(let gt=mt;gt<this.data.tweens.length-1;gt++){let _t=this.data.tweens[gt],Et=this.data.tweens[gt+1],Ct;gt===mt&&(this.object.wasMovedByUser===!0||((et=this.object.previousAction)==null?void 0:et.changeBegan)===!0)?(Ct=void 0,this.object instanceof wr$1&&(this.object.wasMovedByUser=!1)):Ct=_t.data.state===void 0?this.currentState:_t.data.state;let Bt=new pb(this.object,Ct,Et.data.state===void 0?this.currentState:Et.data.state,Et.data,this.shared,this.data.allowSlerp??!1);At!==-1&&gt===mt&&Object.assign(Bt.params,{startOnceDelay:0}),this.tweens[gt]=Bt,this.timeline.add(Bt.params,this.timeline.duration+(gt===mt?ct.delay:0))}this.timeline.duration+=ct.endDelay}else{let mt=At===-1?this.data.tweens.length-1:At+1;for(let gt=mt;gt>0;gt--){let _t=this.data.tweens[gt],Et=this.data.tweens[gt-1],Ct;gt===mt&&(this.object.wasMovedByUser===!0||((st=this.object.previousAction)==null?void 0:st.changeBegan)===!0)?(Ct=void 0,this.object instanceof wr$1&&(this.object.wasMovedByUser=!1)):Ct=_t.data.state===void 0?this.currentState:_t.data.state;let Bt=new pb(this.object,Ct,Et.data.state===void 0?this.currentState:Et.data.state,_t.data,this.shared,this.data.allowSlerp??!1);At!==-1&&gt===mt&&Object.assign(Bt.params,{startOnceDelay:0}),this.tweens[gt-1]=Bt,this.timeline.add(Bt.params,this.timeline.duration+(gt===mt?ct.endDelay:0))}this.timeline.duration+=ct.delay}}catch(ct){ct instanceof Error&&console.error(ct.message)}((nt=this.object.previousAction)==null?void 0:nt.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(wt(this.shared,this.condition)===!1||v1(this.eventType)&&this.data.runMode==="Once"&&this.hasPlayedOnce||(this.hasPlayedOnce=!0,this.playing))return!1;clearTimeout(this.timeoutId);let s=MM(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(o){o instanceof Error&&console.error(o.message)}},this.startOnceDelay+s)}pause(){var s;(s=this.timeline)==null||s.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let s=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object instanceof tr?this.object.changeSelectedState(s,{shared:this.shared}):this.object.changeSelectedState(s,{scene:this.page.scene,shared:this.shared}),this.object.currentState=s}seek(s){var o;if(wt(this.shared,this.condition)===!1)return!1;this.timeline===void 0&&this.buildTimeline(),(o=this.timeline)==null||o.seek(s*this.timeline.duration,!0)}toggle(s){var o;if(wt(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),this.toggleIsForward=s??!this.toggleIsForward,this.playing?((o=this.timeline)==null||o.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var _;(_=this.timeline)==null||_.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function fb(s,o){var et;let _,j;if(typeof o=="string"?(_=o,j=(et=s.states)==null?void 0:et[_]):o===null&&(_=null,j=s.data),!(_===void 0||j===void 0))return{id:_,data:j}}var eJ={type:"beginState"},nN={type:"completeState",isfromEntity:!1},sN={type:"requestRender"},Jm=class extends pr{constructor(s,o,_,j){super(),this.data=s,this.page=o,this.shared=_,this.condition=j,this.toggleIsForward=!1,this.posStart=new E$2,this.posEnd=new E$2,this.qStart=new Qe,this.qEnd=new Qe,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(s=!1){if(!this.data.animate)return;let o=this.page.scene.find(this.data.targetCamera);if(!o||!o.visible)throw new ReferenceError("Target camera not founded or not visible");let _={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=db({targets:_,t:1,...TM(this.data),update:()=>{_.t===0&&(this.data.runMode==="Toggle"&&!this.toggleIsForward?this.fromCamera&&(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(o.position),this.qEnd.copy(o.quaternion),this.zoomEnd=o.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(o.uuid)),this.page.activeCamera.dispatchEvent(eJ));let j=this.page.activeCamera;j.position.lerpVectors(this.posStart,this.posEnd,_.t),j.quaternion.slerpQuaternions(this.qStart,this.qEnd,_.t),j.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*_.t,j.wasMovedBySwitchCameraAction=!0,j.updateMatrix(),j.updateMatrixWorld(),j.updateProjectionMatrix(),j.dispatchEvent(sN),_.t===1&&j.dispatchEvent(nN)}})}switchCamera(s){let o=this.page.activeCamera,_=this.page.scene.find(s);if(!_||!_.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(_),o.dispatchEvent({type:"cameraChange",camera:_})}play(){if(wt(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var s;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(s=this.animation)==null||s.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){var s;(s=this.animation)==null||s.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(s){var o,_;if(wt(this.shared,this.condition)===!1)return!1;if(window.clearTimeout(this.timeoutId),delete this.timeoutId,s!==this.toggleIsForward)try{this.playing?((o=this.animation)==null||o.pause(),this.toggleIsForward=s??!this.toggleIsForward,this.buildAnimation(!0),(_=this.animation)==null||_.play()):this.timeoutId=window.setTimeout(()=>{var j,et;this.toggleIsForward=s??!this.toggleIsForward,this.data.animate?((j=this.animation)==null||j.pause(),this.buildAnimation(),(et=this.animation)==null||et.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.fromCamera&&this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(nN),this.page.activeCamera.dispatchEvent(sN))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}};function CM$1(s){let o=s==null?void 0:s.tracks.filter(_=>_.ValueTypeName==="vector"||_.ValueTypeName==="quaternion").map(_=>_.times.length);if(o!=null&&o.length){let _=Qw(o);return _&&_>2?_:2}return 2}var $m=class extends pr{constructor(s,o,_,j,et){var At,mt,gt;super(),this.data=s,this.page=o,this.animationControls=_,this.shared=j,this.condition=et,this.startOnceDelay=0,this.toggleIsForward=!1;let st=s.object,nt=o.scene.find(s.object);nt&&Array.isArray(nt.identity)&&(st=nt.identity[0]),this.data={...s,object:st};let ct=this.animationControls.clipIdToAction[s.clipId+"/"+st];if(this.duration=((At=ct==null?void 0:ct.getClip())==null?void 0:At.duration)??1,this.data.crop2){let _t=CM$1(ct==null?void 0:ct.getClip());this.leftFrameTime=this.data.crop2[0]/(_t-1)*this.duration,this.rightFrameTime=this.data.crop2[1]/(_t-1)*this.duration}else{let _t=(gt=(mt=ct==null?void 0:ct.getClip())==null?void 0:mt.tracks[0])==null?void 0:gt.times.length;_t&&_t>1?(this.leftFrameTime=this.data.crop[0]/_t*this.duration,this.rightFrameTime=this.data.crop[1]/_t*this.duration):(this.leftFrameTime=0,this.rightFrameTime=this.duration)}this.startOnceDelay=s.delay}get playing(){var s;return((s=this.threeAnimAction)==null?void 0:s.isRunning())??!1}play(s=!1){if(wt(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var _;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let o=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([j,et])=>{let st=j.split("/")[1];this.threeAnimAction!==et&&st===o&&et.isRunning()&&(s?et.fadeOut(.2):et.stop())}),s&&((_=this.threeAnimAction)==null||_.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var s;(s=this.threeAnimAction)==null||s.fadeOut(.2)}seek(s){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=we.clamp(this.threeAnimAction.time+1/60*s,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(s,o=!1){if(wt(this.shared,this.condition)===!1)return!1;this.toggleIsForward=s??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var _;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let j=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([et,st])=>{let nt=et.split("/")[1];this.threeAnimAction!==st&&nt===j&&st.isRunning()&&(o?st.fadeOut(.2):st.stop())}),o&&((_=this.threeAnimAction)==null||_.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var o;let s=(o=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:o.getClip();s&&(s.duration=this.duration),this.pause()}},eg=class{constructor(s,o,_,j,et){this.data=s,this.page=o,this.eventManager=_,this.shared=j,this.condition=et,this.timeOutId=-1,this.scene=o.scene}dispatch(){if(wt(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(o=>o.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let s=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity(o=>{o.type==="ParticleSystem"&&(o.sleep(),o.wakeUp(),o.data.autoPlay?o.start():o.stop())}),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(s),If(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},tg=class{constructor(s,o,_,j){this.data=s,this.page=o,this.shared=_,this.condition=j,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=wt(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let s=this.shared.getVariable(this.data.variableId),o=_0(this.data.expression,this.shared,Lr$1.typeOfVariable(s));o!==void 0&&this.shared.updateVariable(this.data.variableId,typeof o=="string"?{textValue:o}:o)}dispose(){}},rg=class{constructor(s,o,_,j){this.data=s,this.page=o,this.shared=_,this.condition=j,this.timeoutId=null}dispatchInner(){if(wt(this.shared,this.condition)===!1)return!1;let s=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,s==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&s!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&s!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&s!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let o=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);s==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,o===void 0?!1:!o):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!o),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let s=this.data.delay,o=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&o==="Playing"&&(s=this.data.pauseDelay),s!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},s)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},mb=class{constructor(s,o,_,j){this.data=s,this.page=o,this.shared=_,this.condition=j}dispatch(){if(wt(this.shared,this.condition)===!1)return!1;(this.data.target==="single"?this.data.variableId?[this.data.variableId]:[]:Object.keys(this.shared.getVariables())).forEach(s=>{var _;this.shared.getVariable(s);let o=(_=this.shared.data.variables.data(s))==null?void 0:_.value;o!==void 0&&this.shared.updateVariable(s,o),this.shared.enableLocalStorageForPersistentVariables&&localStorage.removeItem(ix(s))})}dispose(){}},gb=class{constructor(s,o,_,j){this.data=s,this.page=o,this.shared=_,this.condition=j}dispatch(){var s;if(wt(this.shared,this.condition)===!1)return!1;this.data.userAPIId&&((s=this.shared.getUserAPI(this.data.userAPIId))==null||s.callUserAPI(this.shared))}dispose(){}};function wt(s,o){if(o===void 0)return!0;if(o.expression.length===0)return!1;let _=_0(o.expression,s,"boolean");return o.negate?!_:!!_}function Kt(s,o,_,j,et,st){let nt={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[],ClearLocalStorage:[],UserAPI:[]},ct=At=>({id:mt,data:gt})=>{try{gt.type==="Audio"?Yi[s.type].includes("Audio")&&nt.Audio.push(new jm(mt,gt,st,j,At)):gt.type==="Video"&&!(st instanceof tr)?Yi[s.type].includes("Video")&&nt.Video.push(new ig(mt,gt,st,j,At)):gt.type==="Particles"?Yi[s.type].includes("Particles")&&nt.Particles.push(new Hm(gt,_,j,At)):gt.type==="Link"?Yi[s.type].includes("Link")&&nt.Link.push(new ob(gt,et.controlsManager,j,At)):gt.type==="Create"?Yi[s.type].includes("Create")&&nt.Create.push(new ng(gt,_,et.controlsManager,j,At)):gt.type==="Destroy"?Yi[s.type].includes("Destroy")&&nt.Destroy.push(new Wm(gt,_,et.controlsManager,j,At)):gt.type==="Reset"?Yi[s.type].includes("Reset")&&nt.Reset.push(new qm(gt,_,j,et,At)):gt.type==="Transition"?Yi[s.type].includes("Transition")&&nt.Transition.push(new Zm(s.type,gt,_,j,At)):gt.type==="SwitchCamera"?Yi[s.type].includes("SwitchCamera")&&nt.SwitchCamera.push(new Jm(gt,_,j,At)):gt.type==="SceneTransition"?Yi[s.type].includes("SceneTransition")&&nt.SceneTransition.push(new eg(gt,_,et,j,At)):gt.type==="Animation"?Yi[s.type].includes("Animation")&&nt.Animation.push(new $m(gt,_,et.animationControls,j,At)):gt.type==="SetVariable"?Yi[s.type].includes("SetVariable")&&nt.SetVariable.push(new tg(gt,_,j,At)):gt.type==="DynamicVariablePlay"?Yi[s.type].includes("DynamicVariablePlay")&&nt.DynamicVariablePlay.push(new rg(gt,_,j,At)):gt.type==="Conditional"?Yi[s.type].includes("Conditional")&&(gt.ifActions.forEach(ct({expression:gt.condition,negate:!1})),gt.elseActions.forEach(ct({expression:gt.condition,negate:!0}))):gt.type==="ClearLocalStorage"?Yi[s.type].includes("ClearLocalStorage")&&nt.ClearLocalStorage.push(new mb(gt,_,j,At)):gt.type==="UserAPI"&&Yi[s.type].includes("UserAPI")&&nt.UserAPI.push(new gb(gt,_,j,At))}catch{}};return o.forEach(ct()),nt}function ur(s){Object.values(s).forEach(o=>{o.forEach(_=>{(_ instanceof jm||_ instanceof ig||_ instanceof Hm||_ instanceof $m||_ instanceof Zm||_ instanceof ng||_ instanceof Wm||_ instanceof Jm||_ instanceof eg||_ instanceof qm||_ instanceof tg||_ instanceof rg)&&_.dispose()})})}function oN(s,o){let _;if("material"in s){let j=s.material;Array.isArray(j)?_=s.material[0].layers.find(et=>et.uuid===o):_=s.material.layers.find(et=>et.uuid===o)}if(_)return _.color.texture.image.img instanceof HTMLVideoElement?_.color.texture.image.img:void 0}var aN=new Map,sg=new Map,Fa=class{constructor(s,o,_){this.data=o,this.delay=0,this.status="stopped";let{layerId:j,loop:et,volume:st,delay:nt}=o;if(this.object=_,j===void 0)throw new Error("Missing property");let ct=oN(_,j);ct&&(this.videoElement=ct,this.videoElement.loop=et===1/0,go&&(this.videoElement.autoplay=!0),st!==void 0&&(this.videoElement.volume=st)),nt!==void 0&&(this.delay=nt),sg.has(_.uuid)?sg.get(_.uuid).push(this):sg.set(_.uuid,[this]),aN.set(s,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(s){if(!this.videoElement)return;let o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s?(this.mute(),this.delay+=150):o?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let _=this.videoElement.play();_!==void 0&&_.then(j=>{}).catch(j=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},Rf=class{constructor(s){this.data=s}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(s){let o=aN.get(s);!o||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{o[this.data.interaction](),this.disposeDelay()},this.data.delay)):o[this.data.interaction]())}pauseAllVideosFromObject(s){let o=sg.get(s);!(o!=null&&o.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{o.forEach(_=>_[this.data.interaction]()),this.disposeDelay()},this.data.delay)):o.forEach(_=>_[this.data.interaction]()))}pauseAllVideos(){let s=[...sg.values()];!s.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{s.forEach(o=>{o.forEach(_=>{_[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):s.forEach(o=>{o.forEach(_=>{_[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},ig=class{constructor(s,o,_,j,et){if(this.data=o,this.shared=j,this.condition=et,o.interaction==="play")this.interaction=new Fa(s,o,_);else if(o.interaction==="pause"||o.interaction==="stop")this.interaction=new Rf(o);else throw new Error("Missing property")}dispatchBasic(){if(wt(this.shared,this.condition)===!1)return!1;this.interaction instanceof Fa?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(wt(this.shared,this.condition)===!1)return!1;this.interaction instanceof Fa?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},lN=(()=>{let s,o,_,j;function et(ct){!s&&!cN()&&(o==null?void 0:o.sharedGameControlGlobals.createdObjects.length)>0&&(s=requestAnimationFrame(st)),ct&&(o=ct,j=ct.requestRender)}function st(ct){let At=_?ct-_:0,mt=o.sharedGameControlGlobals.createdObjects,gt=o.sharedGameControlGlobals.nCreatedPerAction,_t=mt.length,Et=0;for(;Et<_t;){let Ct=mt[Et];Ct.userData.createdTime===void 0&&(Ct.userData.createdTime=ct),Ct.userData.lifetime===void 0&&Ct.userData.quantity===void 0||Ct.userData.lifetime&&ct-Ct.userData.createdTime<Ct.userData.lifetime||Ct.userData.quantity&&gt[Ct.userData.actionId]<=Ct.userData.quantity?(Ct.userData.velocity&&(Ct.position.addScaledVector(Ct.userData.velocity,At/1e3),Ct.updateMatrix(),j()),Et++):(gt[Ct.userData.actionId]>Ct.userData.quantity&&gt[Ct.userData.actionId]--,mt.splice(Et,1),Ct.removeFromParent(),o.sharedGameControlGlobals.rapierWorld&&Ct.rigidBody?(o.sharedGameControlGlobals.colliderToEntity.delete(Ct.rigidBody.collider(0).handle),o.sharedGameControlGlobals.rapierWorld.removeRigidBody(Ct.rigidBody)):(Ct.bvhGeometry=void 0,o.sharedGameControlGlobals.entitiesWithTransformAnim=o.sharedGameControlGlobals.entitiesWithTransformAnim.filter(Bt=>Bt.bvhGeometry!==void 0)),_t--,j())}s=Et>0?requestAnimationFrame(st):void 0,_=Et>0?ct:void 0}function nt(){cN()?s&&(cancelAnimationFrame(s),s=void 0,_=void 0):et()}return typeof document<"u"&&document.addEventListener("visibilitychange",nt),et})();function cN(){return!!document&&document.hidden}var uN=new Qe,tJ=new E$2,rJ=new E$2,ng=class{constructor(s,o,_,j,et){this.data=s,this.page=o,this.controlsManager=_,this.shared=j,this.condition=et,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=we.generateUUID(),this.dispatch=()=>{if(wt(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(wt(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=Kw(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let nt=new Br(this.object);if(nt.playModeVisible=!0,nt.expand(),this.data.coordinateSystem!=="world"){let At=this.data.coordinateSystem,mt=this.page.scene.find(At);mt&&(mt.updateMatrixWorldSVD(),nt.hiddenMatrix.copy(mt.matrixWorldRigid))}nt.scale.copy(this.object.scale),nt.position.fromArray(this.data.position),nt.rotation.fromArray(this.data.rotation),nt.updateMatrix(),this.page.add(nt);let ct=this.controlsManager.sharedGameControlGlobals;ct.createdObjects.push(nt),ct.nCreatedPerAction[this.uniqueId]===void 0?ct.nCreatedPerAction[this.uniqueId]=1:ct.nCreatedPerAction[this.uniqueId]++,nt.updateWorldMatrix(!0,!0),nt.traverseObject(this.traverseObjectCB),lN(),this.controlsManager.requestRender()},this.traverseObjectCB=nt=>{var gt,_t,Et,Ct;nt.hasNonUniformScale&&nt.updateMatrixWorldSVD();let ct;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(nt instanceof Gi)if(nt.objectForSample){if(nt.objectForSample.dataPatched.physics.fusedBody)return;ct=nt.object}else return nt.object.dataPatched.physics.fusedBody===!0&&nt.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(nt instanceof Br)ct=nt.object;else if(ct=nt,(gt=ct.dataPatched.cloner)==null?void 0:gt.hideBase)return!0}else{if(nt instanceof Gi)return;nt instanceof Br?ct=nt.object:ct=nt}this.data.destroy==="Time"?nt.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(nt.userData.quantity=this.data.destroyAfterQuantity,nt.userData.actionId=this.uniqueId);let At=new E$2().fromArray(this.data.velocity),mt=ct.dataPatched;if(!(mt.physics.enabled==="visibility"?!mt.visible:!mt.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(nt,ct,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((_t=nt.rigidBody)==null||_t.collider(0).setActiveEvents(1),nt.userData.hasCollisionDestroy=!0),nt.matrixWorld.decompose(tJ,uN,rJ),At.applyQuaternion(uN),this.data.velocity.some(Bt=>Bt!==0)&&this.data.dynamic&&((Et=nt.rigidBody)==null||Et.setLinvel(At.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in nt.object&&this.controlsManager.addBoundsTree(nt),this.data.velocity.some(Bt=>Bt!==0)&&this.data.dynamic&&(nt.userData.velocity=At)),((Ct=ct.dataPatched.physics)==null?void 0:Ct.fusedBody)===!0))return!0};let st=this.page.scene.find(this.data.object);if(!st)throw new Error("Missing Property");if(this.object=st,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");lN(_)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(s=>window.clearTimeout(s)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},IM=200,PM=.02,_M=.3,iJ=65;new E$2;var hN=new E$2,dN=new E$2,nJ=new E$2,Mn=new E$2,zn=new E$2,$l=new E$2,DM=new ue$2,fN=new ue$2,sJ=new ue$2;new ue$2;var to=new Qe,Va=new Qe,Wo=new ir(0,0,0,"YXZ"),oJ=new E$2(1,0,0),ro=new E$2(0,1,0),aJ=new E$2(0,0,1),pN=new E$2(1,1,1);new Or$1;var lJ=1,cJ=.025,uJ=16e-6,mN=12,hJ=20,Hi=new Mi,Ms=new jt,dJ={type:"requestRender"},fJ={type:"updateMatrix"},gN=Math.PI/6,yb=class extends pr{constructor(s,o,_,j,et,st,nt,ct,At){var Bt;super(),this.object=s,this.domElement=o,this.data=_,this.gloabalPhysics=j,this.controlsManager=et,this.cameraFollow=st,this.camera=nt,this.page=ct,this.sharedAssets=At,this.enableDamping=!0,this.hiddenMatrix0=new ue$2,this.target0=new E$2,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=IM,this.euler0=new ir(0,0,0,"YXZ"),this.position0Cam=new E$2,this.quat0Cam=new Qe,this.scale0Cam=new E$2,this.hiddenMatrix0Cam=new ue$2,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new Mi(new E$2(0,-40,0),new E$2(0,40,0)),matrix:new ue$2,position:new E$2,rotation:new Qe},this.euler=new ir(0,0,0,"YXZ"),this.eulerDelta=new E$2,this.lastPosition=new E$2,this.lastCameraQuaternion=new Qe,this.lastCameraPosition=new E$2,this.PI_2=Math.PI/2,this.prevMouse=new U$1,this.velocityTarget=new E$2,this.velocity=new E$2,this.directionXZ=new E$2,this.rotVelocityStick=new E$2,this.rotVelocityTarget=new E$2,this.rotVelocity=new E$2,this.rotDirection=new E$2,this.nonColliderRotOffset=new ue$2,this.nonColliderPosOffset=new ue$2,this.firstPointerId=-1,this.rot=new E$2,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new ue$2,this.objectToTarget=new E$2,this.objectToTarget0=new E$2,this.objectToCamXZ=new E$2,this.objectToCamXZ0=new E$2,this.targetToCamera=new E$2,this.targetToCamera0=new E$2,this.cameraPolarAxis0=new E$2,this.targetPos=new E$2,this.targetQuat=new Qe,this.lerpFactorPos=new E$2().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Qe,this.objXZQuatInv=new Qe,this.objXZRotMat=new ue$2,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new E$2,this.pushedVelocity=new E$2,this.groundYRotation=0,this.objectRealQuat=new Qe,this.colliderWorldQuat=new Qe,this.groundNormal=new E$2,this.groundTilt=new Qe,this.groundTiltInv=new Qe,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new E$2,this.quaternion=new Qe,this.scale=new E$2,this.initialAction=!0,this.onPointerDown=Dt=>{var Ft;!(Dt.target===this.domElement||Dt.target instanceof HTMLElement&&Dt.target.tagName==="SPLINE-VIEWER"&&((Ft=Dt.target.shadowRoot)!=null&&Ft.contains(this.domElement)))||this.firstPointerId!==-1||(this.firstPointerId=Dt.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!Ci&&!Jw&&this.domElement.requestPointerLock(),this.prevMouse.set(Dt.clientX,Dt.clientY))},this.onPointerUp=Dt=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),Dt.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=Dt=>{if(Dt.pointerId!==this.firstPointerId)return;let Ft=Dt.clientX-this.prevMouse.x,Rt=Dt.clientY-this.prevMouse.y;this.prevMouse.set(Dt.clientX,Dt.clientY),Dt.pointerType==="mouse"&&this.rotBy!=="keys"&&(Jw&&z2<15.5&&!Ci?(this.eulerDelta.y=-Ft*this.mouseOrbitSensitivity,this.eulerDelta.x=-Rt*this.mouseOrbitSensitivity):(this.eulerDelta.y=-Dt.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-Dt.movementY*this.mouseOrbitSensitivity)),Dt.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-Ft*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-Rt*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=Dt=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?yb.isLocked=!0:yb.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let Dt in this.movementState)this.movementState[Dt]=0},this.onKeyDown=Dt=>{!(Dt.target instanceof HTMLInputElement)&&(Dt.code==="ArrowLeft"||Dt.code==="ArrowUp"||Dt.code==="ArrowRight"||Dt.code==="ArrowDown"||Dt.code==="Space")&&Dt.preventDefault();for(let Ft of this.keyAssignments)if(Dt.key.toUpperCase()===Ft[1]||Dt.key===Ft[1]){this.movementState[Ft[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=Dt=>{for(let Ft of this.keyAssignments)if(Dt.key.toUpperCase()===Ft[1]||Dt.key===Ft[1]||Dt.code.slice(3,Dt.code.length).toUpperCase()===Ft[1]){this.movementState[Ft[0]]=0;break}},this.copyVRGamePadValues=(Dt,Ft)=>{for(let Rt=2;Rt<4;Rt++){let Nt=Dt.axes[Rt];Ft===0?Rt===2?this.movementState.movePosX=Nt:this.movementState.movePosZ=Nt:(Dt.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,Rt===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(Nt)>=.3&&(this.vrEulerYOffset+=Nt<0?1:-1),this.movementState.rotPosY=Nt):this.moveMode==="fly"&&(this.movementState.moveNegY=Nt))}},this.sharedGameControlGlobals=et.sharedGameControlGlobals,s===nt&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let mt=this.euler0.clone(),gt=mt.y;if(this.objectRealQuat.copy(this.quaternion),mt.y=0,this.quaternion.setFromEuler(mt),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),mt.set(0,gt,0),this.quaternion.setFromEuler(mt),this.rot.setFromEuler(mt),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((Bt=this.camera)==null?void 0:Bt.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let Dt=new E$2(0,0,-1).applyQuaternion(this.camera.quaternion),Ft=new E$2().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(Ft),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let Rt,Nt;Math.abs(Dt.y)<1e-6?(Ft.y=0,Dt.y=0,Nt=Ft.projectOnVector(Dt)):Ft.y/Dt.y>0?Nt=Dt.multiplyScalar(Ft.y/Dt.y):Nt=Dt.multiplyScalar(Ft.length()),this.targetToCamera0.copy(Nt).negate(),Rt=this.camera.position.clone().add(Nt),this.objectToTarget0.subVectors(Rt,this.position);let Gt=new ir().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-Gt.x,Gt.x=0,Gt.z=0,Gt.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(Gt)}if(this.object instanceof wr$1&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=_.rotByTouch??"joystick",this.rotBy=_.rotBy??"keys",this.rotationMode=_.rotationMode??"normal",this.moveMode=_.moveMode??"walk",this.collisionEnabled=_.collisionEnabled,this.speedTranslate=(_.speedTranslate??250)*lJ,this.speedOrbit=(_.speedRotate??100)*cJ,this.mouseOrbitSensitivity=(_.speedRotate??100)*uJ,this.keyAssignments=_.keyAssignments.map(Dt=>{let Ft=[Dt[0],Dt[1]];return Ft[1]==="▲"?Ft[1]="ArrowUp":Ft[1]==="◀"?Ft[1]="ArrowLeft":Ft[1]==="▼"?Ft[1]="ArrowDown":Ft[1]==="▶"?Ft[1]="ArrowRight":Ft[1]==="⇧"?Ft[1]="Shift":Ft[1]==="↵"?Ft[1]="Enter":Ft[1]==="Space"?Ft[1]=" ":Ft[1]==="⌘"?Ft[1]="Meta":Ft[1]==="Ctrl"?Ft[1]="Control":Ft[1]==="Esc"&&(Ft[1]="Escape"),Ft}),_.rotBy==="mouse"){let Dt;Dt=this.keyAssignments.findIndex(Ft=>Ft[0]==="rotNegX"),Dt!==-1&&(this.keyAssignments[Dt][1]=""),Dt=this.keyAssignments.findIndex(Ft=>Ft[0]==="rotPosX"),Dt!==-1&&(this.keyAssignments[Dt][1]=""),Dt=this.keyAssignments.findIndex(Ft=>Ft[0]==="rotPosY"),Dt!==-1&&(this.keyAssignments[Dt][1]=""),Dt=this.keyAssignments.findIndex(Ft=>Ft[0]==="rotNegY"),Dt!==-1&&(this.keyAssignments[Dt][1]="")}this.lerpFactorPosStart=1-.02**(1/((_.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((_.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((_.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((_.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((_.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((_.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??wl.defaultData.gravity)*mN,this.usePhysics=this.gloabalPhysics.usePhysics??wl.defaultData.usePhysics,this.jumpPower=_.jumpPower*hJ,this.resetYPosition=this.position.y+Math.abs(_.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=_.alignToGround??!1,this.orientMode=_.autoOrientMove?_.orientMode:"none",this.orientWith=_.orientWith??Qh.defaultDataThirdPerson.orientWith,this.slopeThresh=iJ*Math.PI/180,_.collider.type==="capsule"?(this.collider.radius=_.collider.radius,this.collider.segment.start.y=_.collider.height/2-_.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=_.collider.height*PM/this.pixelsPerMeter,this.stepThresh=_.collider.height*_M/this.pixelsPerMeter,this.colliderHeight=_.collider.height):_.collider.type==="sphere"?(this.collider.radius=_.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*_.collider.radius*PM/this.pixelsPerMeter,this.stepThresh=2*_.collider.radius*_M/this.pixelsPerMeter,this.colliderHeight=_.collider.radius*2):(this.offset=_.collider.height*PM/this.pixelsPerMeter,this.stepThresh=_.collider.height*_M/this.pixelsPerMeter,this.colliderHeight=_.collider.height),this.collider.type=_.collider.type;let _t=new E$2().fromArray(_.collider.position),Et=new Qe().setFromEuler(new ir().fromArray([..._.collider.rotation,"XYZ"]));this.collider.position.copy(_t).multiply(this.scale),this.collider.rotation.copy(Et),this.collider.matrix.compose(_t,Et,pN),_.cameraXAxis!==void 0&&(this.cameraXAxis=_.cameraXAxis,this.cameraYAxis=_.cameraYAxis,this.minPolarAngle=_.cameraRotXLimits[0],this.maxPolarAngle=_.cameraRotXLimits[1],this.minAzimuthAngleRel=_.cameraRotYLimits[0],this.maxAzimuthAngleRel=_.cameraRotYLimits[1]),this.forwardDir=_.forwardDirection??"-z",this.isFirstPerson&&(this.forwardDir="-z"),this.runMultiplier=_.runMultiplier??2;let Ct=_.navmesh.destinationHelperRadius*2;if(Ct>0){let Dt=new Ue$1;Dt.push({fi:0,data:{...Gr.defaultData("light","phong"),alpha:0},id:"layer1"}),Dt.push({fi:0,data:{...Gr.defaultData("color"),color:_.navmesh.destinationHelperColor,alpha:_.navmesh.destinationHelperColor.a},id:"layer2"});let Ft=new Ia({layers:Dt},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new Ut(g0.create({parameters:{width:Ct,height:Ct/10,hollow:.7}}),Ft),this.navMeshPathDest.material.userData.opacity0=_.navmesh.destinationHelperColor.a}this.activate()}reset(s=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),s){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let o=new ir().setFromQuaternion(this.quaternion,"YXZ"),_=o.y;this.objectRealQuat.copy(this.quaternion),o.y=0,this.quaternion.setFromEuler(o),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),o.set(0,_,0),this.quaternion.setFromEuler(o),this.rot.setFromEuler(o),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof wr$1?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var s;this.deactivate(),(s=this.navMeshPathDest)!=null&&s.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let s=this.data,o=this.sharedAssets;s.gameActions!==void 0&&(this.actions={},Xh.list.forEach(_=>{this.actions[_]=Kt({...s,disabled:!1,type:"GameControl"},s.gameActions[_],this.page,o,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),ur(this.actions.idle),ur(this.actions.move),ur(this.actions.run),ur(this.actions.jump)}dispatchStartEvent(s){this.actions[s]!==void 0&&(this.actionState[s]||(this.actionState[s]=!0,this.actions[s].Transition.forEach(o=>{o.play()}),this.actions[s].Animation.forEach(o=>{o.play(this.initialAction===!1)}),this.actions[s].Create.forEach(o=>{o.dispatchStart()}),this.actions[s].Audio.forEach(o=>{o.dispatchGameControl("start")}),this.actions[s].Particles.forEach(o=>{o.dispatchGameControl("start")})))}dispatchStopEvent(s){this.actions[s]!==void 0&&(!this.actionState[s]||(this.actionState[s]=!1,this.actions[s].Transition.forEach(o=>{o.stop(),o.object.currentState!==null&&o.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[s].Create.forEach(o=>{o.dispatchStop()}),this.actions[s].Audio.forEach(o=>{o.dispatchGameControl("stop")}),this.actions[s].Particles.forEach(o=>{o.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Mn.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(s,o,_){var ct,At,mt,gt,_t,Et,Ct,Bt,Dt;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let j=(this.isFirstFrame?16.6:s)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let et=j*60,st=!1;if(this.usePhysics&&this.collisionEnabled){let Ft=zn.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*mN),1)*(this.gravity>0?1:-1):this.velocity.y)*j,0).divideScalar(this.pixelsPerMeter),Rt=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,Ft,(ct=this.object.rigidBody)==null?void 0:ct.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(Rt){this.onObject=!0,this.groundNormal.set(Rt.normal2.x,Rt.normal2.y,Rt.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(st=!0),((At=Rt.collider.parent())==null?void 0:At.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let Nt=Rt.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let Gt of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(Gt.rigidBody===Nt&&Gt.userData.isFollowingObj!==this.object.uuid){(Gt.hasNonUniformScale?Gt.matrixWorldRigid:Gt.matrixWorld).decompose(Mn,Va,zn),this.groundVelocity.subVectors(Mn,Gt.prevT),this.object.getWorldPosition(zn).add(this.collider.position).sub(Mn),this.groundYRotation=Wo.setFromQuaternion(Va).y-Gt.prevR.y,$l.copy(zn).applyAxisAngle(ro,this.groundYRotation),this.groundVelocity.add($l.sub(zn)).divideScalar(j);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*et),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let Ft=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let Rt=Mn.subVectors(this.path[1],this.position),Nt=zn.subVectors(this.path[1],this.path[0]);Rt.dot(Nt)<0?this.path.shift():(this.directionXZ.x=Nt.x,this.directionXZ.z=Nt.z),Ft.opacity=Ft.userData.opacity0}else Ft.opacity-=.05*Ft.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**et),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**et),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**et)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let nt=nJ.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let Ft=zn.copy(nt);Ft.y=0,nt.set(0,nt.y,Ft.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none"&&this.isFirstPerson===!1)if(this.orientWith==="camera"&&this.path.length<=1){let Ft=Mn;this.camera.getWorldDirection(Ft);let Rt=$l.copy(ro).multiplyScalar(Ft.dot(ro));Ft.sub(Rt);let Nt=zn.copy(this.directionXZ);Nt.x*=-1,this.rot.y=Ft.angleTo(Nt)*(Ft.cross(Nt).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(Wo.setFromVector3(this.rot),this.moveMode==="walk"&&(Wo.x=0),nt.applyEuler(Wo),st&&(Va.setFromUnitVectors(ro,this.groundNormal),nt.applyQuaternion(Va)),_){let Ft=Wo.set(0,this.vrEulerYOffset*gN,0);_.applyEuler(Ft),nt.x+=_.x,nt.z+=_.z,this.nonColliderPosOffset.elements[13]+=_.y*j}if(this.usePhysics===!0){let Ft=zn;this.pushedVelocity.set(0,0,0);for(let Rt of this.sharedGameControlGlobals.entitiesWithTransformAnim){let Nt=$l.setFromMatrixPosition(Rt.matrixWorld).sub(Rt.prevT).divideScalar(j).divideScalar(this.pixelsPerMeter),Gt=Rt.rigidBody.collider(0).castCollider(Nt,this.object.rigidBody.collider(0),Mn.copy(nt).divideScalar(this.pixelsPerMeter),j,!1);Nt.multiplyScalar(this.pixelsPerMeter);let dr=yt.is(Rt)?Rt:Rt.object;if(Gt!==null&&this.lastHitObj!==dr){let ts;Rt instanceof Br&&(ts=Rt);let es=this.sharedGameControlGlobals.entityToCollisionEvents[dr.uuid];if(es)for(let ds of es)ds.data.target==="character"&&(ds.dispatch(ts),dr.dispatchEvent(vb));this.lastHitObj=dr}if(Gt!==null){this.pushedVelocity.copy(Nt),Ft.copy(Gt.normal1).applyQuaternion(Rt.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let Rt=Ft.dot(nt);Rt<0&&nt.addScaledVector(Ft,-Rt),nt.add(this.pushedVelocity)}else nt.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(j),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**et):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**et),this.euler.x+=this.rotVelocity.x*j,this.euler.y+=this.rotVelocity.y*j+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*j),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(ro,this.euler.y-this.euler0.y);let Ft=zn.copy(this.objectToCamXZ).normalize(),Rt=$l.copy(nt).multiplyScalar(j);Rt.y=0;let Nt=Rt.sub(Mn.copy(Ft).multiplyScalar(Rt.dot(Ft))).cross(Ft).y;this.euler.y-=Math.atan2(Nt,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*j+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=we.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=we.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=we.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(o?(Wo.copy(o),Wo.y=0):(Wo.copy(this.euler),Wo.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Wo)),o&&(this.moveMode==="walk"?(this.rot.y=o.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(o),this.rot.y+=this.vrEulerYOffset*gN),to.setFromAxisAngle(oJ,this.rot.x),Va.setFromAxisAngle(ro,this.rot.y),Va.multiply(to),to.setFromAxisAngle(aJ,this.rot.z),Va.multiply(to),this.quaternion.copy(Va),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let Ft=zn.copy(nt).multiplyScalar(j/this.pixelsPerMeter),Rt=null;this.didHit=!1;let Nt=new E$2;for(let Gt=0;Gt<5;Gt++){let dr=Ft.length(),ts=$l.copy(Ft).normalize();if(Rt=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(Nt),this.colliderWorldQuat,ts,(mt=this.object.rigidBody)==null?void 0:mt.collider(0).shape,dr,!1,24,void 0,void 0,this.object.rigidBody),Rt!==null){this.didHit=!0;let es=this.sharedGameControlGlobals.colliderToEntity.get(Rt.collider.handle);if(es!==this.lastHitObj&&Gt===0){this.lastHitObj=es;let un=this.sharedGameControlGlobals.entityToCollisionEvents[es==null?void 0:es.uuid];if(un){for(let $n of un)if($n.data.target==="character"){let kn=((gt=this.sharedGameControlGlobals.rapierWorld)==null?void 0:gt.getCollider(Rt.collider.handle))._parent,lo;if(es.cloner){for(let Il of es.cloner.children)if(Il.rigidBody===kn){lo=Il;break}}$n.dispatch(lo),es.dispatchEvent(vb)}}}let ds=hN.set(Rt.normal2.x,Rt.normal2.y,Rt.normal2.z).applyQuaternion(this.colliderWorldQuat),tn=dN.copy(ts).multiplyScalar(Rt.toi).dot(ds),rn=Rt.toi;if(rn===0&&(this.position.y+=this.offset*this.pixelsPerMeter),tn>this.offset&&(rn=Rt.toi*(tn-this.offset)/tn,Nt.addScaledVector(ts,rn)),Ft.copy(ts).multiplyScalar(dr-rn),Math.acos(-ds.y)>this.slopeThresh){let un=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(Nt),$n=$l.copy(Rt.witness2).applyQuaternion(this.colliderWorldQuat);$n.y=0;let kn=un.add($n);kn.y+=this.stepThresh;let lo=this.sharedGameControlGlobals.rapierWorld.castShape(kn,this.colliderWorldQuat,Ft,(_t=this.object.rigidBody)==null?void 0:_t.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);lo!==null&&lo.toi===0&&(ds.y=0,ds.normalize())}Ft.addScaledVector(ds,-Ft.dot(ds))}else{Gt===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),Nt.add(Ft);break}}this.position.addScaledVector(Nt,this.pixelsPerMeter),(Et=this.object.rigidBody)==null||Et.setTranslation(Mn.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(Ct=this.object.rigidBody)==null||Ct.setRotation(to.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let Ft=this.onObject?1:5,Rt=nt.multiplyScalar(j/Ft);for(let Nt=0;Nt<Ft;Nt++)this.position.add(Rt),this.collisionAdjustment(j/Ft)}else this.position.addScaledVector(nt,j);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let Ft=this.objectToTarget.add(this.position),Rt=this.targetToCamera.add(Ft);DM.lookAt(Rt,Ft,ro).setPosition(Rt),DM.decompose(this.targetPos,this.targetQuat,Mn),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**et),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**et),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=we.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=we.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(fJ),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((Dt=(Bt=this.navMeshPathDest)==null?void 0:Bt.material)==null?void 0:Dt.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(dJ),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let s=to.setFromAxisAngle(ro,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?we.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(s);let o;this.cameraXAxis==="Limit"?o=we.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):o=we.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let _=Mn.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&_.applyQuaternion(s);let j=Va.setFromAxisAngle(_,o);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(s),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(j)}groundTiltAdjustment(s){ro.angleTo(s)*180/Math.PI<15||ro.angleTo(s)*180/Math.PI>85?to.identity():to.setFromUnitVectors(ro,s),this.groundTilt.slerp(to,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(s){var et;let o=dN.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let _=DM.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Mn,to,zn).compose(Mn,to,pN);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(st=>{if(st===this.object||st.isDescendantOf(this.object))return;Ms.makeEmpty(),st.updateMatrixWorldSVD();let nt=st.matrixWorldRigid,ct=fN.copy(nt).invert(),At=sJ.copy(fN).multiply(_);Hi.copy(this.collider.segment),Hi.start.applyMatrix4(At),Hi.end.applyMatrix4(At);let mt=hN.copy(this.position).applyMatrix4(ct);Ms.expandByPoint(Hi.start),Ms.expandByPoint(Hi.end),Ms.min.addScalar(-this.collider.radius),Ms.max.addScalar(this.collider.radius),st.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(gt){return gt.distanceToPoint(Hi.end)},intersectsBounds:gt=>gt.intersectsBox(Ms),intersectsTriangle:gt=>{let _t=Mn,Et=zn,Ct=gt.closestPointToSegment(Hi,_t,Et);if(Ct<this.collider.radius){let Bt=this.collider.radius-Ct,Dt=Et.sub(_t).normalize(),Ft=$l.copy(mt);Ft.addScaledVector(Dt,Bt);let Rt=Ft.applyMatrix4(nt).sub(this.position);o.add(Rt),Hi.start.addScaledVector(Dt,Bt),Hi.end.addScaledVector(Dt,Bt)}}})}),Ms.makeEmpty(),Hi.copy(this.collider.segment),Hi.start.applyMatrix4(_),Hi.end.applyMatrix4(_),Ms.expandByPoint(Hi.start),Ms.expandByPoint(Hi.end),Ms.min.addScalar(-this.collider.radius),Ms.max.addScalar(this.collider.radius),(et=this.sharedGameControlGlobals.staticMeshBVH)==null||et.shapecast({traverseBoundsOrder(st){return st.distanceToPoint(Hi.end)},intersectsBounds:st=>st.intersectsBox(Ms),intersectsTriangle:st=>{let nt=Mn,ct=zn,At=st.closestPointToSegment(Hi,nt,ct);if(At<this.collider.radius){let mt=this.collider.radius-At,gt=ct.sub(nt).normalize();this.alignToGround&&this.groundTiltAdjustment(gt),o.addScaledVector(gt,mt),Hi.start.addScaledVector(gt,mt),Hi.end.addScaledVector(gt,mt)}}}),this.onObject=Math.abs(o.y)>Math.abs(s*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let j=Math.max(0,o.length()-1e-5);o.normalize().multiplyScalar(j),this.position.add(o)}},og=yb;og.isLocked=!1;var yN=Jo(iA());function io(s,o){let _=new _e;if(o){let st=o.elements,nt=st[0]**2+st[1]**2+st[2]**2,ct=st[4]**2+st[5]**2+st[6]**2,At=st[8]**2+st[9]**2+st[10]**2,mt=st[0]**2+st[4]**2+st[8]**2,gt=st[1]**2+st[5]**2+st[9]**2,_t=st[2]**2+st[6]**2+st[10]**2,Et=1e-8;if(nt<Et||ct<Et||At<Et||mt<Et||gt<Et||_t<Et)return _.setAttribute("position",new Me([],3)),_.setIndex([]),_}if(!s.getAttribute("position"))return _.setAttribute("position",new Me([],3)),_.setIndex([]),_;let{positions:j,triIndices:et}=Uc(s.getAttribute("position"),s.getIndex());return _.setAttribute("position",new Me(j,3)),_.setIndex(et),o&&_.applyMatrix4(o),_}var pJ=new ue$2,mJ=new ue$2,qo=[[0,0,0],[0,0,0],[0,0,0]];function OM(s){let o=s.elements;qo[0][0]=o[0],qo[0][1]=o[4],qo[0][2]=o[8],qo[1][0]=o[1],qo[1][1]=o[5],qo[1][2]=o[9],qo[2][0]=o[2],qo[2][1]=o[6],qo[2][2]=o[10];let{u:_,v:j}=(0,yN.SVD)(qo),et=pJ.set(_[0][0],_[0][1],_[0][2],0,_[1][0],_[1][1],_[1][2],0,_[2][0],_[2][1],_[2][2],0,0,0,0,1),st=mJ.set(j[0][0],j[0][1],j[0][2],0,j[1][0],j[1][1],j[1][2],0,j[2][0],j[2][1],j[2][2],0,0,0,0,1);return et.multiply(st.transpose())}var xb=class extends Qu{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(s,o){o.isOrthographicCamera?(this.ray.origin.set(s.x,s.y,-1).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):o.isPerspectiveCamera?(this.ray.origin.set(s.x,s.y,-1).unproject(o),this.ray.direction.set(s.x,s.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(s,o=!0,_=[]){return s.forEach(j=>{j.visible&&this.intersectObject(j,o,_)}),_}createRaycastLineHelper(){let s=new ss({color:65280,linewidth:10}),o=new E$2(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),_=new E$2(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),j=this.camera.far-this.camera.near,et=new E$2().addVectors(o,_.multiplyScalar(j)),st=new _e;return st.setFromPoints([o,et]),new mc(st,s)}},vN=s=>s instanceof ws||s instanceof $s;function gJ(s,o){return s.distance-o.distance}function xN(s,o,_){if(!(!Do(o)||!o.visible)){cn(o)&&o.raycast(s,_);for(let j of o.children)xN(s,j,_)}}function Lf(s,o,_,j=!1){if(!j&&!_.some(st=>Bf(s,st)!==void 0))return[];let et=[];return o.children.forEach(st=>xN(s,st,et)),et.sort(gJ),et}function ag(s){let o=[];if(s.length){let _=s[0].object;Do(_)&&o.push(_);let j=_.parent;for(;j;)vN(j)&&o.push(j),j=j.parent}return o}function no(s,o,_,j){let et=s.frame;if(et){let st=o[0]*et.width,nt=(1-o[1])*et.height;for(let ct of _){let At=ct===et.uuid?et:et.find(ct);if(At!=null&&At.intersects(st,nt))return j(At),!0}}return!1}function Bf(s,o){if(cn(o)){if(o.visible){let _=[];return o.raycast(s,_),_.length?_[0]:void 0}}else if(vN(o))return bN(s,o)}function bN(s,o){if(!(!Do(o)||!o.visible)){if(cn(o)){let _=[];if(o.raycast(s,_),_.length)return _[0]}for(let _ of o.children){let j=bN(s,_);if(j)return j}}}function yJ(s,o,_){return{x:(s-(_.left+window.scrollX))/_.width*2-1,y:-((o-(_.top+window.scrollY))/_.height)*2+1}}function vJ(s,o,_){return{x:(s-(_.left+window.scrollX))/_.width,y:1-(o-(_.top+window.scrollY))/_.height}}var bb=class{constructor(s,o,_,j,et,st,nt,ct){this.renderer=s,this.publish=o,this.scene=_,this.getCamera=j,this.sharedAssets=et,this.requestRender=st,this.isExport=nt,this.frame=ct,this.raycaster=new xb,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents=o.mouseEventTarget==="window",this.domElement=s.domElement,this.eventElement=this._useWindowEvents?window:s.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(s){this._useWindowEvents=s,this.eventElement=s?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(s){this._domRect=s}get domRect(){return this._domRect}updateRaycaster(s){var j;let{pageX:o,pageY:_}=((j=s.touches)==null?void 0:j.length)>0?s.touches[0]:s;this.pointerWorld=yJ(o,_,this._domRect),this.pointerScreen=vJ(o,_,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}},hr$1=class{constructor(o){this.eventContext=o,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},RM=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],SN=s=>{var o;return(o=RM.find(([_,j])=>j===s))==null?void 0:o[0]},Yo=s=>{var o;return(o=RM.find(([_])=>_===s))==null?void 0:o[1]},xJ=(s,o)=>{let _=SN(s);if(_){let j=new CustomEvent(_,{bubbles:!0});return Object.defineProperty(j,"target",{writable:!1,value:o}),j}},Sb=class extends hr$1{constructor(){super(...arguments),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=s=>{var j;if(!s.eventName||!s.target||s.eventName==="Scroll")return;let o=(j=this.splineEvents[SN(s.eventName)])==null?void 0:j[s.target.uuid];if(!o)return;s.eventName==="Scroll"&&s.deltaY!==void 0&&Object.assign(o,{deltaY:s.deltaY});let{domElement:_}=this.eventContext;_.dispatchEvent(o)}}connect(){let{page:s}=this.eventContext;s.traverseEntity(o=>{var _,j;if((_=o.data)!=null&&_.events.length){for(let[et,st]of RM)if(o.data.events.some(nt=>nt.data.type===st&&!nt.data.disabled)){this.objectsPerEvents.has(et)?(j=this.objectsPerEvents.get(et))==null||j.push(o):this.objectsPerEvents.set(et,[o]);let nt={id:o.uuid,name:o.name},ct=xJ(st,nt),At=this.splineEvents[et];At?At[o.uuid]=ct:this.splineEvents[et]={[o.uuid]:ct}}}}),this.objectsPerEvents.forEach(o=>{o.forEach(_=>{_.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(s=>{s.forEach(o=>{o.removeEventListener("beginEvent",this.onBeginEvent)})})}},LM=class{constructor(s,o,_,j,et,st){if(this.id=s,this.data=o,this.object=_,this.entered=!1,(o.type==="KeyDown"||o.type==="KeyUp"||o.type==="KeyPress")&&!o.key)throw new Error("Missing property");this.actions=Kt(o,o.actions,j,et,st,_)}disconnect(){ur(this.actions)}dispatchHeld(s){this.actions.Create.forEach(o=>{s&&o.dispatchThrottled.cancel(),o.dispatchThrottled()})}dispatch(s=!1){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(o=>o.playFromCurrent()),this.actions.Animation.forEach(o=>o.playFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.playFromCurrent()),this.actions.Create.forEach(o=>o.dispatchStart())):(this.actions.Transition.some(o=>o.playing&&o.data.runMode!=="Toggle")||this.actions.Transition.forEach(o=>{o.data.runMode==="Toggle"?o.toggle():o.play()}),this.actions.SwitchCamera.some(o=>o.playing&&o.data.runMode!=="Toggle")||this.actions.SwitchCamera.forEach(o=>{o.data.runMode==="Toggle"?o.toggle():o.play()}),this.actions.Animation.forEach(o=>{o.data.runMode==="Toggle"?o.toggle():o.play()})),this.actions.Link.forEach(o=>{o.dispatch()}),this.actions.SceneTransition.forEach(o=>{o.dispatch()}),s===!1&&this.actions.Create.forEach(o=>{o.dispatch()}),this.actions.Destroy.forEach(o=>{o.dispatch()}),this.actions.Reset.forEach(o=>{o.dispatch()}),this.actions.Audio.forEach(o=>{o.dispatchBasic()}),this.actions.Video.forEach(o=>{o.dispatchBasic()}),this.actions.Particles.forEach(o=>{o.dispatchBasic()}),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(s=>s.reverseFromCurrent()),this.actions.Particles.forEach(s=>s.reverseFromCurrent()),this.actions.Animation.forEach(s=>s.reverseFromCurrent()),this.actions.SwitchCamera.forEach(s=>s.reverseFromCurrent()),this.actions.Create.forEach(s=>s.dispatchStop()))}dispatchUserEvent(s){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),s?(this.actions.Transition.forEach(o=>o.reverseFromCurrent()),this.actions.Animation.forEach(o=>o.reverseFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.reverseFromCurrent())):(this.actions.Transition.forEach(o=>o.playFromCurrent()),this.actions.Animation.forEach(o=>o.playFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.playFromCurrent())),this.actions.Link.forEach(o=>{o.dispatch()}),this.actions.SceneTransition.forEach(o=>{o.dispatch()}),this.actions.Create.forEach(o=>{o.dispatch()}),this.actions.Destroy.forEach(o=>{o.dispatch()}),this.actions.Reset.forEach(o=>{o.dispatch()}),this.actions.Audio.forEach(o=>{o.dispatchBasic()}),this.actions.Video.forEach(o=>{o.dispatchBasic()}),this.actions.Particles.forEach(o=>{o.dispatchBasic()}),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch())}},wb=class extends hr$1{constructor(s,o,_){super(s),this.eventManager=o,this.useForRaycastProperty=_,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=j=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(j);let{raycaster:et,page:st}=this.eventContext,nt=Lf(et,st,[],!0);this.sceneInterects=nt,nt.length&&(this.eventContext.sharedAssets.raycastProperty={x:nt[0].point.x,y:nt[0].point.y,z:nt[0].point.z,objX:nt[0].object.matrixWorld.elements[12],objY:nt[0].object.matrixWorld.elements[13],objZ:nt[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=j=>{(j.target===this.eventContext.domElement||j.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(et=>{(et.data.type==="MouseDown"||et.data.type==="MousePress")&&(this.onCanvasRaycast(j),et.dispatch())})},this.onCanvasMouseUp=j=>{(j.target===this.eventContext.domElement||j.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(et=>{et.data.type==="MouseUp"?(this.onCanvasRaycast(j),et.dispatch()):et.data.type==="MousePress"&&et.dispatchRelease()})},this.onMouseDown=j=>{Je.length>1||(this.eventContext.updateRaycaster(j),this.handleMouseEvent("MouseDown"))},this.onMouseUp=j=>{Je.length>1||(this.eventContext.updateRaycaster(j),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=j=>{Je.length>1||(this.eventContext.updateRaycaster(j),this.handleMousePressEvent())},this.onMousePressRelease=j=>{Je.length>1||(this.eventContext.updateRaycaster(j),this.handleMousePressEvent(!0))},this.onKeyDown=j=>{this.heldKeys[j.key]||(this.handleKeyEvent(j,"KeyDown"),this.handleKeyEventHeld(j,"KeyDown",!0)),this.heldKeys[j.key]=!0},this.onKeyUp=j=>{this.handleKeyEvent(j,"KeyUp"),this.handleKeyEventHeld(j,"KeyUp",!0)},this.onKeyPressDown=j=>{this.heldKeysPress[j.key]?this.handleKeyEventHeld(j,"KeyPress"):(this.handleKeyEvent(j,"KeyPress"),this.handleKeyEventHeld(j,"KeyPress",!0)),this.heldKeysPress[j.key]=!0},this.onKeyPressUp=j=>{this.handleKeyEvent(j,"KeyPress",!0)},this.releaseHeldKey=j=>{delete this.heldKeys[j.key]},this.releaseHeldKeyPress=j=>{delete this.heldKeysPress[j.key]},this._onUserEvent=({eventName:j,target:et,reverse:st})=>{var ct,At,mt,gt;if(!j||!et)return;let nt=Yo(j);nt&&(nt==="MouseDown"||nt==="MouseUp"||nt==="MousePress"?(et.dispatchEvent({type:"beginEvent",eventName:nt}),(At=(ct=this.eventsPerObjects[nt])==null?void 0:ct[et.uuid])==null||At.forEach(_t=>{_t.dispatchUserEvent(st)})):(nt==="KeyDown"||nt==="KeyUp"||nt==="KeyPress")&&(et.dispatchEvent({type:"beginEvent",eventName:nt}),(gt=(mt=this.eventsPerObjects[nt])==null?void 0:mt[et.uuid])==null||gt.forEach(_t=>{_t.dispatchUserEvent()})))}}connect(){var et,st,nt,ct,At,mt;let{page:s,sharedAssets:o,domElement:_}=this.eventContext,j=(gt,_t)=>{var Ct,Bt;if(!((Ct=gt.data)!=null&&Ct.events.length))return;let Et=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let Dt of Et){let Ft=this.eventsPerObjects[Dt];gt.data.events.filter(({data:Rt})=>Rt.type===Dt&&Rt.disabled!==!0).forEach(({id:Rt,data:Nt})=>{try{let Gt=new LM(Rt,Nt,gt,s,o,this.eventManager);Gt.actions.Video.length&&(this.hasVideoAction=!0),(Nt.type==="MouseDown"||Nt.type==="MouseUp"||Nt.type==="MousePress")&&(Nt.mode==="Canvas"||Nt.mode==="Window")?this.canvasMouseEvents.push(Gt):Ft[gt.uuid]?Ft[gt.uuid].some(dr=>dr.id===Gt.id)||Ft[gt.uuid].push(Gt):Ft[gt.uuid]=[Gt]}catch{}}),(Bt=Ft[gt.uuid])!=null&&Bt.length&&this.objectsPerTypes[Dt].push(gt instanceof tr&&(Dt==="MouseDown"||Dt==="MouseUp"||Dt==="MousePress")?_t:gt)}};s.traverseEntity(gt=>{var _t;(gt instanceof Er||gt instanceof cr)&&((_t=gt.frame)==null||_t.traverse(Et=>{j(Et,gt)})),j(gt)}),this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),_.addEventListener("pointerdown",this.onCanvasMouseDown),_.addEventListener("pointerup",this.onCanvasMouseUp),((et=this.objectsPerTypes.MouseDown)!=null&&et.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),_.addEventListener("pointerdown",this.onMouseDown)),(st=this.objectsPerTypes.MouseUp)!=null&&st.length&&(this.domEventsNeeded.add("pointerup"),_.addEventListener("pointerup",this.onMouseUp)),(nt=this.objectsPerTypes.MousePress)!=null&&nt.length&&(this.domEventsNeeded.add("pointerdown"),_.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),_.addEventListener("pointerup",this.onMousePressRelease)),(ct=this.objectsPerTypes.KeyDown)!=null&&ct.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(At=this.objectsPerTypes.KeyUp)!=null&&At.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(mt=this.objectsPerTypes.KeyPress)!=null&&mt.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([gt,_t])=>{_t.forEach(Et=>{Et.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:s}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},s.removeEventListener("pointerdown",this.onCanvasMouseDown),s.removeEventListener("pointerup",this.onCanvasMouseUp),s.removeEventListener("pointerdown",this.onMouseDown),s.removeEventListener("pointerdown",this.onMousePressDown),s.removeEventListener("pointerup",this.onMouseUp),s.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(o=>{Object.values(o).forEach(_=>{_.forEach(j=>{j.disconnect()})})}),this.canvasMouseEvents.forEach(o=>{o.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([o,_])=>{_.forEach(j=>{j.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(s){var ct,At,mt,gt;let{stopRaycast:o,raycaster:_,page:j,pointerScreen:et}=this.eventContext,st=this.objectsPerTypes[s],nt=st.filter(_t=>!(_t instanceof tr));if(!(!st.length&&!this.useForRaycastProperty)&&!(j.uiCanvas&&no(j,[et.x,et.y],Object.keys(this.eventsPerObjects[s]),_t=>{this.handleObjectMouseEventDispatch(_t,s)}))){if(o||this.useForRaycastProperty){let _t;if(this.sceneInterects===null?_t=Lf(_,j,nt,this.useForRaycastProperty):(_t=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&_t.length&&(this.eventContext.sharedAssets.raycastProperty={x:_t[0].point.x,y:_t[0].point.y,z:_t[0].point.z,objX:_t[0].object.matrixWorld.elements[12],objY:_t[0].object.matrixWorld.elements[13],objZ:_t[0].object.matrixWorld.elements[14]}),o){let Et=[((At=(ct=_t[0])==null?void 0:ct.uv)==null?void 0:At.x)??0,((gt=(mt=_t[0])==null?void 0:mt.uv)==null?void 0:gt.y)??0];ag(_t).forEach(Ct=>{Ct instanceof Er&&no(Ct,Et,Object.keys(this.eventsPerObjects[s]),Bt=>{this.handleObjectMouseEventDispatch(Bt,s)}),this.eventsPerObjects[s][Ct.uuid]&&this.handleObjectMouseEventDispatch(Ct,s)})}}o||nt.forEach(_t=>{var Ct,Bt;let Et=Bf(_,_t);Et&&(this.handleObjectMouseEventDispatch(_t,s),_t instanceof Er&&no(_t,[((Ct=Et==null?void 0:Et.uv)==null?void 0:Ct.x)??0,((Bt=Et==null?void 0:Et.uv)==null?void 0:Bt.y)??0],Object.keys(this.eventsPerObjects[s]),Dt=>{this.handleObjectMouseEventDispatch(Dt,s)}))})}}handleMousePressEvent(s=!1){let o="MousePress",_=this.objectsPerTypes[o],j=_.filter(st=>!(st instanceof tr)),et=[];if(_.length){if(!s){let{stopRaycast:st,raycaster:nt,page:ct,pointerScreen:At}=this.eventContext,mt=!1;if(ct.uiCanvas&&(mt=no(ct,[At.x,At.y],Object.keys(this.eventsPerObjects[o]),gt=>{et.push(gt)})),st&&!mt){let gt=Lf(nt,ct,j);et=ag(gt),gt.forEach(_t=>{var Et,Ct;_t.object instanceof Er&&no(_t.object,[((Et=_t==null?void 0:_t.uv)==null?void 0:Et.x)??0,((Ct=_t==null?void 0:_t.uv)==null?void 0:Ct.y)??0],Object.keys(this.eventsPerObjects[o]),Bt=>{et.push(Bt)})})}else j.forEach(gt=>{var Et,Ct;let _t=Bf(nt,gt);_t&&(et.push(gt),gt instanceof Er&&no(gt,[((Et=_t==null?void 0:_t.uv)==null?void 0:Et.x)??0,((Ct=_t==null?void 0:_t.uv)==null?void 0:Ct.y)??0],Object.keys(this.eventsPerObjects[o]),Bt=>{et.push(Bt)}))})}this._prevObjects.length&&this._prevObjects.forEach(st=>{et.includes(st)||this.handleObjectMouseEventDispatchRelease(st,o)}),et.length&&et.forEach(st=>{this.handleObjectMouseEventDispatch(st,o)}),this._prevObjects=et}}handleObjectMouseEventDispatch(s,o){var _,j;s.dispatchEvent({type:"beginEvent",eventName:o}),(j=(_=this.eventsPerObjects[o])==null?void 0:_[s.uuid])==null||j.forEach(et=>{et.dispatch()})}handleObjectMouseEventDispatchRelease(s,o){var _,j;s.dispatchEvent({type:"beginEvent",eventName:o}),(j=(_=this.eventsPerObjects[o])==null?void 0:_[s.uuid])==null||j.forEach(et=>{et.dispatchRelease()})}handleKeyEvent(s,o,_=!1){this.objectsPerTypes[o].forEach(j=>{let et=this.eventsPerObjects[o][j.uuid];et.some(({data:st})=>"key"in st&&st.key===s.key)&&j.dispatchEvent({type:"beginEvent",eventName:o}),et.forEach(st=>{"key"in st.data&&st.data.key===s.key&&(_?st.dispatchRelease():st.dispatch(!0))})})}handleKeyEventHeld(s,o,_=!1){this.objectsPerTypes[o].forEach(j=>{this.eventsPerObjects[o][j.uuid].forEach(et=>{"key"in et.data&&et.data.key===s.key&&et.dispatchHeld(_)})})}},bJ=new E$2,SJ=new E$2,Ab=class{constructor(s,o,_,j,et){this.actionsIn=Kt(s,s.inActions,_,j,et,o),this.actionsOut=Kt(s,s.outActions,_,j,et,o)}disconnect(){ur(this.actionsIn),ur(this.actionsOut)}},BM=class extends Ab{constructor(s,o,_,j,et,st){super(o,_,j,et,st),this.id=s,this.data=o,this.object=_,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let Et of this.objects)if(!Et.visible)return;let mt=bJ.setFromMatrixPosition(this.objects[0].matrixWorld),gt=SJ.setFromMatrixPosition(this.objects[1].matrixWorld),_t=mt.distanceTo(gt)<=this.distance?"in":"out";if(this.stage!==_t){this.stage=_t;let Et=_t==="in"?this.actionsIn:this.actionsOut;Et.Audio.forEach(Ct=>Ct.dispatchConditional()),Et.Particles.forEach(Ct=>Ct.dispatchConditional()),Et.Video.forEach(Ct=>Ct.dispatchConditional()),Et.Link.forEach(Ct=>Ct.dispatch()),Et.Create.forEach(Ct=>Ct.dispatch()),Et.Destroy.forEach(Ct=>Ct.dispatch()),Et.Reset.forEach(Ct=>Ct.dispatch()),Et.Transition.forEach(Ct=>{Ct.object.currentTransitionEvent!==this&&(Ct.object.currentTransitionEvent=this),Ct.init()}),Et.Transition.forEach(Ct=>Ct.play()),Et.Animation.forEach(Ct=>Ct.play()),Et.SwitchCamera.forEach(Ct=>Ct.play()),Et.SceneTransition.forEach(Ct=>Ct.dispatch()),Et.SetVariable.forEach(Ct=>Ct.checkConditions()),Et.SetVariable.forEach(Ct=>Ct.dispatch()),Et.DynamicVariablePlay.forEach(Ct=>Ct.dispatch()),Et.ClearLocalStorage.forEach(Ct=>Ct.dispatch()),Et.UserAPI.forEach(Ct=>Ct.dispatch())}};let{distance:nt,fromObject:ct,toObject:At}=o.condition;this.distance=nt;for(let mt of[ct,At]){if(!mt)throw new Error("Missing property");let gt=j.find(mt);if(!gt)throw new Error("Missing property");this.objects.push(gt)}}connect(){window.setTimeout(()=>{this.objects.forEach(s=>{s.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(s=>{s.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},NM=class extends Ab{constructor(s,o,_,j,et,st){var At;super(o,_,j,et,st),this.id=s,this.data=o,this.object=_,this.onBegin=({target:mt,state:gt})=>{this.toState!==gt&&(this.actionsOut.Audio.forEach(_t=>_t.dispatchConditional()),this.actionsOut.Particles.forEach(_t=>_t.dispatchConditional()),this.actionsOut.Video.forEach(_t=>_t.dispatchConditional()),this.actionsOut.Link.forEach(_t=>_t.dispatch()),this.actionsOut.Create.forEach(_t=>_t.dispatch()),this.actionsOut.Destroy.forEach(_t=>_t.dispatch()),this.actionsOut.Reset.forEach(_t=>_t.dispatch()),this.actionsIn.Transition.forEach(_t=>_t.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(_t=>_t.play()),this.actionsOut.Animation.forEach(_t=>_t.play()),this.actionsIn.SwitchCamera.forEach(_t=>_t.pause()),this.actionsOut.SwitchCamera.forEach(_t=>_t.play()),this.actionsOut.SceneTransition.forEach(_t=>_t.dispatch()),this.actionsOut.SetVariable.forEach(_t=>_t.checkConditions()),this.actionsOut.SetVariable.forEach(_t=>_t.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(_t=>_t.dispatch()),this.actionsOut.ClearLocalStorage.forEach(_t=>_t.dispatch()),this.actionsOut.UserAPI.forEach(_t=>_t.dispatch()))},this.onComplete=({target:mt,state:gt})=>{this.toState===gt&&(this.actionsIn.Audio.forEach(_t=>_t.dispatchConditional()),this.actionsIn.Particles.forEach(_t=>_t.dispatchConditional()),this.actionsIn.Video.forEach(_t=>_t.dispatchConditional()),this.actionsIn.Link.forEach(_t=>_t.dispatch()),this.actionsIn.Create.forEach(_t=>_t.dispatch()),this.actionsIn.Destroy.forEach(_t=>_t.dispatch()),this.actionsIn.Reset.forEach(_t=>_t.dispatch()),this.actionsOut.Transition.forEach(_t=>_t.pause()),this.actionsOut.Transition.forEach(_t=>_t.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(_t=>_t.play()),this.actionsIn.Animation.forEach(_t=>_t.play()),this.actionsOut.SwitchCamera.forEach(_t=>_t.pause()),this.actionsIn.SwitchCamera.forEach(_t=>_t.play()),this.actionsIn.SceneTransition.forEach(_t=>_t.dispatch()),this.actionsIn.SetVariable.forEach(_t=>_t.checkConditions()),this.actionsIn.SetVariable.forEach(_t=>_t.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(_t=>_t.dispatch()),this.actionsOut.ClearLocalStorage.forEach(_t=>_t.dispatch()),this.actionsOut.UserAPI.forEach(_t=>_t.dispatch()))};let{condition:nt}=o;if(!nt.object)throw new Error("Missing property");let ct=j.find(nt.object)??j.scene.find2D(nt.object);if(!ct)throw new Error("Missing property");if(this.toObject=ct,nt.state&&!((At=this.toObject.states)!=null&&At[nt.state]))throw new Error("Missing property");this.toState=nt.state}connect(){ls(this.actionsOut).forEach(s=>{var o;(o=this.actionsOut[s])!=null&&o.length&&this.toObject.addEventListener("beginState",this.onBegin)}),ls(this.actionsIn).forEach(s=>{var o;(o=this.actionsIn[s])!=null&&o.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),ls(this.actionsOut).forEach(s=>{var o;(o=this.actionsIn[s])!=null&&o.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),ls(this.actionsIn).forEach(s=>{var o;(o=this.actionsIn[s])!=null&&o.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},Eb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1}connect(){super.connect();let{page:s,sharedAssets:o}=this.eventContext;s.traverseEntity(_=>{var j;if((j=_.data)!=null&&j.events.length){for(let{id:et,data:st}of _.data.events)if(!st.disabled&&st.type==="Conditional")try{let nt;st.condition.type==="Comparison"||(st.condition.type==="Distance"?nt=new BM(et,st,_,s,o,this.eventManager):st.condition.type==="State"&&(nt=new NM(et,st,_,s,o,this.eventManager))),nt&&(this.eventsPerConditions[st.condition.type].push(nt),(nt.actionsIn.Video.length||nt.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}}),Object.values(this.eventsPerConditions).forEach(_=>_.forEach(j=>j.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(s=>s.forEach(o=>o.disconnect()))}},lg=new E$2,ec=new E$2,iu=new E$2,wN=new Vr,wJ=.01,rr=new E$2,Ii=new E$2,AN=new E$2,nu=new Qe,FM=new ir,AJ=new ue$2,VM=new fr$7,Nf=new E$2,Xo=new E$2,Ff=.2;function UM(s,o){!o||(o[0]<o[1]&&(s.x=Math.min(Math.max(s.x,o[0]),o[1])),o[2]<o[3]&&(s.y=Math.min(Math.max(s.y,o[2]),o[3])),o[4]<o[5]&&(s.z=Math.min(Math.max(s.z,o[4]),o[5])))}var EJ=function(){let s=new ue$2;return(o,_,j)=>{let et=o.obj;s.copy(et.hiddenMatrix),et.parent!==null&&s.premultiply(et.parent.matrixWorld),s.invert(),et.position.copy(_),o.reference==="global"&&UM(et.position,o.limits),et.position.applyMatrix4(s),o.reference==="parent"?UM(et.position,o.limits):o.reference==="local"&&(nu.copy(o.quat0).invert(),et.position.sub(o.position0),et.position.applyQuaternion(nu),UM(et.position,o.limits),nu.invert(),et.position.applyQuaternion(nu),et.position.add(o.position0)),s.multiply(j??et.matrixWorld).decompose(rr,et.quaternion,Ii),et.updateMatrix(),et.hasNonUniformScale&&(et.updateMatrixWorld(),et.updateMatrixWorldSVD()),et instanceof mr&&En(et.parent)&&et.invalidateDownstreamBooleanData(!0)}}(),zM=class{constructor(s,o,_,j,et,st,nt){this.object=s,this.id=o,this.data=_,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=Kt(_,_.dragDropActions.drag,j,et,st,this.object),this.actionsDrop=Kt(_,_.dragDropActions.drop,j,et,st,this.object);let ct=[];this.data.objects.forEach(At=>{let mt=j.find(At);!mt||mt.data.visible!==!1&&(ct.push(mt),nt[mt.uuid]&&nt[mt.uuid].forEach(gt=>{let _t=j.find(gt);!_t||_t.data.visible!==!1&&ct.push(_t)}))}),this.data.dropDestinations.forEach(At=>{let mt=j.find(At);!mt||mt.data.visible!==!1&&(this.dropDestIds.push(mt.uuid),nt[mt.uuid]&&nt[mt.uuid].forEach(gt=>{let _t=j.find(gt);!_t||_t.data.visible!==!1&&this.dropDestIds.push(_t.uuid)}))}),this.dragItems=ct.map(At=>(this.data.planeMode==="locked"&&(At.userData.lockedPlane=!0),At.userData.worldPosition0=new E$2().setFromMatrixPosition(At.matrixWorld),{obj:At,fromPosition:new E$2().setFromMatrixPosition(At.matrixWorld),pointStart:new E$2,pointEnd:new E$2,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new E$2().copy(At.position),quat0:new Qe().copy(At.quaternion),snapped:!1,orientationMatrix:new ue$2,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){ur(this.actionsDrag),ur(this.actionsDrop),this.dragItems.forEach(s=>{s.fromPosition.copy(s.obj.userData.worldPosition0),s.pointStart.copy(s.fromPosition),s.pointEnd.copy(s.pointStart),s.obj.recursiveBBoxNeedsUpdate=!0,s.obj.userData.lockedPlane=void 0,s.obj.position.copy(s.position0),s.obj.quaternion.copy(s.quat0),s.obj.updateMatrix()})}},Mb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=_=>{var nt;if(Je.length>1)return;this.eventContext.updateRaycaster(_);let{raycaster:j,page:et}=this.eventContext,st=et.raycastWithClones(j);if(this.lastDropDestination=null,st.length===0){this.activeEvent=null;return}for(let ct of this.events){let At=0;for(let{obj:mt,pointEnd:gt,pointStart:_t}of ct.dragItems){if(mt===st[0].object||mt===st[0].object.object||yt.is(mt)&&mt.isAncestorOf(st[0].object.uuid)){if(ct.activeIdx=At,ct.activeDragItem.reset=!1,ct.activeDragItem.currentDampingFactor=ct.data.dampingFactor,ct.activeDragItem.snapped=!1,ct.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){ct.activeDragItem.obj.rigidBody&&ct.activeDragItem.obj.rigidBody.setBodyType(2,!0);let Et=ct.activeDragItem.obj;mt.hasNonUniformScale&&mt.updateMatrixWorldSVD(),(Et.hasNonUniformScale?Et.matrixWorldRigid:Et.matrixWorld).decompose(rr,nu,Ii),FM.setFromQuaternion(nu),Et.prevR===void 0?(Et.prevR=FM.clone(),Et.prevT=rr.clone()):(Et.prevR.copy(FM),Et.prevT.copy(rr)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(ct.activeDragItem.obj)}this.calcPlaneIntersectPos(mt,_t,ct.data.plane,ct.data.referenceFrame),gt.copy(_t),(this.eventManager.controlsManager.usePhysics&&((nt=mt.data.physics)==null?void 0:nt.rigidBody)==="dynamic"||ct.data.drop===!1||ct.data.resetOnSnapFail===!1)&&ct.activeDragItem.fromPosition.setFromMatrixPosition(ct.activeDragItem.obj.matrixWorld),this.activeEvent=ct,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}At++}}this.activeEvent=null},this.onPointerMove=_=>{var nt,ct,At,mt;if(Je.length>1)return;this.eventContext.updateRaycaster(_);let{raycaster:j,page:et}=this.eventContext,st=et.raycastWithClones(j);if(Je.length===0){let gt=!1;for(let _t of this.events){for(let{obj:Et}of _t.dragItems)if(Et===((nt=st[0])==null?void 0:nt.object)||Et===((At=(ct=st[0])==null?void 0:ct.object)==null?void 0:At.object)||yt.is(Et)&&Et.isAncestorOf((mt=st[0])==null?void 0:mt.object.uuid)){switch(gt=!0,_t.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break}break}if(gt)break}gt||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let gt=this.activeEvent.activeDragItem;gt.snapped=!1;let _t;if(this.activeEvent.data.drop&&(_t=st.filter(Et=>gt.obj!==Et.object&&!gt.obj.isAncestorOf(Et.object.uuid)&&!(Et.object instanceof ws)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(Ct=>Ct===Et.object.uuid||et.scene.find(Ct).isAncestorOf(Et.object.uuid))))[0]),_t){let Et=AN.copy(_t.face.normal).applyMatrix3(VM.getNormalMatrix(_t.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")gt.fromPosition.setFromMatrixPosition(_t.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(gt.fromPosition.copy(_t.point),this.activeEvent.data.snapSurfaceMode==="bbox"){rr.copy(Et).applyMatrix3(VM.setFromMatrix4(gt.obj.matrixWorld).transpose());let Ct=gt.obj;rr.x>Ff?Ii.x=-Ct.recursiveBBox.min.x:rr.x<-Ff&&(Ii.x=-Ct.recursiveBBox.max.x),rr.y>Ff?Ii.y=-Ct.recursiveBBox.min.y:rr.y<-Ff&&(Ii.y=-Ct.recursiveBBox.max.y),rr.z>Ff?Ii.z=-Ct.recursiveBBox.min.z:rr.z<-Ff&&(Ii.z=-Ct.recursiveBBox.max.z),Ii.applyMatrix3(VM.invert())}else Ii.copy(Et).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);gt.fromPosition.add(Ii)}this.activeEvent.data.autoOrient&&(rr.set(0,1,0).cross(Et),rr.length()<1e-4&&rr.set(-1,0,0).cross(Et),Ii.crossVectors(AN,rr),gt.orientationMatrix.makeBasis(rr,Ii,Et)),gt.pointStart.copy(gt.fromPosition),gt.pointEnd.copy(gt.pointStart),gt.currentDampingFactor=this.activeEvent.snapDampingFactor,gt.snapped=!0,this.lastDropDestination!==_t.object&&(this.lastDropDestination=_t.object,this.activeEvent.actionsDrop.Transition.forEach(Ct=>{Ct.play()}),this.activeEvent.actionsDrop.Animation.forEach(Ct=>{Ct.play()}),this.activeEvent.actionsDrop.Audio.forEach(Ct=>{Ct.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Particles.forEach(Ct=>{Ct.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(Ct=>{Ct.dispatchThrottled()}))}else gt.orientationMatrix.makeRotationFromQuaternion(gt.quat0),this.lastDropDestination=null,gt.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(gt.obj,gt.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(Et=>{Et.stop(),Et.object.currentState!==null&&Et.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(Et=>{Et.stop()}),this.activeEvent.actionsDrop.Audio.forEach(Et=>{Et.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.Particles.forEach(Et=>{Et.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(Et=>{Et.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(Et=>Et.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(Et=>Et.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(Et=>Et.dispatch()),this.activeEvent.actionsDrag.ClearLocalStorage.forEach(Et=>Et.dispatch()),this.activeEvent.actionsDrag.UserAPI.forEach(Et=>Et.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(Et=>{Et.play()}),this.activeEvent.actionsDrag.Animation.forEach(Et=>{Et.play()}),this.activeEvent.actionsDrag.Audio.forEach(Et=>{Et.dispatchGameControl("start")}),this.activeEvent.actionsDrag.Particles.forEach(Et=>{Et.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(Et=>{Et.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(Et=>{Et.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(Et=>{Et.stop(),Et.object.currentState!==null&&Et.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(Et=>{Et.stop()}))},500),this.updateDragItem(gt),gt.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=_=>{var j;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let et=((j=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:j.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!et)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&et&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(st=>{st.stop(),st.object.currentState!==null&&st.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(st=>{st.stop()}),this.activeEvent.actionsDrag.Audio.forEach(st=>{st.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Particles.forEach(st=>{st.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(st=>st.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(st=>st.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(st=>st.dispatch()),this.activeEvent.actionsDrop.ClearLocalStorage.forEach(st=>st.dispatch()),this.activeEvent.actionsDrop.UserAPI.forEach(st=>st.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}}}connect(){let s={};if(this.eventContext.page.traverseEntity(_=>{_.component&&(s[_.component.uuid]?s[_.component.uuid].push(_.uuid):s[_.component.uuid]=[_.uuid])}),this.eventContext.page.traverseEntity(_=>{var j;(j=_.data)==null||j.events.filter(et=>et.data.type==="DragDrop"&&!et.data.disabled).forEach(et=>{this.events.push(new zM(_,et.id,et.data,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager,s))})}),!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let o=this.eventContext.domElement;o.addEventListener("pointerdown",this.onPointerDown),o.addEventListener("pointermove",this.onPointerMove),o.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let s=this.eventContext.domElement;s.removeEventListener("pointerdown",this.onPointerDown),s.removeEventListener("pointermove",this.onPointerMove),s.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(o=>o.dispose())}setCursor(s){this.eventContext.domElement.style.cursor=s}onAnimationFrameDamping(){for(let s of this.events)for(let o of s.dragItems)o.paused||this.updateDragItem(o,!0)}calcPlaneIntersectPos(s,o,_,j){let{getCamera:et,raycaster:st}=this.eventContext;et().getWorldDirection(ec),ec.negate();let nt=nu.identity();switch(j==="parent"?AJ.multiplyMatrices(s.parent.matrixWorld,s.hiddenMatrix).decompose(rr,nt,Ii):j==="local"&&s.matrixWorld.decompose(rr,nt,Ii),_){case"x":rr.set(1,0,0).applyQuaternion(nt),Nf.copy(ec).cross(rr),Xo.copy(rr).cross(Nf);break;case"y":rr.set(0,1,0).applyQuaternion(nt),Nf.copy(ec).cross(rr),Xo.copy(rr).cross(Nf);break;case"z":rr.set(0,0,1).applyQuaternion(nt),Nf.copy(ec).cross(rr),Xo.copy(rr).cross(Nf);break;case"xy":Xo.set(0,0,1).applyQuaternion(nt);break;case"yz":Xo.set(1,0,0).applyQuaternion(nt);break;case"xz":Xo.set(0,1,0).applyQuaternion(nt);break;case"adaptive":ec.angleTo(Ii.set(0,1,0))>Math.PI/6?(rr.crossVectors(Ii.set(0,1,0),ec),Xo.crossVectors(rr,Ii)):Xo.set(0,1,0);break;default:Xo.copy(ec);break}iu.setFromMatrixPosition(s.matrixWorld);let ct=s.userData.lockedPlane?s.userData.worldPosition0:iu;if(wN.setFromNormalAndCoplanarPoint(Xo,ct),!!st.ray.intersectPlane(wN,o)&&(_==="x"||_==="y"||_==="z")){let At=Ii.subVectors(o,ct).dot(rr);o.copy(ct).addScaledVector(rr,At)}}updateDragItem(s,o=!1){var _,j;iu.setFromMatrixPosition(s.obj.matrixWorld),s.reset==="current"?lg.subVectors(s.fromPosition,iu).divideScalar(s.currentDampingFactor):s.reset==="original"?(lg.subVectors(s.obj.userData.worldPosition0,iu).divideScalar(s.currentDampingFactor),s.fromPosition.copy(s.obj.userData.worldPosition0),s.pointStart.copy(s.fromPosition),s.pointEnd.copy(s.pointStart)):lg.subVectors(s.pointEnd,s.pointStart).add(s.fromPosition).sub(iu).divideScalar(s.currentDampingFactor),s.paused=s.currentDampingFactor>1?lg.length()<wJ:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||o)&&EJ(s,lg.add(iu),(_=this.activeEvent)!=null&&_.data.drop&&((j=this.activeEvent)!=null&&j.data.autoOrient)?s.orientationMatrix:null),s.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Vf=new E$2,kM=new E$2,Ua=new E$2,za=new E$2,EN=new Vr,MJ=.01,TJ={type:"requestRender"},CJ$1=function(){let s=new E$2,o=new E$2;return(_,j,et)=>et>0?(s.subVectors(_,j),s.length()<=et?_:o.copy(j).add(s.normalize().multiplyScalar(et))):j}(),MN=function(){let s=new ue$2;return(o,_)=>{o.position.copy(_),o.parent!==null&&(s.copy(o.parent.matrixWorld).invert(),o.position.applyMatrix4(s)),s.copy(o.hiddenMatrix).invert(),o.position.applyMatrix4(s),o.updateMatrix(),o.hasNonUniformScale&&(o.updateMatrixWorld(),o.updateMatrixWorldSVD()),o instanceof mr&&En(o.parent)&&o.invalidateDownstreamBooleanData(!0)}}(),GM=class{constructor(s,o,_,j,et,st){this.data=s,this.id=o,this.object=_,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new E$2,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...Cv.defaultData,...s,...s.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},s.target===void 0||s.target==="cursor"||(this.target=j.find(s.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=Kt(s,s.actions,j,et,st,_)}},Tb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.events=[],this.pairOfEventListeners=[],this.onMouseMove=_=>{if(!(Je.length>1)){this.eventContext.updateRaycaster(_);for(let j of this.events)j.target===void 0&&this.updateSingleEvent(j)}},this.onMouseEnter=_=>{for(let j of this.events)j.target===void 0&&(j.isReset=!1,j.currentDampingFactor=j.data.dampingFactor)},this.onMouseLeave=_=>{for(let j of this.events)j.target===void 0&&(j.data.resetOnPointerLeave&&(j.isReset=!0,j.currentDampingFactor=j.resetDampingFactor),this.updateSingleEvent(j))},this.onTargetChange=_=>()=>{this.updateSingleEvent(_)}}connect(){let{page:s}=this.eventContext;if(s.traverseEntity(j=>{var st,nt;let et=(st=j.data)==null?void 0:st.events.find(ct=>ct.data.type==="Follow"&&!ct.data.disabled);et&&(!s.data.globalPhysics.usePhysics||((nt=j.dataPatched.physics)==null?void 0:nt.rigidBody)!=="dynamic")&&this.events.push(new GM(et.data,et.id,j,s,this.eventContext.sharedAssets,this.eventManager))}),!this.events.length)return;let{domElement:o,eventElement:_}=this.eventContext;this.domEventsNeeded.clear(),Ci&&(this.domEventsNeeded.add("pointerdown"),o.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),_.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(o.addEventListener("pointerenter",this.onMouseEnter),o.addEventListener("pointerleave",this.onMouseLeave));for(let j of this.events)if(j.target!==void 0){let et=j.target,st=this.onTargetChange(j);this.pairOfEventListeners.push([et,st]),et.addEventListener("requestRender",st)}}disconnect(){if(!this.events.length)return;let{domElement:s,eventElement:o}=this.eventContext;this.domEventsNeeded.clear(),Ci&&s.removeEventListener("pointerdown",this.onMouseMove),o.removeEventListener("pointermove",this.onMouseMove),s.removeEventListener("pointerenter",this.onMouseEnter),s.removeEventListener("pointerleave",this.onMouseLeave);for(let[_,j]of this.pairOfEventListeners)_.removeEventListener("requestRender",j);for(let _ of this.events)_.paused=!0,_.isReset=!1,ur(_.actions)}onAnimationFrameDamping(){for(let s of this.events)s.paused||this.updateSingleEvent(s,!0)}updateSingleEvent(s,o=!1){var nt;this.events.forEach(ct=>{ct.actions.Create.forEach(At=>{At.dispatchThrottled()})});let{plane:_,limitDistance:j,limitDistanceEnabled:et}=s.data;if(s.object.getWorldPosition(Ua),s.isReset)za.copy(s.worldPosition0);else if(s.target)s.target.getWorldPosition(za);else{let{getCamera:ct,raycaster:At}=this.eventContext;if(_==="custom"?(ct().getWorldDirection(kM),kM.negate(),Vf.copy(kM)):_==="xy"?Vf.set(0,0,1):_==="xz"?Vf.set(0,1,0):_==="yz"&&Vf.set(1,0,0),EN.setFromNormalAndCoplanarPoint(Vf,Ua),!At.ray.intersectPlane(EN,za))return}if(!s.isReset){if(za.distanceTo(s.worldPosition0)>j&&et&&s.target)if(s.snapComplete=!1,s.data.snapDelay&&(s.delayFinished=!1,typeof window<"u"&&s.timeoutId!==null&&(window.clearTimeout(s.timeoutId),s.timeoutId=null)),s.wasOutside=!0,s.data.resetAfterDistanceLimit)za.copy(s.worldPosition0),s.currentDampingFactor=s.resetDampingFactor;else return;else if(s.wasOutside&&(s.data.snapDelay&&typeof window<"u"&&(s.timeoutId=window.setTimeout(()=>{s.delayFinished=!0,s.paused=!1,this.updateSingleEvent(s)},s.data.snapDelay*1e3)),s.currentDampingFactor=s.data.dampingFactor,s.wasOutside=!1),s.delayFinished===!1)return}s.data.enabledTranslation[0]===!1&&(za.x=Ua.x),s.data.enabledTranslation[1]===!1&&(za.y=Ua.y),s.data.enabledTranslation[2]===!1&&(za.z=Ua.z);let st=CJ$1(Ua,za,s.wasOutside?0:s.data.maxDelta);if(s.currentDampingFactor>1){let ct=Vf.subVectors(st,Ua).divideScalar(s.currentDampingFactor);Ua.add(ct),o&&MN(s.object,Ua),s.paused=ct.length()<MJ}else MN(s.object,st),s.paused=!0;(nt=s.object)==null||nt.dispatchEvent({type:"beginEvent",eventName:"Follow"}),s.object.dispatchEvent(TJ)}},cg=new E$2,Cb=new E$2,ug=new ue$2,Uf=new Qe,tc=new Qe,hg=new E$2,dg=new E$2,su=new E$2,ka=new E$2,jM=new Vr,PJ=1e-6,_J={type:"requestRender"},DJ={type:"changeRotation"},TN=function(){let s=new ue$2;return function(o,_){o.parent!==null?s.multiplyMatrices(o.parent.matrixWorld,o.hiddenMatrix):s.copy(o.hiddenMatrix),_.premultiply(OM(s).invert()),o.rotation.setFromRotationMatrix(_),o.updateMatrix(),o instanceof mr&&En(o.parent)&&o.invalidateDownstreamBooleanData(!0)}}(),HM=class{constructor(s,o,_,j){this.id=o,this.object=_,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Qe,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...Pv.defaultData,...s,...s.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},s.target===void 0||s.target==="cursor"||(this.target=j.find(s.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},Pb=class extends hr$1{constructor(){super(...arguments),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=s=>{if(!(Je.length>1)){this._lastMouseEvent=s,this.eventContext.updateRaycaster(s);for(let o of this.events)o.target===void 0&&this.updateSingleEvent(o)}},this.onMouseEnter=s=>{for(let o of this.events)o.target===void 0&&(o.isReset=!1,o.currentDampingFactor=o.data.dampingFactor)},this.onMouseLeave=s=>{for(let o of this.events)o.target===void 0&&(o.data.resetOnPointerLeave&&(o.isReset=!0,o.currentDampingFactor=o.resetDampingFactor),this.updateSingleEvent(o))},this.onScroll=s=>{if(this._lastMouseEvent){let o=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(o)}},this.onTargetChange=s=>()=>{this.updateSingleEvent(s)},this.createUserEventListener=s=>({eventName:o,target:_})=>{if(!o||!_)return;let j=Yo(o);j&&j==="LookAt"&&this.updateSingleEvent(s)}}connect(){let{page:s}=this.eventContext;if(s.traverseEntity(j=>{var st,nt;let et=(st=j.data)==null?void 0:st.events.find(ct=>ct.data.type==="LookAt"&&!ct.data.disabled);et&&(!s.data.globalPhysics.usePhysics||((nt=j.dataPatched.physics)==null?void 0:nt.rigidBody)!=="dynamic")&&this.events.push(new HM(et.data,et.id,j,s))}),!this.events.length)return;let{domElement:o,eventElement:_}=this.eventContext;this.domEventsNeeded.clear(),Ci&&(this.domEventsNeeded.add("pointerdown"),o.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),_.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?_.addEventListener("scroll",this.onScroll):(o.addEventListener("pointerenter",this.onMouseEnter),o.addEventListener("pointerleave",this.onMouseLeave));for(let j of this.events){if(j.target!==void 0){let nt=this.onTargetChange(j),ct=j.target;this.pairOfEventListeners.push([ct,nt]),ct.addEventListener("requestRender",nt)}let et=this.createUserEventListener(j),st=j.object;this.pairOfUserEventListeners.push([st,et]),st.addEventListener("userEvent",et)}}disconnect(){if(!this.events.length)return;let{domElement:s,eventElement:o}=this.eventContext;this.domEventsNeeded.clear(),Ci&&s.removeEventListener("pointerdown",this.onMouseMove),o.removeEventListener("pointermove",this.onMouseMove),s.removeEventListener("pointerenter",this.onMouseEnter),s.removeEventListener("pointerleave",this.onMouseLeave),o.removeEventListener("scroll",this.onScroll);for(let[_,j]of this.pairOfEventListeners)_.removeEventListener("requestRender",j);for(let[_,j]of this.pairOfUserEventListeners)_.removeEventListener("userEvent",j);for(let _ of this.events)_.paused=!0,_.isReset=!1}onAnimationFrameDamping(){for(let s of this.events)s.paused||this.updateSingleEvent(s)}updateSingleEvent(s){var Et;let{tilt:o,axis:_,distance:j,plane:et,limitDistance:st,enabledRotation:nt,limitDistanceEnabled:ct}=s.data,{getCamera:At,raycaster:mt}=this.eventContext,{object:gt,target:_t}=s;if(gt.getWorldPosition(hg),!s.isReset)if(s.target)s.target.getWorldPosition(dg);else{if(et==="custom"?(At().getWorldDirection(Cb),Cb.negate(),jM.setFromNormalAndCoplanarPoint(Cb,hg)):(et==="xy"?cg.set(0,0,1):et==="xz"?cg.set(0,1,0):et==="yz"&&cg.set(1,0,0),jM.setFromNormalAndCoplanarPoint(cg,hg)),!mt.ray.intersectPlane(jM,dg))return;j>0&&(et==="custom"||et===void 0)&&dg.addScaledVector(Cb,j)}if(s.isReset||(_t?o==="target"?su.copy(_t.up).applyMatrix4(ug.extractRotation(_t.matrixWorld)).normalize():nt.some(Ct=>Ct===!1)?(_==="x"?(ka.set(0,0,1),nt[2]===!1&&ka.set(0,1,0)):_==="y"?(ka.set(1,0,0),nt[0]===!1&&ka.set(0,0,1)):(ka.set(0,1,0),nt[1]===!1&&ka.set(1,0,0)),su.copy(ka).applyQuaternion(s.worldQuaternion0).normalize()):su.set(0,1,0):et==="custom"?su.set(0,1,0):su.copy(cg)),s.isReset)tc.copy(s.worldQuaternion0);else if(hg.distanceTo(dg)>st&&ct&&_t)if(s.data.snapDelay&&(s.delayFinished=!1,typeof window<"u"&&s.timeoutId!==null&&(window.clearTimeout(s.timeoutId),s.timeoutId=null)),s.wasOutside=!0,s.data.resetAfterDistanceLimit)tc.copy(s.worldQuaternion0),s.currentDampingFactor=s.resetDampingFactor;else return;else{if(s.wasOutside&&(s.data.snapDelay&&typeof window<"u"&&(s.timeoutId=window.setTimeout(()=>{s.delayFinished=!0,s.paused=!1,this.updateSingleEvent(s)},s.data.snapDelay*1e3)),s.currentDampingFactor=s.data.dampingFactor,s.wasOutside=!1),s.delayFinished===!1)return;IJ(ug,dg,hg,su,_,ka),tc.setFromRotationMatrix(ug),Uf.setFromUnitVectors(ka.applyQuaternion(tc),su),nt.some(Ct=>Ct===!1)&&o!=="target"&&tc.premultiply(Uf).normalize()}s.currentDampingFactor>1?(gt.updateWorldMatrix(!0,!1),Uf.setFromRotationMatrix(OM(gt.matrixWorld)),Uf.slerp(tc,1/s.currentDampingFactor),TN(gt,ug.makeRotationFromQuaternion(Uf)),s.paused=8*(1-Uf.dot(tc))<PJ):(TN(gt,ug.makeRotationFromQuaternion(tc)),s.paused=!0),(Et=s.object)==null||Et.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),gt.dispatchEvent(_J),gt.dispatchEvent(DJ)}},Ts=new E$2,Oi=new E$2,li=new E$2;function IJ(s,o,_,j,et,st){let nt=s.elements;li.subVectors(o,_),li.lengthSq()===0&&(li.z=1),li.normalize(),Oi.crossVectors(j,li),Oi.lengthSq()===0&&(Math.abs(j.z)===1?li.x+=1e-4:li.z+=1e-4,li.normalize(),Oi.crossVectors(j,li)),Oi.normalize(),Ts.crossVectors(li,Oi),et==="x"?st.z===1?[Oi,Ts,li]=[li,Oi,Ts]:(Oi.negate(),[Oi,li]=[li,Oi]):et==="y"?st.x===1?[Oi,Ts,li]=[Ts,li,Oi]:(Oi.negate(),[Ts,li]=[li,Ts]):st.x===1&&(Oi.negate(),[Oi,Ts]=[Ts,Oi]),nt[0]=Oi.x,nt[4]=Ts.x,nt[8]=li.x,nt[1]=Oi.y,nt[5]=Ts.y,nt[9]=li.y,nt[2]=Oi.z,nt[6]=Ts.z,nt[10]=li.z}var WM=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.entered=!1,this.actions=Kt(o,o.actions,j,et,st,_)}disconnect(){ur(this.actions)}dispatchEnter(){this.actions.Transition.forEach(s=>{s.object.currentTransitionEvent!==this&&(s.object.currentTransitionEvent=this,s.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(s=>s.playFromCurrent()),this.actions.Animation.forEach(s=>s.play()),this.actions.Create.forEach(s=>s.dispatchStart()),this.actions.Particles.forEach(s=>s.dispatchBasic()),this.actions.Destroy.forEach(s=>s.dispatch()),this.actions.SwitchCamera.forEach(s=>s.playFromCurrent()),this.actions.SceneTransition.forEach(s=>s.dispatch()),this.actions.SetVariable.forEach(s=>s.checkConditions()),this.actions.SetVariable.forEach(s=>s.dispatch()),this.actions.DynamicVariablePlay.forEach(s=>s.dispatch()),this.actions.ClearLocalStorage.forEach(s=>s.dispatch()),this.actions.UserAPI.forEach(s=>s.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(s=>{s.object.currentTransitionEvent!==this&&(s.object.currentTransitionEvent=this,s.init())}),this.entered&&(this.entered=!1,this.actions.Create.forEach(s=>s.dispatchStop()),this.actions.Transition.forEach(s=>s.reverseFromCurrent()),this.actions.Particles.forEach(s=>s.reverseFromCurrent()),this.actions.SwitchCamera.forEach(s=>s.reverseFromCurrent()))}dispatchUserEvent(s){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),s?(this.actions.Transition.forEach(o=>o.reverseFromCurrent()),this.actions.Particles.forEach(o=>o.reverseFromCurrent()),this.actions.Animation.forEach(o=>o.reverseFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.reverseFromCurrent())):(this.actions.Transition.forEach(o=>o.playFromCurrent()),this.actions.Animation.forEach(o=>o.playFromCurrent()),this.actions.Create.forEach(o=>o.dispatch()),this.actions.Particles.forEach(o=>o.dispatchBasic()),this.actions.Destroy.forEach(o=>o.dispatch()),this.actions.SwitchCamera.forEach(o=>o.playFromCurrent())),this.actions.SceneTransition.forEach(o=>o.dispatch()),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch())}},_b=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=_=>{Je.length>1||(this.eventContext.updateRaycaster(_),this.handleMouseHoverEvent())},this.onMouseUp=_=>{Je.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=_=>{Je.length>1||(this.eventContext.updateRaycaster(_),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:_,target:j,reverse:et})=>{var nt;if(!_||!j)return;let st=Yo(_);st&&st==="MouseHover"&&(j.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(nt=this.eventsPerObjects[j.uuid])==null||nt.forEach(ct=>ct.dispatchUserEvent(et)))}}connect(){let{page:s,sharedAssets:o}=this.eventContext,_=(et,st)=>{var nt,ct;if(!(!et.visible||!((nt=et.data)!=null&&nt.events.length))){for(let{id:At,data:mt}of et.data.events)if(!mt.disabled&&mt.type==="MouseHover")try{let gt=new WM(At,mt,et,s,o,this.eventManager);this.eventsPerObjects[et.uuid]?this.eventsPerObjects[et.uuid].push(gt):this.eventsPerObjects[et.uuid]=[gt]}catch{}(ct=this.eventsPerObjects[et.uuid])!=null&&ct.length&&this.objects.push(et instanceof tr?st:et)}};if(s.traverseEntity(et=>{var st;(et instanceof Er||et instanceof cr)&&((st=et.frame)==null||st.traverse(nt=>{_(nt,et)})),_(et)}),!this.objects.length)return;let{domElement:j}=this.eventContext;this.domEventsNeeded.clear(),Ci&&(this.domEventsNeeded.add("pointerdown"),j.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),j.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),j.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(et=>{et.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:s}=this.eventContext;this.domEventsNeeded.clear(),Ci&&(s.removeEventListener("pointerdown",this.onMouseDown),s.removeEventListener("pointerup",this.onMouseUp)),s.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(o=>{o.forEach(_=>{_.disconnect()})}),this.objects.forEach(o=>{o.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(s=!1){let o=[];if(!s){let{stopRaycast:_,raycaster:j,page:et,pointerScreen:st}=this.eventContext,nt=!1;if(et.uiCanvas&&(nt=no(et,[st.x,st.y],Object.keys(this.eventsPerObjects),ct=>{o.push(ct)})),_&&!nt){let ct=Lf(j,et,this.objects);o=ag(ct),ct.forEach(At=>{var mt,gt;At.object instanceof Er&&no(At.object,[((mt=At==null?void 0:At.uv)==null?void 0:mt.x)??0,((gt=At==null?void 0:At.uv)==null?void 0:gt.y)??0],Object.keys(this.eventsPerObjects),_t=>{o.push(_t)})})}else this.objects.forEach(ct=>{var mt,gt;let At=Bf(j,ct);At&&(o.push(ct),ct instanceof Er&&no(ct,[((mt=At==null?void 0:At.uv)==null?void 0:mt.x)??0,((gt=At==null?void 0:At.uv)==null?void 0:gt.y)??0],Object.keys(this.eventsPerObjects),_t=>{o.push(_t)}))})}this._prevObjects.length&&this._prevObjects.forEach(_=>{var j;o.includes(_)||(_.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(j=this.eventsPerObjects[_.uuid])==null||j.forEach(et=>et.dispatchLeave()))}),o.length&&o.forEach(_=>{var j;_.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(j=this.eventsPerObjects[_.uuid])==null||j.forEach(et=>et.dispatchEnter())}),this._prevObjects=o}},qM=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.scrollCounter=0,this.actions=Kt(o,o.actions,j,et,st,_)}connect(){this.scrollCounter=0}disconnect(){ur(this.actions)}dispatch(s){this.actions.Transition.forEach(j=>{j.object.currentTransitionEvent!==this&&(j.object.currentTransitionEvent=this,j.init())});let o=s>0?1:-1;this.scrollCounter+=o,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let _=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(j=>j.seek(_)),this.actions.Animation.forEach(j=>j.seek(o)),this.actions.Create.forEach(j=>j.dispatchThrottled()),this.actions.SetVariable.forEach(j=>j.checkConditions()),this.actions.SetVariable.forEach(j=>j.dispatch()),this.actions.DynamicVariablePlay.forEach(j=>j.dispatch()),this.actions.ClearLocalStorage.forEach(j=>j.dispatch()),this.actions.UserAPI.forEach(j=>j.dispatch())}dispatchUserEvent(s){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),s?(this.actions.Transition.forEach(o=>o.reverseFromCurrent()),this.actions.Animation.forEach(o=>o.reverseFromCurrent())):(this.actions.Transition.forEach(o=>{o.playFromCurrent()}),this.actions.Animation.forEach(o=>{o.playFromCurrent()})),this.actions.Create.forEach(o=>o.dispatchThrottled()),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch())}},YM=class{constructor(s,o,_,j,et,st,nt){this.id=s,this.data=o,this.object=_,this.domElement=st,this.eventManager=nt,this.scrollStart=0,this.scrollEnd=0,this.actions=Kt(o,o.actions,j,et,nt,_)}getStickyParentElement(){let s=this.domElement;for(;s;){if(window.getComputedStyle(s).position==="sticky")return s;s=s.parentElement}return null}computeScrollBounds(){let s=this.getStickyParentElement(),o=s==null?void 0:s.parentElement,_=this.domElement.getBoundingClientRect(),j={top:_.top,bottom:_.bottom,left:_.left,right:_.right,width:_.width,height:_.height};if(o){let mt=o.getBoundingClientRect(),gt=window.getComputedStyle(s),_t=parseFloat(gt.marginTop)+parseFloat(gt.marginBottom),Et=parseFloat(gt.top),Ct=parseFloat(gt.bottom),Bt=mt.height-_t;if(!isNaN(Et))_.top===Et?(j.top+=mt.top-Et,j.bottom+=mt.top-Et):_.top<0&&(j.top-=Bt-_.height,j.bottom-=Bt-_.height);else if(!isNaN(Ct)){let Dt=document.body.clientHeight??window.innerHeight,Ft=window.innerWidth-(document.documentElement.clientWidth??window.innerWidth);_.bottom===Dt-Ct?(j.top+=mt.top-_.height+Ct+Ft,j.bottom+=mt.top-_.height+Ct+Ft):_.bottom<Dt-Ct&&(j.top-=Bt-_.height,j.bottom-=Bt-_.height)}}let et=document.body,st=document.documentElement,nt=window.pageYOffset||st.scrollTop||et.scrollTop,ct=st.clientTop||et.clientTop||0,At=Math.round(j.top+nt-ct);if(this.data.startFrom==="enter"){let mt=window.innerHeight,gt=j.height,_t=this.data.enterAnchor,Et=_t==="top"?mt:_t==="bottom"?mt-gt:mt-gt*.5;this.scrollStart=At-Et}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=j,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){ur(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:s,y:o}){this.actions.Transition.forEach(et=>{et.object.currentTransitionEvent!==this&&(et.object.currentTransitionEvent=this,et.init())});let _=this.scrollEnd-this.scrollStart,j=Math.min(1,Math.max(0,(o-this.scrollStart)/_));this.actions.Transition.forEach(et=>et.seek(j)),this.actions.Animation.forEach(et=>et.seek(j)),this.actions.Create.forEach(et=>et.dispatchThrottled()),this.actions.SetVariable.forEach(et=>et.checkConditions()),this.actions.SetVariable.forEach(et=>et.dispatch()),this.actions.DynamicVariablePlay.forEach(et=>et.dispatch()),this.actions.ClearLocalStorage.forEach(et=>et.dispatch()),this.actions.UserAPI.forEach(et=>et.dispatch())}dispatch(s){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(s)}dispatchUserEvent(s){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),s?(this.actions.Transition.forEach(o=>o.reverseFromCurrent()),this.actions.Animation.forEach(o=>o.reverseFromCurrent())):(this.actions.Transition.forEach(o=>{o.playFromCurrent()}),this.actions.Animation.forEach(o=>{o.playFromCurrent()})),this.actions.Create.forEach(o=>o.dispatchThrottled()),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch())}},Db=class extends hr$1{constructor(s,o){super(s),this.managers=o,this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([_,j])=>{j.forEach(et=>et.handleResize())})},this.onScroll=_=>{if(!this.isInview)return;let j={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([et,st])=>{et.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:j}),st.forEach(nt=>nt.dispatch(j))})},this.onWheel=_=>{!this.isInview||_.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([j,et])=>{j.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:_.deltaY}),et.forEach(st=>st.dispatch(_.deltaY))})},this.onUserEvent=({eventName:_,target:j,reverse:et})=>{var nt;if(!_||!j)return;let st=Yo(_);st&&st==="Scroll"&&(j.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(nt=this.wheelEventsPerObject.get(j))==null||nt.forEach(ct=>{ct.dispatchUserEvent(et)}))}}connect(){let{page:s,sharedAssets:o,domElement:_,isExport:j}=this.eventContext,et=st=>{var nt,ct,At;if((nt=st.data)!=null&&nt.events.length){for(let{id:mt,data:gt}of st.data.events)if(!gt.disabled&&gt.type==="Scroll")if(gt.trigger==="load"||!j){let _t=new qM(mt,gt,st,s,o,this.managers);this.wheelEventsPerObject.has(st)?(ct=this.wheelEventsPerObject.get(st))==null||ct.push(_t):this.wheelEventsPerObject.set(st,[_t])}else{let _t=new YM(mt,gt,st,s,o,_,this.managers);this.scrollEventsPerObject.has(st)?(At=this.scrollEventsPerObject.get(st))==null||At.push(_t):this.scrollEventsPerObject.set(st,[_t])}}};s.traverseEntity(st=>{var nt;(st instanceof Er||st instanceof cr)&&((nt=st.frame)==null||nt.traverse(ct=>{et(ct)})),et(st)}),this.intersectionObserver=new IntersectionObserver(st=>{let nt=st[0];nt&&(this.isInview=nt.isIntersecting)},{root:null}),this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([st,nt])=>{nt.forEach(ct=>ct.connect()),st.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([st,nt])=>{nt.forEach(ct=>ct.connect()),st.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(st=>st.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(st=>st.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([s,o])=>{o.forEach(_=>_.disconnect()),s.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([s,o])=>{o.forEach(_=>_.disconnect()),s.removeEventListener("userEvent",this.onUserEvent)})}},XM=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.actions=Kt(o,o.actions,j,et,st,_)}disconnect(){ur(this.actions)}dispatch(){this.actions.Transition.forEach(s=>{s.play()}),this.actions.Animation.forEach(s=>{s.play()}),this.actions.SwitchCamera.forEach(s=>{s.play()}),this.actions.SceneTransition.forEach(s=>{s.dispatch()}),this.actions.Reset.forEach(s=>s.dispatch()),this.actions.SetVariable.forEach(s=>s.checkConditions()),this.actions.SetVariable.forEach(s=>s.dispatch()),this.actions.DynamicVariablePlay.forEach(s=>s.dispatch()),this.actions.ClearLocalStorage.forEach(s=>s.dispatch()),this.actions.UserAPI.forEach(s=>s.dispatch()),this.actions.Create.forEach(s=>{s.dispatchFromStart()}),this.actions.Destroy.forEach(s=>{s.dispatchFromStart()})}dispatchAfter(s){this.actions.Audio.forEach(o=>{(o.interaction.data.triggerAfter??"any")===s&&(o.interaction instanceof Go?o.interaction.audioPlayer.play():o.interaction instanceof Df&&o.interaction.dispatch())}),this.actions.Video.forEach(o=>{let _=o.interaction.data.triggerAfter??"autoplay";_===s&&(o.interaction instanceof Fa?o.interaction.play(_==="autoplay"):o.interaction instanceof Rf&&o.interaction.dispatch())}),this.actions.Particles.forEach(o=>{(o.data.triggerAfter??"any")===s&&o.dispatchBasic()})}dispatchUserEvent(s){this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),s?(this.actions.Transition.forEach(o=>o.reverseFromCurrent()),this.actions.Animation.forEach(o=>o.reverseFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.reverseFromCurrent())):(this.actions.Transition.forEach(o=>o.playFromCurrent()),this.actions.Animation.forEach(o=>o.playFromCurrent()),this.actions.SwitchCamera.forEach(o=>o.playFromCurrent())),this.actions.SceneTransition.forEach(o=>o.dispatch()),this.actions.Reset.forEach(o=>o.dispatch()),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch()),this.actions.Create.forEach(o=>{o.dispatch()}),this.actions.Destroy.forEach(o=>{o.dispatch()}),this.actions.Audio.forEach(o=>{o.interaction instanceof Go?o.interaction.audioPlayer.play():o.interaction instanceof Df&&o.interaction.dispatch()}),this.actions.Video.forEach(o=>{o.interaction instanceof Fa?o.interaction.play():o.interaction instanceof Rf&&o.interaction.dispatch()}),this.actions.Particles.forEach(o=>{o.dispatchBasic()})}},Ib=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([_,j])=>{_.dispatchEvent({type:"beginEvent",eventName:"Start"}),j.forEach(et=>{et.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([_,j])=>{_.dispatchEvent({type:"beginEvent",eventName:"Start"}),j.forEach(et=>{et.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:_,isExport:j}=this.eventContext,et=j?document:_;et.removeEventListener("pointerdown",this.onAny),et.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([st,nt])=>{st.dispatchEvent({type:"beginEvent",eventName:"Start"}),nt.forEach(ct=>{ct.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([_,j])=>{_.dispatchEvent({type:"beginEvent",eventName:"Start"}),j.forEach(et=>{et.actions.Audio.forEach(st=>{st.interaction instanceof Go&&st.interaction.audioPlayer.play()}),et.actions.Video.forEach(st=>{let nt=st.interaction.data.triggerAfter??"autoplay";st.interaction instanceof Fa&&st.interaction.play(nt==="autoplay")}),et.actions.Particles.forEach(st=>{st.dispatchBasic()})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([_,j])=>{_.dispatchEvent({type:"beginEvent",eventName:"Start"}),j.forEach(et=>{et.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:_,target:j,reverse:et})=>{var nt,ct;if(!_||!j)return;let st=Yo(_);st&&st==="Start"&&(j instanceof tr||j.dispatchEvent({type:"beginEvent",eventName:"Start"}),(nt=this.eventsPerObject.get(j))==null||nt.forEach(At=>{At.dispatchUserEvent(et)}),(ct=this.eventsAfterPerObject.get(j))==null||ct.forEach(At=>{At.dispatchUserEvent(et)}))}}connect(){let{sharedAssets:s,page:o}=this.eventContext,_=j=>{var et,st,nt,ct,At;if((et=j.data)!=null&&et.events.length)for(let{id:mt,data:gt}of j.data.events){if(gt.disabled||gt.type!=="Start")continue;let _t=new XM(mt,gt,j,o,s,this.eventManager);(_t.actions.Transition.length||_t.actions.Animation.length||_t.actions.SwitchCamera.length||_t.actions.Create.length||_t.actions.Destroy.length||_t.actions.SceneTransition.length||_t.actions.Reset.length||_t.actions.SetVariable.length||_t.actions.DynamicVariablePlay.length||_t.actions.ClearLocalStorage.length||_t.actions.UserAPI.length)&&(this.eventsPerObject.has(j)?(st=this.eventsPerObject.get(j))==null||st.push(_t):this.eventsPerObject.set(j,[_t])),_t.actions.Audio.length&&(this.eventsAfterPerObject.has(j)?(nt=this.eventsAfterPerObject.get(j))==null||nt.push(_t):this.eventsAfterPerObject.set(j,[_t])),_t.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(j)?(ct=this.eventsAfterPerObject.get(j))==null||ct.push(_t):this.eventsAfterPerObject.set(j,[_t])),_t.actions.Particles.length&&(this.eventsAfterPerObject.has(j)?(At=this.eventsAfterPerObject.get(j))==null||At.push(_t):this.eventsAfterPerObject.set(j,[_t]))}};if(o.traverseEntity(j=>{var et;(j instanceof Er||j instanceof cr)&&((et=j.frame)==null||et.traverse(st=>{_(st)})),_(j)}),[...this.eventsAfterPerObject.values()].some(j=>j.length)){if(this.eventManager.activateCount===0){let{domElement:j,isExport:et}=this.eventContext,st=et?document:j;st.addEventListener("pointerdown",this.onMouseDown,{once:!0}),st.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),st.addEventListener("pointerdown",this.onAny),st.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([nt,ct])=>{nt.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([j,et])=>{j.dispatchEvent({type:"beginEvent",eventName:"Start"}),et.forEach(st=>st.dispatch()),j.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(s=>s.length)){let{domElement:s,isExport:o}=this.eventContext,_=o?document:s;_.removeEventListener("pointerdown",this.onMouseDown),_.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),_.removeEventListener("pointerdown",this.onAny),_.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([j,et])=>{j.removeEventListener("userEvent",this.onUserEvent),et.forEach(st=>st.disconnect())})}[...this.eventsPerObject.entries()].forEach(([s,o])=>{s.removeEventListener("userEvent",this.onUserEvent),o.forEach(_=>_.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},Ob=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.initialDisabled=!1,this.actions=Kt(o,o.actions,j,et,st,_),this.target=o.target}disconnect(){ur(this.actions)}dispatch(s){this.initialDisabled||(this.actions.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this,o.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.actions.Transition.forEach(o=>{o.data.runMode==="Toggle"?o.toggle():o.play()}),this.actions.Animation.forEach(o=>{o.data.runMode==="Toggle"?o.toggle():o.play()}),this.actions.Reset.forEach(o=>{o.dispatch()}),this.actions.Link.forEach(o=>{o.dispatch()}),this.actions.Reset.forEach(o=>{o.dispatch()}),this.actions.Create.forEach(o=>{o.dispatch()}),this.actions.Destroy.forEach(o=>{o.dispatch(s??!1)}),this.actions.SetVariable.forEach(o=>o.checkConditions()),this.actions.SetVariable.forEach(o=>o.dispatch()),this.actions.DynamicVariablePlay.forEach(o=>o.dispatch()),this.actions.Audio.forEach(o=>{o.dispatchBasic()}),this.actions.Particles.forEach(o=>{o.dispatchBasic()}),this.actions.Video.forEach(o=>{o.dispatchBasic()}),this.actions.ClearLocalStorage.forEach(o=>o.dispatch()),this.actions.UserAPI.forEach(o=>o.dispatch()))}},Rb=class extends hr$1{constructor(s,o,_,j,et){super(s),this.sharedVariables=o,this.eventManager=_,this.needsMouse=j,this.needsRaycast=et,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.isOutOfFocus=!1,this.events=[],this.onFrame=st=>{let nt=this.eventContext.sharedAssets;if(this.rafId=window.requestAnimationFrame(this.onFrame),this.isOutOfFocus)return;let ct=new Date,At=[],mt=[];for(let Et=0;Et<this.propertiesToWatch.length;Et++){let{objectId:Ct,property:Bt,prevValue:Dt}=this.propertiesToWatch[Et],Ft=this.eventContext.scene.find(Ct),Rt=Dv.propertyPaths[Bt];if(Rt[0]==="width"||Rt[0]==="height"||Rt[0]==="depth")Ft=Ft.geometry.userData.parameters[Rt[0]];else for(let Nt=0;Nt<Rt.length;Nt++)Ft=Ft[Rt[Nt]];Dt===null?this.propertiesToWatch[Et].prevValue=Ft instanceof E$2?Ft.clone():Ft:(Ft instanceof E$2?!Ft.equals(Dt):Dt!==Ft)&&(mt.push({objId:Ct,property:Bt}),Ft instanceof E$2?this.propertiesToWatch[Et].prevValue.copy(Ft):this.propertiesToWatch[Et].prevValue=Ft)}for(let Et=0;Et<this.variablesToWatch.length;Et++){let{id:Ct,prevValue:Bt}=this.variablesToWatch[Et],Dt=nt.getVariable(Ct);Dt!==Bt&&(At.push(Ct),this.variablesToWatch[Et].prevValue=Dt)}for(let Et=0;Et<this.dynamicVars.length;Et++){let{id:Ct,expectedTime:Bt,last:Dt,data:Ft,timerSeconds:Rt,startValue:Nt}=this.dynamicVars[Et],Gt=1e3;if((Ft.dynamicVariableType==="timer"||Ft.dynamicVariableType==="stopwatch")&&Ft.format==="number3decimal"?Gt=1:Ft.dynamicVariableType==="counter"?Gt=Ft.updateInterval:Ft.dynamicVariableType==="random"&&(Gt=Ft.isStatic?1/0:Ft.updateInterval),Bt===-1){this.dynamicVars[Et].last=st,this.dynamicVars[Et].expectedTime=st+Gt;continue}if(!((nt.getDynamicVariablePlayState(Ct)==="Stopped"||nt.getDynamicVariablePlayState(Ct)==="Restarted")&&(this.dynamicVars[Et].last=st,this.dynamicVars[Et].expectedTime=st+Gt,Ft.dynamicVariableType==="counter"&&nt.getVariable(Ct)!==Nt&&(nt.updateVariable(Ct,Nt),this.eventManager.requestRender()),(Ft.dynamicVariableType==="timer"||Ft.dynamicVariableType==="stopwatch")&&this.dynamicVars[Et].timerSeconds!==Nt&&(this.dynamicVars[Et].timerSeconds=Nt,nt.updateVariable(Ct,vn.getFormattedTimerTime(Nt,Ft)),this.eventManager.requestRender()),nt.getDynamicVariablePlayState(Ct)==="Restarted"&&nt.setDynamicVariablePlayState(Ct,"Playing"),nt.getDynamicVariablePlayState(Ct)==="Stopped"))){if(nt.getDynamicVariablePlayState(Ct)==="Paused"){this.dynamicVars[Et].deltaToExpectedTime===void 0&&(this.dynamicVars[Et].deltaToExpectedTime=Math.max(this.dynamicVars[Et].expectedTime-st,0)),this.dynamicVars[Et].last=st-(Gt-this.dynamicVars[Et].deltaToExpectedTime),this.dynamicVars[Et].expectedTime=st+this.dynamicVars[Et].deltaToExpectedTime;continue}else this.dynamicVars[Et].deltaToExpectedTime=void 0;if(st>=Bt)if(this.dynamicVars[Et].last=st,this.dynamicVars[Et].expectedTime+=Gt,Ft.dynamicVariableType==="random"){let dr=Ft.min+Math.random()*(Ft.max-Ft.min),ts=Ft.decimals;dr=Math.round(dr*Math.pow(10,ts))/Math.pow(10,ts),nt.updateVariable(Ct,dr),At.push(Ct),this.eventManager.requestRender()}else if(Ft.dynamicVariableType==="counter"){let dr=nt.getVariable(Ct),ts=nt.getDynamicVariableToggleIsForward(Ct)??!0,es=nt.getVariable(Ct)+Ft.increment*(ts?1:-1);Ft.hasEnd&&(es=Ft.increment>0?we.clamp(es,Nt,Ft.endValue):we.clamp(es,Ft.endValue,Nt),es===Nt&&nt.setDynamicVariableToggleIsForward(Ct,void 0),Ft.repeat?es===Ft.endValue&&(es=Nt):(es===Nt||es===Ft.endValue)&&nt.setDynamicVariablePlayState(Ct,"Paused")),es!==dr&&(At.push(Ct),nt.updateVariable(Ct,es),this.eventManager.requestRender())}else if(Ft.dynamicVariableType==="time"){let dr=nt.getVariable(Ct),ts=dE(ct,Ft);if(typeof dr=="object"&&"textValue"in dr&&typeof ts=="object"&&"textValue"in ts){if(Array.isArray(dr.textValue)&&Array.isArray(ts.textValue)){if(dr.textValue.every((es,ds)=>es===ts.textValue[ds]))continue}else if(dr.textValue===ts.textValue)continue}else if(dr===ts)continue;nt.updateVariable(Ct,ts),At.push(Ct),this.eventManager.requestRender()}else{let dr=Lr$1.isTextValue(Ft.endValue)?CN(Ft.endValue.textValue):Ft.endValue,ts=nt.getDynamicVariableToggleIsForward(Ct)??!0,es=Rt+(st-Dt)/1e3*(Ft.dynamicVariableType==="timer"?-1:1)*(ts?1:-1);es=Math.max(es,0),Ft.hasEnd&&(es=Ft.dynamicVariableType==="stopwatch"?we.clamp(es,Nt,dr):we.clamp(es,dr,Nt),es===Nt&&nt.setDynamicVariableToggleIsForward(Ct,void 0),Ft.repeat?Math.abs(es-dr)<(Ft.format==="number3decimal"?1e-4:.1)&&(es=Nt):(Math.abs(es-Nt)<(Ft.format==="number3decimal"?1e-4:.1)||Math.abs(es-dr)<(Ft.format==="number3decimal"?1e-4:.1))&&nt.setDynamicVariablePlayState(Ct,"Paused")),es!==Rt&&(At.push(Ct),this.dynamicVars[Et].timerSeconds=es,nt.updateVariable(Ct,vn.getFormattedTimerTime(es,Ft)),this.eventManager.requestRender())}}}let gt=!1;nt.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=nt.mouseProperty,gt=!0);let _t=!1;nt.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=nt.raycastProperty,_t=!0),this.events.forEach(Et=>{(At.includes(Et.data.variableId)||mt.find(Ct=>Ct.objId===Et.data.objectId&&Ct.property===Et.data.property)||Et.data.variableId==="mouseProperty"&&gt||Et.data.variableId==="raycastProperty"&&_t)&&(Et.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()}}pause(){this.isOutOfFocus||(this.isOutOfFocus=!0,this.pauseTime=Date.now())}resume(){if(!this.isOutOfFocus)return;this.isOutOfFocus=!1;let s=Date.now()-this.pauseTime;for(let o=0;o<this.dynamicVars.length;o++)this.dynamicVars[o].last+=s,this.dynamicVars[o].expectedTime+=s}connect(){this.eventContext.page.traverseEntity(o=>{var _;(_=o.data)==null||_.events.filter(j=>j.data.type==="VariableChange"&&!j.data.disabled).forEach(j=>{this.events.push(new QM(j.id,j.data,o,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),this.propertiesToWatch=this.events.filter(o=>o.data.variableId==="objectProperty"&&o.data.objectId!==null).map(o=>({objectId:o.data.objectId,property:o.data.property,prevValue:null}));let s=this.eventContext.sharedAssets;this.sharedVariables.forEach(({id:o,data:_})=>{if(!("dynamicVariableType"in _)){this.events.find(et=>et.data.variableId===o)&&this.variablesToWatch.push({id:o,prevValue:s.getVariable(o)});return}let j;if(_.dynamicVariableType==="timer"||_.dynamicVariableType==="stopwatch"){let et;if(Lr$1.isTextValue(_.value)&&Array.isArray(_.value.textValue)){let st=_.value.textValue;st.length===3?et=st[2]+st[1]*60+st[0]*3600:et=st[1]+st[0]*60}else et=_.value;j=et,this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:_,timerSeconds:et,startValue:j})}else _.dynamicVariableType==="time"&&s.updateVariable(o,dE(new Date,_)),_.dynamicVariableType==="counter"&&(j=Lr$1.isTextValue(_.value)?CN(_.value.textValue):_.value),this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:_,startValue:j})}),this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(s=>s.dispose())}},QM=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.actions=Kt(o,o.actions,j,et,st,_)}dispatch(){let s=this.actions;s.Audio.forEach(o=>o.dispatchConditional()),s.Particles.forEach(o=>o.dispatchConditional()),s.Video.forEach(o=>o.dispatchConditional()),s.Create.forEach(o=>o.dispatch()),s.Destroy.forEach(o=>o.dispatch()),s.Reset.forEach(o=>o.dispatch()),s.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this),o.init()}),s.Transition.forEach(o=>o.play()),s.Animation.forEach(o=>o.play()),s.SwitchCamera.forEach(o=>o.play()),s.SceneTransition.forEach(o=>o.dispatch()),s.SetVariable.forEach(o=>o.checkConditions()),s.SetVariable.forEach(o=>o.dispatch()),s.DynamicVariablePlay.forEach(o=>o.dispatch()),s.ClearLocalStorage.forEach(o=>o.dispatch()),s.UserAPI.forEach(o=>o.dispatch())}dispose(){ur(this.actions)}};function CN(s){return s.length===3?s[2]+s[1]*60+s[0]*3600:s[1]+s[0]*60}var _N="https://unpkg.com/@splinetool/runtime@1.9.30/build/",OJ="https://unpkg.com/@splinetool/navmesh-wasm@1.9.30/build/",RJ=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${_N}' + 'navmesh.js'),
		fetch('${OJ}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,LJ=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,BJ=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,PN=.001,NJ={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},DN,Ot,en;Q2.then(s=>{DN=s,Ot=new s.Vec3,en=new s.Vec3});var FJ=new E$2,Lb=class{constructor(s=!1,o=!1){this.usePhysics=s,this.isExport=o,this.onPointerDown=_=>{if(Je.length!==1)return;let{raycaster:j,page:et}=this.eventContext;this.eventContext.updateRaycaster(_);let st=et.raycastWithClones(j);if(st.length!==0){if(this.gameControl){let nt=FJ.copy(this.gameControl.colliderWorldPosition);nt.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(nt,st[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(_,j)=>et=>{var Et,Ct,Bt,Dt,Ft,Rt,Nt;let st;if(et instanceof Gi)if(et.objectForSample){if(et.objectForSample.dataPatched.physics.fusedBody)return;st=et.object}else return et.object.dataPatched.physics.fusedBody===!0&&et.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(et instanceof Br)st=et.object;else if(st=et,((Et=st.dataPatched.cloner)==null?void 0:Et.disabled)===!1&&((Ct=st.dataPatched.cloner)==null?void 0:Ct.hideBase)&&((Bt=st.dataPatched.physics)==null?void 0:Bt.fusedBody)!==!0)return!0;if(j&&!st.userData.navmesh)return;let nt=st.dataPatched;if(!nt.visible&&((Dt=nt.physics)==null?void 0:Dt.enabled)!==!0)return!0;et.updateMatrixWorldSVD();let ct=fg(nt),At=st.userData.hasDestroy,mt=st.userData.hasDrag,gt=!1,_t=!1;for(let Gt of nt.events)Gt.data.disabled!==!0&&(Gt.data.type==="GameControl"?gt=!0:Gt.data.type==="Follow"&&(_t=!0));if(gt||ct||_t||At||mt)return!0;if(this.usePhysics&&((Ft=nt.physics)==null?void 0:Ft.rigidBody)==="dynamic"){if(this.usePhysics&&((Rt=nt.physics)!=null&&Rt.fusedBody))return!0}else if("geometry"in et&&et.geometry&&_.push(io(et.geometry,et.matrixWorld)),this.usePhysics&&((Nt=nt.physics)==null?void 0:Nt.fusedBody))return et.traverseObject((Gt,dr)=>{var ds,tn;if(dr===0)return;let ts;if(Gt instanceof Gi)if(Gt.objectForSample){if(Gt.objectForSample.dataPatched.physics.fusedBody)return;ts=Gt.object}else return Gt.object.dataPatched.physics.fusedBody===!0&&Gt.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(Gt instanceof Br)ts=Gt.object;else if(ts=Gt,(ds=Gt.dataPatched.cloner)==null?void 0:ds.hideBase)return!0;let es=ts.dataPatched;if(!es.visible&&((tn=es.physics)==null?void 0:tn.enabled)!==!0)return!0;"geometry"in Gt&&Gt.geometry&&_.push(io(Gt.geometry,Gt.matrixWorld))}),!0},this.traverseNoPhysics=(_,j)=>et=>{let st;if(et instanceof Gi)return;et instanceof Br?st=et.object:st=et;let nt=st.dataPatched;if(nt.physics.enabled==="visibility"?!nt.visible:!nt.physics.enabled)return!0;if(j&&!st.userData.navmesh)return;let ct=et.geometry,At=st.userData.hasDestroy===!0,mt=st.userData.hasDrag===!0;if(fg(nt)||At||mt||st.dataPatched.events.some(gt=>gt.data.disabled!==!0&&gt.data.type==="GameControl"))return!0;ct&&_.push(io(ct,et.matrixWorld))},this.navmeshWasm=DN,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(o?RJ:LJ)+BJ])),this._worker=new Worker(this._workerURL)}init(s,o,_){this.gameControl=o,this.eventContext=_,this.setDefaultQueryExtent(new E$2().setScalar(s.ch*s.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(_.page,s,j=>{this.buildFromNavmeshData(j.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(s,o,_){o.objects.forEach(At=>{var gt;let mt=s.scene.find(At);mt.traverseEntity(_t=>{_t.userData.navmesh=!0}),(gt=mt.cloner)==null||gt.traverseObject(_t=>{_t.userData.navmesh=!0})});let j=[],et=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(j,o.zones==="custom");if(s.traverseChildren(et),o.objects.forEach(At=>{var gt;let mt=s.scene.find(At);mt.traverseEntity(_t=>{_t.userData.navmesh=void 0}),(gt=mt.cloner)==null||gt.traverseObject(_t=>{_t.userData.navmesh=void 0})}),j.length===0)return!1;let st=ks(j),{positions:nt,triIndices:ct}=Uc(st.getAttribute("position"),st.getIndex());return this._worker.postMessage([nt,nt.length/3,ct,ct.length,{...NJ,...o}]),this._worker.onmessage=_,!0}createDebugNavGeometry(){let s,o,_=this.navMesh.getDebugNavMesh(),j=_.getTriangleCount(),et=new Uint32Array(j*3),st=new Float32Array(j*3*3);for(s=0;s<j*3;s++)et[s]=s;for(s=0;s<j;s++)for(o=0;o<3;o++){let ct=_.getTriangle(s).getPoint(o);st[s*9+o*3+0]=ct.x,st[s*9+o*3+1]=ct.y,st[s*9+o*3+2]=ct.z}let nt=new _e;return nt.setIndex(new Xe(et,1)),nt.setAttribute("position",new Xe(st,3)),nt}getClosestPoint(s){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,this.navMesh.getClosestPoint(Ot)}getClosestPointToRef(s,o){Ot.x=s.x,Ot.y=s.y,Ot.z=s.z;let _=this.navMesh.getClosestPoint(Ot);o.set(_.x,_.y,_.z)}getRandomPointAround(s,o){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,this.navMesh.getRandomPointAround(Ot,o)}getRandomPointAroundToRef(s,o,_){Ot.x=s.x,Ot.y=s.y,Ot.z=s.z;let j=this.navMesh.getRandomPointAround(Ot,o);_.set(j.x,j.y,j.z)}moveAlong(s,o){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,en.x=o.x,en.y=o.y,en.z=o.z,this.navMesh.moveAlong(Ot,en)}moveAlongToRef(s,o,_){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,en.x=o.x,en.y=o.y,en.z=o.z,this.navMesh.moveAlong(Ot,en)}computePath(s,o){let _=this.getClosestPoint(o);if(en.x=_.x,en.y=_.y,en.z=_.z,Math.sqrt(Math.pow(o.x-_.x,2)+Math.pow(o.y-_.y,2)+Math.pow(o.z-_.z,2))>this.getDefaultQueryExtent().y)return[];this.getClosestPoint(s);let j=this.navMesh.computePath(Ot,en),et=j.getPointCount(),st=[];for(let nt=0;nt<et;nt++){let ct=j.getPoint(nt);st.push(new E$2(ct.x,ct.y,ct.z))}return st}createCrowd(s,o){return new KM(this,s,o)}setDefaultQueryExtent(s){Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,this.navMesh.setDefaultQueryExtent(Ot)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(s){let o=s.length*s.BYTES_PER_ELEMENT,_=this.navmeshWasm._malloc(o),j=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,_,o);j.set(s);let et=new this.navmeshWasm.NavmeshData;et.dataPointer=j.byteOffset,et.size=s.length,this.navMesh.buildFromNavmeshData(et),this.navmeshWasm._free(j.byteOffset)}getNavmeshData(){let s=this.navMesh.getNavmeshData(),o=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,s.dataPointer,s.size),_=new Uint8Array(s.size);return _.set(o),this.navMesh.freeNavmeshData(s),_}getDefaultQueryExtentToRef(s){let o=this.navMesh.getDefaultQueryExtent();s.set(o.x,o.y,o.z)}dispose(){var s;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(s=this.eventContext)==null||s.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(s,o,_){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,this.navMesh.addCylinderObstacle(Ot,o,_)}addBoxObstacle(s,o,_){return Ot.x=s.x,Ot.y=s.y,Ot.z=s.z,en.x=o.x,en.y=o.y,en.z=o.z,this.navMesh.addBoxObstacle(Ot,en,_)}removeObstacle(s){this.navMesh.removeObstacle(s)}isSupported(){return this.navmeshWasm!==void 0}},KM=class{constructor(s,o,_){this.navmeshWasmWrapper=s,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(o,_,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(s,o){}addAgent(s,o,_){let j=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;j.radius=o.radius,j.height=o.height,j.maxAcceleration=o.maxAcceleration,j.maxSpeed=o.maxSpeed,j.collisionQueryRange=o.collisionQueryRange,j.pathOptimizationRange=o.pathOptimizationRange,j.separationWeight=o.separationWeight,j.updateFlags=7,j.obstacleAvoidanceType=0,j.queryFilterType=0,j.userData=0;let et=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(s.x,s.y,s.z),j);return this.transforms.push(_),this.agents.push(et),this.reachRadii.push(o.reachRadius?o.reachRadius:o.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new E$2(0,0,0)),et}getAgentPosition(s){return this.crowd.getAgentPosition(s)}getAgentPositionToRef(s,o){let _=this.crowd.getAgentPosition(s);o.set(_.x,_.y,_.z)}getAgentVelocity(s){return this.crowd.getAgentVelocity(s)}getAgentVelocityToRef(s,o){let _=this.crowd.getAgentVelocity(s);o.set(_.x,_.y,_.z)}getAgentNextTargetPath(s){return this.crowd.getAgentNextTargetPath(s)}getAgentNextTargetPathToRef(s,o){let _=this.crowd.getAgentNextTargetPath(s);o.set(_.x,_.y,_.z)}getAgentState(s){return this.crowd.getAgentState(s)}overOffmeshConnection(s){return this.crowd.overOffmeshConnection(s)}agentGoto(s,o){this.crowd.agentGoto(s,new this.navmeshWasmWrapper.navmeshWasm.Vec3(o.x,o.y,o.z));let _=this.agents.indexOf(s);_>-1&&(this._agentDestinationArmed[_]=!0,this._agentDestination[_].set(o.x,o.y,o.z))}agentTeleport(s,o){this.crowd.agentTeleport(s,new this.navmeshWasmWrapper.navmeshWasm.Vec3(o.x,o.y,o.z))}updateAgentParameters(s,o){let _=this.crowd.getAgentParameters(s);o.radius!==void 0&&(_.radius=o.radius),o.height!==void 0&&(_.height=o.height),o.maxAcceleration!==void 0&&(_.maxAcceleration=o.maxAcceleration),o.maxSpeed!==void 0&&(_.maxSpeed=o.maxSpeed),o.collisionQueryRange!==void 0&&(_.collisionQueryRange=o.collisionQueryRange),o.pathOptimizationRange!==void 0&&(_.pathOptimizationRange=o.pathOptimizationRange),o.separationWeight!==void 0&&(_.separationWeight=o.separationWeight),this.crowd.setAgentParameters(s,_)}removeAgent(s){this.crowd.removeAgent(s);let o=this.agents.indexOf(s);o>-1&&(this.agents.splice(o,1),this.transforms.splice(o,1),this.reachRadii.splice(o,1),this._agentDestinationArmed.splice(o,1),this._agentDestination.splice(o,1))}getAgents(){return this.agents}update(s){if(this.navmeshWasmWrapper.navMesh.update(),s<=PN)return;let o=1/60,_=10;{let j=Math.floor(s/o);j>_&&(j=_),j<1&&(j=1);let et=s/j;for(let st=0;st<j;st++)this.crowd.update(et)}for(let j=0;j<this.agents.length;j++){let et=this.agents[j],st=this.getAgentPosition(et);if(this.transforms[j].copy(st),this._agentDestinationArmed[j]){let nt=st.x-this._agentDestination[j].x,ct=st.z-this._agentDestination[j].z,At=this.reachRadii[j],mt=this._agentDestination[j].y-this.reachRadii[j],gt=this._agentDestination[j].y+this.reachRadii[j],_t=nt*nt+ct*ct;st.y>mt&&st.y<gt&&_t<At*At&&(this.onReachTarget(et,this._agentDestination[j]),this._agentDestinationArmed[j]=!1)}}}setDefaultQueryExtent(s){let o=new this.navmeshWasmWrapper.navmeshWasm.Vec3(s.x,s.y,s.z);this.crowd.setDefaultQueryExtent(o)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(s){let o=this.crowd.getDefaultQueryExtent();s.set(o.x,o.y,o.z)}getCorners(s){let o,_=this.crowd.getCorners(s),j=_.getPointCount(),et=[];for(o=0;o<j;o++){let st=_.getPoint(o);et.push(new E$2(st.x,st.y,st.z))}return et}dispose(){this.crowd.destroy()}};function ZM(s){let o=!1;return s.scene.objects.forEach(_=>{_.data.type==="Page"&&!o&&_.data.publish.gameControlObject&&El.traverseModuleInstances(s,_.id,(j,et,st)=>{for(let nt of st)nt.data.type==="GameControl"&&nt.data.navmesh.enabled&&(o=!0)})}),o}var VJ={type:"change"},IN$1={type:"changeZoom"},UJ={type:"changePan"},ou={type:"start"},au={type:"end",changed:!0},zJ={type:"end",changed:!1},JM=new Qe,ON=new U$1,kJ=2*Math.PI,GJ=1e-8,jJ=.01,$M=new E$2,Bb=new U$1,eT=new E$2,Nb=new Qe,RN=new ue$2,HJ={type:"requestRender"},zf=class extends pr{constructor(s,o,_={isPlayMode:!1,isExport:!1}){super(),this.object=s,this.domElement=o,this.options=_,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,Xn.DOLLY_ROTATE,Xn.PAN],this.offset=new E$2,this.eye=new E$2,this.lastPosition=new E$2,this.lastQuaternion=new Qe,this.current=new U$1,this.overShoot=new U$1,this.overRatio=new U$1,this.spherical=new bp,this.sphericalDelta=new bp,this.panOffset=new E$2,this.panLeftV=new E$2,this.panUpV=new E$2,this.panV=new E$2,this.rotateStart=new U$1,this.rotateEnd=new U$1,this.rotateDelta=new U$1,this.panStart=new U$1,this.panEnd=new U$1,this.panDelta=new U$1,this.dollyStart=new U$1,this.dollyEnd=new U$1,this.dollyDelta=new U$1,this.rotationRangeFactor=new U$1,this.panRangeFactor=new U$1,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=j=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=j.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(eT,Nb,$M),this.offset.copy(eT).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&this.object.isPerspectiveCamera&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(JM.copy(Nb).invert()),this.panOffset.applyQuaternion(JM),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(Nb),this.panOffset.applyQuaternion(Nb)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),eT.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(RN.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(RN));let j=this.spherical.phi%kJ;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(Mt.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),j>0&&j>Math.PI||j<0&&j>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let et=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-et,this.sphericalDelta.phi*=1-et}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>jJ||8*(1-this.lastQuaternion.dot(this.object.quaternion))>GJ?(this.dispatchEvent(VJ),this.object.dispatchEvent(HJ),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=j=>{this.enabled!==!1&&(j.pointerType==="touch"||j.pointerType==="pen"&&Ci?this.onPointerDownTouch(j):this.onPointerDownMouse(j),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(ou),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),j.stopPropagation(),j.pointerType==="touch"||j.pointerType==="pen"&&Ci||this.domElement.setPointerCapture(j.pointerId)))},this.onPointerLeave=j=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,$M.subVectors(this.position0,this.target0),this.spherical.setFromVector3($M),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=j},this.onPointerEnter=j=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?Bb.set(j.clientX-this.domElement.clientWidth/2,j.clientY-this.domElement.clientHeight/2):Bb.set(j.clientX-this.pointerLeaveEvent.clientX,j.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(Bb).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(ON,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(j.clientX,j.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(Bb).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(j.clientX,j.clientY)),this.update()},this.onPointerMove=j=>{this.enabled!==!1&&(this.checkRaycastLock()||(j.pointerType==="touch"||j.pointerType==="pen"&&Ci?this.onPointerMoveTouch(j):this.onPointerMoveMouse(j),j.stopPropagation()))},this.onPointerUp=j=>{this.isPointerDown=!1,Je.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),Je.length>1&&j.preventDefault(),this.hasChange?this.dispatchEvent(au):this.dispatchEvent(zJ),this.state=-1,j&&(j.stopPropagation(),j.pointerType==="touch"||j.pointerType==="pen"&&Ci||this.domElement.releasePointerCapture(j.pointerId))},this.onPointerDownMouse=j=>{let et;switch(this.useKeyEvents?et=this.mouseButtons[j.button]:et=this.mouseButtonsPlay[j.button],et){case 0:if(j.altKey===!0&&!j.shiftKey&&!Ip(j)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(j),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(j),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(j),this.state=2;break;case 3:if(Ip(j)||j.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(j),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(j),this.state=0}break;case 5:if(Ip(j)||j.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(j),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(j),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=j=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(j);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(j);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(j);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=j=>{switch(Je.length>1&&j.preventDefault(),this.touches[Je.length-1]){case Xn.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case Xn.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case Xn.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case Xn.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=j=>{switch(Je.length>1&&j.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(j),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(j),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(j),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(j),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=Tc(()=>this.dispatchEvent(au),33),this.onMouseWheel=j=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&j.preventDefault(),this.dispatchEvent(ou),this.handleMouseWheel(j),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=j=>{if(j.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!go)if(j.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(ou),j.scale>this.prevScale?this.dollyIn(this.getZoomScale()):j.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=j.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(au)},this.onContextMenu=j=>{j.preventDefault()},this.onTouchEnd=j=>{j.preventDefault()},this.onKeyDown=j=>{this.enabled!==!1&&(this.key=j.key,j.key===" "&&this.dispatchEvent(ou))},this.onKeyUp=j=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&j.key==="Alt"&&this.onPointerUp(Je[0]),j.key===" "&&this.dispatchEvent(au))},this.onPointerHover=j=>{j.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(j,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(j,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=j=>{j.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.initialSphericalRadius=this.spherical.radius,this.addEventListenersToCamera()}dispatchEvent(s){s.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(s)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(s){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=s,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let o=this.useWindowEvents?window:this.domElement;o.addEventListener("pointerleave",this.onPointerLeave),o.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(s,o){this.setEnableDampingSpeed(s.enableDamping),this.enablePan=s.enablePan,this.enableZoom=s.enableZoom,this.enableRotate=s.enableRotate,this.rotationLimitsMode=s.rotationLimitsMode,this.thetaIsFree=s.rotationHorizontalOffset.min===s.rotationHorizontalOffset.max&&s.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=s.rotationVerticalOffset.min===s.rotationVerticalOffset.max&&s.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=s.panLimitsMode,this.panSoftLimit=s.panSoftLimit,this.rotationSoftLimit=s.rotationSoftLimit,this.hoverRotatePanMode=s.hoverRotatePanMode,this.hoverRotateDamping=s.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=o==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let _=s.hoverRotatePanStrength/100;this.hoverRotatePanStrength=_**2,this.zoomLimitsEnabled=s.zoomLimitsEnabled,this.minZoom=s.zoomLimits.min,this.maxZoom=Math.max(s.zoomLimits.min,s.zoomLimits.max),this.minDistance=1e3/s.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/s.zoomLimits.min),this.autoRotate=s.autoRotate,this.autoRotateSpeed=s.autoRotateSpeed,this.autoRotateClockwise=s.autoRotateClockwise;let j=this.object.getTarget().applyQuaternion(JM.copy(this.object.quaternion).invert());this.minV=-s.panVerticalOffset.min+j.y,this.maxV=s.panVerticalOffset.max+j.y,this.minH=-s.panHorizontalOffset.min+j.x,this.maxH=s.panHorizontalOffset.max+j.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Qo(this.spherical.phi-s.rotationVerticalOffset.min),this.maxPhi=Qo(this.spherical.phi+s.rotationVerticalOffset.max),this.minTheta=Qo(Qo(this.spherical.theta)-s.rotationHorizontalOffset.min),this.maxTheta=Qo(Qo(this.spherical.theta)+s.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,s.orbitTouches===1&&(this.touches[0]=Xn.ROTATE),s.panTouches===1&&(this.touches[0]=Xn.PAN),s.orbitTouches===2&&(this.touches[1]=Xn.DOLLY_ROTATE),s.panTouches===2&&(this.touches[1]=Xn.DOLLY_PAN),s.orbitTouches===3&&(this.touches[2]=Xn.ROTATE),s.panTouches===3&&(this.touches[2]=Xn.PAN),this.isTouchZoom=s.isTouchZoom,this.resetHoverEffectOnPointerLeave=s.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let s=this.useWindowEvents?window:this.domElement;s.addEventListener("pointerleave",this.onPointerLeave),s.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(s,o,_,j,et,st,nt,ct){this.overShoot.set(0,0);let At,mt,gt;s instanceof E$2?(At=s.x,mt=s.y,this.current.set(this.target.x,this.target.y),gt=!0):(At=s.theta,mt=s.phi,this.current.set(Qo(this.spherical.theta),Qo(this.spherical.phi)),gt=!1),_===0&&(this.current.x+=At,this.current.y+=mt),(o===3||o===2)&&(!gt&&this.isThetaFlipped?this.current.x>j&&this.current.x<0?this.overShoot.x=j-this.current.x:this.current.x<et&&this.current.x>0&&(this.overShoot.x=et-this.current.x):this.current.x>j?this.overShoot.x=j-this.current.x:this.current.x<et&&(this.overShoot.x=et-this.current.x)),(o===3||o===1)&&(this.current.y>st?this.overShoot.y=st-this.current.y:this.current.y<nt&&(this.overShoot.y=nt-this.current.y)),gt||(this.overShoot.x=Qo(this.overShoot.x),this.overShoot.y=Qo(this.overShoot.y)),_!==0?(this.overRatio.copy(this.overShoot).divide(ct),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),_===1&&(this.overRatio.x=LN(Math.abs(this.overRatio.x)),this.overRatio.y=LN(Math.abs(this.overRatio.y))),this.isPointerDown||_===1?_===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(At*this.overShoot.x<0&&!this.thetaIsFree&&(At*=1-this.overRatio.x),mt*this.overShoot.y<0&&!this.phiIsFree&&(mt*=1-this.overRatio.y)):_===2&&(!gt&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||gt&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(At=this.overShoot.x*.05),this.phiIsFree||(mt=this.overShoot.y*.05),gt?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):gt?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(At+=this.overShoot.x,mt+=this.overShoot.y),s instanceof E$2?(s.x=At,s.y=mt):(this.thetaIsFree||(s.theta=At),this.phiIsFree||(s.phi=mt))}setEnableDampingSpeed(s){this.enableDamping=s,this.rotateSpeed=s===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(s){this.sphericalDelta.theta-=s}rotateUp(s){this.sphericalDelta.phi-=s}panLeft(s,o){this.panLeftV.setFromMatrixColumn(o,0),this.panLeftV.multiplyScalar(-s),this.panOffset.add(this.panLeftV)}panUp(s,o){this.panUpV.setFromMatrixColumn(o,1),this.panUpV.multiplyScalar(s),this.panOffset.add(this.panUpV)}pan(s,o){let _=this.domElement;if(_&&this.object.isPerspectiveCamera){let j=this.object.position;this.panV.copy(j).sub(this.target);let et=this.panV.length();et*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*s*et/_.clientHeight,this.object.matrixWorld),this.panUp(2*o*et/_.clientHeight,this.object.matrixWorld)}else _&&this.object.isOrthographicCamera&&(this.panLeft(s*(this.object.right-this.object.left)/this.object.zoom/_.clientWidth,this.object.matrixWorld),this.panUp(o*(this.object.top-this.object.bottom)/this.object.zoom/_.clientHeight,this.object.matrixWorld));this.dispatchEvent(UJ)}dollyOut(s){this.object.isPerspectiveCamera?this.scale/=s:this.object.isOrthographicCamera&&(this.object.zoom*=s,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(IN$1)}dollyIn(s){this.object.isPerspectiveCamera?this.scale*=s:this.object.isOrthographicCamera&&(this.object.zoom/=s,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(IN$1)}zoomOut(s=this.getZoomScale()){this.dispatchEvent(ou),this.dollyOut(s),this.dispatchEvent(au)}zoomIn(s=this.getZoomScale()){this.dispatchEvent(ou),this.dollyIn(s),this.dispatchEvent(au)}setZoom(s){if(this.dispatchEvent(ou),this.object.isPerspectiveCamera){let o=this.initialSphericalRadius/s/this.spherical.radius;this.scale=o}else this.object.isOrthographicCamera&&(this.object.zoom=s,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0);this.dispatchEvent(au)}handleMouseDownRotate(s){this.rotateStart.set(s.clientX,s.clientY)}handleMouseDownDolly(s){this.dollyStart.set(s.clientX,s.clientY)}handleMouseDownPan(s){this.panStart.set(s.clientX,s.clientY)}handleMouseMoveRotate(s,o=1){s.movementX!==void 0?this.rotateDelta.set(s.movementX,s.movementY):(this.rotateEnd.set(s.clientX,s.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*o).rotateAround(ON,-this.object.angleOffsetFromUp);let _=this.domElement,j=this.useWindowEvents?window.innerHeight:_.clientHeight,et=2*Math.PI*this.rotateDelta.x/j,st=2*Math.PI*this.rotateDelta.y/j;this.rotateLeft(et),this.rotateUp(st),this.update()}handleMouseMoveDolly(s){this.dollyEnd.set(s.clientX,s.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(s,o=1){s.movementX!==void 0?this.panDelta.set(s.movementX,s.movementY):(this.panEnd.set(s.clientX,s.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*o),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(s){if(U2===!1&&Ip(s)===!1&&k2(s)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-s.deltaX,-s.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),s.altKey?this.pan(0,this.panDelta.y):s.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1||this.gesture)return;s.deltaY===0?s.deltaX<0?this.dollyIn(this.getZoomScale()):s.deltaX>0&&this.dollyOut(this.getZoomScale()):s.deltaY<0?this.dollyIn(this.getZoomScale()):s.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(Je.length===2){let s=.5*(Je[0].pageX+Je[1].pageX),o=.5*(Je[0].pageY+Je[1].pageY);this.rotateStart.set(s,o)}else this.rotateStart.set(Je[0].pageX,Je[0].pageY)}handleTouchStartPan(){if(Je.length===2){let s=.5*(Je[0].pageX+Je[1].pageX),o=.5*(Je[0].pageY+Je[1].pageY);this.panStart.set(s,o)}else this.panStart.set(Je[0].pageX,Je[0].pageY)}handleTouchStartDolly(){let s=Je[0].pageX-Je[1].pageX,o=Je[0].pageY-Je[1].pageY,_=Math.sqrt(s*s+o*o);this.dollyStart.set(0,_)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(s){if(Je.length===2){let _=ov(s),j=.5*(s.pageX+_.x),et=.5*(s.pageY+_.y);this.rotateEnd.set(j,et)}else{if(s.pointerId!==Je[0].pointerId)return;this.rotateEnd.set(s.pageX,s.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let o=this.domElement;o&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/o.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/o.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(s){if(Je.length===2){let o=ov(s),_=.5*(s.pageX+o.x),j=.5*(s.pageY+o.y);this.panEnd.set(_,j)}else{if(s.pointerId!==Je[0].pointerId)return;this.panEnd.set(s.pageX,s.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(s){let o=ov(s),_=s.pageX-o.x,j=s.pageY-o.y,et=Math.sqrt(_*_+j*j);this.dollyEnd.set(0,et),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(s){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(s),this.enablePan&&this.handleTouchMovePan(s)}handleTouchMoveDollyRotate(s){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(s),this.enableRotate&&this.handleTouchMoveRotate(s)}checkRaycastLock(){var s;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let o=(s=this.options)==null?void 0:s.showCameraLock;return o&&o(),!0}}else return!1}};function Qo(s){let o=Math.PI*2;for(;s<=-Math.PI;)s+=o;for(;s>Math.PI;)s-=o;return s}function LN(s){return 1-Math.pow(1-s,4)}var pg=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.page=j,this.currentIntersectedObjects=[],this.actions=Kt(o,o.actions,j,et,st,_),this.target=o.target,this.triggeringObjects=[];for(let nt of o.triggeringObjects){let ct=j.scene.find(nt);ct&&this.triggeringObjects.push(ct)}}isValidTriggeringObject(s){return this.target==="all"?!0:this.triggeringObjects.some(o=>o===s||o.isAncestorOf(s.uuid)||s.isAncestorOf(o.uuid))}disconnect(){ur(this.actions)}dispatch(){this.object.destroyedInAction||(this.actions.Transition.forEach(s=>{s.object.currentTransitionEvent!==this&&(s.object.currentTransitionEvent=this,s.init())}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.actions.Transition.forEach(s=>{s.data.runMode==="Toggle"?s.toggle():s.play()}),this.actions.SwitchCamera.forEach(s=>{s.data.runMode==="Toggle"?s.toggle():s.play()}),this.actions.Link.forEach(s=>{s.dispatch()}),this.actions.Reset.forEach(s=>{s.dispatch()}),this.actions.Create.forEach(s=>{s.dispatch()}),this.actions.Destroy.forEach(s=>{s.dispatch(!1)}),this.actions.Audio.forEach(s=>{s.dispatchBasic()}),this.actions.Particles.forEach(s=>{s.dispatchBasic()}),this.actions.Video.forEach(s=>{s.dispatchBasic()}),this.actions.SceneTransition.forEach(s=>{s.dispatch()}),this.actions.SetVariable.forEach(s=>s.checkConditions()),this.actions.SetVariable.forEach(s=>s.dispatch()),this.actions.DynamicVariablePlay.forEach(s=>s.dispatch()),this.actions.ClearLocalStorage.forEach(s=>s.dispatch()),this.actions.UserAPI.forEach(s=>s.dispatch()))}},kt;J2.then(s=>kt=s);var bi=new E$2,so=new Qe,rc=new E$2,tT=new ir(0,0,0,"YXZ"),BN=new ir(0,0,0,"XYZ"),oo=new E$2,rT=new E$2,iT=new E$2(1,1,1),kf=new Qe,Fb=new ue$2,NN=new ue$2,WJ$1={type:"updateMatrix"},FN=new Qe,nT=new Or$1,vb={type:"beginEvent",eventName:"Collision"},qJ={type:"beginEvent",eventName:"Trigger"};function VN(s){if(El.physicsEnabled(s.scene.objects))return!0;let o=!1;return s.scene.objects.traverse((_,j)=>{if(j.events){if(Array.isArray(j.events)){for(let et of j.events)if(et.data.disabled!==!0&&et.data.type==="GameControl"&&et.data.collisionEnabled){o=!0;break}}else for(let et of Object.values(j.events))if(et.disabled!==!0&&et.type==="GameControl"&&et.collisionEnabled){o=!0;break}}}),o}var fg=s=>s.states.some(o=>o.data.position!==void 0||o.data.rotation!==void 0||o.data.hiddenMatrix!==void 0||o.data.cloner!==void 0||o.data.pathSnapping!==void 0),Vb=class{constructor(s){this.eventContext=s,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=o=>{if(o.bodyType()!==kt.RigidBodyType.Dynamic)return;o.isSleeping()||this.nActiveRigidBodies++;let[_,j,et]=this.rigidBodyToMesh.get(o.handle);if(bi.copy(o.translation()).multiplyScalar(this.pixelsPerMeter),so.copy(o.rotation()),_.matrixWorld.compose(bi,so,j),_.hasNonUniformScale&&_.matrixWorld.multiply(_.shearScale),_.dispatchEvent(WJ$1),et){let st=_.cloner;if(st&&st.objectForSample===void 0){st.matrixWorld.copy(_.matrixWorld);for(let nt of st.children)nt.updateMatrixWorld(!0)}for(let nt of _.children)nt.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(o,_,j)=>{var nt,ct,At,mt;if(j===!1)return;let et,st;if(this.sensorToTriggerEvent[o]?(et=this.sensorToTriggerEvent[o],st=this.sharedGameControlGlobals.colliderToEntity.get(_)):this.sensorToTriggerEvent[_]&&(et=this.sensorToTriggerEvent[_],st=this.sharedGameControlGlobals.colliderToEntity.get(o)),et&&st&&et.isValidTriggeringObject(st)){et.dispatch();return}for(let gt=this.sharedGameControlGlobals.createdObjects.length-1;gt>=0;gt--){let _t=this.sharedGameControlGlobals.createdObjects[gt];if(_t.userData.hasCollisionDestroy&&(((nt=_t.rigidBody)==null?void 0:nt.collider(0).handle)===o||((ct=_t.rigidBody)==null?void 0:ct.collider(0).handle)===_)){this.sharedGameControlGlobals.createdObjects.splice(gt,1),_t.removeFromParent(),requestAnimationFrame(()=>{var Et;return(Et=this.sharedGameControlGlobals.rapierWorld)==null?void 0:Et.removeRigidBody(_t.rigidBody)});break}}if(((At=this.gameControl)==null?void 0:At.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(o)){let gt=this.sharedGameControlGlobals.colliderToEntity.get(_),_t=this.sharedGameControlGlobals.entityToCollisionEvents[gt.uuid];if(_t===void 0)return;for(let Et of _t)Et.data.target==="character"&&this.dispatchCollisionEvent(Et,gt,_)}else if(((mt=this.gameControl)==null?void 0:mt.object)!==void 0&&this.gameControl.object===this.sharedGameControlGlobals.colliderToEntity.get(_)){let gt=this.sharedGameControlGlobals.colliderToEntity.get(o),_t=this.sharedGameControlGlobals.entityToCollisionEvents[gt.uuid];if(_t===void 0)return;for(let Et of _t)Et.data.target==="character"&&this.dispatchCollisionEvent(Et,gt,o)}else{let gt=this.sharedGameControlGlobals.colliderToEntity.get(o),_t=this.sharedGameControlGlobals.entityToCollisionEvents[gt.uuid];if(_t!==void 0)for(let Bt of _t)Bt.data.target==="scene"&&this.dispatchCollisionEvent(Bt,gt,o);let Et=this.sharedGameControlGlobals.colliderToEntity.get(_),Ct=this.sharedGameControlGlobals.entityToCollisionEvents[Et==null?void 0:Et.uuid];if(Ct!==void 0)for(let Bt of Ct)Bt.data.target==="scene"&&this.dispatchCollisionEvent(Bt,Et,_)}},this.isExport=s.isExport,this.sharedAssets=s.sharedAssets,this.renderer=s.renderer,this.requestRender=s.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=IM,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(s){s.forEach(o=>{o.addEventListener("connected",_=>{"gamepad"in _.data&&"axes"in _.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(_.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(s=>{var _,j;let o=s.dataPatched;for(let et of o.events){if(et.data.disabled===!0)continue;let st=(j=(_=et.data.actions)==null?void 0:_.find(nt=>nt.data.type==="Destroy"))==null?void 0:j.data;if(st)for(let nt of st.objects){let ct=this.page.scene.find(nt);ct&&(ct.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(s=>{let o=s.dataPatched;for(let _ of o.events)if(!(_.data.disabled===!0||_.data.type!=="DragDrop"))for(let j of _.data.objects){let et=this.page.scene.find(j);et&&(et.userData.hasDrag=!0)}})}initBVH(){let s=[];if(this.page.traverseChildren(o=>{var mt,gt;let _,j=o instanceof kl,et=o instanceof Zl;if(o instanceof Gi||j||et)return;o instanceof Br?_=o.object:_=o;let st=_.dataPatched;if(((mt=st.physics)==null?void 0:mt.enabled)==="visibility"?!st.visible:!((gt=st.physics)!=null&&gt.enabled))return!0;let nt=o.geometry,ct=_.userData.hasDestroy===!0,At=_.userData.hasDrag===!0;if(fg(st)||ct||At||_.dataPatched.events.some(_t=>_t.data.disabled!==!0&&_t.data.type==="GameControl"))return o.updateMatrixWorldSVD(),this.addBoundsTree(o),!0;nt&&s.push(io(nt,o.matrixWorld))}),s.length>0){let o=ks(s,!1);this.sharedGameControlGlobals.staticMeshBVH=new Po(o)}}addRigidBody(s,o,_){let j=[],et="geometry"in s?s.geometry:void 0,st=o.dataPatched;if((et==null?void 0:et.getAttribute("position"))!==void 0&&j.push(io(et,s.shearScale)),st.physics.fusedBody){let nt=this.gatherChildrenGeom(s,j);s.traverseObject(nt),s.children.forEach(At=>At.updateMatrixWorld(!0));let ct=s.cloner;ct&&ct.objectForSample===void 0&&st.physics.rigidBody==="dynamic"&&(ct.traverseObject(nt),ct.children.forEach(At=>At.updateMatrixWorld(!0)))}if(j.length>0){let nt,ct=!_.fromCreate&&st.physics.rigidBody==="dynamic"||_.fromCreate&&_.dynamic;ct?(nt=kt.RigidBodyDesc.dynamic(),nt.setLinearDamping(st.physics.damping).setAngularDamping(st.physics.damping).setAdditionalMass(1e-9).setGravityScale(st.physics.gravityScale).enabledRotations(...st.physics.enabledRotation).enabledTranslations(...st.physics.enabledTranslation)):(_.hasTransformAnim||_.hasFollow||_.hasDrag)&&!_.fromCreate?(nt=kt.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(s)):nt=kt.RigidBodyDesc.fixed();let At=ks(j);(s.hasNonUniformScale?s.matrixWorldRigid:s.matrixWorld).decompose(bi,so,rc),s.position0=bi.clone().divideScalar(this.pixelsPerMeter),s.rotation0=so.clone(),bi.divideScalar(this.pixelsPerMeter),nt.setTranslation(bi.x,bi.y,bi.z).setRotation(so),et?At==null||At.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):At==null||At.scale(rc.x/this.pixelsPerMeter,rc.y/this.pixelsPerMeter,rc.z/this.pixelsPerMeter);let mt=this.sharedGameControlGlobals.rapierWorld.createRigidBody(nt);ct&&this.rigidBodyToMesh.set(mt.handle,[s,rc.clone(),st.physics.fusedBody]);let gt=!(st.geometry===void 0||st.geometry.type==="SubdivGeometry"||st.geometry.type==="NonParametricGeometry"||st.geometry.type==="BooleanGeometry"||st.geometry.type==="VectorGeometry"||st.geometry.type==="StarGeometry"||st.geometry.type==="RectangleGeometry"||st.geometry.type==="EllipseGeometry"||st.geometry.type==="TriangleGeometry"||st.geometry.type==="TorusGeometry"||st.geometry.type==="HelixGeometry");try{this.addCollider(mt,st.physics,At,o,gt)}catch{try{this.addCollider(mt,st.physics,At,o,!1)}catch(_t){console.error(_t)}}s.rigidBody=mt}}addBoundsTree(s){var _,j;let o=[];if(((_=s.geometry)==null?void 0:_.getAttribute("position"))!==void 0&&((j=s.geometry)==null?void 0:j.getAttribute("position").count)>0&&o.push(io(s.geometry,s.shearScale)),s.traverseObject(this.gatherChildrenGeom(s,o)),s.children.forEach(et=>et.updateMatrixWorld(!0)),o.length>0){let et=ks(o,!1);s.bvhGeometry=et,et.getAttribute("position").count>0&&(s.bvhGeometry.boundsTree=new Po(et),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(s))}}addCollider(s,o,_,j,et=!0){var ct,At;if((_==null?void 0:_.getAttribute("position").count)===0||((ct=_==null?void 0:_.getIndex())==null?void 0:ct.count)===0)return;let st;_&&(o.colliderType==="trimesh"?st=kt.ColliderDesc.trimesh(_.getAttribute("position").array,_.getIndex().array):st=kt.ColliderDesc.convexMesh(_.getAttribute("position").array,et?_.getIndex().array:void 0)),st.setFrictionCombineRule(kt.CoefficientCombineRule.Average).setRestitutionCombineRule(kt.CoefficientCombineRule.Average).setDensity(o.density).setFriction(o.friction).setRestitution(o.restitution);let nt=this.sharedGameControlGlobals.rapierWorld.createCollider(st,s);this.sharedGameControlGlobals.colliderToEntity.set(nt.handle,j),(At=this.sharedGameControlGlobals.entityToCollisionEvents[j.uuid])!=null&&At.some(mt=>mt.target==="scene")&&nt.setActiveEvents(kt.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(s,o){return(_,j)=>{var ct;if(j===0)return;let et;if(_ instanceof Gi)if(_.objectForSample){if(_.objectForSample.dataPatched.physics.fusedBody)return;et=_.object}else return _.object.dataPatched.physics.fusedBody===!0&&_.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(_ instanceof Br)et=_.object;else if(et=_,(ct=et.dataPatched.cloner)==null?void 0:ct.hideBase)return!0;let st=et.dataPatched;if(st.physics.enabled==="visibility"?!st.visible:!st.physics.enabled)return!0;j===1?s.hasNonUniformScale?_.matrixWorld.multiplyMatrices(s.shearScale,_.hiddenMatrix):_.matrixWorld.copy(_.hiddenMatrix):_.matrixWorld.multiplyMatrices(_.parent.matrixWorld,_.hiddenMatrix),_.matrixWorld.multiply(_.matrix);let nt=_.geometry;(nt==null?void 0:nt.getAttribute("position"))!==void 0&&o.push(io(nt,_.matrixWorld))}}activate(s){var Et,Ct;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=s,this.usePhysics=this.page.data.globalPhysics.usePhysics;let o=this.page.playCamera,_=!1,j=5,et=8,st=9,nt="drag",ct=this.page.data.publish.gameControlObject,At=ct!==null?this.page.find(ct):null,mt=null;if(At)for(let Bt of At.data.events){if(Bt.data.disabled||Bt.data.type!=="GameControl")continue;let Dt=At;for(;this.usePhysics&&((Et=Dt=Dt.parent)==null?void 0:Et.parent)!==null;)(Ct=Dt.data.physics)==null||Ct.fusedBody;Bt.data.collisionEnabled&&(this.needsCollisionDetection=!0),mt===null&&(mt=Bt.data)}if(this.page.traverseEntity(Bt=>{for(let Dt of Bt.dataPatched.events)if(Dt.data.disabled===!1&&Dt.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),At&&mt&&(At.data.visible===!0||At.data.physics.enabled===!0)){_=_||mt.camera===o.uuid||At.uuid===o.uuid;let Bt=new og(At,this.renderer.domElement,mt,this.eventContext.page.data.globalPhysics,this,At.uuid!==o.uuid&&mt.camera===o.uuid,o,this.page,this.sharedAssets);this.gameControl=Bt,j=mt.joystickPosLoc,et=mt.joystickRotLoc,st=mt.jumpTouchButtonLoc,nt=mt.rotByTouch,Ci&&mt.touchControl&&(this.joystickToGameControls[j]="pos",mt.moveMode==="walk"&&(this.joystickToGameControls[st]="jmp"),nt==="joystick"&&(this.joystickToGameControls[et]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let Bt=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new Lb(this.usePhysics,this.isExport);let Dt;Bt.collider.type==="sphere"?Dt=Bt.collider.radius*2:Dt=Bt.collider.height,Dt=Math.floor(Dt/Bt.navmesh.ch-1),this.navigationMeshWrapper.init({...Bt.navmesh,walkableHeight:Dt},this.gameControl,this.eventContext)}}if(_===!1){let{enableRotate:Bt,enablePan:Dt,enableZoom:Ft,autoRotate:Rt,hoverRotatePanMode:Nt}=this.eventManager.publish.orbitControls;(Bt||Dt||Ft||Rt||Nt!==0)&&(this.orbitControls=new zf(o,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let gt=this.renderer.domElement.width/this.renderer.getPixelRatio(),_t=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((Bt,Dt)=>{let Ft=document.body.appendChild(document.createElement("div")),[Rt,Nt,Gt]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[Dt],dr=(gt-5*Rt)/4+Rt,ts={},es=Bt==="jmp",ds=es?0:Rt;Dt<10?(Dt<5?ts.top=ds/2:ts.bottom=ds/2,ts.left=ds/2+Dt%5*dr):Dt===10?(ts.left=ds/2,ts.top=_t/2):(ts.right=ds/2,ts.top=_t/2),ts.top?ts.top-=Nt[1]:ts.bottom+=Nt[1],ts.left?ts.left+=Nt[0]:ts.right-=Nt[0];for(let un in ts)ts[un]+="px";if(es){let un=Ft.appendChild(document.createElement("div"));Object.assign(un.style,ts,{position:"absolute",width:Rt+"px",height:Rt+"px",backgroundColor:`rgba(255,255,255,${Gt==="show"?.4:0})`,zIndex:"9999",borderRadius:Rt+"px",border:Gt==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let $n=Rt/16*16*.4;Gt==="show"&&(un.innerHTML=`
						<svg width="${$n}" height="${Rt*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),un.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),un.addEventListener("touchend",kn=>kn.preventDefault()),this.joysticks[Dt]=[void 0,Ft];return}let tn={zone:Ft,mode:"static",position:ts,size:Rt};Gt==="hide"&&(tn.restOpacity=0);let rn=mB.create(tn);rn.on("move",(un,$n)=>{let kn=this.gameControl;Bt==="pos"?$n.force<.2?kn.moveForce=0:(kn.movementState.movePosZ=Math.sin(-$n.angle.radian),kn.movementState.movePosX=Math.cos(-$n.angle.radian),$n.force>1.2?kn.movementState.run=1:kn.movementState.run=0,$n.force<.3?kn.moveForce=($n.force-.2)/.1:kn.moveForce=1):Bt==="rot"&&($n.force<.2?kn.rotForce=0:(kn.movementState.rotPosX=$n.vector.y,kn.movementState.rotPosY=-$n.vector.x,$n.force<.3?kn.rotForce=($n.force-.2)/.1:kn.rotForce=1)),this.requestRender()}),rn.on("end",(un,$n)=>{let kn=this.gameControl;Bt==="pos"?(kn.movementState.movePosZ=0,kn.movementState.movePosX=0,kn.moveForce=1):Bt==="rot"&&(kn.movementState.rotPosX=0,kn.movementState.rotPosY=0,kn.rotForce=1)}),this.joysticks[Dt]=[rn,Ft]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(Bt=>Bt.initialDisabled=!1)},80)}initPhysics(){var nt;(nt=this.sharedGameControlGlobals.rapierWorld)==null||nt.free(),this.sharedGameControlGlobals.rapierWorld=new kt.World(new kt.Vector3(0,this.gravity,0)),this.events=new kt.EventQueue(!0);let s=[],o=[];if(this.page.traverseChildren(ct=>{var Rt,Nt,Gt,dr;let At;if(ct instanceof Gi)if(ct.objectForSample){if(ct.objectForSample.dataPatched.physics.fusedBody)return;At=ct.object}else return ct.object.dataPatched.physics.fusedBody===!0&&ct.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(ct instanceof Br)At=ct.object;else{if(ct instanceof Zl||ct instanceof kl)return;if(At=ct,((Rt=At.dataPatched.cloner)==null?void 0:Rt.disabled)===!1&&((Nt=At.dataPatched.cloner)==null?void 0:Nt.hideBase)&&((Gt=At.dataPatched.physics)==null?void 0:Gt.fusedBody)!==!0)return!0}let mt=At.dataPatched,gt;for(let ts of mt.events)ts.data.disabled!==!0&&ts.data.type==="GameControl"&&(gt=ts.data);if(!mt.physics||(mt.physics.enabled==="visibility"?!mt.visible:!mt.physics.enabled))return!0;ct.updateMatrixWorldSVD();let _t=fg(mt),Et=!1,Ct=At.userData.hasDestroy,Bt=At.userData.hasDrag,Dt=!1;for(let ts of mt.events)if(ts.data.disabled!==!0){if(ts.data.type==="Collision"){Et=!0;let es=new Ob(ts.id,ts.data,At,this.page,this.sharedAssets,this.eventManager);es.initialDisabled=!0,this.collisionEvents.push(es),this.sharedGameControlGlobals.entityToCollisionEvents[At.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[At.uuid].every(ds=>ds.id!==ts.id)?this.sharedGameControlGlobals.entityToCollisionEvents[At.uuid].push(es):this.sharedGameControlGlobals.entityToCollisionEvents[At.uuid]=[es]}else if(ts.data.type==="Follow"){Dt=!0;let es=ts.data.target;ct.traverseVisible(ds=>{ds.userData.isFollowingObj=es})}}mt.physics.rigidBody==="dynamic"&&mt.physics.fusedBody===!1&&(ct.matrixWorldFusedFalse=ct.matrixWorld.clone());let Ft=ct.geometry;if(gt!==void 0){let ts=kt.RigidBodyDesc.kinematicPositionBased();(ct.hasNonUniformScale?ct.matrixWorldRigid:ct.matrixWorld).decompose(bi,so,rc),ct.position0=bi.clone().divideScalar(this.pixelsPerMeter),ct.rotation0=so.clone(),bi.divideScalar(this.pixelsPerMeter),ts.setTranslation(bi.x,bi.y,bi.z).setRotation(so);let es=this.sharedGameControlGlobals.rapierWorld.createRigidBody(ts);ct.rigidBody=es;let ds;gt.collider.type==="sphere"?ds=kt.ColliderDesc.ball(gt.collider.radius/this.pixelsPerMeter):gt.collider.type==="capsule"?ds=kt.ColliderDesc.capsule((gt.collider.height/2-gt.collider.radius)/this.pixelsPerMeter,gt.collider.radius/this.pixelsPerMeter):ds=kt.ColliderDesc.cuboid(gt.collider.width/this.pixelsPerMeter/2,gt.collider.height/this.pixelsPerMeter/2,gt.collider.depth/this.pixelsPerMeter/2),ds.setFrictionCombineRule(kt.CoefficientCombineRule.Average).setRestitutionCombineRule(kt.CoefficientCombineRule.Average).setDensity(mt.physics.density).setFriction(mt.physics.friction).setRestitution(mt.physics.restitution);let tn=this.sharedGameControlGlobals.rapierWorld.createCollider(ds,es);this.sharedGameControlGlobals.colliderToEntity.set(tn.handle,At),bi.fromArray(gt.collider.position).multiply(rc.setFromMatrixScale(At.matrixWorld)).divideScalar(this.pixelsPerMeter),tn.setTranslationWrtParent(bi);let rn=new Qe().setFromEuler(new ir().setFromVector3(new E$2().fromArray(gt.collider.rotation)));tn.setRotationWrtParent(rn),tn.setActiveEvents(kt.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(At,!0)}else mt.physics.rigidBody==="dynamic"||_t||Dt||Ct||Bt||Et?(this.addRigidBody(ct,At,{hasFollow:Dt,hasTransformAnim:_t,hasDrag:Bt}),this.generateSensorColliderDescs(At,mt.physics.fusedBody)):(Ft&&s.push(io(Ft,ct.matrixWorld)),mt.physics.fusedBody&&ct.traverseObject((ts,es)=>{var un;if(es===0)return;let ds;if(ts instanceof Gi)if(ts.objectForSample){if(ts.objectForSample.dataPatched.physics.fusedBody)return;ds=ts.object}else return ts.object.dataPatched.physics.fusedBody===!0&&ts.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else{if(ts instanceof Zl||ts instanceof kl)return;if(ts instanceof Br)ds=ts.object;else if(ds=ts,(un=ds.dataPatched.cloner)==null?void 0:un.hideBase)return!0}let tn=ds.dataPatched;if(tn.physics.enabled==="visibility"?!tn.visible:!tn.physics.enabled)return!0;let rn=ts.geometry;(rn==null?void 0:rn.getAttribute("position"))!==void 0&&s.push(io(rn,ts.matrixWorld))}),this.generateSensorColliderDescs(At,mt.physics.fusedBody,o));if(((dr=mt.physics)==null?void 0:dr.fusedBody)===!0||gt)return!0}),s.length===0)return;let _=ks(s);_.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let j=kt.RigidBodyDesc.fixed(),et=this.sharedGameControlGlobals.rapierWorld.createRigidBody(j),st=kt.ColliderDesc.trimesh(_.getAttribute("position").array,_.getIndex().array).setFrictionCombineRule(kt.CoefficientCombineRule.Multiply).setRestitutionCombineRule(kt.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(st,et);for(let[ct,At]of o){let mt=this.sharedGameControlGlobals.rapierWorld.createCollider(ct,et);this.sensorToTriggerEvent[mt.handle]=At}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(s=>{for(let o of s.dataPatched.events)if(o.data.type==="Trigger"&&o.data.disabled!==!0){let _=new pg(o.id,o.data,s,this.page,this.sharedAssets,this.eventManager),j=new ue$2().compose(oo.fromArray(o.data.position),kf.setFromEuler(BN.fromArray(o.data.rotation)),iT);if(o.data.triggerZone==="box"){let et=new jt;et.min.fromArray(o.data.size).multiplyScalar(-.5),et.max.fromArray(o.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([et,j,s,_])}else this.sharedGameControlGlobals.triggers.push([o.data.radius,j,s,_])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(s=>s.disconnect()),this.sharedGameControlGlobals.triggers.forEach(s=>s[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var s,o,_,j;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(et=>{let st=et;st.matrixWorldFusedFalse&&(st.matrixWorldFusedFalse=void 0),st.rigidBody&&(st.rigidBody=void 0),st.position0&&(st.position0=void 0),st.rotation0&&(st.rotation0=void 0)}),(s=this.sharedGameControlGlobals.rapierWorld)==null||s.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(o=this.gameControl)==null||o.reset(),(_=this.gameControl)==null||_.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([et,st])=>{et==null||et.destroy(),st.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(j=this.navigationMeshWrapper)==null||j.dispose(),this.navigationMeshWrapper=void 0;for(let et of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))et.forEach(st=>st.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(s,o,_){if(!this.isEnabled)return!0;let j=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(j=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,j=!1):this.initializationCounter===2&&this.gameControl&&(j=!this.gameControl.update(s,o,_)&&j),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let et=.016666666666666666;if(s===0)j=this.stepPhysics()&&j;else{let st=s/1e3;st<et&&st>et*.55&&(st=et),this.accumulator+=st;let nt=performance.now(),ct=0,At=6;for(;this.accumulator>=et&&ct<At&&(j=this.stepPhysics()&&j,this.accumulator-=et,ct++,!(performance.now()-nt>et*1e3)););this.accumulator=this.accumulator%et}}return j}stepPhysics(){var s;for(let o of this.sharedGameControlGlobals.entitiesWithTransformAnim){(o.hasNonUniformScale?o.matrixWorldRigid:o.matrixWorld).decompose(bi,so,rc),tT.setFromQuaternion(so);let _=o;_.prevR===void 0?(_.prevR=tT.clone(),_.prevT=bi.clone()):(_.prevR.copy(tT),_.prevT.copy(bi)),o.rigidBody&&(o.rigidBody.setNextKinematicTranslation(bi.divideScalar(this.pixelsPerMeter)),o.rigidBody.setNextKinematicRotation(so))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(s=this.events)==null||s.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(s,o,_){var st;let j=((st=this.sharedGameControlGlobals.rapierWorld)==null?void 0:st.getCollider(_))._parent,et;if(o.cloner){for(let nt of o.cloner.children)if(nt.rigidBody===j){et=nt;break}}s.dispatch(et),o.dispatchEvent(vb)}updateUseWindowEvents(s){var o;(o=this.orbitControls)==null||o.updateUseWindowEvents(s)}generateSensorColliderDescs(s,o,_){let j=NN.copy(s.matrixWorld).invert();s.traverseEntity((et,st)=>{if(o===!1&&st===1)return!0;for(let nt of et.dataPatched.events)if(nt.data.type==="Trigger"&&nt.data.disabled!==!0){let ct=new pg(nt.id,nt.data,et,this.page,this.sharedAssets,this.eventManager),At;if(nt.data.triggerZone==="box"?At=kt.ColliderDesc.cuboid(...nt.data.size.map(mt=>mt/(2*this.pixelsPerMeter))):At=kt.ColliderDesc.ball(nt.data.radius/this.pixelsPerMeter),At.setDensity(0).setSensor(!0).setActiveEvents(kt.ActiveEvents.COLLISION_EVENTS),oo.fromArray(nt.data.position),kf.setFromEuler(BN.fromArray(nt.data.rotation)),Fb.compose(oo,kf,iT).premultiply(et.matrixWorld),_?(Fb.decompose(oo,kf,rT),At.setActiveCollisionTypes(kt.ActiveCollisionTypes.KINEMATIC_FIXED|kt.ActiveCollisionTypes.DYNAMIC_FIXED)):(Fb.premultiply(j).decompose(oo,kf,rT),s.rigidBody.bodyType()===kt.RigidBodyType.Dynamic||(s.rigidBody.bodyType()===kt.RigidBodyType.Fixed?At.setActiveCollisionTypes(kt.ActiveCollisionTypes.KINEMATIC_FIXED|kt.ActiveCollisionTypes.DYNAMIC_FIXED):At.setActiveCollisionTypes(kt.ActiveCollisionTypes.KINEMATIC_KINEMATIC|kt.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),oo.divideScalar(this.pixelsPerMeter),At.setTranslation(oo.x,oo.y,oo.z),At.setRotation(kf),_)_.push([At,ct]);else{let mt=this.sharedGameControlGlobals.rapierWorld.createCollider(At,s.rigidBody);this.sensorToTriggerEvent[mt.handle]=ct}}})}checkTrigger(){let s;for(let o=0;o<this.sharedGameControlGlobals.triggers.length;o++){let[_,j,et,st]=this.sharedGameControlGlobals.triggers[o];for(let nt=0;nt<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;nt++){let ct=this.sharedGameControlGlobals.entitiesWithTransformAnim[nt];if(et===ct||st.isValidTriggeringObject(yt.is(ct)?ct:ct.object)===!1)continue;let At=NN.copy(et.matrixWorld).decompose(oo,FN,rT).compose(oo,FN,iT).multiply(j),mt=Fb.copy(ct.matrixWorld).invert().multiply(At);_ instanceof jt?s=ct.bvhGeometry.boundsTree.intersectsBox(_,mt):(nT.radius=_,nT.center.setFromMatrixPosition(mt),s=ct.bvhGeometry.boundsTree.intersectsSphere(nT)),s?st.currentIntersectedObjects.indexOf(ct)===-1&&(st.currentIntersectedObjects.push(ct),st.dispatch(),et.dispatchEvent(qJ)):st.currentIntersectedObjects=st.currentIntersectedObjects.filter(gt=>gt!==ct)}}}};function UN(s){let o=this._clip.duration,_=this._clip.start??0,j=this.loop,et=this.time+s,st=this._loopCount,nt=j===Sp;if(s===0)return st===-1?et:nt&&(st&1)===1?o-(et-_):et;if(j===Aw){st===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(et>=o)et=o;else if(et<0)et=0;else{this.time=et;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=et,this._mixer.dispatchEvent({type:"finished",action:this,direction:s<0?-1:1})}}else{if(st===-1&&(s>=0?(st=0,this._setEndings(!0,this.repetitions===0,nt)):this._setEndings(this.repetitions===0,!0,nt)),et>=o||et<_){let ct=Math.floor((et-_)/(o-_));et-=(o-_)*ct,st+=Math.abs(ct);let At=this.repetitions-st;if(At<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt||(et=s>0?o:_,this.repetitions===1&&(et=o)),this.time=et,this._mixer.dispatchEvent({type:"finished",action:this,direction:s>0?1:-1});else{if(At===1){let mt=s<0;this._setEndings(mt,!mt,nt)}else this._setEndings(!1,!1,nt);this._loopCount=st,this.time=et,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ct})}}else this.time=et;if(nt&&(st&1)===1)return o-(et-_)}return et}var zN=!1,Ub=class{constructor(s,o,_,j){this.scene=s,this.requestRender=o,this.updateDisplayProgress=_,this.animationInspectorState=j,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=et=>{et.data.type==="Empty"&&et.data.animations&&et.data.animations.forEach((st,nt)=>{let ct=st[0]+"/";if(Array.isArray(et.identity)?ct+=et.identity[0]:ct+=et.uuid,this.clipIdToAction[ct])return;let At=qu.parse(JSON.parse(st[2]));et.animations[nt]=At;let mt=this.mixer.clipAction(At,et);zN===!1&&(Object.getPrototypeOf(mt)._updateTime=UN,zN=!0),mt.clampWhenFinished=!0,this.clipIdToAction[ct]=mt})},this.mixer=new vy(s),this.scene.traverseEntity(this.addClip)}deleteClip(s,o){let _=this.scene.find(o);if(!_)return;let j=_.animations.find(st=>st.uuid===s);if(!j)return;let et=this.clipIdToAction[s];!et||(et.stop(),this.mixer.uncacheClip(j),delete this.clipIdToAction[s],_.animations=_.animations.filter(st=>st.uuid!==s))}get isPlaying(){return Object.values(this.clipIdToAction).some(s=>s.isRunning())}playFromInspector(s){this.mixer.stopAllAction();let o=this.clipIdToAction[s];!o||(o.play(),this.activeClip=o.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(s=>{s.repetitions=1/0,s.loop=Ew}),this.mixer.stopAllAction(),this.requestRender()}play(s){let o=s.clipId+"/"+s.object,_=this.clipIdToAction[o];if(_)return s&&(s.repeat>=0&&(_.repetitions=s.repeat+1),s.direction==="pingpong"&&s.repeat!==0&&(_.loop=Sp)),_.play(),_.paused=!1,this.requestRender(),_}resumeFromInspector(s){let o=this.clipIdToAction[s];!o||(o.play(),o.paused=!1,this.requestRender())}pauseFromInspector(s){let o=this.clipIdToAction[s];!o||(o.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(s){var o;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(o=this.animationInspectorState)!=null&&o.isScrubbing)return;this.mixer.update(s/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*(this.maxFrames-1)%(this.maxFrames-1))),this.requestRender()}get maxFrames(){return CM$1(this.activeClip??void 0)}setProgressFromInspector(s,o){if(!this.clipIdToAction[o])return;this.activeClip!==this.clipIdToAction[o].getClip()&&this.playFromInspector(o);let _=this.clipIdToAction[o].paused;this.clipIdToAction[o].paused=!1,this.mixer.setTime(Math.min(s/(this.maxFrames-1),.9999)*this.activeClip.duration),this.requestRender(),_&&(this.clipIdToAction[o].paused=!0)}},sT=new WeakMap,zb=class extends nl{constructor(s){super(s),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(s){return this.decoderPath=s,this}setDecoderConfig(s){return this.decoderConfig=s,this}setWorkerLimit(s){return this.workerLimit=s,this}load(s,o,_,j){let et=new Yu(this.manager);et.setPath(this.path),et.setResponseType("arraybuffer"),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials),et.load(s,st=>{this.decodeDracoFile(st,o).catch(j)},_,j)}decodeDracoFile(s,o,_,j){let et={attributeIDs:_||this.defaultAttributeIDs,attributeTypes:j||this.defaultAttributeTypes,useUniqueIDs:!!_};return this.decodeGeometry(s,et).then(o)}decodeGeometry(s,o){let _=JSON.stringify(o);if(sT.has(s)){let ct=sT.get(s);if(ct.key===_)return ct.promise;if(s.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let j,et=this.workerNextTaskID++,st=s.byteLength,nt=this._getWorker(et,st).then(ct=>(j=ct,new Promise((At,mt)=>{j._callbacks[et]={resolve:At,reject:mt},j.postMessage({type:"decode",id:et,taskConfig:o,buffer:s},[s])}))).then(ct=>this._createGeometry(ct.geometry));return nt.catch(()=>!0).then(()=>{j&&et&&this._releaseTask(j,et)}),sT.set(s,{key:_,promise:nt}),nt}_createGeometry(s){let o=new _e;s.index&&o.setIndex(new Xe(s.index.array,1));for(let _=0;_<s.attributes.length;_++){let j=s.attributes[_],et=j.name,st=j.array,nt=j.itemSize;o.setAttribute(et,new Xe(st,nt))}return o}_loadLibrary(s,o){let _=new Yu(this.manager);return _.setPath(this.decoderPath),_.setResponseType(o),_.setWithCredentials(this.withCredentials),new Promise((j,et)=>{_.load(s,j,void 0,et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let s=typeof WebAssembly!="object"||this.decoderConfig.type==="js",o=[];return s?o.push(this._loadLibrary("draco_decoder.js","text")):(o.push(this._loadLibrary("draco_wasm_wrapper.js","text")),o.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(o).then(_=>{let j=_[0];s||(this.decoderConfig.wasmBinary=_[1]);let et=YJ.toString(),st=["/* draco decoder */",j,"","/* worker */",et.substring(et.indexOf("{")+1,et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([st]))}),this.decoderPending}_getWorker(s,o){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let j=new Worker(this.workerSourceURL);j._callbacks={},j._taskCosts={},j._taskLoad=0,j.postMessage({type:"init",decoderConfig:this.decoderConfig}),j.onmessage=function(et){let st=et.data;switch(st.type){case"decode":j._callbacks[st.id].resolve(st);break;case"error":j._callbacks[st.id].reject(st);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+st.type+'"')}},this.workerPool.push(j)}else this.workerPool.sort(function(j,et){return j._taskLoad>et._taskLoad?-1:1});let _=this.workerPool[this.workerPool.length-1];return _._taskCosts[s]=o,_._taskLoad+=o,_})}_releaseTask(s,o){s._taskLoad-=s._taskCosts[o],delete s._callbacks[o],delete s._taskCosts[o]}debug(){console.log("Task load: ",this.workerPool.map(s=>s._taskLoad))}dispose(){for(let s=0;s<this.workerPool.length;++s)this.workerPool[s].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function YJ(){let s,o;onmessage=function(nt){let ct=nt.data;switch(ct.type){case"init":s=ct.decoderConfig,o=new Promise(function(gt){s.onModuleLoaded=function(_t){gt({draco:_t})},DracoDecoderModule(s)});break;case"decode":let At=ct.buffer,mt=ct.taskConfig;o.then(gt=>{let _t=gt.draco,Et=new _t.Decoder,Ct=new _t.DecoderBuffer;Ct.Init(new Int8Array(At),At.byteLength);try{let Bt=_(_t,Et,Ct,mt),Dt=Bt.attributes.map(Ft=>Ft.array.buffer);Bt.index&&Dt.push(Bt.index.array.buffer),self.postMessage({type:"decode",id:ct.id,geometry:Bt},Dt)}catch(Bt){console.error(Bt),self.postMessage({type:"error",id:ct.id,error:Bt.message})}finally{_t.destroy(Ct),_t.destroy(Et)}});break}};function _(nt,ct,At,mt){let gt=mt.attributeIDs,_t=mt.attributeTypes,Et,Ct,Bt=ct.GetEncodedGeometryType(At);if(Bt===nt.TRIANGULAR_MESH)Et=new nt.Mesh,Ct=ct.DecodeBufferToMesh(At,Et);else if(Bt===nt.POINT_CLOUD)Et=new nt.PointCloud,Ct=ct.DecodeBufferToPointCloud(At,Et);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!Ct.ok()||Et.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+Ct.error_msg());let Dt={index:null,attributes:[]};for(let Ft in gt){let Rt=self[_t[Ft]],Nt,Gt;if(mt.useUniqueIDs)Gt=gt[Ft],Nt=ct.GetAttributeByUniqueId(Et,Gt);else{if(Gt=ct.GetAttributeId(Et,nt[gt[Ft]]),Gt===-1)continue;Nt=ct.GetAttribute(Et,Gt)}Dt.attributes.push(et(nt,ct,Et,Ft,Rt,Nt))}return Bt===nt.TRIANGULAR_MESH&&(Dt.index=j(nt,ct,Et)),nt.destroy(Et),Dt}function j(nt,ct,At){let mt=At.num_faces()*3,gt=mt*4,_t=nt._malloc(gt);ct.GetTrianglesUInt32Array(At,gt,_t);let Et=new Uint32Array(nt.HEAPF32.buffer,_t,mt).slice();return nt._free(_t),{array:Et,itemSize:1}}function et(nt,ct,At,mt,gt,_t){let Et=_t.num_components(),Ct=At.num_points()*Et,Bt=Ct*gt.BYTES_PER_ELEMENT,Dt=st(nt,gt),Ft=nt._malloc(Bt);ct.GetAttributeDataArrayForAllPoints(At,_t,Dt,Bt,Ft);let Rt=new gt(nt.HEAPF32.buffer,Ft,Ct).slice();return nt._free(Ft),{name:mt,array:Rt,itemSize:Et}}function st(nt,ct){switch(ct){case Float32Array:return nt.DT_FLOAT32;case Int8Array:return nt.DT_INT8;case Int16Array:return nt.DT_INT16;case Int32Array:return nt.DT_INT32;case Uint8Array:return nt.DT_UINT8;case Uint16Array:return nt.DT_UINT16;case Uint32Array:return nt.DT_UINT32}}}var ic;function kN(){return ic||(ic=new zb,ic.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),ic.decoderPending}async function XJ(s){if(ic){let o={attributeIDs:ic.defaultAttributeIDs,attributeTypes:ic.defaultAttributeTypes,useUniqueIDs:!1},_;try{_=await ic.decodeGeometry(new Int8Array(s).buffer,o)}catch(j){console.error(j)}if(_)return{index:_.index?{array:_.index.array}:void 0,attributes:Object.entries(_.attributes).map(([j,et])=>({name:j,itemSize:et.itemSize,array:et.array}))}}return null}async function GN(s,o){let[_,j]=n1(Mv.deserialize(new Uint8Array(s)));return Xv(_),j.result().data}function jN(s){let o=[];return s.scene.objects.traverse((_,j)=>{j.type==="Mesh"&&j.geometry.type==="NonParametricGeometry"&&j.geometry.data.draco!==void 0&&o.push(j)}),o}async function HN(s){for(let o of s){let _=await XJ(o.geometry.data.draco);if(_){let j=o.geometry.data;_.index&&(j.index={array:_.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let et={};_.attributes.forEach(({name:st,array:nt,itemSize:ct})=>{et[st]={array:nt,itemSize:ct,type:"Float32Array",normalized:!1}}),j.attributes=et,j.draco=void 0}}}var kb=class{constructor(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0],this._delay=500,this._distance=2,this._onMouseDown=s=>{let o=[s.clientX,s.clientY],_=new Date().getTime();if(this._clickCount>0){let j=o[0]-this._lastPosition[0],et=o[1]-this._lastPosition[1];Math.sqrt(j*j+et*et)>this._distance&&(this._clickCount=0)}this._lastPosition=o,this._clickCount=_-this._lastTime>this._delay?1:this._clickCount+1,this._lastTime=_},this._onMouseUp=s=>{}}start(s,o=500,_=2){this._target&&this.stop(),this.reset(),this._delay=o,this._distance=_,this._target=s,this._target.addEventListener("pointerdown",this._onMouseDown,!1),this._target.addEventListener("pointerup",this._onMouseUp,!1)}stop(){this._target&&(this._target.removeEventListener("pointerdown",this._onMouseDown,!1),this._target.removeEventListener("pointerup",this._onMouseUp,!1),this._target=void 0)}get clickCount(){return this._clickCount}reset(){this._clickCount=0,this._lastTime=0,this._lastPosition=[0,0]}},oT=class{constructor(s,o,_,j,et,st,nt,ct){this.eventId=s,this.id=o,this.data=_,this.dataEvent=j,this.object=et,this.stage=!1,this.actions=Kt(j,_.actions,st,nt,ct,et)}disconnect(){ur(this.actions)}dispatchIn(){this.actions.Audio.forEach(s=>s.dispatchBasic()),this.actions.Particles.forEach(s=>s.dispatchBasic()),this.actions.Video.forEach(s=>s.dispatchBasic()),this.actions.Create.forEach(s=>s.dispatch()),this.actions.Destroy.forEach(s=>s.dispatch()),this.actions.Reset.forEach(s=>s.dispatch()),this.actions.Link.forEach(s=>s.dispatch()),this.actions.Transition.forEach(s=>{s.object.currentTransitionEvent!==this&&(s.object.currentTransitionEvent=this,s.init())}),this.actions.Transition.forEach(s=>s.toggle()),this.actions.Animation.forEach(s=>s.play()),this.actions.SwitchCamera.forEach(s=>s.play()),this.actions.SceneTransition.forEach(s=>s.dispatch()),this.actions.SetVariable.forEach(s=>s.checkConditions()),this.actions.SetVariable.forEach(s=>s.dispatch()),this.actions.DynamicVariablePlay.forEach(s=>s.dispatch()),this.actions.ClearLocalStorage.forEach(s=>s.dispatch()),this.actions.UserAPI.forEach(s=>s.dispatch())}dispatchOut(){this.actions.Transition.forEach(s=>{s.toggle()})}},Gb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.breakpoints=[],this.resize=(_,j)=>{this.breakpoints.forEach(et=>{let st=_v.deviceToSize(et.data.size),nt=et.dataEvent.orientation==="horizontal"?_:j,ct;switch(et.data.operator){case"<":ct=nt<st[0];break;case">":ct=nt>st[0];break;case"<>":ct=nt>st[0]&&nt<st[1];break}et.stage!==ct&&(et.stage=ct,et.stage?et.dispatchIn():et.dispatchOut())})},this.onResizeObserver=new ResizeObserver(_=>{for(let j of _){let{width:et,height:st}=j.contentRect;this.resize(et,st)}})}connect(){let{page:s,sharedAssets:o,domElement:_}=this.eventContext;this.onResizeObserver.observe(_);let j=et=>{var st;if(!(!et.visible||!((st=et.data)!=null&&st.events.length)))for(let{data:nt,id:ct}of et.data.events)nt.disabled||nt.type==="Resize"&&nt.breakpoints.forEach(({data:At,id:mt})=>{try{let gt=new oT(ct,mt,At,nt,et,s,o,this.eventManager);this.breakpoints.push(gt)}catch{}})};s.traverseEntity(et=>{var st;(et instanceof Er||et instanceof cr)&&((st=et.frame)==null||st.traverse(nt=>{j(nt)})),j(et)})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(s=>{s.disconnect()}),this.breakpoints=[]}},jb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.userAPIs={},this.events=[],this.onSuccess=({userAPIId:_})=>{this.events.forEach(j=>{j.data.userAPIId===_&&j.dispatchSuccess()})},this.onError=({userAPIId:_})=>{this.events.forEach(j=>{j.data.userAPIId===_&&j.dispatchError()})},this.userAPIs=s.sharedAssets.getUserAPIs()}connect(){this.eventContext.page.traverseEntity(s=>{var o;(o=s.data)==null||o.events.filter(_=>_.data.type==="API"&&!_.data.disabled).forEach(_=>{this.events.push(new aT(_.id,_.data,s,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userAPIs).forEach(([s,o])=>{o.on("success",this.onSuccess),o.on("error",this.onError),o.autostart&&o.callUserAPI(this.eventContext.sharedAssets)})}disconnect(){Object.entries(this.userAPIs).forEach(([s,o])=>{o.off("success",this.onSuccess),o.off("error",this.onError)})}},aT=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.successActions=Kt(o,o.successActions,j,et,st,_),this.errorActions=Kt(o,o.errorActions,j,et,st,_)}dispatchSuccess(){this.dispatchActions(this.successActions)}dispatchError(){this.dispatchActions(this.errorActions)}dispatchActions(s){s.Audio.forEach(o=>o.dispatchConditional()),s.Particles.forEach(o=>o.dispatchConditional()),s.Video.forEach(o=>o.dispatchConditional()),s.Create.forEach(o=>o.dispatch()),s.Destroy.forEach(o=>o.dispatch()),s.Reset.forEach(o=>o.dispatch()),s.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this),o.init()}),s.Transition.forEach(o=>o.play()),s.Animation.forEach(o=>o.play()),s.SwitchCamera.forEach(o=>o.play()),s.SceneTransition.forEach(o=>o.dispatch()),s.SetVariable.forEach(o=>o.checkConditions()),s.SetVariable.forEach(o=>o.dispatch()),s.DynamicVariablePlay.forEach(o=>o.dispatch()),s.ClearLocalStorage.forEach(o=>o.dispatch()),s.UserAPI.forEach(o=>o.dispatch())}},Hb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this.userWebhooks={},this.events=[],this.onMessage=({userWebhookId:_})=>{this.events.forEach(j=>{j.data.userWebhookId===_&&j.dispatch()})},this.userWebhooks=s.sharedAssets.getUserWebhooks()}connect(){this.eventContext.page.traverseEntity(s=>{var o;(o=s.data)==null||o.events.filter(_=>_.data.type==="WEBHOOK"&&!_.data.disabled).forEach(_=>{this.events.push(new lT(_.id,_.data,s,this.eventContext.page,this.eventContext.sharedAssets,this.eventManager))})}),Object.entries(this.userWebhooks).forEach(([s,o])=>{o.connect(),o.on("message",this.onMessage)})}disconnect(){Object.entries(this.userWebhooks).forEach(([s,o])=>{o.off("message",this.onMessage),o.disconnect()})}},lT=class{constructor(s,o,_,j,et,st){this.id=s,this.data=o,this.object=_,this.actions=Kt(o,o.actions,j,et,st,_)}dispatch(){let s=this.actions;s.Audio.forEach(o=>o.dispatchConditional()),s.Particles.forEach(o=>o.dispatchConditional()),s.Video.forEach(o=>o.dispatchConditional()),s.Create.forEach(o=>o.dispatch()),s.Destroy.forEach(o=>o.dispatch()),s.Reset.forEach(o=>o.dispatch()),s.Transition.forEach(o=>{o.object.currentTransitionEvent!==this&&(o.object.currentTransitionEvent=this),o.init()}),s.Transition.forEach(o=>o.play()),s.Animation.forEach(o=>o.play()),s.SwitchCamera.forEach(o=>o.play()),s.SceneTransition.forEach(o=>o.dispatch()),s.SetVariable.forEach(o=>o.checkConditions()),s.SetVariable.forEach(o=>o.dispatch()),s.DynamicVariablePlay.forEach(o=>o.dispatch()),s.ClearLocalStorage.forEach(o=>o.dispatch()),s.UserAPI.forEach(o=>o.dispatch())}};function QJ(){let s=document.createElement("textarea");return s.style.position="fixed",s.style.top="200px",s.style.left="400px",s.style.zIndex="-1",s.style.border="1px solid rgba(255,0,0,0.5)",s.style.width="10px",s.style.height="500px",s.style.color="white",s.style.opacity="0.5",s.style.background="transparent",s.style.display="none",s.style.margin="0px",s.style.padding="0px",s.style.boxSizing="content-box",s.style.pointerEvents="none",s}var KJ=new E$2(0,0,1),WN=new E$2,qN=new E$2,YN=new fr$7,Wb=class{constructor(s,o,_,j,et){this.containerScene=s,this.raycaster=o,this.sharedAssets=_,this.requestRender=j,this.onExit=et,this.htmlInput=null,this.virtualInput=null,this.helper=new Sf,this.doubleClickHandler=new kb,this.isDragging=!1,this.plane=new Vr,this.caretInterval=0,this.planeIntersection=new E$2,this.projected=new U$1,this._lastIndex=0,this._isFirstDragMove=!1,this.selectionOnDragStart=0,this.onTextMaterialChanged=()=>{var nt;let st=(nt=this.virtualInput)==null?void 0:nt.data;if(this.virtualInput!==void 0&&st){let ct=st.material,At=typeof ct=="string"?this.sharedAssets.data.materials[ct]:ct,mt=K3(At,this.sharedAssets);this.helper.setCaretColor(mt)}},this.stopAnimateTextCursor=()=>{clearInterval(this.caretInterval),this.helper&&(this.helper.caretMesh.visible=!1)},this.startAnimateTextCursor=()=>{this.stopAnimateTextCursor(),this.helper&&(this.helper.caretMesh.visible=!0,this.caretInterval=setInterval(()=>{this.helper&&(this.helper.caretMesh.visible=!this.helper.caretMesh.visible),this.requestRender()},600))},this.handleCaretUpdate=st=>{if(!this.htmlInput||!this.virtualInput)return;let nt=this.helper,ct=(st==null?void 0:st.key)==="ArrowLeft"||(st==null?void 0:st.key)==="ArrowRight",At=(st==null?void 0:st.key)==="ArrowUp"||(st==null?void 0:st.key)==="ArrowDown";this.htmlInput.selectionStart===this.htmlInput.selectionEnd?(nt.setCaretPosition(this.htmlInput.selectionStart,{horizontalKeyMove:ct,verticalKeyMove:At}),this.startAnimateTextCursor()):nt.setSelection(this.htmlInput.selectionStart,this.htmlInput.selectionEnd),this.requestRender()},this.containerScene.add(this.helper)}createInput(){return this.htmlInput=QJ(),this.htmlInput}connect(){}disconnect(){var s;this.stopAnimateTextCursor(),this.helper.hide(),(s=this.htmlInput)==null||s.remove(),this.doubleClickHandler.stop()}handleMouseDown(){var st,nt;if(!this.htmlInput||!this.virtualInput)return!0;this.getPointOnPlane();let s=this.doubleClickHandler.clickCount,{index:o,lineIndex:_,characterIndex:j}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,s>1?"inside":"previous")??{index:0,lineIndex:0,characterIndex:0};(nt=(st=this.virtualInput)==null?void 0:st.wrappedText)!=null&&nt.length&&this.virtualInput.wrappedText[_][Math.max(0,j-1)]===`
`&&(o--,j--),this._lastIndex=o,this._isFirstDragMove=!0;let et=this.checkClickedObject();if(s===1){if(et===null)return this.onExit(this.virtualInput),!0;this.selectionOnDragStart=o,this.isDragging=!0,this.setInputSelection(o)}else et===this.virtualInput&&(s===2?this.selectClosestWord(_,j):s>2&&(this.setInputSelection(0,this.htmlInput.value.length),this.doubleClickHandler.reset()))}handleMouseUp(){this.applyRangeToTextInput(),this.isDragging=!1,this._isFirstDragMove=!1}handleMouseMove(){!this.virtualInput||(this._isFirstDragMove&&this.doubleClickHandler.clickCount>1&&(this.selectionOnDragStart=this._lastIndex,this.isDragging=!0,this.setInputSelection(this._lastIndex)),this._isFirstDragMove=!1,this.getPointOnPlane(),this.applyRangeToTextInput())}focus(s){var o;if(this.virtualInput=s,this.updateTextInputStyles(),this.htmlInput)if(s){let _=(o=this.data)==null?void 0:o.geometry.text;this.htmlInput.value=typeof _=="string"?"":(_==null?void 0:_.textValue.toString())??""}else this.htmlInput.value=""}blur(){}get data(){let{virtualInput:s}=this;if(s)return s.dataPatched}applyRangeToTextInput(){var et;if(!this.isDragging||!this.virtualInput||!this.htmlInput)return;let s=this.selectionOnDragStart,{index:o,lineIndex:_,characterIndex:j}=this.helper.getSelectionFromPosition(this.projected.x,this.projected.y,this.doubleClickHandler.clickCount>2?"inside":"previous")??{index:0};_!==void 0&&j!==void 0&&((et=this.virtualInput)==null?void 0:et.wrappedText[_][j-1])===`
`&&o--,this.htmlInput.setSelectionRange(Math.min(s,o),Math.max(s,o))}checkClickedObject(){if(this.virtualInput){let s=this.raycaster.intersectObject(this.virtualInput,!1);if(s.length>0){let o=s[0];if(o.object instanceof Ql)return o.object}}return null}selectClosestWord(s,o){if(!this.virtualInput)return;let _=this.virtualInput.wrappedText,j=_[s],et=o+1,st=o;j[o]!==" "&&(et=this.findNextCharOccurence(j,o,"forward"," "),st=this.findNextCharOccurence(j,o,"backward"," "),st>0&&st++,et>=j.length-1&&s===_.length-1&&et++);let nt=this.helper,ct=nt.getGlobalIndexFromLineAndCharIndexes(_,s,st),At=nt.getGlobalIndexFromLineAndCharIndexes(_,s,et);this.setInputSelection(ct,At)}findNextCharOccurence(s,o,_,j=" "){let et=Math.max(0,s.length-1),st=_==="forward"?et:0,nt=_==="forward"?1:-1,ct=Math.max(Math.min(o,et),0);for(;ct!==st;)if(ct+=nt,s.charAt(ct)===j)return ct;return st}getPointOnPlane(){var o;let s=(o=this.virtualInput)==null?void 0:o.data;if(!(!this.virtualInput||!s)&&this.raycaster.ray.intersectsPlane(this.plane)){this.planeIntersection===null&&(this.planeIntersection=new E$2);let _=this.raycaster.ray.intersectPlane(this.plane,this.planeIntersection);if(_){this.planeIntersection.copy(this.virtualInput.worldToLocal(_));let j=typeof s.geometry.width=="number"?s.geometry.width:1,et=typeof s.geometry.height=="number"?s.geometry.height:1;this.projected.set(_.x+j*.5,_.y-et*.5)}}}updatePlane(){var o;let s=(o=this.virtualInput)==null?void 0:o.data;this.virtualInput&&s&&(YN.getNormalMatrix(this.virtualInput.matrixWorld),WN.copy(KJ).applyMatrix3(YN).normalize(),this.virtualInput.localToWorld(qN.set(0,0,s.geometry.depth)),this.plane.setFromNormalAndCoplanarPoint(WN,qN))}setInputSelection(s,o=s){var _;(_=this.htmlInput)==null||_.setSelectionRange(s,o),setTimeout(()=>{var j;(j=this.htmlInput)==null||j.focus()})}updateTextInputStyles(){var o;let s=(o=this.virtualInput)==null?void 0:o.data;this.virtualInput&&s&&this.htmlInput&&(this.htmlInput.style.fontSize=s.geometry.fontSize+"px",this.htmlInput.style.letterSpacing=s.geometry.letterSpacing*s.geometry.fontSize+"px",this.htmlInput.style.lineHeight=s.geometry.fontSize*s.geometry.lineHeight+"px",this.htmlInput.style.width=s.geometry.width+"px",this.htmlInput.style.height=s.geometry.height+"px",this.htmlInput.style.textAlign=ZJ(s.geometry.horizontalAlign))}};function ZJ(s){return s===4?"justify":s===2?"right":s===3?"center":"left"}var QN=(s,o)=>{if(typeof s=="string"){let _=o.data(s);if(_)return QN(_.value,o)}return Lr$1.getDisplayedValue(s)};function XN(s,o){let _=s.text,j="";if(typeof _=="string"){let et=o.variables.data(j);et&&(j=QN(et.value,o.variables))}else j=_.textValue.toString();return j}var qb=class extends hr$1{constructor(s,o){super(s),this.eventManager=o,this._textInputs=[],this.sceneHelpers=new ei,this.helper=new Sf,this._onMouseDownFocusIn=_=>{if(Je.length>1)return;this.eventContext.updateRaycaster(_);let j=null;if(this.eventContext.raycaster){for(let et of this._textInputs)if(this.eventContext.raycaster.intersectObject(et,!0).length>0){j=et;break}}this.focusOnTextInput(j),this._onCaretUpdate(),this._onMouseUp(),this.textInputManager.doubleClickHandler.start(this.eventContext.domElement),this.textInputManager.doubleClickHandler._onMouseDown(_),this._onMouseDown(_)},this.onExit=()=>{let{virtualInput:_}=this.textInputManager;if(_===null)return;let j=this.textInputManager.htmlInput;this.helper.hide(),j==null||j.setSelectionRange(j.value.length,j.value.length),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0);let{domElement:et}=this.eventContext;et.removeEventListener("pointerdown",this._onMouseDown,!1),et.removeEventListener("pointerup",this._onMouseUp,!1),et.removeEventListener("pointermove",this._onMouseMove,!1),window.removeEventListener("keydown",this._onKeyPress),this.textInputManager.doubleClickHandler.reset(),et.addEventListener("pointerdown",this._onMouseDownFocusIn),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers()},this._onMouseDown=_=>{this.eventContext.updateRaycaster(_),this.textInputManager.handleMouseDown(),this.textInputManager.virtualInput&&this.eventContext.raycaster.intersectObject(this.textInputManager.virtualInput,!0).length>0&&this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1)},this._onMouseUp=()=>{this.textInputManager.handleMouseUp(),this.eventManager.controlsManager.orbitControls&&!this.eventManager.controlsManager.orbitControls.enabled&&(this.eventManager.controlsManager.orbitControls.enabled=!0)},this._onMouseMove=_=>{this.eventContext.updateRaycaster(_),this.textInputManager.handleMouseMove()},this._onTextEdit=_=>{let{htmlInput:j,virtualInput:et,helper:st}=this.textInputManager;if(!j||!et)return;let nt=j.value;et.textGeometry.setText(nt).then(()=>{this.eventContext.requestRender()});let ct=et.data;st.update();let At=ct.geometry.text;if(typeof At=="string"){let mt=At;this.eventContext.sharedAssets.updateVariable(mt,{textValue:nt})}this.textInputManager.updateTextInputStyles(),this._onCaretUpdate()},this._onCaretUpdate=_=>{this.textInputManager.handleCaretUpdate(_)},this._onKeyPress=_=>{_.key==="Escape"&&this.onExit()},this.textInputManager=new Wb(this.sceneHelpers,s.raycaster,s.sharedAssets,s.requestRender,this.onExit)}connect(){let s=[];if(this.eventContext.scene.traverseEntity(j=>{j instanceof Ql&&s.push(j)}),this._textInputs=s,s.length===0)return;let{domElement:o}=this.eventContext;o.addEventListener("pointerdown",this._onMouseDownFocusIn),this.textInputManager.connect();let _=this.textInputManager.createInput();document.body.appendChild(_),_.style.display="none",_.addEventListener("keyup",this._onCaretUpdate),_.addEventListener("keydown",this._onCaretUpdate),_.addEventListener("beforeinput",this._onCaretUpdate),_.addEventListener("paste",this._onCaretUpdate),_.addEventListener("cut",this._onCaretUpdate),_.addEventListener("select",this._onCaretUpdate),_.addEventListener("selectstart",this._onCaretUpdate)}disconnect(){let s=this.textInputManager.htmlInput,{domElement:o}=this.eventContext;o.removeEventListener("pointerdown",this._onMouseDownFocusIn),s==null||s.removeEventListener("keyup",this._onCaretUpdate),s==null||s.removeEventListener("keydown",this._onCaretUpdate),s==null||s.removeEventListener("beforeinput",this._onCaretUpdate),s==null||s.removeEventListener("paste",this._onCaretUpdate),s==null||s.removeEventListener("cut",this._onCaretUpdate),s==null||s.removeEventListener("select",this._onCaretUpdate),s==null||s.removeEventListener("selectstart",this._onCaretUpdate),this._textInputs.forEach(_=>{let j=XN(_.data.geometry,this.eventContext.sharedAssets.data);_.textGeometry.setText(j)}),o.removeEventListener("pointerdown",this._onMouseDown,!1),o.removeEventListener("pointerup",this._onMouseUp,!1),o.removeEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress),this.eventContext.renderer.sceneHelpersOnTop=void 0,this.eventContext.renderer.pipeline.disableHelpers(),this.textInputManager.disconnect()}focusOnTextInput(s){this.textInputManager.focus(s),this.textInputManager.onTextMaterialChanged();let o=this.textInputManager.htmlInput;if(!o||s===null)return;this.textInputManager.updateTextInputStyles(),this.eventContext.renderer.sceneHelpersOnTop=this.sceneHelpers,this.eventContext.renderer.pipeline.enableHelpers(),this.textInputManager.isDragging=!1;let _=XN(s.textGeometry.userData.parameters,this.eventContext.sharedAssets.data);o.value=_,o.setSelectionRange(0,0),this.textInputManager.helper.show(s),o.style.display="block",o.addEventListener("input",this._onTextEdit),this.textInputManager.updatePlane();let{domElement:j}=this.eventContext;j.removeEventListener("pointerdown",this._onMouseDownFocusIn),j.addEventListener("pointerdown",this._onMouseDown,!1),j.addEventListener("pointerup",this._onMouseUp,!1),j.addEventListener("pointermove",this._onMouseMove,!1),window.addEventListener("keydown",this._onKeyPress)}},Yb=class{constructor(s,o,_,j,et){this.publish=s,this.controlsManager=o,this.animationControls=_,this.eventContext=j,this.sharedVariables=et,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=st=>{let nt=window.parent!==window,ct=document.documentElement.scrollHeight>document.documentElement.clientHeight||document.documentElement.scrollWidth>document.documentElement.clientWidth;(st.touches.length>1||this.preventTouchScroll||nt===!1&&ct===!1)&&st.preventDefault()},this.onMouseWheelPreventScroll=st=>{this.preventScroll&&st.preventDefault()},this.onMouseMove=st=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(st),pressed:st.buttons>0}},this.onMouseDown=st=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(st),pressed:!0}},this.onMouseUp=st=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(st),pressed:!1}},this.getMousePosition=st=>{var mt;let{domRect:nt}=this.eventContext,{pageX:ct,pageY:At}=((mt=st.touches)==null?void 0:mt.length)>0?st.touches[0]:st;return{x:ct-(nt.left+window.scrollX),y:At-(nt.top+window.scrollY)}},this.stopRaycast=s.stopRaycast,this.preventScroll=s.preventScroll,this.preventTouchScroll=s.preventTouchScroll,this.hideCursor=s.hideCursor,this.requestRender=j.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new Sb(this.eventContext),VariableChange:new Rb(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),API:new jb(this.eventContext,this),WEBHOOK:new Hb(this.eventContext,this),Conditional:new Eb(this.eventContext,this),Start:new Ib(this.eventContext,this),Basic:new wb(this.eventContext,this,this.needsRaycast),MouseHover:new _b(this.eventContext,this),Scroll:new Db(this.eventContext,this),Follow:new Tb(this.eventContext,this),DragDrop:new Mb(this.eventContext,this),LookAt:new Pb(this.eventContext),Resize:new Gb(this.eventContext,this),Textfields:new qb(this.eventContext,this)};let{page:s,domElement:o}=this.eventContext;this.hideCursor&&(o.style.cursor="none"),s.traverseEntity(_=>{_.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(_=>_.connect()),o.addEventListener("wheel",this.onMouseWheelPreventScroll),o.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){var _;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:s,domElement:o}=this.eventContext;o.style.cursor="",Object.values(this.handlers).forEach(j=>j.disconnect()),(_=this.controlsManager.gameControl)==null||_.disposeActions(),this.controlsManager.disconnectEvents(),s.traverseEntity(j=>{j.removeEventListener("requestRender",this.requestRender),j.destroyedInAction=!1}),o.removeEventListener("touchmove",this.onTouchMovePreventScroll),o.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(s){let o=this.isEnabled;o&&this.deactivate(),this.eventContext.useWindowEvents=s,o&&this.activate()}initializeActionsDependentStates(){let s=this.eventContext.sharedAssets;s.resetDynamicVariablePlayState();let o=_=>{if(_.data.type==="Conditional"&&(_.data.ifActions.forEach(o),_.data.elseActions.forEach(o)),_.data.type==="Conditional"||_.data.type==="SetVariable")for(let j of _.data.type==="Conditional"?_.data.condition:_.data.expression)"id"in j&&Array.isArray(j.id)&&(j.id[0]==="mouse"&&(this.needsMouse=!0),j.id[0]==="raycast"&&(this.needsRaycast=!0));_.data.type==="DynamicVariablePlay"&&_.data.variableId!==""&&(_.data.mode==="Play"||_.data.mode==="PlayPause"||_.data.mode==="Toggle")&&s.setDynamicVariablePlayState(_.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(_=>{var j;if((j=_.data)!=null&&j.events.length)for(let et of _.data.events)if(et.data.type==="VariableChange"&&(et.data.variableId==="mouseProperty"&&(this.needsMouse=!0),et.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),et.data.type==="Conditional")for(let st of["inActions","outActions"])et.data[st].forEach(o);else if(et.data.type==="DragDrop")for(let st of["drag","drop"])et.data.dragDropActions[st].forEach(o);else if(et.data.type==="GameControl")for(let st of["idle","move","jump","run"])et.data.gameActions[st].forEach(o);else if(et.data.type==="Resize")for(let st of et.data.breakpoints)st.data.actions.forEach(o);else et.data.type==="LookAt"||et.data.type==="API"||et.data.actions.forEach(o)})}},Xb=class{constructor(s,o,_,j,et){this._aspect=1,this.enableResponsive=!1,this._renderer=s,this._camera=o,this._frameSize=new U$1().copy(_),this._editorSize=new U$1().copy(j),this._aspect=o.aspect,this._fov=et??o.fov}set frameSize(s){this._frameSize.copy(s)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let s=this._frameSize.x,o=this._frameSize.y,_=this._editorSize.y;this._aspect=s/o,o<=_&&(this._camera.zoom*=_/o),this._renderer.setViewport(0,0,s,o)}updateCamera(s=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let o=this._frameSize.y,_=this._editorSize.y,j=this._fov;if(s&&o>_){let et=JJ(o,1080,2160,1,15)/100;j*=o/_,j*=1-et}this._camera.aspect=this._aspect,this._camera.fov=j,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(s){this._camera=s,this._aspect=s.aspect,this._fov=s.fov}revert(){let s=window.innerWidth,o=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,s,o),this._renderer.setSize(s,o)),this._camera&&(this._camera.aspect=s/o,this._camera.fov=this._fov,this._camera.setViewplaneSize(s,o,this.enableResponsive),this._camera.updateProjectionMatrix())}};function JJ(s,o,_,j,et){return(s-o)/(_-o)*(et-j)+j}var Qb=class{get sharedAssets(){return this.shared}constructor(s,o={},_=!0){this.shared=new Xc(s.shared,o,!0,_),this.scene=new Hl(s.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(s,o){this.scene.clearScene(),this.sharedAssets.reset(s.shared),this.scene.resetAfterClear(s.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let s of this.scene.children)s instanceof cr&&!s.uiScene&&s.personalCamera.updateState(s.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(s=>{s instanceof lr&&s.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},Kb=class{constructor({x:s=10,y:o=10}){this._startTime=0;let _=document.getElementById("spe-perfs");_?this.element=_:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${s}px`,this.element.style.top=`${o}px`}dispose(){var s;(s=this.element.parentElement)==null||s.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let s=performance.now()-this._startTime;this.element.innerHTML=s.toFixed(3)+" ms"}};function $J(s){let o;if(s.index)for(let _=0;_<s.index.array.length;_+=3)o=s.index.array[_],s.index.array[_]=s.index.array[_+2],s.index.array[_+2]=o}function mg(s){return s instanceof Ks?"SubdivObject":s.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function e$(s,o){let _={};return s.traverseEntity(j=>{var At;if(!j.visible||!(j instanceof mr)||j.type!=="Mesh"||Array.isArray(j.material)||j.states&&Object.keys(j.states).length)return;let et=j.parent;for(;et;){if(et instanceof mr&&j.states&&Object.keys(j.states).length)return;et=et.parent}let st=j.material.uuid,nt=o.shared.materials[st];if(nt){if(!Qr.isMergable(nt))return}else{let mt=(At=o.scene.objects.get(j.uuid))==null?void 0:At.data;if(mt&&"material"in mt&&typeof mt.material!="string"){if(!Qr.isMergable(mt.material))return;st=Qr.getHash(mt.material)}}_[st]||(_[st]={});let ct=_[st][mg(j)];if(ct){if(ct.push(j),j.cloner)for(let mt of j.cloner.children)ct.push(mt)}else if(_[st][mg(j)]=[j],j.cloner)for(let mt of j.cloner.children)_[st][mg(j)].push(mt)}),_}function t$(s){let o=0;return Object.values(s).forEach(_=>{Object.values(_).forEach(j=>{let et=j.length;et>o&&(o=et)})}),o}function KN(s,o){let _=e$(o,s),j=t$(_),et=new Array(j),st=0,nt=new Array(j),ct=0,At=new Array(j),mt=0,gt=new Array(j),_t=0;for(let[Et,Ct]of Object.entries(_))for(let Bt of Object.values(Ct)){if(ct=0,mt=0,Bt.forEach(Ft=>{Ft instanceof mr&&(nt[ct++]=Ft.geometry.clone(),At[mt++]=Ft)}),mt<2)continue;for(let Ft=0;Ft<mt;Ft++)At[Ft].updateWorldMatrix(!0,!1),nt[Ft].applyMatrix4(At[Ft].matrixWorld),At[Ft].matrixWorld.determinant()<0&&$J(nt[Ft]);let Dt=ks(nt.slice(0,ct),!1);if(Dt){let Ft;switch(Et){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),Ft=new Ut(Dt,At[0].material);break}default:{Ft=new Ut(Dt,At[0].material);break}}Ft.castShadow=At[0].castShadow,Ft.receiveShadow=At[0].receiveShadow,o.add(Ft);let Rt=Nt=>{_t=0;for(let Gt of Nt)Gt.children&&Rt(Gt.children),Gt instanceof mr&&(Array.isArray(Gt.material)||_[Gt.material.uuid]&&_[Gt.material.uuid][mg(Gt)]&&_[Gt.material.uuid][mg(Gt)].length>1||(gt[_t++]=Gt));for(let Gt=0;Gt<_t;Gt++)o.attach(gt[Gt])};for(let Nt=0;Nt<mt;Nt++){let Gt=At[Nt];Rt(Gt.children),et[st++]=Gt}}}for(let Et=0;Et<st;Et++)et[Et].removeFromParent()}var eF=Jo(JN(),1),i$=new U$1;function n$(s){let o="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";s.endsWith(".spline")?console.warn(o+" The .spline files are only meant to be used by the Editor."):s.endsWith(".splinecode")||console.warn(o)}var $N=class{constructor(s,{renderOnDemand:o,renderMode:_="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=j=>{var et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft;if(this.time=j,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(et=this._perfs)==null||et.start(),!this._renderer){(st=this._perfs)==null||st.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(nt=this._perfs)==null||nt.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((ct=this._eventManager.handlers)!=null&&ct.Start.hasVideoAction||(At=this._eventManager.handlers)!=null&&At.Basic.hasVideoAction||(mt=this._eventManager.handlers)!=null&&mt.Conditional.hasVideoAction)&&(this._skipRender=!1),(gt=this._animationControls)==null||gt.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,(_t=this._scene)==null||_t.traverseVisibleEntity(Rt=>{Rt.type==="ParticleSystem"&&(Rt.update(this.dt),this._skipRender=!1)}),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(Et=this._eventManager)!=null&&Et.isEnabled&&(((Ct=this._eventManager.handlers)==null?void 0:Ct.Follow).onAnimationFrameDamping(),((Bt=this._eventManager.handlers)==null?void 0:Bt.LookAt).onAnimationFrameDamping(),((Dt=this._eventManager.handlers)==null?void 0:Dt.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let Rt=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=Rt,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(Ft=this._perfs)==null||Ft.end()},this._resize=j=>{var et,st,nt,ct,At,mt,gt,_t,Et,Ct;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=i$.set(this._viewportWidth,this._viewportHeight)),j){let Bt=this._viewportWidth,Dt=this._viewportHeight;this._renderer.setSize(Bt-1,Dt-1,!1),this._renderer.setSize(Bt,Dt,!1)}else this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1);if(this._camera=(et=this._scene)==null?void 0:et.activeCamera,(gt=this._scene)==null||gt.updateViewPlaneSize(((nt=(st=this._frameView)==null?void 0:st.frameSize)==null?void 0:nt.x)??this._viewportWidth,((At=(ct=this._frameView)==null?void 0:ct.frameSize)==null?void 0:At.y)??this._viewportHeight,((mt=this._frameView)==null?void 0:mt.enableResponsive)??!1),this._camera){let Bt=Object.values(((_t=this._data)==null?void 0:_t.frames)??{})[0].preset??"fullscreen";(Et=this._frameView)==null||Et.setCamera(this._camera),(Ct=this._frameView)==null||Ct.updateCamera(Bt!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=Tc(this._resize,10),this._onScroll=j=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=s,this.renderMode=o?"auto":_,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new Kb({x:10,y:10})),q2(s)}async load(s,o,_){n$(s),this.disposed=!1;let j=await(await fetch(s,_)).arrayBuffer();await this.start(j,{variables:o})}async start(s,{interactive:o=!0,variables:_}={}){var At,mt,gt,_t;if(this.disposed)return;let j=await GN(s);this._data=j;let et=jN(j);j.version&&(0,eF.default)(j.version,"1.9.30")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([et.length&&kN(),DE(j)&&KO(),qR(j)&&jO(),El.physicsEnabled(j.scene.objects)&&$2(),wE(j)&&FR(),Jx(j)&&nM(),LR(j)&&OR(),GE(j)&&uL(),ZM(j)&&K2()].filter(Boolean)),et.length&&await HN(et),(At=this._eventManager)==null||At.deactivate(),(mt=this._controls)==null||mt.deactivate(),(gt=this._scene)==null||gt.dispose();let st=new Qb(j);if(st.resetPersonalCameraFromDocumentData(),this._scene=st.scene,this._sharedAssetsManager=st.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let Et=performance.now();KN(j,st.scene);let Ct=performance.now();console.log("Merged geometries in ",Ct-Et," ms")}DE(j)&&this._scene.traverse(Et=>{En(Et)&&Et.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var Et;this._requestRenderAutoMode(),(Et=this._scene)==null||Et.traverse(Ct=>{Ct instanceof Gi&&Ct.pendingMediaLoad&&Ct.update()})}),(_t=this._scene)==null||_t.traverse(Et=>{Et.type==="ParticleSystem"&&(Et.wakeUp(),Et.data.autoPlay?Et.start():Et.stop())});let nt=Object.keys(j.shared.fonts).map(Et=>this._sharedAssetsManager.getFont(Et).loadingPromise);if(Promise.all(nt).then(()=>{st.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),wE(j)&&VN(j)&&await Promise.all(nt),GE(j)){let Et=[];this._scene.traverseEntity(Ct=>{(Ct instanceof Er||Ct instanceof cr)&&Ct.uiCanvas&&Et.push(Ct.uiCanvas)}),await Promise.all(Et.map(Ct=>Ct.promise))}if(this._scene.rewriteEventsBeforeGoToPlayMode(),If(this._scene.activePage,this._sharedAssetsManager),!this._renderer&&(this._renderer=new Px({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=j.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.enableUIOverlay(),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode),j.shared.images.SplineWatermark)){let Et=this._sharedAssetsManager.getImage("SplineWatermark");await Et.loadPromise;let Ct=Et.getTexture(1001);this._renderer.pipeline.setWatermark(Ct)}Jx(j)&&this._scene.initializeSplatViewer(),j.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(j.scene.blueNoiseTextureData);let ct=Object.values(j.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(ct.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=ct.size[0],this._viewportHeight=ct.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new Xb(this._renderer,this._camera,new U$1(this._viewportWidth,this._viewportHeight),new U$1(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(ct.allowResponsive??!1)&&ct.preset==="fullscreen"),o){let Et=new bb(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,ct);this._scene.updateMatrixWorld(!0),this._controls=new Vb(Et),this._animationControls=new Ub(this._scene,this._requestRenderAutoMode),this._eventManager=new Yb(j.scene.publish,this._controls,this._animationControls,Et,j.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),this._scene.activePage.data.postprocessing.depthOfField.enabled&&Promise.all(this._sharedAssetsManager.getImageLoadPromises()).then(()=>{this._resize(!0)}),_!==void 0&&this.setVariables(_),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var Et;(Et=this._renderer)==null||Et.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300),document.addEventListener("scroll",this._onScroll)}setVariables(s){if(this._data!==void 0){let o=Object.entries(s);for(let[_,j]of o)this.setVariable(_,j)}}setVariable(s,o){var j;let _=this._getVariableByName(s);if(_&&!("dynamicVariableType"in _.data)){let et=o;typeof _.data.value=="number"?et=typeof o=="number"?o:typeof o=="boolean"?o===!0?1:0:parseFloat(o):typeof _.data.value=="boolean"?et=typeof o=="number"?!!o:typeof o=="boolean"?o:o.toLocaleLowerCase()==="false"?!1:!!o:typeof _.data.value!="string"&&_.data.value.textValue!==void 0&&(et=o.toString());let st=typeof et=="string"?{textValue:et}:et;(j=this._sharedAssetsManager)==null||j.updateVariable(_.id,st),this.requestRender(),this._requestRenderAutoMode()}else _===void 0?console.warn(`No variable named ${s} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in _.data&&console.warn(`Dynamic variables like ${s} cannot be updated from code.`)}getVariables(){let s={};return this._data&&this._data.shared.variables.forEach(o=>{s[o.data.name]===void 0&&(s[o.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(o.id)))}),s}getVariable(s){let o=this._getVariableByName(s);if(o){let _=this._sharedAssetsManager.getVariable(o.id);return this._getVariableValue(_)}}_getVariableValue(s){return typeof s!="string"&&Lr$1.isTextValue(s)?Lr$1.getDisplayedValue(s):s}_getVariableByName(s){if(this._data){if(this._variablesCache.has(s))return this._variablesCache.get(s);let o=this._data.shared.variables.find(_=>_.data.name===s);return o&&this._variablesCache.set(s,o),o}}findObjectById(s){var _;let o=(_=this._scene)==null?void 0:_.getObjectByProperty("uuid",s);return this._createProxyObject(o)}findObjectByName(s){var _;let o=(_=this._scene)==null?void 0:_.getObjectByName(s);return this._createProxyObject(o)}getAllObjects(){var o;let s=[];return(o=this._scene)==null||o.traverseEntity(_=>{if(_.uuid!==hs&&!this._scene.isInvisibleObjects(_)&&!(_ instanceof cr)){let j=this._createProxyObject(_);j&&s.push(j)}}),s}getSplineEvents(){var s,o;return((o=(s=this._eventManager)==null?void 0:s.handlers)==null?void 0:o.Spline).splineEvents}emitEvent(s,o){var _;(_=this.findObjectById(o)||this.findObjectByName(o))==null||_.emitEvent(s)}emitEventReverse(s,o){var _;(_=this.findObjectById(o)||this.findObjectByName(o))==null||_.emitEventReverse(s)}addEventListener(s,o){this.canvas.addEventListener(s,o)}removeEventListener(s,o){this.canvas.removeEventListener(s,o)}setZoom(s){var o,_;((o=this._controls)==null?void 0:o.orbitControls)instanceof zf&&((_=this._controls)==null||_.orbitControls.setZoom(s))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(s,o){this._viewportWidth=s,this._viewportHeight=o,this._viewportMode=2,this._resize()}setBackgroundColor(s){var nt;let{r:o,g:_,b:j,a:et}={r:0,g:0,b:0,a:1},st=new vr(o,_,j,et);try{st.setStyle(s)}catch{console.error("This is not a valid css color",s)}(nt=this._scene)==null||nt.activePage.setBackgroundColor(st),this._requestRenderAutoMode()}dispose(){var s,o,_,j,et,st,nt;this.disposed=!0,(s=this._eventManager)==null||s.deactivate(),(o=this._scene)==null||o.dispose(),(_=this._sharedAssetsManager)==null||_.dispose(),this._proxyObjectCache.forEach(ct=>{Gw.unsubscribe(ct)}),this._variablesCache.clear(),(j=this._renderer)==null||j.setAnimationLoop(null),(et=this._renderer)==null||et.dispose(),this._renderer=void 0,(st=this._sharedAssetsManager)==null||st.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(nt=this._controls)==null||nt.deactivate(),this.dt=0,Y2(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){var s,o,_;this._isPaused||((s=this._renderer)==null||s.setAnimationLoop(null),this._isPaused=!0,(o=this._eventManager)==null||o.pause(),(_=this._controls)!=null&&_.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var s,o,_;!this._isPaused||(this._isPaused=!1,(s=this._eventManager)==null||s.resume(),(o=this._controls)!=null&&o.orbitControls&&(this._controls.orbitControls.enabled=!0),(_=this._renderer)==null||_.setAnimationLoop(this.render))}setGlobalEvents(s){var o;(o=this._eventManager)==null||o.updateUseWindowEvents(s)}get data(){return this._data}_createProxyObject(s){var et;if(s==null)return;if(this._proxyObjectCache.has(s.uuid))return this._proxyObjectCache.get(s.uuid);let o;s.traverseAncestors(st=>{st instanceof cr&&(o=st.name)});let _={name:s.name,uuid:s.uuid,visible:s.visible,intensity:s.intensity,position:s.position,rotation:s.rotation,scale:s.scale,type:s.data.type,page:o,parentUuid:s.parent instanceof cr||s instanceof Hl||(et=s.parent)==null?void 0:et.uuid,emitEvent(st){s.dispatchEvent({type:"userEvent",eventName:st})},emitEventReverse(st){s.dispatchEvent({type:"userEvent",eventName:st,reverse:!0})}},j=Gw(_,(st,nt)=>{var ct;typeof s[st]!="object"&&((ct=Object.getOwnPropertyDescriptor(s,st))!=null&&ct.writable)&&(s[st]=nt),this._requestRenderAutoMode(),s.updateMatrix()});return this._proxyObjectCache.set(s.uuid,j),j}setUIWasmUrl(s){z0.skiaWasmUrl=s}},Z$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe$1={},yr={get exports(){return fe$1},set exports(s){fe$1=s}},z$3={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De;function hr(){if(De)return z$3;De=1;var s=Z$3,o=Symbol.for("react.element"),_=Symbol.for("react.fragment"),j=Object.prototype.hasOwnProperty,et=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,st={key:!0,ref:!0,__self:!0,__source:!0};function nt(ct,At,mt){var gt,_t={},Et=null,Ct=null;mt!==void 0&&(Et=""+mt),At.key!==void 0&&(Et=""+At.key),At.ref!==void 0&&(Ct=At.ref);for(gt in At)j.call(At,gt)&&!st.hasOwnProperty(gt)&&(_t[gt]=At[gt]);if(ct&&ct.defaultProps)for(gt in At=ct.defaultProps,At)_t[gt]===void 0&&(_t[gt]=At[gt]);return{$$typeof:o,type:ct,key:Et,ref:Ct,props:_t,_owner:et.current}}return z$3.Fragment=_,z$3.jsx=nt,z$3.jsxs=nt,z$3}(function(s){s.exports=hr()})(yr);const ce=fe$1.jsx;var Rr="Expected a function",$e$1=NaN,_r="[object Symbol]",Tr=/^\s+|\s+$/g,Sr=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,wr=/^0o[0-7]+$/i,jr=parseInt,Cr=typeof Z$1=="object"&&Z$1&&Z$1.Object===Object&&Z$1,Pr=typeof self=="object"&&self&&self.Object===Object&&self,xr=Cr||Pr||Function("return this")(),kr=Object.prototype,Ar=kr.toString,Fr=Math.max,Ir=Math.min,ue$1=function(){return xr.Date.now()};function Dr(s,o,_){var j,et,st,nt,ct,At,mt=0,gt=!1,_t=!1,Et=!0;if(typeof s!="function")throw new TypeError(Rr);o=Le$1(o)||0,le$1(_)&&(gt=!!_.leading,_t="maxWait"in _,st=_t?Fr(Le$1(_.maxWait)||0,o):st,Et="trailing"in _?!!_.trailing:Et);function Ct(es){var ds=j,tn=et;return j=et=void 0,mt=es,nt=s.apply(tn,ds),nt}function Bt(es){return mt=es,ct=setTimeout(Rt,o),gt?Ct(es):nt}function Dt(es){var ds=es-At,tn=es-mt,rn=o-ds;return _t?Ir(rn,st-tn):rn}function Ft(es){var ds=es-At,tn=es-mt;return At===void 0||ds>=o||ds<0||_t&&tn>=st}function Rt(){var es=ue$1();if(Ft(es))return Nt(es);ct=setTimeout(Rt,Dt(es))}function Nt(es){return ct=void 0,Et&&j?Ct(es):(j=et=void 0,nt)}function Gt(){ct!==void 0&&clearTimeout(ct),mt=0,j=At=et=ct=void 0}function dr(){return ct===void 0?nt:Nt(ue$1())}function ts(){var es=ue$1(),ds=Ft(es);if(j=arguments,et=this,At=es,ds){if(ct===void 0)return Bt(At);if(_t)return ct=setTimeout(Rt,o),Ct(At)}return ct===void 0&&(ct=setTimeout(Rt,o)),nt}return ts.cancel=Gt,ts.flush=dr,ts}function le$1(s){var o=typeof s;return!!s&&(o=="object"||o=="function")}function Wr(s){return!!s&&typeof s=="object"}function $r(s){return typeof s=="symbol"||Wr(s)&&Ar.call(s)==_r}function Le$1(s){if(typeof s=="number")return s;if($r(s))return $e$1;if(le$1(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=le$1(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=s.replace(Tr,"");var _=Or.test(s);return _||wr.test(s)?jr(s.slice(2),_?2:8):Sr.test(s)?$e$1:+s}var Lr=Dr;function Yr(s){return o=>{s.forEach(_=>{typeof _=="function"?_(o):_!=null&&(_.current=o)})}}const Nr=[],Mr={width:"100%",height:"100%"},Ur=reactExports.forwardRef(function({className:s,children:o,debounceTime:_=300,ignoreDimensions:j=Nr,parentSizeStyles:et,enableDebounceLeadingCall:st=!0,resizeObserverPolyfill:nt,...ct},At){const mt=reactExports.useRef(null),gt=reactExports.useRef(0),[_t,Et]=reactExports.useState({width:0,height:0,top:0,left:0}),Ct=reactExports.useMemo(()=>{const Bt=Array.isArray(j)?j:[j];return Lr(Dt=>{Et(Ft=>Object.keys(Ft).filter(Rt=>Ft[Rt]!==Dt[Rt]).every(Rt=>Bt.includes(Rt))?Ft:Dt)},_,{leading:st})},[_,st,j]);return reactExports.useEffect(()=>{const Bt=nt||window.ResizeObserver,Dt=new Bt(Ft=>{Ft.forEach(Rt=>{const{left:Nt,top:Gt,width:dr,height:ts}=(Rt==null?void 0:Rt.contentRect)??{};gt.current=window.requestAnimationFrame(()=>{Ct({width:dr,height:ts,top:Gt,left:Nt})})})});return mt.current&&Dt.observe(mt.current),()=>{window.cancelAnimationFrame(gt.current),Dt.disconnect(),Ct.cancel()}},[Ct,nt]),ce("div",{style:{...Mr,...et},ref:Yr([At,mt]),className:s,...ct,children:o({..._t,ref:mt.current,resize:Ct})})}),zr=reactExports.forwardRef(({scene:s,style:o,onMouseDown:_,onMouseUp:j,onMouseHover:et,onKeyDown:st,onKeyUp:nt,onStart:ct,onLookAt:At,onFollow:mt,onWheel:gt,onLoad:_t,renderOnDemand:Et=!0,...Ct},Bt)=>{const Dt=reactExports.useRef(null),[Ft,Rt]=reactExports.useState(!0);return reactExports.useEffect(()=>{Rt(!0);let Nt;const Gt=[{name:"mouseDown",cb:_},{name:"mouseUp",cb:j},{name:"mouseHover",cb:et},{name:"keyDown",cb:st},{name:"keyUp",cb:nt},{name:"start",cb:ct},{name:"lookAt",cb:At},{name:"follow",cb:mt},{name:"scroll",cb:gt}];if(Dt.current){Nt=new $N(Dt.current,{renderOnDemand:Et});async function dr(){await Nt.load(s);for(let ts of Gt)ts.cb&&Nt.addEventListener(ts.name,ts.cb);Rt(!1),_t==null||_t(Nt)}dr()}return()=>{for(let dr of Gt)dr.cb&&Nt.removeEventListener(dr.name,dr.cb);Nt.dispose()}},[s]),ce(Ur,{ref:Bt,parentSizeStyles:o,debounceTime:50,...Ct,children:()=>ce("canvas",{ref:Dt,style:{display:Ft?"none":"block"}})})});var SafetyCheck={},interopRequireDefault={exports:{}};(function(s){function o(_){return _&&_.__esModule?_:{default:_}}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon$1={};function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)({}).hasOwnProperty.call(_,j)&&(s[j]=_[j])}return s},_extends.apply(null,arguments)}const _extends$1=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _extends}},Symbol.toStringTag,{value:"Module"}));function isPlainObject$4(s){if(typeof s!="object"||s===null)return!1;const o=Object.getPrototypeOf(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function deepClone(s){if(!isPlainObject$4(s))return s;const o={};return Object.keys(s).forEach(_=>{o[_]=deepClone(s[_])}),o}function deepmerge$1(s,o,_={clone:!0}){const j=_.clone?_extends({},s):s;return isPlainObject$4(s)&&isPlainObject$4(o)&&Object.keys(o).forEach(et=>{isPlainObject$4(o[et])&&Object.prototype.hasOwnProperty.call(s,et)&&isPlainObject$4(s[et])?j[et]=deepmerge$1(s[et],o[et],_):_.clone?j[et]=isPlainObject$4(o[et])?deepClone(o[et]):o[et]:j[et]=o[et]}),j}const deepmerge=Object.freeze(Object.defineProperty({__proto__:null,default:deepmerge$1,isPlainObject:isPlainObject$4},Symbol.toStringTag,{value:"Module"}));var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function s(j,et,st,nt,ct,At){if(At!==ReactPropTypesSecret){var mt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw mt.name="Invariant Violation",mt}}s.isRequired=s;function o(){return s}var _={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _.PropTypes=_,_};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function formatMuiErrorMessage$1(s){let o="https://mui.com/production-error/?code="+s;for(let _=1;_<arguments.length;_+=1)o+="&args[]="+encodeURIComponent(arguments[_]);return"Minified MUI error #"+s+"; visit "+o+" for the full message."}const formatMuiErrorMessage=Object.freeze(Object.defineProperty({__proto__:null,default:formatMuiErrorMessage$1},Symbol.toStringTag,{value:"Module"}));var reactIs$2={exports:{}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$3=Symbol.for("react.strict_mode"),f$2=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$8=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$2=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$2=Symbol.for("react.offscreen"),u$2;u$2=Symbol.for("react.module.reference");function v$9(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case b$1:switch(s=s.type,s){case d$1:case f$2:case e$3:case m$1:case n$2:return s;default:switch(s=s&&s.$$typeof,s){case k$1:case h$8:case l$1:case q$3:case p$2:case g$2:return s;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$8;reactIs_production_min$1.ContextProvider=g$2;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$3;reactIs_production_min$1.Memo=p$2;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$2;reactIs_production_min$1.StrictMode=e$3;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$2;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(s){return v$9(s)===h$8};reactIs_production_min$1.isContextProvider=function(s){return v$9(s)===g$2};reactIs_production_min$1.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(s){return v$9(s)===l$1};reactIs_production_min$1.isFragment=function(s){return v$9(s)===d$1};reactIs_production_min$1.isLazy=function(s){return v$9(s)===q$3};reactIs_production_min$1.isMemo=function(s){return v$9(s)===p$2};reactIs_production_min$1.isPortal=function(s){return v$9(s)===c$1};reactIs_production_min$1.isProfiler=function(s){return v$9(s)===f$2};reactIs_production_min$1.isStrictMode=function(s){return v$9(s)===e$3};reactIs_production_min$1.isSuspense=function(s){return v$9(s)===m$1};reactIs_production_min$1.isSuspenseList=function(s){return v$9(s)===n$2};reactIs_production_min$1.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===d$1||s===f$2||s===e$3||s===m$1||s===n$2||s===t$2||typeof s=="object"&&s!==null&&(s.$$typeof===q$3||s.$$typeof===p$2||s.$$typeof===g$2||s.$$typeof===h$8||s.$$typeof===l$1||s.$$typeof===u$2||s.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$9;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports;const fnNameMatchRegex=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function getFunctionName(s){const o=`${s}`.match(fnNameMatchRegex);return o&&o[1]||""}function getFunctionComponentName(s,o=""){return s.displayName||s.name||getFunctionName(s)||o}function getWrappedName(s,o,_){const j=getFunctionComponentName(o);return s.displayName||(j!==""?`${_}(${j})`:_)}function getDisplayName$1(s){if(s!=null){if(typeof s=="string")return s;if(typeof s=="function")return getFunctionComponentName(s,"Component");if(typeof s=="object")switch(s.$$typeof){case reactIsExports$1.ForwardRef:return getWrappedName(s,s.render,"ForwardRef");case reactIsExports$1.Memo:return getWrappedName(s,s.type,"memo");default:return}}}const getDisplayName=Object.freeze(Object.defineProperty({__proto__:null,default:getDisplayName$1,getFunctionName},Symbol.toStringTag,{value:"Module"}));function capitalize$2(s){if(typeof s!="string")throw new Error(formatMuiErrorMessage$1(7));return s.charAt(0).toUpperCase()+s.slice(1)}const capitalize$1=Object.freeze(Object.defineProperty({__proto__:null,default:capitalize$2},Symbol.toStringTag,{value:"Module"}));function createChainedFunction(...s){return s.reduce((o,_)=>_==null?o:function(...et){o.apply(this,et),_.apply(this,et)},()=>{})}function debounce(s,o=166){let _;function j(...et){const st=()=>{s.apply(this,et)};clearTimeout(_),_=setTimeout(st,o)}return j.clear=()=>{clearTimeout(_)},j}function deprecatedPropType(s,o){return()=>null}function isMuiElement(s,o){var _,j;return reactExports.isValidElement(s)&&o.indexOf((_=s.type.muiName)!=null?_:(j=s.type)==null||(j=j._payload)==null||(j=j.value)==null?void 0:j.muiName)!==-1}function ownerDocument(s){return s&&s.ownerDocument||document}function ownerWindow(s){return ownerDocument(s).defaultView||window}function requirePropFactory(s,o){return()=>null}function setRef(s,o){typeof s=="function"?s(o):s&&(s.current=o)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let globalId=0;function useGlobalId(s){const[o,_]=reactExports.useState(s),j=s||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,_(`mui-${globalId}`))},[o]),j}const maybeReactUseId=ReactOriginal.useId;function useId(s){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return s??o}return useGlobalId(s)}function unsupportedProp(s,o,_,j,et){return null}function useControlled({controlled:s,default:o,name:_,state:j="value"}){const{current:et}=reactExports.useRef(s!==void 0),[st,nt]=reactExports.useState(o),ct=et?s:st,At=reactExports.useCallback(mt=>{et||nt(mt)},[]);return[ct,At]}function useEventCallback(s){const o=reactExports.useRef(s);return useEnhancedEffect(()=>{o.current=s}),reactExports.useRef((..._)=>(0,o.current)(..._)).current}function useForkRef(...s){return reactExports.useMemo(()=>s.every(o=>o==null)?null:o=>{s.forEach(_=>{setRef(_,o)})},s)}class Timeout{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(o,_){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,_()},o)}}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(s){const{type:o,tagName:_}=s;return!!(_==="INPUT"&&inputTypesWhitelist[o]&&!s.readOnly||_==="TEXTAREA"&&!s.readOnly||s.isContentEditable)}function handleKeyDown(s){s.metaKey||s.altKey||s.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(s){s.addEventListener("keydown",handleKeyDown,!0),s.addEventListener("mousedown",handlePointerDown,!0),s.addEventListener("pointerdown",handlePointerDown,!0),s.addEventListener("touchstart",handlePointerDown,!0),s.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(s){const{target:o}=s;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const s=reactExports.useCallback(et=>{et!=null&&prepare(et.ownerDocument)},[]),o=reactExports.useRef(!1);function _(){return o.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),o.current=!1,!0):!1}function j(et){return isFocusVisible(et)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:j,onBlur:_,ref:s}}function resolveProps(s,o){const _=_extends({},o);return Object.keys(s).forEach(j=>{if(j.toString().match(/^(components|slots)$/))_[j]=_extends({},s[j],_[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const et=s[j]||{},st=o[j];_[j]={},!st||!Object.keys(st)?_[j]=et:!et||!Object.keys(et)?_[j]=st:(_[j]=_extends({},st),Object.keys(et).forEach(nt=>{_[j][nt]=resolveProps(et[nt],st[nt])}))}else _[j]===void 0&&(_[j]=s[j])}),_}function composeClasses(s,o,_=void 0){const j={};return Object.keys(s).forEach(et=>{j[et]=s[et].reduce((st,nt)=>{if(nt){const ct=o(nt);ct!==""&&st.push(ct),_&&_[nt]&&st.push(_[nt])}return st},[]).join(" ")}),j}const defaultGenerator=s=>s,createClassNameGenerator=()=>{let s=defaultGenerator;return{configure(o){s=o},generate(o){return s(o)},reset(){s=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(s,o,_="Mui"){const j=globalStateClasses[o];return j?`${_}-${j}`:`${ClassNameGenerator.generate(s)}-${o}`}function generateUtilityClasses(s,o,_="Mui"){const j={};return o.forEach(et=>{j[et]=generateUtilityClass(s,et,_)}),j}function clamp$2(s,o=Number.MIN_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER){return Math.max(o,Math.min(s,_))}const clamp$1=Object.freeze(Object.defineProperty({__proto__:null,default:clamp$2},Symbol.toStringTag,{value:"Module"}));function _objectWithoutPropertiesLoose$2(s,o){if(s==null)return{};var _={};for(var j in s)if({}.hasOwnProperty.call(s,j)){if(o.includes(j))continue;_[j]=s[j]}return _}function r$6(s){var o,_,j="";if(typeof s=="string"||typeof s=="number")j+=s;else if(typeof s=="object")if(Array.isArray(s)){var et=s.length;for(o=0;o<et;o++)s[o]&&(_=r$6(s[o]))&&(j&&(j+=" "),j+=_)}else for(_ in s)s[_]&&(j&&(j+=" "),j+=_);return j}function clsx(){for(var s,o,_=0,j="",et=arguments.length;_<et;_++)(s=arguments[_])&&(o=r$6(s))&&(j&&(j+=" "),j+=o);return j}const PropsContext=reactExports.createContext(void 0);function getThemeProps(s){const{theme:o,name:_,props:j}=s;if(!o||!o.components||!o.components[_])return j;const et=o.components[_];return et.defaultProps?resolveProps(et.defaultProps,j):!et.styleOverrides&&!et.variants?resolveProps(et,j):j}function useDefaultProps$1({props:s,name:o}){const _=reactExports.useContext(PropsContext);return getThemeProps({props:s,name:o,theme:{components:_}})}function useDefaultProps(s){return useDefaultProps$1(s)}var createStyled$2={};const require$$1$1=getAugmentedNamespace(_extends$1);var objectWithoutPropertiesLoose={exports:{}},hasRequiredObjectWithoutPropertiesLoose;function requireObjectWithoutPropertiesLoose(){return hasRequiredObjectWithoutPropertiesLoose||(hasRequiredObjectWithoutPropertiesLoose=1,function(s){function o(_,j){if(_==null)return{};var et={};for(var st in _)if({}.hasOwnProperty.call(_,st)){if(j.includes(st))continue;et[st]=_[st]}return et}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports}(objectWithoutPropertiesLoose)),objectWithoutPropertiesLoose.exports}function memoize$1(s){var o=Object.create(null);return function(_){return o[_]===void 0&&(o[_]=s(_)),o[_]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(s){if(s.sheet)return s.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===s)return document.styleSheets[o]}function createStyleElement(s){var o=document.createElement("style");return o.setAttribute("data-emotion",s.key),s.nonce!==void 0&&o.setAttribute("nonce",s.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function s(_){var j=this;this._insertTag=function(et){var st;j.tags.length===0?j.insertionPoint?st=j.insertionPoint.nextSibling:j.prepend?st=j.container.firstChild:st=j.before:st=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(et,st),j.tags.push(et)},this.isSpeedy=_.speedy===void 0?!isDevelopment$2:_.speedy,this.tags=[],this.ctr=0,this.nonce=_.nonce,this.key=_.key,this.container=_.container,this.prepend=_.prepend,this.insertionPoint=_.insertionPoint,this.before=null}var o=s.prototype;return o.hydrate=function(j){j.forEach(this._insertTag)},o.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var et=this.tags[this.tags.length-1];if(this.isSpeedy){var st=sheetForTag(et);try{st.insertRule(j,st.cssRules.length)}catch{}}else et.appendChild(document.createTextNode(j));this.ctr++},o.flush=function(){this.tags.forEach(function(j){var et;return(et=j.parentNode)==null?void 0:et.removeChild(j)}),this.tags=[],this.ctr=0},s}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(s,o){return charat(s,0)^45?(((o<<2^charat(s,0))<<2^charat(s,1))<<2^charat(s,2))<<2^charat(s,3):0}function trim$1(s){return s.trim()}function match(s,o){return(s=o.exec(s))?s[0]:s}function replace(s,o,_){return s.replace(o,_)}function indexof(s,o){return s.indexOf(o)}function charat(s,o){return s.charCodeAt(o)|0}function substr(s,o,_){return s.slice(o,_)}function strlen(s){return s.length}function sizeof(s){return s.length}function append(s,o){return o.push(s),s}function combine(s,o){return s.map(o).join("")}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(s,o,_,j,et,st,nt){return{value:s,root:o,parent:_,type:j,props:et,children:st,line,column,length:nt,return:""}}function copy(s,o){return assign(node("",null,null,"",null,null,0),s,{length:-s.length},o)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position$1)}function caret(){return position$1}function slice(s,o){return substr(characters,s,o)}function token(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(s){return line=column=1,length=strlen(characters=s),position$1=0,[]}function dealloc(s){return characters="",s}function delimit(s){return trim$1(slice(position$1-1,delimiter(s===91?s+2:s===40?s+1:s)))}function whitespace(s){for(;(character=peek$1())&&character<33;)next();return token(s)>2||token(character)>3?"":" "}function escaping(s,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(s,caret()+(o<6&&peek$1()==32&&next()==32))}function delimiter(s){for(;next();)switch(character){case s:return position$1;case 34:case 39:s!==34&&s!==39&&delimiter(character);break;case 40:s===41&&delimiter(s);break;case 92:next();break}return position$1}function commenter(s,o){for(;next()&&s+character!==57;)if(s+character===84&&peek$1()===47)break;return"/*"+slice(o,position$1-1)+"*"+from(s===47?s:next())}function identifier(s){for(;!token(peek$1());)next();return slice(s,position$1)}function compile(s){return dealloc(parse$2("",null,null,null,[""],s=alloc(s),0,[0],s))}function parse$2(s,o,_,j,et,st,nt,ct,At){for(var mt=0,gt=0,_t=nt,Et=0,Ct=0,Bt=0,Dt=1,Ft=1,Rt=1,Nt=0,Gt="",dr=et,ts=st,es=j,ds=Gt;Ft;)switch(Bt=Nt,Nt=next()){case 40:if(Bt!=108&&charat(ds,_t-1)==58){indexof(ds+=replace(delimit(Nt),"&","&\f"),"&\f")!=-1&&(Rt=-1);break}case 34:case 39:case 91:ds+=delimit(Nt);break;case 9:case 10:case 13:case 32:ds+=whitespace(Bt);break;case 92:ds+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),o,_),At);break;default:ds+="/"}break;case 123*Dt:ct[mt++]=strlen(ds)*Rt;case 125*Dt:case 59:case 0:switch(Nt){case 0:case 125:Ft=0;case 59+gt:Rt==-1&&(ds=replace(ds,/\f/g,"")),Ct>0&&strlen(ds)-_t&&append(Ct>32?declaration(ds+";",j,_,_t-1):declaration(replace(ds," ","")+";",j,_,_t-2),At);break;case 59:ds+=";";default:if(append(es=ruleset(ds,o,_,mt,gt,et,ct,Gt,dr=[],ts=[],_t),st),Nt===123)if(gt===0)parse$2(ds,o,es,es,dr,st,_t,ct,ts);else switch(Et===99&&charat(ds,3)===110?100:Et){case 100:case 108:case 109:case 115:parse$2(s,es,es,j&&append(ruleset(s,es,es,0,0,et,ct,Gt,et,dr=[],_t),ts),et,ts,_t,ct,j?dr:ts);break;default:parse$2(ds,es,es,es,[""],ts,0,ct,ts)}}mt=gt=Ct=0,Dt=Rt=1,Gt=ds="",_t=nt;break;case 58:_t=1+strlen(ds),Ct=Bt;default:if(Dt<1){if(Nt==123)--Dt;else if(Nt==125&&Dt++==0&&prev()==125)continue}switch(ds+=from(Nt),Nt*Dt){case 38:Rt=gt>0?1:(ds+="\f",-1);break;case 44:ct[mt++]=(strlen(ds)-1)*Rt,Rt=1;break;case 64:peek$1()===45&&(ds+=delimit(next())),Et=peek$1(),gt=_t=strlen(Gt=ds+=identifier(caret())),Nt++;break;case 45:Bt===45&&strlen(ds)==2&&(Dt=0)}}return st}function ruleset(s,o,_,j,et,st,nt,ct,At,mt,gt){for(var _t=et-1,Et=et===0?st:[""],Ct=sizeof(Et),Bt=0,Dt=0,Ft=0;Bt<j;++Bt)for(var Rt=0,Nt=substr(s,_t+1,_t=abs(Dt=nt[Bt])),Gt=s;Rt<Ct;++Rt)(Gt=trim$1(Dt>0?Et[Rt]+" "+Nt:replace(Nt,/&\f/g,Et[Rt])))&&(At[Ft++]=Gt);return node(s,o,_,et===0?RULESET:ct,At,mt,gt)}function comment(s,o,_){return node(s,o,_,COMMENT,from(char()),substr(s,2,-2),0)}function declaration(s,o,_,j){return node(s,o,_,DECLARATION,substr(s,0,j),substr(s,j+1,-1),j)}function serialize(s,o){for(var _="",j=sizeof(s),et=0;et<j;et++)_+=o(s[et],et,s,o)||"";return _}function stringify(s,o,_,j){switch(s.type){case LAYER:if(s.children.length)break;case IMPORT:case DECLARATION:return s.return=s.return||s.value;case COMMENT:return"";case KEYFRAMES:return s.return=s.value+"{"+serialize(s.children,j)+"}";case RULESET:s.value=s.props.join(",")}return strlen(_=serialize(s.children,j))?s.return=s.value+"{"+_+"}":""}function middleware(s){var o=sizeof(s);return function(_,j,et,st){for(var nt="",ct=0;ct<o;ct++)nt+=s[ct](_,j,et,st)||"";return nt}}function rulesheet(s){return function(o){o.root||(o=o.return)&&s(o)}}var identifierWithPointTracking=function(o,_,j){for(var et=0,st=0;et=st,st=peek$1(),et===38&&st===12&&(_[j]=1),!token(st);)next();return slice(o,position$1)},toRules=function(o,_){var j=-1,et=44;do switch(token(et)){case 0:et===38&&peek$1()===12&&(_[j]=1),o[j]+=identifierWithPointTracking(position$1-1,_,j);break;case 2:o[j]+=delimit(et);break;case 4:if(et===44){o[++j]=peek$1()===58?"&\f":"",_[j]=o[j].length;break}default:o[j]+=from(et)}while(et=next());return o},getRules=function(o,_){return dealloc(toRules(alloc(o),_))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var _=o.value,j=o.parent,et=o.column===j.column&&o.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(o.props.length===1&&_.charCodeAt(0)!==58&&!fixedElements.get(j))&&!et){fixedElements.set(o,!0);for(var st=[],nt=getRules(_,st),ct=j.props,At=0,mt=0;At<nt.length;At++)for(var gt=0;gt<ct.length;gt++,mt++)o.props[mt]=st[At]?nt[At].replace(/&\f/g,ct[gt]):ct[gt]+" "+nt[At]}}},removeLabel=function(o){if(o.type==="decl"){var _=o.value;_.charCodeAt(0)===108&&_.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix(s,o){switch(hash(s,o)){case 5103:return WEBKIT+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+s+MOZ+s+MS+s+s;case 6828:case 4268:return WEBKIT+s+MS+s+s;case 6165:return WEBKIT+s+MS+"flex-"+s+s;case 5187:return WEBKIT+s+replace(s,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+s;case 5443:return WEBKIT+s+MS+"flex-item-"+replace(s,/flex-|-self/,"")+s;case 4675:return WEBKIT+s+MS+"flex-line-pack"+replace(s,/align-content|flex-|-self/,"")+s;case 5548:return WEBKIT+s+MS+replace(s,"shrink","negative")+s;case 5292:return WEBKIT+s+MS+replace(s,"basis","preferred-size")+s;case 6060:return WEBKIT+"box-"+replace(s,"-grow","")+WEBKIT+s+MS+replace(s,"grow","positive")+s;case 4554:return WEBKIT+replace(s,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+s;case 6187:return replace(replace(replace(s,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),s,"")+s;case 5495:case 3959:return replace(s,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(s,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+s+s;case 4095:case 3583:case 4068:case 2532:return replace(s,/(.+)-inline(.+)/,WEBKIT+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(s)-1-o>6)switch(charat(s,o+1)){case 109:if(charat(s,o+4)!==45)break;case 102:return replace(s,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(s,o+3)==108?"$3":"$2-$3"))+s;case 115:return~indexof(s,"stretch")?prefix(replace(s,"stretch","fill-available"),o)+s:s}break;case 4949:if(charat(s,o+1)!==115)break;case 6444:switch(charat(s,strlen(s)-3-(~indexof(s,"!important")&&10))){case 107:return replace(s,":",":"+WEBKIT)+s;case 101:return replace(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(s,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+s}break;case 5936:switch(charat(s,o+11)){case 114:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return WEBKIT+s+MS+s+s}return s}var prefixer=function(o,_,j,et){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],et);case RULESET:if(o.length)return combine(o.props,function(st){switch(match(st,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(st,/:(read-\w+)/,":"+MOZ+"$1")]})],et);case"::placeholder":return serialize([copy(o,{props:[replace(st,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(st,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(st,/:(plac\w+)/,MS+"input-$1")]})],et)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var _=o.key;if(_==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(Dt){var Ft=Dt.getAttribute("data-emotion");Ft.indexOf(" ")!==-1&&(document.head.appendChild(Dt),Dt.setAttribute("data-s",""))})}var et=o.stylisPlugins||defaultStylisPlugins,st={},nt,ct=[];nt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+_+' "]'),function(Dt){for(var Ft=Dt.getAttribute("data-emotion").split(" "),Rt=1;Rt<Ft.length;Rt++)st[Ft[Rt]]=!0;ct.push(Dt)});var At,mt=[compat,removeLabel];{var gt,_t=[stringify,rulesheet(function(Dt){gt.insert(Dt)})],Et=middleware(mt.concat(et,_t)),Ct=function(Ft){return serialize(compile(Ft),Et)};At=function(Ft,Rt,Nt,Gt){gt=Nt,Ct(Ft?Ft+"{"+Rt.styles+"}":Rt.styles),Gt&&(Bt.inserted[Rt.name]=!0)}}var Bt={key:_,sheet:new StyleSheet({key:_,container:nt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:st,registered:{},insert:At};return Bt.sheet.hydrate(ct),Bt},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$2=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h$7=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q$2=b?Symbol.for("react.suspense_list"):60120,r$5=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v$8=b?Symbol.for("react.block"):60121,w$7=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y$1=b?Symbol.for("react.scope"):60119;function z$2(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case c:switch(s=s.type,s){case l:case m:case e$2:case g$1:case f$1:case p$1:return s;default:switch(s=s&&s.$$typeof,s){case k:case n$1:case t$1:case r$5:case h$7:return s;default:return o}}case d:return o}}}function A$1(s){return z$2(s)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h$7;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$5;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(s){return A$1(s)||z$2(s)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(s){return z$2(s)===k};reactIs_production_min.isContextProvider=function(s){return z$2(s)===h$7};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c};reactIs_production_min.isForwardRef=function(s){return z$2(s)===n$1};reactIs_production_min.isFragment=function(s){return z$2(s)===e$2};reactIs_production_min.isLazy=function(s){return z$2(s)===t$1};reactIs_production_min.isMemo=function(s){return z$2(s)===r$5};reactIs_production_min.isPortal=function(s){return z$2(s)===d};reactIs_production_min.isProfiler=function(s){return z$2(s)===g$1};reactIs_production_min.isStrictMode=function(s){return z$2(s)===f$1};reactIs_production_min.isSuspense=function(s){return z$2(s)===p$1};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e$2||s===m||s===g$1||s===f$1||s===p$1||s===q$2||typeof s=="object"&&s!==null&&(s.$$typeof===t$1||s.$$typeof===r$5||s.$$typeof===h$7||s.$$typeof===k||s.$$typeof===n$1||s.$$typeof===w$7||s.$$typeof===x||s.$$typeof===y$1||s.$$typeof===v$8)};reactIs_production_min.typeOf=z$2;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(s,o,_){var j="";return _.split(" ").forEach(function(et){s[et]!==void 0?o.push(s[et]+";"):et&&(j+=et+" ")}),j}var registerStyles=function(o,_,j){var et=o.key+"-"+_.name;(j===!1||isBrowser===!1)&&o.registered[et]===void 0&&(o.registered[et]=_.styles)},insertStyles=function(o,_,j){registerStyles(o,_,j);var et=o.key+"-"+_.name;if(o.inserted[_.name]===void 0){var st=_;do o.insert(_===st?"."+et:"",st,o.sheet,!0),st=st.next;while(st!==void 0)}};function murmur2(s){for(var o=0,_,j=0,et=s.length;et>=4;++j,et-=4)_=s.charCodeAt(j)&255|(s.charCodeAt(++j)&255)<<8|(s.charCodeAt(++j)&255)<<16|(s.charCodeAt(++j)&255)<<24,_=(_&65535)*1540483477+((_>>>16)*59797<<16),_^=_>>>24,o=(_&65535)*1540483477+((_>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(et){case 3:o^=(s.charCodeAt(j+2)&255)<<16;case 2:o^=(s.charCodeAt(j+1)&255)<<8;case 1:o^=s.charCodeAt(j)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(s){return isCustomProperty(s)?s:s.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,_){switch(o){case"animation":case"animationName":if(typeof _=="string")return _.replace(animationRegex,function(j,et,st){return cursor={name:et,styles:st,next:cursor},et})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof _=="number"&&_!==0?_+"px":_},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(s,o,_){if(_==null)return"";var j=_;if(j.__emotion_styles!==void 0)return j;switch(typeof _){case"boolean":return"";case"object":{var et=_;if(et.anim===1)return cursor={name:et.name,styles:et.styles,next:cursor},et.name;var st=_;if(st.styles!==void 0){var nt=st.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var ct=st.styles+";";return ct}return createStringFromObject(s,o,_)}case"function":{if(s!==void 0){var At=cursor,mt=_(s);return cursor=At,handleInterpolation(s,o,mt)}break}}var gt=_;if(o==null)return gt;var _t=o[gt];return _t!==void 0?_t:gt}function createStringFromObject(s,o,_){var j="";if(Array.isArray(_))for(var et=0;et<_.length;et++)j+=handleInterpolation(s,o,_[et])+";";else for(var st in _){var nt=_[st];if(typeof nt!="object"){var ct=nt;o!=null&&o[ct]!==void 0?j+=st+"{"+o[ct]+"}":isProcessableValue(ct)&&(j+=processStyleName(st)+":"+processStyleValue(st,ct)+";")}else{if(st==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(nt)&&typeof nt[0]=="string"&&(o==null||o[nt[0]]===void 0))for(var At=0;At<nt.length;At++)isProcessableValue(nt[At])&&(j+=processStyleName(st)+":"+processStyleValue(st,nt[At])+";");else{var mt=handleInterpolation(s,o,nt);switch(st){case"animation":case"animationName":{j+=processStyleName(st)+":"+mt+";";break}default:j+=st+"{"+mt+"}"}}}}return j}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(s,o,_){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var j=!0,et="";cursor=void 0;var st=s[0];if(st==null||st.raw===void 0)j=!1,et+=handleInterpolation(_,o,st);else{var nt=st;et+=nt[0]}for(var ct=1;ct<s.length;ct++)if(et+=handleInterpolation(_,o,s[ct]),j){var At=st;et+=At[ct]}labelPattern.lastIndex=0;for(var mt="",gt;(gt=labelPattern.exec(et))!==null;)mt+="-"+gt[1];var _t=murmur2(et)+mt;return{name:_t,styles:et,next:cursor}}var syncFallback=function(o){return o()},useInsertionEffect=ReactOriginal.useInsertionEffect?ReactOriginal.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(o){return reactExports.forwardRef(function(_,j){var et=reactExports.useContext(EmotionCacheContext);return o(_,et,j)})},ThemeContext=reactExports.createContext({}),Global=withEmotionCache(function(s,o){var _=s.styles,j=serializeStyles([_],void 0,reactExports.useContext(ThemeContext)),et=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var st=o.key+"-global",nt=new o.sheet.constructor({key:st,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),ct=!1,At=document.querySelector('style[data-emotion="'+st+" "+j.name+'"]');return o.sheet.tags.length&&(nt.before=o.sheet.tags[0]),At!==null&&(ct=!0,At.setAttribute("data-emotion",st),nt.hydrate([At])),et.current=[nt,ct],function(){nt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var st=et.current,nt=st[0],ct=st[1];if(ct){st[1]=!1;return}if(j.next!==void 0&&insertStyles(o,j.next,!0),nt.tags.length){var At=nt.tags[nt.tags.length-1].nextElementSibling;nt.before=At,nt.flush()}o.insert("",j,nt,!1)},[o,j.name]),null});function css$a(){for(var s=arguments.length,o=new Array(s),_=0;_<s;_++)o[_]=arguments[_];return serializeStyles(o)}var keyframes=function(){var o=css$a.apply(void 0,arguments),_="animation-"+o.name;return{name:_,styles:"@keyframes "+_+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,_,j){var et;if(_){var st=_.shouldForwardProp;et=o.__emotion_forwardProp&&st?function(nt){return o.__emotion_forwardProp(nt)&&st(nt)}:st}return typeof et!="function"&&j&&(et=o.__emotion_forwardProp),et},isDevelopment=!1,Insertion=function(o){var _=o.cache,j=o.serialized,et=o.isStringTag;return registerStyles(_,j,et),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(_,j,et)}),null},createStyled$1=function s(o,_){var j=o.__emotion_real===o,et=j&&o.__emotion_base||o,st,nt;_!==void 0&&(st=_.label,nt=_.target);var ct=composeShouldForwardProps(o,_,j),At=ct||getDefaultShouldForwardProp(et),mt=!At("as");return function(){var gt=arguments,_t=j&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(st!==void 0&&_t.push("label:"+st+";"),gt[0]==null||gt[0].raw===void 0)_t.push.apply(_t,gt);else{_t.push(gt[0][0]);for(var Et=gt.length,Ct=1;Ct<Et;Ct++)_t.push(gt[Ct],gt[0][Ct])}var Bt=withEmotionCache(function(Dt,Ft,Rt){var Nt=mt&&Dt.as||et,Gt="",dr=[],ts=Dt;if(Dt.theme==null){ts={};for(var es in Dt)ts[es]=Dt[es];ts.theme=reactExports.useContext(ThemeContext)}typeof Dt.className=="string"?Gt=getRegisteredStyles(Ft.registered,dr,Dt.className):Dt.className!=null&&(Gt=Dt.className+" ");var ds=serializeStyles(_t.concat(dr),Ft.registered,ts);Gt+=Ft.key+"-"+ds.name,nt!==void 0&&(Gt+=" "+nt);var tn=mt&&ct===void 0?getDefaultShouldForwardProp(Nt):At,rn={};for(var un in Dt)mt&&un==="as"||tn(un)&&(rn[un]=Dt[un]);return rn.className=Gt,Rt&&(rn.ref=Rt),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ft,serialized:ds,isStringTag:typeof Nt=="string"}),reactExports.createElement(Nt,rn))});return Bt.displayName=st!==void 0?st:"Styled("+(typeof et=="string"?et:et.displayName||et.name||"Component")+")",Bt.defaultProps=o.defaultProps,Bt.__emotion_real=Bt,Bt.__emotion_base=et,Bt.__emotion_styles=_t,Bt.__emotion_forwardProp=ct,Object.defineProperty(Bt,"toString",{value:function(){return nt===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+nt}}),Bt.withComponent=function(Dt,Ft){return s(Dt,_extends({},_,Ft,{shouldForwardProp:composeShouldForwardProps(Bt,Ft,!0)})).apply(void 0,_t)},Bt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(s){newStyled[s]=newStyled(s)});let cache$1;typeof document=="object"&&(cache$1=createCache({key:"css",prepend:!0}));function StyledEngineProvider(s){const{injectFirst:o,children:_}=s;return o&&cache$1?jsxRuntimeExports.jsx(CacheProvider,{value:cache$1,children:_}):_}function isEmpty$1(s){return s==null||Object.keys(s).length===0}function GlobalStyles(s){const{styles:o,defaultTheme:_={}}=s,j=typeof o=="function"?et=>o(isEmpty$1(et)?_:et):o;return jsxRuntimeExports.jsx(Global,{styles:j})}function styled$1(s,o){return newStyled(s,o)}const internal_processStyles=(s,o)=>{Array.isArray(s.__emotion_styles)&&(s.__emotion_styles=o(s.__emotion_styles))},styledEngine=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles,StyledEngineProvider,ThemeContext,css:css$a,default:styled$1,internal_processStyles,keyframes},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(styledEngine),require$$4=getAugmentedNamespace(deepmerge),require$$5=getAugmentedNamespace(capitalize$1),require$$6=getAugmentedNamespace(getDisplayName),_excluded$a=["values","unit","step"],sortBreakpointsValues=s=>{const o=Object.keys(s).map(_=>({key:_,val:s[_]}))||[];return o.sort((_,j)=>_.val-j.val),o.reduce((_,j)=>_extends({},_,{[j.key]:j.val}),{})};function createBreakpoints(s){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:_="px",step:j=5}=s,et=_objectWithoutPropertiesLoose$2(s,_excluded$a),st=sortBreakpointsValues(o),nt=Object.keys(st);function ct(Et){return`@media (min-width:${typeof o[Et]=="number"?o[Et]:Et}${_})`}function At(Et){return`@media (max-width:${(typeof o[Et]=="number"?o[Et]:Et)-j/100}${_})`}function mt(Et,Ct){const Bt=nt.indexOf(Ct);return`@media (min-width:${typeof o[Et]=="number"?o[Et]:Et}${_}) and (max-width:${(Bt!==-1&&typeof o[nt[Bt]]=="number"?o[nt[Bt]]:Ct)-j/100}${_})`}function gt(Et){return nt.indexOf(Et)+1<nt.length?mt(Et,nt[nt.indexOf(Et)+1]):ct(Et)}function _t(Et){const Ct=nt.indexOf(Et);return Ct===0?ct(nt[1]):Ct===nt.length-1?At(nt[Ct]):mt(Et,nt[nt.indexOf(Et)+1]).replace("@media","@media not all and")}return _extends({keys:nt,values:st,up:ct,down:At,between:mt,only:gt,not:_t,unit:_},et)}const shape={borderRadius:4};function merge$1(s,o){return o?deepmerge$1(s,o,{clone:!1}):s}const values={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:s=>`@media (min-width:${values[s]}px)`};function handleBreakpoints(s,o,_){const j=s.theme||{};if(Array.isArray(o)){const st=j.breakpoints||defaultBreakpoints;return o.reduce((nt,ct,At)=>(nt[st.up(st.keys[At])]=_(o[At]),nt),{})}if(typeof o=="object"){const st=j.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((nt,ct)=>{if(Object.keys(st.values||values).indexOf(ct)!==-1){const At=st.up(ct);nt[At]=_(o[ct],ct)}else{const At=ct;nt[At]=o[At]}return nt},{})}return _(o)}function createEmptyBreakpointObject(s={}){var o;return((o=s.keys)==null?void 0:o.reduce((j,et)=>{const st=s.up(et);return j[st]={},j},{}))||{}}function removeUnusedBreakpoints(s,o){return s.reduce((_,j)=>{const et=_[j];return(!et||Object.keys(et).length===0)&&delete _[j],_},o)}function getPath(s,o,_=!0){if(!o||typeof o!="string")return null;if(s&&s.vars&&_){const j=`vars.${o}`.split(".").reduce((et,st)=>et&&et[st]?et[st]:null,s);if(j!=null)return j}return o.split(".").reduce((j,et)=>j&&j[et]!=null?j[et]:null,s)}function getStyleValue(s,o,_,j=_){let et;return typeof s=="function"?et=s(_):Array.isArray(s)?et=s[_]||j:et=getPath(s,_)||j,o&&(et=o(et,j,s)),et}function style$1(s){const{prop:o,cssProperty:_=s.prop,themeKey:j,transform:et}=s,st=nt=>{if(nt[o]==null)return null;const ct=nt[o],At=nt.theme,mt=getPath(At,j)||{};return handleBreakpoints(nt,ct,_t=>{let Et=getStyleValue(mt,et,_t);return _t===Et&&typeof _t=="string"&&(Et=getStyleValue(mt,et,`${o}${_t==="default"?"":capitalize$2(_t)}`,_t)),_===!1?Et:{[_]:Et}})};return st.propTypes={},st.filterProps=[o],st}function memoize(s){const o={};return _=>(o[_]===void 0&&(o[_]=s(_)),o[_])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(s=>{if(s.length>2)if(aliases[s])s=aliases[s];else return[s];const[o,_]=s.split(""),j=properties[o],et=directions[_]||"";return Array.isArray(et)?et.map(st=>j+st):[j+et]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(s,o,_,j){var et;const st=(et=getPath(s,o,!1))!=null?et:_;return typeof st=="number"?nt=>typeof nt=="string"?nt:st*nt:Array.isArray(st)?nt=>typeof nt=="string"?nt:st[nt]:typeof st=="function"?st:()=>{}}function createUnarySpacing(s){return createUnaryUnit(s,"spacing",8)}function getValue(s,o){if(typeof o=="string"||o==null)return o;const _=Math.abs(o),j=s(_);return o>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue(s,o){return _=>s.reduce((j,et)=>(j[et]=getValue(o,_),j),{})}function resolveCssProperty(s,o,_,j){if(o.indexOf(_)===-1)return null;const et=getCssProperties(_),st=getStyleFromPropValue(et,j),nt=s[_];return handleBreakpoints(s,nt,st)}function style(s,o){const _=createUnarySpacing(s.theme);return Object.keys(s).map(j=>resolveCssProperty(s,o,j,_)).reduce(merge$1,{})}function margin(s){return style(s,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(s){return style(s,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(s=8){if(s.mui)return s;const o=createUnarySpacing({spacing:s}),_=(...j)=>(j.length===0?[1]:j).map(st=>{const nt=o(st);return typeof nt=="number"?`${nt}px`:nt}).join(" ");return _.mui=!0,_}function compose$1(...s){const o=s.reduce((j,et)=>(et.filterProps.forEach(st=>{j[st]=et}),j),{}),_=j=>Object.keys(j).reduce((et,st)=>o[st]?merge$1(et,o[st](j)):et,{});return _.propTypes={},_.filterProps=s.reduce((j,et)=>j.concat(et.filterProps),[]),_}function borderTransform(s){return typeof s!="number"?s:`${s}px solid`}function createBorderStyle(s,o){return style$1({prop:s,themeKey:"borders",transform:o})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor$1=createBorderStyle("borderTopColor"),borderRightColor$1=createBorderStyle("borderRightColor"),borderBottomColor$1=createBorderStyle("borderBottomColor"),borderLeftColor$1=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=s=>{if(s.borderRadius!==void 0&&s.borderRadius!==null){const o=createUnaryUnit(s.theme,"shape.borderRadius",4),_=j=>({borderRadius:getValue(o,j)});return handleBreakpoints(s,s.borderRadius,_)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$1(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor$1,borderRightColor$1,borderBottomColor$1,borderLeftColor$1,borderRadius,outline,outlineColor);const gap=s=>{if(s.gap!==void 0&&s.gap!==null){const o=createUnaryUnit(s.theme,"spacing",8),_=j=>({gap:getValue(o,j)});return handleBreakpoints(s,s.gap,_)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=s=>{if(s.columnGap!==void 0&&s.columnGap!==null){const o=createUnaryUnit(s.theme,"spacing",8),_=j=>({columnGap:getValue(o,j)});return handleBreakpoints(s,s.columnGap,_)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=s=>{if(s.rowGap!==void 0&&s.rowGap!==null){const o=createUnaryUnit(s.theme,"spacing",8),_=j=>({rowGap:getValue(o,j)});return handleBreakpoints(s,s.rowGap,_)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose$1(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(s,o){return o==="grey"?o:s}const color$2=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor$1=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$1(color$2,bgcolor,backgroundColor$1);function sizingTransform(s){return s<=1&&s!==0?`${s*100}%`:s}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=s=>{if(s.maxWidth!==void 0&&s.maxWidth!==null){const o=_=>{var j,et;const st=((j=s.theme)==null||(j=j.breakpoints)==null||(j=j.values)==null?void 0:j[_])||values[_];return st?((et=s.theme)==null||(et=et.breakpoints)==null?void 0:et.unit)!=="px"?{maxWidth:`${st}${s.theme.breakpoints.unit}`}:{maxWidth:st}:{maxWidth:sizingTransform(_)}};return handleBreakpoints(s,s.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose$1(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:s=>({"@media print":{display:s}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...s){const o=s.reduce((j,et)=>j.concat(Object.keys(et)),[]),_=new Set(o);return s.every(j=>_.size===Object.keys(j).length)}function callIfFn(s,o){return typeof s=="function"?s(o):s}function unstable_createStyleFunctionSx(){function s(_,j,et,st){const nt={[_]:j,theme:et},ct=st[_];if(!ct)return{[_]:j};const{cssProperty:At=_,themeKey:mt,transform:gt,style:_t}=ct;if(j==null)return null;if(mt==="typography"&&j==="inherit")return{[_]:j};const Et=getPath(et,mt)||{};return _t?_t(nt):handleBreakpoints(nt,j,Bt=>{let Dt=getStyleValue(Et,gt,Bt);return Bt===Dt&&typeof Bt=="string"&&(Dt=getStyleValue(Et,gt,`${_}${Bt==="default"?"":capitalize$2(Bt)}`,Bt)),At===!1?Dt:{[At]:Dt}})}function o(_){var j;const{sx:et,theme:st={}}=_||{};if(!et)return null;const nt=(j=st.unstable_sxConfig)!=null?j:defaultSxConfig;function ct(At){let mt=At;if(typeof At=="function")mt=At(st);else if(typeof At!="object")return At;if(!mt)return null;const gt=createEmptyBreakpointObject(st.breakpoints),_t=Object.keys(gt);let Et=gt;return Object.keys(mt).forEach(Ct=>{const Bt=callIfFn(mt[Ct],st);if(Bt!=null)if(typeof Bt=="object")if(nt[Ct])Et=merge$1(Et,s(Ct,Bt,st,nt));else{const Dt=handleBreakpoints({theme:st},Bt,Ft=>({[Ct]:Ft}));objectsHaveSameKeys(Dt,Bt)?Et[Ct]=o({sx:Bt,theme:st}):Et=merge$1(Et,Dt)}else Et=merge$1(Et,s(Ct,Bt,st,nt))}),removeUnusedBreakpoints(_t,Et)}return Array.isArray(et)?et.map(ct):ct(et)}return o}const styleFunctionSx$1=unstable_createStyleFunctionSx();styleFunctionSx$1.filterProps=["sx"];function applyStyles(s,o){const _=this;return _.vars&&typeof _.getColorSchemeSelector=="function"?{[_.getColorSchemeSelector(s).replace(/(\[[^\]]+\])/,"*:where($1)")]:o}:_.palette.mode===s?o:{}}const _excluded$9=["breakpoints","palette","spacing","shape"];function createTheme$2(s={},...o){const{breakpoints:_={},palette:j={},spacing:et,shape:st={}}=s,nt=_objectWithoutPropertiesLoose$2(s,_excluded$9),ct=createBreakpoints(_),At=createSpacing(et);let mt=deepmerge$1({breakpoints:ct,direction:"ltr",components:{},palette:_extends({mode:"light"},j),spacing:At,shape:_extends({},shape,st)},nt);return mt.applyStyles=applyStyles,mt=o.reduce((gt,_t)=>deepmerge$1(gt,_t),mt),mt.unstable_sxConfig=_extends({},defaultSxConfig,nt==null?void 0:nt.unstable_sxConfig),mt.unstable_sx=function(_t){return styleFunctionSx$1({sx:_t,theme:this})},mt}const createTheme$1=Object.freeze(Object.defineProperty({__proto__:null,default:createTheme$2,private_createBreakpoints:createBreakpoints,unstable_applyStyles:applyStyles},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(createTheme$1),_excluded$8=["sx"],splitProps=s=>{var o,_;const j={systemProps:{},otherProps:{}},et=(o=s==null||(_=s.theme)==null?void 0:_.unstable_sxConfig)!=null?o:defaultSxConfig;return Object.keys(s).forEach(st=>{et[st]?j.systemProps[st]=s[st]:j.otherProps[st]=s[st]}),j};function extendSxProp(s){const{sx:o}=s,_=_objectWithoutPropertiesLoose$2(s,_excluded$8),{systemProps:j,otherProps:et}=splitProps(_);let st;return Array.isArray(o)?st=[j,...o]:typeof o=="function"?st=(...nt)=>{const ct=o(...nt);return isPlainObject$4(ct)?_extends({},j,ct):j}:st=_extends({},j,o),_extends({},et,{sx:st})}const styleFunctionSx=Object.freeze(Object.defineProperty({__proto__:null,default:styleFunctionSx$1,extendSxProp,unstable_createStyleFunctionSx,unstable_defaultSxConfig:defaultSxConfig},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(styleFunctionSx);var _interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(createStyled$2,"__esModule",{value:!0});var _default$2=createStyled$2.default=createStyled;createStyled$2.shouldForwardProp=shouldForwardProp;createStyled$2.systemDefaultTheme=void 0;var _extends2=_interopRequireDefault$t(require$$1$1),_objectWithoutPropertiesLoose2=_interopRequireDefault$t(requireObjectWithoutPropertiesLoose()),_styledEngine=_interopRequireWildcard$3(require$$3),_deepmerge=require$$4;_interopRequireDefault$t(require$$5);_interopRequireDefault$t(require$$6);var _createTheme=_interopRequireDefault$t(require$$7),_styleFunctionSx=_interopRequireDefault$t(require$$8);const _excluded$7=["ownerState"],_excluded2=["variants"],_excluded3=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _getRequireWildcardCache$3(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache$3=function(j){return j?_:o})(s)}function _interopRequireWildcard$3(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var _=_getRequireWildcardCache$3(o);if(_&&_.has(s))return _.get(s);var j={__proto__:null},et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in s)if(st!=="default"&&Object.prototype.hasOwnProperty.call(s,st)){var nt=et?Object.getOwnPropertyDescriptor(s,st):null;nt&&(nt.get||nt.set)?Object.defineProperty(j,st,nt):j[st]=s[st]}return j.default=s,_&&_.set(s,j),j}function isEmpty(s){return Object.keys(s).length===0}function isStringTag(s){return typeof s=="string"&&s.charCodeAt(0)>96}function shouldForwardProp(s){return s!=="ownerState"&&s!=="theme"&&s!=="sx"&&s!=="as"}const systemDefaultTheme=createStyled$2.systemDefaultTheme=(0,_createTheme.default)(),lowercaseFirstLetter=s=>s&&s.charAt(0).toLowerCase()+s.slice(1);function resolveTheme({defaultTheme:s,theme:o,themeId:_}){return isEmpty(o)?s:o[_]||o}function defaultOverridesResolver(s){return s?(o,_)=>_[s]:null}function processStyleArg(s,o){let{ownerState:_}=o,j=(0,_objectWithoutPropertiesLoose2.default)(o,_excluded$7);const et=typeof s=="function"?s((0,_extends2.default)({ownerState:_},j)):s;if(Array.isArray(et))return et.flatMap(st=>processStyleArg(st,(0,_extends2.default)({ownerState:_},j)));if(et&&typeof et=="object"&&Array.isArray(et.variants)){const{variants:st=[]}=et;let ct=(0,_objectWithoutPropertiesLoose2.default)(et,_excluded2);return st.forEach(At=>{let mt=!0;typeof At.props=="function"?mt=At.props((0,_extends2.default)({ownerState:_},j,_)):Object.keys(At.props).forEach(gt=>{(_==null?void 0:_[gt])!==At.props[gt]&&j[gt]!==At.props[gt]&&(mt=!1)}),mt&&(Array.isArray(ct)||(ct=[ct]),ct.push(typeof At.style=="function"?At.style((0,_extends2.default)({ownerState:_},j,_)):At.style))}),ct}return et}function createStyled(s={}){const{themeId:o,defaultTheme:_=systemDefaultTheme,rootShouldForwardProp:j=shouldForwardProp,slotShouldForwardProp:et=shouldForwardProp}=s,st=nt=>(0,_styleFunctionSx.default)((0,_extends2.default)({},nt,{theme:resolveTheme((0,_extends2.default)({},nt,{defaultTheme:_,themeId:o}))}));return st.__mui_systemSx=!0,(nt,ct={})=>{(0,_styledEngine.internal_processStyles)(nt,ts=>ts.filter(es=>!(es!=null&&es.__mui_systemSx)));const{name:At,slot:mt,skipVariantsResolver:gt,skipSx:_t,overridesResolver:Et=defaultOverridesResolver(lowercaseFirstLetter(mt))}=ct,Ct=(0,_objectWithoutPropertiesLoose2.default)(ct,_excluded3),Bt=gt!==void 0?gt:mt&&mt!=="Root"&&mt!=="root"||!1,Dt=_t||!1;let Ft,Rt=shouldForwardProp;mt==="Root"||mt==="root"?Rt=j:mt?Rt=et:isStringTag(nt)&&(Rt=void 0);const Nt=(0,_styledEngine.default)(nt,(0,_extends2.default)({shouldForwardProp:Rt,label:Ft},Ct)),Gt=ts=>typeof ts=="function"&&ts.__emotion_real!==ts||(0,_deepmerge.isPlainObject)(ts)?es=>processStyleArg(ts,(0,_extends2.default)({},es,{theme:resolveTheme({theme:es.theme,defaultTheme:_,themeId:o})})):ts,dr=(ts,...es)=>{let ds=Gt(ts);const tn=es?es.map(Gt):[];At&&Et&&tn.push($n=>{const kn=resolveTheme((0,_extends2.default)({},$n,{defaultTheme:_,themeId:o}));if(!kn.components||!kn.components[At]||!kn.components[At].styleOverrides)return null;const lo=kn.components[At].styleOverrides,Il={};return Object.entries(lo).forEach(([cu,Ko])=>{Il[cu]=processStyleArg(Ko,(0,_extends2.default)({},$n,{theme:kn}))}),Et($n,Il)}),At&&!Bt&&tn.push($n=>{var kn;const lo=resolveTheme((0,_extends2.default)({},$n,{defaultTheme:_,themeId:o})),Il=lo==null||(kn=lo.components)==null||(kn=kn[At])==null?void 0:kn.variants;return processStyleArg({variants:Il},(0,_extends2.default)({},$n,{theme:lo}))}),Dt||tn.push(st);const rn=tn.length-es.length;if(Array.isArray(ts)&&rn>0){const $n=new Array(rn).fill("");ds=[...ts,...$n],ds.raw=[...ts.raw,...$n]}const un=Nt(ds,...tn);return nt.muiName&&(un.muiName=nt.muiName),un};return Nt.withConfig&&(dr.withConfig=Nt.withConfig),dr}}function createMixins(s,o){return _extends({toolbar:{minHeight:56,[s.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[s.up("sm")]:{minHeight:64}}},o)}var colorManipulator={};const require$$1=getAugmentedNamespace(formatMuiErrorMessage),require$$2=getAugmentedNamespace(clamp$1);var _interopRequireDefault$s=interopRequireDefaultExports;Object.defineProperty(colorManipulator,"__esModule",{value:!0});colorManipulator.alpha=alpha;colorManipulator.blend=blend;colorManipulator.colorChannel=void 0;var darken_1=colorManipulator.darken=darken;colorManipulator.decomposeColor=decomposeColor;colorManipulator.emphasize=emphasize;var getContrastRatio_1=colorManipulator.getContrastRatio=getContrastRatio;colorManipulator.getLuminance=getLuminance;colorManipulator.hexToRgb=hexToRgb;colorManipulator.hslToRgb=hslToRgb;var lighten_1=colorManipulator.lighten=lighten;colorManipulator.private_safeAlpha=private_safeAlpha;colorManipulator.private_safeColorChannel=void 0;colorManipulator.private_safeDarken=private_safeDarken;colorManipulator.private_safeEmphasize=private_safeEmphasize;colorManipulator.private_safeLighten=private_safeLighten;colorManipulator.recomposeColor=recomposeColor;colorManipulator.rgbToHex=rgbToHex;var _formatMuiErrorMessage2=_interopRequireDefault$s(require$$1),_clamp=_interopRequireDefault$s(require$$2);function clampWrapper(s,o=0,_=1){return(0,_clamp.default)(s,o,_)}function hexToRgb(s){s=s.slice(1);const o=new RegExp(`.{1,${s.length>=6?2:1}}`,"g");let _=s.match(o);return _&&_[0].length===1&&(_=_.map(j=>j+j)),_?`rgb${_.length===4?"a":""}(${_.map((j,et)=>et<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function intToHex(s){const o=s.toString(16);return o.length===1?`0${o}`:o}function decomposeColor(s){if(s.type)return s;if(s.charAt(0)==="#")return decomposeColor(hexToRgb(s));const o=s.indexOf("("),_=s.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(_)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(9,s));let j=s.substring(o+1,s.length-1),et;if(_==="color"){if(j=j.split(" "),et=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(et)===-1)throw new Error((0,_formatMuiErrorMessage2.default)(10,et))}else j=j.split(",");return j=j.map(st=>parseFloat(st)),{type:_,values:j,colorSpace:et}}const colorChannel=s=>{const o=decomposeColor(s);return o.values.slice(0,3).map((_,j)=>o.type.indexOf("hsl")!==-1&&j!==0?`${_}%`:_).join(" ")};colorManipulator.colorChannel=colorChannel;const private_safeColorChannel=(s,o)=>{try{return colorChannel(s)}catch{return s}};colorManipulator.private_safeColorChannel=private_safeColorChannel;function recomposeColor(s){const{type:o,colorSpace:_}=s;let{values:j}=s;return o.indexOf("rgb")!==-1?j=j.map((et,st)=>st<3?parseInt(et,10):et):o.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),o.indexOf("color")!==-1?j=`${_} ${j.join(" ")}`:j=`${j.join(", ")}`,`${o}(${j})`}function rgbToHex(s){if(s.indexOf("#")===0)return s;const{values:o}=decomposeColor(s);return`#${o.map((_,j)=>intToHex(j===3?Math.round(255*_):_)).join("")}`}function hslToRgb(s){s=decomposeColor(s);const{values:o}=s,_=o[0],j=o[1]/100,et=o[2]/100,st=j*Math.min(et,1-et),nt=(mt,gt=(mt+_/30)%12)=>et-st*Math.max(Math.min(gt-3,9-gt,1),-1);let ct="rgb";const At=[Math.round(nt(0)*255),Math.round(nt(8)*255),Math.round(nt(4)*255)];return s.type==="hsla"&&(ct+="a",At.push(o[3])),recomposeColor({type:ct,values:At})}function getLuminance(s){s=decomposeColor(s);let o=s.type==="hsl"||s.type==="hsla"?decomposeColor(hslToRgb(s)).values:s.values;return o=o.map(_=>(s.type!=="color"&&(_/=255),_<=.03928?_/12.92:((_+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(s,o){const _=getLuminance(s),j=getLuminance(o);return(Math.max(_,j)+.05)/(Math.min(_,j)+.05)}function alpha(s,o){return s=decomposeColor(s),o=clampWrapper(o),(s.type==="rgb"||s.type==="hsl")&&(s.type+="a"),s.type==="color"?s.values[3]=`/${o}`:s.values[3]=o,recomposeColor(s)}function private_safeAlpha(s,o,_){try{return alpha(s,o)}catch{return s}}function darken(s,o){if(s=decomposeColor(s),o=clampWrapper(o),s.type.indexOf("hsl")!==-1)s.values[2]*=1-o;else if(s.type.indexOf("rgb")!==-1||s.type.indexOf("color")!==-1)for(let _=0;_<3;_+=1)s.values[_]*=1-o;return recomposeColor(s)}function private_safeDarken(s,o,_){try{return darken(s,o)}catch{return s}}function lighten(s,o){if(s=decomposeColor(s),o=clampWrapper(o),s.type.indexOf("hsl")!==-1)s.values[2]+=(100-s.values[2])*o;else if(s.type.indexOf("rgb")!==-1)for(let _=0;_<3;_+=1)s.values[_]+=(255-s.values[_])*o;else if(s.type.indexOf("color")!==-1)for(let _=0;_<3;_+=1)s.values[_]+=(1-s.values[_])*o;return recomposeColor(s)}function private_safeLighten(s,o,_){try{return lighten(s,o)}catch{return s}}function emphasize(s,o=.15){return getLuminance(s)>.5?darken(s,o):lighten(s,o)}function private_safeEmphasize(s,o,_){try{return emphasize(s,o)}catch{return s}}function blend(s,o,_,j=1){const et=(At,mt)=>Math.round((At**(1/j)*(1-_)+mt**(1/j)*_)**j),st=decomposeColor(s),nt=decomposeColor(o),ct=[et(st.values[0],nt.values[0]),et(st.values[1],nt.values[1]),et(st.values[2],nt.values[2])];return recomposeColor({type:"rgb",values:ct})}const common={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_excluded$6=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(s,o,_,j){const et=j.light||j,st=j.dark||j*1.5;s[o]||(s.hasOwnProperty(_)?s[o]=s[_]:o==="light"?s.light=lighten_1(s.main,et):o==="dark"&&(s.dark=darken_1(s.main,st)))}function getDefaultPrimary(s="light"){return s==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(s="light"){return s==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(s="light"){return s==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(s="light"){return s==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(s="light"){return s==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(s="light"){return s==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(s){const{mode:o="light",contrastThreshold:_=3,tonalOffset:j=.2}=s,et=_objectWithoutPropertiesLoose$2(s,_excluded$6),st=s.primary||getDefaultPrimary(o),nt=s.secondary||getDefaultSecondary(o),ct=s.error||getDefaultError(o),At=s.info||getDefaultInfo(o),mt=s.success||getDefaultSuccess(o),gt=s.warning||getDefaultWarning(o);function _t(Dt){return getContrastRatio_1(Dt,dark.text.primary)>=_?dark.text.primary:light.text.primary}const Et=({color:Dt,name:Ft,mainShade:Rt=500,lightShade:Nt=300,darkShade:Gt=700})=>{if(Dt=_extends({},Dt),!Dt.main&&Dt[Rt]&&(Dt.main=Dt[Rt]),!Dt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage$1(11,Ft?` (${Ft})`:"",Rt));if(typeof Dt.main!="string")throw new Error(formatMuiErrorMessage$1(12,Ft?` (${Ft})`:"",JSON.stringify(Dt.main)));return addLightOrDark(Dt,"light",Nt,j),addLightOrDark(Dt,"dark",Gt,j),Dt.contrastText||(Dt.contrastText=_t(Dt.main)),Dt},Ct={dark,light};return deepmerge$1(_extends({common:_extends({},common),mode:o,primary:Et({color:st,name:"primary"}),secondary:Et({color:nt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Et({color:ct,name:"error"}),warning:Et({color:gt,name:"warning"}),info:Et({color:At,name:"info"}),success:Et({color:mt,name:"success"}),grey,contrastThreshold:_,getContrastText:_t,augmentColor:Et,tonalOffset:j},Ct[o]),et)}const _excluded$5=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(s){return Math.round(s*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(s,o){const _=typeof o=="function"?o(s):o,{fontFamily:j=defaultFontFamily,fontSize:et=14,fontWeightLight:st=300,fontWeightRegular:nt=400,fontWeightMedium:ct=500,fontWeightBold:At=700,htmlFontSize:mt=16,allVariants:gt,pxToRem:_t}=_,Et=_objectWithoutPropertiesLoose$2(_,_excluded$5),Ct=et/14,Bt=_t||(Rt=>`${Rt/mt*Ct}rem`),Dt=(Rt,Nt,Gt,dr,ts)=>_extends({fontFamily:j,fontWeight:Rt,fontSize:Bt(Nt),lineHeight:Gt},j===defaultFontFamily?{letterSpacing:`${round(dr/Nt)}em`}:{},ts,gt),Ft={h1:Dt(st,96,1.167,-1.5),h2:Dt(st,60,1.2,-.5),h3:Dt(nt,48,1.167,0),h4:Dt(nt,34,1.235,.25),h5:Dt(nt,24,1.334,0),h6:Dt(ct,20,1.6,.15),subtitle1:Dt(nt,16,1.75,.15),subtitle2:Dt(ct,14,1.57,.1),body1:Dt(nt,16,1.5,.15),body2:Dt(nt,14,1.43,.15),button:Dt(ct,14,1.75,.4,caseAllCaps),caption:Dt(nt,12,1.66,.4),overline:Dt(nt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge$1(_extends({htmlFontSize:mt,pxToRem:Bt,fontFamily:j,fontSize:et,fontWeightLight:st,fontWeightRegular:nt,fontWeightMedium:ct,fontWeightBold:At},Ft),Et,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...s){return[`${s[0]}px ${s[1]}px ${s[2]}px ${s[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${s[4]}px ${s[5]}px ${s[6]}px ${s[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${s[8]}px ${s[9]}px ${s[10]}px ${s[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$4=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(s){return`${Math.round(s)}ms`}function getAutoHeightDuration(s){if(!s)return 0;const o=s/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(s){const o=_extends({},easing,s.easing),_=_extends({},duration$1,s.duration);return _extends({getAutoHeightDuration,create:(et=["all"],st={})=>{const{duration:nt=_.standard,easing:ct=o.easeInOut,delay:At=0}=st;return _objectWithoutPropertiesLoose$2(st,_excluded$4),(Array.isArray(et)?et:[et]).map(mt=>`${mt} ${typeof nt=="string"?nt:formatMs(nt)} ${ct} ${typeof At=="string"?At:formatMs(At)}`).join(",")}},s,{easing:o,duration:_})}const zIndex$1={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_excluded$3=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(s={},...o){const{mixins:_={},palette:j={},transitions:et={},typography:st={}}=s,nt=_objectWithoutPropertiesLoose$2(s,_excluded$3);if(s.vars)throw new Error(formatMuiErrorMessage$1(18));const ct=createPalette(j),At=createTheme$2(s);let mt=deepmerge$1(At,{mixins:createMixins(At.breakpoints,_),palette:ct,shadows:shadows.slice(),typography:createTypography(ct,st),transitions:createTransitions(et),zIndex:_extends({},zIndex$1)});return mt=deepmerge$1(mt,nt),mt=o.reduce((gt,_t)=>deepmerge$1(gt,_t),mt),mt.unstable_sxConfig=_extends({},defaultSxConfig,nt==null?void 0:nt.unstable_sxConfig),mt.unstable_sx=function(_t){return styleFunctionSx$1({sx:_t,theme:this})},mt}const defaultTheme=createTheme(),THEME_ID="$$material";function slotShouldForwardProp(s){return s!=="ownerState"&&s!=="theme"&&s!=="sx"&&s!=="as"}const rootShouldForwardProp=s=>slotShouldForwardProp(s)&&s!=="classes",styled=_default$2({themeId:THEME_ID,defaultTheme,rootShouldForwardProp});function getSvgIconUtilityClass(s){return generateUtilityClass("MuiSvgIcon",s)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$2=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses=s=>{const{color:o,fontSize:_,classes:j}=s,et={root:["root",o!=="inherit"&&`color${capitalize$2(o)}`,`fontSize${capitalize$2(_)}`]};return composeClasses(et,getSvgIconUtilityClass,j)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:_}=s;return[o.root,_.color!=="inherit"&&o[`color${capitalize$2(_.color)}`],o[`fontSize${capitalize$2(_.fontSize)}`]]}})(({theme:s,ownerState:o})=>{var _,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(_=s.transitions)==null||(j=_.create)==null?void 0:j.call(_,"fill",{duration:(et=s.transitions)==null||(et=et.duration)==null?void 0:et.shorter}),fontSize:{inherit:"inherit",small:((st=s.typography)==null||(nt=st.pxToRem)==null?void 0:nt.call(st,20))||"1.25rem",medium:((ct=s.typography)==null||(At=ct.pxToRem)==null?void 0:At.call(ct,24))||"1.5rem",large:((mt=s.typography)==null||(gt=mt.pxToRem)==null?void 0:gt.call(mt,35))||"2.1875rem"}[o.fontSize],color:(_t=(Et=(s.vars||s).palette)==null||(Et=Et[o.color])==null?void 0:Et.main)!=null?_t:{action:(Ct=(s.vars||s).palette)==null||(Ct=Ct.action)==null?void 0:Ct.active,disabled:(Bt=(s.vars||s).palette)==null||(Bt=Bt.action)==null?void 0:Bt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,_){const j=useDefaultProps({props:o,name:"MuiSvgIcon"}),{children:et,className:st,color:nt="inherit",component:ct="svg",fontSize:At="medium",htmlColor:mt,inheritViewBox:gt=!1,titleAccess:_t,viewBox:Et="0 0 24 24"}=j,Ct=_objectWithoutPropertiesLoose$2(j,_excluded$2),Bt=reactExports.isValidElement(et)&&et.type==="svg",Dt=_extends({},j,{color:nt,component:ct,fontSize:At,instanceFontSize:o.fontSize,inheritViewBox:gt,viewBox:Et,hasSvgAsChild:Bt}),Ft={};gt||(Ft.viewBox=Et);const Rt=useUtilityClasses(Dt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends({as:ct,className:clsx(Rt.root,st),focusable:"false",color:mt,"aria-hidden":_t?void 0:!0,role:_t?"img":void 0,ref:_},Ft,Ct,Bt&&et.props,{ownerState:Dt,children:[Bt?et.props.children:et,_t?jsxRuntimeExports.jsx("title",{children:_t}):null]}))});SvgIcon.muiName="SvgIcon";function createSvgIcon(s,o){function _(j,et){return jsxRuntimeExports.jsx(SvgIcon,_extends({"data-testid":`${o}Icon`,ref:et},j,{children:s}))}return _.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(_))}const unstable_ClassNameGenerator={configure:s=>{ClassNameGenerator.configure(s)}},utils$2=Object.freeze(Object.defineProperty({__proto__:null,capitalize:capitalize$2,createChainedFunction,createSvgIcon,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(utils$2);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(s){"use client";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=require$$0}(createSvgIcon$1)),createSvgIcon$1}var _interopRequireDefault$r=interopRequireDefaultExports;Object.defineProperty(SafetyCheck,"__esModule",{value:!0});var default_1$r=SafetyCheck.default=void 0,_createSvgIcon$r=_interopRequireDefault$r(requireCreateSvgIcon()),_jsxRuntime$r=jsxRuntimeExports;default_1$r=SafetyCheck.default=(0,_createSvgIcon$r.default)((0,_jsxRuntime$r.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m1.65-2.65L11.5 12.2V9h1v2.79l1.85 1.85z"}),"SafetyCheck");var Accessibility={},_interopRequireDefault$q=interopRequireDefaultExports;Object.defineProperty(Accessibility,"__esModule",{value:!0});var default_1$q=Accessibility.default=void 0,_createSvgIcon$q=_interopRequireDefault$q(requireCreateSvgIcon()),_jsxRuntime$q=jsxRuntimeExports;default_1$q=Accessibility.default=(0,_createSvgIcon$q.default)((0,_jsxRuntime$q.jsx)("path",{d:"M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m9 7h-6v13h-2v-6h-2v6H9V9H3V7h18z"}),"Accessibility");var Speed={},_interopRequireDefault$p=interopRequireDefaultExports;Object.defineProperty(Speed,"__esModule",{value:!0});var default_1$p=Speed.default=void 0,_createSvgIcon$p=_interopRequireDefault$p(requireCreateSvgIcon()),_jsxRuntime$p=jsxRuntimeExports;default_1$p=Speed.default=(0,_createSvgIcon$p.default)((0,_jsxRuntime$p.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed");var Public={},_interopRequireDefault$o=interopRequireDefaultExports;Object.defineProperty(Public,"__esModule",{value:!0});var default_1$o=Public.default=void 0,_createSvgIcon$o=_interopRequireDefault$o(requireCreateSvgIcon()),_jsxRuntime$o=jsxRuntimeExports;default_1$o=Public.default=(0,_createSvgIcon$o.default)((0,_jsxRuntime$o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}),"Public");var CheckRounded={},_interopRequireDefault$n=interopRequireDefaultExports;Object.defineProperty(CheckRounded,"__esModule",{value:!0});var default_1$n=CheckRounded.default=void 0,_createSvgIcon$n=_interopRequireDefault$n(requireCreateSvgIcon()),_jsxRuntime$n=jsxRuntimeExports;default_1$n=CheckRounded.default=(0,_createSvgIcon$n.default)((0,_jsxRuntime$n.jsx)("path",{d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0z"}),"CheckRounded");function Home(){return jsxRuntimeExports.jsxs("div",{className:"Home_div",children:[jsxRuntimeExports.jsxs("section",{className:"Home_div_section1",children:[jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsx("div",{className:"Home_div_section1_conts",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section1_area",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section1_area_1",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section1_area_1_title",children:["Move Your",jsxRuntimeExports.jsxs("span",{className:"Home_div_section1_area_1_title_span",children:[" ","Money"]}),jsxRuntimeExports.jsx("br",{})," Without Borders."]}),jsxRuntimeExports.jsx("div",{className:"Home_div_section1_area_1_para",children:"Experience seamless money transfers. Send and receive funds globally with ease, regardless of location, occupation, or income level."}),jsxRuntimeExports.jsx("button",{className:"Home_div_section1_area_1_btn",children:"Get started"})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section1_area_2",children:[" ",jsxRuntimeExports.jsx(zr,{scene:"https://prod.spline.design/VNzUdteCzQL-qkW9/scene.splinecode",className:"home_div_section1_area_2_spline_scene"}),jsxRuntimeExports.jsx("img",{src:"/img/bg_blur.png",alt:"",className:"Home_div_section1_area_2_img"})]})]})})}),jsxRuntimeExports.jsx("img",{src:"/img/grains_ellipse.png",alt:"",className:"grains_ellipse"})]}),jsxRuntimeExports.jsxs("section",{className:"Home_div_section2",children:[jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_1",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_1_cont1",children:[jsxRuntimeExports.jsx(default_1$q,{className:"Home_div_section2_area_1_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_title",children:"Inclusive Accessibility"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_para",children:"Anyone with a basic smartphone and data connection can utilize the Cube payment system, promoting financial inclusion for all."})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_1_cont1",children:[jsxRuntimeExports.jsx(default_1$r,{className:"Home_div_section2_area_1_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_title",children:"Stable Reliability"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_para",children:"Cube Coins are backed by a secure reserve of liquid assets, including cash and highly-tradable, short-term government securities, ensuring stability and peace of mind."})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_1_cont1",children:[jsxRuntimeExports.jsx(default_1$p,{className:"Home_div_section2_area_1_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_title",children:"Effortless Speed"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_para",children:"Cube transactions are designed for swift and convenient money transfer and spending, regardless of location."})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_1_cont1",children:[jsxRuntimeExports.jsx(default_1$o,{className:"Home_div_section2_area_1_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_title",children:"Global Connectivity"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_1_cont1_para",children:"The Cube payment system fosters a more interconnected and accessible global financial landscape."})]})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section2_area_2",children:[jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_2_title",children:"The cube payment system is for everyone."}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_2_title_para1",children:"We're here to help people solve their biggest problems, starting with money."}),jsxRuntimeExports.jsx("div",{className:"Home_div_section2_area_2_title_para2",children:"We envision a world where sending money internationally is as effortless and inexpensive as sending a message, empowering everyone to participate in a connected financial ecosystem."}),jsxRuntimeExports.jsx("button",{className:"Home_div_section2_area_2_btn",children:"Get started"})]})]})}),jsxRuntimeExports.jsx("img",{src:"/img/grains_ellipse.png",alt:"",className:"grains_ellipse"})]}),jsxRuntimeExports.jsx("section",{className:"Home_div_section3",children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section3_area",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section3_area_1",children:[jsxRuntimeExports.jsx("div",{className:"Home_div_section3_area_1_title",children:"African financial infrastructure with global ambitions"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section3_area_1_para",children:"Experience seamless money transfers. Send and receive funds globally with ease, regardless of location, occupation, or income level."}),jsxRuntimeExports.jsx("button",{className:"Home_div_section3_area_1_btn",children:"Get started"})]}),jsxRuntimeExports.jsx("div",{className:"Home_div_section3_area_2",children:jsxRuntimeExports.jsx("img",{src:"/img/phones_bg.png",alt:"",className:"Home_div_section3_area_2_img"})}),jsxRuntimeExports.jsx("img",{src:"/img/grains_ellipse.png",alt:"",className:"grains_ellipse"})]})})}),jsxRuntimeExports.jsx("section",{className:"Home_div_section4",children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section4_area",children:[jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_1",children:"How it works"}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section4_area_2",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section4_area_2_cont1",children:[jsxRuntimeExports.jsx(default_1$q,{className:"Home_div_section4_area_2_cont_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_title",children:"Know Your Customer"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_para",children:"ComplyCube provides a complete set of Know Your Customer (KYC) building blocks to support virtually any business model."})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section4_area_2_cont1",children:[jsxRuntimeExports.jsx(default_1$q,{className:"Home_div_section4_area_2_cont_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_title",children:"Know Your Customer"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_para",children:"ComplyCube provides a complete set of Know Your Customer (KYC) building blocks to support virtually any business model."})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section4_area_2_cont1",children:[jsxRuntimeExports.jsx(default_1$q,{className:"Home_div_section4_area_2_cont_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_title",children:"Know Your Customer"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section4_area_2_cont_para",children:"ComplyCube provides a complete set of Know Your Customer (KYC) building blocks to support virtually any business model."})]})]})]})})}),jsxRuntimeExports.jsx("section",{className:"Home_div_section5",children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section5_area",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section5_area_1",children:[jsxRuntimeExports.jsx("div",{className:"Home_div_section5_area_1_title",children:"Built with developer productivity in mind"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section5_area_1_para",children:"In addition to our best-in-class API, we provide client libraries, capture SDKs, and hosted solutions to enable you to integrate with us as quickly and efficiently as possible."})]}),jsxRuntimeExports.jsx("div",{className:"Home_div_section5_area_2",children:jsxRuntimeExports.jsx("img",{src:"/img/dummy_img_home.svg",alt:"",className:"Home_div_section5_area_2_img"})})]})})}),jsxRuntimeExports.jsx("section",{className:"Home_div_section6",children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1_title",children:["Ready to get started?",jsxRuntimeExports.jsx("br",{})," Create an account or get in touch."]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1_tags",children:[jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1_tag1",children:[jsxRuntimeExports.jsx(default_1$n,{className:"Home_div_section6_area_1_tag1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section6_area_1_tag1_txt",children:"Easy to integrate"})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1_tag1",children:[jsxRuntimeExports.jsx(default_1$n,{className:"Home_div_section6_area_1_tag1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section6_area_1_tag1_txt",children:"Global coverage"})]}),jsxRuntimeExports.jsxs("div",{className:"Home_div_section6_area_1_tag1",children:[jsxRuntimeExports.jsx(default_1$n,{className:"Home_div_section6_area_1_tag1_icon"}),jsxRuntimeExports.jsx("div",{className:"Home_div_section6_area_1_tag1_txt",children:"Complete solution"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"Home_div_section6_area_2",children:jsxRuntimeExports.jsx("button",{className:"Home_div_section6_area_2_btn",children:"Get started"})})]})})})]})}var Twitter={},_interopRequireDefault$m=interopRequireDefaultExports;Object.defineProperty(Twitter,"__esModule",{value:!0});var default_1$m=Twitter.default=void 0;_interopRequireWildcard$2(reactExports);var _createSvgIcon$m=_interopRequireDefault$m(requireCreateSvgIcon()),_jsxRuntime$m=jsxRuntimeExports;function _getRequireWildcardCache$2(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache$2=function(j){return j?_:o})(s)}function _interopRequireWildcard$2(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var _=_getRequireWildcardCache$2(o);if(_&&_.has(s))return _.get(s);var j={__proto__:null},et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in s)if(st!=="default"&&Object.prototype.hasOwnProperty.call(s,st)){var nt=et?Object.getOwnPropertyDescriptor(s,st):null;nt&&(nt.get||nt.set)?Object.defineProperty(j,st,nt):j[st]=s[st]}return j.default=s,_&&_.set(s,j),j}default_1$m=Twitter.default=(0,_createSvgIcon$m.default)((0,_jsxRuntime$m.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");var LinkedIn={},_interopRequireDefault$l=interopRequireDefaultExports;Object.defineProperty(LinkedIn,"__esModule",{value:!0});var default_1$l=LinkedIn.default=void 0;_interopRequireWildcard$1(reactExports);var _createSvgIcon$l=_interopRequireDefault$l(requireCreateSvgIcon()),_jsxRuntime$l=jsxRuntimeExports;function _getRequireWildcardCache$1(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache$1=function(j){return j?_:o})(s)}function _interopRequireWildcard$1(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var _=_getRequireWildcardCache$1(o);if(_&&_.has(s))return _.get(s);var j={__proto__:null},et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in s)if(st!=="default"&&Object.prototype.hasOwnProperty.call(s,st)){var nt=et?Object.getOwnPropertyDescriptor(s,st):null;nt&&(nt.get||nt.set)?Object.defineProperty(j,st,nt):j[st]=s[st]}return j.default=s,_&&_.set(s,j),j}default_1$l=LinkedIn.default=(0,_createSvgIcon$l.default)((0,_jsxRuntime$l.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");var Facebook={},_interopRequireDefault$k=interopRequireDefaultExports;Object.defineProperty(Facebook,"__esModule",{value:!0});var default_1$k=Facebook.default=void 0;_interopRequireWildcard(reactExports);var _createSvgIcon$k=_interopRequireDefault$k(requireCreateSvgIcon()),_jsxRuntime$k=jsxRuntimeExports;function _getRequireWildcardCache(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,_=new WeakMap;return(_getRequireWildcardCache=function(j){return j?_:o})(s)}function _interopRequireWildcard(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var _=_getRequireWildcardCache(o);if(_&&_.has(s))return _.get(s);var j={__proto__:null},et=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var st in s)if(st!=="default"&&Object.prototype.hasOwnProperty.call(s,st)){var nt=et?Object.getOwnPropertyDescriptor(s,st):null;nt&&(nt.get||nt.set)?Object.defineProperty(j,st,nt):j[st]=s[st]}return j.default=s,_&&_.set(s,j),j}default_1$k=Facebook.default=(0,_createSvgIcon$k.default)((0,_jsxRuntime$k.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");const Footer=()=>{const s=window.location.pathname;return s.split("/"),reactExports.useEffect(()=>{s==="/app/home"&&(document.getElementById("footer").style.display="none"),s==="/app/add-money"&&(document.getElementById("footer").style.display="none"),s==="/app/send-money"&&(document.getElementById("footer").style.display="none"),s==="/app/all-transactions"&&(document.getElementById("footer").style.display="none"),s==="/app/user-settings"&&(document.getElementById("footer").style.display="none"),s==="/app/pay_bills"&&(document.getElementById("footer").style.display="none")}),jsxRuntimeExports.jsx("div",{className:"footerDiv",id:"footer",children:jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:"footerDivArea",children:[jsxRuntimeExports.jsxs("div",{className:"footerDiv1",children:[jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area1",children:[jsxRuntimeExports.jsx("div",{className:"footerDiv1_area1_cont1",children:jsxRuntimeExports.jsxs("a",{href:"/",className:"header_div_area_1",children:[jsxRuntimeExports.jsxs("div",{className:"header_div_area_1_div1",children:[jsxRuntimeExports.jsx("img",{src:"/cube_logo_bg.svg",alt:"",className:"header_div_area_1_img"}),jsxRuntimeExports.jsx("img",{src:"/cube.svg",alt:"",className:"header_div_area_1_img_anima"})]}),"Cub",jsxRuntimeExports.jsx("span",{className:"header_div_area_1_span",children:"e"})]})}),jsxRuntimeExports.jsx("div",{className:"footerDiv1_area1_cont2",children:jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area1_cont2_links",children:[jsxRuntimeExports.jsx("a",{href:"https://twitter.com/usefortapp/",children:jsxRuntimeExports.jsx(default_1$m,{className:"footerDiv1_area1_cont2_links_link1"})}),jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/company/fortapp/",children:jsxRuntimeExports.jsx(default_1$l,{className:"footerDiv1_area1_cont2_links_link1"})}),jsxRuntimeExports.jsx("a",{href:"https://web.facebook.com/usefortapp/",children:jsxRuntimeExports.jsx(default_1$k,{className:"footerDiv1_area1_cont2_links_link1"})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area2",children:[jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area2_cont1",children:[jsxRuntimeExports.jsx("div",{className:"footerDiv1_area2_title",children:"Company"}),jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area2_title_subLinks_div",children:[jsxRuntimeExports.jsx("a",{href:"/privacy",className:"footerDiv1_area2_title_subLinks_div_link1",children:"Privacy Policy"}),jsxRuntimeExports.jsx("a",{href:"/terms-conditions",className:"footerDiv1_area2_title_subLinks_div_link1",children:"Terms & conditions"}),jsxRuntimeExports.jsx("a",{href:"/about",className:"footerDiv1_area2_title_subLinks_div_link1",children:"About Us"})]})]}),jsxRuntimeExports.jsxs("div",{className:"footerDiv1_area2_cont1",children:[jsxRuntimeExports.jsx("div",{className:"footerDiv1_area2_title",children:"Need Help?"}),jsxRuntimeExports.jsx("div",{className:"footerDiv1_area2_title_subLinks_div",children:jsxRuntimeExports.jsx("a",{href:"#",className:"footerDiv1_area2_title_subLinks_div_link1",children:"support@cube.co"})})]})]})]}),jsxRuntimeExports.jsx("hr",{className:"footer_hr"}),jsxRuntimeExports.jsx("div",{className:"footer_lastDiv",children:"© 2024 Cube.io"})]})})})};var Close={},_interopRequireDefault$j=interopRequireDefaultExports;Object.defineProperty(Close,"__esModule",{value:!0});var default_1$j=Close.default=void 0,_createSvgIcon$j=_interopRequireDefault$j(requireCreateSvgIcon()),_jsxRuntime$j=jsxRuntimeExports;default_1$j=Close.default=(0,_createSvgIcon$j.default)((0,_jsxRuntime$j.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var CallMade={},_interopRequireDefault$i=interopRequireDefaultExports;Object.defineProperty(CallMade,"__esModule",{value:!0});var default_1$i=CallMade.default=void 0,_createSvgIcon$i=_interopRequireDefault$i(requireCreateSvgIcon()),_jsxRuntime$i=jsxRuntimeExports;default_1$i=CallMade.default=(0,_createSvgIcon$i.default)((0,_jsxRuntime$i.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade");var Login$1={},_interopRequireDefault$h=interopRequireDefaultExports;Object.defineProperty(Login$1,"__esModule",{value:!0});var default_1$h=Login$1.default=void 0,_createSvgIcon$h=_interopRequireDefault$h(requireCreateSvgIcon()),_jsxRuntime$h=jsxRuntimeExports;default_1$h=Login$1.default=(0,_createSvgIcon$h.default)((0,_jsxRuntime$h.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login");const getUserInfo=()=>localStorage.getItem("user-info")?JSON.parse(localStorage.getItem("user-info")):null,Header=()=>{const[s,o]=reactExports.useState(!1),[_,j]=reactExports.useState(!1),et=()=>{o(!s)},st=()=>{window.scrollY>=100?j(!0):j(!1)};window.addEventListener("scroll",st);const nt=window.location.pathname;return nt.split("/"),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt==="/event"?null:jsxRuntimeExports.jsxs("div",{className:_?"header_div":"header_div_relative",children:[jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"header_div_area",children:[jsxRuntimeExports.jsxs("a",{href:"/",className:"header_div_area_1",children:[jsxRuntimeExports.jsxs("div",{className:"header_div_area_1_div1",children:[jsxRuntimeExports.jsx("img",{src:"/cube_logo_bg.svg",alt:"",className:"header_div_area_1_img"}),jsxRuntimeExports.jsx("img",{src:"/cube.svg",alt:"",className:"header_div_area_1_img_anima"})]}),"Cub",jsxRuntimeExports.jsx("span",{className:"header_div_area_1_span",children:"e"})]}),jsxRuntimeExports.jsxs("div",{className:"header_div_area_2",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"header_div_area_2_link1",children:"About us"}),localStorage.getItem("x-token")!==null?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsxs("a",{href:"/app/home",children:[" ",jsxRuntimeExports.jsxs("button",{className:"Airdrop_head_btn2",children:["Dashboard",jsxRuntimeExports.jsx(default_1$h,{className:"Airdrop_head_btn_icon"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsxs("a",{href:"/login",children:[" ",jsxRuntimeExports.jsx("button",{className:"Airdrop_head_btn2",children:"Login"})]}),jsxRuntimeExports.jsxs("a",{href:"/register",children:[" ",jsxRuntimeExports.jsx("button",{className:"Airdrop_head_btn",children:"Register"})]})]})]})]})}),s?jsxRuntimeExports.jsx("div",{className:"headerMenuDiv",children:jsxRuntimeExports.jsxs("div",{className:"headerMenuDiv_cont",children:[jsxRuntimeExports.jsx("div",{className:"headerMenuDiv_cont_1",children:jsxRuntimeExports.jsx(default_1$j,{className:"headerMenuDiv_cont_1_icon",onClick:et})}),jsxRuntimeExports.jsxs("div",{className:"headerMenuDiv_cont_body",children:[jsxRuntimeExports.jsx("a",{href:"/wallet",className:"headerMenuDiv_cont_body_link1",children:"Ego Wallet"}),jsxRuntimeExports.jsx("a",{href:"/station",className:"headerMenuDiv_cont_body_link1",children:"Ego Station"}),jsxRuntimeExports.jsx("a",{href:window.location.protocol==="http:"?`http://localhost:${window.location.port}/egax/coin/info`:"https://egochain.org/egax/coin/info",className:"headerMenuDiv_cont_body_link1",children:"EGAX Coin"}),jsxRuntimeExports.jsx("a",{href:window.location.protocol==="http:"?`http://localhost:${window.location.port}/about`:"https://egochain.org/about",className:"headerMenuDiv_cont_body_link1",children:"About"}),jsxRuntimeExports.jsx("a",{href:window.location.protocol==="http:"?`http://localhost:${window.location.port}/whitepaper`:"https://egochain.org/whitepaper",className:"headerMenuDiv_cont_body_link1",children:"White paper"}),jsxRuntimeExports.jsxs("a",{href:window.location.protocol==="http:"?`http://faucet.localhost:${window.location.port}/`:"https://faucet.egochain.org/",className:"headerMenuDiv_cont_body_link1",target:"_blank",children:[" ","Faucet",jsxRuntimeExports.jsx(default_1$i,{className:"header_div_area_2_link1_icon"})]}),jsxRuntimeExports.jsxs("a",{href:"https://github.com/EgorasMarket",target:"_blank",className:"headerMenuDiv_cont_body_link1",children:[" ","Developer",jsxRuntimeExports.jsx(default_1$i,{className:"header_div_area_2_link1_icon"})]}),jsxRuntimeExports.jsxs("a",{href:"https://egoswap.io",className:"headerMenuDiv_cont_body_link1",target:"_blank",children:[" ","Egoswap",jsxRuntimeExports.jsx(default_1$i,{className:"header_div_area_2_link1_icon"})]}),jsxRuntimeExports.jsxs("a",{href:"https://testnet.egoscan.io/",className:"headerMenuDiv_cont_body_link1",target:"_blank",children:[" ","Explorer",jsxRuntimeExports.jsx(default_1$i,{className:"header_div_area_2_link1_icon"})]}),jsxRuntimeExports.jsxs("a",{href:"https://egodao.org/",className:"headerMenuDiv_cont_body_link1",target:"_blank",children:[" ","Stake",jsxRuntimeExports.jsx(default_1$i,{className:"header_div_area_2_link1_icon"})]}),jsxRuntimeExports.jsx("a",{href:"/join/event",style:{width:"100%"},children:jsxRuntimeExports.jsx("button",{className:"Airdrop_head_btn_mobile",children:"Join Airdrop"})})]})]})}):null]})})};var ArrowDownward={},_interopRequireDefault$g=interopRequireDefaultExports;Object.defineProperty(ArrowDownward,"__esModule",{value:!0});var default_1$g=ArrowDownward.default=void 0,_createSvgIcon$g=_interopRequireDefault$g(requireCreateSvgIcon()),_jsxRuntime$g=jsxRuntimeExports;default_1$g=ArrowDownward.default=(0,_createSvgIcon$g.default)((0,_jsxRuntime$g.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");var Circle={},_interopRequireDefault$f=interopRequireDefaultExports;Object.defineProperty(Circle,"__esModule",{value:!0});var default_1$f=Circle.default=void 0,_createSvgIcon$f=_interopRequireDefault$f(requireCreateSvgIcon()),_jsxRuntime$f=jsxRuntimeExports;default_1$f=Circle.default=(0,_createSvgIcon$f.default)((0,_jsxRuntime$f.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var ArrowUpward={},_interopRequireDefault$e=interopRequireDefaultExports;Object.defineProperty(ArrowUpward,"__esModule",{value:!0});var default_1$e=ArrowUpward.default=void 0,_createSvgIcon$e=_interopRequireDefault$e(requireCreateSvgIcon()),_jsxRuntime$e=jsxRuntimeExports;default_1$e=ArrowUpward.default=(0,_createSvgIcon$e.default)((0,_jsxRuntime$e.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");const NodataComp=()=>jsxRuntimeExports.jsxs("div",{className:"Nodata_div",children:[jsxRuntimeExports.jsx("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg",className:"Nodata_div_icon",children:jsxRuntimeExports.jsxs("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd",children:[jsxRuntimeExports.jsx("ellipse",{fill:"#f5f5f5",cx:"32",cy:"33",rx:"32",ry:"7"}),jsxRuntimeExports.jsxs("g",{"fill-rule":"nonzero",stroke:"#d9d9d9",children:[jsxRuntimeExports.jsx("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),jsxRuntimeExports.jsx("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#fafafa"})]})]})}),jsxRuntimeExports.jsx("div",{className:"Nodata_div_title",children:"No data"})]});var BeatLoader$1={},unitConverter={};Object.defineProperty(unitConverter,"__esModule",{value:!0});unitConverter.cssValue=unitConverter.parseLengthAndUnit=void 0;var cssUnit={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function parseLengthAndUnit(s){if(typeof s=="number")return{value:s,unit:"px"};var o,_=(s.match(/^[0-9.]*/)||"").toString();_.includes(".")?o=parseFloat(_):o=parseInt(_,10);var j=(s.match(/[^0-9]*$/)||"").toString();return cssUnit[j]?{value:o,unit:j}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(o,"px.")),{value:o,unit:"px"})}unitConverter.parseLengthAndUnit=parseLengthAndUnit;function cssValue(s){var o=parseLengthAndUnit(s);return"".concat(o.value).concat(o.unit)}unitConverter.cssValue=cssValue;var animation={};Object.defineProperty(animation,"__esModule",{value:!0});animation.createAnimation=void 0;var createAnimation=function(s,o,_){var j="react-spinners-".concat(s,"-").concat(_);if(typeof window>"u"||!window.document)return j;var et=document.createElement("style");document.head.appendChild(et);var st=et.sheet,nt=`
    @keyframes `.concat(j,` {
      `).concat(o,`
    }
  `);return st&&st.insertRule(nt,0),j};animation.createAnimation=createAnimation;var __assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(s){for(var o,_=1,j=arguments.length;_<j;_++){o=arguments[_];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s},__assign$2.apply(this,arguments)},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,o,_,j){j===void 0&&(j=_);var et=Object.getOwnPropertyDescriptor(o,_);(!et||("get"in et?!o.__esModule:et.writable||et.configurable))&&(et={enumerable:!0,get:function(){return o[_]}}),Object.defineProperty(s,j,et)}:function(s,o,_,j){j===void 0&&(j=_),s[j]=o[_]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var _ in s)_!=="default"&&Object.prototype.hasOwnProperty.call(s,_)&&__createBinding$1(o,s,_);return __setModuleDefault$1(o,s),o},__rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(s,o){var _={};for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&o.indexOf(j)<0&&(_[j]=s[j]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(s);et<j.length;et++)o.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(s,j[et])&&(_[j[et]]=s[j[et]]);return _};Object.defineProperty(BeatLoader$1,"__esModule",{value:!0});var React$3=__importStar$1(reactExports),unitConverter_1$1=unitConverter,animation_1$1=animation,beat=(0,animation_1$1.createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function BeatLoader(s){var o=s.loading,_=o===void 0?!0:o,j=s.color,et=j===void 0?"#000000":j,st=s.speedMultiplier,nt=st===void 0?1:st,ct=s.cssOverride,At=ct===void 0?{}:ct,mt=s.size,gt=mt===void 0?15:mt,_t=s.margin,Et=_t===void 0?2:_t,Ct=__rest$2(s,["loading","color","speedMultiplier","cssOverride","size","margin"]),Bt=__assign$2({display:"inherit"},At),Dt=function(Ft){return{display:"inline-block",backgroundColor:et,width:(0,unitConverter_1$1.cssValue)(gt),height:(0,unitConverter_1$1.cssValue)(gt),margin:(0,unitConverter_1$1.cssValue)(Et),borderRadius:"100%",animation:"".concat(beat," ").concat(.7/nt,"s ").concat(Ft%2?"0s":"".concat(.35/nt,"s")," infinite linear"),animationFillMode:"both"}};return _?React$3.createElement("span",__assign$2({style:Bt},Ct),React$3.createElement("span",{style:Dt(1)}),React$3.createElement("span",{style:Dt(2)}),React$3.createElement("span",{style:Dt(3)})):null}var _default$1=BeatLoader$1.default=BeatLoader,lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(s,o){module.exports=o()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(o){_useWebWorker=!!o},getWebWorker=function(){return _useWebWorker},setLocationHref=function(o){locationHref=o},getLocationHref=function(){return locationHref};function createTag(s){return document.createElement(s)}function extendPrototype(s,o){var _,j=s.length,et;for(_=0;_<j;_+=1){et=s[_].prototype;for(var st in et)Object.prototype.hasOwnProperty.call(et,st)&&(o.prototype[st]=et[st])}}function getDescriptor(s,o){return Object.getOwnPropertyDescriptor(s,o)}function createProxyFunction(s){function o(){}return o.prototype=s,o}var audioControllerFactory=function(){function s(o){this.audios=[],this.audioFactory=o,this._volume=1,this._isMuted=!1}return s.prototype={addAudio:function(_){this.audios.push(_)},pause:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].pause()},resume:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].resume()},setRate:function(_){var j,et=this.audios.length;for(j=0;j<et;j+=1)this.audios[j].setRate(_)},createAudio:function(_){return this.audioFactory?this.audioFactory(_):window.Howl?new window.Howl({src:[_]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_){this.audioFactory=_},setVolume:function(_){this._volume=_,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].volume(this._volume*(this._isMuted?0:1))}},function(){return new s}}(),createTypedArray=function(){function s(_,j){var et=0,st=[],nt;switch(_){case"int16":case"uint8c":nt=1;break;default:nt=1.1;break}for(et=0;et<j;et+=1)st.push(nt);return st}function o(_,j){return _==="float32"?new Float32Array(j):_==="int16"?new Int16Array(j):_==="uint8c"?new Uint8ClampedArray(j):s(_,j)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?o:s}();function createSizedArray(s){return Array.apply(null,{length:s})}function _typeof$6(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(_){return typeof _}:_typeof$6=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$6(s)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var s=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],o,_=s.length;for(o=0;o<_;o+=1)BMMath[s[o]]=Math[s[o]]})(),BMMath.random=Math.random,BMMath.abs=function(s){var o=_typeof$6(s);if(o==="object"&&s.length){var _=createSizedArray(s.length),j,et=s.length;for(j=0;j<et;j+=1)_[j]=Math.abs(s[j]);return _}return Math.abs(s)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(s){s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.display="block",s.style.transformOrigin="0 0",s.style.webkitTransformOrigin="0 0",s.style.backfaceVisibility="visible",s.style.webkitBackfaceVisibility="visible",s.style.transformStyle="preserve-3d",s.style.webkitTransformStyle="preserve-3d",s.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(s,o,_,j){this.type=s,this.currentTime=o,this.totalTime=_,this.direction=j<0?-1:1}function BMCompleteEvent(s,o){this.type=s,this.direction=o<0?-1:1}function BMCompleteLoopEvent(s,o,_,j){this.type=s,this.currentLoop=_,this.totalLoops=o,this.direction=j<0?-1:1}function BMSegmentStartEvent(s,o,_){this.type=s,this.firstFrame=o,this.totalFrames=_}function BMDestroyEvent(s,o){this.type=s,this.target=o}function BMRenderFrameErrorEvent(s,o){this.type="renderFrameError",this.nativeError=s,this.currentTime=o}function BMConfigErrorEvent(s){this.type="configError",this.nativeError=s}var createElementID=function(){var s=0;return function(){return s+=1,idPrefix$1+"__lottie_element_"+s}}();function HSVtoRGB(s,o,_){var j,et,st,nt,ct,At,mt,gt;switch(nt=Math.floor(s*6),ct=s*6-nt,At=_*(1-o),mt=_*(1-ct*o),gt=_*(1-(1-ct)*o),nt%6){case 0:j=_,et=gt,st=At;break;case 1:j=mt,et=_,st=At;break;case 2:j=At,et=_,st=gt;break;case 3:j=At,et=mt,st=_;break;case 4:j=gt,et=At,st=_;break;case 5:j=_,et=At,st=mt;break}return[j,et,st]}function RGBtoHSV(s,o,_){var j=Math.max(s,o,_),et=Math.min(s,o,_),st=j-et,nt,ct=j===0?0:st/j,At=j/255;switch(j){case et:nt=0;break;case s:nt=o-_+st*(o<_?6:0),nt/=6*st;break;case o:nt=_-s+st*2,nt/=6*st;break;case _:nt=s-o+st*4,nt/=6*st;break}return[nt,ct,At]}function addSaturationToRGB(s,o){var _=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return _[1]+=o,_[1]>1?_[1]=1:_[1]<=0&&(_[1]=0),HSVtoRGB(_[0],_[1],_[2])}function addBrightnessToRGB(s,o){var _=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return _[2]+=o,_[2]>1?_[2]=1:_[2]<0&&(_[2]=0),HSVtoRGB(_[0],_[1],_[2])}function addHueToRGB(s,o){var _=RGBtoHSV(s[0]*255,s[1]*255,s[2]*255);return _[0]+=o/360,_[0]>1?_[0]-=1:_[0]<0&&(_[0]+=1),HSVtoRGB(_[0],_[1],_[2])}var rgbToHex=function(){var s=[],o,_;for(o=0;o<256;o+=1)_=o.toString(16),s[o]=_.length===1?"0"+_:_;return function(j,et,st){return j<0&&(j=0),et<0&&(et=0),st<0&&(st=0),"#"+s[j]+s[et]+s[st]}}(),setSubframeEnabled=function(o){subframeEnabled=!!o},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(o){expressionsPlugin=o},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(o){expressionsInterfaces=o},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(o){defaultCurveSegments=o},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(o){idPrefix$1=o};function createNS(s){return document.createElementNS(svgNS,s)}function _typeof$5(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(_){return typeof _}:_typeof$5=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$5(s)}var dataManager=function(){var s=1,o=[],_,j,et={onmessage:function(){},postMessage:function(Ct){_({data:Ct})}},st={postMessage:function(Ct){et.onmessage({data:Ct})}};function nt(Et){if(window.Worker&&window.Blob&&getWebWorker()){var Ct=new Blob(["var _workerSelf = self; self.onmessage = ",Et.toString()],{type:"text/javascript"}),Bt=URL.createObjectURL(Ct);return new Worker(Bt)}return _=Et,et}function ct(){j||(j=nt(function(Ct){function Bt(){function Ft(cu,Ko){var ru,Tn,ao=cu.length,uu,hu,tA,Sv;for(Tn=0;Tn<ao;Tn+=1)if(ru=cu[Tn],"ks"in ru&&!ru.completed){if(ru.completed=!0,ru.hasMask){var W0=ru.masksProperties;for(hu=W0.length,uu=0;uu<hu;uu+=1)if(W0[uu].pt.k.i)ts(W0[uu].pt.k);else for(Sv=W0[uu].pt.k.length,tA=0;tA<Sv;tA+=1)W0[uu].pt.k[tA].s&&ts(W0[uu].pt.k[tA].s[0]),W0[uu].pt.k[tA].e&&ts(W0[uu].pt.k[tA].e[0])}ru.ty===0?(ru.layers=Gt(ru.refId,Ko),Ft(ru.layers,Ko)):ru.ty===4?dr(ru.shapes):ru.ty===5&&lo(ru)}}function Rt(cu,Ko){if(cu){var ru=0,Tn=cu.length;for(ru=0;ru<Tn;ru+=1)cu[ru].t===1&&(cu[ru].data.layers=Gt(cu[ru].data.refId,Ko),Ft(cu[ru].data.layers,Ko))}}function Nt(cu,Ko){for(var ru=0,Tn=Ko.length;ru<Tn;){if(Ko[ru].id===cu)return Ko[ru];ru+=1}return null}function Gt(cu,Ko){var ru=Nt(cu,Ko);return ru?ru.layers.__used?JSON.parse(JSON.stringify(ru.layers)):(ru.layers.__used=!0,ru.layers):null}function dr(cu){var Ko,ru=cu.length,Tn,ao;for(Ko=ru-1;Ko>=0;Ko-=1)if(cu[Ko].ty==="sh")if(cu[Ko].ks.k.i)ts(cu[Ko].ks.k);else for(ao=cu[Ko].ks.k.length,Tn=0;Tn<ao;Tn+=1)cu[Ko].ks.k[Tn].s&&ts(cu[Ko].ks.k[Tn].s[0]),cu[Ko].ks.k[Tn].e&&ts(cu[Ko].ks.k[Tn].e[0]);else cu[Ko].ty==="gr"&&dr(cu[Ko].it)}function ts(cu){var Ko,ru=cu.i.length;for(Ko=0;Ko<ru;Ko+=1)cu.i[Ko][0]+=cu.v[Ko][0],cu.i[Ko][1]+=cu.v[Ko][1],cu.o[Ko][0]+=cu.v[Ko][0],cu.o[Ko][1]+=cu.v[Ko][1]}function es(cu,Ko){var ru=Ko?Ko.split("."):[100,100,100];return cu[0]>ru[0]?!0:ru[0]>cu[0]?!1:cu[1]>ru[1]?!0:ru[1]>cu[1]?!1:cu[2]>ru[2]?!0:ru[2]>cu[2]?!1:null}var ds=function(){var cu=[4,4,14];function Ko(Tn){var ao=Tn.t.d;Tn.t.d={k:[{s:ao,t:0}]}}function ru(Tn){var ao,uu=Tn.length;for(ao=0;ao<uu;ao+=1)Tn[ao].ty===5&&Ko(Tn[ao])}return function(Tn){if(es(cu,Tn.v)&&(ru(Tn.layers),Tn.assets)){var ao,uu=Tn.assets.length;for(ao=0;ao<uu;ao+=1)Tn.assets[ao].layers&&ru(Tn.assets[ao].layers)}}}(),tn=function(){var cu=[4,7,99];return function(Ko){if(Ko.chars&&!es(cu,Ko.v)){var ru,Tn=Ko.chars.length;for(ru=0;ru<Tn;ru+=1){var ao=Ko.chars[ru];ao.data&&ao.data.shapes&&(dr(ao.data.shapes),ao.data.ip=0,ao.data.op=99999,ao.data.st=0,ao.data.sr=1,ao.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ko.chars[ru].t||(ao.data.shapes.push({ty:"no"}),ao.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),rn=function(){var cu=[5,7,15];function Ko(Tn){var ao=Tn.t.p;typeof ao.a=="number"&&(ao.a={a:0,k:ao.a}),typeof ao.p=="number"&&(ao.p={a:0,k:ao.p}),typeof ao.r=="number"&&(ao.r={a:0,k:ao.r})}function ru(Tn){var ao,uu=Tn.length;for(ao=0;ao<uu;ao+=1)Tn[ao].ty===5&&Ko(Tn[ao])}return function(Tn){if(es(cu,Tn.v)&&(ru(Tn.layers),Tn.assets)){var ao,uu=Tn.assets.length;for(ao=0;ao<uu;ao+=1)Tn.assets[ao].layers&&ru(Tn.assets[ao].layers)}}}(),un=function(){var cu=[4,1,9];function Ko(Tn){var ao,uu=Tn.length,hu,tA;for(ao=0;ao<uu;ao+=1)if(Tn[ao].ty==="gr")Ko(Tn[ao].it);else if(Tn[ao].ty==="fl"||Tn[ao].ty==="st")if(Tn[ao].c.k&&Tn[ao].c.k[0].i)for(tA=Tn[ao].c.k.length,hu=0;hu<tA;hu+=1)Tn[ao].c.k[hu].s&&(Tn[ao].c.k[hu].s[0]/=255,Tn[ao].c.k[hu].s[1]/=255,Tn[ao].c.k[hu].s[2]/=255,Tn[ao].c.k[hu].s[3]/=255),Tn[ao].c.k[hu].e&&(Tn[ao].c.k[hu].e[0]/=255,Tn[ao].c.k[hu].e[1]/=255,Tn[ao].c.k[hu].e[2]/=255,Tn[ao].c.k[hu].e[3]/=255);else Tn[ao].c.k[0]/=255,Tn[ao].c.k[1]/=255,Tn[ao].c.k[2]/=255,Tn[ao].c.k[3]/=255}function ru(Tn){var ao,uu=Tn.length;for(ao=0;ao<uu;ao+=1)Tn[ao].ty===4&&Ko(Tn[ao].shapes)}return function(Tn){if(es(cu,Tn.v)&&(ru(Tn.layers),Tn.assets)){var ao,uu=Tn.assets.length;for(ao=0;ao<uu;ao+=1)Tn.assets[ao].layers&&ru(Tn.assets[ao].layers)}}}(),$n=function(){var cu=[4,4,18];function Ko(Tn){var ao,uu=Tn.length,hu,tA;for(ao=uu-1;ao>=0;ao-=1)if(Tn[ao].ty==="sh")if(Tn[ao].ks.k.i)Tn[ao].ks.k.c=Tn[ao].closed;else for(tA=Tn[ao].ks.k.length,hu=0;hu<tA;hu+=1)Tn[ao].ks.k[hu].s&&(Tn[ao].ks.k[hu].s[0].c=Tn[ao].closed),Tn[ao].ks.k[hu].e&&(Tn[ao].ks.k[hu].e[0].c=Tn[ao].closed);else Tn[ao].ty==="gr"&&Ko(Tn[ao].it)}function ru(Tn){var ao,uu,hu=Tn.length,tA,Sv,W0,l1;for(uu=0;uu<hu;uu+=1){if(ao=Tn[uu],ao.hasMask){var X1=ao.masksProperties;for(Sv=X1.length,tA=0;tA<Sv;tA+=1)if(X1[tA].pt.k.i)X1[tA].pt.k.c=X1[tA].cl;else for(l1=X1[tA].pt.k.length,W0=0;W0<l1;W0+=1)X1[tA].pt.k[W0].s&&(X1[tA].pt.k[W0].s[0].c=X1[tA].cl),X1[tA].pt.k[W0].e&&(X1[tA].pt.k[W0].e[0].c=X1[tA].cl)}ao.ty===4&&Ko(ao.shapes)}}return function(Tn){if(es(cu,Tn.v)&&(ru(Tn.layers),Tn.assets)){var ao,uu=Tn.assets.length;for(ao=0;ao<uu;ao+=1)Tn.assets[ao].layers&&ru(Tn.assets[ao].layers)}}}();function kn(cu){cu.__complete||(un(cu),ds(cu),tn(cu),rn(cu),$n(cu),Ft(cu.layers,cu.assets),Rt(cu.chars,cu.assets),cu.__complete=!0)}function lo(cu){cu.t.a.length===0&&"m"in cu.t.p}var Il={};return Il.completeData=kn,Il.checkColors=un,Il.checkChars=tn,Il.checkPathProperties=rn,Il.checkShapes=$n,Il.completeLayers=Ft,Il}if(st.dataManager||(st.dataManager=Bt()),st.assetLoader||(st.assetLoader=function(){function Ft(Nt){var Gt=Nt.getResponseHeader("content-type");return Gt&&Nt.responseType==="json"&&Gt.indexOf("json")!==-1||Nt.response&&_typeof$5(Nt.response)==="object"?Nt.response:Nt.response&&typeof Nt.response=="string"?JSON.parse(Nt.response):Nt.responseText?JSON.parse(Nt.responseText):null}function Rt(Nt,Gt,dr,ts){var es,ds=new XMLHttpRequest;try{ds.responseType="json"}catch{}ds.onreadystatechange=function(){if(ds.readyState===4)if(ds.status===200)es=Ft(ds),dr(es);else try{es=Ft(ds),dr(es)}catch(tn){ts&&ts(tn)}};try{ds.open(["G","E","T"].join(""),Nt,!0)}catch{ds.open(["G","E","T"].join(""),Gt+"/"+Nt,!0)}ds.send()}return{load:Rt}}()),Ct.data.type==="loadAnimation")st.assetLoader.load(Ct.data.path,Ct.data.fullPath,function(Ft){st.dataManager.completeData(Ft),st.postMessage({id:Ct.data.id,payload:Ft,status:"success"})},function(){st.postMessage({id:Ct.data.id,status:"error"})});else if(Ct.data.type==="complete"){var Dt=Ct.data.animation;st.dataManager.completeData(Dt),st.postMessage({id:Ct.data.id,payload:Dt,status:"success"})}else Ct.data.type==="loadData"&&st.assetLoader.load(Ct.data.path,Ct.data.fullPath,function(Ft){st.postMessage({id:Ct.data.id,payload:Ft,status:"success"})},function(){st.postMessage({id:Ct.data.id,status:"error"})})}),j.onmessage=function(Et){var Ct=Et.data,Bt=Ct.id,Dt=o[Bt];o[Bt]=null,Ct.status==="success"?Dt.onComplete(Ct.payload):Dt.onError&&Dt.onError()})}function At(Et,Ct){s+=1;var Bt="processId_"+s;return o[Bt]={onComplete:Et,onError:Ct},Bt}function mt(Et,Ct,Bt){ct();var Dt=At(Ct,Bt);j.postMessage({type:"loadAnimation",path:Et,fullPath:window.location.origin+window.location.pathname,id:Dt})}function gt(Et,Ct,Bt){ct();var Dt=At(Ct,Bt);j.postMessage({type:"loadData",path:Et,fullPath:window.location.origin+window.location.pathname,id:Dt})}function _t(Et,Ct,Bt){ct();var Dt=At(Ct,Bt);j.postMessage({type:"complete",animation:Et,id:Dt})}return{loadAnimation:mt,loadData:gt,completeAnimation:_t}}(),ImagePreloader=function(){var s=function(){var Rt=createTag("canvas");Rt.width=1,Rt.height=1;var Nt=Rt.getContext("2d");return Nt.fillStyle="rgba(0,0,0,0)",Nt.fillRect(0,0,1,1),Rt}();function o(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function j(Rt,Nt,Gt){var dr="";if(Rt.e)dr=Rt.p;else if(Nt){var ts=Rt.p;ts.indexOf("images/")!==-1&&(ts=ts.split("/")[1]),dr=Nt+ts}else dr=Gt,dr+=Rt.u?Rt.u:"",dr+=Rt.p;return dr}function et(Rt){var Nt=0,Gt=setInterval((function(){var dr=Rt.getBBox();(dr.width||Nt>500)&&(this._imageLoaded(),clearInterval(Gt)),Nt+=1}).bind(this),50)}function st(Rt){var Nt=j(Rt,this.assetsPath,this.path),Gt=createNS("image");isSafari?this.testImageLoaded(Gt):Gt.addEventListener("load",this._imageLoaded,!1),Gt.addEventListener("error",(function(){dr.img=s,this._imageLoaded()}).bind(this),!1),Gt.setAttributeNS("http://www.w3.org/1999/xlink","href",Nt),this._elementHelper.append?this._elementHelper.append(Gt):this._elementHelper.appendChild(Gt);var dr={img:Gt,assetData:Rt};return dr}function nt(Rt){var Nt=j(Rt,this.assetsPath,this.path),Gt=createTag("img");Gt.crossOrigin="anonymous",Gt.addEventListener("load",this._imageLoaded,!1),Gt.addEventListener("error",(function(){dr.img=s,this._imageLoaded()}).bind(this),!1),Gt.src=Nt;var dr={img:Gt,assetData:Rt};return dr}function ct(Rt){var Nt={assetData:Rt},Gt=j(Rt,this.assetsPath,this.path);return dataManager.loadData(Gt,(function(dr){Nt.img=dr,this._footageLoaded()}).bind(this),(function(){Nt.img={},this._footageLoaded()}).bind(this)),Nt}function At(Rt,Nt){this.imagesLoadedCb=Nt;var Gt,dr=Rt.length;for(Gt=0;Gt<dr;Gt+=1)Rt[Gt].layers||(!Rt[Gt].t||Rt[Gt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Rt[Gt]))):Rt[Gt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Rt[Gt]))))}function mt(Rt){this.path=Rt||""}function gt(Rt){this.assetsPath=Rt||""}function _t(Rt){for(var Nt=0,Gt=this.images.length;Nt<Gt;){if(this.images[Nt].assetData===Rt)return this.images[Nt].img;Nt+=1}return null}function Et(){this.imagesLoadedCb=null,this.images.length=0}function Ct(){return this.totalImages===this.loadedAssets}function Bt(){return this.totalFootages===this.loadedFootagesCount}function Dt(Rt,Nt){Rt==="svg"?(this._elementHelper=Nt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Ft(){this._imageLoaded=o.bind(this),this._footageLoaded=_.bind(this),this.testImageLoaded=et.bind(this),this.createFootageData=ct.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Ft.prototype={loadAssets:At,setAssetsPath:gt,setPath:mt,loadedImages:Ct,loadedFootages:Bt,destroy:Et,getAsset:_t,createImgData:nt,createImageData:st,imageLoaded:o,footageLoaded:_,setCacheType:Dt},Ft}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(o,_){if(this._cbs[o])for(var j=this._cbs[o],et=0;et<j.length;et+=1)j[et](_)},addEventListener:function(o,_){return this._cbs[o]||(this._cbs[o]=[]),this._cbs[o].push(_),(function(){this.removeEventListener(o,_)}).bind(this)},removeEventListener:function(o,_){if(!_)this._cbs[o]=null;else if(this._cbs[o]){for(var j=0,et=this._cbs[o].length;j<et;)this._cbs[o][j]===_&&(this._cbs[o].splice(j,1),j-=1,et-=1),j+=1;this._cbs[o].length||(this._cbs[o]=null)}}};var markerParser=function(){function s(o){for(var _=o.split(`\r
`),j={},et,st=0,nt=0;nt<_.length;nt+=1)et=_[nt].split(":"),et.length===2&&(j[et[0]]=et[1].trim(),st+=1);if(st===0)throw new Error;return j}return function(o){for(var _=[],j=0;j<o.length;j+=1){var et=o[j],st={time:et.tm,duration:et.dr};try{st.payload=JSON.parse(o[j].cm)}catch{try{st.payload=s(o[j].cm)}catch{st.payload={name:o[j].cm}}}_.push(st)}return _}}(),ProjectInterface=function(){function s(o){this.compositions.push(o)}return function(){function o(_){for(var j=0,et=this.compositions.length;j<et;){if(this.compositions[j].data&&this.compositions[j].data.nm===_)return this.compositions[j].prepareFrame&&this.compositions[j].data.xt&&this.compositions[j].prepareFrame(this.currentFrame),this.compositions[j].compInterface;j+=1}return null}return o.compositions=[],o.currentFrame=0,o.registerComposition=s,o}}(),renderers={},registerRenderer=function(o,_){renderers[o]=_};function getRenderer(s){return renderers[s]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var s in renderers)if(renderers[s])return s;return""}function _typeof$4(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(_){return typeof _}:_typeof$4=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$4(s)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(s){(s.wrapper||s.container)&&(this.wrapper=s.wrapper||s.container);var o="svg";s.animType?o=s.animType:s.renderer&&(o=s.renderer);var _=getRenderer(o);this.renderer=new _(this,s.rendererSettings),this.imagePreloader.setCacheType(o,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=o,s.loop===""||s.loop===null||s.loop===void 0||s.loop===!0?this.loop=!0:s.loop===!1?this.loop=!1:this.loop=parseInt(s.loop,10),this.autoplay="autoplay"in s?s.autoplay:!0,this.name=s.name?s.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(s,"autoloadSegments")?s.autoloadSegments:!0,this.assetsPath=s.assetsPath,this.initialSegment=s.initialSegment,s.audioFactory&&this.audioController.setAudioFactory(s.audioFactory),s.animationData?this.setupAnimation(s.animationData):s.path&&(s.path.lastIndexOf("\\")!==-1?this.path=s.path.substr(0,s.path.lastIndexOf("\\")+1):this.path=s.path.substr(0,s.path.lastIndexOf("/")+1),this.fileName=s.path.substr(s.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(s.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(s){dataManager.completeAnimation(s,this.configAnimation)},AnimationItem.prototype.setData=function(s,o){o&&_typeof$4(o)!=="object"&&(o=JSON.parse(o));var _={wrapper:s,animationData:o},j=s.attributes;_.path=j.getNamedItem("data-animation-path")?j.getNamedItem("data-animation-path").value:j.getNamedItem("data-bm-path")?j.getNamedItem("data-bm-path").value:j.getNamedItem("bm-path")?j.getNamedItem("bm-path").value:"",_.animType=j.getNamedItem("data-anim-type")?j.getNamedItem("data-anim-type").value:j.getNamedItem("data-bm-type")?j.getNamedItem("data-bm-type").value:j.getNamedItem("bm-type")?j.getNamedItem("bm-type").value:j.getNamedItem("data-bm-renderer")?j.getNamedItem("data-bm-renderer").value:j.getNamedItem("bm-renderer")?j.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var et=j.getNamedItem("data-anim-loop")?j.getNamedItem("data-anim-loop").value:j.getNamedItem("data-bm-loop")?j.getNamedItem("data-bm-loop").value:j.getNamedItem("bm-loop")?j.getNamedItem("bm-loop").value:"";et==="false"?_.loop=!1:et==="true"?_.loop=!0:et!==""&&(_.loop=parseInt(et,10));var st=j.getNamedItem("data-anim-autoplay")?j.getNamedItem("data-anim-autoplay").value:j.getNamedItem("data-bm-autoplay")?j.getNamedItem("data-bm-autoplay").value:j.getNamedItem("bm-autoplay")?j.getNamedItem("bm-autoplay").value:!0;_.autoplay=st!=="false",_.name=j.getNamedItem("data-name")?j.getNamedItem("data-name").value:j.getNamedItem("data-bm-name")?j.getNamedItem("data-bm-name").value:j.getNamedItem("bm-name")?j.getNamedItem("bm-name").value:"";var nt=j.getNamedItem("data-anim-prerender")?j.getNamedItem("data-anim-prerender").value:j.getNamedItem("data-bm-prerender")?j.getNamedItem("data-bm-prerender").value:j.getNamedItem("bm-prerender")?j.getNamedItem("bm-prerender").value:"";nt==="false"&&(_.prerender=!1),_.path?this.setParams(_):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(s){s.op>this.animationData.op&&(this.animationData.op=s.op,this.totalFrames=Math.floor(s.op-this.animationData.ip));var o=this.animationData.layers,_,j=o.length,et=s.layers,st,nt=et.length;for(st=0;st<nt;st+=1)for(_=0;_<j;){if(o[_].id===et[st].id){o[_]=et[st];break}_+=1}if((s.chars||s.fonts)&&(this.renderer.globalData.fontManager.addChars(s.chars),this.renderer.globalData.fontManager.addFonts(s.fonts,this.renderer.globalData.defs)),s.assets)for(j=s.assets.length,_=0;_<j;_+=1)this.animationData.assets.push(s.assets[_]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(s){this.animationData=s;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var s=this.animationData.segments;if(!s||s.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var o=s.shift();this.timeCompleted=o.time*this.frameRate;var _=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(_,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var s=this.animationData.segments;s||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(s){if(this.renderer)try{this.animationData=s,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(s),s.assets||(s.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(s.assets),this.markers=markerParser(s.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(o){this.triggerConfigError(o)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var s=getExpressionsPlugin();s&&s.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(s,o){var _=typeof s=="number"?s:void 0,j=typeof o=="number"?o:void 0;this.renderer.updateContainerSize(_,j)},AnimationItem.prototype.setSubframe=function(s){this.isSubframeEnabled=!!s},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(s){this.triggerRenderFrameError(s)}},AnimationItem.prototype.play=function(s){s&&this.name!==s||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(s){s&&this.name!==s||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(s){s&&this.name!==s||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(s){s&&this.name!==s||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(s){for(var o,_=0;_<this.markers.length;_+=1)if(o=this.markers[_],o.payload&&o.payload.name===s)return o;return null},AnimationItem.prototype.goToAndStop=function(s,o,_){if(!(_&&this.name!==_)){var j=Number(s);if(isNaN(j)){var et=this.getMarkerData(s);et&&this.goToAndStop(et.time,!0)}else o?this.setCurrentRawFrameValue(s):this.setCurrentRawFrameValue(s*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(s,o,_){if(!(_&&this.name!==_)){var j=Number(s);if(isNaN(j)){var et=this.getMarkerData(s);et&&(et.duration?this.playSegments([et.time,et.time+et.duration],!0):this.goToAndStop(et.time,!0))}else this.goToAndStop(j,o,_);this.play()}},AnimationItem.prototype.advanceTime=function(s){if(!(this.isPaused===!0||this.isLoaded===!1)){var o=this.currentRawFrame+s*this.frameModifier,_=!1;o>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(o>this.totalFrames?o%this.totalFrames:0)||(_=!0,o=this.totalFrames-1):o>=this.totalFrames?(this.playCount+=1,this.checkSegments(o%this.totalFrames)||(this.setCurrentRawFrameValue(o%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(o):o<0?this.checkSegments(o%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+o%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(_=!0,o=0)):this.setCurrentRawFrameValue(o),_&&(this.setCurrentRawFrameValue(o),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(s,o){this.playCount=0,s[1]<s[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=s[0]-s[1],this.timeCompleted=this.totalFrames,this.firstFrame=s[1],this.setCurrentRawFrameValue(this.totalFrames-.001-o)):s[1]>s[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=s[1]-s[0],this.timeCompleted=this.totalFrames,this.firstFrame=s[0],this.setCurrentRawFrameValue(.001+o)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(s,o){var _=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<s?_=s:this.currentRawFrame+this.firstFrame>o&&(_=o-s)),this.firstFrame=s,this.totalFrames=o-s,this.timeCompleted=this.totalFrames,_!==-1&&this.goToAndStop(_,!0)},AnimationItem.prototype.playSegments=function(s,o){if(o&&(this.segments.length=0),_typeof$4(s[0])==="object"){var _,j=s.length;for(_=0;_<j;_+=1)this.segments.push(s[_])}else this.segments.push(s);this.segments.length&&o&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(s){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),s&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(s){return this.segments.length?(this.adjustSegment(this.segments.shift(),s),!0):!1},AnimationItem.prototype.destroy=function(s){s&&this.name!==s||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(s){this.currentRawFrame=s,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(s){this.playSpeed=s,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(s){this.playDirection=s<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(s){this.loop=s},AnimationItem.prototype.setVolume=function(s,o){o&&this.name!==o||this.audioController.setVolume(s)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(s){s&&this.name!==s||this.audioController.mute()},AnimationItem.prototype.unmute=function(s){s&&this.name!==s||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(s){var o="";if(s.e)o=s.p;else if(this.assetsPath){var _=s.p;_.indexOf("images/")!==-1&&(_=_.split("/")[1]),o=this.assetsPath+_}else o=this.path,o+=s.u?s.u:"",o+=s.p;return o},AnimationItem.prototype.getAssetData=function(s){for(var o=0,_=this.assets.length;o<_;){if(s===this.assets[o].id)return this.assets[o];o+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(s){return s?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(s,o,_){try{var j=this.renderer.getElementByPath(s);j.updateDocumentData(o,_)}catch{}},AnimationItem.prototype.trigger=function(s){if(this._cbs&&this._cbs[s])switch(s){case"enterFrame":this.triggerEvent(s,new BMEnterFrameEvent(s,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(s,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(s,new BMCompleteLoopEvent(s,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(s,new BMCompleteEvent(s,this.frameMult));break;case"segmentStart":this.triggerEvent(s,new BMSegmentStartEvent(s,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(s,new BMDestroyEvent(s,this));break;default:this.triggerEvent(s)}s==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(s,this.currentFrame,this.totalFrames,this.frameMult)),s==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(s,this.loop,this.playCount,this.frameMult)),s==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(s,this.frameMult)),s==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(s,this.firstFrame,this.totalFrames)),s==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(s,this))},AnimationItem.prototype.triggerRenderFrameError=function(s){var o=new BMRenderFrameErrorEvent(s,this.currentFrame);this.triggerEvent("error",o),this.onError&&this.onError.call(this,o)},AnimationItem.prototype.triggerConfigError=function(s){var o=new BMConfigErrorEvent(s,this.currentFrame);this.triggerEvent("error",o),this.onError&&this.onError.call(this,o)};var animationManager=function(){var s={},o=[],_=0,j=0,et=0,st=!0,nt=!1;function ct(Ko){for(var ru=0,Tn=Ko.target;ru<j;)o[ru].animation===Tn&&(o.splice(ru,1),ru-=1,j-=1,Tn.isPaused||_t()),ru+=1}function At(Ko,ru){if(!Ko)return null;for(var Tn=0;Tn<j;){if(o[Tn].elem===Ko&&o[Tn].elem!==null)return o[Tn].animation;Tn+=1}var ao=new AnimationItem;return Et(ao,Ko),ao.setData(Ko,ru),ao}function mt(){var Ko,ru=o.length,Tn=[];for(Ko=0;Ko<ru;Ko+=1)Tn.push(o[Ko].animation);return Tn}function gt(){et+=1,un()}function _t(){et-=1}function Et(Ko,ru){Ko.addEventListener("destroy",ct),Ko.addEventListener("_active",gt),Ko.addEventListener("_idle",_t),o.push({elem:ru,animation:Ko}),j+=1}function Ct(Ko){var ru=new AnimationItem;return Et(ru,null),ru.setParams(Ko),ru}function Bt(Ko,ru){var Tn;for(Tn=0;Tn<j;Tn+=1)o[Tn].animation.setSpeed(Ko,ru)}function Dt(Ko,ru){var Tn;for(Tn=0;Tn<j;Tn+=1)o[Tn].animation.setDirection(Ko,ru)}function Ft(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.play(Ko)}function Rt(Ko){var ru=Ko-_,Tn;for(Tn=0;Tn<j;Tn+=1)o[Tn].animation.advanceTime(ru);_=Ko,et&&!nt?window.requestAnimationFrame(Rt):st=!0}function Nt(Ko){_=Ko,window.requestAnimationFrame(Rt)}function Gt(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.pause(Ko)}function dr(Ko,ru,Tn){var ao;for(ao=0;ao<j;ao+=1)o[ao].animation.goToAndStop(Ko,ru,Tn)}function ts(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.stop(Ko)}function es(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.togglePause(Ko)}function ds(Ko){var ru;for(ru=j-1;ru>=0;ru-=1)o[ru].animation.destroy(Ko)}function tn(Ko,ru,Tn){var ao=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),uu,hu=ao.length;for(uu=0;uu<hu;uu+=1)Tn&&ao[uu].setAttribute("data-bm-type",Tn),At(ao[uu],Ko);if(ru&&hu===0){Tn||(Tn="svg");var tA=document.getElementsByTagName("body")[0];tA.innerText="";var Sv=createTag("div");Sv.style.width="100%",Sv.style.height="100%",Sv.setAttribute("data-bm-type",Tn),tA.appendChild(Sv),At(Sv,Ko)}}function rn(){var Ko;for(Ko=0;Ko<j;Ko+=1)o[Ko].animation.resize()}function un(){!nt&&et&&st&&(window.requestAnimationFrame(Nt),st=!1)}function $n(){nt=!0}function kn(){nt=!1,un()}function lo(Ko,ru){var Tn;for(Tn=0;Tn<j;Tn+=1)o[Tn].animation.setVolume(Ko,ru)}function Il(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.mute(Ko)}function cu(Ko){var ru;for(ru=0;ru<j;ru+=1)o[ru].animation.unmute(Ko)}return s.registerAnimation=At,s.loadAnimation=Ct,s.setSpeed=Bt,s.setDirection=Dt,s.play=Ft,s.pause=Gt,s.stop=ts,s.togglePause=es,s.searchAnimations=tn,s.resize=rn,s.goToAndStop=dr,s.destroy=ds,s.freeze=$n,s.unfreeze=kn,s.setVolume=lo,s.mute=Il,s.unmute=cu,s.getRegisteredAnimations=mt,s}(),BezierFactory=function(){var s={};s.getBezierEasing=_;var o={};function _(Nt,Gt,dr,ts,es){var ds=es||("bez_"+Nt+"_"+Gt+"_"+dr+"_"+ts).replace(/\./g,"p");if(o[ds])return o[ds];var tn=new Rt([Nt,Gt,dr,ts]);return o[ds]=tn,tn}var j=4,et=.001,st=1e-7,nt=10,ct=11,At=1/(ct-1),mt=typeof Float32Array=="function";function gt(Nt,Gt){return 1-3*Gt+3*Nt}function _t(Nt,Gt){return 3*Gt-6*Nt}function Et(Nt){return 3*Nt}function Ct(Nt,Gt,dr){return((gt(Gt,dr)*Nt+_t(Gt,dr))*Nt+Et(Gt))*Nt}function Bt(Nt,Gt,dr){return 3*gt(Gt,dr)*Nt*Nt+2*_t(Gt,dr)*Nt+Et(Gt)}function Dt(Nt,Gt,dr,ts,es){var ds,tn,rn=0;do tn=Gt+(dr-Gt)/2,ds=Ct(tn,ts,es)-Nt,ds>0?dr=tn:Gt=tn;while(Math.abs(ds)>st&&++rn<nt);return tn}function Ft(Nt,Gt,dr,ts){for(var es=0;es<j;++es){var ds=Bt(Gt,dr,ts);if(ds===0)return Gt;var tn=Ct(Gt,dr,ts)-Nt;Gt-=tn/ds}return Gt}function Rt(Nt){this._p=Nt,this._mSampleValues=mt?new Float32Array(ct):new Array(ct),this._precomputed=!1,this.get=this.get.bind(this)}return Rt.prototype={get:function(Gt){var dr=this._p[0],ts=this._p[1],es=this._p[2],ds=this._p[3];return this._precomputed||this._precompute(),dr===ts&&es===ds?Gt:Gt===0?0:Gt===1?1:Ct(this._getTForX(Gt),ts,ds)},_precompute:function(){var Gt=this._p[0],dr=this._p[1],ts=this._p[2],es=this._p[3];this._precomputed=!0,(Gt!==dr||ts!==es)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Gt=this._p[0],dr=this._p[2],ts=0;ts<ct;++ts)this._mSampleValues[ts]=Ct(ts*At,Gt,dr)},_getTForX:function(Gt){for(var dr=this._p[0],ts=this._p[2],es=this._mSampleValues,ds=0,tn=1,rn=ct-1;tn!==rn&&es[tn]<=Gt;++tn)ds+=At;--tn;var un=(Gt-es[tn])/(es[tn+1]-es[tn]),$n=ds+un*At,kn=Bt($n,dr,ts);return kn>=et?Ft(Gt,$n,dr,ts):kn===0?$n:Dt(Gt,ds,ds+At,dr,ts)}},s}(),pooling=function(){function s(o){return o.concat(createSizedArray(o.length))}return{double:s}}(),poolFactory=function(){return function(s,o,_){var j=0,et=s,st=createSizedArray(et),nt={newElement:ct,release:At};function ct(){var mt;return j?(j-=1,mt=st[j]):mt=o(),mt}function At(mt){j===et&&(st=pooling.double(st),et*=2),_&&_(mt),st[j]=mt,j+=1}return nt}}(),bezierLengthPool=function(){function s(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,s)}(),segmentsLengthPool=function(){function s(){return{lengths:[],totalLength:0}}function o(_){var j,et=_.lengths.length;for(j=0;j<et;j+=1)bezierLengthPool.release(_.lengths[j]);_.lengths.length=0}return poolFactory(8,s,o)}();function bezFunction(){var s=Math;function o(Et,Ct,Bt,Dt,Ft,Rt){var Nt=Et*Dt+Ct*Ft+Bt*Rt-Ft*Dt-Rt*Et-Bt*Ct;return Nt>-.001&&Nt<.001}function _(Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr){if(Bt===0&&Rt===0&&dr===0)return o(Et,Ct,Dt,Ft,Nt,Gt);var ts=s.sqrt(s.pow(Dt-Et,2)+s.pow(Ft-Ct,2)+s.pow(Rt-Bt,2)),es=s.sqrt(s.pow(Nt-Et,2)+s.pow(Gt-Ct,2)+s.pow(dr-Bt,2)),ds=s.sqrt(s.pow(Nt-Dt,2)+s.pow(Gt-Ft,2)+s.pow(dr-Rt,2)),tn;return ts>es?ts>ds?tn=ts-es-ds:tn=ds-es-ts:ds>es?tn=ds-es-ts:tn=es-ts-ds,tn>-1e-4&&tn<1e-4}var j=function(){return function(Et,Ct,Bt,Dt){var Ft=getDefaultCurveSegments(),Rt,Nt,Gt,dr,ts,es=0,ds,tn=[],rn=[],un=bezierLengthPool.newElement();for(Gt=Bt.length,Rt=0;Rt<Ft;Rt+=1){for(ts=Rt/(Ft-1),ds=0,Nt=0;Nt<Gt;Nt+=1)dr=bmPow(1-ts,3)*Et[Nt]+3*bmPow(1-ts,2)*ts*Bt[Nt]+3*(1-ts)*bmPow(ts,2)*Dt[Nt]+bmPow(ts,3)*Ct[Nt],tn[Nt]=dr,rn[Nt]!==null&&(ds+=bmPow(tn[Nt]-rn[Nt],2)),rn[Nt]=tn[Nt];ds&&(ds=bmSqrt(ds),es+=ds),un.percents[Rt]=ts,un.lengths[Rt]=es}return un.addedLength=es,un}}();function et(Et){var Ct=segmentsLengthPool.newElement(),Bt=Et.c,Dt=Et.v,Ft=Et.o,Rt=Et.i,Nt,Gt=Et._length,dr=Ct.lengths,ts=0;for(Nt=0;Nt<Gt-1;Nt+=1)dr[Nt]=j(Dt[Nt],Dt[Nt+1],Ft[Nt],Rt[Nt+1]),ts+=dr[Nt].addedLength;return Bt&&Gt&&(dr[Nt]=j(Dt[Nt],Dt[0],Ft[Nt],Rt[0]),ts+=dr[Nt].addedLength),Ct.totalLength=ts,Ct}function st(Et){this.segmentLength=0,this.points=new Array(Et)}function nt(Et,Ct){this.partialLength=Et,this.point=Ct}var ct=function(){var Et={};return function(Ct,Bt,Dt,Ft){var Rt=(Ct[0]+"_"+Ct[1]+"_"+Bt[0]+"_"+Bt[1]+"_"+Dt[0]+"_"+Dt[1]+"_"+Ft[0]+"_"+Ft[1]).replace(/\./g,"p");if(!Et[Rt]){var Nt=getDefaultCurveSegments(),Gt,dr,ts,es,ds,tn=0,rn,un,$n=null;Ct.length===2&&(Ct[0]!==Bt[0]||Ct[1]!==Bt[1])&&o(Ct[0],Ct[1],Bt[0],Bt[1],Ct[0]+Dt[0],Ct[1]+Dt[1])&&o(Ct[0],Ct[1],Bt[0],Bt[1],Bt[0]+Ft[0],Bt[1]+Ft[1])&&(Nt=2);var kn=new st(Nt);for(ts=Dt.length,Gt=0;Gt<Nt;Gt+=1){for(un=createSizedArray(ts),ds=Gt/(Nt-1),rn=0,dr=0;dr<ts;dr+=1)es=bmPow(1-ds,3)*Ct[dr]+3*bmPow(1-ds,2)*ds*(Ct[dr]+Dt[dr])+3*(1-ds)*bmPow(ds,2)*(Bt[dr]+Ft[dr])+bmPow(ds,3)*Bt[dr],un[dr]=es,$n!==null&&(rn+=bmPow(un[dr]-$n[dr],2));rn=bmSqrt(rn),tn+=rn,kn.points[Gt]=new nt(rn,un),$n=un}kn.segmentLength=tn,Et[Rt]=kn}return Et[Rt]}}();function At(Et,Ct){var Bt=Ct.percents,Dt=Ct.lengths,Ft=Bt.length,Rt=bmFloor((Ft-1)*Et),Nt=Et*Ct.addedLength,Gt=0;if(Rt===Ft-1||Rt===0||Nt===Dt[Rt])return Bt[Rt];for(var dr=Dt[Rt]>Nt?-1:1,ts=!0;ts;)if(Dt[Rt]<=Nt&&Dt[Rt+1]>Nt?(Gt=(Nt-Dt[Rt])/(Dt[Rt+1]-Dt[Rt]),ts=!1):Rt+=dr,Rt<0||Rt>=Ft-1){if(Rt===Ft-1)return Bt[Rt];ts=!1}return Bt[Rt]+(Bt[Rt+1]-Bt[Rt])*Gt}function mt(Et,Ct,Bt,Dt,Ft,Rt){var Nt=At(Ft,Rt),Gt=1-Nt,dr=s.round((Gt*Gt*Gt*Et[0]+(Nt*Gt*Gt+Gt*Nt*Gt+Gt*Gt*Nt)*Bt[0]+(Nt*Nt*Gt+Gt*Nt*Nt+Nt*Gt*Nt)*Dt[0]+Nt*Nt*Nt*Ct[0])*1e3)/1e3,ts=s.round((Gt*Gt*Gt*Et[1]+(Nt*Gt*Gt+Gt*Nt*Gt+Gt*Gt*Nt)*Bt[1]+(Nt*Nt*Gt+Gt*Nt*Nt+Nt*Gt*Nt)*Dt[1]+Nt*Nt*Nt*Ct[1])*1e3)/1e3;return[dr,ts]}var gt=createTypedArray("float32",8);function _t(Et,Ct,Bt,Dt,Ft,Rt,Nt){Ft<0?Ft=0:Ft>1&&(Ft=1);var Gt=At(Ft,Nt);Rt=Rt>1?1:Rt;var dr=At(Rt,Nt),ts,es=Et.length,ds=1-Gt,tn=1-dr,rn=ds*ds*ds,un=Gt*ds*ds*3,$n=Gt*Gt*ds*3,kn=Gt*Gt*Gt,lo=ds*ds*tn,Il=Gt*ds*tn+ds*Gt*tn+ds*ds*dr,cu=Gt*Gt*tn+ds*Gt*dr+Gt*ds*dr,Ko=Gt*Gt*dr,ru=ds*tn*tn,Tn=Gt*tn*tn+ds*dr*tn+ds*tn*dr,ao=Gt*dr*tn+ds*dr*dr+Gt*tn*dr,uu=Gt*dr*dr,hu=tn*tn*tn,tA=dr*tn*tn+tn*dr*tn+tn*tn*dr,Sv=dr*dr*tn+tn*dr*dr+dr*tn*dr,W0=dr*dr*dr;for(ts=0;ts<es;ts+=1)gt[ts*4]=s.round((rn*Et[ts]+un*Bt[ts]+$n*Dt[ts]+kn*Ct[ts])*1e3)/1e3,gt[ts*4+1]=s.round((lo*Et[ts]+Il*Bt[ts]+cu*Dt[ts]+Ko*Ct[ts])*1e3)/1e3,gt[ts*4+2]=s.round((ru*Et[ts]+Tn*Bt[ts]+ao*Dt[ts]+uu*Ct[ts])*1e3)/1e3,gt[ts*4+3]=s.round((hu*Et[ts]+tA*Bt[ts]+Sv*Dt[ts]+W0*Ct[ts])*1e3)/1e3;return gt}return{getSegmentsLength:et,getNewSegment:_t,getPointInSegment:mt,buildBezierData:ct,pointOnLine2D:o,pointOnLine3D:_}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(s,o){var _=this.offsetTime,j;this.propType==="multidimensional"&&(j=createTypedArray("float32",this.pv.length));for(var et=o.lastIndex,st=et,nt=this.keyframes.length-1,ct=!0,At,mt,gt;ct;){if(At=this.keyframes[st],mt=this.keyframes[st+1],st===nt-1&&s>=mt.t-_){At.h&&(At=mt),et=0;break}if(mt.t-_>s){et=st;break}st<nt-1?st+=1:(et=0,ct=!1)}gt=this.keyframesMetadata[st]||{};var _t,Et,Ct,Bt,Dt,Ft,Rt=mt.t-_,Nt=At.t-_,Gt;if(At.to){gt.bezierData||(gt.bezierData=bez.buildBezierData(At.s,mt.s||At.e,At.to,At.ti));var dr=gt.bezierData;if(s>=Rt||s<Nt){var ts=s>=Rt?dr.points.length-1:0;for(Et=dr.points[ts].point.length,_t=0;_t<Et;_t+=1)j[_t]=dr.points[ts].point[_t]}else{gt.__fnct?Ft=gt.__fnct:(Ft=BezierFactory.getBezierEasing(At.o.x,At.o.y,At.i.x,At.i.y,At.n).get,gt.__fnct=Ft),Ct=Ft((s-Nt)/(Rt-Nt));var es=dr.segmentLength*Ct,ds,tn=o.lastFrame<s&&o._lastKeyframeIndex===st?o._lastAddedLength:0;for(Dt=o.lastFrame<s&&o._lastKeyframeIndex===st?o._lastPoint:0,ct=!0,Bt=dr.points.length;ct;){if(tn+=dr.points[Dt].partialLength,es===0||Ct===0||Dt===dr.points.length-1){for(Et=dr.points[Dt].point.length,_t=0;_t<Et;_t+=1)j[_t]=dr.points[Dt].point[_t];break}else if(es>=tn&&es<tn+dr.points[Dt+1].partialLength){for(ds=(es-tn)/dr.points[Dt+1].partialLength,Et=dr.points[Dt].point.length,_t=0;_t<Et;_t+=1)j[_t]=dr.points[Dt].point[_t]+(dr.points[Dt+1].point[_t]-dr.points[Dt].point[_t])*ds;break}Dt<Bt-1?Dt+=1:ct=!1}o._lastPoint=Dt,o._lastAddedLength=tn-dr.points[Dt].partialLength,o._lastKeyframeIndex=st}}else{var rn,un,$n,kn,lo;if(nt=At.s.length,Gt=mt.s||At.e,this.sh&&At.h!==1)if(s>=Rt)j[0]=Gt[0],j[1]=Gt[1],j[2]=Gt[2];else if(s<=Nt)j[0]=At.s[0],j[1]=At.s[1],j[2]=At.s[2];else{var Il=createQuaternion(At.s),cu=createQuaternion(Gt),Ko=(s-Nt)/(Rt-Nt);quaternionToEuler(j,slerp(Il,cu,Ko))}else for(st=0;st<nt;st+=1)At.h!==1&&(s>=Rt?Ct=1:s<Nt?Ct=0:(At.o.x.constructor===Array?(gt.__fnct||(gt.__fnct=[]),gt.__fnct[st]?Ft=gt.__fnct[st]:(rn=At.o.x[st]===void 0?At.o.x[0]:At.o.x[st],un=At.o.y[st]===void 0?At.o.y[0]:At.o.y[st],$n=At.i.x[st]===void 0?At.i.x[0]:At.i.x[st],kn=At.i.y[st]===void 0?At.i.y[0]:At.i.y[st],Ft=BezierFactory.getBezierEasing(rn,un,$n,kn).get,gt.__fnct[st]=Ft)):gt.__fnct?Ft=gt.__fnct:(rn=At.o.x,un=At.o.y,$n=At.i.x,kn=At.i.y,Ft=BezierFactory.getBezierEasing(rn,un,$n,kn).get,At.keyframeMetadata=Ft),Ct=Ft((s-Nt)/(Rt-Nt)))),Gt=mt.s||At.e,lo=At.h===1?At.s[st]:At.s[st]+(Gt[st]-At.s[st])*Ct,this.propType==="multidimensional"?j[st]=lo:j=lo}return o.lastIndex=et,j}function slerp(s,o,_){var j=[],et=s[0],st=s[1],nt=s[2],ct=s[3],At=o[0],mt=o[1],gt=o[2],_t=o[3],Et,Ct,Bt,Dt,Ft;return Ct=et*At+st*mt+nt*gt+ct*_t,Ct<0&&(Ct=-Ct,At=-At,mt=-mt,gt=-gt,_t=-_t),1-Ct>1e-6?(Et=Math.acos(Ct),Bt=Math.sin(Et),Dt=Math.sin((1-_)*Et)/Bt,Ft=Math.sin(_*Et)/Bt):(Dt=1-_,Ft=_),j[0]=Dt*et+Ft*At,j[1]=Dt*st+Ft*mt,j[2]=Dt*nt+Ft*gt,j[3]=Dt*ct+Ft*_t,j}function quaternionToEuler(s,o){var _=o[0],j=o[1],et=o[2],st=o[3],nt=Math.atan2(2*j*st-2*_*et,1-2*j*j-2*et*et),ct=Math.asin(2*_*j+2*et*st),At=Math.atan2(2*_*st-2*j*et,1-2*_*_-2*et*et);s[0]=nt/degToRads,s[1]=ct/degToRads,s[2]=At/degToRads}function createQuaternion(s){var o=s[0]*degToRads,_=s[1]*degToRads,j=s[2]*degToRads,et=Math.cos(o/2),st=Math.cos(_/2),nt=Math.cos(j/2),ct=Math.sin(o/2),At=Math.sin(_/2),mt=Math.sin(j/2),gt=et*st*nt-ct*At*mt,_t=ct*At*nt+et*st*mt,Et=ct*st*nt+et*At*mt,Ct=et*At*nt-ct*st*mt;return[_t,Et,Ct,gt]}function getValueAtCurrentTime(){var s=this.comp.renderedFrame-this.offsetTime,o=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(s===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=_&&s>=_||this._caching.lastFrame<o&&s<o))){this._caching.lastFrame>=s&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var j=this.interpolateValue(s,this._caching);this.pv=j}return this._caching.lastFrame=s,this.pv}function setVValue(s){var o;if(this.propType==="unidimensional")o=s*this.mult,mathAbs(this.v-o)>1e-5&&(this.v=o,this._mdf=!0);else for(var _=0,j=this.v.length;_<j;)o=s[_]*this.mult,mathAbs(this.v[_]-o)>1e-5&&(this.v[_]=o,this._mdf=!0),_+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var s,o=this.effectsSequence.length,_=this.kf?this.pv:this.data.k;for(s=0;s<o;s+=1)_=this.effectsSequence[s](_);this.setVValue(_),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(s){this.effectsSequence.push(s),this.container.addDynamicProperty(this)}function ValueProperty(s,o,_,j){this.propType="unidimensional",this.mult=_||1,this.data=o,this.v=_?o.k*_:o.k,this.pv=o.k,this._mdf=!1,this.elem=s,this.container=j,this.comp=s.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(s,o,_,j){this.propType="multidimensional",this.mult=_||1,this.data=o,this._mdf=!1,this.elem=s,this.container=j,this.comp=s.comp,this.k=!1,this.kf=!1,this.frameId=-1;var et,st=o.k.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),this.vel=createTypedArray("float32",st),et=0;et<st;et+=1)this.v[et]=o.k[et]*this.mult,this.pv[et]=o.k[et];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(s,o,_,j){this.propType="unidimensional",this.keyframes=o.k,this.keyframesMetadata=[],this.offsetTime=s.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=o,this.mult=_||1,this.elem=s,this.container=j,this.comp=s.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(s,o,_,j){this.propType="multidimensional";var et,st=o.k.length,nt,ct,At,mt;for(et=0;et<st-1;et+=1)o.k[et].to&&o.k[et].s&&o.k[et+1]&&o.k[et+1].s&&(nt=o.k[et].s,ct=o.k[et+1].s,At=o.k[et].to,mt=o.k[et].ti,(nt.length===2&&!(nt[0]===ct[0]&&nt[1]===ct[1])&&bez.pointOnLine2D(nt[0],nt[1],ct[0],ct[1],nt[0]+At[0],nt[1]+At[1])&&bez.pointOnLine2D(nt[0],nt[1],ct[0],ct[1],ct[0]+mt[0],ct[1]+mt[1])||nt.length===3&&!(nt[0]===ct[0]&&nt[1]===ct[1]&&nt[2]===ct[2])&&bez.pointOnLine3D(nt[0],nt[1],nt[2],ct[0],ct[1],ct[2],nt[0]+At[0],nt[1]+At[1],nt[2]+At[2])&&bez.pointOnLine3D(nt[0],nt[1],nt[2],ct[0],ct[1],ct[2],ct[0]+mt[0],ct[1]+mt[1],ct[2]+mt[2]))&&(o.k[et].to=null,o.k[et].ti=null),nt[0]===ct[0]&&nt[1]===ct[1]&&At[0]===0&&At[1]===0&&mt[0]===0&&mt[1]===0&&(nt.length===2||nt[2]===ct[2]&&At[2]===0&&mt[2]===0)&&(o.k[et].to=null,o.k[et].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=o,this.keyframes=o.k,this.keyframesMetadata=[],this.offsetTime=s.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=_||1,this.elem=s,this.container=j,this.comp=s.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var gt=o.k[0].s.length;for(this.v=createTypedArray("float32",gt),this.pv=createTypedArray("float32",gt),et=0;et<gt;et+=1)this.v[et]=initFrame,this.pv[et]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",gt)},this.addEffect=addEffect}var PropertyFactory=function(){function s(_,j,et,st,nt){j.sid&&(j=_.globalData.slotManager.getProp(j));var ct;if(!j.k.length)ct=new ValueProperty(_,j,st,nt);else if(typeof j.k[0]=="number")ct=new MultiDimensionalProperty(_,j,st,nt);else switch(et){case 0:ct=new KeyframedValueProperty(_,j,st,nt);break;case 1:ct=new KeyframedMultidimensionalProperty(_,j,st,nt);break}return ct.effectsSequence.length&&nt.addDynamicProperty(ct),ct}var o={getProp:s};return o}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(o){this.dynamicProperties.indexOf(o)===-1&&(this.dynamicProperties.push(o),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var o,_=this.dynamicProperties.length;for(o=0;o<_;o+=1)this.dynamicProperties[o].getValue(),this.dynamicProperties[o]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(o){this.container=o,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function s(){return createTypedArray("float32",2)}return poolFactory(8,s)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(s,o){this.c=s,this.setLength(o);for(var _=0;_<o;)this.v[_]=pointPool.newElement(),this.o[_]=pointPool.newElement(),this.i[_]=pointPool.newElement(),_+=1},ShapePath.prototype.setLength=function(s){for(;this._maxLength<s;)this.doubleArrayLength();this._length=s},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(s,o,_,j,et){var st;switch(this._length=Math.max(this._length,j+1),this._length>=this._maxLength&&this.doubleArrayLength(),_){case"v":st=this.v;break;case"i":st=this.i;break;case"o":st=this.o;break;default:st=[];break}(!st[j]||st[j]&&!et)&&(st[j]=pointPool.newElement()),st[j][0]=s,st[j][1]=o},ShapePath.prototype.setTripleAt=function(s,o,_,j,et,st,nt,ct){this.setXYAt(s,o,"v",nt,ct),this.setXYAt(_,j,"o",nt,ct),this.setXYAt(et,st,"i",nt,ct)},ShapePath.prototype.reverse=function(){var s=new ShapePath;s.setPathData(this.c,this._length);var o=this.v,_=this.o,j=this.i,et=0;this.c&&(s.setTripleAt(o[0][0],o[0][1],j[0][0],j[0][1],_[0][0],_[0][1],0,!1),et=1);var st=this._length-1,nt=this._length,ct;for(ct=et;ct<nt;ct+=1)s.setTripleAt(o[st][0],o[st][1],j[st][0],j[st][1],_[st][0],_[st][1],ct,!1),st-=1;return s},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function s(){return new ShapePath}function o(et){var st=et._length,nt;for(nt=0;nt<st;nt+=1)pointPool.release(et.v[nt]),pointPool.release(et.i[nt]),pointPool.release(et.o[nt]),et.v[nt]=null,et.i[nt]=null,et.o[nt]=null;et._length=0,et.c=!1}function _(et){var st=j.newElement(),nt,ct=et._length===void 0?et.v.length:et._length;for(st.setLength(ct),st.c=et.c,nt=0;nt<ct;nt+=1)st.setTripleAt(et.v[nt][0],et.v[nt][1],et.o[nt][0],et.o[nt][1],et.i[nt][0],et.i[nt][1],nt);return st}var j=poolFactory(4,s,o);return j.clone=_,j}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(s){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=s,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var s;for(s=0;s<this._length;s+=1)shapePool.release(this.shapes[s]);this._length=0};var shapeCollectionPool=function(){var s={newShapeCollection:et,release:st},o=0,_=4,j=createSizedArray(_);function et(){var nt;return o?(o-=1,nt=j[o]):nt=new ShapeCollection,nt}function st(nt){var ct,At=nt._length;for(ct=0;ct<At;ct+=1)shapePool.release(nt.shapes[ct]);nt._length=0,o===_&&(j=pooling.double(j),_*=2),j[o]=nt,o+=1}return s}(),ShapePropertyFactory=function(){var s=-999999;function o(Rt,Nt,Gt){var dr=Gt.lastIndex,ts,es,ds,tn,rn,un,$n,kn,lo,Il=this.keyframes;if(Rt<Il[0].t-this.offsetTime)ts=Il[0].s[0],ds=!0,dr=0;else if(Rt>=Il[Il.length-1].t-this.offsetTime)ts=Il[Il.length-1].s?Il[Il.length-1].s[0]:Il[Il.length-2].e[0],ds=!0;else{for(var cu=dr,Ko=Il.length-1,ru=!0,Tn,ao,uu;ru&&(Tn=Il[cu],ao=Il[cu+1],!(ao.t-this.offsetTime>Rt));)cu<Ko-1?cu+=1:ru=!1;if(uu=this.keyframesMetadata[cu]||{},ds=Tn.h===1,dr=cu,!ds){if(Rt>=ao.t-this.offsetTime)kn=1;else if(Rt<Tn.t-this.offsetTime)kn=0;else{var hu;uu.__fnct?hu=uu.__fnct:(hu=BezierFactory.getBezierEasing(Tn.o.x,Tn.o.y,Tn.i.x,Tn.i.y).get,uu.__fnct=hu),kn=hu((Rt-(Tn.t-this.offsetTime))/(ao.t-this.offsetTime-(Tn.t-this.offsetTime)))}es=ao.s?ao.s[0]:Tn.e[0]}ts=Tn.s[0]}for(un=Nt._length,$n=ts.i[0].length,Gt.lastIndex=dr,tn=0;tn<un;tn+=1)for(rn=0;rn<$n;rn+=1)lo=ds?ts.i[tn][rn]:ts.i[tn][rn]+(es.i[tn][rn]-ts.i[tn][rn])*kn,Nt.i[tn][rn]=lo,lo=ds?ts.o[tn][rn]:ts.o[tn][rn]+(es.o[tn][rn]-ts.o[tn][rn])*kn,Nt.o[tn][rn]=lo,lo=ds?ts.v[tn][rn]:ts.v[tn][rn]+(es.v[tn][rn]-ts.v[tn][rn])*kn,Nt.v[tn][rn]=lo}function _(){var Rt=this.comp.renderedFrame-this.offsetTime,Nt=this.keyframes[0].t-this.offsetTime,Gt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,dr=this._caching.lastFrame;return dr!==s&&(dr<Nt&&Rt<Nt||dr>Gt&&Rt>Gt)||(this._caching.lastIndex=dr<Rt?this._caching.lastIndex:0,this.interpolateShape(Rt,this.pv,this._caching)),this._caching.lastFrame=Rt,this.pv}function j(){this.paths=this.localShapeCollection}function et(Rt,Nt){if(Rt._length!==Nt._length||Rt.c!==Nt.c)return!1;var Gt,dr=Rt._length;for(Gt=0;Gt<dr;Gt+=1)if(Rt.v[Gt][0]!==Nt.v[Gt][0]||Rt.v[Gt][1]!==Nt.v[Gt][1]||Rt.o[Gt][0]!==Nt.o[Gt][0]||Rt.o[Gt][1]!==Nt.o[Gt][1]||Rt.i[Gt][0]!==Nt.i[Gt][0]||Rt.i[Gt][1]!==Nt.i[Gt][1])return!1;return!0}function st(Rt){et(this.v,Rt)||(this.v=shapePool.clone(Rt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function nt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Rt;this.kf?Rt=this.pv:this.data.ks?Rt=this.data.ks.k:Rt=this.data.pt.k;var Nt,Gt=this.effectsSequence.length;for(Nt=0;Nt<Gt;Nt+=1)Rt=this.effectsSequence[Nt](Rt);this.setVValue(Rt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ct(Rt,Nt,Gt){this.propType="shape",this.comp=Rt.comp,this.container=Rt,this.elem=Rt,this.data=Nt,this.k=!1,this.kf=!1,this._mdf=!1;var dr=Gt===3?Nt.pt.k:Nt.ks.k;this.v=shapePool.clone(dr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=j,this.effectsSequence=[]}function At(Rt){this.effectsSequence.push(Rt),this.container.addDynamicProperty(this)}ct.prototype.interpolateShape=o,ct.prototype.getValue=nt,ct.prototype.setVValue=st,ct.prototype.addEffect=At;function mt(Rt,Nt,Gt){this.propType="shape",this.comp=Rt.comp,this.elem=Rt,this.container=Rt,this.offsetTime=Rt.data.st,this.keyframes=Gt===3?Nt.pt.k:Nt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var dr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,dr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=s,this.reset=j,this._caching={lastFrame:s,lastIndex:0},this.effectsSequence=[_.bind(this)]}mt.prototype.getValue=nt,mt.prototype.interpolateShape=o,mt.prototype.setVValue=st,mt.prototype.addEffect=At;var gt=function(){var Rt=roundCorner;function Nt(Gt,dr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=dr.d,this.elem=Gt,this.comp=Gt.comp,this.frameId=-1,this.initDynamicPropertyContainer(Gt),this.p=PropertyFactory.getProp(Gt,dr.p,1,0,this),this.s=PropertyFactory.getProp(Gt,dr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Nt.prototype={reset:j,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var dr=this.p.v[0],ts=this.p.v[1],es=this.s.v[0]/2,ds=this.s.v[1]/2,tn=this.d!==3,rn=this.v;rn.v[0][0]=dr,rn.v[0][1]=ts-ds,rn.v[1][0]=tn?dr+es:dr-es,rn.v[1][1]=ts,rn.v[2][0]=dr,rn.v[2][1]=ts+ds,rn.v[3][0]=tn?dr-es:dr+es,rn.v[3][1]=ts,rn.i[0][0]=tn?dr-es*Rt:dr+es*Rt,rn.i[0][1]=ts-ds,rn.i[1][0]=tn?dr+es:dr-es,rn.i[1][1]=ts-ds*Rt,rn.i[2][0]=tn?dr+es*Rt:dr-es*Rt,rn.i[2][1]=ts+ds,rn.i[3][0]=tn?dr-es:dr+es,rn.i[3][1]=ts+ds*Rt,rn.o[0][0]=tn?dr+es*Rt:dr-es*Rt,rn.o[0][1]=ts-ds,rn.o[1][0]=tn?dr+es:dr-es,rn.o[1][1]=ts+ds*Rt,rn.o[2][0]=tn?dr-es*Rt:dr+es*Rt,rn.o[2][1]=ts+ds,rn.o[3][0]=tn?dr-es:dr+es,rn.o[3][1]=ts-ds*Rt}},extendPrototype([DynamicPropertyContainer],Nt),Nt}(),_t=function(){function Rt(Nt,Gt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Nt,this.comp=Nt.comp,this.data=Gt,this.frameId=-1,this.d=Gt.d,this.initDynamicPropertyContainer(Nt),Gt.sy===1?(this.ir=PropertyFactory.getProp(Nt,Gt.ir,0,0,this),this.is=PropertyFactory.getProp(Nt,Gt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Nt,Gt.pt,0,0,this),this.p=PropertyFactory.getProp(Nt,Gt.p,1,0,this),this.r=PropertyFactory.getProp(Nt,Gt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Nt,Gt.or,0,0,this),this.os=PropertyFactory.getProp(Nt,Gt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Rt.prototype={reset:j,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Gt=Math.floor(this.pt.v)*2,dr=Math.PI*2/Gt,ts=!0,es=this.or.v,ds=this.ir.v,tn=this.os.v,rn=this.is.v,un=2*Math.PI*es/(Gt*2),$n=2*Math.PI*ds/(Gt*2),kn,lo,Il,cu,Ko=-Math.PI/2;Ko+=this.r.v;var ru=this.data.d===3?-1:1;for(this.v._length=0,kn=0;kn<Gt;kn+=1){lo=ts?es:ds,Il=ts?tn:rn,cu=ts?un:$n;var Tn=lo*Math.cos(Ko),ao=lo*Math.sin(Ko),uu=Tn===0&&ao===0?0:ao/Math.sqrt(Tn*Tn+ao*ao),hu=Tn===0&&ao===0?0:-Tn/Math.sqrt(Tn*Tn+ao*ao);Tn+=+this.p.v[0],ao+=+this.p.v[1],this.v.setTripleAt(Tn,ao,Tn-uu*cu*Il*ru,ao-hu*cu*Il*ru,Tn+uu*cu*Il*ru,ao+hu*cu*Il*ru,kn,!0),ts=!ts,Ko+=dr*ru}},convertPolygonToPath:function(){var Gt=Math.floor(this.pt.v),dr=Math.PI*2/Gt,ts=this.or.v,es=this.os.v,ds=2*Math.PI*ts/(Gt*4),tn,rn=-Math.PI*.5,un=this.data.d===3?-1:1;for(rn+=this.r.v,this.v._length=0,tn=0;tn<Gt;tn+=1){var $n=ts*Math.cos(rn),kn=ts*Math.sin(rn),lo=$n===0&&kn===0?0:kn/Math.sqrt($n*$n+kn*kn),Il=$n===0&&kn===0?0:-$n/Math.sqrt($n*$n+kn*kn);$n+=+this.p.v[0],kn+=+this.p.v[1],this.v.setTripleAt($n,kn,$n-lo*ds*es*un,kn-Il*ds*es*un,$n+lo*ds*es*un,kn+Il*ds*es*un,tn,!0),rn+=dr*un}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Rt),Rt}(),Et=function(){function Rt(Nt,Gt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Nt,this.comp=Nt.comp,this.frameId=-1,this.d=Gt.d,this.initDynamicPropertyContainer(Nt),this.p=PropertyFactory.getProp(Nt,Gt.p,1,0,this),this.s=PropertyFactory.getProp(Nt,Gt.s,1,0,this),this.r=PropertyFactory.getProp(Nt,Gt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Rt.prototype={convertRectToPath:function(){var Gt=this.p.v[0],dr=this.p.v[1],ts=this.s.v[0]/2,es=this.s.v[1]/2,ds=bmMin(ts,es,this.r.v),tn=ds*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Gt+ts,dr-es+ds,Gt+ts,dr-es+ds,Gt+ts,dr-es+tn,0,!0),this.v.setTripleAt(Gt+ts,dr+es-ds,Gt+ts,dr+es-tn,Gt+ts,dr+es-ds,1,!0),ds!==0?(this.v.setTripleAt(Gt+ts-ds,dr+es,Gt+ts-ds,dr+es,Gt+ts-tn,dr+es,2,!0),this.v.setTripleAt(Gt-ts+ds,dr+es,Gt-ts+tn,dr+es,Gt-ts+ds,dr+es,3,!0),this.v.setTripleAt(Gt-ts,dr+es-ds,Gt-ts,dr+es-ds,Gt-ts,dr+es-tn,4,!0),this.v.setTripleAt(Gt-ts,dr-es+ds,Gt-ts,dr-es+tn,Gt-ts,dr-es+ds,5,!0),this.v.setTripleAt(Gt-ts+ds,dr-es,Gt-ts+ds,dr-es,Gt-ts+tn,dr-es,6,!0),this.v.setTripleAt(Gt+ts-ds,dr-es,Gt+ts-tn,dr-es,Gt+ts-ds,dr-es,7,!0)):(this.v.setTripleAt(Gt-ts,dr+es,Gt-ts+tn,dr+es,Gt-ts,dr+es,2),this.v.setTripleAt(Gt-ts,dr-es,Gt-ts,dr-es+tn,Gt-ts,dr-es,3))):(this.v.setTripleAt(Gt+ts,dr-es+ds,Gt+ts,dr-es+tn,Gt+ts,dr-es+ds,0,!0),ds!==0?(this.v.setTripleAt(Gt+ts-ds,dr-es,Gt+ts-ds,dr-es,Gt+ts-tn,dr-es,1,!0),this.v.setTripleAt(Gt-ts+ds,dr-es,Gt-ts+tn,dr-es,Gt-ts+ds,dr-es,2,!0),this.v.setTripleAt(Gt-ts,dr-es+ds,Gt-ts,dr-es+ds,Gt-ts,dr-es+tn,3,!0),this.v.setTripleAt(Gt-ts,dr+es-ds,Gt-ts,dr+es-tn,Gt-ts,dr+es-ds,4,!0),this.v.setTripleAt(Gt-ts+ds,dr+es,Gt-ts+ds,dr+es,Gt-ts+tn,dr+es,5,!0),this.v.setTripleAt(Gt+ts-ds,dr+es,Gt+ts-tn,dr+es,Gt+ts-ds,dr+es,6,!0),this.v.setTripleAt(Gt+ts,dr+es-ds,Gt+ts,dr+es-ds,Gt+ts,dr+es-tn,7,!0)):(this.v.setTripleAt(Gt-ts,dr-es,Gt-ts+tn,dr-es,Gt-ts,dr-es,1,!0),this.v.setTripleAt(Gt-ts,dr+es,Gt-ts,dr+es-tn,Gt-ts,dr+es,2,!0),this.v.setTripleAt(Gt+ts,dr+es,Gt+ts-tn,dr+es,Gt+ts,dr+es,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:j},extendPrototype([DynamicPropertyContainer],Rt),Rt}();function Ct(Rt,Nt,Gt){var dr;if(Gt===3||Gt===4){var ts=Gt===3?Nt.pt:Nt.ks,es=ts.k;es.length?dr=new mt(Rt,Nt,Gt):dr=new ct(Rt,Nt,Gt)}else Gt===5?dr=new Et(Rt,Nt):Gt===6?dr=new gt(Rt,Nt):Gt===7&&(dr=new _t(Rt,Nt));return dr.k&&Rt.addDynamicProperty(dr),dr}function Bt(){return ct}function Dt(){return mt}var Ft={};return Ft.getShapeProp=Ct,Ft.getConstructorFunction=Bt,Ft.getKeyframedConstructorFunction=Dt,Ft}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var s=Math.cos,o=Math.sin,_=Math.tan,j=Math.round;function et(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function st(Tn){if(Tn===0)return this;var ao=s(Tn),uu=o(Tn);return this._t(ao,-uu,0,0,uu,ao,0,0,0,0,1,0,0,0,0,1)}function nt(Tn){if(Tn===0)return this;var ao=s(Tn),uu=o(Tn);return this._t(1,0,0,0,0,ao,-uu,0,0,uu,ao,0,0,0,0,1)}function ct(Tn){if(Tn===0)return this;var ao=s(Tn),uu=o(Tn);return this._t(ao,0,uu,0,0,1,0,0,-uu,0,ao,0,0,0,0,1)}function At(Tn){if(Tn===0)return this;var ao=s(Tn),uu=o(Tn);return this._t(ao,-uu,0,0,uu,ao,0,0,0,0,1,0,0,0,0,1)}function mt(Tn,ao){return this._t(1,ao,Tn,1,0,0)}function gt(Tn,ao){return this.shear(_(Tn),_(ao))}function _t(Tn,ao){var uu=s(ao),hu=o(ao);return this._t(uu,hu,0,0,-hu,uu,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_(Tn),1,0,0,0,0,1,0,0,0,0,1)._t(uu,-hu,0,0,hu,uu,0,0,0,0,1,0,0,0,0,1)}function Et(Tn,ao,uu){return!uu&&uu!==0&&(uu=1),Tn===1&&ao===1&&uu===1?this:this._t(Tn,0,0,0,0,ao,0,0,0,0,uu,0,0,0,0,1)}function Ct(Tn,ao,uu,hu,tA,Sv,W0,l1,X1,kI,q1,UE,a1,LE,rS,gD){return this.props[0]=Tn,this.props[1]=ao,this.props[2]=uu,this.props[3]=hu,this.props[4]=tA,this.props[5]=Sv,this.props[6]=W0,this.props[7]=l1,this.props[8]=X1,this.props[9]=kI,this.props[10]=q1,this.props[11]=UE,this.props[12]=a1,this.props[13]=LE,this.props[14]=rS,this.props[15]=gD,this}function Bt(Tn,ao,uu){return uu=uu||0,Tn!==0||ao!==0||uu!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Tn,ao,uu,1):this}function Dt(Tn,ao,uu,hu,tA,Sv,W0,l1,X1,kI,q1,UE,a1,LE,rS,gD){var NI=this.props;if(Tn===1&&ao===0&&uu===0&&hu===0&&tA===0&&Sv===1&&W0===0&&l1===0&&X1===0&&kI===0&&q1===1&&UE===0)return NI[12]=NI[12]*Tn+NI[15]*a1,NI[13]=NI[13]*Sv+NI[15]*LE,NI[14]=NI[14]*q1+NI[15]*rS,NI[15]*=gD,this._identityCalculated=!1,this;var a$=NI[0],x$=NI[1],l$=NI[2],pR=NI[3],h$=NI[4],w$=NI[5],E$=NI[6],Vx=NI[7],b0=NI[8],o$=NI[9],m$=NI[10],t0=NI[11],_$=NI[12],D$=NI[13],M$=NI[14],p$=NI[15];return NI[0]=a$*Tn+x$*tA+l$*X1+pR*a1,NI[1]=a$*ao+x$*Sv+l$*kI+pR*LE,NI[2]=a$*uu+x$*W0+l$*q1+pR*rS,NI[3]=a$*hu+x$*l1+l$*UE+pR*gD,NI[4]=h$*Tn+w$*tA+E$*X1+Vx*a1,NI[5]=h$*ao+w$*Sv+E$*kI+Vx*LE,NI[6]=h$*uu+w$*W0+E$*q1+Vx*rS,NI[7]=h$*hu+w$*l1+E$*UE+Vx*gD,NI[8]=b0*Tn+o$*tA+m$*X1+t0*a1,NI[9]=b0*ao+o$*Sv+m$*kI+t0*LE,NI[10]=b0*uu+o$*W0+m$*q1+t0*rS,NI[11]=b0*hu+o$*l1+m$*UE+t0*gD,NI[12]=_$*Tn+D$*tA+M$*X1+p$*a1,NI[13]=_$*ao+D$*Sv+M$*kI+p$*LE,NI[14]=_$*uu+D$*W0+M$*q1+p$*rS,NI[15]=_$*hu+D$*l1+M$*UE+p$*gD,this._identityCalculated=!1,this}function Ft(Tn){var ao=Tn.props;return this.transform(ao[0],ao[1],ao[2],ao[3],ao[4],ao[5],ao[6],ao[7],ao[8],ao[9],ao[10],ao[11],ao[12],ao[13],ao[14],ao[15])}function Rt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Nt(Tn){for(var ao=0;ao<16;){if(Tn.props[ao]!==this.props[ao])return!1;ao+=1}return!0}function Gt(Tn){var ao;for(ao=0;ao<16;ao+=1)Tn.props[ao]=this.props[ao];return Tn}function dr(Tn){var ao;for(ao=0;ao<16;ao+=1)this.props[ao]=Tn[ao]}function ts(Tn,ao,uu){return{x:Tn*this.props[0]+ao*this.props[4]+uu*this.props[8]+this.props[12],y:Tn*this.props[1]+ao*this.props[5]+uu*this.props[9]+this.props[13],z:Tn*this.props[2]+ao*this.props[6]+uu*this.props[10]+this.props[14]}}function es(Tn,ao,uu){return Tn*this.props[0]+ao*this.props[4]+uu*this.props[8]+this.props[12]}function ds(Tn,ao,uu){return Tn*this.props[1]+ao*this.props[5]+uu*this.props[9]+this.props[13]}function tn(Tn,ao,uu){return Tn*this.props[2]+ao*this.props[6]+uu*this.props[10]+this.props[14]}function rn(){var Tn=this.props[0]*this.props[5]-this.props[1]*this.props[4],ao=this.props[5]/Tn,uu=-this.props[1]/Tn,hu=-this.props[4]/Tn,tA=this.props[0]/Tn,Sv=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Tn,W0=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Tn,l1=new Matrix;return l1.props[0]=ao,l1.props[1]=uu,l1.props[4]=hu,l1.props[5]=tA,l1.props[12]=Sv,l1.props[13]=W0,l1}function un(Tn){var ao=this.getInverseMatrix();return ao.applyToPointArray(Tn[0],Tn[1],Tn[2]||0)}function $n(Tn){var ao,uu=Tn.length,hu=[];for(ao=0;ao<uu;ao+=1)hu[ao]=un(Tn[ao]);return hu}function kn(Tn,ao,uu){var hu=createTypedArray("float32",6);if(this.isIdentity())hu[0]=Tn[0],hu[1]=Tn[1],hu[2]=ao[0],hu[3]=ao[1],hu[4]=uu[0],hu[5]=uu[1];else{var tA=this.props[0],Sv=this.props[1],W0=this.props[4],l1=this.props[5],X1=this.props[12],kI=this.props[13];hu[0]=Tn[0]*tA+Tn[1]*W0+X1,hu[1]=Tn[0]*Sv+Tn[1]*l1+kI,hu[2]=ao[0]*tA+ao[1]*W0+X1,hu[3]=ao[0]*Sv+ao[1]*l1+kI,hu[4]=uu[0]*tA+uu[1]*W0+X1,hu[5]=uu[0]*Sv+uu[1]*l1+kI}return hu}function lo(Tn,ao,uu){var hu;return this.isIdentity()?hu=[Tn,ao,uu]:hu=[Tn*this.props[0]+ao*this.props[4]+uu*this.props[8]+this.props[12],Tn*this.props[1]+ao*this.props[5]+uu*this.props[9]+this.props[13],Tn*this.props[2]+ao*this.props[6]+uu*this.props[10]+this.props[14]],hu}function Il(Tn,ao){if(this.isIdentity())return Tn+","+ao;var uu=this.props;return Math.round((Tn*uu[0]+ao*uu[4]+uu[12])*100)/100+","+Math.round((Tn*uu[1]+ao*uu[5]+uu[13])*100)/100}function cu(){for(var Tn=0,ao=this.props,uu="matrix3d(",hu=1e4;Tn<16;)uu+=j(ao[Tn]*hu)/hu,uu+=Tn===15?")":",",Tn+=1;return uu}function Ko(Tn){var ao=1e4;return Tn<1e-6&&Tn>0||Tn>-1e-6&&Tn<0?j(Tn*ao)/ao:Tn}function ru(){var Tn=this.props,ao=Ko(Tn[0]),uu=Ko(Tn[1]),hu=Ko(Tn[4]),tA=Ko(Tn[5]),Sv=Ko(Tn[12]),W0=Ko(Tn[13]);return"matrix("+ao+","+uu+","+hu+","+tA+","+Sv+","+W0+")"}return function(){this.reset=et,this.rotate=st,this.rotateX=nt,this.rotateY=ct,this.rotateZ=At,this.skew=gt,this.skewFromAxis=_t,this.shear=mt,this.scale=Et,this.setTransform=Ct,this.translate=Bt,this.transform=Dt,this.multiply=Ft,this.applyToPoint=ts,this.applyToX=es,this.applyToY=ds,this.applyToZ=tn,this.applyToPointArray=lo,this.applyToTriplePoints=kn,this.applyToPointStringified=Il,this.toCSS=cu,this.to2dCSS=ru,this.clone=Gt,this.cloneFromProps=dr,this.equals=Nt,this.inversePoints=$n,this.inversePoint=un,this.getInverseMatrix=rn,this._t=this.transform,this.isIdentity=Rt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(_){return typeof _}:_typeof$3=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$3(s)}var lottie={};function setLocation(s){setLocationHref(s)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(s){setSubframeEnabled(s)}function setPrefix(s){setIdPrefix(s)}function loadAnimation(s){return animationManager.loadAnimation(s)}function setQuality(s){if(typeof s=="string")switch(s){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(s)&&s>1&&setDefaultCurveSegments(s)}function inBrowser(){return typeof navigator<"u"}function installPlugin(s,o){s==="expressions"&&setExpressionsPlugin(o)}function getFactory(s){switch(s){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(s){for(var o=queryString.split("&"),_=0;_<o.length;_+=1){var j=o[_].split("=");if(decodeURIComponent(j[0])==s)return decodeURIComponent(j[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(s){}var ShapeModifiers=function(){var s={},o={};s.registerModifier=_,s.getModifier=j;function _(et,st){o[et]||(o[et]=st)}function j(et,st,nt){return new o[et](st,nt)}return s}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(s){if(!this.closed){s.sh.container.addDynamicProperty(s.sh);var o={shape:s.sh,data:s,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(o),this.addShapeToModifier(o),this._isAnimated&&s.setAsAnimated()}},ShapeModifier.prototype.init=function(s,o){this.shapes=[],this.elem=s,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,o),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(s,o){this.s=PropertyFactory.getProp(s,o.s,0,.01,this),this.e=PropertyFactory.getProp(s,o.e,0,.01,this),this.o=PropertyFactory.getProp(s,o.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=o.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(s){s.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(s,o,_,j,et){var st=[];o<=1?st.push({s,e:o}):s>=1?st.push({s:s-1,e:o-1}):(st.push({s,e:1}),st.push({s:0,e:o-1}));var nt=[],ct,At=st.length,mt;for(ct=0;ct<At;ct+=1)if(mt=st[ct],!(mt.e*et<j||mt.s*et>j+_)){var gt,_t;mt.s*et<=j?gt=0:gt=(mt.s*et-j)/_,mt.e*et>=j+_?_t=1:_t=(mt.e*et-j)/_,nt.push([gt,_t])}return nt.length||nt.push([0,0]),nt},TrimModifier.prototype.releasePathsData=function(s){var o,_=s.length;for(o=0;o<_;o+=1)segmentsLengthPool.release(s[o]);return s.length=0,s},TrimModifier.prototype.processShapes=function(s){var o,_;if(this._mdf||s){var j=this.o.v%360/360;if(j<0&&(j+=1),this.s.v>1?o=1+j:this.s.v<0?o=0+j:o=this.s.v+j,this.e.v>1?_=1+j:this.e.v<0?_=0+j:_=this.e.v+j,o>_){var et=o;o=_,_=et}o=Math.round(o*1e4)*1e-4,_=Math.round(_*1e4)*1e-4,this.sValue=o,this.eValue=_}else o=this.sValue,_=this.eValue;var st,nt,ct=this.shapes.length,At,mt,gt,_t,Et,Ct=0;if(_===o)for(nt=0;nt<ct;nt+=1)this.shapes[nt].localShapeCollection.releaseShapes(),this.shapes[nt].shape._mdf=!0,this.shapes[nt].shape.paths=this.shapes[nt].localShapeCollection,this._mdf&&(this.shapes[nt].pathsData.length=0);else if(_===1&&o===0||_===0&&o===1){if(this._mdf)for(nt=0;nt<ct;nt+=1)this.shapes[nt].pathsData.length=0,this.shapes[nt].shape._mdf=!0}else{var Bt=[],Dt,Ft;for(nt=0;nt<ct;nt+=1)if(Dt=this.shapes[nt],!Dt.shape._mdf&&!this._mdf&&!s&&this.m!==2)Dt.shape.paths=Dt.localShapeCollection;else{if(st=Dt.shape.paths,mt=st._length,Et=0,!Dt.shape._mdf&&Dt.pathsData.length)Et=Dt.totalShapeLength;else{for(gt=this.releasePathsData(Dt.pathsData),At=0;At<mt;At+=1)_t=bez.getSegmentsLength(st.shapes[At]),gt.push(_t),Et+=_t.totalLength;Dt.totalShapeLength=Et,Dt.pathsData=gt}Ct+=Et,Dt.shape._mdf=!0}var Rt=o,Nt=_,Gt=0,dr;for(nt=ct-1;nt>=0;nt-=1)if(Dt=this.shapes[nt],Dt.shape._mdf){for(Ft=Dt.localShapeCollection,Ft.releaseShapes(),this.m===2&&ct>1?(dr=this.calculateShapeEdges(o,_,Dt.totalShapeLength,Gt,Ct),Gt+=Dt.totalShapeLength):dr=[[Rt,Nt]],mt=dr.length,At=0;At<mt;At+=1){Rt=dr[At][0],Nt=dr[At][1],Bt.length=0,Nt<=1?Bt.push({s:Dt.totalShapeLength*Rt,e:Dt.totalShapeLength*Nt}):Rt>=1?Bt.push({s:Dt.totalShapeLength*(Rt-1),e:Dt.totalShapeLength*(Nt-1)}):(Bt.push({s:Dt.totalShapeLength*Rt,e:Dt.totalShapeLength}),Bt.push({s:0,e:Dt.totalShapeLength*(Nt-1)}));var ts=this.addShapes(Dt,Bt[0]);if(Bt[0].s!==Bt[0].e){if(Bt.length>1){var es=Dt.shape.paths.shapes[Dt.shape.paths._length-1];if(es.c){var ds=ts.pop();this.addPaths(ts,Ft),ts=this.addShapes(Dt,Bt[1],ds)}else this.addPaths(ts,Ft),ts=this.addShapes(Dt,Bt[1])}this.addPaths(ts,Ft)}}Dt.shape.paths=Ft}}},TrimModifier.prototype.addPaths=function(s,o){var _,j=s.length;for(_=0;_<j;_+=1)o.addShape(s[_])},TrimModifier.prototype.addSegment=function(s,o,_,j,et,st,nt){et.setXYAt(o[0],o[1],"o",st),et.setXYAt(_[0],_[1],"i",st+1),nt&&et.setXYAt(s[0],s[1],"v",st),et.setXYAt(j[0],j[1],"v",st+1)},TrimModifier.prototype.addSegmentFromArray=function(s,o,_,j){o.setXYAt(s[1],s[5],"o",_),o.setXYAt(s[2],s[6],"i",_+1),j&&o.setXYAt(s[0],s[4],"v",_),o.setXYAt(s[3],s[7],"v",_+1)},TrimModifier.prototype.addShapes=function(s,o,_){var j=s.pathsData,et=s.shape.paths.shapes,st,nt=s.shape.paths._length,ct,At,mt=0,gt,_t,Et,Ct,Bt=[],Dt,Ft=!0;for(_?(_t=_._length,Dt=_._length):(_=shapePool.newElement(),_t=0,Dt=0),Bt.push(_),st=0;st<nt;st+=1){for(Et=j[st].lengths,_.c=et[st].c,At=et[st].c?Et.length:Et.length+1,ct=1;ct<At;ct+=1)if(gt=Et[ct-1],mt+gt.addedLength<o.s)mt+=gt.addedLength,_.c=!1;else if(mt>o.e){_.c=!1;break}else o.s<=mt&&o.e>=mt+gt.addedLength?(this.addSegment(et[st].v[ct-1],et[st].o[ct-1],et[st].i[ct],et[st].v[ct],_,_t,Ft),Ft=!1):(Ct=bez.getNewSegment(et[st].v[ct-1],et[st].v[ct],et[st].o[ct-1],et[st].i[ct],(o.s-mt)/gt.addedLength,(o.e-mt)/gt.addedLength,Et[ct-1]),this.addSegmentFromArray(Ct,_,_t,Ft),Ft=!1,_.c=!1),mt+=gt.addedLength,_t+=1;if(et[st].c&&Et.length){if(gt=Et[ct-1],mt<=o.e){var Rt=Et[ct-1].addedLength;o.s<=mt&&o.e>=mt+Rt?(this.addSegment(et[st].v[ct-1],et[st].o[ct-1],et[st].i[0],et[st].v[0],_,_t,Ft),Ft=!1):(Ct=bez.getNewSegment(et[st].v[ct-1],et[st].v[0],et[st].o[ct-1],et[st].i[0],(o.s-mt)/Rt,(o.e-mt)/Rt,Et[ct-1]),this.addSegmentFromArray(Ct,_,_t,Ft),Ft=!1,_.c=!1)}else _.c=!1;mt+=gt.addedLength,_t+=1}if(_._length&&(_.setXYAt(_.v[Dt][0],_.v[Dt][1],"i",Dt),_.setXYAt(_.v[_._length-1][0],_.v[_._length-1][1],"o",_._length-1)),mt>o.e)break;st<nt-1&&(_=shapePool.newElement(),Ft=!0,Bt.push(_),_t=0)}return Bt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(s,o){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(s,o.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(s,o){var _=o/100,j=[0,0],et=s._length,st=0;for(st=0;st<et;st+=1)j[0]+=s.v[st][0],j[1]+=s.v[st][1];j[0]/=et,j[1]/=et;var nt=shapePool.newElement();nt.c=s.c;var ct,At,mt,gt,_t,Et;for(st=0;st<et;st+=1)ct=s.v[st][0]+(j[0]-s.v[st][0])*_,At=s.v[st][1]+(j[1]-s.v[st][1])*_,mt=s.o[st][0]+(j[0]-s.o[st][0])*-_,gt=s.o[st][1]+(j[1]-s.o[st][1])*-_,_t=s.i[st][0]+(j[0]-s.i[st][0])*-_,Et=s.i[st][1]+(j[1]-s.i[st][1])*-_,nt.setTripleAt(ct,At,mt,gt,_t,Et,st);return nt},PuckerAndBloatModifier.prototype.processShapes=function(s){var o,_,j=this.shapes.length,et,st,nt=this.amount.v;if(nt!==0){var ct,At;for(_=0;_<j;_+=1){if(ct=this.shapes[_],At=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!s))for(At.releaseShapes(),ct.shape._mdf=!0,o=ct.shape.paths.shapes,st=ct.shape.paths._length,et=0;et<st;et+=1)At.addShape(this.processPath(o[et],nt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var s=[0,0];function o(At){var mt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||mt,this.a&&At.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&At.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&At.skewFromAxis(-this.sk.v,this.sa.v),this.r?At.rotate(-this.r.v):At.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?At.translate(this.px.v,this.py.v,-this.pz.v):At.translate(this.px.v,this.py.v,0):At.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function _(At){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||At){var mt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var gt,_t;if(mt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(gt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/mt,0),_t=this.p.getValueAtTime(this.p.keyframes[0].t/mt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(gt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/mt,0),_t=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/mt,0)):(gt=this.p.pv,_t=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/mt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){gt=[],_t=[];var Et=this.px,Ct=this.py;Et._caching.lastFrame+Et.offsetTime<=Et.keyframes[0].t?(gt[0]=Et.getValueAtTime((Et.keyframes[0].t+.01)/mt,0),gt[1]=Ct.getValueAtTime((Ct.keyframes[0].t+.01)/mt,0),_t[0]=Et.getValueAtTime(Et.keyframes[0].t/mt,0),_t[1]=Ct.getValueAtTime(Ct.keyframes[0].t/mt,0)):Et._caching.lastFrame+Et.offsetTime>=Et.keyframes[Et.keyframes.length-1].t?(gt[0]=Et.getValueAtTime(Et.keyframes[Et.keyframes.length-1].t/mt,0),gt[1]=Ct.getValueAtTime(Ct.keyframes[Ct.keyframes.length-1].t/mt,0),_t[0]=Et.getValueAtTime((Et.keyframes[Et.keyframes.length-1].t-.01)/mt,0),_t[1]=Ct.getValueAtTime((Ct.keyframes[Ct.keyframes.length-1].t-.01)/mt,0)):(gt=[Et.pv,Ct.pv],_t[0]=Et.getValueAtTime((Et._caching.lastFrame+Et.offsetTime-.01)/mt,Et.offsetTime),_t[1]=Ct.getValueAtTime((Ct._caching.lastFrame+Ct.offsetTime-.01)/mt,Ct.offsetTime))}else _t=s,gt=_t;this.v.rotate(-Math.atan2(gt[1]-_t[1],gt[0]-_t[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function j(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function et(){}function st(At){this._addDynamicProperty(At),this.elem.addDynamicProperty(At),this._isDirty=!0}function nt(At,mt,gt){if(this.elem=At,this.frameId=-1,this.propType="transform",this.data=mt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(gt||At),mt.p&&mt.p.s?(this.px=PropertyFactory.getProp(At,mt.p.x,0,0,this),this.py=PropertyFactory.getProp(At,mt.p.y,0,0,this),mt.p.z&&(this.pz=PropertyFactory.getProp(At,mt.p.z,0,0,this))):this.p=PropertyFactory.getProp(At,mt.p||{k:[0,0,0]},1,0,this),mt.rx){if(this.rx=PropertyFactory.getProp(At,mt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(At,mt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(At,mt.rz,0,degToRads,this),mt.or.k[0].ti){var _t,Et=mt.or.k.length;for(_t=0;_t<Et;_t+=1)mt.or.k[_t].to=null,mt.or.k[_t].ti=null}this.or=PropertyFactory.getProp(At,mt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(At,mt.r||{k:0},0,degToRads,this);mt.sk&&(this.sk=PropertyFactory.getProp(At,mt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(At,mt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(At,mt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(At,mt.s||{k:[100,100,100]},1,.01,this),mt.o?this.o=PropertyFactory.getProp(At,mt.o,0,.01,At):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}nt.prototype={applyToMatrix:o,getValue:_,precalculateMatrix:j,autoOrient:et},extendPrototype([DynamicPropertyContainer],nt),nt.prototype.addDynamicProperty=st,nt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ct(At,mt,gt){return new nt(At,mt,gt)}return{getTransformProperty:ct}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(s,o){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(s,o.c,0,null,this),this.o=PropertyFactory.getProp(s,o.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(s,o.tr,this),this.so=PropertyFactory.getProp(s,o.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(s,o.tr.eo,0,.01,this),this.data=o,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(s,o,_,j,et,st){var nt=st?-1:1,ct=j.s.v[0]+(1-j.s.v[0])*(1-et),At=j.s.v[1]+(1-j.s.v[1])*(1-et);s.translate(j.p.v[0]*nt*et,j.p.v[1]*nt*et,j.p.v[2]),o.translate(-j.a.v[0],-j.a.v[1],j.a.v[2]),o.rotate(-j.r.v*nt*et),o.translate(j.a.v[0],j.a.v[1],j.a.v[2]),_.translate(-j.a.v[0],-j.a.v[1],j.a.v[2]),_.scale(st?1/ct:ct,st?1/At:At),_.translate(j.a.v[0],j.a.v[1],j.a.v[2])},RepeaterModifier.prototype.init=function(s,o,_,j){for(this.elem=s,this.arr=o,this.pos=_,this.elemsData=j,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(s),this.initModifierProperties(s,o[_]);_>0;)_-=1,this._elements.unshift(o[_]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(s){var o,_=s.length;for(o=0;o<_;o+=1)s[o]._processed=!1,s[o].ty==="gr"&&this.resetElements(s[o].it)},RepeaterModifier.prototype.cloneElements=function(s){var o=JSON.parse(JSON.stringify(s));return this.resetElements(o),o},RepeaterModifier.prototype.changeGroupRender=function(s,o){var _,j=s.length;for(_=0;_<j;_+=1)s[_]._render=o,s[_].ty==="gr"&&this.changeGroupRender(s[_].it,o)},RepeaterModifier.prototype.processShapes=function(s){var o,_,j,et,st,nt=!1;if(this._mdf||s){var ct=Math.ceil(this.c.v);if(this._groups.length<ct){for(;this._groups.length<ct;){var At={it:this.cloneElements(this._elements),ty:"gr"};At.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,At),this._groups.splice(0,0,At),this._currentCopies+=1}this.elem.reloadShapes(),nt=!0}st=0;var mt;for(j=0;j<=this._groups.length-1;j+=1){if(mt=st<ct,this._groups[j]._render=mt,this.changeGroupRender(this._groups[j].it,mt),!mt){var gt=this.elemsData[j].it,_t=gt[gt.length-1];_t.transform.op.v!==0?(_t.transform.op._mdf=!0,_t.transform.op.v=0):_t.transform.op._mdf=!1}st+=1}this._currentCopies=ct;var Et=this.o.v,Ct=Et%1,Bt=Et>0?Math.floor(Et):Math.ceil(Et),Dt=this.pMatrix.props,Ft=this.rMatrix.props,Rt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Nt=0;if(Et>0){for(;Nt<Bt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Nt+=1;Ct&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Ct,!1),Nt+=Ct)}else if(Et<0){for(;Nt>Bt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Nt-=1;Ct&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Ct,!0),Nt-=Ct)}j=this.data.m===1?0:this._currentCopies-1,et=this.data.m===1?1:-1,st=this._currentCopies;for(var Gt,dr;st;){if(o=this.elemsData[j].it,_=o[o.length-1].transform.mProps.v.props,dr=_.length,o[o.length-1].transform.mProps._mdf=!0,o[o.length-1].transform.op._mdf=!0,o[o.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(j/(this._currentCopies-1)),Nt!==0){for((j!==0&&et===1||j!==this._currentCopies-1&&et===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5],Ft[6],Ft[7],Ft[8],Ft[9],Ft[10],Ft[11],Ft[12],Ft[13],Ft[14],Ft[15]),this.matrix.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6],Rt[7],Rt[8],Rt[9],Rt[10],Rt[11],Rt[12],Rt[13],Rt[14],Rt[15]),this.matrix.transform(Dt[0],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5],Dt[6],Dt[7],Dt[8],Dt[9],Dt[10],Dt[11],Dt[12],Dt[13],Dt[14],Dt[15]),Gt=0;Gt<dr;Gt+=1)_[Gt]=this.matrix.props[Gt];this.matrix.reset()}else for(this.matrix.reset(),Gt=0;Gt<dr;Gt+=1)_[Gt]=this.matrix.props[Gt];Nt+=1,st-=1,j+=et}}else for(st=this._currentCopies,j=0,et=1;st;)o=this.elemsData[j].it,_=o[o.length-1].transform.mProps.v.props,o[o.length-1].transform.mProps._mdf=!1,o[o.length-1].transform.op._mdf=!1,st-=1,j+=et;return nt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(s,o){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(s,o.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(s,o){var _=shapePool.newElement();_.c=s.c;var j,et=s._length,st,nt,ct,At,mt,gt,_t=0,Et,Ct,Bt,Dt,Ft,Rt;for(j=0;j<et;j+=1)st=s.v[j],ct=s.o[j],nt=s.i[j],st[0]===ct[0]&&st[1]===ct[1]&&st[0]===nt[0]&&st[1]===nt[1]?(j===0||j===et-1)&&!s.c?(_.setTripleAt(st[0],st[1],ct[0],ct[1],nt[0],nt[1],_t),_t+=1):(j===0?At=s.v[et-1]:At=s.v[j-1],mt=Math.sqrt(Math.pow(st[0]-At[0],2)+Math.pow(st[1]-At[1],2)),gt=mt?Math.min(mt/2,o)/mt:0,Ft=st[0]+(At[0]-st[0])*gt,Et=Ft,Rt=st[1]-(st[1]-At[1])*gt,Ct=Rt,Bt=Et-(Et-st[0])*roundCorner,Dt=Ct-(Ct-st[1])*roundCorner,_.setTripleAt(Et,Ct,Bt,Dt,Ft,Rt,_t),_t+=1,j===et-1?At=s.v[0]:At=s.v[j+1],mt=Math.sqrt(Math.pow(st[0]-At[0],2)+Math.pow(st[1]-At[1],2)),gt=mt?Math.min(mt/2,o)/mt:0,Bt=st[0]+(At[0]-st[0])*gt,Et=Bt,Dt=st[1]+(At[1]-st[1])*gt,Ct=Dt,Ft=Et-(Et-st[0])*roundCorner,Rt=Ct-(Ct-st[1])*roundCorner,_.setTripleAt(Et,Ct,Bt,Dt,Ft,Rt,_t),_t+=1):(_.setTripleAt(s.v[j][0],s.v[j][1],s.o[j][0],s.o[j][1],s.i[j][0],s.i[j][1],_t),_t+=1);return _},RoundCornersModifier.prototype.processShapes=function(s){var o,_,j=this.shapes.length,et,st,nt=this.rd.v;if(nt!==0){var ct,At;for(_=0;_<j;_+=1){if(ct=this.shapes[_],At=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!s))for(At.releaseShapes(),ct.shape._mdf=!0,o=ct.shape.paths.shapes,st=ct.shape.paths._length,et=0;et<st;et+=1)At.addShape(this.processPath(o[et],nt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(s,o){return Math.abs(s-o)*1e5<=Math.min(Math.abs(s),Math.abs(o))}function floatZero(s){return Math.abs(s)<=1e-5}function lerp(s,o,_){return s*(1-_)+o*_}function lerpPoint(s,o,_){return[lerp(s[0],o[0],_),lerp(s[1],o[1],_)]}function quadRoots(s,o,_){if(s===0)return[];var j=o*o-4*s*_;if(j<0)return[];var et=-o/(2*s);if(j===0)return[et];var st=Math.sqrt(j)/(2*s);return[et-st,et+st]}function polynomialCoefficients(s,o,_,j){return[-s+3*o-3*_+j,3*s-6*o+3*_,-3*s+3*o,s]}function singlePoint(s){return new PolynomialBezier(s,s,s,s,!1)}function PolynomialBezier(s,o,_,j,et){et&&pointEqual(s,o)&&(o=lerpPoint(s,j,1/3)),et&&pointEqual(_,j)&&(_=lerpPoint(s,j,2/3));var st=polynomialCoefficients(s[0],o[0],_[0],j[0]),nt=polynomialCoefficients(s[1],o[1],_[1],j[1]);this.a=[st[0],nt[0]],this.b=[st[1],nt[1]],this.c=[st[2],nt[2]],this.d=[st[3],nt[3]],this.points=[s,o,_,j]}PolynomialBezier.prototype.point=function(s){return[((this.a[0]*s+this.b[0])*s+this.c[0])*s+this.d[0],((this.a[1]*s+this.b[1])*s+this.c[1])*s+this.d[1]]},PolynomialBezier.prototype.derivative=function(s){return[(3*s*this.a[0]+2*this.b[0])*s+this.c[0],(3*s*this.a[1]+2*this.b[1])*s+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(s){var o=this.derivative(s);return Math.atan2(o[1],o[0])},PolynomialBezier.prototype.normalAngle=function(s){var o=this.derivative(s);return Math.atan2(o[0],o[1])},PolynomialBezier.prototype.inflectionPoints=function(){var s=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(s))return[];var o=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/s,_=o*o-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/s;if(_<0)return[];var j=Math.sqrt(_);return floatZero(j)?j>0&&j<1?[o]:[]:[o-j,o+j].filter(function(et){return et>0&&et<1})},PolynomialBezier.prototype.split=function(s){if(s<=0)return[singlePoint(this.points[0]),this];if(s>=1)return[this,singlePoint(this.points[this.points.length-1])];var o=lerpPoint(this.points[0],this.points[1],s),_=lerpPoint(this.points[1],this.points[2],s),j=lerpPoint(this.points[2],this.points[3],s),et=lerpPoint(o,_,s),st=lerpPoint(_,j,s),nt=lerpPoint(et,st,s);return[new PolynomialBezier(this.points[0],o,et,nt,!0),new PolynomialBezier(nt,st,j,this.points[3],!0)]};function extrema(s,o){var _=s.points[0][o],j=s.points[s.points.length-1][o];if(_>j){var et=j;j=_,_=et}for(var st=quadRoots(3*s.a[o],2*s.b[o],s.c[o]),nt=0;nt<st.length;nt+=1)if(st[nt]>0&&st[nt]<1){var ct=s.point(st[nt])[o];ct<_?_=ct:ct>j&&(j=ct)}return{min:_,max:j}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var s=this.bounds();return{left:s.x.min,right:s.x.max,top:s.y.min,bottom:s.y.max,width:s.x.max-s.x.min,height:s.y.max-s.y.min,cx:(s.x.max+s.x.min)/2,cy:(s.y.max+s.y.min)/2}};function intersectData(s,o,_){var j=s.boundingBox();return{cx:j.cx,cy:j.cy,width:j.width,height:j.height,bez:s,t:(o+_)/2,t1:o,t2:_}}function splitData(s){var o=s.bez.split(.5);return[intersectData(o[0],s.t1,s.t),intersectData(o[1],s.t,s.t2)]}function boxIntersect(s,o){return Math.abs(s.cx-o.cx)*2<s.width+o.width&&Math.abs(s.cy-o.cy)*2<s.height+o.height}function intersectsImpl(s,o,_,j,et,st){if(boxIntersect(s,o)){if(_>=st||s.width<=j&&s.height<=j&&o.width<=j&&o.height<=j){et.push([s.t,o.t]);return}var nt=splitData(s),ct=splitData(o);intersectsImpl(nt[0],ct[0],_+1,j,et,st),intersectsImpl(nt[0],ct[1],_+1,j,et,st),intersectsImpl(nt[1],ct[0],_+1,j,et,st),intersectsImpl(nt[1],ct[1],_+1,j,et,st)}}PolynomialBezier.prototype.intersections=function(s,o,_){o===void 0&&(o=2),_===void 0&&(_=7);var j=[];return intersectsImpl(intersectData(this,0,1),intersectData(s,0,1),0,o,j,_),j},PolynomialBezier.shapeSegment=function(s,o){var _=(o+1)%s.length();return new PolynomialBezier(s.v[o],s.o[o],s.i[_],s.v[_],!0)},PolynomialBezier.shapeSegmentInverted=function(s,o){var _=(o+1)%s.length();return new PolynomialBezier(s.v[_],s.i[_],s.o[o],s.v[o],!0)};function crossProduct(s,o){return[s[1]*o[2]-s[2]*o[1],s[2]*o[0]-s[0]*o[2],s[0]*o[1]-s[1]*o[0]]}function lineIntersection(s,o,_,j){var et=[s[0],s[1],1],st=[o[0],o[1],1],nt=[_[0],_[1],1],ct=[j[0],j[1],1],At=crossProduct(crossProduct(et,st),crossProduct(nt,ct));return floatZero(At[2])?null:[At[0]/At[2],At[1]/At[2]]}function polarOffset(s,o,_){return[s[0]+Math.cos(o)*_,s[1]-Math.sin(o)*_]}function pointDistance(s,o){return Math.hypot(s[0]-o[0],s[1]-o[1])}function pointEqual(s,o){return floatEqual(s[0],o[0])&&floatEqual(s[1],o[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(s,o){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(s,o.s,0,null,this),this.frequency=PropertyFactory.getProp(s,o.r,0,null,this),this.pointsType=PropertyFactory.getProp(s,o.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(s,o,_,j,et,st,nt){var ct=_-Math.PI/2,At=_+Math.PI/2,mt=o[0]+Math.cos(_)*j*et,gt=o[1]-Math.sin(_)*j*et;s.setTripleAt(mt,gt,mt+Math.cos(ct)*st,gt-Math.sin(ct)*st,mt+Math.cos(At)*nt,gt-Math.sin(At)*nt,s.length())}function getPerpendicularVector(s,o){var _=[o[0]-s[0],o[1]-s[1]],j=-Math.PI*.5,et=[Math.cos(j)*_[0]-Math.sin(j)*_[1],Math.sin(j)*_[0]+Math.cos(j)*_[1]];return et}function getProjectingAngle(s,o){var _=o===0?s.length()-1:o-1,j=(o+1)%s.length(),et=s.v[_],st=s.v[j],nt=getPerpendicularVector(et,st);return Math.atan2(0,1)-Math.atan2(nt[1],nt[0])}function zigZagCorner(s,o,_,j,et,st,nt){var ct=getProjectingAngle(o,_),At=o.v[_%o._length],mt=o.v[_===0?o._length-1:_-1],gt=o.v[(_+1)%o._length],_t=st===2?Math.sqrt(Math.pow(At[0]-mt[0],2)+Math.pow(At[1]-mt[1],2)):0,Et=st===2?Math.sqrt(Math.pow(At[0]-gt[0],2)+Math.pow(At[1]-gt[1],2)):0;setPoint(s,o.v[_%o._length],ct,nt,j,Et/((et+1)*2),_t/((et+1)*2))}function zigZagSegment(s,o,_,j,et,st){for(var nt=0;nt<j;nt+=1){var ct=(nt+1)/(j+1),At=et===2?Math.sqrt(Math.pow(o.points[3][0]-o.points[0][0],2)+Math.pow(o.points[3][1]-o.points[0][1],2)):0,mt=o.normalAngle(ct),gt=o.point(ct);setPoint(s,gt,mt,st,_,At/((j+1)*2),At/((j+1)*2)),st=-st}return st}ZigZagModifier.prototype.processPath=function(s,o,_,j){var et=s._length,st=shapePool.newElement();if(st.c=s.c,s.c||(et-=1),et===0)return st;var nt=-1,ct=PolynomialBezier.shapeSegment(s,0);zigZagCorner(st,s,0,o,_,j,nt);for(var At=0;At<et;At+=1)nt=zigZagSegment(st,ct,o,_,j,-nt),At===et-1&&!s.c?ct=null:ct=PolynomialBezier.shapeSegment(s,(At+1)%et),zigZagCorner(st,s,At+1,o,_,j,nt);return st},ZigZagModifier.prototype.processShapes=function(s){var o,_,j=this.shapes.length,et,st,nt=this.amplitude.v,ct=Math.max(0,Math.round(this.frequency.v)),At=this.pointsType.v;if(nt!==0){var mt,gt;for(_=0;_<j;_+=1){if(mt=this.shapes[_],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!s))for(gt.releaseShapes(),mt.shape._mdf=!0,o=mt.shape.paths.shapes,st=mt.shape.paths._length,et=0;et<st;et+=1)gt.addShape(this.processPath(o[et],nt,ct,At));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(s,o,_){var j=Math.atan2(o[0]-s[0],o[1]-s[1]);return[polarOffset(s,j,_),polarOffset(o,j,_)]}function offsetSegment(s,o){var _,j,et,st,nt,ct,At;At=linearOffset(s.points[0],s.points[1],o),_=At[0],j=At[1],At=linearOffset(s.points[1],s.points[2],o),et=At[0],st=At[1],At=linearOffset(s.points[2],s.points[3],o),nt=At[0],ct=At[1];var mt=lineIntersection(_,j,et,st);mt===null&&(mt=j);var gt=lineIntersection(nt,ct,et,st);return gt===null&&(gt=nt),new PolynomialBezier(_,mt,gt,ct)}function joinLines(s,o,_,j,et){var st=o.points[3],nt=_.points[0];if(j===3||pointEqual(st,nt))return st;if(j===2){var ct=-o.tangentAngle(1),At=-_.tangentAngle(0)+Math.PI,mt=lineIntersection(st,polarOffset(st,ct+Math.PI/2,100),nt,polarOffset(nt,ct+Math.PI/2,100)),gt=mt?pointDistance(mt,st):pointDistance(st,nt)/2,_t=polarOffset(st,ct,2*gt*roundCorner);return s.setXYAt(_t[0],_t[1],"o",s.length()-1),_t=polarOffset(nt,At,2*gt*roundCorner),s.setTripleAt(nt[0],nt[1],nt[0],nt[1],_t[0],_t[1],s.length()),nt}var Et=pointEqual(st,o.points[2])?o.points[0]:o.points[2],Ct=pointEqual(nt,_.points[1])?_.points[3]:_.points[1],Bt=lineIntersection(Et,st,nt,Ct);return Bt&&pointDistance(Bt,st)<et?(s.setTripleAt(Bt[0],Bt[1],Bt[0],Bt[1],Bt[0],Bt[1],s.length()),Bt):st}function getIntersection(s,o){var _=s.intersections(o);return _.length&&floatEqual(_[0][0],1)&&_.shift(),_.length?_[0]:null}function pruneSegmentIntersection(s,o){var _=s.slice(),j=o.slice(),et=getIntersection(s[s.length-1],o[0]);return et&&(_[s.length-1]=s[s.length-1].split(et[0])[0],j[0]=o[0].split(et[1])[1]),s.length>1&&o.length>1&&(et=getIntersection(s[0],o[o.length-1]),et)?[[s[0].split(et[0])[0]],[o[o.length-1].split(et[1])[1]]]:[_,j]}function pruneIntersections(s){for(var o,_=1;_<s.length;_+=1)o=pruneSegmentIntersection(s[_-1],s[_]),s[_-1]=o[0],s[_]=o[1];return s.length>1&&(o=pruneSegmentIntersection(s[s.length-1],s[0]),s[s.length-1]=o[0],s[0]=o[1]),s}function offsetSegmentSplit(s,o){var _=s.inflectionPoints(),j,et,st,nt;if(_.length===0)return[offsetSegment(s,o)];if(_.length===1||floatEqual(_[1],1))return st=s.split(_[0]),j=st[0],et=st[1],[offsetSegment(j,o),offsetSegment(et,o)];st=s.split(_[0]),j=st[0];var ct=(_[1]-_[0])/(1-_[0]);return st=st[1].split(ct),nt=st[0],et=st[1],[offsetSegment(j,o),offsetSegment(nt,o),offsetSegment(et,o)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(s,o){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(s,o.a,0,null,this),this.miterLimit=PropertyFactory.getProp(s,o.ml,0,null,this),this.lineJoin=o.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(s,o,_,j){var et=shapePool.newElement();et.c=s.c;var st=s.length();s.c||(st-=1);var nt,ct,At,mt=[];for(nt=0;nt<st;nt+=1)At=PolynomialBezier.shapeSegment(s,nt),mt.push(offsetSegmentSplit(At,o));if(!s.c)for(nt=st-1;nt>=0;nt-=1)At=PolynomialBezier.shapeSegmentInverted(s,nt),mt.push(offsetSegmentSplit(At,o));mt=pruneIntersections(mt);var gt=null,_t=null;for(nt=0;nt<mt.length;nt+=1){var Et=mt[nt];for(_t&&(gt=joinLines(et,_t,Et[0],_,j)),_t=Et[Et.length-1],ct=0;ct<Et.length;ct+=1)At=Et[ct],gt&&pointEqual(At.points[0],gt)?et.setXYAt(At.points[1][0],At.points[1][1],"o",et.length()-1):et.setTripleAt(At.points[0][0],At.points[0][1],At.points[1][0],At.points[1][1],At.points[0][0],At.points[0][1],et.length()),et.setTripleAt(At.points[3][0],At.points[3][1],At.points[3][0],At.points[3][1],At.points[2][0],At.points[2][1],et.length()),gt=At.points[3]}return mt.length&&joinLines(et,_t,mt[0][0],_,j),et},OffsetPathModifier.prototype.processShapes=function(s){var o,_,j=this.shapes.length,et,st,nt=this.amount.v,ct=this.miterLimit.v,At=this.lineJoin;if(nt!==0){var mt,gt;for(_=0;_<j;_+=1){if(mt=this.shapes[_],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!s))for(gt.releaseShapes(),mt.shape._mdf=!0,o=mt.shape.paths.shapes,st=mt.shape.paths._length,et=0;et<st;et+=1)gt.addShape(this.processPath(o[et],nt,At,ct));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(s){for(var o=s.fStyle?s.fStyle.split(" "):[],_="normal",j="normal",et=o.length,st,nt=0;nt<et;nt+=1)switch(st=o[nt].toLowerCase(),st){case"italic":j="italic";break;case"bold":_="700";break;case"black":_="900";break;case"medium":_="500";break;case"regular":case"normal":_="400";break;case"light":case"thin":_="200";break}return{style:j,weight:s.fWeight||_}}var FontManager=function(){var s=5e3,o={w:0,size:0,shapes:[],data:{shapes:[]}},_=[];_=_.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var j=127988,et=917631,st=917601,nt=917626,ct=65039,At=8205,mt=127462,gt=127487,_t=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Et(Ko){var ru=Ko.split(","),Tn,ao=ru.length,uu=[];for(Tn=0;Tn<ao;Tn+=1)ru[Tn]!=="sans-serif"&&ru[Tn]!=="monospace"&&uu.push(ru[Tn]);return uu.join(",")}function Ct(Ko,ru){var Tn=createTag("span");Tn.setAttribute("aria-hidden",!0),Tn.style.fontFamily=ru;var ao=createTag("span");ao.innerText="giItT1WQy@!-/#",Tn.style.position="absolute",Tn.style.left="-10000px",Tn.style.top="-10000px",Tn.style.fontSize="300px",Tn.style.fontVariant="normal",Tn.style.fontStyle="normal",Tn.style.fontWeight="normal",Tn.style.letterSpacing="0",Tn.appendChild(ao),document.body.appendChild(Tn);var uu=ao.offsetWidth;return ao.style.fontFamily=Et(Ko)+", "+ru,{node:ao,w:uu,parent:Tn}}function Bt(){var Ko,ru=this.fonts.length,Tn,ao,uu=ru;for(Ko=0;Ko<ru;Ko+=1)this.fonts[Ko].loaded?uu-=1:this.fonts[Ko].fOrigin==="n"||this.fonts[Ko].origin===0?this.fonts[Ko].loaded=!0:(Tn=this.fonts[Ko].monoCase.node,ao=this.fonts[Ko].monoCase.w,Tn.offsetWidth!==ao?(uu-=1,this.fonts[Ko].loaded=!0):(Tn=this.fonts[Ko].sansCase.node,ao=this.fonts[Ko].sansCase.w,Tn.offsetWidth!==ao&&(uu-=1,this.fonts[Ko].loaded=!0)),this.fonts[Ko].loaded&&(this.fonts[Ko].sansCase.parent.parentNode.removeChild(this.fonts[Ko].sansCase.parent),this.fonts[Ko].monoCase.parent.parentNode.removeChild(this.fonts[Ko].monoCase.parent)));uu!==0&&Date.now()-this.initTime<s?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Dt(Ko,ru){var Tn=document.body&&ru?"svg":"canvas",ao,uu=getFontProperties(Ko);if(Tn==="svg"){var hu=createNS("text");hu.style.fontSize="100px",hu.setAttribute("font-family",Ko.fFamily),hu.setAttribute("font-style",uu.style),hu.setAttribute("font-weight",uu.weight),hu.textContent="1",Ko.fClass?(hu.style.fontFamily="inherit",hu.setAttribute("class",Ko.fClass)):hu.style.fontFamily=Ko.fFamily,ru.appendChild(hu),ao=hu}else{var tA=new OffscreenCanvas(500,500).getContext("2d");tA.font=uu.style+" "+uu.weight+" 100px "+Ko.fFamily,ao=tA}function Sv(W0){return Tn==="svg"?(ao.textContent=W0,ao.getComputedTextLength()):ao.measureText(W0).width}return{measureText:Sv}}function Ft(Ko,ru){if(!Ko){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ko.list;return}if(!document.body){this.isLoaded=!0,Ko.list.forEach(function(q1){q1.helper=Dt(q1),q1.cache={}}),this.fonts=Ko.list;return}var Tn=Ko.list,ao,uu=Tn.length,hu=uu;for(ao=0;ao<uu;ao+=1){var tA=!0,Sv,W0;if(Tn[ao].loaded=!1,Tn[ao].monoCase=Ct(Tn[ao].fFamily,"monospace"),Tn[ao].sansCase=Ct(Tn[ao].fFamily,"sans-serif"),!Tn[ao].fPath)Tn[ao].loaded=!0,hu-=1;else if(Tn[ao].fOrigin==="p"||Tn[ao].origin===3){if(Sv=document.querySelectorAll('style[f-forigin="p"][f-family="'+Tn[ao].fFamily+'"], style[f-origin="3"][f-family="'+Tn[ao].fFamily+'"]'),Sv.length>0&&(tA=!1),tA){var l1=createTag("style");l1.setAttribute("f-forigin",Tn[ao].fOrigin),l1.setAttribute("f-origin",Tn[ao].origin),l1.setAttribute("f-family",Tn[ao].fFamily),l1.type="text/css",l1.innerText="@font-face {font-family: "+Tn[ao].fFamily+"; font-style: normal; src: url('"+Tn[ao].fPath+"');}",ru.appendChild(l1)}}else if(Tn[ao].fOrigin==="g"||Tn[ao].origin===1){for(Sv=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W0=0;W0<Sv.length;W0+=1)Sv[W0].href.indexOf(Tn[ao].fPath)!==-1&&(tA=!1);if(tA){var X1=createTag("link");X1.setAttribute("f-forigin",Tn[ao].fOrigin),X1.setAttribute("f-origin",Tn[ao].origin),X1.type="text/css",X1.rel="stylesheet",X1.href=Tn[ao].fPath,document.body.appendChild(X1)}}else if(Tn[ao].fOrigin==="t"||Tn[ao].origin===2){for(Sv=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W0=0;W0<Sv.length;W0+=1)Tn[ao].fPath===Sv[W0].src&&(tA=!1);if(tA){var kI=createTag("link");kI.setAttribute("f-forigin",Tn[ao].fOrigin),kI.setAttribute("f-origin",Tn[ao].origin),kI.setAttribute("rel","stylesheet"),kI.setAttribute("href",Tn[ao].fPath),ru.appendChild(kI)}}Tn[ao].helper=Dt(Tn[ao],ru),Tn[ao].cache={},this.fonts.push(Tn[ao])}hu===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Rt(Ko){if(Ko){this.chars||(this.chars=[]);var ru,Tn=Ko.length,ao,uu=this.chars.length,hu;for(ru=0;ru<Tn;ru+=1){for(ao=0,hu=!1;ao<uu;)this.chars[ao].style===Ko[ru].style&&this.chars[ao].fFamily===Ko[ru].fFamily&&this.chars[ao].ch===Ko[ru].ch&&(hu=!0),ao+=1;hu||(this.chars.push(Ko[ru]),uu+=1)}}}function Nt(Ko,ru,Tn){for(var ao=0,uu=this.chars.length;ao<uu;){if(this.chars[ao].ch===Ko&&this.chars[ao].style===ru&&this.chars[ao].fFamily===Tn)return this.chars[ao];ao+=1}return(typeof Ko=="string"&&Ko.charCodeAt(0)!==13||!Ko)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ko,ru,Tn)),o}function Gt(Ko,ru,Tn){var ao=this.getFontByName(ru),uu=Ko;if(!ao.cache[uu]){var hu=ao.helper;if(Ko===" "){var tA=hu.measureText("|"+Ko+"|"),Sv=hu.measureText("||");ao.cache[uu]=(tA-Sv)/100}else ao.cache[uu]=hu.measureText(Ko)/100}return ao.cache[uu]*Tn}function dr(Ko){for(var ru=0,Tn=this.fonts.length;ru<Tn;){if(this.fonts[ru].fName===Ko)return this.fonts[ru];ru+=1}return this.fonts[0]}function ts(Ko){var ru=0,Tn=Ko.charCodeAt(0);if(Tn>=55296&&Tn<=56319){var ao=Ko.charCodeAt(1);ao>=56320&&ao<=57343&&(ru=(Tn-55296)*1024+ao-56320+65536)}return ru}function es(Ko,ru){var Tn=Ko.toString(16)+ru.toString(16);return _t.indexOf(Tn)!==-1}function ds(Ko){return Ko===At}function tn(Ko){return Ko===ct}function rn(Ko){var ru=ts(Ko);return ru>=mt&&ru<=gt}function un(Ko){return rn(Ko.substr(0,2))&&rn(Ko.substr(2,2))}function $n(Ko){return _.indexOf(Ko)!==-1}function kn(Ko,ru){var Tn=ts(Ko.substr(ru,2));if(Tn!==j)return!1;var ao=0;for(ru+=2;ao<5;){if(Tn=ts(Ko.substr(ru,2)),Tn<st||Tn>nt)return!1;ao+=1,ru+=2}return ts(Ko.substr(ru,2))===et}function lo(){this.isLoaded=!0}var Il=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Il.isModifier=es,Il.isZeroWidthJoiner=ds,Il.isFlagEmoji=un,Il.isRegionalCode=rn,Il.isCombinedCharacter=$n,Il.isRegionalFlag=kn,Il.isVariationSelector=tn,Il.BLACK_FLAG_CODE_POINT=j;var cu={addChars:Rt,addFonts:Ft,getCharData:Nt,getFontByName:dr,measureText:Gt,checkLoadedFonts:Bt,setIsLoaded:lo};return Il.prototype=cu,Il}();function SlotManager(s){this.animationData=s}SlotManager.prototype.getProp=function(s){return this.animationData.slots&&this.animationData.slots[s.sid]?Object.assign(s,this.animationData.slots[s.sid].p):s};function slotFactory(s){return new SlotManager(s)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(o){this.renderableComponents.indexOf(o)===-1&&this.renderableComponents.push(o)},removeRenderableComponent:function(o){this.renderableComponents.indexOf(o)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(o),1)},prepareRenderableFrame:function(o){this.checkLayerLimits(o)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(o){this.data.ip-this.data.st<=o&&this.data.op-this.data.st>o?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var o,_=this.renderableComponents.length;for(o=0;o<_;o+=1)this.renderableComponents[o].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var s={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(o){return s[o]||""}}();function SliderEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,0,0,_)}function AngleEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,0,0,_)}function ColorEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,1,0,_)}function PointEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,1,0,_)}function LayerIndexEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,0,0,_)}function MaskIndexEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,0,0,_)}function CheckboxEffect(s,o,_){this.p=PropertyFactory.getProp(o,s.v,0,0,_)}function NoValueEffect(){this.p={}}function EffectsManager(s,o){var _=s.ef||[];this.effectElements=[];var j,et=_.length,st;for(j=0;j<et;j+=1)st=new GroupEffect(_[j],o),this.effectElements.push(st)}function GroupEffect(s,o){this.init(s,o)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(s,o){this.data=s,this.effectElements=[],this.initDynamicPropertyContainer(o);var _,j=this.data.ef.length,et,st=this.data.ef;for(_=0;_<j;_+=1){switch(et=null,st[_].ty){case 0:et=new SliderEffect(st[_],o,this);break;case 1:et=new AngleEffect(st[_],o,this);break;case 2:et=new ColorEffect(st[_],o,this);break;case 3:et=new PointEffect(st[_],o,this);break;case 4:case 7:et=new CheckboxEffect(st[_],o,this);break;case 10:et=new LayerIndexEffect(st[_],o,this);break;case 11:et=new MaskIndexEffect(st[_],o,this);break;case 5:et=new EffectsManager(st[_],o);break;default:et=new NoValueEffect(st[_]);break}et&&this.effectElements.push(et)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var o=0,_=this.data.masksProperties.length;o<_;){if(this.data.masksProperties[o].mode!=="n"&&this.data.masksProperties[o].cl!==!1)return!0;o+=1}return!1},initExpressions:function(){var o=getExpressionInterfaces();if(o){var _=o("layer"),j=o("effects"),et=o("shape"),st=o("text"),nt=o("comp");this.layerInterface=_(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ct=j.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ct),this.data.ty===0||this.data.xt?this.compInterface=nt(this):this.data.ty===4?(this.layerInterface.shapeInterface=et(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=st(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var o=getBlendMode(this.data.bm),_=this.baseElement||this.layerElement;_.style["mix-blend-mode"]=o},initBaseData:function(o,_,j){this.globalData=_,this.comp=j,this.data=o,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(o,_){var j,et=this.dynamicProperties.length;for(j=0;j<et;j+=1)(_||this._isParent&&this.dynamicProperties[j].propType==="transform")&&(this.dynamicProperties[j].getValue(),this.dynamicProperties[j]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(o){this.dynamicProperties.indexOf(o)===-1&&this.dynamicProperties.push(o)}};function FootageElement(s,o,_){this.initFrame(),this.initRenderable(),this.assetData=o.getAssetData(s.refId),this.footageData=o.imageLoader.getAsset(this.assetData),this.initBaseData(s,o,_)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var s=getExpressionInterfaces();if(s){var o=s("footage");this.layerInterface=o(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(s,o,_){this.initFrame(),this.initRenderable(),this.assetData=o.getAssetData(s.refId),this.initBaseData(s,o,_),this._isPlaying=!1,this._canPlay=!1;var j=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(j),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,o.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,s.au&&s.au.lv?s.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(s){if(this.prepareRenderableFrame(s,!0),this.prepareProperties(s,!0),this.tm._placeholder)this._currentTime=s/this.data.sr;else{var o=this.tm.v;this._currentTime=o}this._volume=this.lv.v[0];var _=this._volume*this._volumeMultiplier;this._previousVolume!==_&&(this._previousVolume=_,this.audio.volume(_))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(s){this.audio.rate(s)},AudioElement.prototype.volume=function(s){this._volumeMultiplier=s,this._previousVolume=s*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(s){var o,_=this.layers.length,j;for(this.completeLayers=!0,o=_-1;o>=0;o-=1)this.elements[o]||(j=this.layers[o],j.ip-j.st<=s-this.layers[o].st&&j.op-j.st>s-this.layers[o].st&&this.buildItem(o)),this.completeLayers=this.elements[o]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(s){switch(s.ty){case 2:return this.createImage(s);case 0:return this.createComp(s);case 1:return this.createSolid(s);case 3:return this.createNull(s);case 4:return this.createShape(s);case 5:return this.createText(s);case 6:return this.createAudio(s);case 13:return this.createCamera(s);case 15:return this.createFootage(s);default:return this.createNull(s)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(s){return new AudioElement(s,this.globalData,this)},BaseRenderer.prototype.createFootage=function(s){return new FootageElement(s,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var s,o=this.layers.length;for(s=0;s<o;s+=1)this.buildItem(s);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(s){this.completeLayers=!1;var o,_=s.length,j,et=this.layers.length;for(o=0;o<_;o+=1)for(j=0;j<et;){if(this.layers[j].id===s[o].id){this.layers[j]=s[o];break}j+=1}},BaseRenderer.prototype.setProjectInterface=function(s){this.globalData.projectInterface=s},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(s,o,_){for(var j=this.elements,et=this.layers,st=0,nt=et.length;st<nt;)et[st].ind==o&&(!j[st]||j[st]===!0?(this.buildItem(st),this.addPendingElement(s)):(_.push(j[st]),j[st].setAsParent(),et[st].parent!==void 0?this.buildElementParenting(s,et[st].parent,_):s.setHierarchy(_))),st+=1},BaseRenderer.prototype.addPendingElement=function(s){this.pendingElements.push(s)},BaseRenderer.prototype.searchExtraCompositions=function(s){var o,_=s.length;for(o=0;o<_;o+=1)if(s[o].xt){var j=this.createComp(s[o]);j.initExpressions(),this.globalData.projectInterface.registerComposition(j)}},BaseRenderer.prototype.getElementById=function(s){var o,_=this.elements.length;for(o=0;o<_;o+=1)if(this.elements[o].data.ind===s)return this.elements[o];return null},BaseRenderer.prototype.getElementByPath=function(s){var o=s.shift(),_;if(typeof o=="number")_=this.elements[o];else{var j,et=this.elements.length;for(j=0;j<et;j+=1)if(this.elements[j].data.nm===o){_=this.elements[j];break}}return s.length===0?_:_.getElementByPath(s)},BaseRenderer.prototype.setupGlobalData=function(s,o){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(s),this.globalData.fontManager.addChars(s.chars),this.globalData.fontManager.addFonts(s.fonts,o),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=s.fr,this.globalData.nm=s.nm,this.globalData.compSize={w:s.w,h:s.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var o=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:o,localMat:o,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var o,_=this.finalTransform.mat,j=0,et=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;j<et;){if(this.hierarchy[j].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}j+=1}if(this.finalTransform._matMdf)for(o=this.finalTransform.mProp.v.props,_.cloneFromProps(o),j=0;j<et;j+=1)_.multiply(this.hierarchy[j].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var o=0,_=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;o<_;)this.localTransforms[o]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[o]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),o+=1;if(this.finalTransform._localMatMdf){var j=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(j),o=1;o<_;o+=1){var et=this.localTransforms[o].matrix;j.multiply(et)}j.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var st=this.finalTransform.localOpacity;for(o=0;o<_;o+=1)st*=this.localTransforms[o].opacity*.01;this.finalTransform.localOpacity=st}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var o=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(o.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var _=0,j=o.length;for(_=0;_<j;_+=1)this.localTransforms.push(o[_])}}},globalToLocal:function(o){var _=[];_.push(this.finalTransform);for(var j=!0,et=this.comp;j;)et.finalTransform?(et.data.hasMask&&_.splice(0,0,et.finalTransform),et=et.comp):j=!1;var st,nt=_.length,ct;for(st=0;st<nt;st+=1)ct=_[st].mat.applyToPointArray(0,0,0),o=[o[0]-ct[0],o[1]-ct[1],0];return o},mHelper:new Matrix};function MaskElement(s,o,_){this.data=s,this.element=o,this.globalData=_,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var j=this.globalData.defs,et,st=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(st),this.solidPath="";var nt,ct=this.masksProperties,At=0,mt=[],gt,_t,Et=createElementID(),Ct,Bt,Dt,Ft,Rt="clipPath",Nt="clip-path";for(et=0;et<st;et+=1)if((ct[et].mode!=="a"&&ct[et].mode!=="n"||ct[et].inv||ct[et].o.k!==100||ct[et].o.x)&&(Rt="mask",Nt="mask"),(ct[et].mode==="s"||ct[et].mode==="i")&&At===0?(Ct=createNS("rect"),Ct.setAttribute("fill","#ffffff"),Ct.setAttribute("width",this.element.comp.data.w||0),Ct.setAttribute("height",this.element.comp.data.h||0),mt.push(Ct)):Ct=null,nt=createNS("path"),ct[et].mode==="n")this.viewData[et]={op:PropertyFactory.getProp(this.element,ct[et].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ct[et],3),elem:nt,lastPath:""},j.appendChild(nt);else{At+=1,nt.setAttribute("fill",ct[et].mode==="s"?"#000000":"#ffffff"),nt.setAttribute("clip-rule","nonzero");var Gt;if(ct[et].x.k!==0?(Rt="mask",Nt="mask",Ft=PropertyFactory.getProp(this.element,ct[et].x,0,null,this.element),Gt=createElementID(),Bt=createNS("filter"),Bt.setAttribute("id",Gt),Dt=createNS("feMorphology"),Dt.setAttribute("operator","erode"),Dt.setAttribute("in","SourceGraphic"),Dt.setAttribute("radius","0"),Bt.appendChild(Dt),j.appendChild(Bt),nt.setAttribute("stroke",ct[et].mode==="s"?"#000000":"#ffffff")):(Dt=null,Ft=null),this.storedData[et]={elem:nt,x:Ft,expan:Dt,lastPath:"",lastOperator:"",filterId:Gt,lastRadius:0},ct[et].mode==="i"){_t=mt.length;var dr=createNS("g");for(gt=0;gt<_t;gt+=1)dr.appendChild(mt[gt]);var ts=createNS("mask");ts.setAttribute("mask-type","alpha"),ts.setAttribute("id",Et+"_"+At),ts.appendChild(nt),j.appendChild(ts),dr.setAttribute("mask","url("+getLocationHref()+"#"+Et+"_"+At+")"),mt.length=0,mt.push(dr)}else mt.push(nt);ct[et].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[et]={elem:nt,lastPath:"",op:PropertyFactory.getProp(this.element,ct[et].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ct[et],3),invRect:Ct},this.viewData[et].prop.k||this.drawPath(ct[et],this.viewData[et].prop.v,this.viewData[et])}for(this.maskElement=createNS(Rt),st=mt.length,et=0;et<st;et+=1)this.maskElement.appendChild(mt[et]);At>0&&(this.maskElement.setAttribute("id",Et),this.element.maskedElement.setAttribute(Nt,"url("+getLocationHref()+"#"+Et+")"),j.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(s){return this.viewData[s].prop},MaskElement.prototype.renderFrame=function(s){var o=this.element.finalTransform.mat,_,j=this.masksProperties.length;for(_=0;_<j;_+=1)if((this.viewData[_].prop._mdf||s)&&this.drawPath(this.masksProperties[_],this.viewData[_].prop.v,this.viewData[_]),(this.viewData[_].op._mdf||s)&&this.viewData[_].elem.setAttribute("fill-opacity",this.viewData[_].op.v),this.masksProperties[_].mode!=="n"&&(this.viewData[_].invRect&&(this.element.finalTransform.mProp._mdf||s)&&this.viewData[_].invRect.setAttribute("transform",o.getInverseMatrix().to2dCSS()),this.storedData[_].x&&(this.storedData[_].x._mdf||s))){var et=this.storedData[_].expan;this.storedData[_].x.v<0?(this.storedData[_].lastOperator!=="erode"&&(this.storedData[_].lastOperator="erode",this.storedData[_].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_].filterId+")")),et.setAttribute("radius",-this.storedData[_].x.v)):(this.storedData[_].lastOperator!=="dilate"&&(this.storedData[_].lastOperator="dilate",this.storedData[_].elem.setAttribute("filter",null)),this.storedData[_].elem.setAttribute("stroke-width",this.storedData[_].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var s="M0,0 ";return s+=" h"+this.globalData.compSize.w,s+=" v"+this.globalData.compSize.h,s+=" h-"+this.globalData.compSize.w,s+=" v-"+this.globalData.compSize.h+" ",s},MaskElement.prototype.drawPath=function(s,o,_){var j=" M"+o.v[0][0]+","+o.v[0][1],et,st;for(st=o._length,et=1;et<st;et+=1)j+=" C"+o.o[et-1][0]+","+o.o[et-1][1]+" "+o.i[et][0]+","+o.i[et][1]+" "+o.v[et][0]+","+o.v[et][1];if(o.c&&st>1&&(j+=" C"+o.o[et-1][0]+","+o.o[et-1][1]+" "+o.i[0][0]+","+o.i[0][1]+" "+o.v[0][0]+","+o.v[0][1]),_.lastPath!==j){var nt="";_.elem&&(o.c&&(nt=s.inv?this.solidPath+j:j),_.elem.setAttribute("d",nt)),_.lastPath=j}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var s={};s.createFilter=o,s.createAlphaToLuminanceFilter=_;function o(j,et){var st=createNS("filter");return st.setAttribute("id",j),et!==!0&&(st.setAttribute("filterUnits","objectBoundingBox"),st.setAttribute("x","0%"),st.setAttribute("y","0%"),st.setAttribute("width","100%"),st.setAttribute("height","100%")),st}function _(){var j=createNS("feColorMatrix");return j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","sRGB"),j.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),j}return s}(),featureSupport=function(){var s={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(s.maskType=!1),/firefox/i.test(navigator.userAgent)&&(s.svgLumaHidden=!1),s}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(s){var o,_="SourceGraphic",j=s.data.ef?s.data.ef.length:0,et=createElementID(),st=filtersFactory.createFilter(et,!0),nt=0;this.filters=[];var ct;for(o=0;o<j;o+=1){ct=null;var At=s.data.ef[o].ty;if(registeredEffects$1[At]){var mt=registeredEffects$1[At].effect;ct=new mt(st,s.effectsManager.effectElements[o],s,idPrefix+nt,_),_=idPrefix+nt,registeredEffects$1[At].countsAsEffect&&(nt+=1)}ct&&this.filters.push(ct)}nt&&(s.globalData.defs.appendChild(st),s.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+et+")")),this.filters.length&&s.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(s){var o,_=this.filters.length;for(o=0;o<_;o+=1)this.filters[o].renderFrame(s)},SVGEffects.prototype.getEffects=function(s){var o,_=this.filters.length,j=[];for(o=0;o<_;o+=1)this.filters[o].type===s&&j.push(this.filters[o]);return j};function registerEffect$1(s,o,_){registeredEffects$1[s]={effect:o,countsAsEffect:_}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var o=null;if(this.data.td){this.matteMasks={};var _=createNS("g");_.setAttribute("id",this.layerId),_.appendChild(this.layerElement),o=_,this.globalData.defs.appendChild(_)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var j=createNS("clipPath"),et=createNS("path");et.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var st=createElementID();if(j.setAttribute("id",st),j.appendChild(et),this.globalData.defs.appendChild(j),this.checkMasks()){var nt=createNS("g");nt.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")"),nt.appendChild(this.layerElement),this.transformedElement=nt,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(o){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[o]){var _=this.layerId+"_"+o,j,et,st,nt;if(o===1||o===3){var ct=createNS("mask");ct.setAttribute("id",_),ct.setAttribute("mask-type",o===3?"luminance":"alpha"),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ct.appendChild(st),this.globalData.defs.appendChild(ct),!featureSupport.maskType&&o===1&&(ct.setAttribute("mask-type","luminance"),j=createElementID(),et=filtersFactory.createFilter(j),this.globalData.defs.appendChild(et),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),nt=createNS("g"),nt.appendChild(st),ct.appendChild(nt),nt.setAttribute("filter","url("+getLocationHref()+"#"+j+")"))}else if(o===2){var At=createNS("mask");At.setAttribute("id",_),At.setAttribute("mask-type","alpha");var mt=createNS("g");At.appendChild(mt),j=createElementID(),et=filtersFactory.createFilter(j);var gt=createNS("feComponentTransfer");gt.setAttribute("in","SourceGraphic"),et.appendChild(gt);var _t=createNS("feFuncA");_t.setAttribute("type","table"),_t.setAttribute("tableValues","1.0 0.0"),gt.appendChild(_t),this.globalData.defs.appendChild(et);var Et=createNS("rect");Et.setAttribute("width",this.comp.data.w),Et.setAttribute("height",this.comp.data.h),Et.setAttribute("x","0"),Et.setAttribute("y","0"),Et.setAttribute("fill","#ffffff"),Et.setAttribute("opacity","0"),mt.setAttribute("filter","url("+getLocationHref()+"#"+j+")"),mt.appendChild(Et),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),mt.appendChild(st),featureSupport.maskType||(At.setAttribute("mask-type","luminance"),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),nt=createNS("g"),mt.appendChild(Et),nt.appendChild(this.layerElement),mt.appendChild(nt)),this.globalData.defs.appendChild(At)}this.matteMasks[o]=_}return this.matteMasks[o]},setMatte:function(o){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+o+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(o){this.hierarchy=o},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var s={initElement:function(_,j,et){this.initFrame(),this.initBaseData(_,j,et),this.initTransform(_,j,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var _=this.baseElement||this.layerElement;_.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var _=this.baseElement||this.layerElement;_.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_){this._mdf=!1,this.prepareRenderableFrame(_),this.prepareProperties(_,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(s)],RenderableDOMElement)})();function IImageElement(s,o,_){this.assetData=o.getAssetData(s.refId),this.assetData&&this.assetData.sid&&(this.assetData=o.slotManager.getProp(this.assetData)),this.initElement(s,o,_),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var s=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(s,o){this.elem=s,this.pos=o}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(o){var _,j=this.shapeModifiers.length;for(_=0;_<j;_+=1)this.shapeModifiers[_].addShape(o)},isShapeInAnimatedModifiers:function(o){for(var _=0,j=this.shapeModifiers.length;_<j;)if(this.shapeModifiers[_].isAnimatedWithShape(o))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var o,_=this.shapes.length;for(o=0;o<_;o+=1)this.shapes[o].sh.reset();_=this.shapeModifiers.length;var j;for(o=_-1;o>=0&&(j=this.shapeModifiers[o].processShapes(this._isFirstFrame),!j);o-=1);}},searchProcessedElement:function(o){for(var _=this.processedElements,j=0,et=_.length;j<et;){if(_[j].elem===o)return _[j].pos;j+=1}return 0},addProcessedElement:function(o,_){for(var j=this.processedElements,et=j.length;et;)if(et-=1,j[et].elem===o){j[et].pos=_;return}j.push(new ProcessedElement(o,_))},prepareFrame:function(o){this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(s,o,_){this.caches=[],this.styles=[],this.transformers=s,this.lStr="",this.sh=_,this.lvl=o,this._isAnimated=!!_.k;for(var j=0,et=s.length;j<et;){if(s[j].mProps.dynamicProperties.length){this._isAnimated=!0;break}j+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(s,o){this.data=s,this.type=s.ty,this.d="",this.lvl=o,this._mdf=!1,this.closed=s.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(s,o,_,j){this.elem=s,this.frameId=-1,this.dataProps=createSizedArray(o.length),this.renderer=_,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",o.length?o.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(j);var et,st=o.length||0,nt;for(et=0;et<st;et+=1)nt=PropertyFactory.getProp(s,o[et].v,0,0,this),this.k=nt.k||this.k,this.dataProps[et]={n:o[et].n,p:nt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(s){if(!(this.elem.globalData.frameId===this.frameId&&!s)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||s,this._mdf)){var o=0,_=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),o=0;o<_;o+=1)this.dataProps[o].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[o].p.v:this.dashArray[o]=this.dataProps[o].p.v:this.dashoffset[0]=this.dataProps[o].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(s,o,_){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(s,o.o,0,.01,this),this.w=PropertyFactory.getProp(s,o.w,0,null,this),this.d=new DashProperty(s,o.d||{},"svg",this),this.c=PropertyFactory.getProp(s,o.c,1,255,this),this.style=_,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(s,o,_){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(s,o.o,0,.01,this),this.c=PropertyFactory.getProp(s,o.c,1,255,this),this.style=_}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(s,o,_){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.style=_}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(s,o,_){this.data=o,this.c=createTypedArray("uint8c",o.p*4);var j=o.k.k[0].s?o.k.k[0].s.length-o.p*4:o.k.k.length-o.p*4;this.o=createTypedArray("float32",j),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=j,this.initDynamicPropertyContainer(_),this.prop=PropertyFactory.getProp(s,o.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(s,o){for(var _=0,j=this.o.length/2,et;_<j;){if(et=Math.abs(s[_*4]-s[o*4+_*2]),et>.01)return!1;_+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var s=0,o=this.data.k.k.length;s<o;){if(!this.comparePoints(this.data.k.k[s].s,this.data.p))return!1;s+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(s){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||s){var o,_=this.data.p*4,j,et;for(o=0;o<_;o+=1)j=o%4===0?100:255,et=Math.round(this.prop.v[o]*j),this.c[o]!==et&&(this.c[o]=et,this._cmdf=!s);if(this.o.length)for(_=this.prop.v.length,o=this.data.p*4;o<_;o+=1)j=o%2===0?100:1,et=o%2===0?Math.round(this.prop.v[o]*100):this.prop.v[o],this.o[o-this.data.p*4]!==et&&(this.o[o-this.data.p*4]=et,this._omdf=!s);this._mdf=!s}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(s,o,_){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.initGradientData(s,o,_)}SVGGradientFillStyleData.prototype.initGradientData=function(s,o,_){this.o=PropertyFactory.getProp(s,o.o,0,.01,this),this.s=PropertyFactory.getProp(s,o.s,1,null,this),this.e=PropertyFactory.getProp(s,o.e,1,null,this),this.h=PropertyFactory.getProp(s,o.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(s,o.a||{k:0},0,degToRads,this),this.g=new GradientProperty(s,o.g,this),this.style=_,this.stops=[],this.setGradientData(_.pElem,o),this.setGradientOpacity(o,_),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(s,o){var _=createElementID(),j=createNS(o.t===1?"linearGradient":"radialGradient");j.setAttribute("id",_),j.setAttribute("spreadMethod","pad"),j.setAttribute("gradientUnits","userSpaceOnUse");var et=[],st,nt,ct;for(ct=o.g.p*4,nt=0;nt<ct;nt+=4)st=createNS("stop"),j.appendChild(st),et.push(st);s.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+_+")"),this.gf=j,this.cst=et},SVGGradientFillStyleData.prototype.setGradientOpacity=function(s,o){if(this.g._hasOpacity&&!this.g._collapsable){var _,j,et,st=createNS("mask"),nt=createNS("path");st.appendChild(nt);var ct=createElementID(),At=createElementID();st.setAttribute("id",At);var mt=createNS(s.t===1?"linearGradient":"radialGradient");mt.setAttribute("id",ct),mt.setAttribute("spreadMethod","pad"),mt.setAttribute("gradientUnits","userSpaceOnUse"),et=s.g.k.k[0].s?s.g.k.k[0].s.length:s.g.k.k.length;var gt=this.stops;for(j=s.g.p*4;j<et;j+=2)_=createNS("stop"),_.setAttribute("stop-color","rgb(255,255,255)"),mt.appendChild(_),gt.push(_);nt.setAttribute(s.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ct+")"),s.ty==="gs"&&(nt.setAttribute("stroke-linecap",lineCapEnum[s.lc||2]),nt.setAttribute("stroke-linejoin",lineJoinEnum[s.lj||2]),s.lj===1&&nt.setAttribute("stroke-miterlimit",s.ml)),this.of=mt,this.ms=st,this.ost=gt,this.maskId=At,o.msElem=nt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(s,o,_){this.initDynamicPropertyContainer(s),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(s,o.w,0,null,this),this.d=new DashProperty(s,o.d||{},"svg",this),this.initGradientData(s,o,_),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(s,o,_){this.transform={mProps:s,op:o,container:_},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(o,_,j,et){if(_===0)return"";var st=o.o,nt=o.i,ct=o.v,At,mt=" M"+et.applyToPointStringified(ct[0][0],ct[0][1]);for(At=1;At<_;At+=1)mt+=" C"+et.applyToPointStringified(st[At-1][0],st[At-1][1])+" "+et.applyToPointStringified(nt[At][0],nt[At][1])+" "+et.applyToPointStringified(ct[At][0],ct[At][1]);return j&&_&&(mt+=" C"+et.applyToPointStringified(st[At-1][0],st[At-1][1])+" "+et.applyToPointStringified(nt[0][0],nt[0][1])+" "+et.applyToPointStringified(ct[0][0],ct[0][1]),mt+="z"),mt},SVGElementsRenderer=function(){var s=new Matrix,o=new Matrix,_={createRenderFunction:j};function j(_t){switch(_t.ty){case"fl":return ct;case"gf":return mt;case"gs":return At;case"st":return gt;case"sh":case"el":case"rc":case"sr":return nt;case"tr":return et;case"no":return st;default:return null}}function et(_t,Et,Ct){(Ct||Et.transform.op._mdf)&&Et.transform.container.setAttribute("opacity",Et.transform.op.v),(Ct||Et.transform.mProps._mdf)&&Et.transform.container.setAttribute("transform",Et.transform.mProps.v.to2dCSS())}function st(){}function nt(_t,Et,Ct){var Bt,Dt,Ft,Rt,Nt,Gt,dr=Et.styles.length,ts=Et.lvl,es,ds,tn,rn;for(Gt=0;Gt<dr;Gt+=1){if(Rt=Et.sh._mdf||Ct,Et.styles[Gt].lvl<ts){for(ds=o.reset(),tn=ts-Et.styles[Gt].lvl,rn=Et.transformers.length-1;!Rt&&tn>0;)Rt=Et.transformers[rn].mProps._mdf||Rt,tn-=1,rn-=1;if(Rt)for(tn=ts-Et.styles[Gt].lvl,rn=Et.transformers.length-1;tn>0;)ds.multiply(Et.transformers[rn].mProps.v),tn-=1,rn-=1}else ds=s;if(es=Et.sh.paths,Dt=es._length,Rt){for(Ft="",Bt=0;Bt<Dt;Bt+=1)Nt=es.shapes[Bt],Nt&&Nt._length&&(Ft+=buildShapeString(Nt,Nt._length,Nt.c,ds));Et.caches[Gt]=Ft}else Ft=Et.caches[Gt];Et.styles[Gt].d+=_t.hd===!0?"":Ft,Et.styles[Gt]._mdf=Rt||Et.styles[Gt]._mdf}}function ct(_t,Et,Ct){var Bt=Et.style;(Et.c._mdf||Ct)&&Bt.pElem.setAttribute("fill","rgb("+bmFloor(Et.c.v[0])+","+bmFloor(Et.c.v[1])+","+bmFloor(Et.c.v[2])+")"),(Et.o._mdf||Ct)&&Bt.pElem.setAttribute("fill-opacity",Et.o.v)}function At(_t,Et,Ct){mt(_t,Et,Ct),gt(_t,Et,Ct)}function mt(_t,Et,Ct){var Bt=Et.gf,Dt=Et.g._hasOpacity,Ft=Et.s.v,Rt=Et.e.v;if(Et.o._mdf||Ct){var Nt=_t.ty==="gf"?"fill-opacity":"stroke-opacity";Et.style.pElem.setAttribute(Nt,Et.o.v)}if(Et.s._mdf||Ct){var Gt=_t.t===1?"x1":"cx",dr=Gt==="x1"?"y1":"cy";Bt.setAttribute(Gt,Ft[0]),Bt.setAttribute(dr,Ft[1]),Dt&&!Et.g._collapsable&&(Et.of.setAttribute(Gt,Ft[0]),Et.of.setAttribute(dr,Ft[1]))}var ts,es,ds,tn;if(Et.g._cmdf||Ct){ts=Et.cst;var rn=Et.g.c;for(ds=ts.length,es=0;es<ds;es+=1)tn=ts[es],tn.setAttribute("offset",rn[es*4]+"%"),tn.setAttribute("stop-color","rgb("+rn[es*4+1]+","+rn[es*4+2]+","+rn[es*4+3]+")")}if(Dt&&(Et.g._omdf||Ct)){var un=Et.g.o;for(Et.g._collapsable?ts=Et.cst:ts=Et.ost,ds=ts.length,es=0;es<ds;es+=1)tn=ts[es],Et.g._collapsable||tn.setAttribute("offset",un[es*2]+"%"),tn.setAttribute("stop-opacity",un[es*2+1])}if(_t.t===1)(Et.e._mdf||Ct)&&(Bt.setAttribute("x2",Rt[0]),Bt.setAttribute("y2",Rt[1]),Dt&&!Et.g._collapsable&&(Et.of.setAttribute("x2",Rt[0]),Et.of.setAttribute("y2",Rt[1])));else{var $n;if((Et.s._mdf||Et.e._mdf||Ct)&&($n=Math.sqrt(Math.pow(Ft[0]-Rt[0],2)+Math.pow(Ft[1]-Rt[1],2)),Bt.setAttribute("r",$n),Dt&&!Et.g._collapsable&&Et.of.setAttribute("r",$n)),Et.e._mdf||Et.h._mdf||Et.a._mdf||Ct){$n||($n=Math.sqrt(Math.pow(Ft[0]-Rt[0],2)+Math.pow(Ft[1]-Rt[1],2)));var kn=Math.atan2(Rt[1]-Ft[1],Rt[0]-Ft[0]),lo=Et.h.v;lo>=1?lo=.99:lo<=-1&&(lo=-.99);var Il=$n*lo,cu=Math.cos(kn+Et.a.v)*Il+Ft[0],Ko=Math.sin(kn+Et.a.v)*Il+Ft[1];Bt.setAttribute("fx",cu),Bt.setAttribute("fy",Ko),Dt&&!Et.g._collapsable&&(Et.of.setAttribute("fx",cu),Et.of.setAttribute("fy",Ko))}}}function gt(_t,Et,Ct){var Bt=Et.style,Dt=Et.d;Dt&&(Dt._mdf||Ct)&&Dt.dashStr&&(Bt.pElem.setAttribute("stroke-dasharray",Dt.dashStr),Bt.pElem.setAttribute("stroke-dashoffset",Dt.dashoffset[0])),Et.c&&(Et.c._mdf||Ct)&&Bt.pElem.setAttribute("stroke","rgb("+bmFloor(Et.c.v[0])+","+bmFloor(Et.c.v[1])+","+bmFloor(Et.c.v[2])+")"),(Et.o._mdf||Ct)&&Bt.pElem.setAttribute("stroke-opacity",Et.o.v),(Et.w._mdf||Ct)&&(Bt.pElem.setAttribute("stroke-width",Et.w.v),Bt.msElem&&Bt.msElem.setAttribute("stroke-width",Et.w.v))}return _}();function SVGShapeElement(s,o,_){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(s,o,_),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var s,o=this.shapes.length,_,j,et=this.stylesList.length,st,nt=[],ct=!1;for(j=0;j<et;j+=1){for(st=this.stylesList[j],ct=!1,nt.length=0,s=0;s<o;s+=1)_=this.shapes[s],_.styles.indexOf(st)!==-1&&(nt.push(_),ct=_._isAnimated||ct);nt.length>1&&ct&&this.setShapesAsAnimated(nt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(s){var o,_=s.length;for(o=0;o<_;o+=1)s[o].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(s,o){var _,j=new SVGStyleData(s,o),et=j.pElem;if(s.ty==="st")_=new SVGStrokeStyleData(this,s,j);else if(s.ty==="fl")_=new SVGFillStyleData(this,s,j);else if(s.ty==="gf"||s.ty==="gs"){var st=s.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;_=new st(this,s,j),this.globalData.defs.appendChild(_.gf),_.maskId&&(this.globalData.defs.appendChild(_.ms),this.globalData.defs.appendChild(_.of),et.setAttribute("mask","url("+getLocationHref()+"#"+_.maskId+")"))}else s.ty==="no"&&(_=new SVGNoStyleData(this,s,j));return(s.ty==="st"||s.ty==="gs")&&(et.setAttribute("stroke-linecap",lineCapEnum[s.lc||2]),et.setAttribute("stroke-linejoin",lineJoinEnum[s.lj||2]),et.setAttribute("fill-opacity","0"),s.lj===1&&et.setAttribute("stroke-miterlimit",s.ml)),s.r===2&&et.setAttribute("fill-rule","evenodd"),s.ln&&et.setAttribute("id",s.ln),s.cl&&et.setAttribute("class",s.cl),s.bm&&(et.style["mix-blend-mode"]=getBlendMode(s.bm)),this.stylesList.push(j),this.addToAnimatedContents(s,_),_},SVGShapeElement.prototype.createGroupElement=function(s){var o=new ShapeGroupData;return s.ln&&o.gr.setAttribute("id",s.ln),s.cl&&o.gr.setAttribute("class",s.cl),s.bm&&(o.gr.style["mix-blend-mode"]=getBlendMode(s.bm)),o},SVGShapeElement.prototype.createTransformElement=function(s,o){var _=TransformPropertyFactory.getTransformProperty(this,s,this),j=new SVGTransformData(_,_.o,o);return this.addToAnimatedContents(s,j),j},SVGShapeElement.prototype.createShapeElement=function(s,o,_){var j=4;s.ty==="rc"?j=5:s.ty==="el"?j=6:s.ty==="sr"&&(j=7);var et=ShapePropertyFactory.getShapeProp(this,s,j,this),st=new SVGShapeData(o,_,et);return this.shapes.push(st),this.addShapeToModifiers(st),this.addToAnimatedContents(s,st),st},SVGShapeElement.prototype.addToAnimatedContents=function(s,o){for(var _=0,j=this.animatedContents.length;_<j;){if(this.animatedContents[_].element===o)return;_+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(s),element:o,data:s})},SVGShapeElement.prototype.setElementStyles=function(s){var o=s.styles,_,j=this.stylesList.length;for(_=0;_<j;_+=1)this.stylesList[_].closed||o.push(this.stylesList[_])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var s,o=this.itemsData.length;for(s=0;s<o;s+=1)this.prevViewData[s]=this.itemsData[s];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),o=this.dynamicProperties.length,s=0;s<o;s+=1)this.dynamicProperties[s].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(s,o,_,j,et,st,nt){var ct=[].concat(st),At,mt=s.length-1,gt,_t,Et=[],Ct=[],Bt,Dt,Ft;for(At=mt;At>=0;At-=1){if(Ft=this.searchProcessedElement(s[At]),Ft?o[At]=_[Ft-1]:s[At]._render=nt,s[At].ty==="fl"||s[At].ty==="st"||s[At].ty==="gf"||s[At].ty==="gs"||s[At].ty==="no")Ft?o[At].style.closed=!1:o[At]=this.createStyleElement(s[At],et),s[At]._render&&o[At].style.pElem.parentNode!==j&&j.appendChild(o[At].style.pElem),Et.push(o[At].style);else if(s[At].ty==="gr"){if(!Ft)o[At]=this.createGroupElement(s[At]);else for(_t=o[At].it.length,gt=0;gt<_t;gt+=1)o[At].prevViewData[gt]=o[At].it[gt];this.searchShapes(s[At].it,o[At].it,o[At].prevViewData,o[At].gr,et+1,ct,nt),s[At]._render&&o[At].gr.parentNode!==j&&j.appendChild(o[At].gr)}else s[At].ty==="tr"?(Ft||(o[At]=this.createTransformElement(s[At],j)),Bt=o[At].transform,ct.push(Bt)):s[At].ty==="sh"||s[At].ty==="rc"||s[At].ty==="el"||s[At].ty==="sr"?(Ft||(o[At]=this.createShapeElement(s[At],ct,et)),this.setElementStyles(o[At])):s[At].ty==="tm"||s[At].ty==="rd"||s[At].ty==="ms"||s[At].ty==="pb"||s[At].ty==="zz"||s[At].ty==="op"?(Ft?(Dt=o[At],Dt.closed=!1):(Dt=ShapeModifiers.getModifier(s[At].ty),Dt.init(this,s[At]),o[At]=Dt,this.shapeModifiers.push(Dt)),Ct.push(Dt)):s[At].ty==="rp"&&(Ft?(Dt=o[At],Dt.closed=!0):(Dt=ShapeModifiers.getModifier(s[At].ty),o[At]=Dt,Dt.init(this,s,At,o),this.shapeModifiers.push(Dt),nt=!1),Ct.push(Dt));this.addProcessedElement(s[At],At+1)}for(mt=Et.length,At=0;At<mt;At+=1)Et[At].closed=!0;for(mt=Ct.length,At=0;At<mt;At+=1)Ct[At].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var s,o=this.stylesList.length;for(s=0;s<o;s+=1)this.stylesList[s].reset();for(this.renderShape(),s=0;s<o;s+=1)(this.stylesList[s]._mdf||this._isFirstFrame)&&(this.stylesList[s].msElem&&(this.stylesList[s].msElem.setAttribute("d",this.stylesList[s].d),this.stylesList[s].d="M0 0"+this.stylesList[s].d),this.stylesList[s].pElem.setAttribute("d",this.stylesList[s].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var s,o=this.animatedContents.length,_;for(s=0;s<o;s+=1)_=this.animatedContents[s],(this._isFirstFrame||_.element._isAnimated)&&_.data!==!0&&_.fn(_.data,_.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(s,o,_,j,et,st){this.o=s,this.sw=o,this.sc=_,this.fc=j,this.m=et,this.p=st,this._mdf={o:!0,sw:!!o,sc:!!_,fc:!!j,m:!0,p:!0}}LetterProps.prototype.update=function(s,o,_,j,et,st){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var nt=!1;return this.o!==s&&(this.o=s,this._mdf.o=!0,nt=!0),this.sw!==o&&(this.sw=o,this._mdf.sw=!0,nt=!0),this.sc!==_&&(this.sc=_,this._mdf.sc=!0,nt=!0),this.fc!==j&&(this.fc=j,this._mdf.fc=!0,nt=!0),this.m!==et&&(this.m=et,this._mdf.m=!0,nt=!0),st.length&&(this.p[0]!==st[0]||this.p[1]!==st[1]||this.p[4]!==st[4]||this.p[5]!==st[5]||this.p[12]!==st[12]||this.p[13]!==st[13])&&(this.p=st,this._mdf.p=!0,nt=!0),nt};function TextProperty(s,o){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,o.d&&o.d.sid&&(o.d=s.globalData.slotManager.getProp(o.d)),this.data=o,this.elem=s,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(s,o){for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(s[_]=o[_]);return s},TextProperty.prototype.setCurrentData=function(s){s.__complete||this.completeTextData(s),this.currentData=s,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(s){this.effectsSequence.push(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(s){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!s)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var o=this.currentData,_=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var j,et=this.effectsSequence.length,st=s||this.data.d.k[this.keysIndex].s;for(j=0;j<et;j+=1)_!==this.keysIndex?st=this.effectsSequence[j](st,st.t):st=this.effectsSequence[j](this.currentData,st.t);o!==st&&this.setCurrentData(st),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var s=this.data.d.k,o=this.elem.comp.renderedFrame,_=0,j=s.length;_<=j-1&&!(_===j-1||s[_+1].t>o);)_+=1;return this.keysIndex!==_&&(this.keysIndex=_),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(s){for(var o=[],_=0,j=s.length,et,st,nt=!1,ct=!1,At="";_<j;)nt=ct,ct=!1,et=s.charCodeAt(_),At=s.charAt(_),FontManager.isCombinedCharacter(et)?nt=!0:et>=55296&&et<=56319?FontManager.isRegionalFlag(s,_)?At=s.substr(_,14):(st=s.charCodeAt(_+1),st>=56320&&st<=57343&&(FontManager.isModifier(et,st)?(At=s.substr(_,2),nt=!0):FontManager.isFlagEmoji(s.substr(_,4))?At=s.substr(_,4):At=s.substr(_,2))):et>56319?(st=s.charCodeAt(_+1),FontManager.isVariationSelector(et)&&(nt=!0)):FontManager.isZeroWidthJoiner(et)&&(nt=!0,ct=!0),nt?(o[o.length-1]+=At,nt=!1):o.push(At),_+=At.length;return o},TextProperty.prototype.completeTextData=function(s){s.__complete=!0;var o=this.elem.globalData.fontManager,_=this.data,j=[],et,st,nt,ct=0,At,mt=_.m.g,gt=0,_t=0,Et=0,Ct=[],Bt=0,Dt=0,Ft,Rt,Nt=o.getFontByName(s.f),Gt,dr=0,ts=getFontProperties(Nt);s.fWeight=ts.weight,s.fStyle=ts.style,s.finalSize=s.s,s.finalText=this.buildFinalText(s.t),st=s.finalText.length,s.finalLineHeight=s.lh;var es=s.tr/1e3*s.finalSize,ds;if(s.sz)for(var tn=!0,rn=s.sz[0],un=s.sz[1],$n,kn;tn;){kn=this.buildFinalText(s.t),$n=0,Bt=0,st=kn.length,es=s.tr/1e3*s.finalSize;var lo=-1;for(et=0;et<st;et+=1)ds=kn[et].charCodeAt(0),nt=!1,kn[et]===" "?lo=et:(ds===13||ds===3)&&(Bt=0,nt=!0,$n+=s.finalLineHeight||s.finalSize*1.2),o.chars?(Gt=o.getCharData(kn[et],Nt.fStyle,Nt.fFamily),dr=nt?0:Gt.w*s.finalSize/100):dr=o.measureText(kn[et],s.f,s.finalSize),Bt+dr>rn&&kn[et]!==" "?(lo===-1?st+=1:et=lo,$n+=s.finalLineHeight||s.finalSize*1.2,kn.splice(et,lo===et?1:0,"\r"),lo=-1,Bt=0):(Bt+=dr,Bt+=es);$n+=Nt.ascent*s.finalSize/100,this.canResize&&s.finalSize>this.minimumFontSize&&un<$n?(s.finalSize-=1,s.finalLineHeight=s.finalSize*s.lh/s.s):(s.finalText=kn,st=s.finalText.length,tn=!1)}Bt=-es,dr=0;var Il=0,cu;for(et=0;et<st;et+=1)if(nt=!1,cu=s.finalText[et],ds=cu.charCodeAt(0),ds===13||ds===3?(Il=0,Ct.push(Bt),Dt=Bt>Dt?Bt:Dt,Bt=-2*es,At="",nt=!0,Et+=1):At=cu,o.chars?(Gt=o.getCharData(cu,Nt.fStyle,o.getFontByName(s.f).fFamily),dr=nt?0:Gt.w*s.finalSize/100):dr=o.measureText(At,s.f,s.finalSize),cu===" "?Il+=dr+es:(Bt+=dr+es+Il,Il=0),j.push({l:dr,an:dr,add:gt,n:nt,anIndexes:[],val:At,line:Et,animatorJustifyOffset:0}),mt==2){if(gt+=dr,At===""||At===" "||et===st-1){for((At===""||At===" ")&&(gt-=dr);_t<=et;)j[_t].an=gt,j[_t].ind=ct,j[_t].extra=dr,_t+=1;ct+=1,gt=0}}else if(mt==3){if(gt+=dr,At===""||et===st-1){for(At===""&&(gt-=dr);_t<=et;)j[_t].an=gt,j[_t].ind=ct,j[_t].extra=dr,_t+=1;gt=0,ct+=1}}else j[ct].ind=ct,j[ct].extra=0,ct+=1;if(s.l=j,Dt=Bt>Dt?Bt:Dt,Ct.push(Bt),s.sz)s.boxWidth=s.sz[0],s.justifyOffset=0;else switch(s.boxWidth=Dt,s.j){case 1:s.justifyOffset=-s.boxWidth;break;case 2:s.justifyOffset=-s.boxWidth/2;break;default:s.justifyOffset=0}s.lineWidths=Ct;var Ko=_.a,ru,Tn;Rt=Ko.length;var ao,uu,hu=[];for(Ft=0;Ft<Rt;Ft+=1){for(ru=Ko[Ft],ru.a.sc&&(s.strokeColorAnim=!0),ru.a.sw&&(s.strokeWidthAnim=!0),(ru.a.fc||ru.a.fh||ru.a.fs||ru.a.fb)&&(s.fillColorAnim=!0),uu=0,ao=ru.s.b,et=0;et<st;et+=1)Tn=j[et],Tn.anIndexes[Ft]=uu,(ao==1&&Tn.val!==""||ao==2&&Tn.val!==""&&Tn.val!==" "||ao==3&&(Tn.n||Tn.val==" "||et==st-1)||ao==4&&(Tn.n||et==st-1))&&(ru.s.rn===1&&hu.push(uu),uu+=1);_.a[Ft].s.totalChars=uu;var tA=-1,Sv;if(ru.s.rn===1)for(et=0;et<st;et+=1)Tn=j[et],tA!=Tn.anIndexes[Ft]&&(tA=Tn.anIndexes[Ft],Sv=hu.splice(Math.floor(Math.random()*hu.length),1)[0]),Tn.anIndexes[Ft]=Sv}s.yOffset=s.finalLineHeight||s.finalSize*1.2,s.ls=s.ls||0,s.ascent=Nt.ascent*s.finalSize/100},TextProperty.prototype.updateDocumentData=function(s,o){o=o===void 0?this.keysIndex:o;var _=this.copyData({},this.data.d.k[o].s);_=this.copyData(_,s),this.data.d.k[o].s=_,this.recalculate(o),this.setCurrentData(_),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(s){var o=this.data.d.k[s].s;o.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(o)},TextProperty.prototype.canResizeFont=function(s){this.canResize=s,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(s){this.minimumFontSize=Math.floor(s)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var s=Math.max,o=Math.min,_=Math.floor;function j(st,nt){this._currentTextLength=-1,this.k=!1,this.data=nt,this.elem=st,this.comp=st.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(st),this.s=PropertyFactory.getProp(st,nt.s||{k:0},0,0,this),"e"in nt?this.e=PropertyFactory.getProp(st,nt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(st,nt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(st,nt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(st,nt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(st,nt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(st,nt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}j.prototype={getMult:function(nt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ct=0,At=0,mt=1,gt=1;this.ne.v>0?ct=this.ne.v/100:At=-this.ne.v/100,this.xe.v>0?mt=1-this.xe.v/100:gt=1+this.xe.v/100;var _t=BezierFactory.getBezierEasing(ct,At,mt,gt).get,Et=0,Ct=this.finalS,Bt=this.finalE,Dt=this.data.sh;if(Dt===2)Bt===Ct?Et=nt>=Bt?1:0:Et=s(0,o(.5/(Bt-Ct)+(nt-Ct)/(Bt-Ct),1)),Et=_t(Et);else if(Dt===3)Bt===Ct?Et=nt>=Bt?0:1:Et=1-s(0,o(.5/(Bt-Ct)+(nt-Ct)/(Bt-Ct),1)),Et=_t(Et);else if(Dt===4)Bt===Ct?Et=0:(Et=s(0,o(.5/(Bt-Ct)+(nt-Ct)/(Bt-Ct),1)),Et<.5?Et*=2:Et=1-2*(Et-.5)),Et=_t(Et);else if(Dt===5){if(Bt===Ct)Et=0;else{var Ft=Bt-Ct;nt=o(s(0,nt+.5-Ct),Bt-Ct);var Rt=-Ft/2+nt,Nt=Ft/2;Et=Math.sqrt(1-Rt*Rt/(Nt*Nt))}Et=_t(Et)}else Dt===6?(Bt===Ct?Et=0:(nt=o(s(0,nt+.5-Ct),Bt-Ct),Et=(1+Math.cos(Math.PI+Math.PI*2*nt/(Bt-Ct)))/2),Et=_t(Et)):(nt>=_(Ct)&&(nt-Ct<0?Et=s(0,o(o(Bt,1)-(Ct-nt),1)):Et=s(0,o(Bt-nt,1))),Et=_t(Et));if(this.sm.v!==100){var Gt=this.sm.v*.01;Gt===0&&(Gt=1e-8);var dr=.5-Gt*.5;Et<dr?Et=0:(Et=(Et-dr)/Gt,Et>1&&(Et=1))}return Et*this.a.v},getValue:function(nt){this.iterateDynamicProperties(),this._mdf=nt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,nt&&this.data.r===2&&(this.e.v=this._currentTextLength);var ct=this.data.r===2?1:100/this.data.totalChars,At=this.o.v/ct,mt=this.s.v/ct+At,gt=this.e.v/ct+At;if(mt>gt){var _t=mt;mt=gt,gt=_t}this.finalS=mt,this.finalE=gt}},extendPrototype([DynamicPropertyContainer],j);function et(st,nt,ct){return new j(st,nt)}return{getTextSelectorProp:et}}();function TextAnimatorDataProperty(s,o,_){var j={propType:!1},et=PropertyFactory.getProp,st=o.a;this.a={r:st.r?et(s,st.r,0,degToRads,_):j,rx:st.rx?et(s,st.rx,0,degToRads,_):j,ry:st.ry?et(s,st.ry,0,degToRads,_):j,sk:st.sk?et(s,st.sk,0,degToRads,_):j,sa:st.sa?et(s,st.sa,0,degToRads,_):j,s:st.s?et(s,st.s,1,.01,_):j,a:st.a?et(s,st.a,1,0,_):j,o:st.o?et(s,st.o,0,.01,_):j,p:st.p?et(s,st.p,1,0,_):j,sw:st.sw?et(s,st.sw,0,0,_):j,sc:st.sc?et(s,st.sc,1,0,_):j,fc:st.fc?et(s,st.fc,1,0,_):j,fh:st.fh?et(s,st.fh,0,0,_):j,fs:st.fs?et(s,st.fs,0,.01,_):j,fb:st.fb?et(s,st.fb,0,.01,_):j,t:st.t?et(s,st.t,0,0,_):j},this.s=TextSelectorProp.getTextSelectorProp(s,o.s,_),this.s.t=o.s.t}function TextAnimatorProperty(s,o,_){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=s,this._renderType=o,this._elem=_,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_)}TextAnimatorProperty.prototype.searchProperties=function(){var s,o=this._textData.a.length,_,j=PropertyFactory.getProp;for(s=0;s<o;s+=1)_=this._textData.a[s],this._animatorsData[s]=new TextAnimatorDataProperty(this._elem,_,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:j(this._elem,this._textData.p.a,0,0,this),f:j(this._elem,this._textData.p.f,0,0,this),l:j(this._elem,this._textData.p.l,0,0,this),r:j(this._elem,this._textData.p.r,0,0,this),p:j(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=j(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(s,o){if(this.lettersChangedFlag=o,!(!this._mdf&&!this._isFirstFrame&&!o&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var _=this._moreOptions.alignment.v,j=this._animatorsData,et=this._textData,st=this.mHelper,nt=this._renderType,ct=this.renderedLetters.length,At,mt,gt,_t,Et=s.l,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,es,ds,tn,rn,un,$n;if(this._hasMaskedPath){if($n=this._pathData.m,!this._pathData.n||this._pathData._mdf){var kn=$n.v;this._pathData.r.v&&(kn=kn.reverse()),Ct={tLength:0,segments:[]},_t=kn._length-1;var lo;for(tn=0,gt=0;gt<_t;gt+=1)lo=bez.buildBezierData(kn.v[gt],kn.v[gt+1],[kn.o[gt][0]-kn.v[gt][0],kn.o[gt][1]-kn.v[gt][1]],[kn.i[gt+1][0]-kn.v[gt+1][0],kn.i[gt+1][1]-kn.v[gt+1][1]]),Ct.tLength+=lo.segmentLength,Ct.segments.push(lo),tn+=lo.segmentLength;gt=_t,$n.v.c&&(lo=bez.buildBezierData(kn.v[gt],kn.v[0],[kn.o[gt][0]-kn.v[gt][0],kn.o[gt][1]-kn.v[gt][1]],[kn.i[0][0]-kn.v[0][0],kn.i[0][1]-kn.v[0][1]]),Ct.tLength+=lo.segmentLength,Ct.segments.push(lo),tn+=lo.segmentLength),this._pathData.pi=Ct}if(Ct=this._pathData.pi,Bt=this._pathData.f.v,Gt=0,Nt=1,Ft=0,Rt=!0,es=Ct.segments,Bt<0&&$n.v.c)for(Ct.tLength<Math.abs(Bt)&&(Bt=-Math.abs(Bt)%Ct.tLength),Gt=es.length-1,ts=es[Gt].points,Nt=ts.length-1;Bt<0;)Bt+=ts[Nt].partialLength,Nt-=1,Nt<0&&(Gt-=1,ts=es[Gt].points,Nt=ts.length-1);ts=es[Gt].points,dr=ts[Nt-1],Dt=ts[Nt],ds=Dt.partialLength}_t=Et.length,At=0,mt=0;var Il=s.finalSize*1.2*.714,cu=!0,Ko,ru,Tn,ao,uu;ao=j.length;var hu,tA=-1,Sv,W0,l1,X1=Bt,kI=Gt,q1=Nt,UE=-1,a1,LE,rS,gD,NI,a$,x$,l$,pR="",h$=this.defaultPropsArray,w$;if(s.j===2||s.j===1){var E$=0,Vx=0,b0=s.j===2?-.5:-1,o$=0,m$=!0;for(gt=0;gt<_t;gt+=1)if(Et[gt].n){for(E$&&(E$+=Vx);o$<gt;)Et[o$].animatorJustifyOffset=E$,o$+=1;E$=0,m$=!0}else{for(Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.t.propType&&(m$&&s.j===2&&(Vx+=Ko.t.v*b0),ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),hu.length?E$+=Ko.t.v*hu[0]*b0:E$+=Ko.t.v*hu*b0);m$=!1}for(E$&&(E$+=Vx);o$<gt;)Et[o$].animatorJustifyOffset=E$,o$+=1}for(gt=0;gt<_t;gt+=1){if(st.reset(),a1=1,Et[gt].n)At=0,mt+=s.yOffset,mt+=cu?1:0,Bt=X1,cu=!1,this._hasMaskedPath&&(Gt=kI,Nt=q1,ts=es[Gt].points,dr=ts[Nt-1],Dt=ts[Nt],ds=Dt.partialLength,Ft=0),pR="",l$="",a$="",w$="",h$=this.defaultPropsArray;else{if(this._hasMaskedPath){if(UE!==Et[gt].line){switch(s.j){case 1:Bt+=tn-s.lineWidths[Et[gt].line];break;case 2:Bt+=(tn-s.lineWidths[Et[gt].line])/2;break}UE=Et[gt].line}tA!==Et[gt].ind&&(Et[tA]&&(Bt+=Et[tA].extra),Bt+=Et[gt].an/2,tA=Et[gt].ind),Bt+=_[0]*Et[gt].an*.005;var t0=0;for(Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.p.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),hu.length?t0+=Ko.p.v[0]*hu[0]:t0+=Ko.p.v[0]*hu),Ko.a.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),hu.length?t0+=Ko.a.v[0]*hu[0]:t0+=Ko.a.v[0]*hu);for(Rt=!0,this._pathData.a.v&&(Bt=Et[0].an*.5+(tn-this._pathData.f.v-Et[0].an*.5-Et[Et.length-1].an*.5)*tA/(_t-1),Bt+=this._pathData.f.v);Rt;)Ft+ds>=Bt+t0||!ts?(rn=(Bt+t0-Ft)/Dt.partialLength,W0=dr.point[0]+(Dt.point[0]-dr.point[0])*rn,l1=dr.point[1]+(Dt.point[1]-dr.point[1])*rn,st.translate(-_[0]*Et[gt].an*.005,-(_[1]*Il)*.01),Rt=!1):ts&&(Ft+=Dt.partialLength,Nt+=1,Nt>=ts.length&&(Nt=0,Gt+=1,es[Gt]?ts=es[Gt].points:$n.v.c?(Nt=0,Gt=0,ts=es[Gt].points):(Ft-=Dt.partialLength,ts=null)),ts&&(dr=Dt,Dt=ts[Nt],ds=Dt.partialLength));Sv=Et[gt].an/2-Et[gt].add,st.translate(-Sv,0,0)}else Sv=Et[gt].an/2-Et[gt].add,st.translate(-Sv,0,0),st.translate(-_[0]*Et[gt].an*.005,-_[1]*Il*.01,0);for(Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.t.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),(At!==0||s.j!==0)&&(this._hasMaskedPath?hu.length?Bt+=Ko.t.v*hu[0]:Bt+=Ko.t.v*hu:hu.length?At+=Ko.t.v*hu[0]:At+=Ko.t.v*hu));for(s.strokeWidthAnim&&(rS=s.sw||0),s.strokeColorAnim&&(s.sc?LE=[s.sc[0],s.sc[1],s.sc[2]]:LE=[0,0,0]),s.fillColorAnim&&s.fc&&(gD=[s.fc[0],s.fc[1],s.fc[2]]),Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.a.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),hu.length?st.translate(-Ko.a.v[0]*hu[0],-Ko.a.v[1]*hu[1],Ko.a.v[2]*hu[2]):st.translate(-Ko.a.v[0]*hu,-Ko.a.v[1]*hu,Ko.a.v[2]*hu));for(Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.s.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),hu.length?st.scale(1+(Ko.s.v[0]-1)*hu[0],1+(Ko.s.v[1]-1)*hu[1],1):st.scale(1+(Ko.s.v[0]-1)*hu,1+(Ko.s.v[1]-1)*hu,1));for(Tn=0;Tn<ao;Tn+=1){if(Ko=j[Tn].a,ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),Ko.sk.propType&&(hu.length?st.skewFromAxis(-Ko.sk.v*hu[0],Ko.sa.v*hu[1]):st.skewFromAxis(-Ko.sk.v*hu,Ko.sa.v*hu)),Ko.r.propType&&(hu.length?st.rotateZ(-Ko.r.v*hu[2]):st.rotateZ(-Ko.r.v*hu)),Ko.ry.propType&&(hu.length?st.rotateY(Ko.ry.v*hu[1]):st.rotateY(Ko.ry.v*hu)),Ko.rx.propType&&(hu.length?st.rotateX(Ko.rx.v*hu[0]):st.rotateX(Ko.rx.v*hu)),Ko.o.propType&&(hu.length?a1+=(Ko.o.v*hu[0]-a1)*hu[0]:a1+=(Ko.o.v*hu-a1)*hu),s.strokeWidthAnim&&Ko.sw.propType&&(hu.length?rS+=Ko.sw.v*hu[0]:rS+=Ko.sw.v*hu),s.strokeColorAnim&&Ko.sc.propType)for(NI=0;NI<3;NI+=1)hu.length?LE[NI]+=(Ko.sc.v[NI]-LE[NI])*hu[0]:LE[NI]+=(Ko.sc.v[NI]-LE[NI])*hu;if(s.fillColorAnim&&s.fc){if(Ko.fc.propType)for(NI=0;NI<3;NI+=1)hu.length?gD[NI]+=(Ko.fc.v[NI]-gD[NI])*hu[0]:gD[NI]+=(Ko.fc.v[NI]-gD[NI])*hu;Ko.fh.propType&&(hu.length?gD=addHueToRGB(gD,Ko.fh.v*hu[0]):gD=addHueToRGB(gD,Ko.fh.v*hu)),Ko.fs.propType&&(hu.length?gD=addSaturationToRGB(gD,Ko.fs.v*hu[0]):gD=addSaturationToRGB(gD,Ko.fs.v*hu)),Ko.fb.propType&&(hu.length?gD=addBrightnessToRGB(gD,Ko.fb.v*hu[0]):gD=addBrightnessToRGB(gD,Ko.fb.v*hu))}}for(Tn=0;Tn<ao;Tn+=1)Ko=j[Tn].a,Ko.p.propType&&(ru=j[Tn].s,hu=ru.getMult(Et[gt].anIndexes[Tn],et.a[Tn].s.totalChars),this._hasMaskedPath?hu.length?st.translate(0,Ko.p.v[1]*hu[0],-Ko.p.v[2]*hu[1]):st.translate(0,Ko.p.v[1]*hu,-Ko.p.v[2]*hu):hu.length?st.translate(Ko.p.v[0]*hu[0],Ko.p.v[1]*hu[1],-Ko.p.v[2]*hu[2]):st.translate(Ko.p.v[0]*hu,Ko.p.v[1]*hu,-Ko.p.v[2]*hu));if(s.strokeWidthAnim&&(a$=rS<0?0:rS),s.strokeColorAnim&&(x$="rgb("+Math.round(LE[0]*255)+","+Math.round(LE[1]*255)+","+Math.round(LE[2]*255)+")"),s.fillColorAnim&&s.fc&&(l$="rgb("+Math.round(gD[0]*255)+","+Math.round(gD[1]*255)+","+Math.round(gD[2]*255)+")"),this._hasMaskedPath){if(st.translate(0,-s.ls),st.translate(0,_[1]*Il*.01+mt,0),this._pathData.p.v){un=(Dt.point[1]-dr.point[1])/(Dt.point[0]-dr.point[0]);var _$=Math.atan(un)*180/Math.PI;Dt.point[0]<dr.point[0]&&(_$+=180),st.rotate(-_$*Math.PI/180)}st.translate(W0,l1,0),Bt-=_[0]*Et[gt].an*.005,Et[gt+1]&&tA!==Et[gt+1].ind&&(Bt+=Et[gt].an/2,Bt+=s.tr*.001*s.finalSize)}else{switch(st.translate(At,mt,0),s.ps&&st.translate(s.ps[0],s.ps[1]+s.ascent,0),s.j){case 1:st.translate(Et[gt].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[Et[gt].line]),0,0);break;case 2:st.translate(Et[gt].animatorJustifyOffset+s.justifyOffset+(s.boxWidth-s.lineWidths[Et[gt].line])/2,0,0);break}st.translate(0,-s.ls),st.translate(Sv,0,0),st.translate(_[0]*Et[gt].an*.005,_[1]*Il*.01,0),At+=Et[gt].l+s.tr*.001*s.finalSize}nt==="html"?pR=st.toCSS():nt==="svg"?pR=st.to2dCSS():h$=[st.props[0],st.props[1],st.props[2],st.props[3],st.props[4],st.props[5],st.props[6],st.props[7],st.props[8],st.props[9],st.props[10],st.props[11],st.props[12],st.props[13],st.props[14],st.props[15]],w$=a1}ct<=gt?(uu=new LetterProps(w$,a$,x$,l$,pR,h$),this.renderedLetters.push(uu),ct+=1,this.lettersChangedFlag=!0):(uu=this.renderedLetters[gt],this.lettersChangedFlag=uu.update(w$,a$,x$,l$,pR,h$)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(s,o,_){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(s,o,_),this.textProperty=new TextProperty(this,s.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(s.t,this.renderType,this),this.initTransform(s,o,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange)},ITextElement.prototype.createPathShape=function(s,o){var _,j=o.length,et,st="";for(_=0;_<j;_+=1)o[_].ty==="sh"&&(et=o[_].ks.k,st+=buildShapeString(et,et.i.length,!0,s));return st},ITextElement.prototype.updateDocumentData=function(s,o){this.textProperty.updateDocumentData(s,o)},ITextElement.prototype.canResizeFont=function(s){this.textProperty.canResizeFont(s)},ITextElement.prototype.setMinimumFontSize=function(s){this.textProperty.setMinimumFontSize(s)},ITextElement.prototype.applyTextPropertiesToMatrix=function(s,o,_,j,et){switch(s.ps&&o.translate(s.ps[0],s.ps[1]+s.ascent,0),o.translate(0,-s.ls,0),s.j){case 1:o.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[_]),0,0);break;case 2:o.translate(s.justifyOffset+(s.boxWidth-s.lineWidths[_])/2,0,0);break}o.translate(j,et,0)},ITextElement.prototype.buildColor=function(s){return"rgb("+Math.round(s[0]*255)+","+Math.round(s[1]*255)+","+Math.round(s[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(s,o,_){this.textSpans=[],this.renderType="svg",this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(s){for(var o=0,_=s.length,j=[],et="";o<_;)s[o]==="\r"||s[o]===""?(j.push(et),et=""):et+=s[o],o+=1;return j.push(et),j},SVGTextLottieElement.prototype.buildShapeData=function(s,o){if(s.shapes&&s.shapes.length){var _=s.shapes[0];if(_.it){var j=_.it[_.it.length-1];j.s&&(j.s.k[0]=o,j.s.k[1]=o)}}return s},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var s,o,_=this.textProperty.currentData;this.renderedLetters=createSizedArray(_?_.l.length:0),_.fc?this.layerElement.setAttribute("fill",this.buildColor(_.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),_.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_.sc)),this.layerElement.setAttribute("stroke-width",_.sw)),this.layerElement.setAttribute("font-size",_.finalSize);var j=this.globalData.fontManager.getFontByName(_.f);if(j.fClass)this.layerElement.setAttribute("class",j.fClass);else{this.layerElement.setAttribute("font-family",j.fFamily);var et=_.fWeight,st=_.fStyle;this.layerElement.setAttribute("font-style",st),this.layerElement.setAttribute("font-weight",et)}this.layerElement.setAttribute("aria-label",_.t);var nt=_.l||[],ct=!!this.globalData.fontManager.chars;o=nt.length;var At,mt=this.mHelper,gt="",_t=this.data.singleShape,Et=0,Ct=0,Bt=!0,Dt=_.tr*.001*_.finalSize;if(_t&&!ct&&!_.sz){var Ft=this.textContainer,Rt="start";switch(_.j){case 1:Rt="end";break;case 2:Rt="middle";break;default:Rt="start";break}Ft.setAttribute("text-anchor",Rt),Ft.setAttribute("letter-spacing",Dt);var Nt=this.buildTextContents(_.finalText);for(o=Nt.length,Ct=_.ps?_.ps[1]+_.ascent:0,s=0;s<o;s+=1)At=this.textSpans[s].span||createNS("tspan"),At.textContent=Nt[s],At.setAttribute("x",0),At.setAttribute("y",Ct),At.style.display="inherit",Ft.appendChild(At),this.textSpans[s]||(this.textSpans[s]={span:null,glyph:null}),this.textSpans[s].span=At,Ct+=_.finalLineHeight;this.layerElement.appendChild(Ft)}else{var Gt=this.textSpans.length,dr;for(s=0;s<o;s+=1){if(this.textSpans[s]||(this.textSpans[s]={span:null,childSpan:null,glyph:null}),!ct||!_t||s===0){if(At=Gt>s?this.textSpans[s].span:createNS(ct?"g":"text"),Gt<=s){if(At.setAttribute("stroke-linecap","butt"),At.setAttribute("stroke-linejoin","round"),At.setAttribute("stroke-miterlimit","4"),this.textSpans[s].span=At,ct){var ts=createNS("g");At.appendChild(ts),this.textSpans[s].childSpan=ts}this.textSpans[s].span=At,this.layerElement.appendChild(At)}At.style.display="inherit"}if(mt.reset(),_t&&(nt[s].n&&(Et=-Dt,Ct+=_.yOffset,Ct+=Bt?1:0,Bt=!1),this.applyTextPropertiesToMatrix(_,mt,nt[s].line,Et,Ct),Et+=nt[s].l||0,Et+=Dt),ct){dr=this.globalData.fontManager.getCharData(_.finalText[s],j.fStyle,this.globalData.fontManager.getFontByName(_.f).fFamily);var es;if(dr.t===1)es=new SVGCompElement(dr.data,this.globalData,this);else{var ds=emptyShapeData;dr.data&&dr.data.shapes&&(ds=this.buildShapeData(dr.data,_.finalSize)),es=new SVGShapeElement(ds,this.globalData,this)}if(this.textSpans[s].glyph){var tn=this.textSpans[s].glyph;this.textSpans[s].childSpan.removeChild(tn.layerElement),tn.destroy()}this.textSpans[s].glyph=es,es._debug=!0,es.prepareFrame(0),es.renderFrame(),this.textSpans[s].childSpan.appendChild(es.layerElement),dr.t===1&&this.textSpans[s].childSpan.setAttribute("transform","scale("+_.finalSize/100+","+_.finalSize/100+")")}else _t&&At.setAttribute("transform","translate("+mt.props[12]+","+mt.props[13]+")"),At.textContent=nt[s].val,At.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}_t&&At&&At.setAttribute("d",gt)}for(;s<this.textSpans.length;)this.textSpans[s].span.style.display="none",s+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var s=this.layerElement.getBBox();this.bbox={top:s.y,left:s.x,width:s.width,height:s.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var s,o=this.textSpans.length,_;for(this.renderedFrame=this.comp.renderedFrame,s=0;s<o;s+=1)_=this.textSpans[s].glyph,_&&(_.prepareFrame(this.comp.renderedFrame-this.data.st),_._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var s,o,_=this.textAnimator.renderedLetters,j=this.textProperty.currentData.l;o=j.length;var et,st,nt;for(s=0;s<o;s+=1)j[s].n||(et=_[s],st=this.textSpans[s].span,nt=this.textSpans[s].glyph,nt&&nt.renderFrame(),et._mdf.m&&st.setAttribute("transform",et.m),et._mdf.o&&st.setAttribute("opacity",et.o),et._mdf.sw&&st.setAttribute("stroke-width",et.sw),et._mdf.sc&&st.setAttribute("stroke",et.sc),et._mdf.fc&&st.setAttribute("fill",et.fc))}};function ISolidElement(s,o,_){this.initElement(s,o,_)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var s=createNS("rect");s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),this.layerElement.appendChild(s)};function NullElement(s,o,_){this.initFrame(),this.initBaseData(s,o,_),this.initFrame(),this.initTransform(s,o,_),this.initHierarchy()}NullElement.prototype.prepareFrame=function(s){this.prepareProperties(s,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(s){return new NullElement(s,this.globalData,this)},SVGRendererBase.prototype.createShape=function(s){return new SVGShapeElement(s,this.globalData,this)},SVGRendererBase.prototype.createText=function(s){return new SVGTextLottieElement(s,this.globalData,this)},SVGRendererBase.prototype.createImage=function(s){return new IImageElement(s,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(s){return new ISolidElement(s,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(s){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+s.w+" "+s.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",s.w),this.svgElement.setAttribute("height",s.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var o=this.globalData.defs;this.setupGlobalData(s,o),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=s;var _=createNS("clipPath"),j=createNS("rect");j.setAttribute("width",s.w),j.setAttribute("height",s.h),j.setAttribute("x",0),j.setAttribute("y",0);var et=createElementID();_.setAttribute("id",et),_.appendChild(j),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")"),o.appendChild(_),this.layers=s.layers,this.elements=createSizedArray(s.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var s,o=this.layers?this.layers.length:0;for(s=0;s<o;s+=1)this.elements[s]&&this.elements[s].destroy&&this.elements[s].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(s){var o=0,_=this.layers.length;for(o=0;o<_;o+=1)if(this.layers[o].ind===s)return o;return-1},SVGRendererBase.prototype.buildItem=function(s){var o=this.elements;if(!(o[s]||this.layers[s].ty===99)){o[s]=!0;var _=this.createItem(this.layers[s]);if(o[s]=_,getExpressionsPlugin()&&(this.layers[s].ty===0&&this.globalData.projectInterface.registerComposition(_),_.initExpressions()),this.appendElementInPos(_,s),this.layers[s].tt){var j="tp"in this.layers[s]?this.findIndexByInd(this.layers[s].tp):s-1;if(j===-1)return;if(!this.elements[j]||this.elements[j]===!0)this.buildItem(j),this.addPendingElement(_);else{var et=o[j],st=et.getMatte(this.layers[s].tt);_.setMatte(st)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();if(s.checkParenting(),s.data.tt)for(var o=0,_=this.elements.length;o<_;){if(this.elements[o]===s){var j="tp"in s.data?this.findIndexByInd(s.data.tp):o-1,et=this.elements[j],st=et.getMatte(this.layers[o].tt);s.setMatte(st);break}o+=1}}},SVGRendererBase.prototype.renderFrame=function(s){if(!(this.renderedFrame===s||this.destroyed)){s===null?s=this.renderedFrame:this.renderedFrame=s,this.globalData.frameNum=s,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=s,this.globalData._mdf=!1;var o,_=this.layers.length;for(this.completeLayers||this.checkLayers(s),o=_-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&this.elements[o].prepareFrame(s-this.layers[o].st);if(this.globalData._mdf)for(o=0;o<_;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(s,o){var _=s.getBaseElement();if(_){for(var j=0,et;j<o;)this.elements[j]&&this.elements[j]!==!0&&this.elements[j].getBaseElement()&&(et=this.elements[j].getBaseElement()),j+=1;et?this.layerElement.insertBefore(_,et):this.layerElement.appendChild(_)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(s,o,_){this.initFrame(),this.initBaseData(s,o,_),this.initTransform(s,o,_),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!o.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(s){if(this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=s/this.data.sr;else{var o=this.tm.v;o===this.data.op&&(o=this.data.op-1),this.renderedFrame=o}var _,j=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&(this.elements[_].prepareFrame(this.renderedFrame-this.layers[_].st),this.elements[_]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var s,o=this.layers.length;for(s=0;s<o;s+=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame()},ICompElement.prototype.setElements=function(s){this.elements=s},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var s,o=this.layers.length;for(s=0;s<o;s+=1)this.elements[s]&&this.elements[s].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(s,o,_){this.layers=s.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(s,o,_),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(s){return new SVGCompElement(s,this.globalData,this)};function SVGRenderer(s,o){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var _="";if(o&&o.title){var j=createNS("title"),et=createElementID();j.setAttribute("id",et),j.textContent=o.title,this.svgElement.appendChild(j),_+=et}if(o&&o.description){var st=createNS("desc"),nt=createElementID();st.setAttribute("id",nt),st.textContent=o.description,this.svgElement.appendChild(st),_+=" "+nt}_&&this.svgElement.setAttribute("aria-labelledby",_);var ct=createNS("defs");this.svgElement.appendChild(ct);var At=createNS("g");this.svgElement.appendChild(At),this.layerElement=At,this.renderConfig={preserveAspectRatio:o&&o.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:o&&o.contentVisibility||"visible",progressiveLoad:o&&o.progressiveLoad||!1,hideOnTransparent:!(o&&o.hideOnTransparent===!1),viewBoxOnly:o&&o.viewBoxOnly||!1,viewBoxSize:o&&o.viewBoxSize||!1,className:o&&o.className||"",id:o&&o.id||"",focusable:o&&o.focusable,filterSize:{width:o&&o.filterSize&&o.filterSize.width||"100%",height:o&&o.filterSize&&o.filterSize.height||"100%",x:o&&o.filterSize&&o.filterSize.x||"0%",y:o&&o.filterSize&&o.filterSize.y||"0%"},width:o&&o.width,height:o&&o.height,runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ct,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(s){return new SVGCompElement(s,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(o){var _,j=o.length,et="_";for(_=0;_<j;_+=1)et+=o[_].transform.key+"_";var st=this.sequences[et];return st||(st={transforms:[].concat(o),finalTransform:new Matrix,_mdf:!1},this.sequences[et]=st,this.sequenceList.push(st)),st},processSequence:function(o,_){for(var j=0,et=o.transforms.length,st=_;j<et&&!_;){if(o.transforms[j].transform.mProps._mdf){st=!0;break}j+=1}if(st)for(o.finalTransform.reset(),j=et-1;j>=0;j-=1)o.finalTransform.multiply(o.transforms[j].transform.mProps.v);o._mdf=st},processSequences:function(o){var _,j=this.sequenceList.length;for(_=0;_<j;_+=1)this.processSequence(this.sequenceList[_],o)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var o="__lottie_element_luma_buffer",_=null,j=null,et=null;function st(){var At=createNS("svg"),mt=createNS("filter"),gt=createNS("feColorMatrix");return mt.setAttribute("id",o),gt.setAttribute("type","matrix"),gt.setAttribute("color-interpolation-filters","sRGB"),gt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),mt.appendChild(gt),At.appendChild(mt),At.setAttribute("id",o+"_svg"),featureSupport.svgLumaHidden&&(At.style.display="none"),At}function nt(){_||(et=st(),document.body.appendChild(et),_=createTag("canvas"),j=_.getContext("2d"),j.filter="url(#"+o+")",j.fillStyle="rgba(0,0,0,0)",j.fillRect(0,0,1,1))}function ct(At){return _||nt(),_.width=At.width,_.height=At.height,j.filter="url(#"+o+")",_}return{load:nt,get:ct}};function createCanvas(s,o){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(s,o);var _=createTag("canvas");return _.width=s,_.height=o,_}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(s){var o,_=s.data.ef?s.data.ef.length:0;this.filters=[];var j;for(o=0;o<_;o+=1){j=null;var et=s.data.ef[o].ty;if(registeredEffects[et]){var st=registeredEffects[et].effect;j=new st(s.effectsManager.effectElements[o],s)}j&&this.filters.push(j)}this.filters.length&&s.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(s){var o,_=this.filters.length;for(o=0;o<_;o+=1)this.filters[o].renderFrame(s)},CVEffects.prototype.getEffects=function(s){var o,_=this.filters.length,j=[];for(o=0;o<_;o+=1)this.filters[o].type===s&&j.push(this.filters[o]);return j};function registerEffect(s,o){registeredEffects[s]={effect:o}}function CVMaskElement(s,o){this.data=s,this.element=o,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _,j=this.masksProperties.length,et=!1;for(_=0;_<j;_+=1)this.masksProperties[_].mode!=="n"&&(et=!0),this.viewData[_]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[_],3);this.hasMasks=et,et&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var s=this.element.finalTransform.mat,o=this.element.canvasContext,_,j=this.masksProperties.length,et,st,nt;for(o.beginPath(),_=0;_<j;_+=1)if(this.masksProperties[_].mode!=="n"){this.masksProperties[_].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),nt=this.viewData[_].v,et=s.applyToPointArray(nt.v[0][0],nt.v[0][1],0),o.moveTo(et[0],et[1]);var ct,At=nt._length;for(ct=1;ct<At;ct+=1)st=s.applyToTriplePoints(nt.o[ct-1],nt.i[ct],nt.v[ct]),o.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5]);st=s.applyToTriplePoints(nt.o[ct-1],nt.i[0],nt.v[0]),o.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var o=this.globalData.canvasContext,_=assetLoader.createCanvas(o.canvas.width,o.canvas.height);this.buffers.push(_);var j=assetLoader.createCanvas(o.canvas.width,o.canvas.height);this.buffers.push(j),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var o=this.globalData;if(o.blendMode!==this.data.bm){o.blendMode=this.data.bm;var _=getBlendMode(this.data.bm);o.canvasContext.globalCompositeOperation=_}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(o){o.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var o=this.buffers[0],_=o.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var o=this.buffers[1],_=o.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var j=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(j.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var et=assetLoader.getLumaCanvas(this.canvasContext.canvas),st=et.getContext("2d");st.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(et,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(o,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(o){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!o)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var _=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(_),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(_),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(s,o,_,j){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var et=4;o.ty==="rc"?et=5:o.ty==="el"?et=6:o.ty==="sr"&&(et=7),this.sh=ShapePropertyFactory.getShapeProp(s,o,et,s);var st,nt=_.length,ct;for(st=0;st<nt;st+=1)_[st].closed||(ct={transforms:j.addTransformSequence(_[st].transforms),trNodes:[]},this.styledShapes.push(ct),_[st].elements.push(ct))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(s,o,_){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(s,o){var _={data:s,type:s.ty,preTransforms:this.transformsManager.addTransformSequence(o),transforms:[],elements:[],closed:s.hd===!0},j={};if(s.ty==="fl"||s.ty==="st"?(j.c=PropertyFactory.getProp(this,s.c,1,255,this),j.c.k||(_.co="rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")")):(s.ty==="gf"||s.ty==="gs")&&(j.s=PropertyFactory.getProp(this,s.s,1,null,this),j.e=PropertyFactory.getProp(this,s.e,1,null,this),j.h=PropertyFactory.getProp(this,s.h||{k:0},0,.01,this),j.a=PropertyFactory.getProp(this,s.a||{k:0},0,degToRads,this),j.g=new GradientProperty(this,s.g,this)),j.o=PropertyFactory.getProp(this,s.o,0,.01,this),s.ty==="st"||s.ty==="gs"){if(_.lc=lineCapEnum[s.lc||2],_.lj=lineJoinEnum[s.lj||2],s.lj==1&&(_.ml=s.ml),j.w=PropertyFactory.getProp(this,s.w,0,null,this),j.w.k||(_.wi=j.w.v),s.d){var et=new DashProperty(this,s.d,"canvas",this);j.d=et,j.d.k||(_.da=j.d.dashArray,_.do=j.d.dashoffset[0])}}else _.r=s.r===2?"evenodd":"nonzero";return this.stylesList.push(_),j.style=_,j},CVShapeElement.prototype.createGroupElement=function(){var s={it:[],prevViewData:[]};return s},CVShapeElement.prototype.createTransformElement=function(s){var o={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,s.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,s,this)}};return o},CVShapeElement.prototype.createShapeElement=function(s){var o=new CVShapeData(this,s,this.stylesList,this.transformsManager);return this.shapes.push(o),this.addShapeToModifiers(o),o},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var s,o=this.itemsData.length;for(s=0;s<o;s+=1)this.prevViewData[s]=this.itemsData[s];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),o=this.dynamicProperties.length,s=0;s<o;s+=1)this.dynamicProperties[s].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(s){var o,_=this.stylesList.length;for(o=0;o<_;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.push(s)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var s,o=this.stylesList.length;for(s=0;s<o;s+=1)this.stylesList[s].closed||this.stylesList[s].transforms.pop()},CVShapeElement.prototype.closeStyles=function(s){var o,_=s.length;for(o=0;o<_;o+=1)s[o].closed=!0},CVShapeElement.prototype.searchShapes=function(s,o,_,j,et){var st,nt=s.length-1,ct,At,mt=[],gt=[],_t,Et,Ct,Bt=[].concat(et);for(st=nt;st>=0;st-=1){if(_t=this.searchProcessedElement(s[st]),_t?o[st]=_[_t-1]:s[st]._shouldRender=j,s[st].ty==="fl"||s[st].ty==="st"||s[st].ty==="gf"||s[st].ty==="gs")_t?o[st].style.closed=!1:o[st]=this.createStyleElement(s[st],Bt),mt.push(o[st].style);else if(s[st].ty==="gr"){if(!_t)o[st]=this.createGroupElement(s[st]);else for(At=o[st].it.length,ct=0;ct<At;ct+=1)o[st].prevViewData[ct]=o[st].it[ct];this.searchShapes(s[st].it,o[st].it,o[st].prevViewData,j,Bt)}else s[st].ty==="tr"?(_t||(Ct=this.createTransformElement(s[st]),o[st]=Ct),Bt.push(o[st]),this.addTransformToStyleList(o[st])):s[st].ty==="sh"||s[st].ty==="rc"||s[st].ty==="el"||s[st].ty==="sr"?_t||(o[st]=this.createShapeElement(s[st])):s[st].ty==="tm"||s[st].ty==="rd"||s[st].ty==="pb"||s[st].ty==="zz"||s[st].ty==="op"?(_t?(Et=o[st],Et.closed=!1):(Et=ShapeModifiers.getModifier(s[st].ty),Et.init(this,s[st]),o[st]=Et,this.shapeModifiers.push(Et)),gt.push(Et)):s[st].ty==="rp"&&(_t?(Et=o[st],Et.closed=!0):(Et=ShapeModifiers.getModifier(s[st].ty),o[st]=Et,Et.init(this,s,st,o),this.shapeModifiers.push(Et),j=!1),gt.push(Et));this.addProcessedElement(s[st],st+1)}for(this.removeTransformFromStyleList(),this.closeStyles(mt),nt=gt.length,st=0;st<nt;st+=1)gt[st].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(s,o){(s._opMdf||o.op._mdf||this._isFirstFrame)&&(o.opacity=s.opacity,o.opacity*=o.op.v,o._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var s,o=this.stylesList.length,_,j,et,st,nt,ct,At=this.globalData.renderer,mt=this.globalData.canvasContext,gt,_t;for(s=0;s<o;s+=1)if(_t=this.stylesList[s],gt=_t.type,!((gt==="st"||gt==="gs")&&_t.wi===0||!_t.data._shouldRender||_t.coOp===0||this.globalData.currentGlobalAlpha===0)){for(At.save(),nt=_t.elements,gt==="st"||gt==="gs"?(At.ctxStrokeStyle(gt==="st"?_t.co:_t.grd),At.ctxLineWidth(_t.wi),At.ctxLineCap(_t.lc),At.ctxLineJoin(_t.lj),At.ctxMiterLimit(_t.ml||0)):At.ctxFillStyle(gt==="fl"?_t.co:_t.grd),At.ctxOpacity(_t.coOp),gt!=="st"&&gt!=="gs"&&mt.beginPath(),At.ctxTransform(_t.preTransforms.finalTransform.props),j=nt.length,_=0;_<j;_+=1){for((gt==="st"||gt==="gs")&&(mt.beginPath(),_t.da&&(mt.setLineDash(_t.da),mt.lineDashOffset=_t.do)),ct=nt[_].trNodes,st=ct.length,et=0;et<st;et+=1)ct[et].t==="m"?mt.moveTo(ct[et].p[0],ct[et].p[1]):ct[et].t==="c"?mt.bezierCurveTo(ct[et].pts[0],ct[et].pts[1],ct[et].pts[2],ct[et].pts[3],ct[et].pts[4],ct[et].pts[5]):mt.closePath();(gt==="st"||gt==="gs")&&(At.ctxStroke(),_t.da&&mt.setLineDash(this.dashResetter))}gt!=="st"&&gt!=="gs"&&this.globalData.renderer.ctxFill(_t.r),At.restore()}},CVShapeElement.prototype.renderShape=function(s,o,_,j){var et,st=o.length-1,nt;for(nt=s,et=st;et>=0;et-=1)o[et].ty==="tr"?(nt=_[et].transform,this.renderShapeTransform(s,nt)):o[et].ty==="sh"||o[et].ty==="el"||o[et].ty==="rc"||o[et].ty==="sr"?this.renderPath(o[et],_[et]):o[et].ty==="fl"?this.renderFill(o[et],_[et],nt):o[et].ty==="st"?this.renderStroke(o[et],_[et],nt):o[et].ty==="gf"||o[et].ty==="gs"?this.renderGradientFill(o[et],_[et],nt):o[et].ty==="gr"?this.renderShape(nt,o[et].it,_[et].it):o[et].ty;j&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(s,o){if(this._isFirstFrame||o._mdf||s.transforms._mdf){var _=s.trNodes,j=o.paths,et,st,nt,ct=j._length;_.length=0;var At=s.transforms.finalTransform;for(nt=0;nt<ct;nt+=1){var mt=j.shapes[nt];if(mt&&mt.v){for(st=mt._length,et=1;et<st;et+=1)et===1&&_.push({t:"m",p:At.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),_.push({t:"c",pts:At.applyToTriplePoints(mt.o[et-1],mt.i[et],mt.v[et])});st===1&&_.push({t:"m",p:At.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),mt.c&&st&&(_.push({t:"c",pts:At.applyToTriplePoints(mt.o[et-1],mt.i[0],mt.v[0])}),_.push({t:"z"}))}}s.trNodes=_}},CVShapeElement.prototype.renderPath=function(s,o){if(s.hd!==!0&&s._shouldRender){var _,j=o.styledShapes.length;for(_=0;_<j;_+=1)this.renderStyledShape(o.styledShapes[_],o.sh)}},CVShapeElement.prototype.renderFill=function(s,o,_){var j=o.style;(o.c._mdf||this._isFirstFrame)&&(j.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")"),(o.o._mdf||_._opMdf||this._isFirstFrame)&&(j.coOp=o.o.v*_.opacity)},CVShapeElement.prototype.renderGradientFill=function(s,o,_){var j=o.style,et;if(!j.grd||o.g._mdf||o.s._mdf||o.e._mdf||s.t!==1&&(o.h._mdf||o.a._mdf)){var st=this.globalData.canvasContext,nt=o.s.v,ct=o.e.v;if(s.t===1)et=st.createLinearGradient(nt[0],nt[1],ct[0],ct[1]);else{var At=Math.sqrt(Math.pow(nt[0]-ct[0],2)+Math.pow(nt[1]-ct[1],2)),mt=Math.atan2(ct[1]-nt[1],ct[0]-nt[0]),gt=o.h.v;gt>=1?gt=.99:gt<=-1&&(gt=-.99);var _t=At*gt,Et=Math.cos(mt+o.a.v)*_t+nt[0],Ct=Math.sin(mt+o.a.v)*_t+nt[1];et=st.createRadialGradient(Et,Ct,0,nt[0],nt[1],At)}var Bt,Dt=s.g.p,Ft=o.g.c,Rt=1;for(Bt=0;Bt<Dt;Bt+=1)o.g._hasOpacity&&o.g._collapsable&&(Rt=o.g.o[Bt*2+1]),et.addColorStop(Ft[Bt*4]/100,"rgba("+Ft[Bt*4+1]+","+Ft[Bt*4+2]+","+Ft[Bt*4+3]+","+Rt+")");j.grd=et}j.coOp=o.o.v*_.opacity},CVShapeElement.prototype.renderStroke=function(s,o,_){var j=o.style,et=o.d;et&&(et._mdf||this._isFirstFrame)&&(j.da=et.dashArray,j.do=et.dashoffset[0]),(o.c._mdf||this._isFirstFrame)&&(j.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")"),(o.o._mdf||_._opMdf||this._isFirstFrame)&&(j.coOp=o.o.v*_.opacity),(o.w._mdf||this._isFirstFrame)&&(j.wi=o.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(s,o,_){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s.l?s.l.length:0);var o=!1;s.fc?(o=!0,this.values.fill=this.buildColor(s.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=o;var _=!1;s.sc&&(_=!0,this.values.stroke=this.buildColor(s.sc),this.values.sWidth=s.sw);var j=this.globalData.fontManager.getFontByName(s.f),et,st,nt=s.l,ct=this.mHelper;this.stroke=_,this.values.fValue=s.finalSize+"px "+this.globalData.fontManager.getFontByName(s.f).fFamily,st=s.finalText.length;var At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt=this.data.singleShape,Gt=s.tr*.001*s.finalSize,dr=0,ts=0,es=!0,ds=0;for(et=0;et<st;et+=1){At=this.globalData.fontManager.getCharData(s.finalText[et],j.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),mt=At&&At.data||{},ct.reset(),Nt&&nt[et].n&&(dr=-Gt,ts+=s.yOffset,ts+=es?1:0,es=!1),Et=mt.shapes?mt.shapes[0].it:[],Bt=Et.length,ct.scale(s.finalSize/100,s.finalSize/100),Nt&&this.applyTextPropertiesToMatrix(s,ct,nt[et].line,dr,ts),Ft=createSizedArray(Bt-1);var tn=0;for(Ct=0;Ct<Bt;Ct+=1)if(Et[Ct].ty==="sh"){for(_t=Et[Ct].ks.k.i.length,Dt=Et[Ct].ks.k,Rt=[],gt=1;gt<_t;gt+=1)gt===1&&Rt.push(ct.applyToX(Dt.v[0][0],Dt.v[0][1],0),ct.applyToY(Dt.v[0][0],Dt.v[0][1],0)),Rt.push(ct.applyToX(Dt.o[gt-1][0],Dt.o[gt-1][1],0),ct.applyToY(Dt.o[gt-1][0],Dt.o[gt-1][1],0),ct.applyToX(Dt.i[gt][0],Dt.i[gt][1],0),ct.applyToY(Dt.i[gt][0],Dt.i[gt][1],0),ct.applyToX(Dt.v[gt][0],Dt.v[gt][1],0),ct.applyToY(Dt.v[gt][0],Dt.v[gt][1],0));Rt.push(ct.applyToX(Dt.o[gt-1][0],Dt.o[gt-1][1],0),ct.applyToY(Dt.o[gt-1][0],Dt.o[gt-1][1],0),ct.applyToX(Dt.i[0][0],Dt.i[0][1],0),ct.applyToY(Dt.i[0][0],Dt.i[0][1],0),ct.applyToX(Dt.v[0][0],Dt.v[0][1],0),ct.applyToY(Dt.v[0][0],Dt.v[0][1],0)),Ft[tn]=Rt,tn+=1}Nt&&(dr+=nt[et].l,dr+=Gt),this.textSpans[ds]?this.textSpans[ds].elem=Ft:this.textSpans[ds]={elem:Ft},ds+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var s=this.canvasContext;s.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,_,j,et,st,nt,ct=this.textAnimator.renderedLetters,At=this.textProperty.currentData.l;_=At.length;var mt,gt=null,_t=null,Et=null,Ct,Bt,Dt=this.globalData.renderer;for(o=0;o<_;o+=1)if(!At[o].n){if(mt=ct[o],mt&&(Dt.save(),Dt.ctxTransform(mt.p),Dt.ctxOpacity(mt.o)),this.fill){for(mt&&mt.fc?gt!==mt.fc&&(Dt.ctxFillStyle(mt.fc),gt=mt.fc):gt!==this.values.fill&&(gt=this.values.fill,Dt.ctxFillStyle(this.values.fill)),Ct=this.textSpans[o].elem,et=Ct.length,this.globalData.canvasContext.beginPath(),j=0;j<et;j+=1)for(Bt=Ct[j],nt=Bt.length,this.globalData.canvasContext.moveTo(Bt[0],Bt[1]),st=2;st<nt;st+=6)this.globalData.canvasContext.bezierCurveTo(Bt[st],Bt[st+1],Bt[st+2],Bt[st+3],Bt[st+4],Bt[st+5]);this.globalData.canvasContext.closePath(),Dt.ctxFill()}if(this.stroke){for(mt&&mt.sw?Et!==mt.sw&&(Et=mt.sw,Dt.ctxLineWidth(mt.sw)):Et!==this.values.sWidth&&(Et=this.values.sWidth,Dt.ctxLineWidth(this.values.sWidth)),mt&&mt.sc?_t!==mt.sc&&(_t=mt.sc,Dt.ctxStrokeStyle(mt.sc)):_t!==this.values.stroke&&(_t=this.values.stroke,Dt.ctxStrokeStyle(this.values.stroke)),Ct=this.textSpans[o].elem,et=Ct.length,this.globalData.canvasContext.beginPath(),j=0;j<et;j+=1)for(Bt=Ct[j],nt=Bt.length,this.globalData.canvasContext.moveTo(Bt[0],Bt[1]),st=2;st<nt;st+=6)this.globalData.canvasContext.bezierCurveTo(Bt[st],Bt[st+1],Bt[st+2],Bt[st+3],Bt[st+4],Bt[st+5]);this.globalData.canvasContext.closePath(),Dt.ctxStroke()}mt&&this.globalData.renderer.restore()}};function CVImageElement(s,o,_){this.assetData=o.getAssetData(s.refId),this.img=o.imageLoader.getAsset(this.assetData),this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var s=createTag("canvas");s.width=this.assetData.w,s.height=this.assetData.h;var o=s.getContext("2d"),_=this.img.width,j=this.img.height,et=_/j,st=this.assetData.w/this.assetData.h,nt,ct,At=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;et>st&&At==="xMidYMid slice"||et<st&&At!=="xMidYMid slice"?(ct=j,nt=ct*st):(nt=_,ct=nt/st),o.drawImage(this.img,(_-nt)/2,(j-ct)/2,nt,ct,0,0,this.assetData.w,this.assetData.h),this.img=s}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(s,o,_){this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(s){return new CVShapeElement(s,this.globalData,this)},CanvasRendererBase.prototype.createText=function(s){return new CVTextElement(s,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(s){return new CVImageElement(s,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(s){return new CVSolidElement(s,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(s){s[0]===1&&s[1]===0&&s[4]===0&&s[5]===1&&s[12]===0&&s[13]===0||this.canvasContext.transform(s[0],s[1],s[4],s[5],s[12],s[13])},CanvasRendererBase.prototype.ctxOpacity=function(s){this.canvasContext.globalAlpha*=s<0?0:s},CanvasRendererBase.prototype.ctxFillStyle=function(s){this.canvasContext.fillStyle=s},CanvasRendererBase.prototype.ctxStrokeStyle=function(s){this.canvasContext.strokeStyle=s},CanvasRendererBase.prototype.ctxLineWidth=function(s){this.canvasContext.lineWidth=s},CanvasRendererBase.prototype.ctxLineCap=function(s){this.canvasContext.lineCap=s},CanvasRendererBase.prototype.ctxLineJoin=function(s){this.canvasContext.lineJoin=s},CanvasRendererBase.prototype.ctxMiterLimit=function(s){this.canvasContext.miterLimit=s},CanvasRendererBase.prototype.ctxFill=function(s){this.canvasContext.fill(s)},CanvasRendererBase.prototype.ctxFillRect=function(s,o,_,j){this.canvasContext.fillRect(s,o,_,j)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(s){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}s&&(this.globalData.blendMode="source-over"),this.contextData.restore(s)},CanvasRendererBase.prototype.configAnimation=function(s){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var o=this.animationItem.container.style;o.width="100%",o.height="100%";var _="0px 0px 0px";o.transformOrigin=_,o.mozTransformOrigin=_,o.webkitTransformOrigin=_,o["-webkit-transform"]=_,o.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=s,this.layers=s.layers,this.transformCanvas={w:s.w,h:s.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(s,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(s.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(s,o){this.reset();var _,j;s?(_=s,j=o,this.canvasContext.canvas.width=_,this.canvasContext.canvas.height=j):(this.animationItem.wrapper&&this.animationItem.container?(_=this.animationItem.wrapper.offsetWidth,j=this.animationItem.wrapper.offsetHeight):(_=this.canvasContext.canvas.width,j=this.canvasContext.canvas.height),this.canvasContext.canvas.width=_*this.renderConfig.dpr,this.canvasContext.canvas.height=j*this.renderConfig.dpr);var et,st;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var nt=this.renderConfig.preserveAspectRatio.split(" "),ct=nt[1]||"meet",At=nt[0]||"xMidYMid",mt=At.substr(0,4),gt=At.substr(4);et=_/j,st=this.transformCanvas.w/this.transformCanvas.h,st>et&&ct==="meet"||st<et&&ct==="slice"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr)),mt==="xMid"&&(st<et&&ct==="meet"||st>et&&ct==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*(j/this.transformCanvas.h))/2*this.renderConfig.dpr:mt==="xMax"&&(st<et&&ct==="meet"||st>et&&ct==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*(j/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,gt==="YMid"&&(st>et&&ct==="meet"||st<et&&ct==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_/this.transformCanvas.w))/2*this.renderConfig.dpr:gt==="YMax"&&(st>et&&ct==="meet"||st<et&&ct==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var s,o=this.layers?this.layers.length:0;for(s=o-1;s>=0;s-=1)this.elements[s]&&this.elements[s].destroy&&this.elements[s].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(s,o){if(!(this.renderedFrame===s&&this.renderConfig.clearCanvas===!0&&!o||this.destroyed||s===-1)){this.renderedFrame=s,this.globalData.frameNum=s-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||o,this.globalData.projectInterface.currentFrame=s;var _,j=this.layers.length;for(this.completeLayers||this.checkLayers(s),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame(s-this.layers[_].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(s){var o=this.elements;if(!(o[s]||this.layers[s].ty===99)){var _=this.createItem(this.layers[s],this,this.globalData);o[s]=_,_.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();s.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var s,o=15;for(s=0;s<o;s+=1){var _=new CanvasContext;this.stack[s]=_}this._length=o,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var s=this._length*2,o=0;for(o=this._length;o<s;o+=1)this.stack[o]=new CanvasContext;this._length=s},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(s){this.cArrPos-=1;var o=this.stack[this.cArrPos],_=o.transform,j,et=this.cTr.props;for(j=0;j<16;j+=1)et[j]=_[j];if(s){this.nativeContext.restore();var st=this.stack[this.cArrPos+1];this.appliedFillStyle=st.fillStyle,this.appliedStrokeStyle=st.strokeStyle,this.appliedLineWidth=st.lineWidth,this.appliedLineCap=st.lineCap,this.appliedLineJoin=st.lineJoin,this.appliedMiterLimit=st.miterLimit}this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13]),(s||o.opacity!==-1&&this.currentOpacity!==o.opacity)&&(this.nativeContext.globalAlpha=o.opacity,this.currentOpacity=o.opacity),this.currentFillStyle=o.fillStyle,this.currentStrokeStyle=o.strokeStyle,this.currentLineWidth=o.lineWidth,this.currentLineCap=o.lineCap,this.currentLineJoin=o.lineJoin,this.currentMiterLimit=o.miterLimit},CVContextData.prototype.save=function(s){s&&this.nativeContext.save();var o=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var _=this.stack[this.cArrPos],j;for(j=0;j<16;j+=1)_.transform[j]=o[j];this.cArrPos+=1;var et=this.stack[this.cArrPos];et.opacity=_.opacity,et.fillStyle=_.fillStyle,et.strokeStyle=_.strokeStyle,et.lineWidth=_.lineWidth,et.lineCap=_.lineCap,et.lineJoin=_.lineJoin,et.miterLimit=_.miterLimit},CVContextData.prototype.setOpacity=function(s){this.stack[this.cArrPos].opacity=s},CVContextData.prototype.setContext=function(s){this.nativeContext=s},CVContextData.prototype.fillStyle=function(s){this.stack[this.cArrPos].fillStyle!==s&&(this.currentFillStyle=s,this.stack[this.cArrPos].fillStyle=s)},CVContextData.prototype.strokeStyle=function(s){this.stack[this.cArrPos].strokeStyle!==s&&(this.currentStrokeStyle=s,this.stack[this.cArrPos].strokeStyle=s)},CVContextData.prototype.lineWidth=function(s){this.stack[this.cArrPos].lineWidth!==s&&(this.currentLineWidth=s,this.stack[this.cArrPos].lineWidth=s)},CVContextData.prototype.lineCap=function(s){this.stack[this.cArrPos].lineCap!==s&&(this.currentLineCap=s,this.stack[this.cArrPos].lineCap=s)},CVContextData.prototype.lineJoin=function(s){this.stack[this.cArrPos].lineJoin!==s&&(this.currentLineJoin=s,this.stack[this.cArrPos].lineJoin=s)},CVContextData.prototype.miterLimit=function(s){this.stack[this.cArrPos].miterLimit!==s&&(this.currentMiterLimit=s,this.stack[this.cArrPos].miterLimit=s)},CVContextData.prototype.transform=function(s){this.transformMat.cloneFromProps(s);var o=this.cTr;this.transformMat.multiply(o),o.cloneFromProps(this.transformMat.props);var _=o.props;this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13])},CVContextData.prototype.opacity=function(s){var o=this.stack[this.cArrPos].opacity;o*=s<0?0:s,this.stack[this.cArrPos].opacity!==o&&(this.currentOpacity!==s&&(this.nativeContext.globalAlpha=s,this.currentOpacity=s),this.stack[this.cArrPos].opacity=o)},CVContextData.prototype.fill=function(s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(s)},CVContextData.prototype.fillRect=function(s,o,_,j){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(s,o,_,j)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(s,o,_){this.completeLayers=!1,this.layers=s.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(s,o,_),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var s=this.canvasContext;s.beginPath(),s.moveTo(0,0),s.lineTo(this.data.w,0),s.lineTo(this.data.w,this.data.h),s.lineTo(0,this.data.h),s.lineTo(0,0),s.clip();var o,_=this.layers.length;for(o=_-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},CVCompElement.prototype.destroy=function(){var s,o=this.layers.length;for(s=o-1;s>=0;s-=1)this.elements[s]&&this.elements[s].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(s){return new CVCompElement(s,this.globalData,this)};function CanvasRenderer(s,o){this.animationItem=s,this.renderConfig={clearCanvas:o&&o.clearCanvas!==void 0?o.clearCanvas:!0,context:o&&o.context||null,progressiveLoad:o&&o.progressiveLoad||!1,preserveAspectRatio:o&&o.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:o&&o.contentVisibility||"visible",className:o&&o.className||"",id:o&&o.id||"",runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.renderConfig.dpr=o&&o.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=o&&o.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(s){return new CVCompElement(s,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var o=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _=this.finalTransform.mat.toCSS();o.transform=_,o.webkitTransform=_}this.finalTransform._opMdf&&(o.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(s,o,_){this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var s;this.data.hasMask?(s=createNS("rect"),s.setAttribute("width",this.data.sw),s.setAttribute("height",this.data.sh),s.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(s=createTag("div"),s.style.width=this.data.sw+"px",s.style.height=this.data.sh+"px",s.style.backgroundColor=this.data.sc),this.layerElement.appendChild(s)};function HShapeElement(s,o,_){this.shapes=[],this.shapesData=s.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(s,o,_),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var s;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),s=this.svgElement;else{s=createNS("svg");var o=this.comp.data?this.comp.data:this.globalData.compSize;s.setAttribute("width",o.w),s.setAttribute("height",o.h),s.appendChild(this.shapesContainer),this.layerElement.appendChild(s)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=s},HShapeElement.prototype.getTransformedPoint=function(s,o){var _,j=s.length;for(_=0;_<j;_+=1)o=s[_].mProps.v.applyToPointArray(o[0],o[1],0);return o},HShapeElement.prototype.calculateShapeBoundingBox=function(s,o){var _=s.sh.v,j=s.transformers,et,st=_._length,nt,ct,At,mt;if(!(st<=1)){for(et=0;et<st-1;et+=1)nt=this.getTransformedPoint(j,_.v[et]),ct=this.getTransformedPoint(j,_.o[et]),At=this.getTransformedPoint(j,_.i[et+1]),mt=this.getTransformedPoint(j,_.v[et+1]),this.checkBounds(nt,ct,At,mt,o);_.c&&(nt=this.getTransformedPoint(j,_.v[et]),ct=this.getTransformedPoint(j,_.o[et]),At=this.getTransformedPoint(j,_.i[0]),mt=this.getTransformedPoint(j,_.v[0]),this.checkBounds(nt,ct,At,mt,o))}},HShapeElement.prototype.checkBounds=function(s,o,_,j,et){this.getBoundsOfCurve(s,o,_,j);var st=this.shapeBoundingBox;et.x=bmMin(st.left,et.x),et.xMax=bmMax(st.right,et.xMax),et.y=bmMin(st.top,et.y),et.yMax=bmMax(st.bottom,et.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(s,o,_,j){for(var et=[[s[0],j[0]],[s[1],j[1]]],st,nt,ct,At,mt,gt,_t,Et=0;Et<2;++Et)nt=6*s[Et]-12*o[Et]+6*_[Et],st=-3*s[Et]+9*o[Et]-9*_[Et]+3*j[Et],ct=3*o[Et]-3*s[Et],nt|=0,st|=0,ct|=0,st===0&&nt===0||(st===0?(At=-ct/nt,At>0&&At<1&&et[Et].push(this.calculateF(At,s,o,_,j,Et))):(mt=nt*nt-4*ct*st,mt>=0&&(gt=(-nt+bmSqrt(mt))/(2*st),gt>0&&gt<1&&et[Et].push(this.calculateF(gt,s,o,_,j,Et)),_t=(-nt-bmSqrt(mt))/(2*st),_t>0&&_t<1&&et[Et].push(this.calculateF(_t,s,o,_,j,Et)))));this.shapeBoundingBox.left=bmMin.apply(null,et[0]),this.shapeBoundingBox.top=bmMin.apply(null,et[1]),this.shapeBoundingBox.right=bmMax.apply(null,et[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,et[1])},HShapeElement.prototype.calculateF=function(s,o,_,j,et,st){return bmPow(1-s,3)*o[st]+3*bmPow(1-s,2)*s*_[st]+3*(1-s)*bmPow(s,2)*j[st]+bmPow(s,3)*et[st]},HShapeElement.prototype.calculateBoundingBox=function(s,o){var _,j=s.length;for(_=0;_<j;_+=1)s[_]&&s[_].sh?this.calculateShapeBoundingBox(s[_],o):s[_]&&s[_].it?this.calculateBoundingBox(s[_].it,o):s[_]&&s[_].style&&s[_].w&&this.expandStrokeBoundingBox(s[_].w,o)},HShapeElement.prototype.expandStrokeBoundingBox=function(s,o){var _=0;if(s.keyframes){for(var j=0;j<s.keyframes.length;j+=1){var et=s.keyframes[j].s;et>_&&(_=et)}_*=s.mult}else _=s.v*s.mult;o.x-=_,o.xMax+=_,o.y-=_,o.yMax+=_},HShapeElement.prototype.currentBoxContains=function(s){return this.currentBBox.x<=s.x&&this.currentBBox.y<=s.y&&this.currentBBox.width+this.currentBBox.x>=s.x+s.width&&this.currentBBox.height+this.currentBBox.y>=s.y+s.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var s=this.tempBoundingBox,o=999999;if(s.x=o,s.xMax=-o,s.y=o,s.yMax=-o,this.calculateBoundingBox(this.itemsData,s),s.width=s.xMax<s.x?0:s.xMax-s.x,s.height=s.yMax<s.y?0:s.yMax-s.y,this.currentBoxContains(s))return;var _=!1;if(this.currentBBox.w!==s.width&&(this.currentBBox.w=s.width,this.shapeCont.setAttribute("width",s.width),_=!0),this.currentBBox.h!==s.height&&(this.currentBBox.h=s.height,this.shapeCont.setAttribute("height",s.height),_=!0),_||this.currentBBox.x!==s.x||this.currentBBox.y!==s.y){this.currentBBox.w=s.width,this.currentBBox.h=s.height,this.currentBBox.x=s.x,this.currentBBox.y=s.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var j=this.shapeCont.style,et="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";j.transform=et,j.webkitTransform=et}}};function HTextElement(s,o,_){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var s=createNS("g");this.maskedElement.appendChild(s),this.innerElem=s}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s.l?s.l.length:0);var o=this.innerElem.style,_=s.fc?this.buildColor(s.fc):"rgba(0,0,0,0)";o.fill=_,o.color=_,s.sc&&(o.stroke=this.buildColor(s.sc),o.strokeWidth=s.sw+"px");var j=this.globalData.fontManager.getFontByName(s.f);if(!this.globalData.fontManager.chars)if(o.fontSize=s.finalSize+"px",o.lineHeight=s.finalSize+"px",j.fClass)this.innerElem.className=j.fClass;else{o.fontFamily=j.fFamily;var et=s.fWeight,st=s.fStyle;o.fontStyle=st,o.fontWeight=et}var nt,ct,At=s.l;ct=At.length;var mt,gt,_t,Et=this.mHelper,Ct,Bt="",Dt=0;for(nt=0;nt<ct;nt+=1){if(this.globalData.fontManager.chars?(this.textPaths[Dt]?mt=this.textPaths[Dt]:(mt=createNS("path"),mt.setAttribute("stroke-linecap",lineCapEnum[1]),mt.setAttribute("stroke-linejoin",lineJoinEnum[2]),mt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Dt]?(gt=this.textSpans[Dt],_t=gt.children[0]):(gt=createTag("div"),gt.style.lineHeight=0,_t=createNS("svg"),_t.appendChild(mt),styleDiv(gt)))):this.isMasked?mt=this.textPaths[Dt]?this.textPaths[Dt]:createNS("text"):this.textSpans[Dt]?(gt=this.textSpans[Dt],mt=this.textPaths[Dt]):(gt=createTag("span"),styleDiv(gt),mt=createTag("span"),styleDiv(mt),gt.appendChild(mt)),this.globalData.fontManager.chars){var Ft=this.globalData.fontManager.getCharData(s.finalText[nt],j.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),Rt;if(Ft?Rt=Ft.data:Rt=null,Et.reset(),Rt&&Rt.shapes&&Rt.shapes.length&&(Ct=Rt.shapes[0].it,Et.scale(s.finalSize/100,s.finalSize/100),Bt=this.createPathShape(Et,Ct),mt.setAttribute("d",Bt)),this.isMasked)this.innerElem.appendChild(mt);else{if(this.innerElem.appendChild(gt),Rt&&Rt.shapes){document.body.appendChild(_t);var Nt=_t.getBBox();_t.setAttribute("width",Nt.width+2),_t.setAttribute("height",Nt.height+2),_t.setAttribute("viewBox",Nt.x-1+" "+(Nt.y-1)+" "+(Nt.width+2)+" "+(Nt.height+2));var Gt=_t.style,dr="translate("+(Nt.x-1)+"px,"+(Nt.y-1)+"px)";Gt.transform=dr,Gt.webkitTransform=dr,At[nt].yOffset=Nt.y-1}else _t.setAttribute("width",1),_t.setAttribute("height",1);gt.appendChild(_t)}}else if(mt.textContent=At[nt].val,mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(mt);else{this.innerElem.appendChild(gt);var ts=mt.style,es="translate3d(0,"+-s.finalSize/1.2+"px,0)";ts.transform=es,ts.webkitTransform=es}this.isMasked?this.textSpans[Dt]=mt:this.textSpans[Dt]=gt,this.textSpans[Dt].style.display="block",this.textPaths[Dt]=mt,Dt+=1}for(;Dt<this.textSpans.length;)this.textSpans[Dt].style.display="none",Dt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var s;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),s=this.svgElement.style;var o="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";s.transform=o,s.webkitTransform=o}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var _,j,et=0,st=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;j=nt.length;var ct,At,mt;for(_=0;_<j;_+=1)nt[_].n?et+=1:(At=this.textSpans[_],mt=this.textPaths[_],ct=st[et],et+=1,ct._mdf.m&&(this.isMasked?At.setAttribute("transform",ct.m):(At.style.webkitTransform=ct.m,At.style.transform=ct.m)),At.style.opacity=ct.o,ct.sw&&ct._mdf.sw&&mt.setAttribute("stroke-width",ct.sw),ct.sc&&ct._mdf.sc&&mt.setAttribute("stroke",ct.sc),ct.fc&&ct._mdf.fc&&(mt.setAttribute("fill",ct.fc),mt.style.color=ct.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var gt=this.innerElem.getBBox();this.currentBBox.w!==gt.width&&(this.currentBBox.w=gt.width,this.svgElement.setAttribute("width",gt.width)),this.currentBBox.h!==gt.height&&(this.currentBBox.h=gt.height,this.svgElement.setAttribute("height",gt.height));var _t=1;if(this.currentBBox.w!==gt.width+_t*2||this.currentBBox.h!==gt.height+_t*2||this.currentBBox.x!==gt.x-_t||this.currentBBox.y!==gt.y-_t){this.currentBBox.w=gt.width+_t*2,this.currentBBox.h=gt.height+_t*2,this.currentBBox.x=gt.x-_t,this.currentBBox.y=gt.y-_t,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),s=this.svgElement.style;var Et="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=Et,s.webkitTransform=Et}}}};function HCameraElement(s,o,_){this.initFrame(),this.initBaseData(s,o,_),this.initHierarchy();var j=PropertyFactory.getProp;if(this.pe=j(this,s.pe,0,0,this),s.ks.p.s?(this.px=j(this,s.ks.p.x,1,0,this),this.py=j(this,s.ks.p.y,1,0,this),this.pz=j(this,s.ks.p.z,1,0,this)):this.p=j(this,s.ks.p,1,0,this),s.ks.a&&(this.a=j(this,s.ks.a,1,0,this)),s.ks.or.k.length&&s.ks.or.k[0].to){var et,st=s.ks.or.k.length;for(et=0;et<st;et+=1)s.ks.or.k[et].to=null,s.ks.or.k[et].ti=null}this.or=j(this,s.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=j(this,s.ks.rx,0,degToRads,this),this.ry=j(this,s.ks.ry,0,degToRads,this),this.rz=j(this,s.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var s,o=this.comp.threeDElements.length,_,j,et;for(s=0;s<o;s+=1)if(_=this.comp.threeDElements[s],_.type==="3d"){j=_.perspectiveElem.style,et=_.container.style;var st=this.pe.v+"px",nt="0px 0px 0px",ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";j.perspective=st,j.webkitPerspective=st,et.transformOrigin=nt,et.mozTransformOrigin=nt,et.webkitTransformOrigin=nt,j.transform=ct,j.webkitTransform=ct}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var s=this._isFirstFrame,o,_;if(this.hierarchy)for(_=this.hierarchy.length,o=0;o<_;o+=1)s=this.hierarchy[o].finalTransform.mProp._mdf||s;if(s||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(_=this.hierarchy.length-1,o=_;o>=0;o-=1){var j=this.hierarchy[o].finalTransform.mProp;this.mat.translate(-j.p.v[0],-j.p.v[1],j.p.v[2]),this.mat.rotateX(-j.or.v[0]).rotateY(-j.or.v[1]).rotateZ(j.or.v[2]),this.mat.rotateX(-j.rx.v).rotateY(-j.ry.v).rotateZ(j.rz.v),this.mat.scale(1/j.s.v[0],1/j.s.v[1],1/j.s.v[2]),this.mat.translate(j.a.v[0],j.a.v[1],j.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var et;this.p?et=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:et=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var st=Math.sqrt(Math.pow(et[0],2)+Math.pow(et[1],2)+Math.pow(et[2],2)),nt=[et[0]/st,et[1]/st,et[2]/st],ct=Math.sqrt(nt[2]*nt[2]+nt[0]*nt[0]),At=Math.atan2(nt[1],ct),mt=Math.atan2(nt[0],-nt[2]);this.mat.rotateY(mt).rotateX(-At)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var gt=!this._prevMat.equals(this.mat);if((gt||this.pe._mdf)&&this.comp.threeDElements){_=this.comp.threeDElements.length;var _t,Et,Ct;for(o=0;o<_;o+=1)if(_t=this.comp.threeDElements[o],_t.type==="3d"){if(gt){var Bt=this.mat.toCSS();Ct=_t.container.style,Ct.transform=Bt,Ct.webkitTransform=Bt}this.pe._mdf&&(Et=_t.perspectiveElem.style,Et.perspective=this.pe.v+"px",Et.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(s){this.prepareProperties(s,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(s,o,_){this.assetData=o.getAssetData(s.refId),this.initElement(s,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var s=this.globalData.getAssetsPath(this.assetData),o=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",s),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(o),o.crossOrigin="anonymous",o.src=s,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(s,o){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:o&&o.className||"",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(o&&o.hideOnTransparent===!1),filterSize:{width:o&&o.filterSize&&o.filterSize.width||"400%",height:o&&o.filterSize&&o.filterSize.height||"400%",x:o&&o.filterSize&&o.filterSize.x||"-100%",y:o&&o.filterSize&&o.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var s=this.pendingElements.pop();s.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(s,o){var _=s.getBaseElement();if(_){var j=this.layers[o];if(!j.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(_,o);else{for(var et=0,st,nt,ct;et<o;)this.elements[et]&&this.elements[et]!==!0&&this.elements[et].getBaseElement&&(nt=this.elements[et],ct=this.layers[et].ddd?this.getThreeDContainerByPos(et):nt.getBaseElement(),st=ct||st),et+=1;st?(!j.ddd||!this.supports3d)&&this.layerElement.insertBefore(_,st):(!j.ddd||!this.supports3d)&&this.layerElement.appendChild(_)}else this.addTo3dContainer(_,o)}},HybridRendererBase.prototype.createShape=function(s){return this.supports3d?new HShapeElement(s,this.globalData,this):new SVGShapeElement(s,this.globalData,this)},HybridRendererBase.prototype.createText=function(s){return this.supports3d?new HTextElement(s,this.globalData,this):new SVGTextLottieElement(s,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(s){return this.camera=new HCameraElement(s,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(s){return this.supports3d?new HImageElement(s,this.globalData,this):new IImageElement(s,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(s){return this.supports3d?new HSolidElement(s,this.globalData,this):new ISolidElement(s,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(s){for(var o=0,_=this.threeDElements.length;o<_;){if(this.threeDElements[o].startPos<=s&&this.threeDElements[o].endPos>=s)return this.threeDElements[o].perspectiveElem;o+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(s,o){var _=createTag("div"),j,et;styleDiv(_);var st=createTag("div");if(styleDiv(st),o==="3d"){j=_.style,j.width=this.globalData.compSize.w+"px",j.height=this.globalData.compSize.h+"px";var nt="50% 50%";j.webkitTransformOrigin=nt,j.mozTransformOrigin=nt,j.transformOrigin=nt,et=st.style;var ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";et.transform=ct,et.webkitTransform=ct}_.appendChild(st);var At={container:st,perspectiveElem:_,startPos:s,endPos:s,type:o};return this.threeDElements.push(At),At},HybridRendererBase.prototype.build3dContainers=function(){var s,o=this.layers.length,_,j="";for(s=0;s<o;s+=1)this.layers[s].ddd&&this.layers[s].ty!==3?(j!=="3d"&&(j="3d",_=this.createThreeDContainer(s,"3d")),_.endPos=Math.max(_.endPos,s)):(j!=="2d"&&(j="2d",_=this.createThreeDContainer(s,"2d")),_.endPos=Math.max(_.endPos,s));for(o=this.threeDElements.length,s=o-1;s>=0;s-=1)this.resizerElem.appendChild(this.threeDElements[s].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(s,o){for(var _=0,j=this.threeDElements.length;_<j;){if(o<=this.threeDElements[_].endPos){for(var et=this.threeDElements[_].startPos,st;et<o;)this.elements[et]&&this.elements[et].getBaseElement&&(st=this.elements[et].getBaseElement()),et+=1;st?this.threeDElements[_].container.insertBefore(s,st):this.threeDElements[_].container.appendChild(s);break}_+=1}},HybridRendererBase.prototype.configAnimation=function(s){var o=createTag("div"),_=this.animationItem.wrapper,j=o.style;j.width=s.w+"px",j.height=s.h+"px",this.resizerElem=o,styleDiv(o),j.transformStyle="flat",j.mozTransformStyle="flat",j.webkitTransformStyle="flat",this.renderConfig.className&&o.setAttribute("class",this.renderConfig.className),_.appendChild(o),j.overflow="hidden";var et=createNS("svg");et.setAttribute("width","1"),et.setAttribute("height","1"),styleDiv(et),this.resizerElem.appendChild(et);var st=createNS("defs");et.appendChild(st),this.data=s,this.setupGlobalData(s,et),this.globalData.defs=st,this.layers=s.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var s,o=this.layers?this.layers.length:0;for(s=0;s<o;s+=1)this.elements[s]&&this.elements[s].destroy&&this.elements[s].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var s=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,_=s/o,j=this.globalData.compSize.w/this.globalData.compSize.h,et,st,nt,ct;j>_?(et=s/this.globalData.compSize.w,st=s/this.globalData.compSize.w,nt=0,ct=(o-this.globalData.compSize.h*(s/this.globalData.compSize.w))/2):(et=o/this.globalData.compSize.h,st=o/this.globalData.compSize.h,nt=(s-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,ct=0);var At=this.resizerElem.style;At.webkitTransform="matrix3d("+et+",0,0,0,0,"+st+",0,0,0,0,1,0,"+nt+","+ct+",0,1)",At.transform=At.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var s=this.globalData.compSize.w,o=this.globalData.compSize.h,_,j=this.threeDElements.length;for(_=0;_<j;_+=1){var et=this.threeDElements[_].perspectiveElem.style;et.webkitPerspective=Math.sqrt(Math.pow(s,2)+Math.pow(o,2))+"px",et.perspective=et.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(s){var o,_=s.length,j=createTag("div");for(o=0;o<_;o+=1)if(s[o].xt){var et=this.createComp(s[o],j,this.globalData.comp,null);et.initExpressions(),this.globalData.projectInterface.registerComposition(et)}};function HCompElement(s,o,_){this.layers=s.layers,this.supports3d=!s.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(s,o,_),this.tm=s.tm?PropertyFactory.getProp(this,s.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(s,o){for(var _=0,j;_<o;)this.elements[_]&&this.elements[_].getBaseElement&&(j=this.elements[_].getBaseElement()),_+=1;j?this.layerElement.insertBefore(s,j):this.layerElement.appendChild(s)},HCompElement.prototype.createComp=function(s){return this.supports3d?new HCompElement(s,this.globalData,this):new SVGCompElement(s,this.globalData,this)};function HybridRenderer(s,o){this.animationItem=s,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:o&&o.className||"",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(o&&o.hideOnTransparent===!1),filterSize:{width:o&&o.filterSize&&o.filterSize.width||"400%",height:o&&o.filterSize&&o.filterSize.height||"400%",x:o&&o.filterSize&&o.filterSize.x||"-100%",y:o&&o.filterSize&&o.filterSize.y||"-100%"},runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(s){return this.supports3d?new HCompElement(s,this.globalData,this):new SVGCompElement(s,this.globalData,this)};var CompExpressionInterface=function(){return function(s){function o(_){for(var j=0,et=s.layers.length;j<et;){if(s.layers[j].nm===_||s.layers[j].ind===_)return s.elements[j].layerInterface;j+=1}return null}return Object.defineProperty(o,"_name",{value:s.data.nm}),o.layer=o,o.pixelAspect=1,o.height=s.data.h||s.globalData.compSize.h,o.width=s.data.w||s.globalData.compSize.w,o.pixelAspect=1,o.frameDuration=1/s.globalData.frameRate,o.displayStartTime=0,o.numLayers=s.layers.length,o}}();function _typeof$2(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(_){return typeof _}:_typeof$2=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$2(s)}function seedRandom(s,o){var _=this,j=256,et=6,st=52,nt="random",ct=o.pow(j,et),At=o.pow(2,st),mt=At*2,gt=j-1,_t;function Et(Gt,dr,ts){var es=[];dr=dr===!0?{entropy:!0}:dr||{};var ds=Ft(Dt(dr.entropy?[Gt,Nt(s)]:Gt===null?Rt():Gt,3),es),tn=new Ct(es),rn=function(){for(var $n=tn.g(et),kn=ct,lo=0;$n<At;)$n=($n+lo)*j,kn*=j,lo=tn.g(1);for(;$n>=mt;)$n/=2,kn/=2,lo>>>=1;return($n+lo)/kn};return rn.int32=function(){return tn.g(4)|0},rn.quick=function(){return tn.g(4)/4294967296},rn.double=rn,Ft(Nt(tn.S),s),(dr.pass||ts||function(un,$n,kn,lo){return lo&&(lo.S&&Bt(lo,tn),un.state=function(){return Bt(tn,{})}),kn?(o[nt]=un,$n):un})(rn,ds,"global"in dr?dr.global:this==o,dr.state)}o["seed"+nt]=Et;function Ct(Gt){var dr,ts=Gt.length,es=this,ds=0,tn=es.i=es.j=0,rn=es.S=[];for(ts||(Gt=[ts++]);ds<j;)rn[ds]=ds++;for(ds=0;ds<j;ds++)rn[ds]=rn[tn=gt&tn+Gt[ds%ts]+(dr=rn[ds])],rn[tn]=dr;es.g=function(un){for(var $n,kn=0,lo=es.i,Il=es.j,cu=es.S;un--;)$n=cu[lo=gt&lo+1],kn=kn*j+cu[gt&(cu[lo]=cu[Il=gt&Il+$n])+(cu[Il]=$n)];return es.i=lo,es.j=Il,kn}}function Bt(Gt,dr){return dr.i=Gt.i,dr.j=Gt.j,dr.S=Gt.S.slice(),dr}function Dt(Gt,dr){var ts=[],es=_typeof$2(Gt),ds;if(dr&&es=="object")for(ds in Gt)try{ts.push(Dt(Gt[ds],dr-1))}catch{}return ts.length?ts:es=="string"?Gt:Gt+"\0"}function Ft(Gt,dr){for(var ts=Gt+"",es,ds=0;ds<ts.length;)dr[gt&ds]=gt&(es^=dr[gt&ds]*19)+ts.charCodeAt(ds++);return Nt(dr)}function Rt(){try{var Gt=new Uint8Array(j);return(_.crypto||_.msCrypto).getRandomValues(Gt),Nt(Gt)}catch{var dr=_.navigator,ts=dr&&dr.plugins;return[+new Date,_,ts,_.screen,Nt(s)]}}function Nt(Gt){return String.fromCharCode.apply(0,Gt)}Ft(o.random(),s)}function initialize$2(s){seedRandom([],s)}var propTypes={SHAPE:"shape"};function _typeof$1(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(_){return typeof _}:_typeof$1=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$1(s)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(s){return s.constructor===Array||s.constructor===Float32Array}function isNumerable(s,o){return s==="number"||o instanceof Number||s==="boolean"||s==="string"}function $bm_neg(s){var o=_typeof$1(s);if(o==="number"||s instanceof Number||o==="boolean")return-s;if($bm_isInstanceOfArray(s)){var _,j=s.length,et=[];for(_=0;_<j;_+=1)et[_]=-s[_];return et}return s.propType?s.v:-s}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(s,o){var _=_typeof$1(s),j=_typeof$1(o);if(isNumerable(_,s)&&isNumerable(j,o)||_==="string"||j==="string")return s+o;if($bm_isInstanceOfArray(s)&&isNumerable(j,o))return s=s.slice(0),s[0]+=o,s;if(isNumerable(_,s)&&$bm_isInstanceOfArray(o))return o=o.slice(0),o[0]=s+o[0],o;if($bm_isInstanceOfArray(s)&&$bm_isInstanceOfArray(o)){for(var et=0,st=s.length,nt=o.length,ct=[];et<st||et<nt;)(typeof s[et]=="number"||s[et]instanceof Number)&&(typeof o[et]=="number"||o[et]instanceof Number)?ct[et]=s[et]+o[et]:ct[et]=o[et]===void 0?s[et]:s[et]||o[et],et+=1;return ct}return 0}var add=sum;function sub(s,o){var _=_typeof$1(s),j=_typeof$1(o);if(isNumerable(_,s)&&isNumerable(j,o))return _==="string"&&(s=parseInt(s,10)),j==="string"&&(o=parseInt(o,10)),s-o;if($bm_isInstanceOfArray(s)&&isNumerable(j,o))return s=s.slice(0),s[0]-=o,s;if(isNumerable(_,s)&&$bm_isInstanceOfArray(o))return o=o.slice(0),o[0]=s-o[0],o;if($bm_isInstanceOfArray(s)&&$bm_isInstanceOfArray(o)){for(var et=0,st=s.length,nt=o.length,ct=[];et<st||et<nt;)(typeof s[et]=="number"||s[et]instanceof Number)&&(typeof o[et]=="number"||o[et]instanceof Number)?ct[et]=s[et]-o[et]:ct[et]=o[et]===void 0?s[et]:s[et]||o[et],et+=1;return ct}return 0}function mul(s,o){var _=_typeof$1(s),j=_typeof$1(o),et;if(isNumerable(_,s)&&isNumerable(j,o))return s*o;var st,nt;if($bm_isInstanceOfArray(s)&&isNumerable(j,o)){for(nt=s.length,et=createTypedArray("float32",nt),st=0;st<nt;st+=1)et[st]=s[st]*o;return et}if(isNumerable(_,s)&&$bm_isInstanceOfArray(o)){for(nt=o.length,et=createTypedArray("float32",nt),st=0;st<nt;st+=1)et[st]=s*o[st];return et}return 0}function div(s,o){var _=_typeof$1(s),j=_typeof$1(o),et;if(isNumerable(_,s)&&isNumerable(j,o))return s/o;var st,nt;if($bm_isInstanceOfArray(s)&&isNumerable(j,o)){for(nt=s.length,et=createTypedArray("float32",nt),st=0;st<nt;st+=1)et[st]=s[st]/o;return et}if(isNumerable(_,s)&&$bm_isInstanceOfArray(o)){for(nt=o.length,et=createTypedArray("float32",nt),st=0;st<nt;st+=1)et[st]=s/o[st];return et}return 0}function mod(s,o){return typeof s=="string"&&(s=parseInt(s,10)),typeof o=="string"&&(o=parseInt(o,10)),s%o}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(s,o,_){if(o>_){var j=_;_=o,o=j}return Math.min(Math.max(s,o),_)}function radiansToDegrees(s){return s/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(s){return s*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(s,o){if(typeof s=="number"||s instanceof Number)return o=o||0,Math.abs(s-o);o||(o=helperLengthArray);var _,j=Math.min(s.length,o.length),et=0;for(_=0;_<j;_+=1)et+=Math.pow(o[_]-s[_],2);return Math.sqrt(et)}function normalize(s){return div(s,length(s))}function rgbToHsl(s){var o=s[0],_=s[1],j=s[2],et=Math.max(o,_,j),st=Math.min(o,_,j),nt,ct,At=(et+st)/2;if(et===st)nt=0,ct=0;else{var mt=et-st;switch(ct=At>.5?mt/(2-et-st):mt/(et+st),et){case o:nt=(_-j)/mt+(_<j?6:0);break;case _:nt=(j-o)/mt+2;break;case j:nt=(o-_)/mt+4;break}nt/=6}return[nt,ct,At,s[3]]}function hue2rgb(s,o,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?s+(o-s)*6*_:_<1/2?o:_<2/3?s+(o-s)*(2/3-_)*6:s}function hslToRgb(s){var o=s[0],_=s[1],j=s[2],et,st,nt;if(_===0)et=j,nt=j,st=j;else{var ct=j<.5?j*(1+_):j+_-j*_,At=2*j-ct;et=hue2rgb(At,ct,o+1/3),st=hue2rgb(At,ct,o),nt=hue2rgb(At,ct,o-1/3)}return[et,st,nt,s[3]]}function linear(s,o,_,j,et){if((j===void 0||et===void 0)&&(j=o,et=_,o=0,_=1),_<o){var st=_;_=o,o=st}if(s<=o)return j;if(s>=_)return et;var nt=_===o?0:(s-o)/(_-o);if(!j.length)return j+(et-j)*nt;var ct,At=j.length,mt=createTypedArray("float32",At);for(ct=0;ct<At;ct+=1)mt[ct]=j[ct]+(et[ct]-j[ct])*nt;return mt}function random(s,o){if(o===void 0&&(s===void 0?(s=0,o=1):(o=s,s=void 0)),o.length){var _,j=o.length;s||(s=createTypedArray("float32",j));var et=createTypedArray("float32",j),st=BMMath.random();for(_=0;_<j;_+=1)et[_]=s[_]+st*(o[_]-s[_]);return et}s===void 0&&(s=0);var nt=BMMath.random();return s+nt*(o-s)}function createPath(s,o,_,j){var et,st=s.length,nt=shapePool.newElement();nt.setPathData(!!j,st);var ct=[0,0],At,mt;for(et=0;et<st;et+=1)At=o&&o[et]?o[et]:ct,mt=_&&_[et]?_[et]:ct,nt.setTripleAt(s[et][0],s[et][1],mt[0]+s[et][0],mt[1]+s[et][1],At[0]+s[et][0],At[1]+s[et][1],et,!0);return nt}function initiateExpression(elem,data,property){function noOp(s){return s}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function s(o,_){var j,et,st=this.pv.length?this.pv.length:1,nt=createTypedArray("float32",st);o=5;var ct=Math.floor(time*o);for(j=0,et=0;j<ct;){for(et=0;et<st;et+=1)nt[et]+=-_+_*2*BMMath.random();j+=1}var At=time*o,mt=At-Math.floor(At),gt=createTypedArray("float32",st);if(st>1){for(et=0;et<st;et+=1)gt[et]=this.pv[et]+nt[et]+(-_+_*2*BMMath.random())*mt;return gt}return this.pv+nt[0]+(-_+_*2*BMMath.random())*mt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(s,o){return loopIn(s,o,!0)}function loopOutDuration(s,o){return loopOut(s,o,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(s,o){var _=[o[0]-s[0],o[1]-s[1],o[2]-s[2]],j=Math.atan2(_[0],Math.sqrt(_[1]*_[1]+_[2]*_[2]))/degToRads,et=-Math.atan2(_[1],_[2])/degToRads;return[et,j,0]}function easeOut(s,o,_,j,et){return applyEase(easeOutBez,s,o,_,j,et)}function easeIn(s,o,_,j,et){return applyEase(easeInBez,s,o,_,j,et)}function ease(s,o,_,j,et){return applyEase(easeInOutBez,s,o,_,j,et)}function applyEase(s,o,_,j,et,st){et===void 0?(et=_,st=j):o=(o-_)/(j-_),o>1?o=1:o<0&&(o=0);var nt=s(o);if($bm_isInstanceOfArray(et)){var ct,At=et.length,mt=createTypedArray("float32",At);for(ct=0;ct<At;ct+=1)mt[ct]=(st[ct]-et[ct])*nt+et[ct];return mt}return(st-et)*nt+et}function nearestKey(s){var o,_=data.k.length,j,et;if(!data.k.length||typeof data.k[0]=="number")j=0,et=0;else if(j=-1,s*=elem.comp.globalData.frameRate,s<data.k[0].t)j=1,et=data.k[0].t;else{for(o=0;o<_-1;o+=1)if(s===data.k[o].t){j=o+1,et=data.k[o].t;break}else if(s>data.k[o].t&&s<data.k[o+1].t){s-data.k[o].t>data.k[o+1].t-s?(j=o+2,et=data.k[o+1].t):(j=o+1,et=data.k[o].t);break}j===-1&&(j=o+1,et=data.k[o].t)}var st={};return st.index=j,st.time=et/elem.comp.globalData.frameRate,st}function key(s){var o,_,j;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+s);s-=1,o={time:data.k[s].t/elem.comp.globalData.frameRate,value:[]};var et=Object.prototype.hasOwnProperty.call(data.k[s],"s")?data.k[s].s:data.k[s-1].e;for(j=et.length,_=0;_<j;_+=1)o[_]=et[_],o.value[_]=et[_];return o}function framesToTime(s,o){return o||(o=elem.comp.globalData.frameRate),s/o}function timeToFrames(s,o){return!s&&s!==0&&(s=time),o||(o=elem.comp.globalData.frameRate),s*o}function seedRandom(s){BMMath.seedrandom(randSeed+s)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(s,o){return typeof value=="string"?o===void 0?value.substring(s):value.substring(s,o):""}function substr(s,o){return typeof value=="string"?o===void 0?value.substr(s):value.substr(s,o):""}function posterizeTime(s){time=s===0?0:Math.floor(time*s)/s,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(s){return value=s,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var s={};s.initExpressions=o,s.resetFrame=ExpressionManager.resetFrame;function o(_){var j=0,et=[];function st(){j+=1}function nt(){j-=1,j===0&&At()}function ct(mt){et.indexOf(mt)===-1&&et.push(mt)}function At(){var mt,gt=et.length;for(mt=0;mt<gt;mt+=1)et[mt].release();et.length=0}_.renderer.compInterface=CompExpressionInterface(_.renderer),_.renderer.globalData.projectInterface.registerComposition(_.renderer),_.renderer.globalData.pushExpression=st,_.renderer.globalData.popExpression=nt,_.renderer.globalData.registerExpressionProperty=ct}return s}(),MaskManagerInterface=function(){function s(_,j){this._mask=_,this._data=j}Object.defineProperty(s.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(s.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var o=function(j){var et=createSizedArray(j.viewData.length),st,nt=j.viewData.length;for(st=0;st<nt;st+=1)et[st]=new s(j.viewData[st],j.masksProperties[st]);var ct=function(mt){for(st=0;st<nt;){if(j.masksProperties[st].nm===mt)return et[st];st+=1}return null};return ct};return o}(),ExpressionPropertyInterface=function(){var s={pv:0,v:0,mult:1},o={pv:[0,0,0],v:[0,0,0],mult:1};function _(nt,ct,At){Object.defineProperty(nt,"velocity",{get:function(){return ct.getVelocityAtTime(ct.comp.currentFrame)}}),nt.numKeys=ct.keyframes?ct.keyframes.length:0,nt.key=function(mt){if(!nt.numKeys)return 0;var gt="";"s"in ct.keyframes[mt-1]?gt=ct.keyframes[mt-1].s:"e"in ct.keyframes[mt-2]?gt=ct.keyframes[mt-2].e:gt=ct.keyframes[mt-2].s;var _t=At==="unidimensional"?new Number(gt):Object.assign({},gt);return _t.time=ct.keyframes[mt-1].t/ct.elem.comp.globalData.frameRate,_t.value=At==="unidimensional"?gt[0]:gt,_t},nt.valueAtTime=ct.getValueAtTime,nt.speedAtTime=ct.getSpeedAtTime,nt.velocityAtTime=ct.getVelocityAtTime,nt.propertyGroup=ct.propertyGroup}function j(nt){(!nt||!("pv"in nt))&&(nt=s);var ct=1/nt.mult,At=nt.pv*ct,mt=new Number(At);return mt.value=At,_(mt,nt,"unidimensional"),function(){return nt.k&&nt.getValue(),At=nt.v*ct,mt.value!==At&&(mt=new Number(At),mt.value=At,_(mt,nt,"unidimensional")),mt}}function et(nt){(!nt||!("pv"in nt))&&(nt=o);var ct=1/nt.mult,At=nt.data&&nt.data.l||nt.pv.length,mt=createTypedArray("float32",At),gt=createTypedArray("float32",At);return mt.value=gt,_(mt,nt,"multidimensional"),function(){nt.k&&nt.getValue();for(var _t=0;_t<At;_t+=1)gt[_t]=nt.v[_t]*ct,mt[_t]=gt[_t];return mt}}function st(){return s}return function(nt){return nt?nt.propType==="unidimensional"?j(nt):et(nt):st}}(),TransformExpressionInterface=function(){return function(s){function o(nt){switch(nt){case"scale":case"Scale":case"ADBE Scale":case 6:return o.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return o.rotation;case"ADBE Rotate X":return o.xRotation;case"ADBE Rotate Y":return o.yRotation;case"position":case"Position":case"ADBE Position":case 2:return o.position;case"ADBE Position_0":return o.xPosition;case"ADBE Position_1":return o.yPosition;case"ADBE Position_2":return o.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return o.anchorPoint;case"opacity":case"Opacity":case 11:return o.opacity;default:return null}}Object.defineProperty(o,"rotation",{get:ExpressionPropertyInterface(s.r||s.rz)}),Object.defineProperty(o,"zRotation",{get:ExpressionPropertyInterface(s.rz||s.r)}),Object.defineProperty(o,"xRotation",{get:ExpressionPropertyInterface(s.rx)}),Object.defineProperty(o,"yRotation",{get:ExpressionPropertyInterface(s.ry)}),Object.defineProperty(o,"scale",{get:ExpressionPropertyInterface(s.s)});var _,j,et,st;return s.p?st=ExpressionPropertyInterface(s.p):(_=ExpressionPropertyInterface(s.px),j=ExpressionPropertyInterface(s.py),s.pz&&(et=ExpressionPropertyInterface(s.pz))),Object.defineProperty(o,"position",{get:function(){return s.p?st():[_(),j(),et?et():0]}}),Object.defineProperty(o,"xPosition",{get:ExpressionPropertyInterface(s.px)}),Object.defineProperty(o,"yPosition",{get:ExpressionPropertyInterface(s.py)}),Object.defineProperty(o,"zPosition",{get:ExpressionPropertyInterface(s.pz)}),Object.defineProperty(o,"anchorPoint",{get:ExpressionPropertyInterface(s.a)}),Object.defineProperty(o,"opacity",{get:ExpressionPropertyInterface(s.o)}),Object.defineProperty(o,"skew",{get:ExpressionPropertyInterface(s.sk)}),Object.defineProperty(o,"skewAxis",{get:ExpressionPropertyInterface(s.sa)}),Object.defineProperty(o,"orientation",{get:ExpressionPropertyInterface(s.or)}),o}}(),LayerExpressionInterface=function(){function s(mt){var gt=new Matrix;if(mt!==void 0){var _t=this._elem.finalTransform.mProp.getValueAtTime(mt);_t.clone(gt)}else{var Et=this._elem.finalTransform.mProp;Et.applyToMatrix(gt)}return gt}function o(mt,gt){var _t=this.getMatrix(gt);return _t.props[12]=0,_t.props[13]=0,_t.props[14]=0,this.applyPoint(_t,mt)}function _(mt,gt){var _t=this.getMatrix(gt);return this.applyPoint(_t,mt)}function j(mt,gt){var _t=this.getMatrix(gt);return _t.props[12]=0,_t.props[13]=0,_t.props[14]=0,this.invertPoint(_t,mt)}function et(mt,gt){var _t=this.getMatrix(gt);return this.invertPoint(_t,mt)}function st(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _t,Et=this._elem.hierarchy.length;for(_t=0;_t<Et;_t+=1)this._elem.hierarchy[_t].finalTransform.mProp.applyToMatrix(mt)}return mt.applyToPointArray(gt[0],gt[1],gt[2]||0)}function nt(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var _t,Et=this._elem.hierarchy.length;for(_t=0;_t<Et;_t+=1)this._elem.hierarchy[_t].finalTransform.mProp.applyToMatrix(mt)}return mt.inversePoint(gt)}function ct(mt){var gt=new Matrix;if(gt.reset(),this._elem.finalTransform.mProp.applyToMatrix(gt),this._elem.hierarchy&&this._elem.hierarchy.length){var _t,Et=this._elem.hierarchy.length;for(_t=0;_t<Et;_t+=1)this._elem.hierarchy[_t].finalTransform.mProp.applyToMatrix(gt);return gt.inversePoint(mt)}return gt.inversePoint(mt)}function At(){return[1,1,1,1]}return function(mt){var gt;function _t(Dt){Ct.mask=new MaskManagerInterface(Dt,mt)}function Et(Dt){Ct.effect=Dt}function Ct(Dt){switch(Dt){case"ADBE Root Vectors Group":case"Contents":case 2:return Ct.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return gt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Ct.effect;case"ADBE Text Properties":return Ct.textInterface;default:return null}}Ct.getMatrix=s,Ct.invertPoint=nt,Ct.applyPoint=st,Ct.toWorld=_,Ct.toWorldVec=o,Ct.fromWorld=et,Ct.fromWorldVec=j,Ct.toComp=_,Ct.fromComp=ct,Ct.sampleImage=At,Ct.sourceRectAtTime=mt.sourceRectAtTime.bind(mt),Ct._elem=mt,gt=TransformExpressionInterface(mt.finalTransform.mProp);var Bt=getDescriptor(gt,"anchorPoint");return Object.defineProperties(Ct,{hasParent:{get:function(){return mt.hierarchy.length}},parent:{get:function(){return mt.hierarchy[0].layerInterface}},rotation:getDescriptor(gt,"rotation"),scale:getDescriptor(gt,"scale"),position:getDescriptor(gt,"position"),opacity:getDescriptor(gt,"opacity"),anchorPoint:Bt,anchor_point:Bt,transform:{get:function(){return gt}},active:{get:function(){return mt.isInRange}}}),Ct.startTime=mt.data.st,Ct.index=mt.data.ind,Ct.source=mt.data.refId,Ct.height=mt.data.ty===0?mt.data.h:100,Ct.width=mt.data.ty===0?mt.data.w:100,Ct.inPoint=mt.data.ip/mt.comp.globalData.frameRate,Ct.outPoint=mt.data.op/mt.comp.globalData.frameRate,Ct._name=mt.data.nm,Ct.registerMaskInterface=_t,Ct.registerEffectsInterface=Et,Ct}}(),propertyGroupFactory=function(){return function(s,o){return function(_){return _=_===void 0?1:_,_<=0?s:o(_-1)}}}(),PropertyInterface=function(){return function(s,o){var _={_name:s};function j(et){return et=et===void 0?1:et,et<=0?_:o(et-1)}return j}}(),EffectsExpressionInterface=function(){var s={createEffectsInterface:o};function o(et,st){if(et.effectsManager){var nt=[],ct=et.data.ef,At,mt=et.effectsManager.effectElements.length;for(At=0;At<mt;At+=1)nt.push(_(ct[At],et.effectsManager.effectElements[At],st,et));var gt=et.data.ef||[],_t=function(Ct){for(At=0,mt=gt.length;At<mt;){if(Ct===gt[At].nm||Ct===gt[At].mn||Ct===gt[At].ix)return nt[At];At+=1}return null};return Object.defineProperty(_t,"numProperties",{get:function(){return gt.length}}),_t}return null}function _(et,st,nt,ct){function At(Ct){for(var Bt=et.ef,Dt=0,Ft=Bt.length;Dt<Ft;){if(Ct===Bt[Dt].nm||Ct===Bt[Dt].mn||Ct===Bt[Dt].ix)return Bt[Dt].ty===5?gt[Dt]:gt[Dt]();Dt+=1}throw new Error}var mt=propertyGroupFactory(At,nt),gt=[],_t,Et=et.ef.length;for(_t=0;_t<Et;_t+=1)et.ef[_t].ty===5?gt.push(_(et.ef[_t],st.effectElements[_t],st.effectElements[_t].propertyGroup,ct)):gt.push(j(st.effectElements[_t],et.ef[_t].ty,ct,mt));return et.mn==="ADBE Color Control"&&Object.defineProperty(At,"color",{get:function(){return gt[0]()}}),Object.defineProperties(At,{numProperties:{get:function(){return et.np}},_name:{value:et.nm},propertyGroup:{value:mt}}),At.enabled=et.en!==0,At.active=At.enabled,At}function j(et,st,nt,ct){var At=ExpressionPropertyInterface(et.p);function mt(){return st===10?nt.comp.compInterface(et.p.v):At()}return et.p.setGroupProperty&&et.p.setGroupProperty(PropertyInterface("",ct)),mt}return s}(),ShapePathInterface=function(){return function(o,_,j){var et=_.sh;function st(ct){return ct==="Shape"||ct==="shape"||ct==="Path"||ct==="path"||ct==="ADBE Vector Shape"||ct===2?st.path:null}var nt=propertyGroupFactory(st,j);return et.setGroupProperty(PropertyInterface("Path",nt)),Object.defineProperties(st,{path:{get:function(){return et.k&&et.getValue(),et}},shape:{get:function(){return et.k&&et.getValue(),et}},_name:{value:o.nm},ix:{value:o.ix},propertyIndex:{value:o.ix},mn:{value:o.mn},propertyGroup:{value:j}}),st}}(),ShapeExpressionInterface=function(){function s(Bt,Dt,Ft){var Rt=[],Nt,Gt=Bt?Bt.length:0;for(Nt=0;Nt<Gt;Nt+=1)Bt[Nt].ty==="gr"?Rt.push(_(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="fl"?Rt.push(j(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="st"?Rt.push(nt(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="tm"?Rt.push(ct(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="tr"||(Bt[Nt].ty==="el"?Rt.push(mt(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="sr"?Rt.push(gt(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="sh"?Rt.push(ShapePathInterface(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="rc"?Rt.push(_t(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="rd"?Rt.push(Et(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="rp"?Rt.push(Ct(Bt[Nt],Dt[Nt],Ft)):Bt[Nt].ty==="gf"?Rt.push(et(Bt[Nt],Dt[Nt],Ft)):Rt.push(st(Bt[Nt],Dt[Nt])));return Rt}function o(Bt,Dt,Ft){var Rt,Nt=function(ts){for(var es=0,ds=Rt.length;es<ds;){if(Rt[es]._name===ts||Rt[es].mn===ts||Rt[es].propertyIndex===ts||Rt[es].ix===ts||Rt[es].ind===ts)return Rt[es];es+=1}return typeof ts=="number"?Rt[ts-1]:null};Nt.propertyGroup=propertyGroupFactory(Nt,Ft),Rt=s(Bt.it,Dt.it,Nt.propertyGroup),Nt.numProperties=Rt.length;var Gt=At(Bt.it[Bt.it.length-1],Dt.it[Dt.it.length-1],Nt.propertyGroup);return Nt.transform=Gt,Nt.propertyIndex=Bt.cix,Nt._name=Bt.nm,Nt}function _(Bt,Dt,Ft){var Rt=function(ts){switch(ts){case"ADBE Vectors Group":case"Contents":case 2:return Rt.content;default:return Rt.transform}};Rt.propertyGroup=propertyGroupFactory(Rt,Ft);var Nt=o(Bt,Dt,Rt.propertyGroup),Gt=At(Bt.it[Bt.it.length-1],Dt.it[Dt.it.length-1],Rt.propertyGroup);return Rt.content=Nt,Rt.transform=Gt,Object.defineProperty(Rt,"_name",{get:function(){return Bt.nm}}),Rt.numProperties=Bt.np,Rt.propertyIndex=Bt.ix,Rt.nm=Bt.nm,Rt.mn=Bt.mn,Rt}function j(Bt,Dt,Ft){function Rt(Nt){return Nt==="Color"||Nt==="color"?Rt.color:Nt==="Opacity"||Nt==="opacity"?Rt.opacity:null}return Object.defineProperties(Rt,{color:{get:ExpressionPropertyInterface(Dt.c)},opacity:{get:ExpressionPropertyInterface(Dt.o)},_name:{value:Bt.nm},mn:{value:Bt.mn}}),Dt.c.setGroupProperty(PropertyInterface("Color",Ft)),Dt.o.setGroupProperty(PropertyInterface("Opacity",Ft)),Rt}function et(Bt,Dt,Ft){function Rt(Nt){return Nt==="Start Point"||Nt==="start point"?Rt.startPoint:Nt==="End Point"||Nt==="end point"?Rt.endPoint:Nt==="Opacity"||Nt==="opacity"?Rt.opacity:null}return Object.defineProperties(Rt,{startPoint:{get:ExpressionPropertyInterface(Dt.s)},endPoint:{get:ExpressionPropertyInterface(Dt.e)},opacity:{get:ExpressionPropertyInterface(Dt.o)},type:{get:function(){return"a"}},_name:{value:Bt.nm},mn:{value:Bt.mn}}),Dt.s.setGroupProperty(PropertyInterface("Start Point",Ft)),Dt.e.setGroupProperty(PropertyInterface("End Point",Ft)),Dt.o.setGroupProperty(PropertyInterface("Opacity",Ft)),Rt}function st(){function Bt(){return null}return Bt}function nt(Bt,Dt,Ft){var Rt=propertyGroupFactory(ds,Ft),Nt=propertyGroupFactory(es,Rt);function Gt(tn){Object.defineProperty(es,Bt.d[tn].nm,{get:ExpressionPropertyInterface(Dt.d.dataProps[tn].p)})}var dr,ts=Bt.d?Bt.d.length:0,es={};for(dr=0;dr<ts;dr+=1)Gt(dr),Dt.d.dataProps[dr].p.setGroupProperty(Nt);function ds(tn){return tn==="Color"||tn==="color"?ds.color:tn==="Opacity"||tn==="opacity"?ds.opacity:tn==="Stroke Width"||tn==="stroke width"?ds.strokeWidth:null}return Object.defineProperties(ds,{color:{get:ExpressionPropertyInterface(Dt.c)},opacity:{get:ExpressionPropertyInterface(Dt.o)},strokeWidth:{get:ExpressionPropertyInterface(Dt.w)},dash:{get:function(){return es}},_name:{value:Bt.nm},mn:{value:Bt.mn}}),Dt.c.setGroupProperty(PropertyInterface("Color",Rt)),Dt.o.setGroupProperty(PropertyInterface("Opacity",Rt)),Dt.w.setGroupProperty(PropertyInterface("Stroke Width",Rt)),ds}function ct(Bt,Dt,Ft){function Rt(Gt){return Gt===Bt.e.ix||Gt==="End"||Gt==="end"?Rt.end:Gt===Bt.s.ix?Rt.start:Gt===Bt.o.ix?Rt.offset:null}var Nt=propertyGroupFactory(Rt,Ft);return Rt.propertyIndex=Bt.ix,Dt.s.setGroupProperty(PropertyInterface("Start",Nt)),Dt.e.setGroupProperty(PropertyInterface("End",Nt)),Dt.o.setGroupProperty(PropertyInterface("Offset",Nt)),Rt.propertyIndex=Bt.ix,Rt.propertyGroup=Ft,Object.defineProperties(Rt,{start:{get:ExpressionPropertyInterface(Dt.s)},end:{get:ExpressionPropertyInterface(Dt.e)},offset:{get:ExpressionPropertyInterface(Dt.o)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}function At(Bt,Dt,Ft){function Rt(Gt){return Bt.a.ix===Gt||Gt==="Anchor Point"?Rt.anchorPoint:Bt.o.ix===Gt||Gt==="Opacity"?Rt.opacity:Bt.p.ix===Gt||Gt==="Position"?Rt.position:Bt.r.ix===Gt||Gt==="Rotation"||Gt==="ADBE Vector Rotation"?Rt.rotation:Bt.s.ix===Gt||Gt==="Scale"?Rt.scale:Bt.sk&&Bt.sk.ix===Gt||Gt==="Skew"?Rt.skew:Bt.sa&&Bt.sa.ix===Gt||Gt==="Skew Axis"?Rt.skewAxis:null}var Nt=propertyGroupFactory(Rt,Ft);return Dt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Nt)),Dt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Nt)),Dt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Nt)),Dt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Nt)),Dt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Nt)),Dt.transform.mProps.sk&&(Dt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Nt)),Dt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Nt))),Dt.transform.op.setGroupProperty(PropertyInterface("Opacity",Nt)),Object.defineProperties(Rt,{opacity:{get:ExpressionPropertyInterface(Dt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Dt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Dt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Dt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Dt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Dt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Dt.transform.mProps.sa)},_name:{value:Bt.nm}}),Rt.ty="tr",Rt.mn=Bt.mn,Rt.propertyGroup=Ft,Rt}function mt(Bt,Dt,Ft){function Rt(dr){return Bt.p.ix===dr?Rt.position:Bt.s.ix===dr?Rt.size:null}var Nt=propertyGroupFactory(Rt,Ft);Rt.propertyIndex=Bt.ix;var Gt=Dt.sh.ty==="tm"?Dt.sh.prop:Dt.sh;return Gt.s.setGroupProperty(PropertyInterface("Size",Nt)),Gt.p.setGroupProperty(PropertyInterface("Position",Nt)),Object.defineProperties(Rt,{size:{get:ExpressionPropertyInterface(Gt.s)},position:{get:ExpressionPropertyInterface(Gt.p)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}function gt(Bt,Dt,Ft){function Rt(dr){return Bt.p.ix===dr?Rt.position:Bt.r.ix===dr?Rt.rotation:Bt.pt.ix===dr?Rt.points:Bt.or.ix===dr||dr==="ADBE Vector Star Outer Radius"?Rt.outerRadius:Bt.os.ix===dr?Rt.outerRoundness:Bt.ir&&(Bt.ir.ix===dr||dr==="ADBE Vector Star Inner Radius")?Rt.innerRadius:Bt.is&&Bt.is.ix===dr?Rt.innerRoundness:null}var Nt=propertyGroupFactory(Rt,Ft),Gt=Dt.sh.ty==="tm"?Dt.sh.prop:Dt.sh;return Rt.propertyIndex=Bt.ix,Gt.or.setGroupProperty(PropertyInterface("Outer Radius",Nt)),Gt.os.setGroupProperty(PropertyInterface("Outer Roundness",Nt)),Gt.pt.setGroupProperty(PropertyInterface("Points",Nt)),Gt.p.setGroupProperty(PropertyInterface("Position",Nt)),Gt.r.setGroupProperty(PropertyInterface("Rotation",Nt)),Bt.ir&&(Gt.ir.setGroupProperty(PropertyInterface("Inner Radius",Nt)),Gt.is.setGroupProperty(PropertyInterface("Inner Roundness",Nt))),Object.defineProperties(Rt,{position:{get:ExpressionPropertyInterface(Gt.p)},rotation:{get:ExpressionPropertyInterface(Gt.r)},points:{get:ExpressionPropertyInterface(Gt.pt)},outerRadius:{get:ExpressionPropertyInterface(Gt.or)},outerRoundness:{get:ExpressionPropertyInterface(Gt.os)},innerRadius:{get:ExpressionPropertyInterface(Gt.ir)},innerRoundness:{get:ExpressionPropertyInterface(Gt.is)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}function _t(Bt,Dt,Ft){function Rt(dr){return Bt.p.ix===dr?Rt.position:Bt.r.ix===dr?Rt.roundness:Bt.s.ix===dr||dr==="Size"||dr==="ADBE Vector Rect Size"?Rt.size:null}var Nt=propertyGroupFactory(Rt,Ft),Gt=Dt.sh.ty==="tm"?Dt.sh.prop:Dt.sh;return Rt.propertyIndex=Bt.ix,Gt.p.setGroupProperty(PropertyInterface("Position",Nt)),Gt.s.setGroupProperty(PropertyInterface("Size",Nt)),Gt.r.setGroupProperty(PropertyInterface("Rotation",Nt)),Object.defineProperties(Rt,{position:{get:ExpressionPropertyInterface(Gt.p)},roundness:{get:ExpressionPropertyInterface(Gt.r)},size:{get:ExpressionPropertyInterface(Gt.s)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}function Et(Bt,Dt,Ft){function Rt(dr){return Bt.r.ix===dr||dr==="Round Corners 1"?Rt.radius:null}var Nt=propertyGroupFactory(Rt,Ft),Gt=Dt;return Rt.propertyIndex=Bt.ix,Gt.rd.setGroupProperty(PropertyInterface("Radius",Nt)),Object.defineProperties(Rt,{radius:{get:ExpressionPropertyInterface(Gt.rd)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}function Ct(Bt,Dt,Ft){function Rt(dr){return Bt.c.ix===dr||dr==="Copies"?Rt.copies:Bt.o.ix===dr||dr==="Offset"?Rt.offset:null}var Nt=propertyGroupFactory(Rt,Ft),Gt=Dt;return Rt.propertyIndex=Bt.ix,Gt.c.setGroupProperty(PropertyInterface("Copies",Nt)),Gt.o.setGroupProperty(PropertyInterface("Offset",Nt)),Object.defineProperties(Rt,{copies:{get:ExpressionPropertyInterface(Gt.c)},offset:{get:ExpressionPropertyInterface(Gt.o)},_name:{value:Bt.nm}}),Rt.mn=Bt.mn,Rt}return function(Bt,Dt,Ft){var Rt;function Nt(dr){if(typeof dr=="number")return dr=dr===void 0?1:dr,dr===0?Ft:Rt[dr-1];for(var ts=0,es=Rt.length;ts<es;){if(Rt[ts]._name===dr)return Rt[ts];ts+=1}return null}function Gt(){return Ft}return Nt.propertyGroup=propertyGroupFactory(Nt,Gt),Rt=s(Bt,Dt,Nt.propertyGroup),Nt.numProperties=Rt.length,Nt._name="Contents",Nt}}(),TextExpressionInterface=function(){return function(s){var o;function _(j){switch(j){case"ADBE Text Document":return _.sourceText;default:return null}}return Object.defineProperty(_,"sourceText",{get:function(){s.textProperty.getValue();var et=s.textProperty.currentData.t;return(!o||et!==o.value)&&(o=new String(et),o.value=et||new String(et),Object.defineProperty(o,"style",{get:function(){return{fillColor:s.textProperty.currentData.fc}}})),o}}),_}}();function _typeof(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(_){return typeof _}:_typeof=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof(s)}var FootageInterface=function(){var s=function(j){var et="",st=j.getFootageData();function nt(){return et="",st=j.getFootageData(),ct}function ct(At){if(st[At])return et=At,st=st[At],_typeof(st)==="object"?ct:st;var mt=At.indexOf(et);if(mt!==-1){var gt=parseInt(At.substr(mt+et.length),10);return st=st[gt],_typeof(st)==="object"?ct:st}return""}return nt},o=function(j){function et(st){return st==="Outline"?et.outlineInterface():null}return et._name="Outline",et.outlineInterface=s(j),et};return function(_){function j(et){return et==="Data"?j.dataInterface:null}return j._name="Data",j.dataInterface=o(_),j}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(s){return interfaces[s]||null}var expressionHelpers=function(){function s(nt,ct,At){ct.x&&(At.k=!0,At.x=!0,At.initiateExpression=ExpressionManager.initiateExpression,At.effectsSequence.push(At.initiateExpression(nt,ct,At).bind(At)))}function o(nt){return nt*=this.elem.globalData.frameRate,nt-=this.offsetTime,nt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<nt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(nt,this._cachingAtTime),this._cachingAtTime.lastFrame=nt),this._cachingAtTime.value}function _(nt){var ct=-.01,At=this.getValueAtTime(nt),mt=this.getValueAtTime(nt+ct),gt=0;if(At.length){var _t;for(_t=0;_t<At.length;_t+=1)gt+=Math.pow(mt[_t]-At[_t],2);gt=Math.sqrt(gt)*100}else gt=0;return gt}function j(nt){if(this.vel!==void 0)return this.vel;var ct=-.001,At=this.getValueAtTime(nt),mt=this.getValueAtTime(nt+ct),gt;if(At.length){gt=createTypedArray("float32",At.length);var _t;for(_t=0;_t<At.length;_t+=1)gt[_t]=(mt[_t]-At[_t])/ct}else gt=(mt-At)/ct;return gt}function et(){return this.pv}function st(nt){this.propertyGroup=nt}return{searchExpressions:s,getSpeedAtTime:_,getVelocityAtTime:j,getValueAtTime:o,getStaticValueAtTime:et,setGroupProperty:st}}();function addPropertyDecorator(){function s(Et,Ct,Bt){if(!this.k||!this.keyframes)return this.pv;Et=Et?Et.toLowerCase():"";var Dt=this.comp.renderedFrame,Ft=this.keyframes,Rt=Ft[Ft.length-1].t;if(Dt<=Rt)return this.pv;var Nt,Gt;Bt?(Ct?Nt=Math.abs(Rt-this.elem.comp.globalData.frameRate*Ct):Nt=Math.max(0,Rt-this.elem.data.ip),Gt=Rt-Nt):((!Ct||Ct>Ft.length-1)&&(Ct=Ft.length-1),Gt=Ft[Ft.length-1-Ct].t,Nt=Rt-Gt);var dr,ts,es;if(Et==="pingpong"){var ds=Math.floor((Dt-Gt)/Nt);if(ds%2!==0)return this.getValueAtTime((Nt-(Dt-Gt)%Nt+Gt)/this.comp.globalData.frameRate,0)}else if(Et==="offset"){var tn=this.getValueAtTime(Gt/this.comp.globalData.frameRate,0),rn=this.getValueAtTime(Rt/this.comp.globalData.frameRate,0),un=this.getValueAtTime(((Dt-Gt)%Nt+Gt)/this.comp.globalData.frameRate,0),$n=Math.floor((Dt-Gt)/Nt);if(this.pv.length){for(es=new Array(tn.length),ts=es.length,dr=0;dr<ts;dr+=1)es[dr]=(rn[dr]-tn[dr])*$n+un[dr];return es}return(rn-tn)*$n+un}else if(Et==="continue"){var kn=this.getValueAtTime(Rt/this.comp.globalData.frameRate,0),lo=this.getValueAtTime((Rt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(es=new Array(kn.length),ts=es.length,dr=0;dr<ts;dr+=1)es[dr]=kn[dr]+(kn[dr]-lo[dr])*((Dt-Rt)/this.comp.globalData.frameRate)/5e-4;return es}return kn+(kn-lo)*((Dt-Rt)/.001)}return this.getValueAtTime(((Dt-Gt)%Nt+Gt)/this.comp.globalData.frameRate,0)}function o(Et,Ct,Bt){if(!this.k)return this.pv;Et=Et?Et.toLowerCase():"";var Dt=this.comp.renderedFrame,Ft=this.keyframes,Rt=Ft[0].t;if(Dt>=Rt)return this.pv;var Nt,Gt;Bt?(Ct?Nt=Math.abs(this.elem.comp.globalData.frameRate*Ct):Nt=Math.max(0,this.elem.data.op-Rt),Gt=Rt+Nt):((!Ct||Ct>Ft.length-1)&&(Ct=Ft.length-1),Gt=Ft[Ct].t,Nt=Gt-Rt);var dr,ts,es;if(Et==="pingpong"){var ds=Math.floor((Rt-Dt)/Nt);if(ds%2===0)return this.getValueAtTime(((Rt-Dt)%Nt+Rt)/this.comp.globalData.frameRate,0)}else if(Et==="offset"){var tn=this.getValueAtTime(Rt/this.comp.globalData.frameRate,0),rn=this.getValueAtTime(Gt/this.comp.globalData.frameRate,0),un=this.getValueAtTime((Nt-(Rt-Dt)%Nt+Rt)/this.comp.globalData.frameRate,0),$n=Math.floor((Rt-Dt)/Nt)+1;if(this.pv.length){for(es=new Array(tn.length),ts=es.length,dr=0;dr<ts;dr+=1)es[dr]=un[dr]-(rn[dr]-tn[dr])*$n;return es}return un-(rn-tn)*$n}else if(Et==="continue"){var kn=this.getValueAtTime(Rt/this.comp.globalData.frameRate,0),lo=this.getValueAtTime((Rt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(es=new Array(kn.length),ts=es.length,dr=0;dr<ts;dr+=1)es[dr]=kn[dr]+(kn[dr]-lo[dr])*(Rt-Dt)/.001;return es}return kn+(kn-lo)*(Rt-Dt)/.001}return this.getValueAtTime((Nt-((Rt-Dt)%Nt+Rt))/this.comp.globalData.frameRate,0)}function _(Et,Ct){if(!this.k)return this.pv;if(Et=(Et||.4)*.5,Ct=Math.floor(Ct||5),Ct<=1)return this.pv;var Bt=this.comp.renderedFrame/this.comp.globalData.frameRate,Dt=Bt-Et,Ft=Bt+Et,Rt=Ct>1?(Ft-Dt)/(Ct-1):1,Nt=0,Gt=0,dr;this.pv.length?dr=createTypedArray("float32",this.pv.length):dr=0;for(var ts;Nt<Ct;){if(ts=this.getValueAtTime(Dt+Nt*Rt),this.pv.length)for(Gt=0;Gt<this.pv.length;Gt+=1)dr[Gt]+=ts[Gt];else dr+=ts;Nt+=1}if(this.pv.length)for(Gt=0;Gt<this.pv.length;Gt+=1)dr[Gt]/=Ct;else dr/=Ct;return dr}function j(Et){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Ct=this._transformCachingAtTime.v;if(Ct.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Bt=this.a.getValueAtTime(Et);Ct.translate(-Bt[0]*this.a.mult,-Bt[1]*this.a.mult,Bt[2]*this.a.mult)}if(this.appliedTransformations<2){var Dt=this.s.getValueAtTime(Et);Ct.scale(Dt[0]*this.s.mult,Dt[1]*this.s.mult,Dt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Ft=this.sk.getValueAtTime(Et),Rt=this.sa.getValueAtTime(Et);Ct.skewFromAxis(-Ft*this.sk.mult,Rt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Nt=this.r.getValueAtTime(Et);Ct.rotate(-Nt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Gt=this.rz.getValueAtTime(Et),dr=this.ry.getValueAtTime(Et),ts=this.rx.getValueAtTime(Et),es=this.or.getValueAtTime(Et);Ct.rotateZ(-Gt*this.rz.mult).rotateY(dr*this.ry.mult).rotateX(ts*this.rx.mult).rotateZ(-es[2]*this.or.mult).rotateY(es[1]*this.or.mult).rotateX(es[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ds=this.px.getValueAtTime(Et),tn=this.py.getValueAtTime(Et);if(this.data.p.z){var rn=this.pz.getValueAtTime(Et);Ct.translate(ds*this.px.mult,tn*this.py.mult,-rn*this.pz.mult)}else Ct.translate(ds*this.px.mult,tn*this.py.mult,0)}else{var un=this.p.getValueAtTime(Et);Ct.translate(un[0]*this.p.mult,un[1]*this.p.mult,-un[2]*this.p.mult)}return Ct}function et(){return this.v.clone(new Matrix)}var st=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Et,Ct,Bt){var Dt=st(Et,Ct,Bt);return Dt.dynamicProperties.length?Dt.getValueAtTime=j.bind(Dt):Dt.getValueAtTime=et.bind(Dt),Dt.setGroupProperty=expressionHelpers.setGroupProperty,Dt};var nt=PropertyFactory.getProp;PropertyFactory.getProp=function(Et,Ct,Bt,Dt,Ft){var Rt=nt(Et,Ct,Bt,Dt,Ft);Rt.kf?Rt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Rt):Rt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Rt),Rt.setGroupProperty=expressionHelpers.setGroupProperty,Rt.loopOut=s,Rt.loopIn=o,Rt.smooth=_,Rt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Rt),Rt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Rt),Rt.numKeys=Ct.a===1?Ct.k.length:0,Rt.propertyIndex=Ct.ix;var Nt=0;return Bt!==0&&(Nt=createTypedArray("float32",Ct.a===1?Ct.k[0].s.length:Ct.k.length)),Rt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Nt},expressionHelpers.searchExpressions(Et,Ct,Rt),Rt.k&&Ft.addDynamicProperty(Rt),Rt};function ct(Et){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Et*=this.elem.globalData.frameRate,Et-=this.offsetTime,Et!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Et?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Et,this.interpolateShape(Et,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var At=ShapePropertyFactory.getConstructorFunction(),mt=ShapePropertyFactory.getKeyframedConstructorFunction();function gt(){}gt.prototype={vertices:function(Ct,Bt){this.k&&this.getValue();var Dt=this.v;Bt!==void 0&&(Dt=this.getValueAtTime(Bt,0));var Ft,Rt=Dt._length,Nt=Dt[Ct],Gt=Dt.v,dr=createSizedArray(Rt);for(Ft=0;Ft<Rt;Ft+=1)Ct==="i"||Ct==="o"?dr[Ft]=[Nt[Ft][0]-Gt[Ft][0],Nt[Ft][1]-Gt[Ft][1]]:dr[Ft]=[Nt[Ft][0],Nt[Ft][1]];return dr},points:function(Ct){return this.vertices("v",Ct)},inTangents:function(Ct){return this.vertices("i",Ct)},outTangents:function(Ct){return this.vertices("o",Ct)},isClosed:function(){return this.v.c},pointOnPath:function(Ct,Bt){var Dt=this.v;Bt!==void 0&&(Dt=this.getValueAtTime(Bt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Dt));for(var Ft=this._segmentsLength,Rt=Ft.lengths,Nt=Ft.totalLength*Ct,Gt=0,dr=Rt.length,ts=0,es;Gt<dr;){if(ts+Rt[Gt].addedLength>Nt){var ds=Gt,tn=Dt.c&&Gt===dr-1?0:Gt+1,rn=(Nt-ts)/Rt[Gt].addedLength;es=bez.getPointInSegment(Dt.v[ds],Dt.v[tn],Dt.o[ds],Dt.i[tn],rn,Rt[Gt]);break}else ts+=Rt[Gt].addedLength;Gt+=1}return es||(es=Dt.c?[Dt.v[0][0],Dt.v[0][1]]:[Dt.v[Dt._length-1][0],Dt.v[Dt._length-1][1]]),es},vectorOnPath:function(Ct,Bt,Dt){Ct==1?Ct=this.v.c:Ct==0&&(Ct=.999);var Ft=this.pointOnPath(Ct,Bt),Rt=this.pointOnPath(Ct+.001,Bt),Nt=Rt[0]-Ft[0],Gt=Rt[1]-Ft[1],dr=Math.sqrt(Math.pow(Nt,2)+Math.pow(Gt,2));if(dr===0)return[0,0];var ts=Dt==="tangent"?[Nt/dr,Gt/dr]:[-Gt/dr,Nt/dr];return ts},tangentOnPath:function(Ct,Bt){return this.vectorOnPath(Ct,Bt,"tangent")},normalOnPath:function(Ct,Bt){return this.vectorOnPath(Ct,Bt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([gt],At),extendPrototype([gt],mt),mt.prototype.getValueAtTime=ct,mt.prototype.initiateExpression=ExpressionManager.initiateExpression;var _t=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Et,Ct,Bt,Dt,Ft){var Rt=_t(Et,Ct,Bt,Dt,Ft);return Rt.propertyIndex=Ct.ix,Rt.lock=!1,Bt===3?expressionHelpers.searchExpressions(Et,Ct.pt,Rt):Bt===4&&expressionHelpers.searchExpressions(Et,Ct.ks,Rt),Rt.k&&Et.addDynamicProperty(Rt),Rt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function s(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(o,_){var j=this.calculateExpression(_);if(o.t!==j){var et={};return this.copyData(et,o),et.t=j.toString(),et.__complete=!1,et}return o},TextProperty.prototype.searchProperty=function(){var o=this.searchKeyframes(),_=this.searchExpressions();return this.kf=o||_,this.kf},TextProperty.prototype.searchExpressions=s}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function s(o,_){var j=createNS("feMerge");j.setAttribute("result",o);var et,st;for(st=0;st<_.length;st+=1)et=createNS("feMergeNode"),et.setAttribute("in",_[st]),j.appendChild(et),j.appendChild(et);return j}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(s,o,_,j,et){this.filterManager=o;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=st,st.setAttribute("result",j+"_tint_1"),s.appendChild(st),st=createNS("feColorMatrix"),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",j+"_tint_2"),s.appendChild(st),this.matrixFilter=st;var nt=this.createMergeNode(j,[et,j+"_tint_1",j+"_tint_2"]);s.appendChild(nt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var o=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,j=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+j+" 0"),this.matrixFilter.setAttribute("values",_[0]-o[0]+" 0 0 0 "+o[0]+" "+(_[1]-o[1])+" 0 0 0 "+o[1]+" "+(_[2]-o[2])+" 0 0 0 "+o[2]+" 0 0 0 1 0")}};function SVGFillFilter(s,o,_,j){this.filterManager=o;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result",j),s.appendChild(et),this.matrixFilter=et}SVGFillFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var o=this.filterManager.effectElements[2].p.v,_=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+o[0]+" 0 0 0 0 "+o[1]+" 0 0 0 0 "+o[2]+" 0 0 0 "+_+" 0")}};function SVGStrokeEffect(s,o,_){this.initialized=!1,this.filterManager=o,this.elem=_,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var s=this.elem.layerElement.children||this.elem.layerElement.childNodes,o,_,j,et;for(this.filterManager.effectElements[1].p.v===1?(et=this.elem.maskManager.masksProperties.length,j=0):(j=this.filterManager.effectElements[0].p.v-1,et=j+1),_=createNS("g"),_.setAttribute("fill","none"),_.setAttribute("stroke-linecap","round"),_.setAttribute("stroke-dashoffset",1),j;j<et;j+=1)o=createNS("path"),_.appendChild(o),this.paths.push({p:o,m:j});if(this.filterManager.effectElements[10].p.v===3){var st=createNS("mask"),nt=createElementID();st.setAttribute("id",nt),st.setAttribute("mask-type","alpha"),st.appendChild(_),this.elem.globalData.defs.appendChild(st);var ct=createNS("g");for(ct.setAttribute("mask","url("+getLocationHref()+"#"+nt+")");s[0];)ct.appendChild(s[0]);this.elem.layerElement.appendChild(ct),this.masker=st,_.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(s=this.elem.layerElement.children||this.elem.layerElement.childNodes;s.length;)this.elem.layerElement.removeChild(s[0]);this.elem.layerElement.appendChild(_),this.elem.layerElement.removeAttribute("mask"),_.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_},SVGStrokeEffect.prototype.renderFrame=function(s){this.initialized||this.initialize();var o,_=this.paths.length,j,et;for(o=0;o<_;o+=1)if(this.paths[o].m!==-1&&(j=this.elem.maskManager.viewData[this.paths[o].m],et=this.paths[o].p,(s||this.filterManager._mdf||j.prop._mdf)&&et.setAttribute("d",j.lastPath),s||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||j.prop._mdf)){var st;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var nt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ct=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,At=et.getTotalLength();st="0 0 0 "+At*nt+" ";var mt=At*(ct-nt),gt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,_t=Math.floor(mt/gt),Et;for(Et=0;Et<_t;Et+=1)st+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";st+="0 "+At*10+" 0 0"}else st="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;et.setAttribute("stroke-dasharray",st)}if((s||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(s||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(s||this.filterManager.effectElements[3].p._mdf)){var Ct=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Ct[0]*255)+","+bmFloor(Ct[1]*255)+","+bmFloor(Ct[2]*255)+")")}};function SVGTritoneFilter(s,o,_,j){this.filterManager=o;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),s.appendChild(et);var st=createNS("feComponentTransfer");st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",j),this.matrixFilter=st;var nt=createNS("feFuncR");nt.setAttribute("type","table"),st.appendChild(nt),this.feFuncR=nt;var ct=createNS("feFuncG");ct.setAttribute("type","table"),st.appendChild(ct),this.feFuncG=ct;var At=createNS("feFuncB");At.setAttribute("type","table"),st.appendChild(At),this.feFuncB=At,s.appendChild(st)}SVGTritoneFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var o=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,j=this.filterManager.effectElements[2].p.v,et=j[0]+" "+_[0]+" "+o[0],st=j[1]+" "+_[1]+" "+o[1],nt=j[2]+" "+_[2]+" "+o[2];this.feFuncR.setAttribute("tableValues",et),this.feFuncG.setAttribute("tableValues",st),this.feFuncB.setAttribute("tableValues",nt)}};function SVGProLevelsFilter(s,o,_,j){this.filterManager=o;var et=this.filterManager.effectElements,st=createNS("feComponentTransfer");(et[10].p.k||et[10].p.v!==0||et[11].p.k||et[11].p.v!==1||et[12].p.k||et[12].p.v!==1||et[13].p.k||et[13].p.v!==0||et[14].p.k||et[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",st)),(et[17].p.k||et[17].p.v!==0||et[18].p.k||et[18].p.v!==1||et[19].p.k||et[19].p.v!==1||et[20].p.k||et[20].p.v!==0||et[21].p.k||et[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",st)),(et[24].p.k||et[24].p.v!==0||et[25].p.k||et[25].p.v!==1||et[26].p.k||et[26].p.v!==1||et[27].p.k||et[27].p.v!==0||et[28].p.k||et[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",st)),(et[31].p.k||et[31].p.v!==0||et[32].p.k||et[32].p.v!==1||et[33].p.k||et[33].p.v!==1||et[34].p.k||et[34].p.v!==0||et[35].p.k||et[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",st)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(st.setAttribute("color-interpolation-filters","sRGB"),s.appendChild(st)),(et[3].p.k||et[3].p.v!==0||et[4].p.k||et[4].p.v!==1||et[5].p.k||et[5].p.v!==1||et[6].p.k||et[6].p.v!==0||et[7].p.k||et[7].p.v!==1)&&(st=createNS("feComponentTransfer"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",j),s.appendChild(st),this.feFuncRComposed=this.createFeFunc("feFuncR",st),this.feFuncGComposed=this.createFeFunc("feFuncG",st),this.feFuncBComposed=this.createFeFunc("feFuncB",st))}SVGProLevelsFilter.prototype.createFeFunc=function(s,o){var _=createNS(s);return _.setAttribute("type","table"),o.appendChild(_),_},SVGProLevelsFilter.prototype.getTableValue=function(s,o,_,j,et){for(var st=0,nt=256,ct,At=Math.min(s,o),mt=Math.max(s,o),gt=Array.call(null,{length:nt}),_t,Et=0,Ct=et-j,Bt=o-s;st<=256;)ct=st/256,ct<=At?_t=Bt<0?et:j:ct>=mt?_t=Bt<0?j:et:_t=j+Ct*Math.pow((ct-s)/Bt,1/_),gt[Et]=_t,Et+=1,st+=256/(nt-1);return gt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var o,_=this.filterManager.effectElements;this.feFuncRComposed&&(s||_[3].p._mdf||_[4].p._mdf||_[5].p._mdf||_[6].p._mdf||_[7].p._mdf)&&(o=this.getTableValue(_[3].p.v,_[4].p.v,_[5].p.v,_[6].p.v,_[7].p.v),this.feFuncRComposed.setAttribute("tableValues",o),this.feFuncGComposed.setAttribute("tableValues",o),this.feFuncBComposed.setAttribute("tableValues",o)),this.feFuncR&&(s||_[10].p._mdf||_[11].p._mdf||_[12].p._mdf||_[13].p._mdf||_[14].p._mdf)&&(o=this.getTableValue(_[10].p.v,_[11].p.v,_[12].p.v,_[13].p.v,_[14].p.v),this.feFuncR.setAttribute("tableValues",o)),this.feFuncG&&(s||_[17].p._mdf||_[18].p._mdf||_[19].p._mdf||_[20].p._mdf||_[21].p._mdf)&&(o=this.getTableValue(_[17].p.v,_[18].p.v,_[19].p.v,_[20].p.v,_[21].p.v),this.feFuncG.setAttribute("tableValues",o)),this.feFuncB&&(s||_[24].p._mdf||_[25].p._mdf||_[26].p._mdf||_[27].p._mdf||_[28].p._mdf)&&(o=this.getTableValue(_[24].p.v,_[25].p.v,_[26].p.v,_[27].p.v,_[28].p.v),this.feFuncB.setAttribute("tableValues",o)),this.feFuncA&&(s||_[31].p._mdf||_[32].p._mdf||_[33].p._mdf||_[34].p._mdf||_[35].p._mdf)&&(o=this.getTableValue(_[31].p.v,_[32].p.v,_[33].p.v,_[34].p.v,_[35].p.v),this.feFuncA.setAttribute("tableValues",o))}};function SVGDropShadowEffect(s,o,_,j,et){var st=o.container.globalData.renderConfig.filterSize,nt=o.data.fs||st;s.setAttribute("x",nt.x||st.x),s.setAttribute("y",nt.y||st.y),s.setAttribute("width",nt.width||st.width),s.setAttribute("height",nt.height||st.height),this.filterManager=o;var ct=createNS("feGaussianBlur");ct.setAttribute("in","SourceAlpha"),ct.setAttribute("result",j+"_drop_shadow_1"),ct.setAttribute("stdDeviation","0"),this.feGaussianBlur=ct,s.appendChild(ct);var At=createNS("feOffset");At.setAttribute("dx","25"),At.setAttribute("dy","0"),At.setAttribute("in",j+"_drop_shadow_1"),At.setAttribute("result",j+"_drop_shadow_2"),this.feOffset=At,s.appendChild(At);var mt=createNS("feFlood");mt.setAttribute("flood-color","#00ff00"),mt.setAttribute("flood-opacity","1"),mt.setAttribute("result",j+"_drop_shadow_3"),this.feFlood=mt,s.appendChild(mt);var gt=createNS("feComposite");gt.setAttribute("in",j+"_drop_shadow_3"),gt.setAttribute("in2",j+"_drop_shadow_2"),gt.setAttribute("operator","in"),gt.setAttribute("result",j+"_drop_shadow_4"),s.appendChild(gt);var _t=this.createMergeNode(j,[j+"_drop_shadow_4",et]);s.appendChild(_t)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){if((s||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),s||this.filterManager.effectElements[0].p._mdf){var o=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)))}if((s||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),s||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var _=this.filterManager.effectElements[3].p.v,j=(this.filterManager.effectElements[2].p.v-90)*degToRads,et=_*Math.cos(j),st=_*Math.sin(j);this.feOffset.setAttribute("dx",et),this.feOffset.setAttribute("dy",st)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(s,o,_){this.initialized=!1,this.filterManager=o,this.filterElem=s,this.elem=_,_.matteElement=createNS("g"),_.matteElement.appendChild(_.layerElement),_.matteElement.appendChild(_.transformedElement),_.baseElement=_.matteElement}SVGMatte3Effect.prototype.findSymbol=function(s){for(var o=0,_=_svgMatteSymbols.length;o<_;){if(_svgMatteSymbols[o]===s)return _svgMatteSymbols[o];o+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(s,o){var _=s.layerElement.parentNode;if(_){for(var j=_.children,et=0,st=j.length;et<st&&j[et]!==s.layerElement;)et+=1;var nt;et<=st-2&&(nt=j[et+1]);var ct=createNS("use");ct.setAttribute("href","#"+o),nt?_.insertBefore(ct,nt):_.appendChild(ct)}},SVGMatte3Effect.prototype.setElementAsMask=function(s,o){if(!this.findSymbol(o)){var _=createElementID(),j=createNS("mask");j.setAttribute("id",o.layerId),j.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(o);var et=s.globalData.defs;et.appendChild(j);var st=createNS("symbol");st.setAttribute("id",_),this.replaceInParent(o,_),st.appendChild(o.layerElement),et.appendChild(st);var nt=createNS("use");nt.setAttribute("href","#"+_),j.appendChild(nt),o.data.hd=!1,o.show()}s.setMatte(o.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var s=this.filterManager.effectElements[0].p.v,o=this.elem.comp.elements,_=0,j=o.length;_<j;)o[_]&&o[_].data.ind===s&&this.setElementAsMask(this.elem,o[_]),_+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(s,o,_,j){s.setAttribute("x","-100%"),s.setAttribute("y","-100%"),s.setAttribute("width","300%"),s.setAttribute("height","300%"),this.filterManager=o;var et=createNS("feGaussianBlur");et.setAttribute("result",j),s.appendChild(et),this.feGaussianBlur=et}SVGGaussianBlurEffect.prototype.renderFrame=function(s){if(s||this.filterManager._mdf){var o=.3,_=this.filterManager.effectElements[0].p.v*o,j=this.filterManager.effectElements[1].p.v,et=j==3?0:_,st=j==2?0:_;this.feGaussianBlur.setAttribute("stdDeviation",et+" "+st);var nt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",nt)}};function TransformEffect(){}TransformEffect.prototype.init=function(s){this.effectsManager=s,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(s){if(this._opMdf=!1,this._mdf=!1,s||this.effectsManager._mdf){var o=this.effectsManager.effectElements,_=o[0].p.v,j=o[1].p.v,et=o[2].p.v===1,st=o[3].p.v,nt=et?st:o[4].p.v,ct=o[5].p.v,At=o[6].p.v,mt=o[7].p.v;this.matrix.reset(),this.matrix.translate(-_[0],-_[1],_[2]),this.matrix.scale(nt*.01,st*.01,1),this.matrix.rotate(-mt*degToRads),this.matrix.skewFromAxis(-ct*degToRads,(At+90)*degToRads),this.matrix.translate(j[0],j[1],0),this._mdf=!0,this.opacity!==o[8].p.v&&(this.opacity=o[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(s,o){this.init(o)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(s){this.init(s)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(s,o){var _=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(_!=null){var j,et,st,nt,ct=[],At=!0,mt=!1;try{if(st=(_=_.call(s)).next,o!==0)for(;!(At=(j=st.call(_)).done)&&(ct.push(j.value),ct.length!==o);At=!0);}catch(gt){mt=!0,et=gt}finally{try{if(!At&&_.return!=null&&(nt=_.return(),Object(nt)!==nt))return}finally{if(mt)throw et}}return ct}}function ownKeys$3(s,o){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(s);o&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(s,et).enumerable})),_.push.apply(_,j)}return _}function _objectSpread2(s){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$3(Object(_),!0).forEach(function(j){_defineProperty$4(s,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):ownKeys$3(Object(_)).forEach(function(j){Object.defineProperty(s,j,Object.getOwnPropertyDescriptor(_,j))})}return s}function _defineProperty$4(s,o,_){return o=_toPropertyKey(o),o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s}function _objectWithoutPropertiesLoose$1(s,o){if(s==null)return{};var _={},j=Object.keys(s),et,st;for(st=0;st<j.length;st++)et=j[st],!(o.indexOf(et)>=0)&&(_[et]=s[et]);return _}function _objectWithoutProperties$1(s,o){if(s==null)return{};var _=_objectWithoutPropertiesLoose$1(s,o),j,et;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(s);for(et=0;et<st.length;et++)j=st[et],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(s,j)&&(_[j]=s[j])}return _}function _slicedToArray(s,o){return _arrayWithHoles(s)||_iterableToArrayLimit(s,o)||_unsupportedIterableToArray(s,o)||_nonIterableRest()}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _unsupportedIterableToArray(s,o){if(s){if(typeof s=="string")return _arrayLikeToArray(s,o);var _=Object.prototype.toString.call(s).slice(8,-1);if(_==="Object"&&s.constructor&&(_=s.constructor.name),_==="Map"||_==="Set")return Array.from(s);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray(s,o)}}function _arrayLikeToArray(s,o){(o==null||o>s.length)&&(o=s.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=s[_];return j}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(s,o){if(typeof s!="object"||s===null)return s;var _=s[Symbol.toPrimitive];if(_!==void 0){var j=_.call(s,o||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}function _toPropertyKey(s){var o=_toPrimitive(s,"string");return typeof o=="symbol"?o:String(o)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function s(o,_){var j=o.animationData,et=o.loop,st=o.autoplay,nt=o.initialSegment,ct=o.onComplete,At=o.onLoopComplete,mt=o.onEnterFrame,gt=o.onSegmentStart,_t=o.onConfigReady,Et=o.onDataReady,Ct=o.onDataFailed,Bt=o.onLoadedImages,Dt=o.onDOMLoaded,Ft=o.onDestroy;o.lottieRef,o.renderer,o.name,o.assetsPath,o.rendererSettings;var Rt=_objectWithoutProperties$1(o,_excluded$1),Nt=reactExports.useState(!1),Gt=_slicedToArray(Nt,2),dr=Gt[0],ts=Gt[1],es=reactExports.useRef(),ds=reactExports.useRef(null),tn=function(){var tA;(tA=es.current)===null||tA===void 0||tA.play()},rn=function(){var tA;(tA=es.current)===null||tA===void 0||tA.stop()},un=function(){var tA;(tA=es.current)===null||tA===void 0||tA.pause()},$n=function(tA){var Sv;(Sv=es.current)===null||Sv===void 0||Sv.setSpeed(tA)},kn=function(tA,Sv){var W0;(W0=es.current)===null||W0===void 0||W0.goToAndPlay(tA,Sv)},lo=function(tA,Sv){var W0;(W0=es.current)===null||W0===void 0||W0.goToAndStop(tA,Sv)},Il=function(tA){var Sv;(Sv=es.current)===null||Sv===void 0||Sv.setDirection(tA)},cu=function(tA,Sv){var W0;(W0=es.current)===null||W0===void 0||W0.playSegments(tA,Sv)},Ko=function(tA){var Sv;(Sv=es.current)===null||Sv===void 0||Sv.setSubframe(tA)},ru=function(tA){var Sv;return(Sv=es.current)===null||Sv===void 0?void 0:Sv.getDuration(tA)},Tn=function(){var tA;(tA=es.current)===null||tA===void 0||tA.destroy(),es.current=void 0},ao=function(){var tA=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Sv;if(ds.current){(Sv=es.current)===null||Sv===void 0||Sv.destroy();var W0=_objectSpread2(_objectSpread2(_objectSpread2({},o),tA),{},{container:ds.current});return es.current=lottie.loadAnimation(W0),ts(!!es.current),function(){var l1;(l1=es.current)===null||l1===void 0||l1.destroy(),es.current=void 0}}};reactExports.useEffect(function(){var hu=ao();return function(){return hu==null?void 0:hu()}},[j,et]),reactExports.useEffect(function(){es.current&&(es.current.autoplay=!!st)},[st]),reactExports.useEffect(function(){if(es.current){if(!nt){es.current.resetSegments(!0);return}!Array.isArray(nt)||!nt.length||((es.current.currentRawFrame<nt[0]||es.current.currentRawFrame>nt[1])&&(es.current.currentRawFrame=nt[0]),es.current.setSegment(nt[0],nt[1]))}},[nt]),reactExports.useEffect(function(){var hu=[{name:"complete",handler:ct},{name:"loopComplete",handler:At},{name:"enterFrame",handler:mt},{name:"segmentStart",handler:gt},{name:"config_ready",handler:_t},{name:"data_ready",handler:Et},{name:"data_failed",handler:Ct},{name:"loaded_images",handler:Bt},{name:"DOMLoaded",handler:Dt},{name:"destroy",handler:Ft}],tA=hu.filter(function(W0){return W0.handler!=null});if(tA.length){var Sv=tA.map(function(W0){var l1;return(l1=es.current)===null||l1===void 0||l1.addEventListener(W0.name,W0.handler),function(){var X1;(X1=es.current)===null||X1===void 0||X1.removeEventListener(W0.name,W0.handler)}});return function(){Sv.forEach(function(W0){return W0()})}}},[ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft]);var uu=Z$3.createElement("div",_objectSpread2({style:_,ref:ds},Rt));return{View:uu,play:tn,stop:rn,pause:un,setSpeed:$n,goToAndStop:lo,goToAndPlay:kn,setDirection:Il,playSegments:cu,setSubframe:Ko,getDuration:ru,destroy:Tn,animationContainerRef:ds,animationLoaded:dr,animationItem:es.current}};function getContainerVisibility(s){var o=s.getBoundingClientRect(),_=o.top,j=o.height,et=window.innerHeight-_,st=window.innerHeight+j;return et/st}function getContainerCursorPosition(s,o,_){var j=s.getBoundingClientRect(),et=j.top,st=j.left,nt=j.width,ct=j.height,At=(o-st)/nt,mt=(_-et)/ct;return{x:At,y:mt}}var useInitInteractivity=function s(o){var _=o.wrapperRef,j=o.animationItem,et=o.mode,st=o.actions;reactExports.useEffect(function(){var nt=_.current;if(!(!nt||!j||!st.length)){j.stop();var ct=function(){var gt=null,_t=function(){var Ct=getContainerVisibility(nt),Bt=st.find(function(Ft){var Rt=Ft.visibility;return Rt&&Ct>=Rt[0]&&Ct<=Rt[1]});if(Bt){if(Bt.type==="seek"&&Bt.visibility&&Bt.frames.length===2){var Dt=Bt.frames[0]+Math.ceil((Ct-Bt.visibility[0])/(Bt.visibility[1]-Bt.visibility[0])*Bt.frames[1]);//! goToAndStop must be relative to the start of the current segment
j.goToAndStop(Dt-j.firstFrame-1,!0)}Bt.type==="loop"&&(gt===null||gt!==Bt.frames||j.isPaused)&&(j.playSegments(Bt.frames,!0),gt=Bt.frames),Bt.type==="play"&&j.isPaused&&(j.resetSegments(!0),j.play()),Bt.type==="stop"&&j.goToAndStop(Bt.frames[0]-j.firstFrame-1,!0)}};return document.addEventListener("scroll",_t),function(){document.removeEventListener("scroll",_t)}},At=function(){var gt=function(Bt,Dt){var Ft=Bt,Rt=Dt;if(Ft!==-1&&Rt!==-1){var Nt=getContainerCursorPosition(nt,Ft,Rt);Ft=Nt.x,Rt=Nt.y}var Gt=st.find(function(es){var ds=es.position;return ds&&Array.isArray(ds.x)&&Array.isArray(ds.y)?Ft>=ds.x[0]&&Ft<=ds.x[1]&&Rt>=ds.y[0]&&Rt<=ds.y[1]:ds&&!Number.isNaN(ds.x)&&!Number.isNaN(ds.y)?Ft===ds.x&&Rt===ds.y:!1});if(Gt){if(Gt.type==="seek"&&Gt.position&&Array.isArray(Gt.position.x)&&Array.isArray(Gt.position.y)&&Gt.frames.length===2){var dr=(Ft-Gt.position.x[0])/(Gt.position.x[1]-Gt.position.x[0]),ts=(Rt-Gt.position.y[0])/(Gt.position.y[1]-Gt.position.y[0]);j.playSegments(Gt.frames,!0),j.goToAndStop(Math.ceil((dr+ts)/2*(Gt.frames[1]-Gt.frames[0])),!0)}Gt.type==="loop"&&j.playSegments(Gt.frames,!0),Gt.type==="play"&&(j.isPaused&&j.resetSegments(!1),j.playSegments(Gt.frames)),Gt.type==="stop"&&j.goToAndStop(Gt.frames[0],!0)}},_t=function(Bt){gt(Bt.clientX,Bt.clientY)},Et=function(){gt(-1,-1)};return nt.addEventListener("mousemove",_t),nt.addEventListener("mouseout",Et),function(){nt.removeEventListener("mousemove",_t),nt.removeEventListener("mouseout",Et)}};switch(et){case"scroll":return ct();case"cursor":return At()}}},[et,j])},useLottieInteractivity=function s(o){var _=o.actions,j=o.mode,et=o.lottieObj,st=et.animationItem,nt=et.View,ct=et.animationContainerRef;return useInitInteractivity({actions:_,animationItem:st,mode:j,wrapperRef:ct}),nt},_excluded=["style","interactivity"],Lottie=function s(o){var _,j,et,st=o.style,nt=o.interactivity,ct=_objectWithoutProperties$1(o,_excluded),At=useLottie(ct,st),mt=At.View,gt=At.play,_t=At.stop,Et=At.pause,Ct=At.setSpeed,Bt=At.goToAndStop,Dt=At.goToAndPlay,Ft=At.setDirection,Rt=At.playSegments,Nt=At.setSubframe,Gt=At.getDuration,dr=At.destroy,ts=At.animationContainerRef,es=At.animationLoaded,ds=At.animationItem;return reactExports.useEffect(function(){o.lottieRef&&(o.lottieRef.current={play:gt,stop:_t,pause:Et,setSpeed:Ct,goToAndPlay:Dt,goToAndStop:Bt,setDirection:Ft,playSegments:Rt,setSubframe:Nt,getDuration:Gt,destroy:dr,animationContainerRef:ts,animationLoaded:es,animationItem:ds})},[(_=o.lottieRef)===null||_===void 0?void 0:_.current]),useLottieInteractivity({lottieObj:{View:mt,play:gt,stop:_t,pause:Et,setSpeed:Ct,goToAndStop:Bt,goToAndPlay:Dt,setDirection:Ft,playSegments:Rt,setSubframe:Nt,getDuration:Gt,destroy:dr,animationContainerRef:ts,animationLoaded:es,animationItem:ds},actions:(j=nt==null?void 0:nt.actions)!==null&&j!==void 0?j:[],mode:(et=nt==null?void 0:nt.mode)!==null&&et!==void 0?et:"scroll"})};const v$7="5.8.1",fr$6=30,ip$6=0,op$6=66,w$6=540,h$6=540,nm$6="Loading_6",ddd$6=0,assets$6=[],layers$6=[{ddd:0,ind:1,ty:4,nm:"Square_4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[315,225,0],to:[-15,0,0],ti:[0,0,0]},{i:{x:.2,y:1},o:{x:.8,y:0},t:30,s:[225,225,0],to:[0,0,0],ti:[0,-15,0]},{t:60,s:[225,315,0]}],ix:2,l:2},a:{a:0,k:[-83.25,-26.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[50,50],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:20,ix:4},nm:"Trazado de rectángulo 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-83.25,-26.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Rectángulo 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Square_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[315,315,0],to:[0,-15,0],ti:[0,0,0]},{i:{x:.2,y:1},o:{x:.8,y:0},t:30,s:[315,225,0],to:[0,0,0],ti:[15,0,0]},{t:60,s:[225,225,0]}],ix:2,l:2},a:{a:0,k:[-83.25,-26.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[50,50],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:20,ix:4},nm:"Trazado de rectángulo 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.6,.2745098,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-83.25,-26.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Rectángulo 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Square_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[225,315,0],to:[15,0,0],ti:[0,0,0]},{i:{x:.2,y:1},o:{x:.8,y:0},t:30,s:[315,315,0],to:[0,0,0],ti:[0,15,0]},{t:60,s:[315,225,0]}],ix:2,l:2},a:{a:0,k:[-83.25,-26.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[50,50],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:20,ix:4},nm:"Trazado de rectángulo 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-83.25,-26.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Rectángulo 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Square_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[225,225,0],to:[0,15,0],ti:[0,0,0]},{i:{x:.2,y:1},o:{x:.8,y:0},t:30,s:[225,315,0],to:[0,0,0],ti:[-15,0,0]},{t:60,s:[315,315,0]}],ix:2,l:2},a:{a:0,k:[-83.25,-26.25,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[50,50],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:20,ix:4},nm:"Trazado de rectángulo 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[.6,.2745098,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Trazo 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-83.25,-26.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Rectángulo 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers$6=[],loading={v:v$7,fr:fr$6,ip:ip$6,op:op$6,w:w$6,h:h$6,nm:nm$6,ddd:ddd$6,assets:assets$6,layers:layers$6,markers:markers$6};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$4(){}function functionalUpdate(s,o){return typeof s=="function"?s(o):s}function isValidTimeout(s){return typeof s=="number"&&s>=0&&s!==1/0}function timeUntilStale(s,o){return Math.max(s+(o||0)-Date.now(),0)}function resolveStaleTime(s,o){return typeof s=="function"?s(o):s}function resolveEnabled(s,o){return typeof s=="function"?s(o):s}function matchQuery(s,o){const{type:_="all",exact:j,fetchStatus:et,predicate:st,queryKey:nt,stale:ct}=s;if(nt){if(j){if(o.queryHash!==hashQueryKeyByOptions(nt,o.options))return!1}else if(!partialMatchKey(o.queryKey,nt))return!1}if(_!=="all"){const At=o.isActive();if(_==="active"&&!At||_==="inactive"&&At)return!1}return!(typeof ct=="boolean"&&o.isStale()!==ct||et&&et!==o.state.fetchStatus||st&&!st(o))}function matchMutation(s,o){const{exact:_,status:j,predicate:et,mutationKey:st}=s;if(st){if(!o.options.mutationKey)return!1;if(_){if(hashKey(o.options.mutationKey)!==hashKey(st))return!1}else if(!partialMatchKey(o.options.mutationKey,st))return!1}return!(j&&o.state.status!==j||et&&!et(o))}function hashQueryKeyByOptions(s,o){return((o==null?void 0:o.queryKeyHashFn)||hashKey)(s)}function hashKey(s){return JSON.stringify(s,(o,_)=>isPlainObject$3(_)?Object.keys(_).sort().reduce((j,et)=>(j[et]=_[et],j),{}):_)}function partialMatchKey(s,o){return s===o?!0:typeof s!=typeof o?!1:s&&o&&typeof s=="object"&&typeof o=="object"?!Object.keys(o).some(_=>!partialMatchKey(s[_],o[_])):!1}function replaceEqualDeep(s,o){if(s===o)return s;const _=isPlainArray(s)&&isPlainArray(o);if(_||isPlainObject$3(s)&&isPlainObject$3(o)){const j=_?s:Object.keys(s),et=j.length,st=_?o:Object.keys(o),nt=st.length,ct=_?[]:{};let At=0;for(let mt=0;mt<nt;mt++){const gt=_?mt:st[mt];(!_&&j.includes(gt)||_)&&s[gt]===void 0&&o[gt]===void 0?(ct[gt]=void 0,At++):(ct[gt]=replaceEqualDeep(s[gt],o[gt]),ct[gt]===s[gt]&&s[gt]!==void 0&&At++)}return et===nt&&At===et?s:ct}return o}function shallowEqualObjects(s,o){if(!o||Object.keys(s).length!==Object.keys(o).length)return!1;for(const _ in s)if(s[_]!==o[_])return!1;return!0}function isPlainArray(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function isPlainObject$3(s){if(!hasObjectPrototype(s))return!1;const o=s.constructor;if(o===void 0)return!0;const _=o.prototype;return!(!hasObjectPrototype(_)||!_.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function hasObjectPrototype(s){return Object.prototype.toString.call(s)==="[object Object]"}function sleep(s){return new Promise(o=>{setTimeout(o,s)})}function replaceData(s,o,_){return typeof _.structuralSharing=="function"?_.structuralSharing(s,o):_.structuralSharing!==!1?replaceEqualDeep(s,o):o}function addToEnd(s,o,_=0){const j=[...s,o];return _&&j.length>_?j.slice(1):j}function addToStart(s,o,_=0){const j=[o,...s];return _&&j.length>_?j.slice(0,-1):j}var skipToken=Symbol();function ensureQueryFn(s,o){return!s.queryFn&&(o!=null&&o.initialPromise)?()=>o.initialPromise:!s.queryFn||s.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Pee,gee,$ee,Dte,FocusManager=(Dte=class extends Subscribable{constructor(){super();G$(this,Pee);G$(this,gee);G$(this,$ee);k$(this,$ee,o=>{if(!isServer&&window.addEventListener){const _=()=>o();return window.addEventListener("visibilitychange",_,!1),()=>{window.removeEventListener("visibilitychange",_)}}})}onSubscribe(){EI(this,gee)||this.setEventListener(EI(this,$ee))}onUnsubscribe(){var o;this.hasListeners()||((o=EI(this,gee))==null||o.call(this),k$(this,gee,void 0))}setEventListener(o){var _;k$(this,$ee,o),(_=EI(this,gee))==null||_.call(this),k$(this,gee,o(j=>{typeof j=="boolean"?this.setFocused(j):this.onFocus()}))}setFocused(o){EI(this,Pee)!==o&&(k$(this,Pee,o),this.onFocus())}onFocus(){const o=this.isFocused();this.listeners.forEach(_=>{_(o)})}isFocused(){var o;return typeof EI(this,Pee)=="boolean"?EI(this,Pee):((o=globalThis.document)==null?void 0:o.visibilityState)!=="hidden"}},Pee=new WeakMap,gee=new WeakMap,$ee=new WeakMap,Dte),focusManager=new FocusManager,Uee,vee,Lee,Rte,OnlineManager=(Rte=class extends Subscribable{constructor(){super();G$(this,Uee,!0);G$(this,vee);G$(this,Lee);k$(this,Lee,o=>{if(!isServer&&window.addEventListener){const _=()=>o(!0),j=()=>o(!1);return window.addEventListener("online",_,!1),window.addEventListener("offline",j,!1),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",j)}}})}onSubscribe(){EI(this,vee)||this.setEventListener(EI(this,Lee))}onUnsubscribe(){var o;this.hasListeners()||((o=EI(this,vee))==null||o.call(this),k$(this,vee,void 0))}setEventListener(o){var _;k$(this,Lee,o),(_=EI(this,vee))==null||_.call(this),k$(this,vee,o(this.setOnline.bind(this)))}setOnline(o){EI(this,Uee)!==o&&(k$(this,Uee,o),this.listeners.forEach(j=>{j(o)}))}isOnline(){return EI(this,Uee)}},Uee=new WeakMap,vee=new WeakMap,Lee=new WeakMap,Rte),onlineManager=new OnlineManager;function pendingThenable(){let s,o;const _=new Promise((et,st)=>{s=et,o=st});_.status="pending",_.catch(()=>{});function j(et){Object.assign(_,et),delete _.resolve,delete _.reject}return _.resolve=et=>{j({status:"fulfilled",value:et}),s(et)},_.reject=et=>{j({status:"rejected",reason:et}),o(et)},_}function defaultRetryDelay(s){return Math.min(1e3*2**s,3e4)}function canFetch(s){return(s??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function isCancelledError(s){return s instanceof CancelledError}function createRetryer(s){let o=!1,_=0,j=!1,et;const st=pendingThenable(),nt=Dt=>{var Ft;j||(Et(new CancelledError(Dt)),(Ft=s.abort)==null||Ft.call(s))},ct=()=>{o=!0},At=()=>{o=!1},mt=()=>focusManager.isFocused()&&(s.networkMode==="always"||onlineManager.isOnline())&&s.canRun(),gt=()=>canFetch(s.networkMode)&&s.canRun(),_t=Dt=>{var Ft;j||(j=!0,(Ft=s.onSuccess)==null||Ft.call(s,Dt),et==null||et(),st.resolve(Dt))},Et=Dt=>{var Ft;j||(j=!0,(Ft=s.onError)==null||Ft.call(s,Dt),et==null||et(),st.reject(Dt))},Ct=()=>new Promise(Dt=>{var Ft;et=Rt=>{(j||mt())&&Dt(Rt)},(Ft=s.onPause)==null||Ft.call(s)}).then(()=>{var Dt;et=void 0,j||(Dt=s.onContinue)==null||Dt.call(s)}),Bt=()=>{if(j)return;let Dt;const Ft=_===0?s.initialPromise:void 0;try{Dt=Ft??s.fn()}catch(Rt){Dt=Promise.reject(Rt)}Promise.resolve(Dt).then(_t).catch(Rt=>{var es;if(j)return;const Nt=s.retry??(isServer?0:3),Gt=s.retryDelay??defaultRetryDelay,dr=typeof Gt=="function"?Gt(_,Rt):Gt,ts=Nt===!0||typeof Nt=="number"&&_<Nt||typeof Nt=="function"&&Nt(_,Rt);if(o||!ts){Et(Rt);return}_++,(es=s.onFail)==null||es.call(s,_,Rt),sleep(dr).then(()=>mt()?void 0:Ct()).then(()=>{o?Et(Rt):Bt()})})};return{promise:st,cancel:nt,continue:()=>(et==null||et(),st),cancelRetry:ct,continueRetry:At,canStart:gt,start:()=>(gt()?Bt():Ct().then(Bt),st)}}function createNotifyManager(){let s=[],o=0,_=ct=>{ct()},j=ct=>{ct()},et=ct=>setTimeout(ct,0);const st=ct=>{o?s.push(ct):et(()=>{_(ct)})},nt=()=>{const ct=s;s=[],ct.length&&et(()=>{j(()=>{ct.forEach(At=>{_(At)})})})};return{batch:ct=>{let At;o++;try{At=ct()}finally{o--,o||nt()}return At},batchCalls:ct=>(...At)=>{st(()=>{ct(...At)})},schedule:st,setNotifyFunction:ct=>{_=ct},setBatchNotifyFunction:ct=>{j=ct},setScheduler:ct=>{et=ct}}}var notifyManager=createNotifyManager(),Dee,Ite,Removable=(Ite=class{constructor(){G$(this,Dee)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&k$(this,Dee,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(isServer?1/0:5*60*1e3))}clearGcTimeout(){EI(this,Dee)&&(clearTimeout(EI(this,Dee)),k$(this,Dee,void 0))}},Dee=new WeakMap,Ite),Nee,jee,tee,Bq,ete,Ree,see,dee,Fte,Query=(Fte=class extends Removable{constructor(o){super();G$(this,see);G$(this,Nee);G$(this,jee);G$(this,tee);G$(this,Bq);G$(this,ete);G$(this,Ree);k$(this,Ree,!1),k$(this,ete,o.defaultOptions),this.setOptions(o.options),this.observers=[],k$(this,tee,o.cache),this.queryKey=o.queryKey,this.queryHash=o.queryHash,k$(this,Nee,getDefaultState$1(this.options)),this.state=o.state??EI(this,Nee),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var o;return(o=EI(this,Bq))==null?void 0:o.promise}setOptions(o){this.options={...EI(this,ete),...o},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&EI(this,tee).remove(this)}setData(o,_){const j=replaceData(this.state.data,o,this.options);return ZN(this,see,dee).call(this,{data:j,type:"success",dataUpdatedAt:_==null?void 0:_.updatedAt,manual:_==null?void 0:_.manual}),j}setState(o,_){ZN(this,see,dee).call(this,{type:"setState",state:o,setStateOptions:_})}cancel(o){var j,et;const _=(j=EI(this,Bq))==null?void 0:j.promise;return(et=EI(this,Bq))==null||et.cancel(o),_?_.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(EI(this,Nee))}isActive(){return this.observers.some(o=>resolveEnabled(o.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(o=>o.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(o=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,o)}onFocus(){var _;const o=this.observers.find(j=>j.shouldFetchOnWindowFocus());o==null||o.refetch({cancelRefetch:!1}),(_=EI(this,Bq))==null||_.continue()}onOnline(){var _;const o=this.observers.find(j=>j.shouldFetchOnReconnect());o==null||o.refetch({cancelRefetch:!1}),(_=EI(this,Bq))==null||_.continue()}addObserver(o){this.observers.includes(o)||(this.observers.push(o),this.clearGcTimeout(),EI(this,tee).notify({type:"observerAdded",query:this,observer:o}))}removeObserver(o){this.observers.includes(o)&&(this.observers=this.observers.filter(_=>_!==o),this.observers.length||(EI(this,Bq)&&(EI(this,Ree)?EI(this,Bq).cancel({revert:!0}):EI(this,Bq).cancelRetry()),this.scheduleGc()),EI(this,tee).notify({type:"observerRemoved",query:this,observer:o}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ZN(this,see,dee).call(this,{type:"invalidate"})}fetch(o,_){var At,mt,gt;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(_!=null&&_.cancelRefetch))this.cancel({silent:!0});else if(EI(this,Bq))return EI(this,Bq).continueRetry(),EI(this,Bq).promise}if(o&&this.setOptions(o),!this.options.queryFn){const _t=this.observers.find(Et=>Et.options.queryFn);_t&&this.setOptions(_t.options)}const j=new AbortController,et=_t=>{Object.defineProperty(_t,"signal",{enumerable:!0,get:()=>(k$(this,Ree,!0),j.signal)})},st=()=>{const _t=ensureQueryFn(this.options,_),Et={queryKey:this.queryKey,meta:this.meta};return et(Et),k$(this,Ree,!1),this.options.persister?this.options.persister(_t,Et,this):_t(Et)},nt={fetchOptions:_,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:st};et(nt),(At=this.options.behavior)==null||At.onFetch(nt,this),k$(this,jee,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((mt=nt.fetchOptions)==null?void 0:mt.meta))&&ZN(this,see,dee).call(this,{type:"fetch",meta:(gt=nt.fetchOptions)==null?void 0:gt.meta});const ct=_t=>{var Et,Ct,Bt,Dt;isCancelledError(_t)&&_t.silent||ZN(this,see,dee).call(this,{type:"error",error:_t}),isCancelledError(_t)||((Ct=(Et=EI(this,tee).config).onError)==null||Ct.call(Et,_t,this),(Dt=(Bt=EI(this,tee).config).onSettled)==null||Dt.call(Bt,this.state.data,_t,this)),this.scheduleGc()};return k$(this,Bq,createRetryer({initialPromise:_==null?void 0:_.initialPromise,fn:nt.fetchFn,abort:j.abort.bind(j),onSuccess:_t=>{var Et,Ct,Bt,Dt;if(_t===void 0){ct(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_t)}catch(Ft){ct(Ft);return}(Ct=(Et=EI(this,tee).config).onSuccess)==null||Ct.call(Et,_t,this),(Dt=(Bt=EI(this,tee).config).onSettled)==null||Dt.call(Bt,_t,this.state.error,this),this.scheduleGc()},onError:ct,onFail:(_t,Et)=>{ZN(this,see,dee).call(this,{type:"failed",failureCount:_t,error:Et})},onPause:()=>{ZN(this,see,dee).call(this,{type:"pause"})},onContinue:()=>{ZN(this,see,dee).call(this,{type:"continue"})},retry:nt.options.retry,retryDelay:nt.options.retryDelay,networkMode:nt.options.networkMode,canRun:()=>!0})),EI(this,Bq).start()}},Nee=new WeakMap,jee=new WeakMap,tee=new WeakMap,Bq=new WeakMap,ete=new WeakMap,Ree=new WeakMap,see=new WeakSet,dee=function(o){const _=j=>{switch(o.type){case"failed":return{...j,fetchFailureCount:o.failureCount,fetchFailureReason:o.error};case"pause":return{...j,fetchStatus:"paused"};case"continue":return{...j,fetchStatus:"fetching"};case"fetch":return{...j,...fetchState(j.data,this.options),fetchMeta:o.meta??null};case"success":return{...j,data:o.data,dataUpdateCount:j.dataUpdateCount+1,dataUpdatedAt:o.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!o.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const et=o.error;return isCancelledError(et)&&et.revert&&EI(this,jee)?{...EI(this,jee),fetchStatus:"idle"}:{...j,error:et,errorUpdateCount:j.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:j.fetchFailureCount+1,fetchFailureReason:et,fetchStatus:"idle",status:"error"};case"invalidate":return{...j,isInvalidated:!0};case"setState":return{...j,...o.state}}};this.state=_(this.state),notifyManager.batch(()=>{this.observers.forEach(j=>{j.onQueryUpdate()}),EI(this,tee).notify({query:this,type:"updated",action:o})})},Fte);function fetchState(s,o){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(o.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(s){const o=typeof s.initialData=="function"?s.initialData():s.initialData,_=o!==void 0,j=_?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:o,dataUpdateCount:0,dataUpdatedAt:_?j??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:_?"success":"pending",fetchStatus:"idle"}}var oee,kte,QueryCache=(kte=class extends Subscribable{constructor(o={}){super();G$(this,oee);this.config=o,k$(this,oee,new Map)}build(o,_,j){const et=_.queryKey,st=_.queryHash??hashQueryKeyByOptions(et,_);let nt=this.get(st);return nt||(nt=new Query({cache:this,queryKey:et,queryHash:st,options:o.defaultQueryOptions(_),state:j,defaultOptions:o.getQueryDefaults(et)}),this.add(nt)),nt}add(o){EI(this,oee).has(o.queryHash)||(EI(this,oee).set(o.queryHash,o),this.notify({type:"added",query:o}))}remove(o){const _=EI(this,oee).get(o.queryHash);_&&(o.destroy(),_===o&&EI(this,oee).delete(o.queryHash),this.notify({type:"removed",query:o}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}get(o){return EI(this,oee).get(o)}getAll(){return[...EI(this,oee).values()]}find(o){const _={exact:!0,...o};return this.getAll().find(j=>matchQuery(_,j))}findAll(o={}){const _=this.getAll();return Object.keys(o).length>0?_.filter(j=>matchQuery(o,j)):_}notify(o){notifyManager.batch(()=>{this.listeners.forEach(_=>{_(o)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(o=>{o.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(o=>{o.onOnline()})})}},oee=new WeakMap,kte),lee,Pq,Iee,cee,mee,Ote,Mutation=(Ote=class extends Removable{constructor(o){super();G$(this,cee);G$(this,lee);G$(this,Pq);G$(this,Iee);this.mutationId=o.mutationId,k$(this,Pq,o.mutationCache),k$(this,lee,[]),this.state=o.state||getDefaultState(),this.setOptions(o.options),this.scheduleGc()}setOptions(o){this.options=o,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(o){EI(this,lee).includes(o)||(EI(this,lee).push(o),this.clearGcTimeout(),EI(this,Pq).notify({type:"observerAdded",mutation:this,observer:o}))}removeObserver(o){k$(this,lee,EI(this,lee).filter(_=>_!==o)),this.scheduleGc(),EI(this,Pq).notify({type:"observerRemoved",mutation:this,observer:o})}optionalRemove(){EI(this,lee).length||(this.state.status==="pending"?this.scheduleGc():EI(this,Pq).remove(this))}continue(){var o;return((o=EI(this,Iee))==null?void 0:o.continue())??this.execute(this.state.variables)}async execute(o){var et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,es,ds;k$(this,Iee,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(o):Promise.reject(new Error("No mutationFn found")),onFail:(tn,rn)=>{ZN(this,cee,mee).call(this,{type:"failed",failureCount:tn,error:rn})},onPause:()=>{ZN(this,cee,mee).call(this,{type:"pause"})},onContinue:()=>{ZN(this,cee,mee).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>EI(this,Pq).canRun(this)}));const _=this.state.status==="pending",j=!EI(this,Iee).canStart();try{if(!_){ZN(this,cee,mee).call(this,{type:"pending",variables:o,isPaused:j}),await((st=(et=EI(this,Pq).config).onMutate)==null?void 0:st.call(et,o,this));const rn=await((ct=(nt=this.options).onMutate)==null?void 0:ct.call(nt,o));rn!==this.state.context&&ZN(this,cee,mee).call(this,{type:"pending",context:rn,variables:o,isPaused:j})}const tn=await EI(this,Iee).start();return await((mt=(At=EI(this,Pq).config).onSuccess)==null?void 0:mt.call(At,tn,o,this.state.context,this)),await((_t=(gt=this.options).onSuccess)==null?void 0:_t.call(gt,tn,o,this.state.context)),await((Ct=(Et=EI(this,Pq).config).onSettled)==null?void 0:Ct.call(Et,tn,null,this.state.variables,this.state.context,this)),await((Dt=(Bt=this.options).onSettled)==null?void 0:Dt.call(Bt,tn,null,o,this.state.context)),ZN(this,cee,mee).call(this,{type:"success",data:tn}),tn}catch(tn){try{throw await((Rt=(Ft=EI(this,Pq).config).onError)==null?void 0:Rt.call(Ft,tn,o,this.state.context,this)),await((Gt=(Nt=this.options).onError)==null?void 0:Gt.call(Nt,tn,o,this.state.context)),await((ts=(dr=EI(this,Pq).config).onSettled)==null?void 0:ts.call(dr,void 0,tn,this.state.variables,this.state.context,this)),await((ds=(es=this.options).onSettled)==null?void 0:ds.call(es,void 0,tn,o,this.state.context)),tn}finally{ZN(this,cee,mee).call(this,{type:"error",error:tn})}}finally{EI(this,Pq).runNext(this)}}},lee=new WeakMap,Pq=new WeakMap,Iee=new WeakMap,cee=new WeakSet,mee=function(o){const _=j=>{switch(o.type){case"failed":return{...j,failureCount:o.failureCount,failureReason:o.error};case"pause":return{...j,isPaused:!0};case"continue":return{...j,isPaused:!1};case"pending":return{...j,context:o.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:o.isPaused,status:"pending",variables:o.variables,submittedAt:Date.now()};case"success":return{...j,data:o.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...j,data:void 0,error:o.error,failureCount:j.failureCount+1,failureReason:o.error,isPaused:!1,status:"error"}}};this.state=_(this.state),notifyManager.batch(()=>{EI(this,lee).forEach(j=>{j.onMutationUpdate(o)}),EI(this,Pq).notify({mutation:this,type:"updated",action:o})})},Ote);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var IX,tte,$te,MutationCache=($te=class extends Subscribable{constructor(o={}){super();G$(this,IX);G$(this,tte);this.config=o,k$(this,IX,new Map),k$(this,tte,Date.now())}build(o,_,j){const et=new Mutation({mutationCache:this,mutationId:++ote(this,tte)._,options:o.defaultMutationOptions(_),state:j});return this.add(et),et}add(o){const _=scopeFor(o),j=EI(this,IX).get(_)??[];j.push(o),EI(this,IX).set(_,j),this.notify({type:"added",mutation:o})}remove(o){var j;const _=scopeFor(o);if(EI(this,IX).has(_)){const et=(j=EI(this,IX).get(_))==null?void 0:j.filter(st=>st!==o);et&&(et.length===0?EI(this,IX).delete(_):EI(this,IX).set(_,et))}this.notify({type:"removed",mutation:o})}canRun(o){var j;const _=(j=EI(this,IX).get(scopeFor(o)))==null?void 0:j.find(et=>et.state.status==="pending");return!_||_===o}runNext(o){var j;const _=(j=EI(this,IX).get(scopeFor(o)))==null?void 0:j.find(et=>et!==o&&et.state.isPaused);return(_==null?void 0:_.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(o=>{this.remove(o)})})}getAll(){return[...EI(this,IX).values()].flat()}find(o){const _={exact:!0,...o};return this.getAll().find(j=>matchMutation(_,j))}findAll(o={}){return this.getAll().filter(_=>matchMutation(o,_))}notify(o){notifyManager.batch(()=>{this.listeners.forEach(_=>{_(o)})})}resumePausedMutations(){const o=this.getAll().filter(_=>_.state.isPaused);return notifyManager.batch(()=>Promise.all(o.map(_=>_.continue().catch(noop$4))))}},IX=new WeakMap,tte=new WeakMap,$te);function scopeFor(s){var o;return((o=s.options.scope)==null?void 0:o.id)??String(s.mutationId)}function infiniteQueryBehavior(s){return{onFetch:(o,_)=>{var gt,_t,Et,Ct,Bt;const j=o.options,et=(Et=(_t=(gt=o.fetchOptions)==null?void 0:gt.meta)==null?void 0:_t.fetchMore)==null?void 0:Et.direction,st=((Ct=o.state.data)==null?void 0:Ct.pages)||[],nt=((Bt=o.state.data)==null?void 0:Bt.pageParams)||[];let ct={pages:[],pageParams:[]},At=0;const mt=async()=>{let Dt=!1;const Ft=Gt=>{Object.defineProperty(Gt,"signal",{enumerable:!0,get:()=>(o.signal.aborted?Dt=!0:o.signal.addEventListener("abort",()=>{Dt=!0}),o.signal)})},Rt=ensureQueryFn(o.options,o.fetchOptions),Nt=async(Gt,dr,ts)=>{if(Dt)return Promise.reject();if(dr==null&&Gt.pages.length)return Promise.resolve(Gt);const es={queryKey:o.queryKey,pageParam:dr,direction:ts?"backward":"forward",meta:o.options.meta};Ft(es);const ds=await Rt(es),{maxPages:tn}=o.options,rn=ts?addToStart:addToEnd;return{pages:rn(Gt.pages,ds,tn),pageParams:rn(Gt.pageParams,dr,tn)}};if(et&&st.length){const Gt=et==="backward",dr=Gt?getPreviousPageParam:getNextPageParam,ts={pages:st,pageParams:nt},es=dr(j,ts);ct=await Nt(ts,es,Gt)}else{const Gt=s??st.length;do{const dr=At===0?nt[0]??j.initialPageParam:getNextPageParam(j,ct);if(At>0&&dr==null)break;ct=await Nt(ct,dr),At++}while(At<Gt)}return ct};o.options.persister?o.fetchFn=()=>{var Dt,Ft;return(Ft=(Dt=o.options).persister)==null?void 0:Ft.call(Dt,mt,{queryKey:o.queryKey,meta:o.options.meta,signal:o.signal},_)}:o.fetchFn=mt}}}function getNextPageParam(s,{pages:o,pageParams:_}){const j=o.length-1;return o.length>0?s.getNextPageParam(o[j],o,_[j],_):void 0}function getPreviousPageParam(s,{pages:o,pageParams:_}){var j;return o.length>0?(j=s.getPreviousPageParam)==null?void 0:j.call(s,o[0],o,_[0],_):void 0}var L9,yee,xee,zee,Vee,wee,Hee,Qee,Ute,QueryClient=(Ute=class{constructor(s={}){G$(this,L9);G$(this,yee);G$(this,xee);G$(this,zee);G$(this,Vee);G$(this,wee);G$(this,Hee);G$(this,Qee);k$(this,L9,s.queryCache||new QueryCache),k$(this,yee,s.mutationCache||new MutationCache),k$(this,xee,s.defaultOptions||{}),k$(this,zee,new Map),k$(this,Vee,new Map),k$(this,wee,0)}mount(){ote(this,wee)._++,EI(this,wee)===1&&(k$(this,Hee,focusManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),EI(this,L9).onFocus())})),k$(this,Qee,onlineManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),EI(this,L9).onOnline())})))}unmount(){var s,o;ote(this,wee)._--,EI(this,wee)===0&&((s=EI(this,Hee))==null||s.call(this),k$(this,Hee,void 0),(o=EI(this,Qee))==null||o.call(this),k$(this,Qee,void 0))}isFetching(s){return EI(this,L9).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return EI(this,yee).findAll({...s,status:"pending"}).length}getQueryData(s){var _;const o=this.defaultQueryOptions({queryKey:s});return(_=EI(this,L9).get(o.queryHash))==null?void 0:_.state.data}ensureQueryData(s){const o=this.getQueryData(s.queryKey);if(o===void 0)return this.fetchQuery(s);{const _=this.defaultQueryOptions(s),j=EI(this,L9).build(this,_);return s.revalidateIfStale&&j.isStaleByTime(resolveStaleTime(_.staleTime,j))&&this.prefetchQuery(_),Promise.resolve(o)}}getQueriesData(s){return EI(this,L9).findAll(s).map(({queryKey:o,state:_})=>{const j=_.data;return[o,j]})}setQueryData(s,o,_){const j=this.defaultQueryOptions({queryKey:s}),et=EI(this,L9).get(j.queryHash),st=et==null?void 0:et.state.data,nt=functionalUpdate(o,st);if(nt!==void 0)return EI(this,L9).build(this,j).setData(nt,{..._,manual:!0})}setQueriesData(s,o,_){return notifyManager.batch(()=>EI(this,L9).findAll(s).map(({queryKey:j})=>[j,this.setQueryData(j,o,_)]))}getQueryState(s){var _;const o=this.defaultQueryOptions({queryKey:s});return(_=EI(this,L9).get(o.queryHash))==null?void 0:_.state}removeQueries(s){const o=EI(this,L9);notifyManager.batch(()=>{o.findAll(s).forEach(_=>{o.remove(_)})})}resetQueries(s,o){const _=EI(this,L9),j={type:"active",...s};return notifyManager.batch(()=>(_.findAll(s).forEach(et=>{et.reset()}),this.refetchQueries(j,o)))}cancelQueries(s={},o={}){const _={revert:!0,...o},j=notifyManager.batch(()=>EI(this,L9).findAll(s).map(et=>et.cancel(_)));return Promise.all(j).then(noop$4).catch(noop$4)}invalidateQueries(s={},o={}){return notifyManager.batch(()=>{if(EI(this,L9).findAll(s).forEach(j=>{j.invalidate()}),s.refetchType==="none")return Promise.resolve();const _={...s,type:s.refetchType??s.type??"active"};return this.refetchQueries(_,o)})}refetchQueries(s={},o){const _={...o,cancelRefetch:(o==null?void 0:o.cancelRefetch)??!0},j=notifyManager.batch(()=>EI(this,L9).findAll(s).filter(et=>!et.isDisabled()).map(et=>{let st=et.fetch(void 0,_);return _.throwOnError||(st=st.catch(noop$4)),et.state.fetchStatus==="paused"?Promise.resolve():st}));return Promise.all(j).then(noop$4)}fetchQuery(s){const o=this.defaultQueryOptions(s);o.retry===void 0&&(o.retry=!1);const _=EI(this,L9).build(this,o);return _.isStaleByTime(resolveStaleTime(o.staleTime,_))?_.fetch(o):Promise.resolve(_.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(noop$4).catch(noop$4)}fetchInfiniteQuery(s){return s.behavior=infiniteQueryBehavior(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(noop$4).catch(noop$4)}ensureInfiniteQueryData(s){return s.behavior=infiniteQueryBehavior(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return onlineManager.isOnline()?EI(this,yee).resumePausedMutations():Promise.resolve()}getQueryCache(){return EI(this,L9)}getMutationCache(){return EI(this,yee)}getDefaultOptions(){return EI(this,xee)}setDefaultOptions(s){k$(this,xee,s)}setQueryDefaults(s,o){EI(this,zee).set(hashKey(s),{queryKey:s,defaultOptions:o})}getQueryDefaults(s){const o=[...EI(this,zee).values()];let _={};return o.forEach(j=>{partialMatchKey(s,j.queryKey)&&(_={..._,...j.defaultOptions})}),_}setMutationDefaults(s,o){EI(this,Vee).set(hashKey(s),{mutationKey:s,defaultOptions:o})}getMutationDefaults(s){const o=[...EI(this,Vee).values()];let _={};return o.forEach(j=>{partialMatchKey(s,j.mutationKey)&&(_={..._,...j.defaultOptions})}),_}defaultQueryOptions(s){if(s._defaulted)return s;const o={...EI(this,xee).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return o.queryHash||(o.queryHash=hashQueryKeyByOptions(o.queryKey,o)),o.refetchOnReconnect===void 0&&(o.refetchOnReconnect=o.networkMode!=="always"),o.throwOnError===void 0&&(o.throwOnError=!!o.suspense),!o.networkMode&&o.persister&&(o.networkMode="offlineFirst"),o.enabled!==!0&&o.queryFn===skipToken&&(o.enabled=!1),o}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...EI(this,xee).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){EI(this,L9).clear(),EI(this,yee).clear()}},L9=new WeakMap,yee=new WeakMap,xee=new WeakMap,zee=new WeakMap,Vee=new WeakMap,wee=new WeakMap,Hee=new WeakMap,Qee=new WeakMap,Ute),Nq,jQ,rte,Rq,Fee,Gee,bee,uee,ite,Wee,Kee,kee,Oee,_ee,qee,XQ,Zee,fte,mte,gte,vte,yte,xte,wte,jte,Lte,QueryObserver=(Lte=class extends Subscribable{constructor(o,_){super();G$(this,XQ);G$(this,Nq);G$(this,jQ);G$(this,rte);G$(this,Rq);G$(this,Fee);G$(this,Gee);G$(this,bee);G$(this,uee);G$(this,ite);G$(this,Wee);G$(this,Kee);G$(this,kee);G$(this,Oee);G$(this,_ee);G$(this,qee,new Set);this.options=_,k$(this,Nq,o),k$(this,uee,null),k$(this,bee,pendingThenable()),this.options.experimental_prefetchInRender||EI(this,bee).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(_)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(EI(this,jQ).addObserver(this),shouldFetchOnMount(EI(this,jQ),this.options)?ZN(this,XQ,Zee).call(this):this.updateResult(),ZN(this,XQ,vte).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(EI(this,jQ),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(EI(this,jQ),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ZN(this,XQ,yte).call(this),ZN(this,XQ,xte).call(this),EI(this,jQ).removeObserver(this)}setOptions(o,_){const j=this.options,et=EI(this,jQ);if(this.options=EI(this,Nq).defaultQueryOptions(o),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,EI(this,jQ))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ZN(this,XQ,wte).call(this),EI(this,jQ).setOptions(this.options),j._defaulted&&!shallowEqualObjects(this.options,j)&&EI(this,Nq).getQueryCache().notify({type:"observerOptionsUpdated",query:EI(this,jQ),observer:this});const st=this.hasListeners();st&&shouldFetchOptionally(EI(this,jQ),et,this.options,j)&&ZN(this,XQ,Zee).call(this),this.updateResult(_),st&&(EI(this,jQ)!==et||resolveEnabled(this.options.enabled,EI(this,jQ))!==resolveEnabled(j.enabled,EI(this,jQ))||resolveStaleTime(this.options.staleTime,EI(this,jQ))!==resolveStaleTime(j.staleTime,EI(this,jQ)))&&ZN(this,XQ,fte).call(this);const nt=ZN(this,XQ,mte).call(this);st&&(EI(this,jQ)!==et||resolveEnabled(this.options.enabled,EI(this,jQ))!==resolveEnabled(j.enabled,EI(this,jQ))||nt!==EI(this,_ee))&&ZN(this,XQ,gte).call(this,nt)}getOptimisticResult(o){const _=EI(this,Nq).getQueryCache().build(EI(this,Nq),o),j=this.createResult(_,o);return shouldAssignObserverCurrentProperties(this,j)&&(k$(this,Rq,j),k$(this,Gee,this.options),k$(this,Fee,EI(this,jQ).state)),j}getCurrentResult(){return EI(this,Rq)}trackResult(o,_){const j={};return Object.keys(o).forEach(et=>{Object.defineProperty(j,et,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(et),_==null||_(et),o[et])})}),j}trackProp(o){EI(this,qee).add(o)}getCurrentQuery(){return EI(this,jQ)}refetch({...o}={}){return this.fetch({...o})}fetchOptimistic(o){const _=EI(this,Nq).defaultQueryOptions(o),j=EI(this,Nq).getQueryCache().build(EI(this,Nq),_);return j.fetch().then(()=>this.createResult(j,_))}fetch(o){return ZN(this,XQ,Zee).call(this,{...o,cancelRefetch:o.cancelRefetch??!0}).then(()=>(this.updateResult(),EI(this,Rq)))}createResult(o,_){var tn;const j=EI(this,jQ),et=this.options,st=EI(this,Rq),nt=EI(this,Fee),ct=EI(this,Gee),mt=o!==j?o.state:EI(this,rte),{state:gt}=o;let _t={...gt},Et=!1,Ct;if(_._optimisticResults){const rn=this.hasListeners(),un=!rn&&shouldFetchOnMount(o,_),$n=rn&&shouldFetchOptionally(o,j,_,et);(un||$n)&&(_t={..._t,...fetchState(gt.data,o.options)}),_._optimisticResults==="isRestoring"&&(_t.fetchStatus="idle")}let{error:Bt,errorUpdatedAt:Dt,status:Ft}=_t;if(_.select&&_t.data!==void 0)if(st&&_t.data===(nt==null?void 0:nt.data)&&_.select===EI(this,ite))Ct=EI(this,Wee);else try{k$(this,ite,_.select),Ct=_.select(_t.data),Ct=replaceData(st==null?void 0:st.data,Ct,_),k$(this,Wee,Ct),k$(this,uee,null)}catch(rn){k$(this,uee,rn)}else Ct=_t.data;if(_.placeholderData!==void 0&&Ct===void 0&&Ft==="pending"){let rn;if(st!=null&&st.isPlaceholderData&&_.placeholderData===(ct==null?void 0:ct.placeholderData))rn=st.data;else if(rn=typeof _.placeholderData=="function"?_.placeholderData((tn=EI(this,Kee))==null?void 0:tn.state.data,EI(this,Kee)):_.placeholderData,_.select&&rn!==void 0)try{rn=_.select(rn),k$(this,uee,null)}catch(un){k$(this,uee,un)}rn!==void 0&&(Ft="success",Ct=replaceData(st==null?void 0:st.data,rn,_),Et=!0)}EI(this,uee)&&(Bt=EI(this,uee),Ct=EI(this,Wee),Dt=Date.now(),Ft="error");const Rt=_t.fetchStatus==="fetching",Nt=Ft==="pending",Gt=Ft==="error",dr=Nt&&Rt,ts=Ct!==void 0,ds={status:Ft,fetchStatus:_t.fetchStatus,isPending:Nt,isSuccess:Ft==="success",isError:Gt,isInitialLoading:dr,isLoading:dr,data:Ct,dataUpdatedAt:_t.dataUpdatedAt,error:Bt,errorUpdatedAt:Dt,failureCount:_t.fetchFailureCount,failureReason:_t.fetchFailureReason,errorUpdateCount:_t.errorUpdateCount,isFetched:_t.dataUpdateCount>0||_t.errorUpdateCount>0,isFetchedAfterMount:_t.dataUpdateCount>mt.dataUpdateCount||_t.errorUpdateCount>mt.errorUpdateCount,isFetching:Rt,isRefetching:Rt&&!Nt,isLoadingError:Gt&&!ts,isPaused:_t.fetchStatus==="paused",isPlaceholderData:Et,isRefetchError:Gt&&ts,isStale:isStale(o,_),refetch:this.refetch,promise:EI(this,bee)};if(this.options.experimental_prefetchInRender){const rn=kn=>{ds.status==="error"?kn.reject(ds.error):ds.data!==void 0&&kn.resolve(ds.data)},un=()=>{const kn=k$(this,bee,ds.promise=pendingThenable());rn(kn)},$n=EI(this,bee);switch($n.status){case"pending":o.queryHash===j.queryHash&&rn($n);break;case"fulfilled":(ds.status==="error"||ds.data!==$n.value)&&un();break;case"rejected":(ds.status!=="error"||ds.error!==$n.reason)&&un();break}}return ds}updateResult(o){const _=EI(this,Rq),j=this.createResult(EI(this,jQ),this.options);if(k$(this,Fee,EI(this,jQ).state),k$(this,Gee,this.options),EI(this,Fee).data!==void 0&&k$(this,Kee,EI(this,jQ)),shallowEqualObjects(j,_))return;k$(this,Rq,j);const et={},st=()=>{if(!_)return!0;const{notifyOnChangeProps:nt}=this.options,ct=typeof nt=="function"?nt():nt;if(ct==="all"||!ct&&!EI(this,qee).size)return!0;const At=new Set(ct??EI(this,qee));return this.options.throwOnError&&At.add("error"),Object.keys(EI(this,Rq)).some(mt=>{const gt=mt;return EI(this,Rq)[gt]!==_[gt]&&At.has(gt)})};(o==null?void 0:o.listeners)!==!1&&st()&&(et.listeners=!0),ZN(this,XQ,jte).call(this,{...et,...o})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ZN(this,XQ,vte).call(this)}},Nq=new WeakMap,jQ=new WeakMap,rte=new WeakMap,Rq=new WeakMap,Fee=new WeakMap,Gee=new WeakMap,bee=new WeakMap,uee=new WeakMap,ite=new WeakMap,Wee=new WeakMap,Kee=new WeakMap,kee=new WeakMap,Oee=new WeakMap,_ee=new WeakMap,qee=new WeakMap,XQ=new WeakSet,Zee=function(o){ZN(this,XQ,wte).call(this);let _=EI(this,jQ).fetch(this.options,o);return o!=null&&o.throwOnError||(_=_.catch(noop$4)),_},fte=function(){ZN(this,XQ,yte).call(this);const o=resolveStaleTime(this.options.staleTime,EI(this,jQ));if(isServer||EI(this,Rq).isStale||!isValidTimeout(o))return;const j=timeUntilStale(EI(this,Rq).dataUpdatedAt,o)+1;k$(this,kee,setTimeout(()=>{EI(this,Rq).isStale||this.updateResult()},j))},mte=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(EI(this,jQ)):this.options.refetchInterval)??!1},gte=function(o){ZN(this,XQ,xte).call(this),k$(this,_ee,o),!(isServer||resolveEnabled(this.options.enabled,EI(this,jQ))===!1||!isValidTimeout(EI(this,_ee))||EI(this,_ee)===0)&&k$(this,Oee,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&ZN(this,XQ,Zee).call(this)},EI(this,_ee)))},vte=function(){ZN(this,XQ,fte).call(this),ZN(this,XQ,gte).call(this,ZN(this,XQ,mte).call(this))},yte=function(){EI(this,kee)&&(clearTimeout(EI(this,kee)),k$(this,kee,void 0))},xte=function(){EI(this,Oee)&&(clearInterval(EI(this,Oee)),k$(this,Oee,void 0))},wte=function(){const o=EI(this,Nq).getQueryCache().build(EI(this,Nq),this.options);if(o===EI(this,jQ))return;const _=EI(this,jQ);k$(this,jQ,o),k$(this,rte,o.state),this.hasListeners()&&(_==null||_.removeObserver(this),o.addObserver(this))},jte=function(o){notifyManager.batch(()=>{o.listeners&&this.listeners.forEach(_=>{_(EI(this,Rq))}),EI(this,Nq).getQueryCache().notify({query:EI(this,jQ),type:"observerResultsUpdated"})})},Lte);function shouldLoadOnMount(s,o){return resolveEnabled(o.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&o.retryOnMount===!1)}function shouldFetchOnMount(s,o){return shouldLoadOnMount(s,o)||s.state.data!==void 0&&shouldFetchOn(s,o,o.refetchOnMount)}function shouldFetchOn(s,o,_){if(resolveEnabled(o.enabled,s)!==!1){const j=typeof _=="function"?_(s):_;return j==="always"||j!==!1&&isStale(s,o)}return!1}function shouldFetchOptionally(s,o,_,j){return(s!==o||resolveEnabled(j.enabled,s)===!1)&&(!_.suspense||s.state.status!=="error")&&isStale(s,_)}function isStale(s,o){return resolveEnabled(o.enabled,s)!==!1&&s.isStaleByTime(resolveStaleTime(o.staleTime,s))}function shouldAssignObserverCurrentProperties(s,o){return!shallowEqualObjects(s.getCurrentResult(),o)}var Eee,See,Vq,Aee,pee,lte,bte,Nte,MutationObserver$1=(Nte=class extends Subscribable{constructor(_,j){super();G$(this,pee);G$(this,Eee);G$(this,See);G$(this,Vq);G$(this,Aee);k$(this,Eee,_),this.setOptions(j),this.bindMethods(),ZN(this,pee,lte).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(_){var et;const j=this.options;this.options=EI(this,Eee).defaultMutationOptions(_),shallowEqualObjects(this.options,j)||EI(this,Eee).getMutationCache().notify({type:"observerOptionsUpdated",mutation:EI(this,Vq),observer:this}),j!=null&&j.mutationKey&&this.options.mutationKey&&hashKey(j.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((et=EI(this,Vq))==null?void 0:et.state.status)==="pending"&&EI(this,Vq).setOptions(this.options)}onUnsubscribe(){var _;this.hasListeners()||(_=EI(this,Vq))==null||_.removeObserver(this)}onMutationUpdate(_){ZN(this,pee,lte).call(this),ZN(this,pee,bte).call(this,_)}getCurrentResult(){return EI(this,See)}reset(){var _;(_=EI(this,Vq))==null||_.removeObserver(this),k$(this,Vq,void 0),ZN(this,pee,lte).call(this),ZN(this,pee,bte).call(this)}mutate(_,j){var et;return k$(this,Aee,j),(et=EI(this,Vq))==null||et.removeObserver(this),k$(this,Vq,EI(this,Eee).getMutationCache().build(EI(this,Eee),this.options)),EI(this,Vq).addObserver(this),EI(this,Vq).execute(_)}},Eee=new WeakMap,See=new WeakMap,Vq=new WeakMap,Aee=new WeakMap,pee=new WeakSet,lte=function(){var j;const _=((j=EI(this,Vq))==null?void 0:j.state)??getDefaultState();k$(this,See,{..._,isPending:_.status==="pending",isSuccess:_.status==="success",isError:_.status==="error",isIdle:_.status==="idle",mutate:this.mutate,reset:this.reset})},bte=function(_){notifyManager.batch(()=>{var j,et,st,nt,ct,At,mt,gt;if(EI(this,Aee)&&this.hasListeners()){const _t=EI(this,See).variables,Et=EI(this,See).context;(_==null?void 0:_.type)==="success"?((et=(j=EI(this,Aee)).onSuccess)==null||et.call(j,_.data,_t,Et),(nt=(st=EI(this,Aee)).onSettled)==null||nt.call(st,_.data,null,_t,Et)):(_==null?void 0:_.type)==="error"&&((At=(ct=EI(this,Aee)).onError)==null||At.call(ct,_.error,_t,Et),(gt=(mt=EI(this,Aee)).onSettled)==null||gt.call(mt,void 0,_.error,_t,Et))}this.listeners.forEach(_t=>{_t(EI(this,See))})})},Nte),QueryClientContext=reactExports.createContext(void 0),useQueryClient=s=>{const o=reactExports.useContext(QueryClientContext);if(!o)throw new Error("No QueryClient set, use QueryClientProvider to set one");return o},QueryClientProvider=({client:s,children:o})=>(reactExports.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:s,children:o})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(s,o){return typeof s=="function"?s(...o):!!s}function noop$3(){}var ensurePreventErrorBoundaryRetry=(s,o)=>{(s.suspense||s.throwOnError)&&(o.isReset()||(s.retryOnMount=!1))},useClearResetErrorBoundary=s=>{reactExports.useEffect(()=>{s.clearReset()},[s])},getHasError=({result:s,errorResetBoundary:o,throwOnError:_,query:j})=>s.isError&&!o.isReset()&&!s.isFetching&&j&&shouldThrowError(_,[s.error,j]),ensureSuspenseTimers=s=>{s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},willFetch=(s,o)=>s.isLoading&&s.isFetching&&!o,shouldSuspend=(s,o)=>(s==null?void 0:s.suspense)&&o.isPending,fetchOptimistic=(s,o,_)=>o.fetchOptimistic(s).catch(()=>{_.clearReset()});function useBaseQuery(s,o,_){var gt,_t,Et,Ct,Bt;const j=useQueryClient(),et=useIsRestoring(),st=useQueryErrorResetBoundary(),nt=j.defaultQueryOptions(s);(_t=(gt=j.getDefaultOptions().queries)==null?void 0:gt._experimental_beforeQuery)==null||_t.call(gt,nt),nt._optimisticResults=et?"isRestoring":"optimistic",ensureSuspenseTimers(nt),ensurePreventErrorBoundaryRetry(nt,st),useClearResetErrorBoundary(st);const ct=!j.getQueryCache().get(nt.queryHash),[At]=reactExports.useState(()=>new o(j,nt)),mt=At.getOptimisticResult(nt);if(reactExports.useSyncExternalStore(reactExports.useCallback(Dt=>{const Ft=et?()=>{}:At.subscribe(notifyManager.batchCalls(Dt));return At.updateResult(),Ft},[At,et]),()=>At.getCurrentResult(),()=>At.getCurrentResult()),reactExports.useEffect(()=>{At.setOptions(nt,{listeners:!1})},[nt,At]),shouldSuspend(nt,mt))throw fetchOptimistic(nt,At,st);if(getHasError({result:mt,errorResetBoundary:st,throwOnError:nt.throwOnError,query:j.getQueryCache().get(nt.queryHash)}))throw mt.error;if((Ct=(Et=j.getDefaultOptions().queries)==null?void 0:Et._experimental_afterQuery)==null||Ct.call(Et,nt,mt),nt.experimental_prefetchInRender&&!isServer&&willFetch(mt,et)){const Dt=ct?fetchOptimistic(nt,At,st):(Bt=j.getQueryCache().get(nt.queryHash))==null?void 0:Bt.promise;Dt==null||Dt.catch(noop$3).finally(()=>{At.hasListeners()||At.updateResult()})}return nt.notifyOnChangeProps?mt:At.trackResult(mt)}function useQuery(s,o){return useBaseQuery(s,QueryObserver)}function useMutation(s,o){const _=useQueryClient(),[j]=reactExports.useState(()=>new MutationObserver$1(_,s));reactExports.useEffect(()=>{j.setOptions(s)},[j,s]);const et=reactExports.useSyncExternalStore(reactExports.useCallback(nt=>j.subscribe(notifyManager.batchCalls(nt)),[j]),()=>j.getCurrentResult(),()=>j.getCurrentResult()),st=reactExports.useCallback((nt,ct)=>{j.mutate(nt,ct).catch(noop$3)},[j]);if(et.error&&shouldThrowError(j.options.throwOnError,[et.error]))throw et.error;return{...et,mutate:st,mutateAsync:et.mutate}}function bind(s,o){return function(){return s.apply(o,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(s=>o=>{const _=toString$2.call(o);return s[_]||(s[_]=_.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=s=>(s=s.toLowerCase(),o=>kindOf(o)===s),typeOfTest=s=>o=>typeof o===s,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&isFunction(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(s){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(s):o=s&&s.buffer&&isArrayBuffer(s.buffer),o}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=s=>s!==null&&typeof s=="object",isBoolean$1=s=>s===!0||s===!1,isPlainObject$2=s=>{if(kindOf(s)!=="object")return!1;const o=getPrototypeOf$1(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=s=>isObject$1(s)&&isFunction(s.pipe),isFormData=s=>{let o;return s&&(typeof FormData=="function"&&s instanceof FormData||isFunction(s.append)&&((o=kindOf(s))==="formdata"||o==="object"&&isFunction(s.toString)&&s.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(s,o,{allOwnKeys:_=!1}={}){if(s===null||typeof s>"u")return;let j,et;if(typeof s!="object"&&(s=[s]),isArray(s))for(j=0,et=s.length;j<et;j++)o.call(null,s[j],j,s);else{const st=_?Object.getOwnPropertyNames(s):Object.keys(s),nt=st.length;let ct;for(j=0;j<nt;j++)ct=st[j],o.call(null,s[ct],ct,s)}}function findKey(s,o){o=o.toLowerCase();const _=Object.keys(s);let j=_.length,et;for(;j-- >0;)if(et=_[j],o===et.toLowerCase())return et;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=s=>!isUndefined(s)&&s!==_global;function merge(){const{caseless:s}=isContextDefined(this)&&this||{},o={},_=(j,et)=>{const st=s&&findKey(o,et)||et;isPlainObject$2(o[st])&&isPlainObject$2(j)?o[st]=merge(o[st],j):isPlainObject$2(j)?o[st]=merge({},j):isArray(j)?o[st]=j.slice():o[st]=j};for(let j=0,et=arguments.length;j<et;j++)arguments[j]&&forEach(arguments[j],_);return o}const extend=(s,o,_,{allOwnKeys:j}={})=>(forEach(o,(et,st)=>{_&&isFunction(et)?s[st]=bind(et,_):s[st]=et},{allOwnKeys:j}),s),stripBOM=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),inherits=(s,o,_,j)=>{s.prototype=Object.create(o.prototype,j),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:o.prototype}),_&&Object.assign(s.prototype,_)},toFlatObject=(s,o,_,j)=>{let et,st,nt;const ct={};if(o=o||{},s==null)return o;do{for(et=Object.getOwnPropertyNames(s),st=et.length;st-- >0;)nt=et[st],(!j||j(nt,s,o))&&!ct[nt]&&(o[nt]=s[nt],ct[nt]=!0);s=_!==!1&&getPrototypeOf$1(s)}while(s&&(!_||_(s,o))&&s!==Object.prototype);return o},endsWith=(s,o,_)=>{s=String(s),(_===void 0||_>s.length)&&(_=s.length),_-=o.length;const j=s.indexOf(o,_);return j!==-1&&j===_},toArray$1=s=>{if(!s)return null;if(isArray(s))return s;let o=s.length;if(!isNumber(o))return null;const _=new Array(o);for(;o-- >0;)_[o]=s[o];return _},isTypedArray=(s=>o=>s&&o instanceof s)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(s,o)=>{const j=(s&&s[Symbol.iterator]).call(s);let et;for(;(et=j.next())&&!et.done;){const st=et.value;o.call(s,st[0],st[1])}},matchAll=(s,o)=>{let _;const j=[];for(;(_=s.exec(o))!==null;)j.push(_);return j},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_,j,et){return j.toUpperCase()+et}),hasOwnProperty=(({hasOwnProperty:s})=>(o,_)=>s.call(o,_))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(s,o)=>{const _=Object.getOwnPropertyDescriptors(s),j={};forEach(_,(et,st)=>{let nt;(nt=o(et,st,s))!==!1&&(j[st]=nt||et)}),Object.defineProperties(s,j)},freezeMethods=s=>{reduceDescriptors(s,(o,_)=>{if(isFunction(s)&&["arguments","caller","callee"].indexOf(_)!==-1)return!1;const j=s[_];if(isFunction(j)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+_+"'")})}})},toObjectSet=(s,o)=>{const _={},j=et=>{et.forEach(st=>{_[st]=!0})};return isArray(s)?j(s):j(String(s).split(o)),_},noop$2=()=>{},toFiniteNumber=(s,o)=>s!=null&&Number.isFinite(s=+s)?s:o,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(s=16,o=ALPHABET.ALPHA_DIGIT)=>{let _="";const{length:j}=o;for(;s--;)_+=o[Math.random()*j|0];return _};function isSpecCompliantForm(s){return!!(s&&isFunction(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const toJSONObject=s=>{const o=new Array(10),_=(j,et)=>{if(isObject$1(j)){if(o.indexOf(j)>=0)return;if(!("toJSON"in j)){o[et]=j;const st=isArray(j)?[]:{};return forEach(j,(nt,ct)=>{const At=_(nt,et+1);!isUndefined(At)&&(st[ct]=At)}),o[et]=void 0,st}}return j};return _(s,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=s=>s&&(isObject$1(s)||isFunction(s))&&isFunction(s.then)&&isFunction(s.catch),_setImmediate=((s,o)=>s?setImmediate:o?((_,j)=>(_global.addEventListener("message",({source:et,data:st})=>{et===_global&&st===_&&j.length&&j.shift()()},!1),et=>{j.push(et),_global.postMessage(_,"*")}))(`axios@${Math.random()}`,[]):_=>setTimeout(_))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject:isPlainObject$2,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(s,o,_,j,et){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",o&&(this.code=o),_&&(this.config=_),j&&(this.request=j),et&&(this.response=et,this.status=et.status?et.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function s(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{descriptors[s]={value:s}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(s,o,_,j,et,st)=>{const nt=Object.create(prototype$1);return utils$1.toFlatObject(s,nt,function(At){return At!==Error.prototype},ct=>ct!=="isAxiosError"),AxiosError.call(nt,s.message,o,_,j,et),nt.cause=s,nt.name=s.name,st&&Object.assign(nt,st),nt};const httpAdapter=null;function isVisitable(s){return utils$1.isPlainObject(s)||utils$1.isArray(s)}function removeBrackets(s){return utils$1.endsWith(s,"[]")?s.slice(0,-2):s}function renderKey(s,o,_){return s?s.concat(o).map(function(et,st){return et=removeBrackets(et),!_&&st?"["+et+"]":et}).join(_?".":""):o}function isFlatArray(s){return utils$1.isArray(s)&&!s.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function s(o){return/^is[A-Z]/.test(o)});function toFormData(s,o,_){if(!utils$1.isObject(s))throw new TypeError("target must be an object");o=o||new FormData,_=utils$1.toFlatObject(_,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,Ft){return!utils$1.isUndefined(Ft[Dt])});const j=_.metaTokens,et=_.visitor||gt,st=_.dots,nt=_.indexes,At=(_.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(o);if(!utils$1.isFunction(et))throw new TypeError("visitor must be a function");function mt(Bt){if(Bt===null)return"";if(utils$1.isDate(Bt))return Bt.toISOString();if(!At&&utils$1.isBlob(Bt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Bt)||utils$1.isTypedArray(Bt)?At&&typeof Blob=="function"?new Blob([Bt]):Buffer.from(Bt):Bt}function gt(Bt,Dt,Ft){let Rt=Bt;if(Bt&&!Ft&&typeof Bt=="object"){if(utils$1.endsWith(Dt,"{}"))Dt=j?Dt:Dt.slice(0,-2),Bt=JSON.stringify(Bt);else if(utils$1.isArray(Bt)&&isFlatArray(Bt)||(utils$1.isFileList(Bt)||utils$1.endsWith(Dt,"[]"))&&(Rt=utils$1.toArray(Bt)))return Dt=removeBrackets(Dt),Rt.forEach(function(Gt,dr){!(utils$1.isUndefined(Gt)||Gt===null)&&o.append(nt===!0?renderKey([Dt],dr,st):nt===null?Dt:Dt+"[]",mt(Gt))}),!1}return isVisitable(Bt)?!0:(o.append(renderKey(Ft,Dt,st),mt(Bt)),!1)}const _t=[],Et=Object.assign(predicates,{defaultVisitor:gt,convertValue:mt,isVisitable});function Ct(Bt,Dt){if(!utils$1.isUndefined(Bt)){if(_t.indexOf(Bt)!==-1)throw Error("Circular reference detected in "+Dt.join("."));_t.push(Bt),utils$1.forEach(Bt,function(Rt,Nt){(!(utils$1.isUndefined(Rt)||Rt===null)&&et.call(o,Rt,utils$1.isString(Nt)?Nt.trim():Nt,Dt,Et))===!0&&Ct(Rt,Dt?Dt.concat(Nt):[Nt])}),_t.pop()}}if(!utils$1.isObject(s))throw new TypeError("data must be an object");return Ct(s),o}function encode$2(s){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(j){return o[j]})}function AxiosURLSearchParams(s,o){this._pairs=[],s&&toFormData(s,this,o)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function s(o,_){this._pairs.push([o,_])};prototype.toString=function s(o){const _=o?function(j){return o.call(this,j,encode$2)}:encode$2;return this._pairs.map(function(et){return _(et[0])+"="+_(et[1])},"").join("&")};function encode$1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(s,o,_){if(!o)return s;const j=_&&_.encode||encode$1,et=_&&_.serialize;let st;if(et?st=et(o,_):st=utils$1.isURLSearchParams(o)?o.toString():new AxiosURLSearchParams(o,_).toString(j),st){const nt=s.indexOf("#");nt!==-1&&(s=s.slice(0,nt)),s+=(s.indexOf("?")===-1?"?":"&")+st}return s}class InterceptorManager{constructor(){this.handlers=[]}use(o,_,j){return this.handlers.push({fulfilled:o,rejected:_,synchronous:j?j.synchronous:!1,runWhen:j?j.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){utils$1.forEach(this.handlers,function(j){j!==null&&o(j)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(s,o){return toFormData(s,new platform.classes.URLSearchParams,Object.assign({visitor:function(_,j,et,st){return platform.isNode&&utils$1.isBuffer(_)?(this.append(j,_.toString("base64")),!1):st.defaultVisitor.apply(this,arguments)}},o))}function parsePropPath(s){return utils$1.matchAll(/\w+|\[(\w*)]/g,s).map(o=>o[0]==="[]"?"":o[1]||o[0])}function arrayToObject(s){const o={},_=Object.keys(s);let j;const et=_.length;let st;for(j=0;j<et;j++)st=_[j],o[st]=s[st];return o}function formDataToJSON(s){function o(_,j,et,st){let nt=_[st++];if(nt==="__proto__")return!0;const ct=Number.isFinite(+nt),At=st>=_.length;return nt=!nt&&utils$1.isArray(et)?et.length:nt,At?(utils$1.hasOwnProp(et,nt)?et[nt]=[et[nt],j]:et[nt]=j,!ct):((!et[nt]||!utils$1.isObject(et[nt]))&&(et[nt]=[]),o(_,j,et[nt],st)&&utils$1.isArray(et[nt])&&(et[nt]=arrayToObject(et[nt])),!ct)}if(utils$1.isFormData(s)&&utils$1.isFunction(s.entries)){const _={};return utils$1.forEachEntry(s,(j,et)=>{o(parsePropPath(j),et,_,0)}),_}return null}function stringifySafely(s,o,_){if(utils$1.isString(s))try{return(o||JSON.parse)(s),utils$1.trim(s)}catch(j){if(j.name!=="SyntaxError")throw j}return(0,JSON.stringify)(s)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function s(o,_){const j=_.getContentType()||"",et=j.indexOf("application/json")>-1,st=utils$1.isObject(o);if(st&&utils$1.isHTMLForm(o)&&(o=new FormData(o)),utils$1.isFormData(o))return et?JSON.stringify(formDataToJSON(o)):o;if(utils$1.isArrayBuffer(o)||utils$1.isBuffer(o)||utils$1.isStream(o)||utils$1.isFile(o)||utils$1.isBlob(o)||utils$1.isReadableStream(o))return o;if(utils$1.isArrayBufferView(o))return o.buffer;if(utils$1.isURLSearchParams(o))return _.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let ct;if(st){if(j.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(o,this.formSerializer).toString();if((ct=utils$1.isFileList(o))||j.indexOf("multipart/form-data")>-1){const At=this.env&&this.env.FormData;return toFormData(ct?{"files[]":o}:o,At&&new At,this.formSerializer)}}return st||et?(_.setContentType("application/json",!1),stringifySafely(o)):o}],transformResponse:[function s(o){const _=this.transitional||defaults.transitional,j=_&&_.forcedJSONParsing,et=this.responseType==="json";if(utils$1.isResponse(o)||utils$1.isReadableStream(o))return o;if(o&&utils$1.isString(o)&&(j&&!this.responseType||et)){const nt=!(_&&_.silentJSONParsing)&&et;try{return JSON.parse(o)}catch(ct){if(nt)throw ct.name==="SyntaxError"?AxiosError.from(ct,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):ct}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function s(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],s=>{defaults.headers[s]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=s=>{const o={};let _,j,et;return s&&s.split(`
`).forEach(function(nt){et=nt.indexOf(":"),_=nt.substring(0,et).trim().toLowerCase(),j=nt.substring(et+1).trim(),!(!_||o[_]&&ignoreDuplicateOf[_])&&(_==="set-cookie"?o[_]?o[_].push(j):o[_]=[j]:o[_]=o[_]?o[_]+", "+j:j)}),o},$internals=Symbol("internals");function normalizeHeader(s){return s&&String(s).trim().toLowerCase()}function normalizeValue(s){return s===!1||s==null?s:utils$1.isArray(s)?s.map(normalizeValue):String(s)}function parseTokens(s){const o=Object.create(null),_=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let j;for(;j=_.exec(s);)o[j[1]]=j[2];return o}const isValidHeaderName=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function matchHeaderValue(s,o,_,j,et){if(utils$1.isFunction(j))return j.call(this,o,_);if(et&&(o=_),!!utils$1.isString(o)){if(utils$1.isString(j))return o.indexOf(j)!==-1;if(utils$1.isRegExp(j))return j.test(o)}}function formatHeader(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,_,j)=>_.toUpperCase()+j)}function buildAccessors(s,o){const _=utils$1.toCamelCase(" "+o);["get","set","has"].forEach(j=>{Object.defineProperty(s,j+_,{value:function(et,st,nt){return this[j].call(this,o,et,st,nt)},configurable:!0})})}class AxiosHeaders{constructor(o){o&&this.set(o)}set(o,_,j){const et=this;function st(ct,At,mt){const gt=normalizeHeader(At);if(!gt)throw new Error("header name must be a non-empty string");const _t=utils$1.findKey(et,gt);(!_t||et[_t]===void 0||mt===!0||mt===void 0&&et[_t]!==!1)&&(et[_t||At]=normalizeValue(ct))}const nt=(ct,At)=>utils$1.forEach(ct,(mt,gt)=>st(mt,gt,At));if(utils$1.isPlainObject(o)||o instanceof this.constructor)nt(o,_);else if(utils$1.isString(o)&&(o=o.trim())&&!isValidHeaderName(o))nt(parseHeaders(o),_);else if(utils$1.isHeaders(o))for(const[ct,At]of o.entries())st(At,ct,j);else o!=null&&st(_,o,j);return this}get(o,_){if(o=normalizeHeader(o),o){const j=utils$1.findKey(this,o);if(j){const et=this[j];if(!_)return et;if(_===!0)return parseTokens(et);if(utils$1.isFunction(_))return _.call(this,et,j);if(utils$1.isRegExp(_))return _.exec(et);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,_){if(o=normalizeHeader(o),o){const j=utils$1.findKey(this,o);return!!(j&&this[j]!==void 0&&(!_||matchHeaderValue(this,this[j],j,_)))}return!1}delete(o,_){const j=this;let et=!1;function st(nt){if(nt=normalizeHeader(nt),nt){const ct=utils$1.findKey(j,nt);ct&&(!_||matchHeaderValue(j,j[ct],ct,_))&&(delete j[ct],et=!0)}}return utils$1.isArray(o)?o.forEach(st):st(o),et}clear(o){const _=Object.keys(this);let j=_.length,et=!1;for(;j--;){const st=_[j];(!o||matchHeaderValue(this,this[st],st,o,!0))&&(delete this[st],et=!0)}return et}normalize(o){const _=this,j={};return utils$1.forEach(this,(et,st)=>{const nt=utils$1.findKey(j,st);if(nt){_[nt]=normalizeValue(et),delete _[st];return}const ct=o?formatHeader(st):String(st).trim();ct!==st&&delete _[st],_[ct]=normalizeValue(et),j[ct]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const _=Object.create(null);return utils$1.forEach(this,(j,et)=>{j!=null&&j!==!1&&(_[et]=o&&utils$1.isArray(j)?j.join(", "):j)}),_}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,_])=>o+": "+_).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,..._){const j=new this(o);return _.forEach(et=>j.set(et)),j}static accessor(o){const j=(this[$internals]=this[$internals]={accessors:{}}).accessors,et=this.prototype;function st(nt){const ct=normalizeHeader(nt);j[ct]||(buildAccessors(et,nt),j[ct]=!0)}return utils$1.isArray(o)?o.forEach(st):st(o),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:s},o)=>{let _=o[0].toUpperCase()+o.slice(1);return{get:()=>s,set(j){this[_]=j}}});utils$1.freezeMethods(AxiosHeaders);function transformData(s,o){const _=this||defaults,j=o||_,et=AxiosHeaders.from(j.headers);let st=j.data;return utils$1.forEach(s,function(ct){st=ct.call(_,st,et.normalize(),o?o.status:void 0)}),et.normalize(),st}function isCancel(s){return!!(s&&s.__CANCEL__)}function CanceledError(s,o,_){AxiosError.call(this,s??"canceled",AxiosError.ERR_CANCELED,o,_),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(s,o,_){const j=_.config.validateStatus;!_.status||!j||j(_.status)?s(_):o(new AxiosError("Request failed with status code "+_.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(_.status/100)-4],_.config,_.request,_))}function parseProtocol(s){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return o&&o[1]||""}function speedometer(s,o){s=s||10;const _=new Array(s),j=new Array(s);let et=0,st=0,nt;return o=o!==void 0?o:1e3,function(At){const mt=Date.now(),gt=j[st];nt||(nt=mt),_[et]=At,j[et]=mt;let _t=st,Et=0;for(;_t!==et;)Et+=_[_t++],_t=_t%s;if(et=(et+1)%s,et===st&&(st=(st+1)%s),mt-nt<o)return;const Ct=gt&&mt-gt;return Ct?Math.round(Et*1e3/Ct):void 0}}function throttle(s,o){let _=0,j=1e3/o,et,st;const nt=(mt,gt=Date.now())=>{_=gt,et=null,st&&(clearTimeout(st),st=null),s.apply(null,mt)};return[(...mt)=>{const gt=Date.now(),_t=gt-_;_t>=j?nt(mt,gt):(et=mt,st||(st=setTimeout(()=>{st=null,nt(et)},j-_t)))},()=>et&&nt(et)]}const progressEventReducer=(s,o,_=3)=>{let j=0;const et=speedometer(50,250);return throttle(st=>{const nt=st.loaded,ct=st.lengthComputable?st.total:void 0,At=nt-j,mt=et(At),gt=nt<=ct;j=nt;const _t={loaded:nt,total:ct,progress:ct?nt/ct:void 0,bytes:At,rate:mt||void 0,estimated:mt&&ct&&gt?(ct-nt)/mt:void 0,event:st,lengthComputable:ct!=null,[o?"download":"upload"]:!0};s(_t)},_)},progressEventDecorator=(s,o)=>{const _=s!=null;return[j=>o[0]({lengthComputable:_,total:s,loaded:j}),o[1]]},asyncDecorator=s=>(...o)=>utils$1.asap(()=>s(...o)),isURLSameOrigin=platform.hasStandardBrowserEnv?function s(){const o=platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent),_=document.createElement("a");let j;function et(st){let nt=st;return o&&(_.setAttribute("href",nt),nt=_.href),_.setAttribute("href",nt),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:_.pathname.charAt(0)==="/"?_.pathname:"/"+_.pathname}}return j=et(window.location.href),function(nt){const ct=utils$1.isString(nt)?et(nt):nt;return ct.protocol===j.protocol&&ct.host===j.host}}():function s(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(s,o,_,j,et,st){const nt=[s+"="+encodeURIComponent(o)];utils$1.isNumber(_)&&nt.push("expires="+new Date(_).toGMTString()),utils$1.isString(j)&&nt.push("path="+j),utils$1.isString(et)&&nt.push("domain="+et),st===!0&&nt.push("secure"),document.cookie=nt.join("; ")},read(s){const o=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function combineURLs(s,o){return o?s.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):s}function buildFullPath(s,o){return s&&!isAbsoluteURL(o)?combineURLs(s,o):o}const headersToObject=s=>s instanceof AxiosHeaders?{...s}:s;function mergeConfig(s,o){o=o||{};const _={};function j(mt,gt,_t){return utils$1.isPlainObject(mt)&&utils$1.isPlainObject(gt)?utils$1.merge.call({caseless:_t},mt,gt):utils$1.isPlainObject(gt)?utils$1.merge({},gt):utils$1.isArray(gt)?gt.slice():gt}function et(mt,gt,_t){if(utils$1.isUndefined(gt)){if(!utils$1.isUndefined(mt))return j(void 0,mt,_t)}else return j(mt,gt,_t)}function st(mt,gt){if(!utils$1.isUndefined(gt))return j(void 0,gt)}function nt(mt,gt){if(utils$1.isUndefined(gt)){if(!utils$1.isUndefined(mt))return j(void 0,mt)}else return j(void 0,gt)}function ct(mt,gt,_t){if(_t in o)return j(mt,gt);if(_t in s)return j(void 0,mt)}const At={url:st,method:st,data:st,baseURL:nt,transformRequest:nt,transformResponse:nt,paramsSerializer:nt,timeout:nt,timeoutMessage:nt,withCredentials:nt,withXSRFToken:nt,adapter:nt,responseType:nt,xsrfCookieName:nt,xsrfHeaderName:nt,onUploadProgress:nt,onDownloadProgress:nt,decompress:nt,maxContentLength:nt,maxBodyLength:nt,beforeRedirect:nt,transport:nt,httpAgent:nt,httpsAgent:nt,cancelToken:nt,socketPath:nt,responseEncoding:nt,validateStatus:ct,headers:(mt,gt)=>et(headersToObject(mt),headersToObject(gt),!0)};return utils$1.forEach(Object.keys(Object.assign({},s,o)),function(gt){const _t=At[gt]||et,Et=_t(s[gt],o[gt],gt);utils$1.isUndefined(Et)&&_t!==ct||(_[gt]=Et)}),_}const resolveConfig=s=>{const o=mergeConfig({},s);let{data:_,withXSRFToken:j,xsrfHeaderName:et,xsrfCookieName:st,headers:nt,auth:ct}=o;o.headers=nt=AxiosHeaders.from(nt),o.url=buildURL(buildFullPath(o.baseURL,o.url),s.params,s.paramsSerializer),ct&&nt.set("Authorization","Basic "+btoa((ct.username||"")+":"+(ct.password?unescape(encodeURIComponent(ct.password)):"")));let At;if(utils$1.isFormData(_)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)nt.setContentType(void 0);else if((At=nt.getContentType())!==!1){const[mt,...gt]=At?At.split(";").map(_t=>_t.trim()).filter(Boolean):[];nt.setContentType([mt||"multipart/form-data",...gt].join("; "))}}if(platform.hasStandardBrowserEnv&&(j&&utils$1.isFunction(j)&&(j=j(o)),j||j!==!1&&isURLSameOrigin(o.url))){const mt=et&&st&&cookies.read(st);mt&&nt.set(et,mt)}return o},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(s){return new Promise(function(_,j){const et=resolveConfig(s);let st=et.data;const nt=AxiosHeaders.from(et.headers).normalize();let{responseType:ct,onUploadProgress:At,onDownloadProgress:mt}=et,gt,_t,Et,Ct,Bt;function Dt(){Ct&&Ct(),Bt&&Bt(),et.cancelToken&&et.cancelToken.unsubscribe(gt),et.signal&&et.signal.removeEventListener("abort",gt)}let Ft=new XMLHttpRequest;Ft.open(et.method.toUpperCase(),et.url,!0),Ft.timeout=et.timeout;function Rt(){if(!Ft)return;const Gt=AxiosHeaders.from("getAllResponseHeaders"in Ft&&Ft.getAllResponseHeaders()),ts={data:!ct||ct==="text"||ct==="json"?Ft.responseText:Ft.response,status:Ft.status,statusText:Ft.statusText,headers:Gt,config:s,request:Ft};settle(function(ds){_(ds),Dt()},function(ds){j(ds),Dt()},ts),Ft=null}"onloadend"in Ft?Ft.onloadend=Rt:Ft.onreadystatechange=function(){!Ft||Ft.readyState!==4||Ft.status===0&&!(Ft.responseURL&&Ft.responseURL.indexOf("file:")===0)||setTimeout(Rt)},Ft.onabort=function(){Ft&&(j(new AxiosError("Request aborted",AxiosError.ECONNABORTED,s,Ft)),Ft=null)},Ft.onerror=function(){j(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,Ft)),Ft=null},Ft.ontimeout=function(){let dr=et.timeout?"timeout of "+et.timeout+"ms exceeded":"timeout exceeded";const ts=et.transitional||transitionalDefaults;et.timeoutErrorMessage&&(dr=et.timeoutErrorMessage),j(new AxiosError(dr,ts.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,s,Ft)),Ft=null},st===void 0&&nt.setContentType(null),"setRequestHeader"in Ft&&utils$1.forEach(nt.toJSON(),function(dr,ts){Ft.setRequestHeader(ts,dr)}),utils$1.isUndefined(et.withCredentials)||(Ft.withCredentials=!!et.withCredentials),ct&&ct!=="json"&&(Ft.responseType=et.responseType),mt&&([Et,Bt]=progressEventReducer(mt,!0),Ft.addEventListener("progress",Et)),At&&Ft.upload&&([_t,Ct]=progressEventReducer(At),Ft.upload.addEventListener("progress",_t),Ft.upload.addEventListener("loadend",Ct)),(et.cancelToken||et.signal)&&(gt=Gt=>{Ft&&(j(!Gt||Gt.type?new CanceledError(null,s,Ft):Gt),Ft.abort(),Ft=null)},et.cancelToken&&et.cancelToken.subscribe(gt),et.signal&&(et.signal.aborted?gt():et.signal.addEventListener("abort",gt)));const Nt=parseProtocol(et.url);if(Nt&&platform.protocols.indexOf(Nt)===-1){j(new AxiosError("Unsupported protocol "+Nt+":",AxiosError.ERR_BAD_REQUEST,s));return}Ft.send(st||null)})},composeSignals=(s,o)=>{const{length:_}=s=s?s.filter(Boolean):[];if(o||_){let j=new AbortController,et;const st=function(mt){if(!et){et=!0,ct();const gt=mt instanceof Error?mt:this.reason;j.abort(gt instanceof AxiosError?gt:new CanceledError(gt instanceof Error?gt.message:gt))}};let nt=o&&setTimeout(()=>{nt=null,st(new AxiosError(`timeout ${o} of ms exceeded`,AxiosError.ETIMEDOUT))},o);const ct=()=>{s&&(nt&&clearTimeout(nt),nt=null,s.forEach(mt=>{mt.unsubscribe?mt.unsubscribe(st):mt.removeEventListener("abort",st)}),s=null)};s.forEach(mt=>mt.addEventListener("abort",st));const{signal:At}=j;return At.unsubscribe=()=>utils$1.asap(ct),At}},streamChunk=function*(s,o){let _=s.byteLength;if(_<o){yield s;return}let j=0,et;for(;j<_;)et=j+o,yield s.slice(j,et),j=et},readBytes=async function*(s,o){for await(const _ of readStream(s))yield*streamChunk(_,o)},readStream=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const o=s.getReader();try{for(;;){const{done:_,value:j}=await o.read();if(_)break;yield j}}finally{await o.cancel()}},trackStream=(s,o,_,j)=>{const et=readBytes(s,o);let st=0,nt,ct=At=>{nt||(nt=!0,j&&j(At))};return new ReadableStream({async pull(At){try{const{done:mt,value:gt}=await et.next();if(mt){ct(),At.close();return}let _t=gt.byteLength;if(_){let Et=st+=_t;_(Et)}At.enqueue(new Uint8Array(gt))}catch(mt){throw ct(mt),mt}},cancel(At){return ct(At),et.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(s=>o=>s.encode(o))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),test=(s,...o)=>{try{return!!s(...o)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let s=!1;const o=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!o}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(s=>s.body)};isFetchSupported&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!resolvers[o]&&(resolvers[o]=utils$1.isFunction(s[o])?_=>_[o]():(_,j)=>{throw new AxiosError(`Response type '${o}' is not supported`,AxiosError.ERR_NOT_SUPPORT,j)})})})(new Response);const getBodyLength=async s=>{if(s==null)return 0;if(utils$1.isBlob(s))return s.size;if(utils$1.isSpecCompliantForm(s))return(await new Request(platform.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(s)||utils$1.isArrayBuffer(s))return s.byteLength;if(utils$1.isURLSearchParams(s)&&(s=s+""),utils$1.isString(s))return(await encodeText(s)).byteLength},resolveBodyLength=async(s,o)=>{const _=utils$1.toFiniteNumber(s.getContentLength());return _??getBodyLength(o)},fetchAdapter=isFetchSupported&&(async s=>{let{url:o,method:_,data:j,signal:et,cancelToken:st,timeout:nt,onDownloadProgress:ct,onUploadProgress:At,responseType:mt,headers:gt,withCredentials:_t="same-origin",fetchOptions:Et}=resolveConfig(s);mt=mt?(mt+"").toLowerCase():"text";let Ct=composeSignals([et,st&&st.toAbortSignal()],nt),Bt;const Dt=Ct&&Ct.unsubscribe&&(()=>{Ct.unsubscribe()});let Ft;try{if(At&&supportsRequestStream&&_!=="get"&&_!=="head"&&(Ft=await resolveBodyLength(gt,j))!==0){let ts=new Request(o,{method:"POST",body:j,duplex:"half"}),es;if(utils$1.isFormData(j)&&(es=ts.headers.get("content-type"))&&gt.setContentType(es),ts.body){const[ds,tn]=progressEventDecorator(Ft,progressEventReducer(asyncDecorator(At)));j=trackStream(ts.body,DEFAULT_CHUNK_SIZE,ds,tn)}}utils$1.isString(_t)||(_t=_t?"include":"omit");const Rt="credentials"in Request.prototype;Bt=new Request(o,{...Et,signal:Ct,method:_.toUpperCase(),headers:gt.normalize().toJSON(),body:j,duplex:"half",credentials:Rt?_t:void 0});let Nt=await fetch(Bt);const Gt=supportsResponseStream&&(mt==="stream"||mt==="response");if(supportsResponseStream&&(ct||Gt&&Dt)){const ts={};["status","statusText","headers"].forEach(rn=>{ts[rn]=Nt[rn]});const es=utils$1.toFiniteNumber(Nt.headers.get("content-length")),[ds,tn]=ct&&progressEventDecorator(es,progressEventReducer(asyncDecorator(ct),!0))||[];Nt=new Response(trackStream(Nt.body,DEFAULT_CHUNK_SIZE,ds,()=>{tn&&tn(),Dt&&Dt()}),ts)}mt=mt||"text";let dr=await resolvers[utils$1.findKey(resolvers,mt)||"text"](Nt,s);return!Gt&&Dt&&Dt(),await new Promise((ts,es)=>{settle(ts,es,{data:dr,headers:AxiosHeaders.from(Nt.headers),status:Nt.status,statusText:Nt.statusText,config:s,request:Bt})})}catch(Rt){throw Dt&&Dt(),Rt&&Rt.name==="TypeError"&&/fetch/i.test(Rt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,Bt),{cause:Rt.cause||Rt}):AxiosError.from(Rt,Rt&&Rt.code,s,Bt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(s,o)=>{if(s){try{Object.defineProperty(s,"name",{value:o})}catch{}Object.defineProperty(s,"adapterName",{value:o})}});const renderReason=s=>`- ${s}`,isResolvedHandle=s=>utils$1.isFunction(s)||s===null||s===!1,adapters={getAdapter:s=>{s=utils$1.isArray(s)?s:[s];const{length:o}=s;let _,j;const et={};for(let st=0;st<o;st++){_=s[st];let nt;if(j=_,!isResolvedHandle(_)&&(j=knownAdapters[(nt=String(_)).toLowerCase()],j===void 0))throw new AxiosError(`Unknown adapter '${nt}'`);if(j)break;et[nt||"#"+st]=j}if(!j){const st=Object.entries(et).map(([ct,At])=>`adapter ${ct} `+(At===!1?"is not supported by the environment":"is not available in the build"));let nt=o?st.length>1?`since :
`+st.map(renderReason).join(`
`):" "+renderReason(st[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+nt,"ERR_NOT_SUPPORT")}return j},adapters:knownAdapters};function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError(null,s)}function dispatchRequest(s){return throwIfCancellationRequested(s),s.headers=AxiosHeaders.from(s.headers),s.data=transformData.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(s.adapter||defaults.adapter)(s).then(function(j){return throwIfCancellationRequested(s),j.data=transformData.call(s,s.transformResponse,j),j.headers=AxiosHeaders.from(j.headers),j},function(j){return isCancel(j)||(throwIfCancellationRequested(s),j&&j.response&&(j.response.data=transformData.call(s,s.transformResponse,j.response),j.response.headers=AxiosHeaders.from(j.response.headers))),Promise.reject(j)})}const VERSION="1.7.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((s,o)=>{validators$1[s]=function(j){return typeof j===s||"a"+(o<1?"n ":" ")+s}});const deprecatedWarnings={};validators$1.transitional=function s(o,_,j){function et(st,nt){return"[Axios v"+VERSION+"] Transitional option '"+st+"'"+nt+(j?". "+j:"")}return(st,nt,ct)=>{if(o===!1)throw new AxiosError(et(nt," has been removed"+(_?" in "+_:"")),AxiosError.ERR_DEPRECATED);return _&&!deprecatedWarnings[nt]&&(deprecatedWarnings[nt]=!0,console.warn(et(nt," has been deprecated since v"+_+" and will be removed in the near future"))),o?o(st,nt,ct):!0}};function assertOptions(s,o,_){if(typeof s!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const j=Object.keys(s);let et=j.length;for(;et-- >0;){const st=j[et],nt=o[st];if(nt){const ct=s[st],At=ct===void 0||nt(ct,st,s);if(At!==!0)throw new AxiosError("option "+st+" must be "+At,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(_!==!0)throw new AxiosError("Unknown option "+st,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(o){this.defaults=o,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(o,_){try{return await this._request(o,_)}catch(j){if(j instanceof Error){let et;Error.captureStackTrace?Error.captureStackTrace(et={}):et=new Error;const st=et.stack?et.stack.replace(/^.+\n/,""):"";try{j.stack?st&&!String(j.stack).endsWith(st.replace(/^.+\n.+\n/,""))&&(j.stack+=`
`+st):j.stack=st}catch{}}throw j}}_request(o,_){typeof o=="string"?(_=_||{},_.url=o):_=o||{},_=mergeConfig(this.defaults,_);const{transitional:j,paramsSerializer:et,headers:st}=_;j!==void 0&&validator.assertOptions(j,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),et!=null&&(utils$1.isFunction(et)?_.paramsSerializer={serialize:et}:validator.assertOptions(et,{encode:validators.function,serialize:validators.function},!0)),_.method=(_.method||this.defaults.method||"get").toLowerCase();let nt=st&&utils$1.merge(st.common,st[_.method]);st&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Bt=>{delete st[Bt]}),_.headers=AxiosHeaders.concat(nt,st);const ct=[];let At=!0;this.interceptors.request.forEach(function(Dt){typeof Dt.runWhen=="function"&&Dt.runWhen(_)===!1||(At=At&&Dt.synchronous,ct.unshift(Dt.fulfilled,Dt.rejected))});const mt=[];this.interceptors.response.forEach(function(Dt){mt.push(Dt.fulfilled,Dt.rejected)});let gt,_t=0,Et;if(!At){const Bt=[dispatchRequest.bind(this),void 0];for(Bt.unshift.apply(Bt,ct),Bt.push.apply(Bt,mt),Et=Bt.length,gt=Promise.resolve(_);_t<Et;)gt=gt.then(Bt[_t++],Bt[_t++]);return gt}Et=ct.length;let Ct=_;for(_t=0;_t<Et;){const Bt=ct[_t++],Dt=ct[_t++];try{Ct=Bt(Ct)}catch(Ft){Dt.call(this,Ft);break}}try{gt=dispatchRequest.call(this,Ct)}catch(Bt){return Promise.reject(Bt)}for(_t=0,Et=mt.length;_t<Et;)gt=gt.then(mt[_t++],mt[_t++]);return gt}getUri(o){o=mergeConfig(this.defaults,o);const _=buildFullPath(o.baseURL,o.url);return buildURL(_,o.params,o.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function s(o){Axios.prototype[o]=function(_,j){return this.request(mergeConfig(j||{},{method:o,url:_,data:(j||{}).data}))}});utils$1.forEach(["post","put","patch"],function s(o){function _(j){return function(st,nt,ct){return this.request(mergeConfig(ct||{},{method:o,headers:j?{"Content-Type":"multipart/form-data"}:{},url:st,data:nt}))}}Axios.prototype[o]=_(),Axios.prototype[o+"Form"]=_(!0)});class CancelToken{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let _;this.promise=new Promise(function(st){_=st});const j=this;this.promise.then(et=>{if(!j._listeners)return;let st=j._listeners.length;for(;st-- >0;)j._listeners[st](et);j._listeners=null}),this.promise.then=et=>{let st;const nt=new Promise(ct=>{j.subscribe(ct),st=ct}).then(et);return nt.cancel=function(){j.unsubscribe(st)},nt},o(function(st,nt,ct){j.reason||(j.reason=new CanceledError(st,nt,ct),_(j.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const _=this._listeners.indexOf(o);_!==-1&&this._listeners.splice(_,1)}toAbortSignal(){const o=new AbortController,_=j=>{o.abort(j)};return this.subscribe(_),o.signal.unsubscribe=()=>this.unsubscribe(_),o.signal}static source(){let o;return{token:new CancelToken(function(et){o=et}),cancel:o}}}function spread(s){return function(_){return s.apply(null,_)}}function isAxiosError(s){return utils$1.isObject(s)&&s.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([s,o])=>{HttpStatusCode[o]=s});function createInstance(s){const o=new Axios(s),_=bind(Axios.prototype.request,o);return utils$1.extend(_,Axios.prototype,o,{allOwnKeys:!0}),utils$1.extend(_,o,null,{allOwnKeys:!0}),_.create=function(et){return createInstance(mergeConfig(s,et))},_}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function s(o){return Promise.all(o)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=s=>formDataToJSON(utils$1.isHTMLForm(s)?new FormData(s):s);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const BASE_SERVER="https://saltlake.usecube.io",LOGIN_ROUTE="/pub/user/login",REGISTER_ROUTE="/pub/user/register",TRANSACTION_ROUTE="/portfolio/get/transaction/history",USER_BALANCE_ROUTE="/portfolio/get/my/balance",GET_USER_BANK_NUMBER_ROUTE="/api/deposit/fiat",SEND_FUNDS_CRYPTO_ROUTE="/api/withdrawal/external",SEND_FUNDS_INTERNAL_ROUTE="/api/withdrawal/internal",LIST_BANKS_ROUTE="/api/withdrawal/list-banks",VERIFY_BANK_ROUTE="/api/withdrawal/verify/account",PROCESS_FIAT_CASHOUT_ROUTE="/api/withdrawal/cashout",GENERATE_BANK_ACCOUNT_ROUTE="/api/user/generate/virtual/account",UPDATE_BVN_ROUTE="/api/user/submit/bvn",ADD_TO_WATCHER_ROUTE="/egomart/add-to-watch",server=axios.create({baseURL:BASE_SERVER});server.interceptors.request.use(s=>{const o=localStorage.getItem("x-token");return s.params=s.params||{},s.headers=s.headers||{},s.headers["x-token"]=o,s});const LIST_BANKS=async()=>{try{return(await server.get(LIST_BANKS_ROUTE)).data}catch(s){return s.response||s.message}},TRANSACTIONS=async()=>{try{return(await server.get(TRANSACTION_ROUTE)).data}catch(s){return s.response||s.message}},USER_BALANCE=async()=>{try{return(await server.get(USER_BALANCE_ROUTE)).data}catch(s){return s.response||s.message}},USER_ACCOUNT_NUMBER=async()=>{try{return(await server.get(GET_USER_BANK_NUMBER_ROUTE)).data}catch(s){return s.response||s.message}},GENERATE_WATU_BANK_ACCOUNT=async()=>{try{return(await server.post(GENERATE_BANK_ACCOUNT_ROUTE)).data}catch(s){return s.response||s.message}},SEND_CRYPTO_FUNDS=async s=>{try{return(await server.post(SEND_FUNDS_CRYPTO_ROUTE,s)).data}catch(o){return o.response||o.message}},SEND_FUNDS_INTERNAL=async s=>{try{return(await server.post(SEND_FUNDS_INTERNAL_ROUTE,s)).data}catch(o){return o.response||o.message}},VERIFY_BANK=async({bank_code:s,account_number:o})=>{try{const _=await server.post(`${VERIFY_BANK_ROUTE}/${o}/${s}`);return console.log("dhdhdh"),_.data}catch(_){return _.response||_.message}},PAYOUT_TO_BANK=async({bank_info:s,amount:o,symbol:_})=>{try{return(await server.post(`${PROCESS_FIAT_CASHOUT_ROUTE}`,{amount:o,symbol:_,bank_info:s})).data}catch(j){return j.response||j.message}},UPDATE_BVN=async({bvn:s})=>{try{return(await server.post(`${UPDATE_BVN_ROUTE}/${s}`)).data}catch(o){return o.response||o.message}};function __rest$1(s,o){var _={};for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&o.indexOf(j)<0&&(_[j]=s[j]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(s);et<j.length;et++)o.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(s,j[et])&&(_[j[et]]=s[j[et]]);return _}var SourceType;(function(s){s.event="event",s.props="prop"})(SourceType||(SourceType={}));function noop$1(){}function memoizeOnce(s){var o,_=void 0;return function(){for(var j=[],et=arguments.length;et--;)j[et]=arguments[et];return o&&j.length===o.length&&j.every(function(st,nt){return st===o[nt]})||(o=j,_=s.apply(void 0,j)),_}}function charIsNumber(s){return!!(s||"").match(/\d/)}function isNil(s){return s==null}function isNanValue(s){return typeof s=="number"&&isNaN(s)}function isNotValidValue(s){return isNil(s)||isNanValue(s)||typeof s=="number"&&!isFinite(s)}function escapeRegExp(s){return s.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(s){switch(s){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(s,o,_){var j=getThousandsGroupRegex(_),et=s.search(/[1-9]/);return et=et===-1?s.length:et,s.substring(0,et)+s.substring(et,s.length).replace(j,"$1"+o)}function usePersistentCallback(s){var o=reactExports.useRef(s);o.current=s;var _=reactExports.useRef(function(){for(var j=[],et=arguments.length;et--;)j[et]=arguments[et];return o.current.apply(o,j)});return _.current}function splitDecimal(s,o){o===void 0&&(o=!0);var _=s[0]==="-",j=_&&o;s=s.replace("-","");var et=s.split("."),st=et[0],nt=et[1]||"";return{beforeDecimal:st,afterDecimal:nt,hasNegation:_,addNegation:j}}function fixLeadingZero(s){if(!s)return s;var o=s[0]==="-";o&&(s=s.substring(1,s.length));var _=s.split("."),j=_[0].replace(/^0+/,"")||"0",et=_[1]||"";return(o?"-":"")+j+(et?"."+et:"")}function limitToScale(s,o,_){for(var j="",et=_?"0":"",st=0;st<=o-1;st++)j+=s[st]||et;return j}function repeat(s,o){return Array(o+1).join(s)}function toNumericString(s){var o=s+"",_=o[0]==="-"?"-":"";_&&(o=o.substring(1));var j=o.split(/[eE]/g),et=j[0],st=j[1];if(st=Number(st),!st)return _+et;et=et.replace(".","");var nt=1+st,ct=et.length;return nt<0?et="0."+repeat("0",Math.abs(nt))+et:nt>=ct?et=et+repeat("0",nt-ct):et=(et.substring(0,nt)||"0")+"."+et.substring(nt),_+et}function roundToPrecision(s,o,_){if(["","-"].indexOf(s)!==-1)return s;var j=(s.indexOf(".")!==-1||_)&&o,et=splitDecimal(s),st=et.beforeDecimal,nt=et.afterDecimal,ct=et.hasNegation,At=parseFloat("0."+(nt||"0")),mt=nt.length<=o?"0."+nt:At.toFixed(o),gt=mt.split("."),_t=st;st&&Number(gt[0])&&(_t=st.split("").reverse().reduce(function(Dt,Ft,Rt){return Dt.length>Rt?(Number(Dt[0])+Number(Ft)).toString()+Dt.substring(1,Dt.length):Ft+Dt},gt[0]));var Et=limitToScale(gt[1]||"",o,_),Ct=ct?"-":"",Bt=j?".":"";return""+Ct+_t+Bt+Et}function setCaretPosition(s,o){if(s.value=s.value,s!==null){if(s.createTextRange){var _=s.createTextRange();return _.move("character",o),_.select(),!0}return s.selectionStart||s.selectionStart===0?(s.focus(),s.setSelectionRange(o,o),!0):(s.focus(),!1)}}var findChangeRange=memoizeOnce(function(s,o){for(var _=0,j=0,et=s.length,st=o.length;s[_]===o[_]&&_<et;)_++;for(;s[et-1-j]===o[st-1-j]&&st-j>_&&et-j>_;)j++;return{from:{start:_,end:et-j},to:{start:_,end:st-j}}}),findChangedRangeFromCaretPositions=function(s,o){var _=Math.min(s.selectionStart,o);return{from:{start:_,end:s.selectionEnd},to:{start:_,end:o}}};function clamp(s,o,_){return Math.min(Math.max(s,o),_)}function geInputCaretPosition(s){return Math.max(s.selectionStart,s.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(s){return{from:{start:0,end:0},to:{start:0,end:s.length},lastValue:""}}function defaultIsCharacterSame(s){var o=s.currentValue,_=s.formattedValue,j=s.currentValueIndex,et=s.formattedValueIndex;return o[j]===_[et]}function getCaretPosition(s,o,_,j,et,st,nt){nt===void 0&&(nt=defaultIsCharacterSame);var ct=et.findIndex(function(dr){return dr}),At=s.slice(0,ct);!o&&!_.startsWith(At)&&(o=At,_=At+_,j=j+At.length);for(var mt=_.length,gt=s.length,_t={},Et=new Array(mt),Ct=0;Ct<mt;Ct++){Et[Ct]=-1;for(var Bt=0,Dt=gt;Bt<Dt;Bt++){var Ft=nt({currentValue:_,lastValue:o,formattedValue:s,currentValueIndex:Ct,formattedValueIndex:Bt});if(Ft&&_t[Bt]!==!0){Et[Ct]=Bt,_t[Bt]=!0;break}}}for(var Rt=j;Rt<mt&&(Et[Rt]===-1||!st(_[Rt]));)Rt++;var Nt=Rt===mt||Et[Rt]===-1?gt:Et[Rt];for(Rt=j-1;Rt>0&&Et[Rt]===-1;)Rt--;var Gt=Rt===-1||Et[Rt]===-1?0:Et[Rt]+1;return Gt>Nt?Nt:j-Gt<Nt-j?Gt:Nt}function getCaretPosInBoundary(s,o,_,j){var et=s.length;if(o=clamp(o,0,et),j==="left"){for(;o>=0&&!_[o];)o--;o===-1&&(o=_.indexOf(!0))}else{for(;o<=et&&!_[o];)o++;o>et&&(o=_.lastIndexOf(!0))}return o===-1&&(o=et),o}function caretUnknownFormatBoundary(s){for(var o=Array.from({length:s.length+1}).map(function(){return!0}),_=0,j=o.length;_<j;_++)o[_]=!!(charIsNumber(s[_])||charIsNumber(s[_-1]));return o}function useInternalValues(s,o,_,j,et,st){st===void 0&&(st=noop$1);var nt=usePersistentCallback(function(Bt,Dt){var Ft,Rt;return isNotValidValue(Bt)?(Rt="",Ft=""):typeof Bt=="number"||Dt?(Rt=typeof Bt=="number"?toNumericString(Bt):Bt,Ft=j(Rt)):(Rt=et(Bt,void 0),Ft=j(Rt)),{formattedValue:Ft,numAsString:Rt}}),ct=reactExports.useState(function(){return nt(isNil(s)?o:s,_)}),At=ct[0],mt=ct[1],gt=function(Bt,Dt){Bt.formattedValue!==At.formattedValue&&mt({formattedValue:Bt.formattedValue,numAsString:Bt.value}),st(Bt,Dt)},_t=s,Et=_;isNil(s)&&(_t=At.numAsString,Et=!0);var Ct=nt(_t,Et);return reactExports.useMemo(function(){mt(Ct)},[Ct.formattedValue]),[At,gt]}function defaultRemoveFormatting(s){return s.replace(/[^0-9]/g,"")}function defaultFormat(s){return s}function NumberFormatBase(s){var o=s.type;o===void 0&&(o="text");var _=s.displayType;_===void 0&&(_="input");var j=s.customInput,et=s.renderText,st=s.getInputRef,nt=s.format;nt===void 0&&(nt=defaultFormat);var ct=s.removeFormatting;ct===void 0&&(ct=defaultRemoveFormatting);var At=s.defaultValue,mt=s.valueIsNumericString,gt=s.onValueChange,_t=s.isAllowed,Et=s.onChange;Et===void 0&&(Et=noop$1);var Ct=s.onKeyDown;Ct===void 0&&(Ct=noop$1);var Bt=s.onMouseUp;Bt===void 0&&(Bt=noop$1);var Dt=s.onFocus;Dt===void 0&&(Dt=noop$1);var Ft=s.onBlur;Ft===void 0&&(Ft=noop$1);var Rt=s.value,Nt=s.getCaretBoundary;Nt===void 0&&(Nt=caretUnknownFormatBoundary);var Gt=s.isValidInputCharacter;Gt===void 0&&(Gt=charIsNumber);var dr=s.isCharacterSame,ts=__rest$1(s,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),es=useInternalValues(Rt,At,!!mt,nt,ct,gt),ds=es[0],tn=ds.formattedValue,rn=ds.numAsString,un=es[1],$n=reactExports.useRef(),kn=reactExports.useRef({formattedValue:tn,numAsString:rn}),lo=function(l$,pR){kn.current={formattedValue:l$.formattedValue,numAsString:l$.value},un(l$,pR)},Il=reactExports.useState(!1),cu=Il[0],Ko=Il[1],ru=reactExports.useRef(null),Tn=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return Ko(!0),function(){clearTimeout(Tn.current.setCaretTimeout),clearTimeout(Tn.current.focusTimeout)}},[]);var ao=nt,uu=function(l$,pR){var h$=parseFloat(pR);return{formattedValue:l$,value:pR,floatValue:isNaN(h$)?void 0:h$}},hu=function(l$,pR,h$){l$.selectionStart===0&&l$.selectionEnd===l$.value.length||(setCaretPosition(l$,pR),Tn.current.setCaretTimeout=setTimeout(function(){l$.value===h$&&l$.selectionStart!==pR&&setCaretPosition(l$,pR)},0))},tA=function(l$,pR,h$){return getCaretPosInBoundary(l$,pR,Nt(l$),h$)},Sv=function(l$,pR,h$){var w$=Nt(pR),E$=getCaretPosition(pR,tn,l$,h$,w$,Gt,dr);return E$=getCaretPosInBoundary(pR,E$,w$),E$},W0=function(l$){var pR=l$.formattedValue;pR===void 0&&(pR="");var h$=l$.input,w$=l$.source,E$=l$.event,Vx=l$.numAsString,b0;if(h$){var o$=l$.inputValue||h$.value,m$=geInputCaretPosition(h$);h$.value=pR,b0=Sv(o$,pR,m$),b0!==void 0&&hu(h$,b0,pR)}pR!==tn&&lo(uu(pR,Vx),{event:E$,source:w$})};reactExports.useEffect(function(){var l$=kn.current,pR=l$.formattedValue,h$=l$.numAsString;(tn!==pR||rn!==h$)&&lo(uu(tn,rn),{event:void 0,source:SourceType.props})},[tn,rn]);var l1=ru.current?geInputCaretPosition(ru.current):void 0,X1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;X1(function(){var l$=ru.current;if(tn!==kn.current.formattedValue&&l$){var pR=Sv(kn.current.formattedValue,tn,l1);l$.value=tn,hu(l$,pR,tn)}},[tn]);var kI=function(l$,pR,h$){var w$=pR.target,E$=$n.current?findChangedRangeFromCaretPositions($n.current,w$.selectionEnd):findChangeRange(tn,l$),Vx=Object.assign(Object.assign({},E$),{lastValue:tn}),b0=ct(l$,Vx),o$=ao(b0);if(b0=ct(o$,void 0),_t&&!_t(uu(o$,b0))){var m$=pR.target,t0=geInputCaretPosition(m$),_$=Sv(l$,tn,t0);return m$.value=tn,hu(m$,_$,tn),!1}return W0({formattedValue:o$,numAsString:b0,inputValue:l$,event:pR,source:h$,input:pR.target}),!0},q1=function(l$,pR){pR===void 0&&(pR=0);var h$=l$.selectionStart,w$=l$.selectionEnd;$n.current={selectionStart:h$,selectionEnd:w$+pR}},UE=function(l$){var pR=l$.target,h$=pR.value,w$=kI(h$,l$,SourceType.event);w$&&Et(l$),$n.current=void 0},a1=function(l$){var pR=l$.target,h$=l$.key,w$=pR.selectionStart,E$=pR.selectionEnd,Vx=pR.value;Vx===void 0&&(Vx="");var b0;h$==="ArrowLeft"||h$==="Backspace"?b0=Math.max(w$-1,0):h$==="ArrowRight"?b0=Math.min(w$+1,Vx.length):h$==="Delete"&&(b0=w$);var o$=0;h$==="Delete"&&w$===E$&&(o$=1);var m$=h$==="ArrowLeft"||h$==="ArrowRight";if(b0===void 0||w$!==E$&&!m$){Ct(l$),q1(pR,o$);return}var t0=b0;if(m$){var _$=h$==="ArrowLeft"?"left":"right";t0=tA(Vx,b0,_$),t0!==b0&&l$.preventDefault()}else h$==="Delete"&&!Gt(Vx[b0])?t0=tA(Vx,b0,"right"):h$==="Backspace"&&!Gt(Vx[b0])&&(t0=tA(Vx,b0,"left"));t0!==b0&&hu(pR,t0,Vx),Ct(l$),q1(pR,o$)},LE=function(l$){var pR=l$.target,h$=function(){var w$=pR.selectionStart,E$=pR.selectionEnd,Vx=pR.value;if(Vx===void 0&&(Vx=""),w$===E$){var b0=tA(Vx,w$);b0!==w$&&hu(pR,b0,Vx)}};h$(),requestAnimationFrame(function(){h$()}),Bt(l$),q1(pR)},rS=function(l$){l$.persist&&l$.persist();var pR=l$.target,h$=l$.currentTarget;ru.current=pR,Tn.current.focusTimeout=setTimeout(function(){var w$=pR.selectionStart,E$=pR.selectionEnd,Vx=pR.value;Vx===void 0&&(Vx="");var b0=tA(Vx,w$);b0!==w$&&!(w$===0&&E$===Vx.length)&&hu(pR,b0,Vx),Dt(Object.assign(Object.assign({},l$),{currentTarget:h$}))},0)},gD=function(l$){ru.current=null,clearTimeout(Tn.current.focusTimeout),clearTimeout(Tn.current.setCaretTimeout),Ft(l$)},NI=cu&&addInputMode()?"numeric":void 0,a$=Object.assign({inputMode:NI},ts,{type:o,value:tn,onChange:UE,onKeyDown:a1,onMouseUp:LE,onFocus:rS,onBlur:gD});if(_==="text")return et?Z$3.createElement(Z$3.Fragment,null,et(tn,ts)||null):Z$3.createElement("span",Object.assign({},ts,{ref:st}),tn);if(j){var x$=j;return Z$3.createElement(x$,Object.assign({},a$,{ref:st}))}return Z$3.createElement("input",Object.assign({},a$,{ref:st}))}function format(s,o){var _=o.decimalScale,j=o.fixedDecimalScale,et=o.prefix;et===void 0&&(et="");var st=o.suffix;st===void 0&&(st="");var nt=o.allowNegative,ct=o.thousandsGroupStyle;if(ct===void 0&&(ct="thousand"),s===""||s==="-")return s;var At=getSeparators(o),mt=At.thousandSeparator,gt=At.decimalSeparator,_t=_!==0&&s.indexOf(".")!==-1||_&&j,Et=splitDecimal(s,nt),Ct=Et.beforeDecimal,Bt=Et.afterDecimal,Dt=Et.addNegation;return _!==void 0&&(Bt=limitToScale(Bt,_,!!j)),mt&&(Ct=applyThousandSeparator(Ct,mt,ct)),et&&(Ct=et+Ct),st&&(Bt=Bt+st),Dt&&(Ct="-"+Ct),s=Ct+(_t&&gt||"")+Bt,s}function getSeparators(s){var o=s.decimalSeparator;o===void 0&&(o=".");var _=s.thousandSeparator,j=s.allowedDecimalSeparators;return _===!0&&(_=","),j||(j=[o,"."]),{decimalSeparator:o,thousandSeparator:_,allowedDecimalSeparators:j}}function handleNegation(s,o){s===void 0&&(s="");var _=new RegExp("(-)"),j=new RegExp("(-)(.)*(-)"),et=_.test(s),st=j.test(s);return s=s.replace(/-/g,""),et&&!st&&o&&(s="-"+s),s}function getNumberRegex(s,o){return new RegExp("(^-)|[0-9]|"+escapeRegExp(s),"g")}function isNumericString(s,o,_){return s===""?!0:!(o!=null&&o.match(/\d/))&&!(_!=null&&_.match(/\d/))&&typeof s=="string"&&!isNaN(Number(s))}function removeFormatting(s,o,_){var j;o===void 0&&(o=getDefaultChangeMeta(s));var et=_.allowNegative,st=_.prefix;st===void 0&&(st="");var nt=_.suffix;nt===void 0&&(nt="");var ct=_.decimalScale,At=o.from,mt=o.to,gt=mt.start,_t=mt.end,Et=getSeparators(_),Ct=Et.allowedDecimalSeparators,Bt=Et.decimalSeparator,Dt=s[_t]===Bt;if(charIsNumber(s)&&(s===st||s===nt)&&o.lastValue==="")return s;if(_t-gt===1&&Ct.indexOf(s[gt])!==-1){var Ft=ct===0?"":Bt;s=s.substring(0,gt)+Ft+s.substring(gt+1,s.length)}var Rt=function(ru,Tn,ao){var uu=!1,hu=!1;st.startsWith("-")?uu=!1:ru.startsWith("--")?(uu=!1,hu=!0):nt.startsWith("-")&&ru.length===nt.length?uu=!1:ru[0]==="-"&&(uu=!0);var tA=uu?1:0;return hu&&(tA=2),tA&&(ru=ru.substring(tA),Tn-=tA,ao-=tA),{value:ru,start:Tn,end:ao,hasNegation:uu}},Nt=Rt(s,gt,_t),Gt=Nt.hasNegation;j=Nt,s=j.value,gt=j.start,_t=j.end;var dr=Rt(o.lastValue,At.start,At.end),ts=dr.start,es=dr.end,ds=dr.value,tn=s.substring(gt,_t);s.length&&ds.length&&(ts>ds.length-nt.length||es<st.length)&&!(tn&&nt.startsWith(tn))&&(s=ds);var rn=0;s.startsWith(st)?rn+=st.length:gt<st.length&&(rn=gt),s=s.substring(rn),_t-=rn;var un=s.length,$n=s.length-nt.length;s.endsWith(nt)?un=$n:(_t>$n||_t>s.length-nt.length)&&(un=_t),s=s.substring(0,un),s=handleNegation(Gt?"-"+s:s,et),s=(s.match(getNumberRegex(Bt))||[]).join("");var kn=s.indexOf(Bt);s=s.replace(new RegExp(escapeRegExp(Bt),"g"),function(ru,Tn){return Tn===kn?".":""});var lo=splitDecimal(s,et),Il=lo.beforeDecimal,cu=lo.afterDecimal,Ko=lo.addNegation;return mt.end-mt.start<At.end-At.start&&Il===""&&Dt&&!parseFloat(cu)&&(s=Ko?"-":""),s}function getCaretBoundary(s,o){var _=o.prefix;_===void 0&&(_="");var j=o.suffix;j===void 0&&(j="");var et=Array.from({length:s.length+1}).map(function(){return!0}),st=s[0]==="-";et.fill(!1,0,_.length+(st?1:0));var nt=s.length;return et.fill(!1,nt-j.length+1,nt+1),et}function validateAndUpdateProps(s){var o=getSeparators(s),_=o.thousandSeparator,j=o.decimalSeparator,et=s.prefix;et===void 0&&(et="");var st=s.allowNegative;if(st===void 0&&(st=!0),_===j)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+_+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+j+` (default value for decimalSeparator is .)
     `);return et.startsWith("-")&&st&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+et+`
      allowNegative: `+st+`
    `),st=!1),Object.assign(Object.assign({},s),{allowNegative:st})}function useNumericFormat(s){s=validateAndUpdateProps(s),s.decimalSeparator,s.allowedDecimalSeparators,s.thousandsGroupStyle;var o=s.suffix,_=s.allowNegative,j=s.allowLeadingZeros,et=s.onKeyDown;et===void 0&&(et=noop$1);var st=s.onBlur;st===void 0&&(st=noop$1);var nt=s.thousandSeparator,ct=s.decimalScale,At=s.fixedDecimalScale,mt=s.prefix;mt===void 0&&(mt="");var gt=s.defaultValue,_t=s.value,Et=s.valueIsNumericString,Ct=s.onValueChange,Bt=__rest$1(s,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),Dt=getSeparators(s),Ft=Dt.decimalSeparator,Rt=Dt.allowedDecimalSeparators,Nt=function(Ko){return format(Ko,s)},Gt=function(Ko,ru){return removeFormatting(Ko,ru,s)},dr=isNil(_t)?gt:_t,ts=Et??isNumericString(dr,mt,o);isNil(_t)?isNil(gt)||(ts=ts||typeof gt=="number"):ts=ts||typeof _t=="number";var es=function(Ko){return isNotValidValue(Ko)?Ko:(typeof Ko=="number"&&(Ko=toNumericString(Ko)),ts&&typeof ct=="number"?roundToPrecision(Ko,ct,!!At):Ko)},ds=useInternalValues(es(_t),es(gt),!!ts,Nt,Gt,Ct),tn=ds[0],rn=tn.numAsString,un=tn.formattedValue,$n=ds[1],kn=function(Ko){var ru=Ko.target,Tn=Ko.key,ao=ru.selectionStart,uu=ru.selectionEnd,hu=ru.value;if(hu===void 0&&(hu=""),(Tn==="Backspace"||Tn==="Delete")&&uu<mt.length){Ko.preventDefault();return}if(ao!==uu){et(Ko);return}Tn==="Backspace"&&hu[0]==="-"&&ao===mt.length+1&&_&&setCaretPosition(ru,1),ct&&At&&(Tn==="Backspace"&&hu[ao-1]===Ft?(setCaretPosition(ru,ao-1),Ko.preventDefault()):Tn==="Delete"&&hu[ao]===Ft&&Ko.preventDefault()),Rt!=null&&Rt.includes(Tn)&&hu[ao]===Ft&&setCaretPosition(ru,ao+1);var tA=nt===!0?",":nt;Tn==="Backspace"&&hu[ao-1]===tA&&setCaretPosition(ru,ao-1),Tn==="Delete"&&hu[ao]===tA&&setCaretPosition(ru,ao+1),et(Ko)},lo=function(Ko){var ru=rn;if(ru.match(/\d/g)||(ru=""),j||(ru=fixLeadingZero(ru)),At&&ct&&(ru=roundToPrecision(ru,ct,At)),ru!==rn){var Tn=format(ru,s);$n({formattedValue:Tn,value:ru,floatValue:parseFloat(ru)},{event:Ko,source:SourceType.event})}st(Ko)},Il=function(Ko){return Ko===Ft?!0:charIsNumber(Ko)},cu=function(Ko){var ru=Ko.currentValue,Tn=Ko.lastValue,ao=Ko.formattedValue,uu=Ko.currentValueIndex,hu=Ko.formattedValueIndex,tA=ru[uu],Sv=ao[hu],W0=findChangeRange(Tn,ru),l1=W0.to,X1=function(kI){return Gt(kI).indexOf(".")+mt.length};return _t===0&&At&&ct&&ru[l1.start]===Ft&&X1(ru)<uu&&X1(ao)>hu?!1:uu>=l1.start&&uu<l1.end&&Rt&&Rt.includes(tA)&&Sv===Ft?!0:tA===Sv};return Object.assign(Object.assign({},Bt),{value:un,valueIsNumericString:!1,isValidInputCharacter:Il,isCharacterSame:cu,onValueChange:$n,format:Nt,removeFormatting:Gt,getCaretBoundary:function(Ko){return getCaretBoundary(Ko,s)},onKeyDown:kn,onBlur:lo})}function NumericFormat(s){var o=useNumericFormat(s);return Z$3.createElement(NumberFormatBase,Object.assign({},o))}const numberWithCommas=s=>jsxRuntimeExports.jsx(NumericFormat,{value:s,displayType:"text",thousandSeparator:!0}),SwitchToggle2=({checkBox:s,toggle:o})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{class:"switch2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:s===!0}),jsxRuntimeExports.jsx("span",{class:"slider2 round",onClick:o})]})}),DashBoardDefaultPage=()=>{var Nt;reactExports.useState(0);const[s,o]=reactExports.useState([]),[_,j]=reactExports.useState(0),[et,st]=reactExports.useState(0),[nt,ct]=reactExports.useState(!1),[At,mt]=reactExports.useState(!0);window.location.pathname.split("/"),reactExports.useEffect(()=>{mt(!0),setTimeout(()=>{mt(!1)},2e3)},[]);const{data:_t,isPending:Et}=useQuery({queryKey:["transaction"],queryFn:async()=>{const Gt=await TRANSACTIONS();if(console.log("===================================="),console.log(Gt),Gt.code===200){o(Gt.data);return}return Gt}});useQuery({queryKey:["userBalance"],queryFn:async()=>{var dr,ts;const Gt=await USER_BALANCE();console.log("===================================="),console.log(Gt);for(let es=0;es<Gt.data.length;es++)switch(Gt.data[es].name){case"Naira-coin":st(((dr=Gt.data[es])==null?void 0:dr.value)===null?"0":(ts=Gt.data[es])==null?void 0:ts.value);break}return Gt}}),reactExports.useEffect(()=>{},[]);const Ct=s.reduce((Gt,dr)=>{const ts=dr.createdAt.split("T")[0];return Gt[ts]||(Gt[ts]=[]),Gt[ts].push(dr),Gt},{}),Bt=Object.keys(Ct).map(Gt=>({date:Gt,data:Ct[Gt]}));console.log(Bt);const Dt=Gt=>{let dr=Gt.currentTarget.id;console.log(dr),j(dr)},Ft=()=>{j(0),console.log("i am not here")};reactExports.useEffect(()=>{console.log(getUserInfo())},[]);const Rt=()=>{ct(!nt)};return At?jsxRuntimeExports.jsx("div",{className:"loading_div_area",children:jsxRuntimeExports.jsx(Lottie,{animationData:loading,loop:!1,autoPlay:!0,className:"loadingIcon",preserveAspectRatio:"xMidYMid meet"})}):jsxRuntimeExports.jsxs("div",{className:"defaultPage",children:[jsxRuntimeExports.jsx("div",{className:"defaultPage_title",children:"Home"}),jsxRuntimeExports.jsxs("div",{className:"defaultPage_sub_title",children:["Welcome back, ",(Nt=getUserInfo())==null?void 0:Nt.username,"."]}),jsxRuntimeExports.jsxs("div",{className:"defaultPage_body",children:[jsxRuntimeExports.jsxs("div",{className:"defaultPage_body_area1",children:[jsxRuntimeExports.jsxs("div",{className:"defaultPage_body1",children:[jsxRuntimeExports.jsx("div",{className:"defaultPage_body1_cont2",children:"Your NGNT balance"}),jsxRuntimeExports.jsxs("div",{className:"defaultPage_body1_cont1",children:[jsxRuntimeExports.jsx("img",{src:"https://i.imgur.com/JXm7zwC.png",alt:"",className:"defaultPage_body1_cont1_span_img"}),nt?"*****":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",numberWithCommas(parseFloat(et).toFixed(2))]})]})]}),jsxRuntimeExports.jsx("div",{className:"hide_balance_toggle",children:jsxRuntimeExports.jsx(SwitchToggle2,{className:"toggle_dark_mode",toggle:Rt,checkBox:nt})}),jsxRuntimeExports.jsx("img",{src:"/img/amount_div_bg.jpeg",alt:"",className:"defaultPage_body_area1_img"})]}),jsxRuntimeExports.jsxs("div",{className:"Transfer_withdraw_div",children:[jsxRuntimeExports.jsxs(Link,{to:"/app/add-money",className:"Transfer_withdraw_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"/img/add_icon.png",alt:"",className:"Transfer_withdraw_div_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Transfer_withdraw_div_cont1_txt",children:"Add Money"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/send-money",className:"Transfer_withdraw_div_cont2",children:[jsxRuntimeExports.jsx("img",{src:"/img/send_icon.png",alt:"",className:"Transfer_withdraw_div_cont2_icon"}),jsxRuntimeExports.jsx("div",{className:"Transfer_withdraw_div_cont2_txt",children:"Transfer Money"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/fund-egax",className:"Transfer_withdraw_div_cont2",children:[jsxRuntimeExports.jsx("img",{src:"/img/send_icon.png",alt:"",className:"Transfer_withdraw_div_cont2_icon"}),jsxRuntimeExports.jsx("div",{className:"Transfer_withdraw_div_cont2_txt",children:"Fund Egax"})]})]}),jsxRuntimeExports.jsxs("div",{className:"defaultPage_body_area2",children:[jsxRuntimeExports.jsxs("div",{className:"defaultPage_body_area2_cont1",children:[jsxRuntimeExports.jsx("div",{className:"defaultPage_body_area2_transaction_heading",children:"Recent Transaction"}),jsxRuntimeExports.jsx("a",{href:"/app/all-transactions",className:"defaultPage_body_area2_transaction_heading_link",children:"See all"})]}),jsxRuntimeExports.jsx("div",{className:"transactionBody",children:Et?jsxRuntimeExports.jsxs("div",{className:"loader_div",children:[jsxRuntimeExports.jsx(_default$1,{color:"#fff"}),jsxRuntimeExports.jsx("span",{className:"loader_div_span",children:"Fetching Transactions..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",Bt.length<1?jsxRuntimeExports.jsx(NodataComp,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Bt.slice(0,3).map(Gt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"transactionBody1_date",children:Gt.date}),Gt.data.map(dr=>jsxRuntimeExports.jsxs("div",{className:"transactionBody_cont1",id:dr.id,onClick:Dt,children:[jsxRuntimeExports.jsxs("div",{className:"transactionBody_cont1_areabody1",children:[jsxRuntimeExports.jsx("div",{className:"transactionBody_cont1_img",children:jsxRuntimeExports.jsx("img",{src:dr.image,alt:"",className:"transactionBody_cont1_img_img"})}),jsxRuntimeExports.jsxs("div",{className:"transactionBody_cont1_area1",children:[jsxRuntimeExports.jsx("div",{className:"transactionBody_cont1_area1_head",children:dr.to_email==="samuelify225@gmail.com"?dr.email:dr.to_email}),jsxRuntimeExports.jsx("div",{className:"transactionBody_cont1_area1_time",children:dr.status})]})]}),jsxRuntimeExports.jsx("div",{className:"transactionBody_cont1_areabody2",children:jsxRuntimeExports.jsx("div",{className:"transactionBody_cont1_areabody2_amount",children:dr.to_email==="samuelify225@gmail.com"?jsxRuntimeExports.jsxs("div",{style:{color:"#90ff90"},children:[" ","+₦",numberWithCommas(parseFloat(dr.amount).toFixed(2))]}):jsxRuntimeExports.jsxs("div",{style:{color:"#ff8686"},children:[" ","-₦",numberWithCommas(parseFloat(dr.amount).toFixed(2))]})})})]}))]}))})]})}),s.map(Gt=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_==Gt.id?jsxRuntimeExports.jsx("div",{className:"trans_div",children:jsxRuntimeExports.jsxs("div",{className:"tranPop_div",children:[jsxRuntimeExports.jsxs("div",{className:"tranPopHeading",children:["Transaction Details"," ",jsxRuntimeExports.jsx("span",{className:"tranPopOutButton",children:jsxRuntimeExports.jsx(default_1$j,{className:"closeTranPopDiv",onClick:Ft})})]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:[" ",jsxRuntimeExports.jsxs("div",{className:"deposited_icon",children:[Gt.to_email==="samuelify225@gmail.com"?jsxRuntimeExports.jsx(default_1$g,{className:"arrow_down_deposit_icon"}):jsxRuntimeExports.jsx(default_1$e,{className:"arrow_down_deposit_icon",style:{background:"red"}})," "]}),jsxRuntimeExports.jsxs("span",{className:"transPopData",children:[" ",Gt.to_email==="samuelify225@gmail.com"?"Credit":"Debit"," "]})]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:["Date"," ",jsxRuntimeExports.jsxs("span",{className:"transPopData",children:[" ",Gt.createdAt.slice(0,10)]})," "]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:["Amount"," ",jsxRuntimeExports.jsxs("span",{className:"transPopData",children:[" ",Gt.to_email==="samuelify225@gmail.com"?jsxRuntimeExports.jsxs("div",{style:{color:"#0ecb81"},children:[" ","+₦",parseInt(Gt.amount).toFixed(2)]}):jsxRuntimeExports.jsxs("div",{style:{color:"#ff8484"},children:[" ","-₦",parseInt(Gt.amount).toFixed(2)]})]})," "]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:["From ",jsxRuntimeExports.jsx("span",{className:"transPopData",children:Gt.email})]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:["To ",jsxRuntimeExports.jsx("span",{className:"transPopData",children:Gt.to_email})]}),jsxRuntimeExports.jsxs("div",{className:"tranPop_div_cont1",children:["Status"," ",jsxRuntimeExports.jsxs("span",{className:"transPopData",children:[jsxRuntimeExports.jsx(default_1$f,{className:"complete_circle"}),Gt.status]})]})]})},Gt.id):null}))]})]})]})},v$6="5.6.10",fr$5=29.9700012207031,ip$5=0,op$5=55.0000022401959,w$5=1080,h$5=1080,nm$5="Composizione 1",ddd$5=0,assets$5=[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"lines Outlines",sr:1,ks:{o:{a:0,k:40,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[632,671.022,0],ix:2},a:{a:0,k:[850.5,315.5,0],ix:1},s:{a:0,k:[385,385,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.552,0],[0,0],[0,-.552],[0,0],[.552,0],[0,0],[0,.553],[0,0]],o:[[0,0],[.552,0],[0,0],[0,.553],[0,0],[-.552,0],[0,0],[0,-.552]],v:[[-31.323,-.898],[31.324,-.898],[32.324,.102],[32.324,8.876],[31.324,9.876],[-31.323,9.876],[-32.323,8.876],[-32.323,.102]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-.552,0],[0,0],[0,-.552],[0,0],[.552,0],[0,0],[0,.552],[0,0]],o:[[0,0],[.552,0],[0,0],[0,.552],[0,0],[-.552,0],[0,0],[0,-.552]],v:[[-31.323,-9.877],[-9.978,-9.877],[-8.978,-8.877],[-8.978,-6.387],[-9.978,-5.387],[-31.323,-5.387],[-32.323,-6.387],[-32.323,-8.877]],c:!0},ix:2},nm:"Tracciato 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:2,k:{a:0,k:[0,1,1,1,1,0,0,0],ix:9}},s:{a:0,k:[32.035,-5.237],ix:5},e:{a:0,k:[-32.758,-2.508],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[850.792,315.762],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:63.9360026041667,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"dots Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[698.467,572.277,0],ix:2},a:{a:0,k:[850.5,315.5,0],ix:1},s:{a:0,k:[385,385,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-1.303],[-1.302,0],[0,1.303],[1.302,0]],o:[[0,1.303],[1.302,0],[0,-1.303],[-1.302,0]],v:[[43.883,0],[46.242,2.359],[48.602,0],[46.242,-2.359]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,-1.303],[-1.302,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.302,0]],v:[[36.333,0],[38.693,2.359],[41.052,0],[38.693,-2.359]],c:!0},ix:2},nm:"Tracciato 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,-1.303],[-1.304,0],[0,1.303],[1.302,0]],o:[[0,1.303],[1.302,0],[0,-1.303],[-1.304,0]],v:[[28.784,0],[31.143,2.359],[33.503,0],[31.143,-2.359]],c:!0},ix:2},nm:"Tracciato 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[0,-1.303],[-1.302,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.302,0]],v:[[21.234,0],[23.592,2.359],[25.953,0],[23.592,-2.359]],c:!0},ix:2},nm:"Tracciato 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[8.966,0],[11.325,2.359],[13.683,0],[11.325,-2.359]],c:!0},ix:2},nm:"Tracciato 5",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[1.415,0],[3.774,2.359],[6.133,0],[3.774,-2.359]],c:!0},ix:2},nm:"Tracciato 6",mn:"ADBE Vector Shape - Group",hd:!1},{ind:6,ty:"sh",ix:7,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[-6.135,0],[-3.776,2.359],[-1.417,0],[-3.776,-2.359]],c:!0},ix:2},nm:"Tracciato 7",mn:"ADBE Vector Shape - Group",hd:!1},{ind:7,ty:"sh",ix:8,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[-13.685,0],[-11.326,2.359],[-8.966,0],[-11.326,-2.359]],c:!0},ix:2},nm:"Tracciato 8",mn:"ADBE Vector Shape - Group",hd:!1},{ind:8,ty:"sh",ix:9,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[-25.953,0],[-23.594,2.359],[-21.234,0],[-23.594,-2.359]],c:!0},ix:2},nm:"Tracciato 9",mn:"ADBE Vector Shape - Group",hd:!1},{ind:9,ty:"sh",ix:10,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[-33.503,0],[-31.143,2.359],[-28.784,0],[-31.143,-2.359]],c:!0},ix:2},nm:"Tracciato 10",mn:"ADBE Vector Shape - Group",hd:!1},{ind:10,ty:"sh",ix:11,ks:{a:0,k:{i:[[0,-1.303],[-1.303,0],[0,1.303],[1.303,0]],o:[[0,1.303],[1.303,0],[0,-1.303],[-1.303,0]],v:[[-41.052,0],[-38.693,2.359],[-36.333,0],[-38.693,-2.359]],c:!0},ix:2},nm:"Tracciato 11",mn:"ADBE Vector Shape - Group",hd:!1},{ind:11,ty:"sh",ix:12,ks:{a:0,k:{i:[[0,-1.303],[-1.304,0],[0,1.303],[1.302,0]],o:[[0,1.303],[1.302,0],[0,-1.303],[-1.304,0]],v:[[-48.602,0],[-46.242,2.359],[-43.883,0],[-46.242,-2.359]],c:!0},ix:2},nm:"Tracciato 12",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.192,.533,1,.5,.282,.637,1,1,.373,.741,1],ix:9}},s:{a:0,k:[39.703,0],ix:5},e:{a:0,k:[-64.812,-.678],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[850.969,315.925],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"Group 1",np:13,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:65.9340026855469,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"visa",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[815.5,529,0],ix:2},a:{a:0,k:[89.5,66,0],ix:1},s:{a:0,k:[385,385,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.029,1.326],[-.86,.109],[-1.331,-.6],[0,0],[1.147,0],[.017,-2.188],[-1.128,-.539],[.005,-.493],[.856,-.013],[.692,.315],[0,0],[-1.33,-.013],[-.01,2.338]],o:[[.01,-.403],[.425,-.055],[0,0],[-.716,-.254],[-2.94,0],[-.019,1.62],[1.158,.551],[-.009,.754],[-1.496,.023],[0,0],[.694,.312],[3.125,0],[.013,-2.967]],v:[[-.199,-2.492],[1.063,-3.432],[3.995,-2.93],[4.518,-5.314],[1.735,-5.812],[-3.291,-2.096],[-.686,.965],[.856,2.362],[-.924,3.462],[-3.98,2.752],[-4.518,5.215],[-1.21,5.812],[3.969,1.965]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.773000001907,.898000001907,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[32.205,59.952],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"s",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-.735,1.637],[.831,-2.585],[1.732,1.637]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[.213,-.5],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[-.571,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[2.934,-5.622],[.395,-5.622],[-.871,-4.798],[-5.335,5.622],[-2.212,5.622],[-1.591,3.941],[2.224,3.941],[2.584,5.622],[5.335,5.622]],c:!0},ix:2},nm:"Tracciato 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.773000001907,.898000001907,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[41.354,59.967],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"a",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-.257,-5.622],[-2.717,5.622],[.257,5.622],[2.717,-5.622]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.773000001907,.898000001907,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[25.387,59.967],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"i",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[.645,0],[0,0],[0,0],[-.715,-.38],[-.144,-.553],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[-.146,-.727],[0,0],[0,0],[1.04,.221],[.438,.232],[0,0],[0,0],[0,0],[0,0]],v:[[3.864,-5.622],[.768,2.03],[-.485,-4.476],[-1.857,-5.622],[-6.918,-5.622],[-6.989,-5.296],[-4.054,-4.339],[-3.347,-3.351],[-.975,5.622],[2.169,5.622],[6.989,-5.622]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.773000001907,.898000001907,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[16.865,59.967],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"v",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-3.314],[0,0],[-3.314,0],[0,0],[0,3.314],[0,0],[3.313,0]],o:[[-3.314,0],[0,0],[0,3.314],[0,0],[3.313,0],[0,0],[0,-3.314],[0,0]],v:[[-137.66,-131.357],[-143.66,-125.357],[-143.66,-47.57],[-137.66,-41.569],[-6,-41.569],[0,-47.57],[0,-125.357],[-6,-131.357]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.047,.294,.612,.5,.065,.375,.735,1,.082,.455,.859],ix:9}},s:{a:0,k:[.486,-42.08],ix:5},e:{a:0,k:[-144.17,-110.92],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[144.165,173.341],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"visabg",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:64.9350026448568,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"master",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.01],y:[.991]},o:{x:[.291],y:[-.004]},t:0,s:[-11]},{i:{x:[.99],y:[1.001]},o:{x:[.167],y:[-.013]},t:29.97,s:[0]},{t:54.9450022379557,s:[-11]}],ix:10},p:{a:0,k:[1390,717.5,0],ix:2},a:{a:0,k:[230,130.5,0],ix:1},s:{a:0,k:[385,385,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.097,1.177],[1.859,-.897],[-.013,-.017],[.688,-2.981],[2.543,-1.229],[-.014,-.019],[-2.127,-.491],[-1.2,5.2]],o:[[-2.153,-.497],[.014,.017],[1.72,2.214],[-.693,3.002],[.015,.018],[1.275,1.594],[5.097,1.177],[1.201,-5.198]],v:[[.665,-9.754],[-5.503,-9.057],[-5.465,-9.006],[-3.687,-.842],[-8.919,5.745],[-8.874,5.799],[-3.682,9.074],[7.719,1.79]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.722000002861,.356999993324,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[73.11,25.659],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"master_yellow",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.153,.497],[1.2,-5.199],[-5.096,-1.177],[-1.846,.874],[-.022,.01],[-.692,3.002],[-2.518,1.236],[-.019,.009]],o:[[-5.097,-1.176],[-1.201,5.199],[2.128,.491],[.022,-.01],[-1.749,-2.22],[.688,-2.98],[.019,-.009],[-1.279,-1.621]],v:[[3.682,-9.071],[-7.719,-1.787],[-.665,9.756],[5.438,9.089],[5.503,9.061],[3.686,.846],[8.865,-5.711],[8.921,-5.742]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.118000000715,.211999997497,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[58.579,22.318],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"master_red",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.693,3.002],[1.72,2.215],[0,0],[.688,-2.98],[-1.748,-2.22],[.022,-.01],[0,0],[.015,.018]],o:[[.688,-2.981],[0,0],[-2.518,1.235],[-.693,3.002],[-.021,.01],[0,0],[-.014,-.018],[2.544,-1.229]],v:[[3.582,.784],[1.803,-7.38],[1.603,-7.425],[-3.576,-.869],[-1.76,7.346],[-1.826,7.374],[-1.605,7.425],[-1.652,7.371]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.416000008583,.270999997854,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[65.842,24.033],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"master_orange",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.65,-3.344],[0,0],[-3.795,-.738],[0,0],[-.737,3.794],[0,0],[3.794,.737],[0,0],[.443,0]],o:[[0,0],[-.738,3.794],[0,0],[3.795,.738],[0,0],[.737,-3.796],[0,0],[-.451,-.087],[-3.285,.001]],v:[[-163.998,-106.052],[-178.221,-32.881],[-172.685,-24.674],[-50.843,-.99],[-42.636,-6.525],[-28.412,-79.696],[-33.948,-87.903],[-155.79,-111.588],[-157.133,-111.718]],c:!0},ix:2},nm:"Tracciato 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.894,.925,.984,.5,.894,.925,.984,1,.894,.925,.984],ix:9}},s:{a:0,k:[-39.168,-24.24],ix:5},e:{a:0,k:[-166.056,-94.796],ix:6},t:1,nm:"Gradient Fill 1",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[207.487,111.876],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Trasformazione"}],nm:"masterbg",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:55.9440022786458,st:0,bm:0}]}],layers$5=[{ddd:0,ind:1,ty:0,nm:"cards",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[425,458.02,0],ix:2},a:{a:0,k:[686.5,493,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:1373,h:986,ip:0,op:64.9350026448568,st:0,bm:0},{ddd:0,ind:2,ty:1,nm:"Bianco tinta unita 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[540,540,0],ix:2},a:{a:0,k:[540,540,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,sw:1080,sh:1080,sc:"#ffffff",ip:0,op:13927.0005672583,st:0,bm:0}],markers$5=[],cardIcon={v:v$6,fr:fr$5,ip:ip$5,op:op$5,w:w$5,h:h$5,nm:nm$5,ddd:ddd$5,assets:assets$5,layers:layers$5,markers:markers$5};var dist$1={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(s,o){var _=200,j="__lodash_hash_undefined__",et=1,st=2,nt=9007199254740991,ct="[object Arguments]",At="[object Array]",mt="[object AsyncFunction]",gt="[object Boolean]",_t="[object Date]",Et="[object Error]",Ct="[object Function]",Bt="[object GeneratorFunction]",Dt="[object Map]",Ft="[object Number]",Rt="[object Null]",Nt="[object Object]",Gt="[object Promise]",dr="[object Proxy]",ts="[object RegExp]",es="[object Set]",ds="[object String]",tn="[object Symbol]",rn="[object Undefined]",un="[object WeakMap]",$n="[object ArrayBuffer]",kn="[object DataView]",lo="[object Float32Array]",Il="[object Float64Array]",cu="[object Int8Array]",Ko="[object Int16Array]",ru="[object Int32Array]",Tn="[object Uint8Array]",ao="[object Uint8ClampedArray]",uu="[object Uint16Array]",hu="[object Uint32Array]",tA=/[\\^$.*+?()[\]{}|]/g,Sv=/^\[object .+?Constructor\]$/,W0=/^(?:0|[1-9]\d*)$/,l1={};l1[lo]=l1[Il]=l1[cu]=l1[Ko]=l1[ru]=l1[Tn]=l1[ao]=l1[uu]=l1[hu]=!0,l1[ct]=l1[At]=l1[$n]=l1[gt]=l1[kn]=l1[_t]=l1[Et]=l1[Ct]=l1[Dt]=l1[Ft]=l1[Nt]=l1[ts]=l1[es]=l1[ds]=l1[un]=!1;var X1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,kI=typeof self=="object"&&self&&self.Object===Object&&self,q1=X1||kI||Function("return this")(),UE=o&&!o.nodeType&&o,a1=UE&&!0&&s&&!s.nodeType&&s,LE=a1&&a1.exports===UE,rS=LE&&X1.process,gD=function(){try{return rS&&rS.binding&&rS.binding("util")}catch{}}(),NI=gD&&gD.isTypedArray;function a$(tS,u$){for(var S$=-1,$$=tS==null?0:tS.length,D7=0,fL=[];++S$<$$;){var B9=tS[S$];u$(B9,S$,tS)&&(fL[D7++]=B9)}return fL}function x$(tS,u$){for(var S$=-1,$$=u$.length,D7=tS.length;++S$<$$;)tS[D7+S$]=u$[S$];return tS}function l$(tS,u$){for(var S$=-1,$$=tS==null?0:tS.length;++S$<$$;)if(u$(tS[S$],S$,tS))return!0;return!1}function pR(tS,u$){for(var S$=-1,$$=Array(tS);++S$<tS;)$$[S$]=u$(S$);return $$}function h$(tS){return function(u$){return tS(u$)}}function w$(tS,u$){return tS.has(u$)}function E$(tS,u$){return tS==null?void 0:tS[u$]}function Vx(tS){var u$=-1,S$=Array(tS.size);return tS.forEach(function($$,D7){S$[++u$]=[D7,$$]}),S$}function b0(tS,u$){return function(S$){return tS(u$(S$))}}function o$(tS){var u$=-1,S$=Array(tS.size);return tS.forEach(function($$){S$[++u$]=$$}),S$}var m$=Array.prototype,t0=Function.prototype,_$=Object.prototype,D$=q1["__core-js_shared__"],M$=t0.toString,p$=_$.hasOwnProperty,F$=function(){var tS=/[^.]+$/.exec(D$&&D$.keys&&D$.keys.IE_PROTO||"");return tS?"Symbol(src)_1."+tS:""}(),R$=_$.toString,O$=RegExp("^"+M$.call(p$).replace(tA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j$=LE?q1.Buffer:void 0,U$=q1.Symbol,z$=q1.Uint8Array,kQ=_$.propertyIsEnumerable,YQ=m$.splice,mO=U$?U$.toStringTag:void 0,f$=Object.getOwnPropertySymbols,b$=j$?j$.isBuffer:void 0,I$=b0(Object.keys,Object),V$=ZQ(q1,"DataView"),X$=ZQ(q1,"Map"),JQ=ZQ(q1,"Promise"),I7=ZQ(q1,"Set"),TK=ZQ(q1,"WeakMap"),zQ=ZQ(Object,"create"),Tq=aee(V$),yK=aee(X$),nee=aee(JQ),Cee=aee(I7),Bee=aee(TK),ree=U$?U$.prototype:void 0,eS=ree?ree.valueOf:void 0;function A$(tS){var u$=-1,S$=tS==null?0:tS.length;for(this.clear();++u$<S$;){var $$=tS[u$];this.set($$[0],$$[1])}}function g$(){this.__data__=zQ?zQ(null):{},this.size=0}function d$(tS){var u$=this.has(tS)&&delete this.__data__[tS];return this.size-=u$?1:0,u$}function v$(tS){var u$=this.__data__;if(zQ){var S$=u$[tS];return S$===j?void 0:S$}return p$.call(u$,tS)?u$[tS]:void 0}function L$(tS){var u$=this.__data__;return zQ?u$[tS]!==void 0:p$.call(u$,tS)}function W$(tS,u$){var S$=this.__data__;return this.size+=this.has(tS)?0:1,S$[tS]=zQ&&u$===void 0?j:u$,this}A$.prototype.clear=g$,A$.prototype.delete=d$,A$.prototype.get=v$,A$.prototype.has=L$,A$.prototype.set=W$;function Q$(tS){var u$=-1,S$=tS==null?0:tS.length;for(this.clear();++u$<S$;){var $$=tS[u$];this.set($$[0],$$[1])}}function H$(){this.__data__=[],this.size=0}function HQ(tS){var u$=this.__data__,S$=p0(u$,tS);if(S$<0)return!1;var $$=u$.length-1;return S$==$$?u$.pop():YQ.call(u$,S$,1),--this.size,!0}function Y$(tS){var u$=this.__data__,S$=p0(u$,tS);return S$<0?void 0:u$[S$][1]}function J$(tS){return p0(this.__data__,tS)>-1}function q$(tS,u$){var S$=this.__data__,$$=p0(S$,tS);return $$<0?(++this.size,S$.push([tS,u$])):S$[$$][1]=u$,this}Q$.prototype.clear=H$,Q$.prototype.delete=HQ,Q$.prototype.get=Y$,Q$.prototype.has=J$,Q$.prototype.set=q$;function _7(tS){var u$=-1,S$=tS==null?0:tS.length;for(this.clear();++u$<S$;){var $$=tS[u$];this.set($$[0],$$[1])}}function PK(){this.size=0,this.__data__={hash:new A$,map:new(X$||Q$),string:new A$}}function Fq(tS){var u$=P7(this,tS).delete(tS);return this.size-=u$?1:0,u$}function KQ(tS){return P7(this,tS).get(tS)}function Z$(tS){return P7(this,tS).has(tS)}function Q9(tS,u$){var S$=P7(this,tS),$$=S$.size;return S$.set(tS,u$),this.size+=S$.size==$$?0:1,this}_7.prototype.clear=PK,_7.prototype.delete=Fq,_7.prototype.get=KQ,_7.prototype.has=Z$,_7.prototype.set=Q9;function K$(tS){var u$=-1,S$=tS==null?0:tS.length;for(this.__data__=new _7;++u$<S$;)this.add(tS[u$])}function DK(tS){return this.__data__.set(tS,j),this}function gX(tS){return this.__data__.has(tS)}K$.prototype.add=K$.prototype.push=DK,K$.prototype.has=gX;function gK(tS){var u$=this.__data__=new Q$(tS);this.size=u$.size}function kq(){this.__data__=new Q$,this.size=0}function AA(tS){var u$=this.__data__,S$=u$.delete(tS);return this.size=u$.size,S$}function q0(tS){return this.__data__.get(tS)}function gR(tS){return this.__data__.has(tS)}function lu(tS,u$){var S$=this.__data__;if(S$ instanceof Q$){var $$=S$.__data__;if(!X$||$$.length<_-1)return $$.push([tS,u$]),this.size=++S$.size,this;S$=this.__data__=new _7($$)}return S$.set(tS,u$),this.size=S$.size,this}gK.prototype.clear=kq,gK.prototype.delete=AA,gK.prototype.get=q0,gK.prototype.has=gR,gK.prototype.set=lu;function wA(tS,u$){var S$=ste(tS),$$=!S$&&zte(tS),D7=!S$&&!$$&&Ate(tS),fL=!S$&&!$$&&!D7&&Tte(tS),B9=S$||$$||D7||fL,_K=B9?pR(tS.length,String):[],CK=_K.length;for(var J7 in tS)p$.call(tS,J7)&&!(B9&&(J7=="length"||D7&&(J7=="offset"||J7=="parent")||fL&&(J7=="buffer"||J7=="byteLength"||J7=="byteOffset")||ute(J7,CK)))&&_K.push(J7);return _K}function p0(tS,u$){for(var S$=tS.length;S$--;)if(Ete(tS[S$][0],u$))return S$;return-1}function s$(tS,u$,S$){var $$=u$(tS);return ste(tS)?$$:x$($$,S$(tS))}function c$(tS){return tS==null?tS===void 0?rn:Rt:mO&&mO in Object(tS)?Lq(tS):dte(tS)}function r$(tS){return Yee(tS)&&c$(tS)==ct}function y$(tS,u$,S$,$$,D7){return tS===u$?!0:tS==null||u$==null||!Yee(tS)&&!Yee(u$)?tS!==tS&&u$!==u$:C$(tS,u$,S$,$$,y$,D7)}function C$(tS,u$,S$,$$,D7,fL){var B9=ste(tS),_K=ste(u$),CK=B9?At:DY(tS),J7=_K?At:DY(u$);CK=CK==ct?Nt:CK,J7=J7==ct?Nt:J7;var DX=CK==Nt,iee=J7==Nt,Cq=CK==J7;if(Cq&&Ate(tS)){if(!Ate(u$))return!1;B9=!0,DX=!1}if(Cq&&!DX)return fL||(fL=new gK),B9||Tte(tS)?N$(tS,u$,S$,$$,D7,fL):mL(tS,u$,CK,S$,$$,D7,fL);if(!(S$&et)){var IY=DX&&p$.call(tS,"__wrapped__"),eee=iee&&p$.call(u$,"__wrapped__");if(IY||eee){var fee=IY?tS.value():tS,hee=eee?u$.value():u$;return fL||(fL=new gK),D7(fee,hee,S$,$$,fL)}}return Cq?(fL||(fL=new gK),QQ(tS,u$,S$,$$,D7,fL)):!1}function B$(tS){if(!Bte(tS)||_te(tS))return!1;var u$=Ste(tS)?O$:Sv;return u$.test(aee(tS))}function T$(tS){return Yee(tS)&&Cte(tS.length)&&!!l1[c$(tS)]}function P$(tS){if(!hte(tS))return I$(tS);var u$=[];for(var S$ in Object(tS))p$.call(tS,S$)&&S$!="constructor"&&u$.push(S$);return u$}function N$(tS,u$,S$,$$,D7,fL){var B9=S$&et,_K=tS.length,CK=u$.length;if(_K!=CK&&!(B9&&CK>_K))return!1;var J7=fL.get(tS);if(J7&&fL.get(u$))return J7==u$;var DX=-1,iee=!0,Cq=S$&st?new K$:void 0;for(fL.set(tS,u$),fL.set(u$,tS);++DX<_K;){var IY=tS[DX],eee=u$[DX];if($$)var fee=B9?$$(eee,IY,DX,u$,tS,fL):$$(IY,eee,DX,tS,u$,fL);if(fee!==void 0){if(fee)continue;iee=!1;break}if(Cq){if(!l$(u$,function(hee,Mee){if(!w$(Cq,Mee)&&(IY===hee||D7(IY,hee,S$,$$,fL)))return Cq.push(Mee)})){iee=!1;break}}else if(!(IY===eee||D7(IY,eee,S$,$$,fL))){iee=!1;break}}return fL.delete(tS),fL.delete(u$),iee}function mL(tS,u$,S$,$$,D7,fL,B9){switch(S$){case kn:if(tS.byteLength!=u$.byteLength||tS.byteOffset!=u$.byteOffset)return!1;tS=tS.buffer,u$=u$.buffer;case $n:return!(tS.byteLength!=u$.byteLength||!fL(new z$(tS),new z$(u$)));case gt:case _t:case Ft:return Ete(+tS,+u$);case Et:return tS.name==u$.name&&tS.message==u$.message;case ts:case ds:return tS==u$+"";case Dt:var _K=Vx;case es:var CK=$$&et;if(_K||(_K=o$),tS.size!=u$.size&&!CK)return!1;var J7=B9.get(tS);if(J7)return J7==u$;$$|=st,B9.set(tS,u$);var DX=N$(_K(tS),_K(u$),$$,D7,fL,B9);return B9.delete(tS),DX;case tn:if(eS)return eS.call(tS)==eS.call(u$)}return!1}function QQ(tS,u$,S$,$$,D7,fL){var B9=S$&et,_K=GQ(tS),CK=_K.length,J7=GQ(u$),DX=J7.length;if(CK!=DX&&!B9)return!1;for(var iee=CK;iee--;){var Cq=_K[iee];if(!(B9?Cq in u$:p$.call(u$,Cq)))return!1}var IY=fL.get(tS);if(IY&&fL.get(u$))return IY==u$;var eee=!0;fL.set(tS,u$),fL.set(u$,tS);for(var fee=B9;++iee<CK;){Cq=_K[iee];var hee=tS[Cq],Mee=u$[Cq];if($$)var Mte=B9?$$(Mee,hee,Cq,u$,tS,fL):$$(hee,Mee,Cq,tS,u$,fL);if(!(Mte===void 0?hee===Mee||D7(hee,Mee,S$,$$,fL):Mte)){eee=!1;break}fee||(fee=Cq=="constructor")}if(eee&&!fee){var nte=tS.constructor,ate=u$.constructor;nte!=ate&&"constructor"in tS&&"constructor"in u$&&!(typeof nte=="function"&&nte instanceof nte&&typeof ate=="function"&&ate instanceof ate)&&(eee=!1)}return fL.delete(tS),fL.delete(u$),eee}function GQ(tS){return s$(tS,Qte,Tee)}function P7(tS,u$){var S$=tS.__data__;return Xee(u$)?S$[typeof u$=="string"?"string":"hash"]:S$.map}function ZQ(tS,u$){var S$=E$(tS,u$);return B$(S$)?S$:void 0}function Lq(tS){var u$=p$.call(tS,mO),S$=tS[mO];try{tS[mO]=void 0;var $$=!0}catch{}var D7=R$.call(tS);return $$&&(u$?tS[mO]=S$:delete tS[mO]),D7}var Tee=f$?function(tS){return tS==null?[]:(tS=Object(tS),a$(f$(tS),function(u$){return kQ.call(tS,u$)}))}:Gte,DY=c$;(V$&&DY(new V$(new ArrayBuffer(1)))!=kn||X$&&DY(new X$)!=Dt||JQ&&DY(JQ.resolve())!=Gt||I7&&DY(new I7)!=es||TK&&DY(new TK)!=un)&&(DY=function(tS){var u$=c$(tS),S$=u$==Nt?tS.constructor:void 0,$$=S$?aee(S$):"";if($$)switch($$){case Tq:return kn;case yK:return Dt;case nee:return Gt;case Cee:return es;case Bee:return un}return u$});function ute(tS,u$){return u$=u$??nt,!!u$&&(typeof tS=="number"||W0.test(tS))&&tS>-1&&tS%1==0&&tS<u$}function Xee(tS){var u$=typeof tS;return u$=="string"||u$=="number"||u$=="symbol"||u$=="boolean"?tS!=="__proto__":tS===null}function _te(tS){return!!F$&&F$ in tS}function hte(tS){var u$=tS&&tS.constructor,S$=typeof u$=="function"&&u$.prototype||_$;return tS===S$}function dte(tS){return R$.call(tS)}function aee(tS){if(tS!=null){try{return M$.call(tS)}catch{}try{return tS+""}catch{}}return""}function Ete(tS,u$){return tS===u$||tS!==tS&&u$!==u$}var zte=r$(function(){return arguments}())?r$:function(tS){return Yee(tS)&&p$.call(tS,"callee")&&!kQ.call(tS,"callee")},ste=Array.isArray;function Vte(tS){return tS!=null&&Cte(tS.length)&&!Ste(tS)}var Ate=b$||Wte;function Hte(tS,u$){return y$(tS,u$)}function Ste(tS){if(!Bte(tS))return!1;var u$=c$(tS);return u$==Ct||u$==Bt||u$==mt||u$==dr}function Cte(tS){return typeof tS=="number"&&tS>-1&&tS%1==0&&tS<=nt}function Bte(tS){var u$=typeof tS;return tS!=null&&(u$=="object"||u$=="function")}function Yee(tS){return tS!=null&&typeof tS=="object"}var Tte=NI?h$(NI):T$;function Qte(tS){return Vte(tS)?wA(tS):P$(tS)}function Gte(){return[]}function Wte(){return!1}s.exports=Hte})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(s,o){var _=function(){var j=function(ts,es){var ds=236,tn=17,rn=ts,un=st[es],$n=null,kn=0,lo=null,Il=[],cu={},Ko=function(q1,UE){kn=rn*4+17,$n=function(a1){for(var LE=new Array(a1),rS=0;rS<a1;rS+=1){LE[rS]=new Array(a1);for(var gD=0;gD<a1;gD+=1)LE[rS][gD]=null}return LE}(kn),ru(0,0),ru(kn-7,0),ru(0,kn-7),uu(),ao(),tA(q1,UE),rn>=7&&hu(q1),lo==null&&(lo=l1(rn,un,Il)),Sv(lo,UE)},ru=function(q1,UE){for(var a1=-1;a1<=7;a1+=1)if(!(q1+a1<=-1||kn<=q1+a1))for(var LE=-1;LE<=7;LE+=1)UE+LE<=-1||kn<=UE+LE||(0<=a1&&a1<=6&&(LE==0||LE==6)||0<=LE&&LE<=6&&(a1==0||a1==6)||2<=a1&&a1<=4&&2<=LE&&LE<=4?$n[q1+a1][UE+LE]=!0:$n[q1+a1][UE+LE]=!1)},Tn=function(){for(var q1=0,UE=0,a1=0;a1<8;a1+=1){Ko(!0,a1);var LE=ct.getLostPoint(cu);(a1==0||q1>LE)&&(q1=LE,UE=a1)}return UE},ao=function(){for(var q1=8;q1<kn-8;q1+=1)$n[q1][6]==null&&($n[q1][6]=q1%2==0);for(var UE=8;UE<kn-8;UE+=1)$n[6][UE]==null&&($n[6][UE]=UE%2==0)},uu=function(){for(var q1=ct.getPatternPosition(rn),UE=0;UE<q1.length;UE+=1)for(var a1=0;a1<q1.length;a1+=1){var LE=q1[UE],rS=q1[a1];if($n[LE][rS]==null)for(var gD=-2;gD<=2;gD+=1)for(var NI=-2;NI<=2;NI+=1)gD==-2||gD==2||NI==-2||NI==2||gD==0&&NI==0?$n[LE+gD][rS+NI]=!0:$n[LE+gD][rS+NI]=!1}},hu=function(q1){for(var UE=ct.getBCHTypeNumber(rn),a1=0;a1<18;a1+=1){var LE=!q1&&(UE>>a1&1)==1;$n[Math.floor(a1/3)][a1%3+kn-8-3]=LE}for(var a1=0;a1<18;a1+=1){var LE=!q1&&(UE>>a1&1)==1;$n[a1%3+kn-8-3][Math.floor(a1/3)]=LE}},tA=function(q1,UE){for(var a1=un<<3|UE,LE=ct.getBCHTypeInfo(a1),rS=0;rS<15;rS+=1){var gD=!q1&&(LE>>rS&1)==1;rS<6?$n[rS][8]=gD:rS<8?$n[rS+1][8]=gD:$n[kn-15+rS][8]=gD}for(var rS=0;rS<15;rS+=1){var gD=!q1&&(LE>>rS&1)==1;rS<8?$n[8][kn-rS-1]=gD:rS<9?$n[8][15-rS-1+1]=gD:$n[8][15-rS-1]=gD}$n[kn-8][8]=!q1},Sv=function(q1,UE){for(var a1=-1,LE=kn-1,rS=7,gD=0,NI=ct.getMaskFunction(UE),a$=kn-1;a$>0;a$-=2)for(a$==6&&(a$-=1);;){for(var x$=0;x$<2;x$+=1)if($n[LE][a$-x$]==null){var l$=!1;gD<q1.length&&(l$=(q1[gD]>>>rS&1)==1);var pR=NI(LE,a$-x$);pR&&(l$=!l$),$n[LE][a$-x$]=l$,rS-=1,rS==-1&&(gD+=1,rS=7)}if(LE+=a1,LE<0||kn<=LE){LE-=a1,a1=-a1;break}}},W0=function(q1,UE){for(var a1=0,LE=0,rS=0,gD=new Array(UE.length),NI=new Array(UE.length),a$=0;a$<UE.length;a$+=1){var x$=UE[a$].dataCount,l$=UE[a$].totalCount-x$;LE=Math.max(LE,x$),rS=Math.max(rS,l$),gD[a$]=new Array(x$);for(var pR=0;pR<gD[a$].length;pR+=1)gD[a$][pR]=255&q1.getBuffer()[pR+a1];a1+=x$;var h$=ct.getErrorCorrectPolynomial(l$),w$=mt(gD[a$],h$.getLength()-1),E$=w$.mod(h$);NI[a$]=new Array(h$.getLength()-1);for(var pR=0;pR<NI[a$].length;pR+=1){var Vx=pR+E$.getLength()-NI[a$].length;NI[a$][pR]=Vx>=0?E$.getAt(Vx):0}}for(var b0=0,pR=0;pR<UE.length;pR+=1)b0+=UE[pR].totalCount;for(var o$=new Array(b0),m$=0,pR=0;pR<LE;pR+=1)for(var a$=0;a$<UE.length;a$+=1)pR<gD[a$].length&&(o$[m$]=gD[a$][pR],m$+=1);for(var pR=0;pR<rS;pR+=1)for(var a$=0;a$<UE.length;a$+=1)pR<NI[a$].length&&(o$[m$]=NI[a$][pR],m$+=1);return o$},l1=function(q1,UE,a1){for(var LE=gt.getRSBlocks(q1,UE),rS=_t(),gD=0;gD<a1.length;gD+=1){var NI=a1[gD];rS.put(NI.getMode(),4),rS.put(NI.getLength(),ct.getLengthInBits(NI.getMode(),q1)),NI.write(rS)}for(var a$=0,gD=0;gD<LE.length;gD+=1)a$+=LE[gD].dataCount;if(rS.getLengthInBits()>a$*8)throw"code length overflow. ("+rS.getLengthInBits()+">"+a$*8+")";for(rS.getLengthInBits()+4<=a$*8&&rS.put(0,4);rS.getLengthInBits()%8!=0;)rS.putBit(!1);for(;!(rS.getLengthInBits()>=a$*8||(rS.put(ds,8),rS.getLengthInBits()>=a$*8));)rS.put(tn,8);return W0(rS,LE)};cu.addData=function(q1,UE){UE=UE||"Byte";var a1=null;switch(UE){case"Numeric":a1=Et(q1);break;case"Alphanumeric":a1=Ct(q1);break;case"Byte":a1=Bt(q1);break;case"Kanji":a1=Dt(q1);break;default:throw"mode:"+UE}Il.push(a1),lo=null},cu.isDark=function(q1,UE){if(q1<0||kn<=q1||UE<0||kn<=UE)throw q1+","+UE;return $n[q1][UE]},cu.getModuleCount=function(){return kn},cu.make=function(){if(rn<1){for(var q1=1;q1<40;q1++){for(var UE=gt.getRSBlocks(q1,un),a1=_t(),LE=0;LE<Il.length;LE++){var rS=Il[LE];a1.put(rS.getMode(),4),a1.put(rS.getLength(),ct.getLengthInBits(rS.getMode(),q1)),rS.write(a1)}for(var gD=0,LE=0;LE<UE.length;LE++)gD+=UE[LE].dataCount;if(a1.getLengthInBits()<=gD*8)break}rn=q1}Ko(!1,Tn())},cu.createTableTag=function(q1,UE){q1=q1||2,UE=typeof UE>"u"?q1*4:UE;var a1="";a1+='<table style="',a1+=" border-width: 0px; border-style: none;",a1+=" border-collapse: collapse;",a1+=" padding: 0px; margin: "+UE+"px;",a1+='">',a1+="<tbody>";for(var LE=0;LE<cu.getModuleCount();LE+=1){a1+="<tr>";for(var rS=0;rS<cu.getModuleCount();rS+=1)a1+='<td style="',a1+=" border-width: 0px; border-style: none;",a1+=" border-collapse: collapse;",a1+=" padding: 0px; margin: 0px;",a1+=" width: "+q1+"px;",a1+=" height: "+q1+"px;",a1+=" background-color: ",a1+=cu.isDark(LE,rS)?"#000000":"#ffffff",a1+=";",a1+='"/>';a1+="</tr>"}return a1+="</tbody>",a1+="</table>",a1},cu.createSvgTag=function(q1,UE,a1,LE){var rS={};typeof arguments[0]=="object"&&(rS=arguments[0],q1=rS.cellSize,UE=rS.margin,a1=rS.alt,LE=rS.title),q1=q1||2,UE=typeof UE>"u"?q1*4:UE,a1=typeof a1=="string"?{text:a1}:a1||{},a1.text=a1.text||null,a1.id=a1.text?a1.id||"qrcode-description":null,LE=typeof LE=="string"?{text:LE}:LE||{},LE.text=LE.text||null,LE.id=LE.text?LE.id||"qrcode-title":null;var gD=cu.getModuleCount()*q1+UE*2,NI,a$,x$,l$,pR="",h$;for(h$="l"+q1+",0 0,"+q1+" -"+q1+",0 0,-"+q1+"z ",pR+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',pR+=rS.scalable?"":' width="'+gD+'px" height="'+gD+'px"',pR+=' viewBox="0 0 '+gD+" "+gD+'" ',pR+=' preserveAspectRatio="xMinYMin meet"',pR+=LE.text||a1.text?' role="img" aria-labelledby="'+X1([LE.id,a1.id].join(" ").trim())+'"':"",pR+=">",pR+=LE.text?'<title id="'+X1(LE.id)+'">'+X1(LE.text)+"</title>":"",pR+=a1.text?'<description id="'+X1(a1.id)+'">'+X1(a1.text)+"</description>":"",pR+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',pR+='<path d="',x$=0;x$<cu.getModuleCount();x$+=1)for(l$=x$*q1+UE,NI=0;NI<cu.getModuleCount();NI+=1)cu.isDark(x$,NI)&&(a$=NI*q1+UE,pR+="M"+a$+","+l$+h$);return pR+='" stroke="transparent" fill="black"/>',pR+="</svg>",pR},cu.createDataURL=function(q1,UE){q1=q1||2,UE=typeof UE>"u"?q1*4:UE;var a1=cu.getModuleCount()*q1+UE*2,LE=UE,rS=a1-UE;return dr(a1,a1,function(gD,NI){if(LE<=gD&&gD<rS&&LE<=NI&&NI<rS){var a$=Math.floor((gD-LE)/q1),x$=Math.floor((NI-LE)/q1);return cu.isDark(x$,a$)?0:1}else return 1})},cu.createImgTag=function(q1,UE,a1){q1=q1||2,UE=typeof UE>"u"?q1*4:UE;var LE=cu.getModuleCount()*q1+UE*2,rS="";return rS+="<img",rS+=' src="',rS+=cu.createDataURL(q1,UE),rS+='"',rS+=' width="',rS+=LE,rS+='"',rS+=' height="',rS+=LE,rS+='"',a1&&(rS+=' alt="',rS+=X1(a1),rS+='"'),rS+="/>",rS};var X1=function(q1){for(var UE="",a1=0;a1<q1.length;a1+=1){var LE=q1.charAt(a1);switch(LE){case"<":UE+="&lt;";break;case">":UE+="&gt;";break;case"&":UE+="&amp;";break;case'"':UE+="&quot;";break;default:UE+=LE;break}}return UE},kI=function(q1){var UE=1;q1=typeof q1>"u"?UE*2:q1;var a1=cu.getModuleCount()*UE+q1*2,LE=q1,rS=a1-q1,gD,NI,a$,x$,l$,pR={"██":"█","█ ":"▀"," █":"▄","  ":" "},h$={"██":"▀","█ ":"▀"," █":" ","  ":" "},w$="";for(gD=0;gD<a1;gD+=2){for(a$=Math.floor((gD-LE)/UE),x$=Math.floor((gD+1-LE)/UE),NI=0;NI<a1;NI+=1)l$="█",LE<=NI&&NI<rS&&LE<=gD&&gD<rS&&cu.isDark(a$,Math.floor((NI-LE)/UE))&&(l$=" "),LE<=NI&&NI<rS&&LE<=gD+1&&gD+1<rS&&cu.isDark(x$,Math.floor((NI-LE)/UE))?l$+=" ":l$+="█",w$+=q1<1&&gD+1>=rS?h$[l$]:pR[l$];w$+=`
`}return a1%2&&q1>0?w$.substring(0,w$.length-a1-1)+Array(a1+1).join("▀"):w$.substring(0,w$.length-1)};return cu.createASCII=function(q1,UE){if(q1=q1||1,q1<2)return kI(UE);q1-=1,UE=typeof UE>"u"?q1*2:UE;var a1=cu.getModuleCount()*q1+UE*2,LE=UE,rS=a1-UE,gD,NI,a$,x$,l$=Array(q1+1).join("██"),pR=Array(q1+1).join("  "),h$="",w$="";for(gD=0;gD<a1;gD+=1){for(a$=Math.floor((gD-LE)/q1),w$="",NI=0;NI<a1;NI+=1)x$=1,LE<=NI&&NI<rS&&LE<=gD&&gD<rS&&cu.isDark(a$,Math.floor((NI-LE)/q1))&&(x$=0),w$+=x$?l$:pR;for(a$=0;a$<q1;a$+=1)h$+=w$+`
`}return h$.substring(0,h$.length-1)},cu.renderTo2dContext=function(q1,UE){UE=UE||2;for(var a1=cu.getModuleCount(),LE=0;LE<a1;LE++)for(var rS=0;rS<a1;rS++)q1.fillStyle=cu.isDark(LE,rS)?"black":"white",q1.fillRect(LE*UE,rS*UE,UE,UE)},cu};j.stringToBytesFuncs={default:function(ts){for(var es=[],ds=0;ds<ts.length;ds+=1){var tn=ts.charCodeAt(ds);es.push(tn&255)}return es}},j.stringToBytes=j.stringToBytesFuncs.default,j.createStringToBytes=function(ts,es){var ds=function(){for(var rn=Nt(ts),un=function(){var ao=rn.read();if(ao==-1)throw"eof";return ao},$n=0,kn={};;){var lo=rn.read();if(lo==-1)break;var Il=un(),cu=un(),Ko=un(),ru=String.fromCharCode(lo<<8|Il),Tn=cu<<8|Ko;kn[ru]=Tn,$n+=1}if($n!=es)throw $n+" != "+es;return kn}(),tn=63;return function(rn){for(var un=[],$n=0;$n<rn.length;$n+=1){var kn=rn.charCodeAt($n);if(kn<128)un.push(kn);else{var lo=ds[rn.charAt($n)];typeof lo=="number"?(lo&255)==lo?un.push(lo):(un.push(lo>>>8),un.push(lo&255)):un.push(tn)}}return un}};var et={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},st={L:1,M:0,Q:3,H:2},nt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ct=function(){var ts=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],es=1335,ds=7973,tn=21522,rn={},un=function($n){for(var kn=0;$n!=0;)kn+=1,$n>>>=1;return kn};return rn.getBCHTypeInfo=function($n){for(var kn=$n<<10;un(kn)-un(es)>=0;)kn^=es<<un(kn)-un(es);return($n<<10|kn)^tn},rn.getBCHTypeNumber=function($n){for(var kn=$n<<12;un(kn)-un(ds)>=0;)kn^=ds<<un(kn)-un(ds);return $n<<12|kn},rn.getPatternPosition=function($n){return ts[$n-1]},rn.getMaskFunction=function($n){switch($n){case nt.PATTERN000:return function(kn,lo){return(kn+lo)%2==0};case nt.PATTERN001:return function(kn,lo){return kn%2==0};case nt.PATTERN010:return function(kn,lo){return lo%3==0};case nt.PATTERN011:return function(kn,lo){return(kn+lo)%3==0};case nt.PATTERN100:return function(kn,lo){return(Math.floor(kn/2)+Math.floor(lo/3))%2==0};case nt.PATTERN101:return function(kn,lo){return kn*lo%2+kn*lo%3==0};case nt.PATTERN110:return function(kn,lo){return(kn*lo%2+kn*lo%3)%2==0};case nt.PATTERN111:return function(kn,lo){return(kn*lo%3+(kn+lo)%2)%2==0};default:throw"bad maskPattern:"+$n}},rn.getErrorCorrectPolynomial=function($n){for(var kn=mt([1],0),lo=0;lo<$n;lo+=1)kn=kn.multiply(mt([1,At.gexp(lo)],0));return kn},rn.getLengthInBits=function($n,kn){if(1<=kn&&kn<10)switch($n){case et.MODE_NUMBER:return 10;case et.MODE_ALPHA_NUM:return 9;case et.MODE_8BIT_BYTE:return 8;case et.MODE_KANJI:return 8;default:throw"mode:"+$n}else if(kn<27)switch($n){case et.MODE_NUMBER:return 12;case et.MODE_ALPHA_NUM:return 11;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 10;default:throw"mode:"+$n}else if(kn<41)switch($n){case et.MODE_NUMBER:return 14;case et.MODE_ALPHA_NUM:return 13;case et.MODE_8BIT_BYTE:return 16;case et.MODE_KANJI:return 12;default:throw"mode:"+$n}else throw"type:"+kn},rn.getLostPoint=function($n){for(var kn=$n.getModuleCount(),lo=0,Il=0;Il<kn;Il+=1)for(var cu=0;cu<kn;cu+=1){for(var Ko=0,ru=$n.isDark(Il,cu),Tn=-1;Tn<=1;Tn+=1)if(!(Il+Tn<0||kn<=Il+Tn))for(var ao=-1;ao<=1;ao+=1)cu+ao<0||kn<=cu+ao||Tn==0&&ao==0||ru==$n.isDark(Il+Tn,cu+ao)&&(Ko+=1);Ko>5&&(lo+=3+Ko-5)}for(var Il=0;Il<kn-1;Il+=1)for(var cu=0;cu<kn-1;cu+=1){var uu=0;$n.isDark(Il,cu)&&(uu+=1),$n.isDark(Il+1,cu)&&(uu+=1),$n.isDark(Il,cu+1)&&(uu+=1),$n.isDark(Il+1,cu+1)&&(uu+=1),(uu==0||uu==4)&&(lo+=3)}for(var Il=0;Il<kn;Il+=1)for(var cu=0;cu<kn-6;cu+=1)$n.isDark(Il,cu)&&!$n.isDark(Il,cu+1)&&$n.isDark(Il,cu+2)&&$n.isDark(Il,cu+3)&&$n.isDark(Il,cu+4)&&!$n.isDark(Il,cu+5)&&$n.isDark(Il,cu+6)&&(lo+=40);for(var cu=0;cu<kn;cu+=1)for(var Il=0;Il<kn-6;Il+=1)$n.isDark(Il,cu)&&!$n.isDark(Il+1,cu)&&$n.isDark(Il+2,cu)&&$n.isDark(Il+3,cu)&&$n.isDark(Il+4,cu)&&!$n.isDark(Il+5,cu)&&$n.isDark(Il+6,cu)&&(lo+=40);for(var hu=0,cu=0;cu<kn;cu+=1)for(var Il=0;Il<kn;Il+=1)$n.isDark(Il,cu)&&(hu+=1);var tA=Math.abs(100*hu/kn/kn-50)/5;return lo+=tA*10,lo},rn}(),At=function(){for(var ts=new Array(256),es=new Array(256),ds=0;ds<8;ds+=1)ts[ds]=1<<ds;for(var ds=8;ds<256;ds+=1)ts[ds]=ts[ds-4]^ts[ds-5]^ts[ds-6]^ts[ds-8];for(var ds=0;ds<255;ds+=1)es[ts[ds]]=ds;var tn={};return tn.glog=function(rn){if(rn<1)throw"glog("+rn+")";return es[rn]},tn.gexp=function(rn){for(;rn<0;)rn+=255;for(;rn>=256;)rn-=255;return ts[rn]},tn}();function mt(ts,es){if(typeof ts.length>"u")throw ts.length+"/"+es;var ds=function(){for(var rn=0;rn<ts.length&&ts[rn]==0;)rn+=1;for(var un=new Array(ts.length-rn+es),$n=0;$n<ts.length-rn;$n+=1)un[$n]=ts[$n+rn];return un}(),tn={};return tn.getAt=function(rn){return ds[rn]},tn.getLength=function(){return ds.length},tn.multiply=function(rn){for(var un=new Array(tn.getLength()+rn.getLength()-1),$n=0;$n<tn.getLength();$n+=1)for(var kn=0;kn<rn.getLength();kn+=1)un[$n+kn]^=At.gexp(At.glog(tn.getAt($n))+At.glog(rn.getAt(kn)));return mt(un,0)},tn.mod=function(rn){if(tn.getLength()-rn.getLength()<0)return tn;for(var un=At.glog(tn.getAt(0))-At.glog(rn.getAt(0)),$n=new Array(tn.getLength()),kn=0;kn<tn.getLength();kn+=1)$n[kn]=tn.getAt(kn);for(var kn=0;kn<rn.getLength();kn+=1)$n[kn]^=At.gexp(At.glog(rn.getAt(kn))+un);return mt($n,0).mod(rn)},tn}var gt=function(){var ts=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],es=function(rn,un){var $n={};return $n.totalCount=rn,$n.dataCount=un,$n},ds={},tn=function(rn,un){switch(un){case st.L:return ts[(rn-1)*4+0];case st.M:return ts[(rn-1)*4+1];case st.Q:return ts[(rn-1)*4+2];case st.H:return ts[(rn-1)*4+3];default:return}};return ds.getRSBlocks=function(rn,un){var $n=tn(rn,un);if(typeof $n>"u")throw"bad rs block @ typeNumber:"+rn+"/errorCorrectionLevel:"+un;for(var kn=$n.length/3,lo=[],Il=0;Il<kn;Il+=1)for(var cu=$n[Il*3+0],Ko=$n[Il*3+1],ru=$n[Il*3+2],Tn=0;Tn<cu;Tn+=1)lo.push(es(Ko,ru));return lo},ds}(),_t=function(){var ts=[],es=0,ds={};return ds.getBuffer=function(){return ts},ds.getAt=function(tn){var rn=Math.floor(tn/8);return(ts[rn]>>>7-tn%8&1)==1},ds.put=function(tn,rn){for(var un=0;un<rn;un+=1)ds.putBit((tn>>>rn-un-1&1)==1)},ds.getLengthInBits=function(){return es},ds.putBit=function(tn){var rn=Math.floor(es/8);ts.length<=rn&&ts.push(0),tn&&(ts[rn]|=128>>>es%8),es+=1},ds},Et=function(ts){var es=et.MODE_NUMBER,ds=ts,tn={};tn.getMode=function(){return es},tn.getLength=function($n){return ds.length},tn.write=function($n){for(var kn=ds,lo=0;lo+2<kn.length;)$n.put(rn(kn.substring(lo,lo+3)),10),lo+=3;lo<kn.length&&(kn.length-lo==1?$n.put(rn(kn.substring(lo,lo+1)),4):kn.length-lo==2&&$n.put(rn(kn.substring(lo,lo+2)),7))};var rn=function($n){for(var kn=0,lo=0;lo<$n.length;lo+=1)kn=kn*10+un($n.charAt(lo));return kn},un=function($n){if("0"<=$n&&$n<="9")return $n.charCodeAt(0)-48;throw"illegal char :"+$n};return tn},Ct=function(ts){var es=et.MODE_ALPHA_NUM,ds=ts,tn={};tn.getMode=function(){return es},tn.getLength=function(un){return ds.length},tn.write=function(un){for(var $n=ds,kn=0;kn+1<$n.length;)un.put(rn($n.charAt(kn))*45+rn($n.charAt(kn+1)),11),kn+=2;kn<$n.length&&un.put(rn($n.charAt(kn)),6)};var rn=function(un){if("0"<=un&&un<="9")return un.charCodeAt(0)-48;if("A"<=un&&un<="Z")return un.charCodeAt(0)-65+10;switch(un){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+un}};return tn},Bt=function(ts){var es=et.MODE_8BIT_BYTE,ds=j.stringToBytes(ts),tn={};return tn.getMode=function(){return es},tn.getLength=function(rn){return ds.length},tn.write=function(rn){for(var un=0;un<ds.length;un+=1)rn.put(ds[un],8)},tn},Dt=function(ts){var es=et.MODE_KANJI,ds=j.stringToBytesFuncs.SJIS;if(!ds)throw"sjis not supported.";(function(un,$n){var kn=ds(un);if(kn.length!=2||(kn[0]<<8|kn[1])!=$n)throw"sjis not supported."})("友",38726);var tn=ds(ts),rn={};return rn.getMode=function(){return es},rn.getLength=function(un){return~~(tn.length/2)},rn.write=function(un){for(var $n=tn,kn=0;kn+1<$n.length;){var lo=(255&$n[kn])<<8|255&$n[kn+1];if(33088<=lo&&lo<=40956)lo-=33088;else if(57408<=lo&&lo<=60351)lo-=49472;else throw"illegal char at "+(kn+1)+"/"+lo;lo=(lo>>>8&255)*192+(lo&255),un.put(lo,13),kn+=2}if(kn<$n.length)throw"illegal char at "+(kn+1)},rn},Ft=function(){var ts=[],es={};return es.writeByte=function(ds){ts.push(ds&255)},es.writeShort=function(ds){es.writeByte(ds),es.writeByte(ds>>>8)},es.writeBytes=function(ds,tn,rn){tn=tn||0,rn=rn||ds.length;for(var un=0;un<rn;un+=1)es.writeByte(ds[un+tn])},es.writeString=function(ds){for(var tn=0;tn<ds.length;tn+=1)es.writeByte(ds.charCodeAt(tn))},es.toByteArray=function(){return ts},es.toString=function(){var ds="";ds+="[";for(var tn=0;tn<ts.length;tn+=1)tn>0&&(ds+=","),ds+=ts[tn];return ds+="]",ds},es},Rt=function(){var ts=0,es=0,ds=0,tn="",rn={},un=function(kn){tn+=String.fromCharCode($n(kn&63))},$n=function(kn){if(!(kn<0)){if(kn<26)return 65+kn;if(kn<52)return 97+(kn-26);if(kn<62)return 48+(kn-52);if(kn==62)return 43;if(kn==63)return 47}throw"n:"+kn};return rn.writeByte=function(kn){for(ts=ts<<8|kn&255,es+=8,ds+=1;es>=6;)un(ts>>>es-6),es-=6},rn.flush=function(){if(es>0&&(un(ts<<6-es),ts=0,es=0),ds%3!=0)for(var kn=3-ds%3,lo=0;lo<kn;lo+=1)tn+="="},rn.toString=function(){return tn},rn},Nt=function(ts){var es=ts,ds=0,tn=0,rn=0,un={};un.read=function(){for(;rn<8;){if(ds>=es.length){if(rn==0)return-1;throw"unexpected end of file./"+rn}var kn=es.charAt(ds);if(ds+=1,kn=="=")return rn=0,-1;if(kn.match(/^\s$/))continue;tn=tn<<6|$n(kn.charCodeAt(0)),rn+=6}var lo=tn>>>rn-8&255;return rn-=8,lo};var $n=function(kn){if(65<=kn&&kn<=90)return kn-65;if(97<=kn&&kn<=122)return kn-97+26;if(48<=kn&&kn<=57)return kn-48+52;if(kn==43)return 62;if(kn==47)return 63;throw"c:"+kn};return un},Gt=function(ts,es){var ds=ts,tn=es,rn=new Array(ts*es),un={};un.setPixel=function(Il,cu,Ko){rn[cu*ds+Il]=Ko},un.write=function(Il){Il.writeString("GIF87a"),Il.writeShort(ds),Il.writeShort(tn),Il.writeByte(128),Il.writeByte(0),Il.writeByte(0),Il.writeByte(0),Il.writeByte(0),Il.writeByte(0),Il.writeByte(255),Il.writeByte(255),Il.writeByte(255),Il.writeString(","),Il.writeShort(0),Il.writeShort(0),Il.writeShort(ds),Il.writeShort(tn),Il.writeByte(0);var cu=2,Ko=kn(cu);Il.writeByte(cu);for(var ru=0;Ko.length-ru>255;)Il.writeByte(255),Il.writeBytes(Ko,ru,255),ru+=255;Il.writeByte(Ko.length-ru),Il.writeBytes(Ko,ru,Ko.length-ru),Il.writeByte(0),Il.writeString(";")};var $n=function(Il){var cu=Il,Ko=0,ru=0,Tn={};return Tn.write=function(ao,uu){if(ao>>>uu)throw"length over";for(;Ko+uu>=8;)cu.writeByte(255&(ao<<Ko|ru)),uu-=8-Ko,ao>>>=8-Ko,ru=0,Ko=0;ru=ao<<Ko|ru,Ko=Ko+uu},Tn.flush=function(){Ko>0&&cu.writeByte(ru)},Tn},kn=function(Il){for(var cu=1<<Il,Ko=(1<<Il)+1,ru=Il+1,Tn=lo(),ao=0;ao<cu;ao+=1)Tn.add(String.fromCharCode(ao));Tn.add(String.fromCharCode(cu)),Tn.add(String.fromCharCode(Ko));var uu=Ft(),hu=$n(uu);hu.write(cu,ru);var tA=0,Sv=String.fromCharCode(rn[tA]);for(tA+=1;tA<rn.length;){var W0=String.fromCharCode(rn[tA]);tA+=1,Tn.contains(Sv+W0)?Sv=Sv+W0:(hu.write(Tn.indexOf(Sv),ru),Tn.size()<4095&&(Tn.size()==1<<ru&&(ru+=1),Tn.add(Sv+W0)),Sv=W0)}return hu.write(Tn.indexOf(Sv),ru),hu.write(Ko,ru),hu.flush(),uu.toByteArray()},lo=function(){var Il={},cu=0,Ko={};return Ko.add=function(ru){if(Ko.contains(ru))throw"dup key:"+ru;Il[ru]=cu,cu+=1},Ko.size=function(){return cu},Ko.indexOf=function(ru){return Il[ru]},Ko.contains=function(ru){return typeof Il[ru]<"u"},Ko};return un},dr=function(ts,es,ds){for(var tn=Gt(ts,es),rn=0;rn<es;rn+=1)for(var un=0;un<ts;un+=1)tn.setPixel(un,rn,ds(un,rn));var $n=Ft();tn.write($n);for(var kn=Rt(),lo=$n.toByteArray(),Il=0;Il<lo.length;Il+=1)kn.writeByte(lo[Il]);return kn.flush(),"data:image/gif;base64,"+kn};return j}();(function(){_.stringToBytesFuncs["UTF-8"]=function(j){function et(st){for(var nt=[],ct=0;ct<st.length;ct++){var At=st.charCodeAt(ct);At<128?nt.push(At):At<2048?nt.push(192|At>>6,128|At&63):At<55296||At>=57344?nt.push(224|At>>12,128|At>>6&63,128|At&63):(ct++,At=65536+((At&1023)<<10|st.charCodeAt(ct)&1023),nt.push(240|At>>18,128|At>>12&63,128|At>>6&63,128|At&63))}return nt}return et(j)}})(),function(j){s.exports=j()}(function(){return _})})(qrcode);var qrcodeExports=qrcode.exports,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var s=function(o,_){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,et){j.__proto__=et}||function(j,et){for(var st in et)et.hasOwnProperty(st)&&(j[st]=et[st])},s(o,_)};return function(o,_){s(o,_);function j(){this.constructor=o}o.prototype=_===null?Object.create(_):(j.prototype=_.prototype,new j)}}();Object.defineProperty(dist$1,"__esModule",{value:!0});var QRCode_1=dist$1.QRCode=void 0,isEqual=lodash_isequalExports,qrGenerator=qrcodeExports,React$2=reactExports,ReactDOM=reactDomExports,QRCode=function(s){__extends$1(o,s);function o(_){var j=s.call(this,_)||this;return j.canvas=React$2.createRef(),j}return o.utf16to8=function(_){var j="",et,st,nt=_.length;for(et=0;et<nt;et++)st=_.charCodeAt(et),st>=1&&st<=127?j+=_.charAt(et):st>2047?(j+=String.fromCharCode(224|st>>12&15),j+=String.fromCharCode(128|st>>6&63),j+=String.fromCharCode(128|st>>0&63)):(j+=String.fromCharCode(192|st>>6&31),j+=String.fromCharCode(128|st>>0&63));return j},o.prototype.drawRoundedSquare=function(_,j,et,st,nt,ct,At,mt){mt.lineWidth=_,mt.fillStyle=nt,mt.strokeStyle=nt,et+=_/2,j+=_/2,st-=_,Array.isArray(ct)||(ct=[ct,ct,ct,ct]),ct=ct.map(function(Bt){return Bt=Math.min(Bt,st/2),Bt<0?0:Bt});var gt=ct[0]||0,_t=ct[1]||0,Et=ct[2]||0,Ct=ct[3]||0;mt.beginPath(),mt.moveTo(j+gt,et),mt.lineTo(j+st-_t,et),_t&&mt.quadraticCurveTo(j+st,et,j+st,et+_t),mt.lineTo(j+st,et+st-Et),Et&&mt.quadraticCurveTo(j+st,et+st,j+st-Et,et+st),mt.lineTo(j+Ct,et+st),Ct&&mt.quadraticCurveTo(j,et+st,j,et+st-Ct),mt.lineTo(j,et+gt),gt&&mt.quadraticCurveTo(j,et,j+gt,et),mt.closePath(),mt.stroke(),At&&mt.fill()},o.prototype.drawPositioningPattern=function(_,j,et,st,nt,ct,At){At===void 0&&(At=[0,0,0,0]);var mt=Math.ceil(j),gt,_t;typeof At!="number"&&!Array.isArray(At)?(gt=At.outer||0,_t=At.inner||0):(gt=At,_t=gt);var Et,Ct;typeof ct!="string"?(Et=ct.outer,Ct=ct.inner):(Et=ct,Ct=ct);var Bt=st*j+et,Dt=nt*j+et,Ft=j*7;this.drawRoundedSquare(mt,Dt,Bt,Ft,Et,gt,!1,_),Ft=j*3,Bt+=j*2,Dt+=j*2,this.drawRoundedSquare(mt,Dt,Bt,Ft,Ct,_t,!0,_)},o.prototype.isInPositioninZone=function(_,j,et){return et.some(function(st){return j>=st.row&&j<=st.row+7&&_>=st.col&&_<=st.col+7})},o.prototype.transformPixelLengthIntoNumberOfCells=function(_,j){return _/j},o.prototype.isCoordinateInImage=function(_,j,et,st,nt,ct,At,mt){if(mt){var gt=2,_t=this.transformPixelLengthIntoNumberOfCells(nt,At),Et=this.transformPixelLengthIntoNumberOfCells(ct,At),Ct=this.transformPixelLengthIntoNumberOfCells(et,At)-1,Bt=this.transformPixelLengthIntoNumberOfCells(st,At)-1;return j>=_t-gt&&j<=_t+Ct+gt&&_>=Et-gt&&_<=Et+Bt+gt}else return!1},o.prototype.shouldComponentUpdate=function(_){return!isEqual(this.props,_)},o.prototype.componentDidMount=function(){this.update()},o.prototype.componentDidUpdate=function(){this.update()},o.prototype.update=function(){var _=this.props,j=_.value,et=_.ecLevel,st=_.enableCORS,nt=_.bgColor,ct=_.fgColor,At=_.logoImage,mt=_.logoOpacity,gt=_.logoOnLoad,_t=_.removeQrCodeBehindLogo,Et=_.qrStyle,Ct=_.eyeRadius,Bt=_.eyeColor,Dt=_.logoPaddingStyle,Ft=+this.props.size,Rt=+this.props.quietZone,Nt=this.props.logoWidth?+this.props.logoWidth:0,Gt=this.props.logoHeight?+this.props.logoHeight:0,dr=this.props.logoPadding?+this.props.logoPadding:0,ts=qrGenerator(0,et);ts.addData(o.utf16to8(j)),ts.make();var es=ReactDOM.findDOMNode(this.canvas.current),ds=es.getContext("2d"),tn=Ft+2*Rt,rn=ts.getModuleCount(),un=Ft/rn,$n=window.devicePixelRatio||1;es.height=es.width=tn*$n,ds.scale($n,$n),ds.fillStyle=nt,ds.fillRect(0,0,tn,tn);var kn=Rt,lo=[{row:0,col:0},{row:0,col:rn-7},{row:rn-7,col:0}];if(ds.strokeStyle=ct,Et==="dots"){ds.fillStyle=ct;for(var Il=un/2,cu=0;cu<rn;cu++)for(var Ko=0;Ko<rn;Ko++)ts.isDark(cu,Ko)&&!this.isInPositioninZone(cu,Ko,lo)&&(ds.beginPath(),ds.arc(Math.round(Ko*un)+Il+kn,Math.round(cu*un)+Il+kn,Il/100*75,0,2*Math.PI,!1),ds.closePath(),ds.fill())}else if(Et==="fluid"){for(var Il=Math.ceil(un/2),cu=0;cu<rn;cu++)for(var Ko=0;Ko<rn;Ko++)if(ts.isDark(cu,Ko)&&!this.isInPositioninZone(cu,Ko,lo)){var ru=[!1,!1,!1,!1];cu>0&&!ts.isDark(cu-1,Ko)&&Ko>0&&!ts.isDark(cu,Ko-1)&&(ru[0]=!0),cu>0&&!ts.isDark(cu-1,Ko)&&Ko<rn-1&&!ts.isDark(cu,Ko+1)&&(ru[1]=!0),cu<rn-1&&!ts.isDark(cu+1,Ko)&&Ko<rn-1&&!ts.isDark(cu,Ko+1)&&(ru[2]=!0),cu<rn-1&&!ts.isDark(cu+1,Ko)&&Ko>0&&!ts.isDark(cu,Ko-1)&&(ru[3]=!0);var Tn=Math.ceil((Ko+1)*un)-Math.floor(Ko*un),ao=Math.ceil((cu+1)*un)-Math.floor(cu*un);ds.fillStyle=ct,ds.beginPath(),ds.arc(Math.round(Ko*un)+Il+kn,Math.round(cu*un)+Il+kn,Il,0,2*Math.PI,!1),ds.closePath(),ds.fill(),ru[0]||ds.fillRect(Math.round(Ko*un)+kn,Math.round(cu*un)+kn,Tn/2,ao/2),ru[1]||ds.fillRect(Math.round(Ko*un)+kn+Math.floor(Tn/2),Math.round(cu*un)+kn,Tn/2,ao/2),ru[2]||ds.fillRect(Math.round(Ko*un)+kn+Math.floor(Tn/2),Math.round(cu*un)+kn+Math.floor(ao/2),Tn/2,ao/2),ru[3]||ds.fillRect(Math.round(Ko*un)+kn,Math.round(cu*un)+kn+Math.floor(ao/2),Tn/2,ao/2)}}else for(var cu=0;cu<rn;cu++)for(var Ko=0;Ko<rn;Ko++)if(ts.isDark(cu,Ko)&&!this.isInPositioninZone(cu,Ko,lo)){ds.fillStyle=ct;var Tn=Math.ceil((Ko+1)*un)-Math.floor(Ko*un),ao=Math.ceil((cu+1)*un)-Math.floor(cu*un);ds.fillRect(Math.round(Ko*un)+kn,Math.round(cu*un)+kn,Tn,ao)}for(var uu=0;uu<3;uu++){var hu=lo[uu],cu=hu.row,Ko=hu.col,tA=Ct,Sv=void 0;Array.isArray(tA)&&(tA=tA[uu]),typeof tA=="number"&&(tA=[tA,tA,tA,tA]),Bt?Array.isArray(Bt)?Sv=Bt[uu]:Sv=Bt:Sv=ct,this.drawPositioningPattern(ds,un,kn,cu,Ko,Sv,tA)}if(At){var W0=new Image;st&&(W0.crossOrigin="Anonymous"),W0.onload=function(){ds.save();var l1=Nt||Ft*.2,X1=Gt||l1,kI=(Ft-l1)/2,q1=(Ft-X1)/2;if(_t||dr){ds.beginPath(),ds.strokeStyle=nt,ds.fillStyle=nt;var UE=l1+2*dr,a1=X1+2*dr,LE=kI+kn-dr,rS=q1+kn-dr;if(Dt==="circle"){var gD=LE+UE/2,NI=rS+a1/2;ds.ellipse(gD,NI,UE/2,a1/2,0,0,2*Math.PI),ds.stroke(),ds.fill()}else ds.fillRect(LE,rS,UE,a1)}ds.globalAlpha=mt,ds.drawImage(W0,kI+kn,q1+kn,l1,X1),ds.restore(),gt&&gt()},W0.src=At}},o.prototype.render=function(){var _,j=+this.props.size+2*+this.props.quietZone;return React$2.createElement("canvas",{id:(_=this.props.id)!==null&&_!==void 0?_:"react-qrcode-logo",height:j,width:j,style:{height:j+"px",width:j+"px"},ref:this.canvas})},o.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},o}(React$2.Component);QRCode_1=dist$1.QRCode=QRCode;var ContentCopyOutlined={},_interopRequireDefault$d=interopRequireDefaultExports;Object.defineProperty(ContentCopyOutlined,"__esModule",{value:!0});var default_1$d=ContentCopyOutlined.default=void 0,_createSvgIcon$d=_interopRequireDefault$d(requireCreateSvgIcon()),_jsxRuntime$d=jsxRuntimeExports;default_1$d=ContentCopyOutlined.default=(0,_createSvgIcon$d.default)((0,_jsxRuntime$d.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopyOutlined");var InfoOutlined={},_interopRequireDefault$c=interopRequireDefaultExports;Object.defineProperty(InfoOutlined,"__esModule",{value:!0});var default_1$c=InfoOutlined.default=void 0,_createSvgIcon$c=_interopRequireDefault$c(requireCreateSvgIcon()),_jsxRuntime$c=jsxRuntimeExports;default_1$c=InfoOutlined.default=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");const v$5="4.8.0",meta={g:"LottieFiles AE ",a:"",k:"",d:"",tc:""},fr$4=60,ip$4=0,op$4=300,w$4=500,h$4=500,nm$4="1",ddd$4=0,assets$4=[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"Bubble 1/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.909},o:{x:0,y:0},t:0,s:[279,133,0],to:[0,0,0],ti:[2.5,29,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7.713,s:[297,96.5,0],to:[-2.5,-29,0],ti:[-22,11,0]},{i:{x:.476,y:1},o:{x:.167,y:.261},t:23.283,s:[315,35,0],to:[22,-11,0],ti:[-4,26,0]},{t:60,s:[363,-15,0]}],ix:2},a:{a:0,k:[287.5,84.75,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:12,s:[105,105,100]},{t:23,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-3.681],[3.681,0],[0,3.681],[-3.682,0]],o:[[0,3.681],[-3.682,0],[0,-3.681],[3.681,0]],v:[[6.665,0],[.001,6.665],[-6.665,0],[.001,-6.665]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.438424503102,.711209644991,.89154920391,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[287.941,85.104],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0}]},{id:"comp_1",layers:[{ddd:0,ind:1,ty:4,nm:"Bubble 2/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.897},o:{x:0,y:0},t:0,s:[133.5,179.5,0],to:[0,0,0],ti:[-10,34.5,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:12.637,s:[94,115.5,0],to:[10,-34.5,0],ti:[11.5,25.5,0]},{i:{x:.535,y:1},o:{x:.167,y:.268},t:27.896,s:[101,41,0],to:[-11.5,-25.5,0],ti:[-8.5,24,0]},{t:60,s:[78,-31.5,0]}],ix:2},a:{a:0,k:[121.5,99,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[0,0,100]},{t:14,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-5.151],[5.151,0],[0,5.151],[-5.152,0]],o:[[0,5.151],[-5.152,0],[0,-5.151],[5.151,0]],v:[[9.327,-.001],[0,9.327],[-9.327,-.001],[0,-9.327]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.438424503102,.711209644991,.89154920391,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[121.967,99.037],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0}]},{id:"comp_2",layers:[{ddd:0,ind:1,ty:4,nm:"Bubble 3/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.828},o:{x:.333,y:0},t:0,s:[344.5,169,0],to:[0,0,0],ti:[-24.5,46,0]},{i:{x:.667,y:1},o:{x:.167,y:.162},t:28.217,s:[342.5,89.5,0],to:[24.5,-46,0],ti:[6.5,18.5,0]},{t:60,s:[348,-7,0]}],ix:2},a:{a:0,k:[333.5,122.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:12,s:[105,105,100]},{t:23,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-2.638],[2.637,0],[0,2.638],[-2.638,0]],o:[[0,2.638],[-2.638,0],[0,-2.638],[2.637,0]],v:[[4.777,-.001],[.001,4.776],[-4.776,-.001],[.001,-4.776]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.438424503102,.711209644991,.89154920391,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[333.76,122.886],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0}]},{id:"comp_3",layers:[{ddd:0,ind:1,ty:4,nm:"Bubble 5/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.808},o:{x:.333,y:0},t:0,s:[406,167,0],to:[0,0,0],ti:[21,32.5,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:23.545,s:[401.5,100,0],to:[-21,-32.5,0],ti:[-14.5,13.5,0]},{i:{x:.667,y:1},o:{x:.167,y:.199},t:37.734,s:[411.5,37.5,0],to:[14.5,-13.5,0],ti:[8,4,0]},{t:60,s:[400.5,-20.5,0]}],ix:2},a:{a:0,k:[376.5,95.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:0,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:12,s:[105,105,100]},{t:23,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-5.951],[5.951,0],[0,5.952],[-5.952,0]],o:[[0,5.952],[-5.952,0],[0,-5.951],[5.951,0]],v:[[10.776,0],[0,10.776],[-10.776,0],[0,-10.776]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.438424503102,.711209644991,.89154920391,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[376.584,95.88],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0}]}],layers$4=[{ddd:0,ind:1,ty:4,nm:"Base 1/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:195,s:[245.5,346.5,0],to:[0,1.333,0],ti:[0,3.833,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:210,s:[245.5,354.5,0],to:[0,-3.833,0],ti:[0,5.167,0]},{t:220,s:[245.5,323.5,0]}],ix:2},a:{a:0,k:[245.5,346.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[0,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,0,0]},t:15,s:[110,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:25,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:195,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:210,s:[100,137.674,100]},{t:220,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-115.217,4.846],[115.216,4.846],[115.216,-4.847],[-115.217,-4.847]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[124.917,14.547],[-124.916,14.547],[-124.916,-14.546],[124.917,-14.546]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.741,337.157],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[120.067,-9.695],[-120.067,-9.695],[-120.067,9.695],[120.067,9.695]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.999998743394,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.741,337.156],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Base 2/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:218,s:[245.5,330.875,0],to:[0,-3.083,0],ti:[0,3.083,0]},{t:223,s:[245.5,312.375,0]}],ix:2},a:{a:0,k:[245.5,330.875,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:20,s:[100,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:34,s:[100,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:40,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:218,s:[100,100,100]},{t:223,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-99.947,3.617],[99.947,3.617],[99.947,-3.616],[-99.947,-3.616]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[109.647,13.317],[-109.647,13.317],[-109.647,-13.317],[109.647,-13.317]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.75,321.248],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[104.797,-8.467],[-104.797,-8.467],[-104.797,8.467],[104.797,8.467]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.833782420439,.917655077168,.9698966232,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.75,321.248],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Base Top/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[244.25,189.562,0],ix:2},a:{a:0,k:[244.25,189.562,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:47,s:[0,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:59,s:[110,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:66,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:218,s:[100,100,100]},{t:223,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-112.228,2.67],[112.229,2.67],[112.229,-2.669],[-112.228,-2.669]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[121.928,12.37],[-121.928,12.37],[-121.928,-12.37],[121.928,-12.37]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.049,178.862],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[117.077,-7.519],[-117.077,-7.519],[-117.077,7.519],[117.077,7.519]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.999998743394,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.05,178.862],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Pillar R/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:220,s:[332.125,318.5,0],to:[0,-6.423,0],ti:[0,15.725,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:228,s:[332.125,278.506,0],to:[0,-10.798,0],ti:[0,0,0]},{t:235,s:[245.625,278.506,0]}],ix:2},a:{a:0,k:[332.125,318.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:34,s:[100,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:47,s:[100,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:53,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:220,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:228,s:[100,38.462,100]},{t:235,s:[0,38.462,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.142,-.404],[0,0],[0,.828],[0,0],[0,0],[0,0]],o:[[0,0],[.145,-.404],[0,0],[0,0],[0,0],[0,.828]],v:[[-3.919,60.473],[3.915,60.473],[4.206,58.619],[4.206,-60.474],[-4.206,-60.474],[-4.206,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[5.006,0],[0,0],[0,6.586],[0,0],[0,0],[0,0]],o:[[0,0],[-5.002,0],[0,0],[0,0],[0,0],[0,6.586]],v:[[5.127,70.173],[-5.131,70.173],[-13.906,58.619],[-13.906,-70.173],[13.906,-70.173],[13.906,58.619]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[331.949,253.303],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.166,0],[0,0],[0,3.709],[0,0],[0,0],[0,0]],o:[[0,0],[-2.175,0],[0,0],[0,0],[0,0],[0,3.709]],v:[[5.129,65.324],[-5.129,65.324],[-9.056,58.619],[-9.056,-65.324],[9.056,-65.324],[9.056,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.649396110983,.822753726735,.939676022997,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[331.948,253.302],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Pillar M/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:220,s:[244.5,318.5,0],to:[0,-6.423,0],ti:[0,15.725,0]},{t:228,s:[244.5,278.506,0]}],ix:2},a:{a:0,k:[244.5,318.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:34,s:[100,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:47,s:[100,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:53,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:220,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:228,s:[100,38.462,100]},{t:235,s:[0,38.462,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.142,-.404],[0,0],[0,.828],[0,0],[0,0],[0,0]],o:[[0,0],[.142,-.404],[0,0],[0,0],[0,0],[0,.828]],v:[[-3.918,60.473],[3.919,60.473],[4.207,58.619],[4.207,-60.474],[-4.205,-60.474],[-4.205,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[5.003,0],[0,0],[0,6.586],[0,0],[0,0],[0,0]],o:[[0,0],[-5.005,0],[0,0],[0,0],[0,0],[0,6.586]],v:[[5.131,70.173],[-5.128,70.173],[-13.906,58.619],[-13.906,-70.173],[13.905,-70.173],[13.905,58.619]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.681,253.303],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.167,0],[0,0],[0,3.709],[0,0],[0,0],[0,0]],o:[[0,0],[-2.174,0],[0,0],[0,0],[0,0],[0,3.709]],v:[[5.129,65.324],[-5.129,65.324],[-9.056,58.619],[-9.056,-65.324],[9.056,-65.324],[9.056,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.649396110983,.822753726735,.939676022997,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.682,253.302],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Pillar L/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:220,s:[157.438,318.562,0],to:[0,-6.423,0],ti:[0,15.725,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:228,s:[157.438,278.568,0],to:[0,-10.798,0],ti:[0,0,0]},{t:235,s:[245.188,278.568,0]}],ix:2},a:{a:0,k:[157.438,318.562,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:34,s:[100,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:47,s:[100,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:53,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:220,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:228,s:[100,38.462,100]},{t:235,s:[0,38.462,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.143,-.404],[0,0],[0,.828],[0,0],[0,0],[0,0]],o:[[0,0],[.146,-.404],[0,0],[0,0],[0,0],[0,.828]],v:[[-3.918,60.473],[3.915,60.473],[4.206,58.619],[4.206,-60.474],[-4.206,-60.474],[-4.206,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[5.004,0],[0,0],[0,6.586],[0,0],[0,0],[0,0]],o:[[0,0],[-5.002,0],[0,0],[0,0],[0,0],[0,6.586]],v:[[5.128,70.173],[-5.13,70.173],[-13.906,58.619],[-13.906,-70.173],[13.906,-70.173],[13.906,58.619]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[157.416,253.303],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.166,0],[0,0],[0,3.709],[0,0],[0,0],[0,0]],o:[[0,0],[-2.174,0],[0,0],[0,0],[0,0],[0,3.709]],v:[[5.13,65.324],[-5.129,65.324],[-9.055,58.619],[-9.055,-65.324],[9.056,-65.324],[9.056,58.619]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.649396110983,.822753726735,.939676022997,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[157.416,253.302],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Door/[1-25] Outlines",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:59,s:[0]},{t:71,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:220,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:228,s:[100,38.462,100]},{t:235,s:[0,38.462,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-12.927,0],[0,-13.271],[0,0],[0,0],[0,0],[-12.927,0],[0,-13.271]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,-13.271],[12.927,0],[0,0],[0,0],[0,0],[0,-13.271],[12.926,0],[0,0]],v:[[65.483,59.44],[83.323,59.44],[83.323,-59.441],[-83.322,-59.441],[-83.322,59.44],[-67.585,59.44],[-67.585,-6.739],[-44.143,-30.808],[-20.702,-6.739],[-20.702,59.44],[18.6,59.44],[18.6,-6.739],[42.042,-30.808],[65.483,-6.739]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[7.578,0],[0,-7.922],[0,0],[0,0],[0,0],[7.578,0],[0,-7.922],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,-7.922],[-7.579,0],[0,0],[0,0],[0,0],[0,-7.922],[-7.578,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[93.022,69.14],[55.784,69.14],[55.784,-6.739],[42.042,-21.109],[28.299,-6.739],[28.299,69.14],[-30.402,69.14],[-30.402,-6.739],[-44.143,-21.109],[-57.885,-6.739],[-57.885,69.14],[-93.022,69.14],[-93.022,-69.14],[93.022,-69.14]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.588,248.491],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[-10.225,0],[0,-10.571],[0,0],[0,0],[0,0],[-10.226,0],[0,-10.571],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,-10.571],[10.225,0],[0,0],[0,0],[0,0],[0,-10.571],[10.225,0],[0,0],[0,0],[0,0],[0,0]],v:[[-88.173,-64.291],[-88.173,64.291],[-62.736,64.291],[-62.736,-6.738],[-44.145,-25.958],[-25.553,-6.738],[-25.553,64.291],[23.448,64.291],[23.448,-6.738],[42.04,-25.958],[60.632,-6.738],[60.632,64.291],[88.172,64.291],[88.172,-64.291]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.999998743394,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[245.588,248.49],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 1",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:213,s:[100,100,100]},{t:223,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[71.792,-109.125],[62.25,-94.286],[80.944,-83.593],[109.375,-83.375]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"Roof 1/[1-25] Outlines",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:77,s:[393.5,194,0],to:[-7.125,-4.042,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:86,s:[350.75,169.75,0],to:[0,0,0],ti:[-.911,-.49,0]},{t:91,s:[356.219,172.688,0]}],ix:2},a:{a:0,k:[356.5,172.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[11.772,12.632],[-16.722,-4.289],[-11.771,-12.632],[16.722,4.29]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[343.246,164.672],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"Shape Layer 2",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:213,s:[100,100,100]},{t:223,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[38.812,-126.25],[29.875,-116.25],[62.688,-94.625],[72.625,-108.312]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:11,ty:4,nm:"Roof 2/[1-25] Outlines",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:91,s:[352.5,169.75,0],to:[-3.436,-1.997,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:100,s:[314.75,147.75,0],to:[0,0,0],ti:[2.73,1.587,0]},{t:105,s:[315.5,148.25,0]}],ix:2},a:{a:0,k:[315.5,148.25,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[9.231,11.124],[-14.182,-2.781],[-9.231,-11.124],[14.182,2.782]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[304.6,141.722],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:12,ty:4,nm:"Circle/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:212,s:[244.5,140,0],to:[0,8.167,0],ti:[0,-8.167,0]},{t:220,s:[244.5,189,0]}],ix:2},a:{a:0,k:[244.5,140,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:64,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:75,s:[110,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:81,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:212,s:[100,100,100]},{t:220,s:[0,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[4.863,0],[0,-4.863],[-4.869,0],[0,4.869]],o:[[-4.869,0],[0,4.869],[4.863,0],[0,-4.863]],v:[[.006,-8.822],[-8.822,-.006],[.006,8.822],[8.822,-.006]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[10.208,0],[0,10.218],[-10.218,0],[0,-10.209]],o:[[-10.218,0],[0,-10.209],[10.208,0],[0,10.218]],v:[[.006,18.522],[-18.522,-.006],[.006,-18.522],[18.522,-.006]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.852,140.579],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-7.547],[7.546,0],[0,7.552],[-7.553,0]],o:[[0,7.552],[-7.553,0],[0,-7.547],[7.546,0]],v:[[13.672,-.006],[.007,13.672],[-13.672,-.006],[.007,-13.672]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.438424503102,.711209644991,.89154920391,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[244.852,140.579],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:13,ty:4,nm:"Roof/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[244.5,171.5,0],ix:2},a:{a:0,k:[244.5,171.5,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:59,s:[100,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:71,s:[100,110,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:77,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:195,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:210,s:[100,120,100]},{t:220,s:[100,0,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[-4.338,-2.58],[0,0],[0,0],[0,0],[1.417,-.793]],o:[[0,0],[0,0],[4.433,-2.476],[0,0],[0,0],[0,0],[-1.389,-.827],[0,0]],v:[[-72.871,37.421],[-77.632,28.972],[35.878,-34.945],[51.251,-34.76],[77.633,-19.096],[72.681,-10.752],[46.297,-26.42],[40.624,-26.486]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[201.305,139.936],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-105.356,30.013],[105.357,30.013],[1.252,-30.013]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.833782420439,.917655077168,.9698966232,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[243.607,136.254],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0},{ddd:0,ind:14,ty:0,nm:"Bubble Normal",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-13,ix:10},p:{a:0,k:[116,236,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:500,h:500,ip:71,op:130,st:71,bm:0},{ddd:0,ind:15,ty:0,nm:"Bubble Normal",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:500,h:500,ip:71,op:130,st:71,bm:0},{ddd:0,ind:16,ty:0,nm:"Bubble Medium",refId:"comp_1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:500,h:500,ip:71,op:130,st:71,bm:0},{ddd:0,ind:17,ty:0,nm:"Bubble Small",refId:"comp_2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:500,h:500,ip:71,op:130,st:71,bm:0},{ddd:0,ind:18,ty:0,nm:"Bubble Big",refId:"comp_3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:15,ix:10},p:{a:0,k:[185,189,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:500,h:500,ip:71,op:130,st:71,bm:0},{ddd:0,ind:19,ty:4,nm:"Text/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-2.508,-3.531],[-1.243,-1.733],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[.928,1.291],[2.507,3.532],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-11.891,-13.56],[-5.84,-13.56],[-5.84,-2.426],[4.402,-13.56],[11.891,-13.56],[1.106,-1.571],[6.265,5.664],[11.891,13.56],[4.832,13.56],[-3.125,2.853],[-5.84,5.878],[-5.84,13.56],[-11.891,13.56]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[290.995,408.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[6.464,-13.56],[12.513,-13.56],[12.513,13.56],[6.464,13.56],[-6.458,-3.434],[-6.458,13.56],[-12.514,13.56],[-12.514,-13.56],[-6.849,-13.56],[6.464,3.898]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[259.916,408.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[.02,-5.49],[-3.396,2.385],[3.392,2.385]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[8.203,13.56],[5.684,7.702],[-5.683,7.702],[-8.209,13.56],[-14.645,13.56],[-2.93,-13.56],[2.931,-13.56],[14.645,13.56]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[229.613,408.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:4,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.865,.426],[0,1.253],[.916,.402],[2.021,0],[0,0]],o:[[0,0],[1.731,0],[.865,-.425],[0,-1.257],[-.922,-.4],[0,0],[0,0]],v:[[-4.775,8.438],[-.62,8.438],[3.277,7.797],[4.578,5.278],[3.201,2.792],[-1.207,2.193],[-4.775,2.193]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,0],[-.815,.364],[0,1.203],[.751,.389],[1.788,0],[0,0]],o:[[0,0],[1.679,0],[.815,-.359],[0,-1.203],[-.752,-.388],[0,0],[0,0]],v:[[-4.775,-2.582],[-1.901,-2.582],[1.844,-3.125],[3.062,-5.47],[1.938,-7.858],[-1.864,-8.438],[-4.775,-8.438]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[3.726,0],[0,0],[0,0],[0,0],[-1.333,-.442],[-.676,-.751],[0,-1.759],[1.371,-1.032],[.183,-.088],[.461,-.205],[-.992,-1.15],[0,-1.709],[1.295,-1.446]],o:[[0,0],[0,0],[0,0],[1.837,0],[1.332,.439],[1.213,1.396],[0,2.121],[-.467,.363],[-.183,.092],[1.68,.363],[.998,1.152],[0,1.887],[-1.502,1.683]],v:[[1.048,13.56],[-10.824,13.56],[-10.824,-13.56],[-.272,-13.56],[4.477,-12.9],[7.489,-11.117],[9.308,-6.382],[7.255,-1.65],[6.283,-.971],[5.317,-.526],[9.327,1.745],[10.824,6.033],[8.884,11.037]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.274409095914,.556900443283,.792353731043,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[202.901,408.001],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:5,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:301,op:301,st:0,bm:0,hidden:0},{ddd:0,ind:20,ty:4,nm:"BG/[1-25] Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,250,0],ix:2},a:{a:0,k:[250,250,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-250,250],[250,250],[250,-250],[-250,-250]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,.999998743394,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[250,250],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:301,st:0,bm:0}],markers$4=[],bankIcon={v:v$5,meta,fr:fr$4,ip:ip$4,op:op$4,w:w$4,h:h$4,nm:nm$4,ddd:ddd$4,assets:assets$4,layers:layers$4,markers:markers$4},v$4="5.9.2",fr$3=60,ip$3=0,op$3=120,w$3=512,h$3=512,nm$3="04. Blockchain",ddd$3=0,assets$3=[{id:"comp_0",nm:"Blockchain",fr:60,layers:[{ddd:0,ind:1,ty:4,nm:"box 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[427.201,256,0],to:[-28.533,21.6,0],ti:[28.533,-21.6,0]},{t:60,s:[256,385.6,0]}],ix:2,l:2},a:{a:0,k:[427.201,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-34.18],[0,34.18]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[427.201,296.767],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[427.201,277.231],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[427.201,221.065],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.709803938866,.596078455448,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[427.201,277.231],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.439215689898,.839215695858,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[427.201,221.065],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"box 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[256,385.634,0],to:[-28.5,-21.606,0],ti:[28.5,21.606,0]},{t:60,s:[85,256,0]}],ix:2,l:2},a:{a:0,k:[256,385.634,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-34.18],[0,34.18]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[256,426.401],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[256,406.865],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[256,350.699],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.709803938866,.596078455448,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[256,406.865],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.439215689898,.839215695858,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[256,350.699],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"box 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[84.799,256,0],to:[28.533,-21.6,0],ti:[-28.533,21.6,0]},{t:60,s:[256,126.4,0]}],ix:2,l:2},a:{a:0,k:[84.799,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,34.18],[0,-34.18]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[84.799,296.767],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[84.799,277.231],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[84.799,221.065],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.709803938866,.596078455448,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[84.799,277.231],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.439215689898,.839215695858,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[84.799,221.065],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"box 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.2,y:1},o:{x:.8,y:0},t:0,s:[256,126.366,0],to:[28.533,21.606,0],ti:[-28.533,-21.606,0]},{t:60,s:[427.2,256,0]}],ix:2,l:2},a:{a:0,k:[256,126.366,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-34.18],[0,34.18]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[256,167.133],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[256,147.597],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:1,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[256,91.431],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-73.916,-56.166],[-73.916,13.704],[0,56.166],[73.916,13.704],[73.916,-56.166],[0,-13.704]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.709803938866,.596078455448,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[256,147.597],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:1,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[0,-42.462],[-73.916,0],[0,42.462],[73.916,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.439215689898,.839215695858,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[256,91.431],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:29,s:[180]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:75,s:[0]},{t:105,s:[180]}],ix:10},p:{a:0,k:[445.283,108.344,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:29,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:60,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:75,s:[100,100,100]},{t:105,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.391,0],[-1.758,8.594],[0,-.391],[-8.789,-1.562],[.391,-.195],[1.758,-8.594],[0,.391],[8.789,1.562]],o:[[8.789,-1.562],[0,-.391],[1.758,8.594],[.391,0],[-8.789,1.562],[0,.391],[-1.758,-8.594],[-.391,-.195]],v:[[-17.773,-.391],[-.391,-17.383],[.391,-17.383],[17.773,-.391],[17.773,.391],[.391,17.383],[-.391,17.383],[-17.773,.391]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.960784316063,.784313738346,.298039227724,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:29,s:[180]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:75,s:[0]},{t:105,s:[180]}],ix:10},p:{a:0,k:[366.182,55.609,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:29,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:60,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:75,s:[100,100,100]},{t:105,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-3.668,0],[0,-3.668],[3.668,0],[0,3.668]],o:[[3.668,0],[0,3.668],[-3.668,0],[0,-3.668]],v:[[0,-6.641],[6.641,0],[0,6.641],[-6.641,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.439215689898,.839215695858,.976470589638,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:29,s:[180]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:75,s:[0]},{t:105,s:[180]}],ix:10},p:{a:0,k:[123.994,439.398,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:29,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:60,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:75,s:[100,100,100]},{t:105,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-3.668,0],[0,-3.668],[3.668,0],[0,3.668]],o:[[3.668,0],[0,3.668],[-3.668,0],[0,-3.668]],v:[[0,-6.641],[6.641,0],[0,6.641],[-6.641,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.960784316063,.784313738346,.298039227724,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:29,s:[180]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:75,s:[0]},{t:105,s:[180]}],ix:10},p:{a:0,k:[59.732,381.586,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:29,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:60,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:75,s:[100,100,100]},{t:105,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.195,0],[0,0],[0,0],[-3.516,0],[0,3.32],[0,0],[0,0],[0,0],[0,3.516],[3.32,0],[0,0],[0,0],[0,0],[3.516,0],[0,-3.32],[0,0],[0,0],[0,0],[0,-3.516],[-3.711,0]],o:[[0,0],[0,0],[0,3.516],[3.32,0],[0,0],[0,0],[0,0],[3.516,0],[0,-3.32],[0,0],[0,0],[0,0],[0,-3.516],[-3.32,0],[0,0],[0,0],[0,0],[-3.516,0],[-.195,3.32],[-.195,0]],v:[[-10.737,6.25],[-6.245,6.25],[-6.245,10.742],[.005,16.992],[6.255,10.938],[6.255,10.742],[6.255,6.25],[10.747,6.25],[16.997,0],[10.942,-6.25],[10.747,-6.25],[6.255,-6.25],[6.255,-10.742],[.005,-16.992],[-6.245,-10.938],[-6.245,-10.742],[-6.245,-6.25],[-10.737,-6.25],[-16.987,0],[-10.737,6.25]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.988235294819,.396078437567,.494117647409,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:29,s:[180]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:60,s:[0]},{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:75,s:[0]},{t:105,s:[180]}],ix:10},p:{a:0,k:[415.498,393.402,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:1,k:[{i:{x:[0,0,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:29,s:[0,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:60,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:75,s:[100,100,100]},{t:105,s:[0,0,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.195,0],[1.172,6.055],[0,-.195],[6.055,-1.172],[-.195,-.195],[-1.172,-6.055],[0,.195],[-6.055,1.172]],o:[[-6.055,-1.172],[0,-.195],[-1.172,6.055],[-.195,0],[6.055,1.172],[0,.195],[1.172,-6.055],[.195,-.195]],v:[[12.402,-.293],[.293,-12.207],[-.293,-12.207],[-12.402,-.293],[-12.402,.293],[-.293,12.207],[.293,12.207],[12.402,.293]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.529411792755,.819607853889,.278431385756,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"line",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[0,0,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-196.268,-19.523],[0,93.225]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,93.225],[198.469,-20.787]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[198.469,-21.605],[-.264,-135.769]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-.264,-135.769],[-196.268,-22.869]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:9.766,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0}]}],layers$3=[{ddd:0,ind:1,ty:0,nm:"Blockchain",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:0,op:60,st:-60,bm:0},{ddd:0,ind:2,ty:0,nm:"Blockchain",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:512,h:512,ip:60,op:120,st:60,bm:0},{ddd:0,ind:3,ty:1,nm:"bg",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[256,256,0],ix:2,l:2},a:{a:0,k:[256,256,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,sw:512,sh:512,sc:"#ffffff",ip:0,op:300,st:0,bm:0}],markers$3=[],blockChainIcon={v:v$4,fr:fr$3,ip:ip$3,op:op$3,w:w$3,h:h$3,nm:nm$3,ddd:ddd$3,assets:assets$3,layers:layers$3,markers:markers$3},v$3="5.5.8",fr$2=25,ip$2=0,op$2=38,w$2=500,h$2=500,nm$2="1_cadastro",ddd$2=0,assets$2=[],layers$2=[{ddd:0,ind:1,ty:4,nm:"Camada de forma 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[266,250,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[64.5,133.5],[112.25,197.5],[199.25,79.75]],c:!1},ix:2},nm:"Caminho 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.431372582912,0,.901960849762,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:33,ix:5},lc:2,lj:2,bm:0,nm:"Traçado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Forma 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.322],y:[1]},o:{x:[.547],y:[0]},t:23,s:[0]},{t:38,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Aparar caminhos 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:23,op:38,st:23,bm:0},{ddd:0,ind:2,ty:4,nm:"user contornos",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11,s:[0]},{t:15,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11,s:[250,353.719,0],to:[-.09,-2.918,0],ti:[.181,5.834,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:12,s:[249.458,336.214,0],to:[-.181,-5.834,0],ti:[.181,5.832,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13,s:[248.917,318.718,0],to:[-.181,-5.832,0],ti:[.181,5.833,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:14,s:[248.375,301.219,0],to:[-.181,-5.833,0],ti:[.181,5.832,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:15,s:[247.833,283.721,0],to:[-.181,-5.832,0],ti:[.181,5.834,0]},{i:{x:.833,y:.902},o:{x:.167,y:.167},t:16,s:[247.292,266.224,0],to:[-.181,-5.834,0],ti:[.106,3.431,0]},{i:{x:.833,y:.894},o:{x:.167,y:.557},t:17,s:[246.75,248.719,0],to:[-.106,-3.431,0],ti:[.02,.653,0]},{i:{x:.833,y:.861},o:{x:.167,y:.389},t:18,s:[246.655,245.639,0],to:[-.02,-.653,0],ti:[.001,.047,0]},{i:{x:.833,y:.747},o:{x:.167,y:.207},t:19,s:[246.629,244.799,0],to:[-.001,-.047,0],ti:[-.009,-.284,0]},{i:{x:.833,y:.832},o:{x:.167,y:.124},t:20,s:[246.646,245.354,0],to:[.009,.284,0],ti:[-.012,-.387,0]},{i:{x:.833,y:.854},o:{x:.167,y:.165},t:21,s:[246.681,246.504,0],to:[.012,.387,0],ti:[-.011,-.342,0]},{i:{x:.833,y:.869},o:{x:.167,y:.194},t:22,s:[246.718,247.674,0],to:[.011,.342,0],ti:[-.007,-.232,0]},{i:{x:.833,y:.887},o:{x:.167,y:.229},t:23,s:[246.745,248.557,0],to:[.007,.232,0],ti:[-.004,-.114,0]},{i:{x:.833,y:.891},o:{x:.167,y:.319},t:24,s:[246.761,249.064,0],to:[.004,.114,0],ti:[-.001,-.023,0]},{i:{x:.833,y:.698},o:{x:.167,y:.356},t:25,s:[246.766,249.244,0],to:[.001,.023,0],ti:[.001,.031,0]},{i:{x:.833,y:.822},o:{x:.167,y:.115},t:26,s:[246.765,249.205,0],to:[-.001,-.031,0],ti:[.002,.051,0]},{i:{x:.833,y:.849},o:{x:.167,y:.157},t:27,s:[246.761,249.06,0],to:[-.002,-.051,0],ti:[.002,.049,0]},{i:{x:.833,y:.865},o:{x:.167,y:.187},t:28,s:[246.756,248.897,0],to:[-.002,-.049,0],ti:[.001,.035,0]},{i:{x:.833,y:.882},o:{x:.167,y:.218},t:29,s:[246.752,248.766,0],to:[-.001,-.035,0],ti:[.001,.019,0]},{i:{x:.833,y:.901},o:{x:.167,y:.282},t:30,s:[246.749,248.685,0],to:[-.001,-.019,0],ti:[0,.006,0]},{i:{x:.833,y:.71},o:{x:.167,y:.497},t:31,s:[246.748,248.651,0],to:[0,-.006,0],ti:[0,-.003,0]},{i:{x:.833,y:.809},o:{x:.167,y:.115},t:32,s:[246.748,248.65,0],to:[0,.003,0],ti:[0,-.007,0]},{i:{x:.833,y:.845},o:{x:.167,y:.148},t:33,s:[246.748,248.667,0],to:[0,.007,0],ti:[0,-.007,0]},{i:{x:.833,y:.861},o:{x:.167,y:.18},t:34,s:[246.749,248.69,0],to:[0,.007,0],ti:[0,-.005,0]},{i:{x:.833,y:.877},o:{x:.167,y:.209},t:35,s:[246.75,248.709,0],to:[0,.005,0],ti:[0,-.003,0]},{i:{x:.833,y:.833},o:{x:.167,y:.258},t:36,s:[246.75,248.722,0],to:[0,.003,0],ti:[0,-.001,0]},{t:37,s:[246.75,248.728,0]}],ix:2},a:{a:0,k:[131.493,146.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.278,.284],[14.158,-3.297],[15.729,3.662],[9.148,-9.352],[-4.944,-38.218],[-13.581,0],[0,0],[0,0],[0,0],[-1.742,13.468]],o:[[-9.148,-9.352],[-15.729,3.662],[-14.158,-3.297],[-.278,.284],[1.742,13.468],[0,0],[0,0],[0,0],[13.58,0],[4.944,-38.218]],v:[[63.328,-35.324],[23.887,-40.533],[-23.887,-40.533],[-63.328,-35.324],[-76.549,21.153],[-49.694,44.676],[-1.68,44.676],[1.68,44.676],[49.694,44.676],[76.549,21.153]],c:!0},ix:2},nm:"Caminho 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Traçado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[131.493,198.324],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-21.815],[21.815,0],[0,21.815],[-21.815,0]],o:[[0,21.815],[-21.815,0],[0,-21.815],[21.815,0]],v:[[39.5,0],[0,39.5],[-39.5,0],[0,-39.5]],c:!0},ix:2},nm:"Caminho 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Traçado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[131.493,89.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:11,op:38,st:11,bm:0},{ddd:0,ind:3,ty:4,nm:"button 2 contornos",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[249.5,250,0],ix:2},a:{a:0,k:[212.75,212.75,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-92.784],[0,0],[-92.785,0],[0,0],[0,92.784],[0,0],[92.784,0]],o:[[-92.785,0],[0,0],[0,92.784],[0,0],[92.784,0],[0,0],[0,-92.784],[0,0]],v:[[-44.5,-212.5],[-212.5,-44.5],[-212.5,44.5],[-44.5,212.5],[44.5,212.5],[212.5,44.5],[212.5,-44.5],[44.5,-212.5]],c:!0},ix:2},nm:"Caminho 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:4,nm:"Mesclar caminhos 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[0,.902000038297,.430999995213,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Preenchimento 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[212.75,212.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[92.784,0],[0,0],[0,92.784],[0,0],[-92.784,0],[0,0],[0,-92.784],[0,0]],o:[[0,0],[-92.784,0],[0,0],[0,-92.784],[0,0],[92.784,0],[0,0],[0,92.784]],v:[[44.5,212.5],[-44.5,212.5],[-212.5,44.5],[-212.5,-44.5],[-44.5,-212.5],[44.5,-212.5],[212.5,-44.5],[212.5,44.5]],c:!0},ix:2},nm:"Caminho 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,.902000038297,.430999995213,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Preenchimento 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[212.75,212.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:38,st:-2,bm:0},{ddd:0,ind:4,ty:4,nm:"Camada de forma 2",tt:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.851,y:0},t:-2,s:[250,250,0],to:[-1.333,-91.667,0],ti:[1.333,91.667,0]},{t:15,s:[242,-300,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[136,136,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[440.023,440.023],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Caminho da elipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[0,.901960784314,.43137254902,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Preenchimento 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[9.371,399.785],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Elipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"rp",c:{a:0,k:3,ix:1},o:{a:0,k:-1,ix:2},m:1,ix:2,tr:{ty:"tr",p:{a:0,k:[100,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:0,s:[-23]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:1,s:[-23]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:2,s:[-23]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:3,s:[-23]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:4,s:[-23]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:5,s:[-23]},{i:{x:[.833],y:[.828]},o:{x:[.167],y:[0]},t:6,s:[-23]},{i:{x:[.833],y:[.697]},o:{x:[.167],y:[.083]},t:7,s:[-23]},{i:{x:[.833],y:[.799]},o:{x:[.167],y:[.115]},t:8,s:[-20.937]},{i:{x:[.833],y:[.821]},o:{x:[.167],y:[.142]},t:9,s:[-15.5]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.156]},t:10,s:[-7.812]},{i:{x:[.833],y:[.844]},o:{x:[.167],y:[.167]},t:11,s:[1]},{i:{x:[.833],y:[.858]},o:{x:[.167],y:[.179]},t:12,s:[9.812]},{i:{x:[.833],y:[.885]},o:{x:[.167],y:[.201]},t:13,s:[17.5]},{i:{x:[.833],y:[.889]},o:{x:[.167],y:[.303]},t:14,s:[22.937]},{i:{x:[.833],y:[.935]},o:{x:[.167],y:[.338]},t:15,s:[25]},{i:{x:[.833],y:[.654]},o:{x:[.167],y:[-.292]},t:16,s:[25.675]},{i:{x:[.833],y:[.866]},o:{x:[.167],y:[.11]},t:17,s:[25.525]},{i:{x:[.833],y:[.924]},o:{x:[.167],y:[.22]},t:18,s:[25.053]},{i:{x:[.833],y:[.333]},o:{x:[.167],y:[-.9]},t:19,s:[24.764]},{i:{x:[.833],y:[.858]},o:{x:[.167],y:[.095]},t:20,s:[24.789]},{i:{x:[.833],y:[.914]},o:{x:[.167],y:[.202]},t:21,s:[24.96]},{i:{x:[.833],y:[2.422]},o:{x:[.167],y:[3.061]},t:22,s:[25.08]},{i:{x:[.833],y:[.849]},o:{x:[.167],y:[.079]},t:23,s:[25.084]},{i:{x:[.833],y:[.906]},o:{x:[.167],y:[.187]},t:24,s:[25.023]},{i:{x:[.833],y:[1.203]},o:{x:[.167],y:[.75]},t:25,s:[24.974]},{i:{x:[.833],y:[.839]},o:{x:[.167],y:[.059]},t:26,s:[24.967]},{i:{x:[.833],y:[.899]},o:{x:[.167],y:[.173]},t:27,s:[24.989]},{i:{x:[.833],y:[1.059]},o:{x:[.167],y:[.476]},t:28,s:[25.008]},{i:{x:[.833],y:[.826]},o:{x:[.167],y:[.035]},t:29,s:[25.012]},{i:{x:[.833],y:[.892]},o:{x:[.167],y:[.16]},t:30,s:[25.005]},{i:{x:[.833],y:[1.002]},o:{x:[.167],y:[.368]},t:31,s:[24.998]},{i:{x:[.833],y:[.809]},o:{x:[.167],y:[.002]},t:32,s:[24.995]},{i:{x:[.833],y:[.886]},o:{x:[.167],y:[.148]},t:33,s:[24.998]},{i:{x:[.833],y:[.97]},o:{x:[.167],y:[.308]},t:34,s:[25.001]},{i:{x:[.833],y:[.784]},o:{x:[.167],y:[-.046]},t:35,s:[25.002]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.135]},t:36,s:[25.001]},{t:37,s:[25]}],ix:4},so:{a:0,k:100,ix:5},eo:{a:0,k:0,ix:6},nm:"Transformar"},nm:"Repetidor 1",mn:"ADBE Vector Filter - Repeater",hd:!1}],ip:0,op:38,st:-2,bm:0},{ddd:0,ind:5,ty:4,nm:"button 2 contornos 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[249.5,250,0],ix:2},a:{a:0,k:[212.75,212.75,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[92.784,0],[0,0],[0,92.784],[0,0],[-92.784,0],[0,0],[0,-92.784],[0,0]],o:[[0,0],[-92.784,0],[0,0],[0,-92.784],[0,0],[92.784,0],[0,0],[0,92.784]],v:[[44.5,212.5],[-44.5,212.5],[-212.5,44.5],[-212.5,-44.5],[-44.5,-212.5],[44.5,-212.5],[212.5,-44.5],[212.5,44.5]],c:!0},ix:2},nm:"Caminho 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tr",p:{a:0,k:[212.75,212.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Grupo 2",np:1,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"fl",c:{a:0,k:[.961090686275,.961090686275,.961090686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Preenchimento 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:38,st:-2,bm:0}],markers$2=[],fortUsers={v:v$3,fr:fr$2,ip:ip$2,op:op$2,w:w$2,h:h$2,nm:nm$2,ddd:ddd$2,assets:assets$2,layers:layers$2,markers:markers$2};var KeyboardArrowRight={},_interopRequireDefault$b=interopRequireDefaultExports;Object.defineProperty(KeyboardArrowRight,"__esModule",{value:!0});var default_1$b=KeyboardArrowRight.default=void 0,_createSvgIcon$b=_interopRequireDefault$b(requireCreateSvgIcon()),_jsxRuntime$b=jsxRuntimeExports;default_1$b=KeyboardArrowRight.default=(0,_createSvgIcon$b.default)((0,_jsxRuntime$b.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var KeyboardArrowLeft={},_interopRequireDefault$a=interopRequireDefaultExports;Object.defineProperty(KeyboardArrowLeft,"__esModule",{value:!0});var default_1$a=KeyboardArrowLeft.default=void 0,_createSvgIcon$a=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$a=jsxRuntimeExports;default_1$a=KeyboardArrowLeft.default=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var FileCopy={},_interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(FileCopy,"__esModule",{value:!0});var default_1$9=FileCopy.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntimeExports;default_1$9=FileCopy.default=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"}),"FileCopy");var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=reactExports;function n(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var p=typeof Object.is=="function"?Object.is:n,q$1=g.useSyncExternalStore,r$4=g.useRef,t=g.useEffect,u$1=g.useMemo,v$2=g.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(s,o,_,j,et){var st=r$4(null);if(st.current===null){var nt={hasValue:!1,value:null};st.current=nt}else nt=st.current;st=u$1(function(){function At(Ct){if(!mt){if(mt=!0,gt=Ct,Ct=j(Ct),et!==void 0&&nt.hasValue){var Bt=nt.value;if(et(Bt,Ct))return _t=Bt}return _t=Ct}if(Bt=_t,p(gt,Ct))return Bt;var Dt=j(Ct);return et!==void 0&&et(Bt,Dt)?Bt:(gt=Ct,_t=Dt)}var mt=!1,gt,_t,Et=_===void 0?null:_;return[function(){return At(o())},Et===null?void 0:function(){return At(Et())}]},[o,_,j,et]);var ct=q$1(s,st[0],st[1]);return t(function(){nt.hasValue=!0,nt.value=ct},[ct]),v$2(ct),ct};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$1="default"in ReactOriginal?Z$3:ReactOriginal,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$1.createContext)return{};const s=gT[ContextKey]??(gT[ContextKey]=new Map);let o=s.get(React$1.createContext);return o||(o=React$1.createContext(null),s.set(React$1.createContext,o)),o}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(s=ReactReduxContext){return function(){return React$1.useContext(s)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=s=>{useSyncExternalStoreWithSelector=s},refEquality=(s,o)=>s===o;function createSelectorHook(s=ReactReduxContext){const o=s===ReactReduxContext?useReduxContext:createReduxContextHook(s),_=(j,et={})=>{const{equalityFn:st=refEquality,devModeChecks:nt={}}=typeof et=="function"?{equalityFn:et}:et,{store:ct,subscription:At,getServerState:mt,stabilityCheck:gt,identityFunctionCheck:_t}=o();React$1.useRef(!0);const Et=React$1.useCallback({[j.name](Bt){return j(Bt)}}[j.name],[j,gt,nt.stabilityCheck]),Ct=useSyncExternalStoreWithSelector(At.addNestedSub,ct.getState,mt||ct.getState,Et,st);return React$1.useDebugValue(Ct),Ct};return Object.assign(_,{withTypes:()=>_}),_}var useSelector=createSelectorHook();function defaultNoopBatch(s){s()}function createListenerCollection(){let s=null,o=null;return{clear(){s=null,o=null},notify(){defaultNoopBatch(()=>{let _=s;for(;_;)_.callback(),_=_.next})},get(){const _=[];let j=s;for(;j;)_.push(j),j=j.next;return _},subscribe(_){let j=!0;const et=o={callback:_,next:null,prev:o};return et.prev?et.prev.next=et:s=et,function(){!j||s===null||(j=!1,et.next?et.next.prev=et.prev:o=et.prev,et.prev?et.prev.next=et.next:s=et.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(s,o){let _,j=nullListeners,et=0,st=!1;function nt(Dt){gt();const Ft=j.subscribe(Dt);let Rt=!1;return()=>{Rt||(Rt=!0,Ft(),_t())}}function ct(){j.notify()}function At(){Bt.onStateChange&&Bt.onStateChange()}function mt(){return st}function gt(){et++,_||(_=s.subscribe(At),j=createListenerCollection())}function _t(){et--,_&&et===0&&(_(),_=void 0,j.clear(),j=nullListeners)}function Et(){st||(st=!0,gt())}function Ct(){st&&(st=!1,_t())}const Bt={addNestedSub:nt,notifyNestedSubs:ct,handleChangeWrapper:At,isSubscribed:mt,trySubscribe:Et,tryUnsubscribe:Ct,getListeners:()=>j};return Bt}var canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isReactNative$1=typeof navigator<"u"&&navigator.product==="ReactNative",useIsomorphicLayoutEffect=canUseDOM||isReactNative$1?React$1.useLayoutEffect:React$1.useEffect;function Provider({store:s,context:o,children:_,serverState:j,stabilityCheck:et="once",identityFunctionCheck:st="once"}){const nt=React$1.useMemo(()=>{const mt=createSubscription(s);return{store:s,subscription:mt,getServerState:j?()=>j:void 0,stabilityCheck:et,identityFunctionCheck:st}},[s,j,et,st]),ct=React$1.useMemo(()=>s.getState(),[s]);useIsomorphicLayoutEffect(()=>{const{subscription:mt}=nt;return mt.onStateChange=mt.notifyNestedSubs,mt.trySubscribe(),ct!==s.getState()&&mt.notifyNestedSubs(),()=>{mt.tryUnsubscribe(),mt.onStateChange=void 0}},[nt,ct]);const At=o||ReactReduxContext;return React$1.createElement(At.Provider,{value:nt},_)}var Provider_default=Provider;function createStoreHook(s=ReactReduxContext){const o=s===ReactReduxContext?useReduxContext:createReduxContextHook(s),_=()=>{const{store:j}=o();return j};return Object.assign(_,{withTypes:()=>_}),_}var useStore=createStoreHook();function createDispatchHook(s=ReactReduxContext){const o=s===ReactReduxContext?useStore:createStoreHook(s),_=()=>o().dispatch;return Object.assign(_,{withTypes:()=>_}),_}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);function formatProdErrorMessage$1(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString$1=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString$1()}`,REPLACE:`@@redux/REPLACE${randomString$1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString$1()}`},actionTypes_default=ActionTypes;function isPlainObject$1(s){if(typeof s!="object"||s===null)return!1;let o=s;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(s)===o||Object.getPrototypeOf(s)===null}function createStore(s,o,_){if(typeof s!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof o=="function"&&typeof _=="function"||typeof _=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof o=="function"&&typeof _>"u"&&(_=o,o=void 0),typeof _<"u"){if(typeof _!="function")throw new Error(formatProdErrorMessage$1(1));return _(createStore)(s,o)}let j=s,et=o,st=new Map,nt=st,ct=0,At=!1;function mt(){nt===st&&(nt=new Map,st.forEach((Ft,Rt)=>{nt.set(Rt,Ft)}))}function gt(){if(At)throw new Error(formatProdErrorMessage$1(3));return et}function _t(Ft){if(typeof Ft!="function")throw new Error(formatProdErrorMessage$1(4));if(At)throw new Error(formatProdErrorMessage$1(5));let Rt=!0;mt();const Nt=ct++;return nt.set(Nt,Ft),function(){if(Rt){if(At)throw new Error(formatProdErrorMessage$1(6));Rt=!1,mt(),nt.delete(Nt),st=null}}}function Et(Ft){if(!isPlainObject$1(Ft))throw new Error(formatProdErrorMessage$1(7));if(typeof Ft.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Ft.type!="string")throw new Error(formatProdErrorMessage$1(17));if(At)throw new Error(formatProdErrorMessage$1(9));try{At=!0,et=j(et,Ft)}finally{At=!1}return(st=nt).forEach(Nt=>{Nt()}),Ft}function Ct(Ft){if(typeof Ft!="function")throw new Error(formatProdErrorMessage$1(10));j=Ft,Et({type:actionTypes_default.REPLACE})}function Bt(){const Ft=_t;return{subscribe(Rt){if(typeof Rt!="object"||Rt===null)throw new Error(formatProdErrorMessage$1(11));function Nt(){const dr=Rt;dr.next&&dr.next(gt())}return Nt(),{unsubscribe:Ft(Nt)}},[symbol_observable_default](){return this}}}return Et({type:actionTypes_default.INIT}),{dispatch:Et,subscribe:_t,getState:gt,replaceReducer:Ct,[symbol_observable_default]:Bt}}function assertReducerShape(s){Object.keys(s).forEach(o=>{const _=s[o];if(typeof _(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof _(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(s){const o=Object.keys(s),_={};for(let st=0;st<o.length;st++){const nt=o[st];typeof s[nt]=="function"&&(_[nt]=s[nt])}const j=Object.keys(_);let et;try{assertReducerShape(_)}catch(st){et=st}return function(nt={},ct){if(et)throw et;let At=!1;const mt={};for(let gt=0;gt<j.length;gt++){const _t=j[gt],Et=_[_t],Ct=nt[_t],Bt=Et(Ct,ct);if(typeof Bt>"u")throw ct&&ct.type,new Error(formatProdErrorMessage$1(14));mt[_t]=Bt,At=At||Bt!==Ct}return At=At||j.length!==Object.keys(nt).length,At?mt:nt}}function compose(...s){return s.length===0?o=>o:s.length===1?s[0]:s.reduce((o,_)=>(...j)=>o(_(...j)))}function applyMiddleware(...s){return o=>(_,j)=>{const et=o(_,j);let st=()=>{throw new Error(formatProdErrorMessage$1(15))};const nt={getState:et.getState,dispatch:(At,...mt)=>st(At,...mt)},ct=s.map(At=>At(nt));return st=compose(...ct)(et.dispatch),{...et,dispatch:st}}}function isAction(s){return isPlainObject$1(s)&&"type"in s&&typeof s.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(s,...o){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(s){return!!s&&!!s[DRAFT_STATE]}function isDraftable(s){var o;return s?isPlainObject(s)||Array.isArray(s)||!!s[DRAFTABLE]||!!((o=s.constructor)!=null&&o[DRAFTABLE])||isMap(s)||isSet(s):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(s){if(!s||typeof s!="object")return!1;const o=getPrototypeOf(s);if(o===null)return!0;const _=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return _===Object?!0:typeof _=="function"&&Function.toString.call(_)===objectCtorString}function each(s,o){getArchtype(s)===0?Reflect.ownKeys(s).forEach(_=>{o(_,s[_],s)}):s.forEach((_,j)=>o(j,_,s))}function getArchtype(s){const o=s[DRAFT_STATE];return o?o.type_:Array.isArray(s)?1:isMap(s)?2:isSet(s)?3:0}function has(s,o){return getArchtype(s)===2?s.has(o):Object.prototype.hasOwnProperty.call(s,o)}function set$1(s,o,_){const j=getArchtype(s);j===2?s.set(o,_):j===3?s.add(_):s[o]=_}function is(s,o){return s===o?s!==0||1/s===1/o:s!==s&&o!==o}function isMap(s){return s instanceof Map}function isSet(s){return s instanceof Set}function latest(s){return s.copy_||s.base_}function shallowCopy(s,o){if(isMap(s))return new Map(s);if(isSet(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const _=isPlainObject(s);if(o===!0||o==="class_only"&&!_){const j=Object.getOwnPropertyDescriptors(s);delete j[DRAFT_STATE];let et=Reflect.ownKeys(j);for(let st=0;st<et.length;st++){const nt=et[st],ct=j[nt];ct.writable===!1&&(ct.writable=!0,ct.configurable=!0),(ct.get||ct.set)&&(j[nt]={configurable:!0,writable:!0,enumerable:ct.enumerable,value:s[nt]})}return Object.create(getPrototypeOf(s),j)}else{const j=getPrototypeOf(s);if(j!==null&&_)return{...s};const et=Object.create(j);return Object.assign(et,s)}}function freeze(s,o=!1){return isFrozen(s)||isDraft(s)||!isDraftable(s)||(getArchtype(s)>1&&(s.set=s.add=s.clear=s.delete=dontMutateFrozenCollections),Object.freeze(s),o&&Object.entries(s).forEach(([_,j])=>freeze(j,!0))),s}function dontMutateFrozenCollections(){die(2)}function isFrozen(s){return Object.isFrozen(s)}var plugins={};function getPlugin(s){const o=plugins[s];return o||die(0,s),o}var currentScope;function getCurrentScope(){return currentScope}function createScope(s,o){return{drafts_:[],parent_:s,immer_:o,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(s,o){o&&(getPlugin("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=o)}function revokeScope(s){leaveScope(s),s.drafts_.forEach(revokeDraft),s.drafts_=null}function leaveScope(s){s===currentScope&&(currentScope=s.parent_)}function enterScope(s){return currentScope=createScope(currentScope,s)}function revokeDraft(s){const o=s[DRAFT_STATE];o.type_===0||o.type_===1?o.revoke_():o.revoked_=!0}function processResult(s,o){o.unfinalizedDrafts_=o.drafts_.length;const _=o.drafts_[0];return s!==void 0&&s!==_?(_[DRAFT_STATE].modified_&&(revokeScope(o),die(4)),isDraftable(s)&&(s=finalize(o,s),o.parent_||maybeFreeze(o,s)),o.patches_&&getPlugin("Patches").generateReplacementPatches_(_[DRAFT_STATE].base_,s,o.patches_,o.inversePatches_)):s=finalize(o,_,[]),revokeScope(o),o.patches_&&o.patchListener_(o.patches_,o.inversePatches_),s!==NOTHING?s:void 0}function finalize(s,o,_){if(isFrozen(o))return o;const j=o[DRAFT_STATE];if(!j)return each(o,(et,st)=>finalizeProperty(s,j,o,et,st,_)),o;if(j.scope_!==s)return o;if(!j.modified_)return maybeFreeze(s,j.base_,!0),j.base_;if(!j.finalized_){j.finalized_=!0,j.scope_.unfinalizedDrafts_--;const et=j.copy_;let st=et,nt=!1;j.type_===3&&(st=new Set(et),et.clear(),nt=!0),each(st,(ct,At)=>finalizeProperty(s,j,et,ct,At,_,nt)),maybeFreeze(s,et,!1),_&&s.patches_&&getPlugin("Patches").generatePatches_(j,_,s.patches_,s.inversePatches_)}return j.copy_}function finalizeProperty(s,o,_,j,et,st,nt){if(isDraft(et)){const ct=st&&o&&o.type_!==3&&!has(o.assigned_,j)?st.concat(j):void 0,At=finalize(s,et,ct);if(set$1(_,j,At),isDraft(At))s.canAutoFreeze_=!1;else return}else nt&&_.add(et);if(isDraftable(et)&&!isFrozen(et)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;finalize(s,et),(!o||!o.scope_.parent_)&&typeof j!="symbol"&&Object.prototype.propertyIsEnumerable.call(_,j)&&maybeFreeze(s,et)}}function maybeFreeze(s,o,_=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&freeze(o,_)}function createProxyProxy(s,o){const _=Array.isArray(s),j={type_:_?1:0,scope_:o?o.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:o,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let et=j,st=objectTraps;_&&(et=[j],st=arrayTraps);const{revoke:nt,proxy:ct}=Proxy.revocable(et,st);return j.draft_=ct,j.revoke_=nt,ct}var objectTraps={get(s,o){if(o===DRAFT_STATE)return s;const _=latest(s);if(!has(_,o))return readPropFromProto(s,_,o);const j=_[o];return s.finalized_||!isDraftable(j)?j:j===peek(s.base_,o)?(prepareCopy(s),s.copy_[o]=createProxy(j,s)):j},has(s,o){return o in latest(s)},ownKeys(s){return Reflect.ownKeys(latest(s))},set(s,o,_){const j=getDescriptorFromProto(latest(s),o);if(j!=null&&j.set)return j.set.call(s.draft_,_),!0;if(!s.modified_){const et=peek(latest(s),o),st=et==null?void 0:et[DRAFT_STATE];if(st&&st.base_===_)return s.copy_[o]=_,s.assigned_[o]=!1,!0;if(is(_,et)&&(_!==void 0||has(s.base_,o)))return!0;prepareCopy(s),markChanged(s)}return s.copy_[o]===_&&(_!==void 0||o in s.copy_)||Number.isNaN(_)&&Number.isNaN(s.copy_[o])||(s.copy_[o]=_,s.assigned_[o]=!0),!0},deleteProperty(s,o){return peek(s.base_,o)!==void 0||o in s.base_?(s.assigned_[o]=!1,prepareCopy(s),markChanged(s)):delete s.assigned_[o],s.copy_&&delete s.copy_[o],!0},getOwnPropertyDescriptor(s,o){const _=latest(s),j=Reflect.getOwnPropertyDescriptor(_,o);return j&&{writable:!0,configurable:s.type_!==1||o!=="length",enumerable:j.enumerable,value:_[o]}},defineProperty(){die(11)},getPrototypeOf(s){return getPrototypeOf(s.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(s,o)=>{arrayTraps[s]=function(){return arguments[0]=arguments[0][0],o.apply(this,arguments)}});arrayTraps.deleteProperty=function(s,o){return arrayTraps.set.call(this,s,o,void 0)};arrayTraps.set=function(s,o,_){return objectTraps.set.call(this,s[0],o,_,s[0])};function peek(s,o){const _=s[DRAFT_STATE];return(_?latest(_):s)[o]}function readPropFromProto(s,o,_){var et;const j=getDescriptorFromProto(o,_);return j?"value"in j?j.value:(et=j.get)==null?void 0:et.call(s.draft_):void 0}function getDescriptorFromProto(s,o){if(!(o in s))return;let _=getPrototypeOf(s);for(;_;){const j=Object.getOwnPropertyDescriptor(_,o);if(j)return j;_=getPrototypeOf(_)}}function markChanged(s){s.modified_||(s.modified_=!0,s.parent_&&markChanged(s.parent_))}function prepareCopy(s){s.copy_||(s.copy_=shallowCopy(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(o,_,j)=>{if(typeof o=="function"&&typeof _!="function"){const st=_;_=o;const nt=this;return function(At=st,...mt){return nt.produce(At,gt=>_.call(this,gt,...mt))}}typeof _!="function"&&die(6),j!==void 0&&typeof j!="function"&&die(7);let et;if(isDraftable(o)){const st=enterScope(this),nt=createProxy(o,void 0);let ct=!0;try{et=_(nt),ct=!1}finally{ct?revokeScope(st):leaveScope(st)}return usePatchesInScope(st,j),processResult(et,st)}else if(!o||typeof o!="object"){if(et=_(o),et===void 0&&(et=o),et===NOTHING&&(et=void 0),this.autoFreeze_&&freeze(et,!0),j){const st=[],nt=[];getPlugin("Patches").generateReplacementPatches_(o,et,st,nt),j(st,nt)}return et}else die(1,o)},this.produceWithPatches=(o,_)=>{if(typeof o=="function")return(nt,...ct)=>this.produceWithPatches(nt,At=>o(At,...ct));let j,et;return[this.produce(o,_,(nt,ct)=>{j=nt,et=ct}),j,et]},typeof(s==null?void 0:s.autoFreeze)=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof(s==null?void 0:s.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){isDraftable(s)||die(8),isDraft(s)&&(s=current(s));const o=enterScope(this),_=createProxy(s,void 0);return _[DRAFT_STATE].isManual_=!0,leaveScope(o),_}finishDraft(s,o){const _=s&&s[DRAFT_STATE];(!_||!_.isManual_)&&die(9);const{scope_:j}=_;return usePatchesInScope(j,o),processResult(void 0,j)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,o){let _;for(_=o.length-1;_>=0;_--){const et=o[_];if(et.path.length===0&&et.op==="replace"){s=et.value;break}}_>-1&&(o=o.slice(_+1));const j=getPlugin("Patches").applyPatches_;return isDraft(s)?j(s,o):this.produce(s,et=>j(et,o))}};function createProxy(s,o){const _=isMap(s)?getPlugin("MapSet").proxyMap_(s,o):isSet(s)?getPlugin("MapSet").proxySet_(s,o):createProxyProxy(s,o);return(o?o.scope_:getCurrentScope()).drafts_.push(_),_}function current(s){return isDraft(s)||die(10,s),currentImpl(s)}function currentImpl(s){if(!isDraftable(s)||isFrozen(s))return s;const o=s[DRAFT_STATE];let _;if(o){if(!o.modified_)return o.base_;o.finalized_=!0,_=shallowCopy(s,o.scope_.immer_.useStrictShallowCopy_)}else _=shallowCopy(s,!0);return each(_,(j,et)=>{set$1(_,j,currentImpl(et))}),o&&(o.finalized_=!1),_}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function createThunkMiddleware(s){return({dispatch:_,getState:j})=>et=>st=>typeof st=="function"?st(_,j,s):et(st)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(s,o){function _(...j){if(o){let et=o(...j);if(!et)throw new Error(formatProdErrorMessage(0));return{type:s,payload:et.payload,..."meta"in et&&{meta:et.meta},..."error"in et&&{error:et.error}}}return{type:s,payload:j[0]}}return _.toString=()=>`${s}`,_.type=s,_.match=j=>isAction(j)&&j.type===s,_}var Tuple=class Jee extends Array{constructor(...o){super(...o),Object.setPrototypeOf(this,Jee.prototype)}static get[Symbol.species](){return Jee}concat(...o){return super.concat.apply(this,o)}prepend(...o){return o.length===1&&Array.isArray(o[0])?new Jee(...o[0].concat(this)):new Jee(...o.concat(this))}};function freezeDraftable(s){return isDraftable(s)?produce(s,()=>{}):s}function emplace(s,o,_){if(s.has(o)){let et=s.get(o);return _.update&&(et=_.update(et,o,s),s.set(o,et)),et}if(!_.insert)throw new Error(formatProdErrorMessage(10));const j=_.insert(o,s);return s.set(o,j),j}function isBoolean(s){return typeof s=="boolean"}var buildGetDefaultMiddleware=()=>function(o){const{thunk:_=!0,immutableCheck:j=!0,serializableCheck:et=!0,actionCreatorCheck:st=!0}=o??{};let nt=new Tuple;return _&&(isBoolean(_)?nt.push(thunk):nt.push(withExtraArgument(_.extraArgument))),nt},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=s=>o=>{setTimeout(o,s)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(s={type:"raf"})=>o=>(..._)=>{const j=o(..._);let et=!0,st=!1,nt=!1;const ct=new Set,At=s.type==="tick"?queueMicrotask:s.type==="raf"?rAF:s.type==="callback"?s.queueNotification:createQueueWithTimer(s.timeout),mt=()=>{nt=!1,st&&(st=!1,ct.forEach(gt=>gt()))};return Object.assign({},j,{subscribe(gt){const _t=()=>et&&gt(),Et=j.subscribe(_t);return ct.add(gt),()=>{Et(),ct.delete(gt)}},dispatch(gt){var _t;try{return et=!((_t=gt==null?void 0:gt.meta)!=null&&_t[SHOULD_AUTOBATCH]),st=!et,st&&(nt||(nt=!0,At(mt))),j.dispatch(gt)}finally{et=!0}}})},buildGetDefaultEnhancers=s=>function(_){const{autoBatch:j=!0}=_??{};let et=new Tuple(s);return j&&et.push(autoBatchEnhancer(typeof j=="object"?j:void 0)),et};function configureStore(s){const o=buildGetDefaultMiddleware(),{reducer:_=void 0,middleware:j,devTools:et=!0,preloadedState:st=void 0,enhancers:nt=void 0}=s||{};let ct;if(typeof _=="function")ct=_;else if(isPlainObject$1(_))ct=combineReducers(_);else throw new Error(formatProdErrorMessage(1));let At;typeof j=="function"?At=j(o):At=o();let mt=compose;et&&(mt=composeWithDevTools({trace:!1,...typeof et=="object"&&et}));const gt=applyMiddleware(...At),_t=buildGetDefaultEnhancers(gt);let Et=typeof nt=="function"?nt(_t):_t();const Ct=mt(...Et);return createStore(ct,st,Ct)}function executeReducerBuilderCallback(s){const o={},_=[];let j;const et={addCase(st,nt){const ct=typeof st=="string"?st:st.type;if(!ct)throw new Error(formatProdErrorMessage(28));if(ct in o)throw new Error(formatProdErrorMessage(29));return o[ct]=nt,et},addMatcher(st,nt){return _.push({matcher:st,reducer:nt}),et},addDefaultCase(st){return j=st,et}};return s(et),[o,_,j]}function isStateFunction(s){return typeof s=="function"}function createReducer(s,o){let[_,j,et]=executeReducerBuilderCallback(o),st;if(isStateFunction(s))st=()=>freezeDraftable(s());else{const ct=freezeDraftable(s);st=()=>ct}function nt(ct=st(),At){let mt=[_[At.type],...j.filter(({matcher:gt})=>gt(At)).map(({reducer:gt})=>gt)];return mt.filter(gt=>!!gt).length===0&&(mt=[et]),mt.reduce((gt,_t)=>{if(_t)if(isDraft(gt)){const Ct=_t(gt,At);return Ct===void 0?gt:Ct}else{if(isDraftable(gt))return produce(gt,Et=>_t(Et,At));{const Et=_t(gt,At);if(Et===void 0){if(gt===null)return gt;throw Error("A case reducer on a non-draftable value must not return undefined")}return Et}}return gt},ct)}return nt.getInitialState=st,nt}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(s,o){return`${s}/${o}`}function buildCreateSlice({creators:s}={}){var _;const o=(_=s==null?void 0:s.asyncThunk)==null?void 0:_[asyncThunkSymbol];return function(et){const{name:st,reducerPath:nt=st}=et;if(!st)throw new Error(formatProdErrorMessage(11));typeof process<"u";const ct=(typeof et.reducers=="function"?et.reducers(buildReducerCreators()):et.reducers)||{},At=Object.keys(ct),mt={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},gt={addCase(Gt,dr){const ts=typeof Gt=="string"?Gt:Gt.type;if(!ts)throw new Error(formatProdErrorMessage(12));if(ts in mt.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return mt.sliceCaseReducersByType[ts]=dr,gt},addMatcher(Gt,dr){return mt.sliceMatchers.push({matcher:Gt,reducer:dr}),gt},exposeAction(Gt,dr){return mt.actionCreators[Gt]=dr,gt},exposeCaseReducer(Gt,dr){return mt.sliceCaseReducersByName[Gt]=dr,gt}};At.forEach(Gt=>{const dr=ct[Gt],ts={reducerName:Gt,type:getType(st,Gt),createNotation:typeof et.reducers=="function"};isAsyncThunkSliceReducerDefinition(dr)?handleThunkCaseReducerDefinition(ts,dr,gt,o):handleNormalReducerDefinition(ts,dr,gt)});function _t(){const[Gt={},dr=[],ts=void 0]=typeof et.extraReducers=="function"?executeReducerBuilderCallback(et.extraReducers):[et.extraReducers],es={...Gt,...mt.sliceCaseReducersByType};return createReducer(et.initialState,ds=>{for(let tn in es)ds.addCase(tn,es[tn]);for(let tn of mt.sliceMatchers)ds.addMatcher(tn.matcher,tn.reducer);for(let tn of dr)ds.addMatcher(tn.matcher,tn.reducer);ts&&ds.addDefaultCase(ts)})}const Et=Gt=>Gt,Ct=new Map;let Bt;function Dt(Gt,dr){return Bt||(Bt=_t()),Bt(Gt,dr)}function Ft(){return Bt||(Bt=_t()),Bt.getInitialState()}function Rt(Gt,dr=!1){function ts(ds){let tn=ds[Gt];return typeof tn>"u"&&dr&&(tn=Ft()),tn}function es(ds=Et){const tn=emplace(Ct,dr,{insert:()=>new WeakMap});return emplace(tn,ds,{insert:()=>{const rn={};for(const[un,$n]of Object.entries(et.selectors??{}))rn[un]=wrapSelector($n,ds,Ft,dr);return rn}})}return{reducerPath:Gt,getSelectors:es,get selectors(){return es(ts)},selectSlice:ts}}const Nt={name:st,reducer:Dt,actions:mt.actionCreators,caseReducers:mt.sliceCaseReducersByName,getInitialState:Ft,...Rt(nt),injectInto(Gt,{reducerPath:dr,...ts}={}){const es=dr??nt;return Gt.inject({reducerPath:es,reducer:Dt},ts),{...Nt,...Rt(es,!0)}}};return Nt}}function wrapSelector(s,o,_,j){function et(st,...nt){let ct=o(st);return typeof ct>"u"&&j&&(ct=_()),s(ct,...nt)}return et.unwrapped=s,et}var createSlice=buildCreateSlice();function buildReducerCreators(){function s(o,_){return{_reducerDefinitionType:"asyncThunk",payloadCreator:o,..._}}return s.withTypes=()=>s,{reducer(o){return Object.assign({[o.name](..._){return o(..._)}}[o.name],{_reducerDefinitionType:"reducer"})},preparedReducer(o,_){return{_reducerDefinitionType:"reducerWithPrepare",prepare:o,reducer:_}},asyncThunk:s}}function handleNormalReducerDefinition({type:s,reducerName:o,createNotation:_},j,et){let st,nt;if("reducer"in j){if(_&&!isCaseReducerWithPrepareDefinition(j))throw new Error(formatProdErrorMessage(17));st=j.reducer,nt=j.prepare}else st=j;et.addCase(s,st).exposeCaseReducer(o,st).exposeAction(o,nt?createAction(s,nt):createAction(s))}function isAsyncThunkSliceReducerDefinition(s){return s._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(s){return s._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:s,reducerName:o},_,j,et){if(!et)throw new Error(formatProdErrorMessage(18));const{payloadCreator:st,fulfilled:nt,pending:ct,rejected:At,settled:mt,options:gt}=_,_t=et(s,st,gt);j.exposeAction(o,_t),nt&&j.addCase(_t.fulfilled,nt),ct&&j.addCase(_t.pending,ct),At&&j.addCase(_t.rejected,At),mt&&j.addMatcher(_t.settled,mt),j.exposeCaseReducer(o,{fulfilled:nt||noop,pending:ct||noop,rejected:At||noop,settled:mt||noop})}function noop(){}function formatProdErrorMessage(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}const initialState$1={details:{},bank_details:{}},UserSlice=createSlice({name:"user",initialState:initialState$1,reducers:{setDetails:(s,o)=>{s.details=o.payload},setBankDetails:(s,o)=>{s.bank_details=o.payload},updateBankDetails:(s,o)=>{s.bank_details=o.payload}}}),{setBankDetails,setDetails,updateBankDetails}=UserSlice.actions,userSlice=UserSlice.reducer;var PulseLoader$1={},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(s){for(var o,_=1,j=arguments.length;_<j;_++){o=arguments[_];for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(s[et]=o[et])}return s},__assign$1.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,o,_,j){j===void 0&&(j=_);var et=Object.getOwnPropertyDescriptor(o,_);(!et||("get"in et?!o.__esModule:et.writable||et.configurable))&&(et={enumerable:!0,get:function(){return o[_]}}),Object.defineProperty(s,j,et)}:function(s,o,_,j){j===void 0&&(j=_),s[j]=o[_]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var _ in s)_!=="default"&&Object.prototype.hasOwnProperty.call(s,_)&&__createBinding(o,s,_);return __setModuleDefault(o,s),o},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(s,o){var _={};for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&o.indexOf(j)<0&&(_[j]=s[j]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,j=Object.getOwnPropertySymbols(s);et<j.length;et++)o.indexOf(j[et])<0&&Object.prototype.propertyIsEnumerable.call(s,j[et])&&(_[j[et]]=s[j[et]]);return _};Object.defineProperty(PulseLoader$1,"__esModule",{value:!0});var React=__importStar(reactExports),unitConverter_1=unitConverter,animation_1=animation,pulse=(0,animation_1.createAnimation)("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function PulseLoader(s){var o=s.loading,_=o===void 0?!0:o,j=s.color,et=j===void 0?"#000000":j,st=s.speedMultiplier,nt=st===void 0?1:st,ct=s.cssOverride,At=ct===void 0?{}:ct,mt=s.size,gt=mt===void 0?15:mt,_t=s.margin,Et=_t===void 0?2:_t,Ct=__rest(s,["loading","color","speedMultiplier","cssOverride","size","margin"]),Bt=__assign$1({display:"inherit"},At),Dt=function(Ft){return{backgroundColor:et,width:(0,unitConverter_1.cssValue)(gt),height:(0,unitConverter_1.cssValue)(gt),margin:(0,unitConverter_1.cssValue)(Et),borderRadius:"100%",display:"inline-block",animation:"".concat(pulse," ").concat(.75/nt,"s ").concat(Ft*.12/nt,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return _?React.createElement("span",__assign$1({style:Bt},Ct),React.createElement("span",{style:Dt(1)}),React.createElement("span",{style:Dt(2)}),React.createElement("span",{style:Dt(3)})):null}var _default=PulseLoader$1.default=PulseLoader;const DashBoardAddMoney=()=>{var kI,q1,UE;const s=useDispatch(),{details:o,bank_details:_}=useSelector(a1=>a1.user),[j,et]=reactExports.useState(!1),[st,nt]=reactExports.useState(!1),[ct,At]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),[_t,Et]=reactExports.useState(!1),[Ct,Bt]=reactExports.useState(0),[Dt,Ft]=reactExports.useState(0),[Rt,Nt]=reactExports.useState(!1);reactExports.useState("0xxxxxxx");const[Gt,dr]=reactExports.useState(""),[ts,es]=reactExports.useState(!1),[ds,tn]=reactExports.useState(!1),[rn,un]=reactExports.useState(!0),[$n,kn]=reactExports.useState(!1),[lo,Il]=reactExports.useState("");window.location.pathname.split("/"),reactExports.useEffect(()=>{un(!0),setTimeout(()=>{un(!1)},2e3)},[]);const Ko=()=>{et(!j),Bt(0)},ru=()=>{nt(!st)},Tn=()=>{At(!ct)},ao=()=>{Et(!_t),Ft(0)},uu=()=>{es(!ts)},hu=a1=>{Bt(a1.target.value),console.log(a1.target.value)},tA=a1=>{Ft(a1.target.value),console.log(a1.target.value)},Sv=a1=>{navigator.clipboard.writeText(a1),tn(!0)},W0=setTimeout(()=>{tn(!1)},1e3),l1=a1=>{const{value:LE}=a1.target;LE.length>11||Il(LE)},X1=async()=>{kn(!0);const a1=await UPDATE_BVN({bvn:lo});if(console.log(a1),!a1.success){alert("failed to update BVN");return}alert("successfully submitted bvn"),window.location.reload()};return useQuery({queryKey:["accountNumber"],queryFn:async()=>{var LE,rS,gD,NI;const a1=await GENERATE_WATU_BANK_ACCOUNT();return console.log("===================================="),console.log(a1,"oma"),a1.code===200?(s(updateBankDetails((rS=(LE=a1==null?void 0:a1.data)==null?void 0:LE.vA)==null?void 0:rS.data)),(NI=(gD=a1==null?void 0:a1.data)==null?void 0:gD.vA)==null?void 0:NI.data):a1.status!==200?(s(updateBankDetails({})),a1.data.errorMessage=="Cannot creeate Account, BVN not provided"?gt(!0):(console.log("===================================="),console.log(a1.data.errorMessage),console.log("====================================")),{}):a1}}),rn?jsxRuntimeExports.jsx("div",{className:"loading_div_area",children:jsxRuntimeExports.jsx(Lottie,{animationData:loading,loop:!1,autoPlay:!0,className:"loadingIcon",preserveAspectRatio:"xMidYMid meet"})}):jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_title",children:"Add Money"}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_sub_title",children:"How would you like to receive money?"}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_cont1",children:[jsxRuntimeExports.jsx("img",{src:"/img/add_icon.png",alt:"",className:"Transfer_withdraw_div_cont1_icon"}),jsxRuntimeExports.jsx("div",{className:"Transfer_withdraw_div_cont1_txt",children:"Add Money"})]}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body",children:jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area",children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:()=>{mt===!0?Nt(!0):ao()},children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:bankIcon,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Bank Transfer"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:ru,children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:blockChainIcon,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Blockchain Payment"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:Tn,children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:fortUsers,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Receive From Cube Users"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]})]})}),j===!0?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:Ko,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1",children:[jsxRuntimeExports.jsx(Lottie,{animationData:cardIcon,loop:!1,autoPlay:!0,className:"receiveMoneyModalDiv_area1_img",preserveAspectRatio:"xMidYMid meet"}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_text",children:"You will be charged for adding money with a card."})]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2",children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2_inputArea1",children:[jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea_title",children:"Enter Amount"}),jsxRuntimeExports.jsx(NumericFormat,{value:Ct,displayType:"number",thousandSeparator:!0,prefix:"₦ ",name:"amount",onChange:hu,className:"loginArea1_inputArea_input"})]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea2",children:jsxRuntimeExports.jsx("button",{className:"receiveMoneyModalDiv_area2_inputArea2_btn",disabled:Ct<=0,children:"Proceed to Paystack"})})]})]})}):null,_t===!0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ts==!1?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:ao,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1",children:[jsxRuntimeExports.jsx(Lottie,{animationData:bankIcon,loop:!1,autoPlay:!0,className:"receiveMoneyModalDiv_area1_img",preserveAspectRatio:"xMidYMid meet"}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_text",children:"Fund Via Bank Transfer"})]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2",children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2_inputArea1",children:[jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea_title",children:"Enter Amount"}),jsxRuntimeExports.jsx(NumericFormat,{value:Dt,displayType:"number",thousandSeparator:!0,prefix:"₦ ",name:"amount",onChange:tA,className:"loginArea1_inputArea_input"})]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea2",children:jsxRuntimeExports.jsx("button",{className:"receiveMoneyModalDiv_area2_inputArea2_btn",disabled:Dt<=0,onClick:uu,children:"Continue"})})]})]})}):jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:uu,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),_!=null&&_.account_number?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1",children:[jsxRuntimeExports.jsx(Lottie,{animationData:bankIcon,loop:!1,autoPlay:!0,className:"receiveMoneyModalDiv_area1_img",preserveAspectRatio:"xMidYMid meet"}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_text",children:"The account number provided is unique to your Cube account."})]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2",children:[jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div",children:[jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_head",children:"1. Copy the account details provided below."}),jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_body_area1_head",children:"Bank Name"}),jsxRuntimeExports.jsxs("div",{children:[_==null?void 0:_.bank_name," ("," ",_==null?void 0:_.account_name,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_body_area1_head",children:"Bank Account Number"}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1_body",children:[_==null?void 0:_.account_number,_==null?void 0:_.accountName]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1",children:jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_head",children:["2. Transfer ",Dt," using Mobile Banking."]})}),jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1",children:jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_head",children:"3. Your Fort balance will be funded immediately."})})]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea2",children:jsxRuntimeExports.jsx("button",{className:"receiveMoneyModalDiv_area2_inputArea2_btn",children:"Copy Account Number"})})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div",children:[jsxRuntimeExports.jsx("div",{className:"signup_div_section_div_title",children:"Submit BVN to Generate Account!"}),jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_container_form",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"signup_div_section_div_container_form_label",children:"BVN:"}),jsxRuntimeExports.jsx("div",{className:"password_div",children:jsxRuntimeExports.jsx("input",{type:"number",id:"password",name:"password",onChange:l1,className:"signup_div_section_div_container_form_input_pasowrd",autoComplete:"off",value:lo})}),jsxRuntimeExports.jsx("button",{className:"signup_div_section_div_container_form_btn",onClick:X1,children:$n?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(_default,{color:"#fff",height:20})}):" Submits"})]})]})})})]})})}):null,st===!0?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:ru,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_1",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_title_cont",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_title",children:"Deposit NGNT"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_para",children:"Add funds directly from a blockchain account"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Coin:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"https://i.imgur.com/JXm7zwC.png",alt:"",className:"depositMoneyDiv_cont_body_input_div_div_cont1_img"}),"Naira Token"]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont2",children:"NGNT"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div2",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Network:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"/img/bsc_icon.png",alt:"",className:"depositMoneyDiv_cont_body_input_div_div_cont1_img"}),"EGOChain"]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont2",children:"EGO20"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_qr_div",children:[jsxRuntimeExports.jsx(QRCode_1,{value:(kI=getUserInfo())==null?void 0:kI.wallet_address,quietZone:5,eyeColor:"#fff",bgColor:"#161619",fgColor:"#fff",logoImage:"https://i.imgur.com/JXm7zwC.png",eyeRadius:[[5,5,0,5],[5,5,5,0],[5,0,5,5]],removeQrCodeBehindLogo:!0,logoPaddingStyle:"circle",className:"depositMoneyDiv_cont_body_qr_div_qr"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_qr_div_txt",children:"Scan Qrcode or copy wallet address to make payment"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"WalletAddress:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_input_div",children:[jsxRuntimeExports.jsx("input",{type:"text",value:(q1=getUserInfo())==null?void 0:q1.wallet_address,className:"depositMoneyDiv_cont_body_wallet_addr_div_input",id:"myInput"}),jsxRuntimeExports.jsxs("button",{className:"depositMoneyDiv_cont_body_wallet_addr_div_btn",onClick:()=>{var a1;return Sv((a1=getUserInfo())==null?void 0:a1.wallet_address)},children:["Copy",jsxRuntimeExports.jsx(default_1$d,{className:"depositMoneyDiv_cont_body_wallet_addr_div_btn_icon"}),ds==!0?jsxRuntimeExports.jsx("div",{className:"copiedToClipBoardDiv",onChange:W0,children:"Wallet address copied to clipboard"}):null]})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Send only NGNT to this deposit address"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Ensure the network is EGOChain (EGO20)"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Do not send Nfts to this address"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_wallet_txt",children:Gt})]})}):null,ct===!0?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:Tn,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1",children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1_cont1",children:[jsxRuntimeExports.jsx(QRCode_1,{value:(UE=getUserInfo())==null?void 0:UE.username,quietZone:5,eyeColor:"#fff",bgColor:"#161619",fgColor:"#fff",logoImage:"https://i.imgur.com/JXm7zwC.png",eyeRadius:[[5,5,0,5],[5,5,5,0],[5,0,5,5]],removeQrCodeBehindLogo:!0,logoPaddingStyle:"circle",className:"depositMoneyDiv_cont_body_qr_div_qr"}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_cont1_t",style:{textAlign:"left"},children:"Scan Qrcode or copy username below to receive money from other Cube users."})]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1_cont2_address",children:[jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_cont2_heading",children:"Cube username"}),jsxRuntimeExports.jsx("div",{className:"copy_qr_code_txt_div",children:jsxRuntimeExports.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"5px",justifyContent:"space-between",width:"100%"},children:[jsxRuntimeExports.jsx("span",{className:"walletAddress_txt",children:"cyntax"}),jsxRuntimeExports.jsx(default_1$9,{className:"file_icon_copy",onClick:()=>Sv("cyntax")}),ds==!0?jsxRuntimeExports.jsx("div",{className:"copiedToClipBoardDiv",onChange:W0,children:"Username copied to clipboard"}):null]})})]})]})]})}):null,Rt===!0?jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal",children:jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont",children:[jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_title",children:"BVN REQUIRED"}),jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_para",children:"Please complete your identity verification to use this feauture."}),jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont_btn_divs",children:[jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn1",onClick:()=>Nt(!1),children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn",children:"Complete verification"})]})]})}):null]})};/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */var e$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */const y=(s,o)=>{const _=reactExports.forwardRef(({color:j="currentColor",size:et=24,strokeWidth:st=1.5,className:nt="",children:ct,...At},mt)=>{const gt={ref:mt,...e$1,width:et,height:et,strokeWidth:st,color:j,className:nt,...At};return reactExports.createElement("svg",gt,(o==null?void 0:o.map(([_t,Et])=>reactExports.createElement(_t,{key:Et.id,...Et})))??[],...Array.isArray(ct)?ct:[ct])});return _.displayName=`${s}Icon`,_};/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */const r$3=y("DashboardSquare02Icon",[["path",{d:"M2 6C2 4.11438 2 3.17157 2.58579 2.58579C3.17157 2 4.11438 2 6 2C7.88562 2 8.82843 2 9.41421 2.58579C10 3.17157 10 4.11438 10 6V8C10 9.88562 10 10.8284 9.41421 11.4142C8.82843 12 7.88562 12 6 12C4.11438 12 3.17157 12 2.58579 11.4142C2 10.8284 2 9.88562 2 8V6Z",stroke:"currentColor",key:"k0"}],["path",{d:"M2 19C2 18.0681 2 17.6022 2.15224 17.2346C2.35523 16.7446 2.74458 16.3552 3.23463 16.1522C3.60218 16 4.06812 16 5 16H7C7.93188 16 8.39782 16 8.76537 16.1522C9.25542 16.3552 9.64477 16.7446 9.84776 17.2346C10 17.6022 10 18.0681 10 19C10 19.9319 10 20.3978 9.84776 20.7654C9.64477 21.2554 9.25542 21.6448 8.76537 21.8478C8.39782 22 7.93188 22 7 22H5C4.06812 22 3.60218 22 3.23463 21.8478C2.74458 21.6448 2.35523 21.2554 2.15224 20.7654C2 20.3978 2 19.9319 2 19Z",stroke:"currentColor",key:"k1"}],["path",{d:"M14 16C14 14.1144 14 13.1716 14.5858 12.5858C15.1716 12 16.1144 12 18 12C19.8856 12 20.8284 12 21.4142 12.5858C22 13.1716 22 14.1144 22 16V18C22 19.8856 22 20.8284 21.4142 21.4142C20.8284 22 19.8856 22 18 22C16.1144 22 15.1716 22 14.5858 21.4142C14 20.8284 14 19.8856 14 18V16Z",stroke:"currentColor",key:"k2"}],["path",{d:"M14 5C14 4.06812 14 3.60218 14.1522 3.23463C14.3552 2.74458 14.7446 2.35523 15.2346 2.15224C15.6022 2 16.0681 2 17 2H19C19.9319 2 20.3978 2 20.7654 2.15224C21.2554 2.35523 21.6448 2.74458 21.8478 3.23463C22 3.60218 22 4.06812 22 5C22 5.93188 22 6.39782 21.8478 6.76537C21.6448 7.25542 21.2554 7.64477 20.7654 7.84776C20.3978 8 19.9319 8 19 8H17C16.0681 8 15.6022 8 15.2346 7.84776C14.7446 7.64477 14.3552 7.25542 14.1522 6.76537C14 6.39782 14 5.93188 14 5Z",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */const r$2=y("Invoice03Icon",[["path",{d:"M20.016 2C18.9026 2 18 4.68629 18 8H20.016C20.9876 8 21.4734 8 21.7741 7.66455C22.0749 7.32909 22.0225 6.88733 21.9178 6.00381C21.6414 3.67143 20.8943 2 20.016 2Z",stroke:"currentColor",key:"k0"}],["path",{d:"M18 8.05426V18.6458C18 20.1575 18 20.9133 17.538 21.2108C16.7831 21.6971 15.6161 20.6774 15.0291 20.3073C14.5441 20.0014 14.3017 19.8485 14.0325 19.8397C13.7417 19.8301 13.4949 19.9768 12.9709 20.3073L11.06 21.5124C10.5445 21.8374 10.2868 22 10 22C9.71321 22 9.45546 21.8374 8.94 21.5124L7.02913 20.3073C6.54415 20.0014 6.30166 19.8485 6.03253 19.8397C5.74172 19.8301 5.49493 19.9768 4.97087 20.3073C4.38395 20.6774 3.21687 21.6971 2.46195 21.2108C2 20.9133 2 20.1575 2 18.6458V8.05426C2 5.20025 2 3.77325 2.87868 2.88663C3.75736 2 5.17157 2 8 2H20",stroke:"currentColor",key:"k1"}],["path",{d:"M6 6H14",stroke:"currentColor",key:"k2"}],["path",{d:"M8 10H6",stroke:"currentColor",key:"k3"}],["path",{d:"M12.5 10.875C11.6716 10.875 11 11.4626 11 12.1875C11 12.9124 11.6716 13.5 12.5 13.5C13.3284 13.5 14 14.0876 14 14.8125C14 15.5374 13.3284 16.125 12.5 16.125M12.5 10.875C13.1531 10.875 13.7087 11.2402 13.9146 11.75M12.5 10.875V10M12.5 16.125C11.8469 16.125 11.2913 15.7598 11.0854 15.25M12.5 16.125V17",stroke:"currentColor",key:"k4"}]]);/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */const r$1=y("MoneyAdd02Icon",[["path",{d:"M12 19C10.6675 19.6224 8.91707 20 7 20C5.93408 20 4.91969 19.8833 4 19.6726C3.4088 19.5372 3.11319 19.4695 2.75898 19.1892C2.55696 19.0294 2.30483 18.7129 2.19412 18.4803C2 18.0725 2 17.677 2 16.886V6.11397C2 5.12914 3.04003 4.45273 4 4.6726C4.91969 4.88325 5.93408 5 7 5C8.91707 5 10.6675 4.62236 12 4C13.3325 3.37764 15.0829 3 17 3C18.0659 3 19.0803 3.11675 20 3.3274C20.5912 3.46281 20.8868 3.53051 21.241 3.81079C21.443 3.97064 21.6952 4.28705 21.8059 4.51966C22 4.92751 22 5.32299 22 6.11397V11.5",stroke:"currentColor",key:"k0"}],["path",{d:"M18.5 21L18.5 14M15 17.5H22",stroke:"currentColor",key:"k1"}],["path",{d:"M14.5 11.5C14.5 12.8807 13.3807 14 12 14C10.6193 14 9.5 12.8807 9.5 11.5C9.5 10.1193 10.6193 9 12 9C13.3807 9 14.5 10.1193 14.5 11.5Z",stroke:"currentColor",key:"k2"}],["path",{d:"M5.5 12.5L5.5 12.509",stroke:"currentColor",key:"k3"}]]);/**
 * @license hugeicons-react v0.1.3
 *
 * See the LICENSE file in the root directory of this source tree.
 */const r=y("SentIcon",[["path",{d:"M21.0477 3.05293C18.8697 0.707363 2.48648 6.4532 2.50001 8.551C2.51535 10.9299 8.89809 11.6617 10.6672 12.1581C11.7311 12.4565 12.016 12.7625 12.2613 13.8781C13.3723 18.9305 13.9301 21.4435 15.2014 21.4996C17.2278 21.5892 23.1733 5.342 21.0477 3.05293Z",stroke:"currentColor",key:"k0"}],["path",{d:"M11.5 12.5L15 9",stroke:"currentColor",key:"k1"}]]);var PowerSettingsNewTwoTone={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(PowerSettingsNewTwoTone,"__esModule",{value:!0});var default_1$8=PowerSettingsNewTwoTone.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntimeExports;default_1$8=PowerSettingsNewTwoTone.default=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M13 3h-2v10h2zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83"}),"PowerSettingsNewTwoTone");const Logout=()=>{const s=useDispatch(),o=()=>{localStorage.removeItem("x-token"),localStorage.removeItem("user-info"),s(setDetails({})),s(setBankDetails({})),window.location.href="/login"};return jsxRuntimeExports.jsxs("div",{className:"logout_icon ",id:"logout",onClick:o,children:[jsxRuntimeExports.jsx(default_1$8,{className:"dashBoardSideBarDiv_sideBar_div_last_icon"})," ",jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_last_txt",children:" Log Out"})]})},DashboardSideBar=()=>{const[s,o]=reactExports.useState("home"),_=window.location.pathname,j=et=>{let st=et.currentTarget.id;o(st)};return reactExports.useEffect(()=>{_==="/app/home"&&o("home"),_==="/app/add-money"&&o("add"),_==="/app/send-money"&&o("transfer"),_==="/app/all-transactions"&&o("transaction"),_==="/app/pay_bills"&&o("bills")},[]),jsxRuntimeExports.jsxs("div",{className:"dashBoardSideBarDiv_sideBar",children:[jsxRuntimeExports.jsxs(Link,{to:"/app/home",className:s==="home"?"dashBoardSideBarDiv_sideBar_div__active":"dashBoardSideBarDiv_sideBar_div",id:"home",onClick:j,children:[jsxRuntimeExports.jsx(r$3,{size:25,className:"dashBoardSideBarDiv_sideBar_div_icon"}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_txt",children:" Home"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/add-money",className:s==="add"?"dashBoardSideBarDiv_sideBar_div__active":"dashBoardSideBarDiv_sideBar_div",id:"add",onClick:j,children:[jsxRuntimeExports.jsx(r$1,{size:25,className:"dashBoardSideBarDiv_sideBar_div_icon"}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_txt",children:" Add Money"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/fund-egax",className:s==="fund"?"dashBoardSideBarDiv_sideBar_div__active":"dashBoardSideBarDiv_sideBar_div",id:"add",onClick:j,children:[jsxRuntimeExports.jsx(r$1,{size:25,className:"dashBoardSideBarDiv_sideBar_div_icon"}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_txt",children:" Fund Egax"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/send-money",className:s==="transfer"?"dashBoardSideBarDiv_sideBar_div__active":"dashBoardSideBarDiv_sideBar_div",id:"transfer",onClick:j,children:[jsxRuntimeExports.jsx(r,{size:25,className:"dashBoardSideBarDiv_sideBar_div_icon"}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_txt",children:" Transfer"})]}),jsxRuntimeExports.jsxs(Link,{to:"/app/all-transactions",className:s==="transaction"?"dashBoardSideBarDiv_sideBar_div__active":"dashBoardSideBarDiv_sideBar_div",id:"transaction",onClick:j,children:[jsxRuntimeExports.jsx(r$2,{size:25,className:"dashBoardSideBarDiv_sideBar_div_icon"}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_txt",children:" Transactions"})]}),jsxRuntimeExports.jsx("div",{className:"dashBoardSideBarDiv_sideBar_div_last",children:jsxRuntimeExports.jsx(Logout,{})})]})};var NotificationsNoneOutlined={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(NotificationsNoneOutlined,"__esModule",{value:!0});var default_1$7=NotificationsNoneOutlined.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntimeExports;default_1$7=NotificationsNoneOutlined.default=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5z"}),"NotificationsNoneOutlined");const DashboardHeader=()=>jsxRuntimeExports.jsxs("div",{className:"dashBoardHeaderDiv",children:[jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:"dashBoardHeaderDiv_area",children:[jsxRuntimeExports.jsxs("a",{href:"/",className:"header_div_area_1",children:["Cub",jsxRuntimeExports.jsx("span",{className:"header_div_area_1_span",children:"e"})]}),jsxRuntimeExports.jsxs("div",{className:"dashBoardHeaderDiv_area2",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardHeaderDiv_area2_cont1",children:jsxRuntimeExports.jsx(default_1$7,{className:"dashBoardHeaderDiv_area2_cont1_icon"})}),jsxRuntimeExports.jsxs("div",{className:"dashBoardHeaderDiv_area2_cont2",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardHeaderDiv_area2_cont2_div1",children:jsxRuntimeExports.jsx("img",{src:`https://source.boringavatars.com/beam/30/${getUserInfo().username}`,alt:""})}),jsxRuntimeExports.jsx("div",{className:"dashBoardHeaderDiv_area2_cont2_div2",children:getUserInfo().username})]}),jsxRuntimeExports.jsx("div",{className:"logout_mobile",children:jsxRuntimeExports.jsx(Logout,{})})]})]})})," "]});var ArrowBackOutlined={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(ArrowBackOutlined,"__esModule",{value:!0});var default_1$6=ArrowBackOutlined.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntimeExports;default_1$6=ArrowBackOutlined.default=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackOutlined");const WithdrawNairaComponent=({ToggleWithdrawNairaBankModal:s,balance:o})=>{const _="NGNT",[j,et]=reactExports.useState(!1);reactExports.useState(""),reactExports.useState(!1);const[st,nt]=reactExports.useState(!1),[ct,At]=reactExports.useState(""),[mt,gt]=reactExports.useState([]);reactExports.useState("--");const[_t,Et]=reactExports.useState({bank_code:"",account_number:"",bank_name:"",account_name:"--"});reactExports.useEffect(()=>{_t.account_number.length===10&&Gt()},[_t.account_number]);const[Ct,Bt]=reactExports.useState(!1),[Dt,Ft]=reactExports.useState({pin_code:"",symbol:_,amount:"",bank_info:{}}),Rt=async()=>{const ds=await LIST_BANKS();console.log("===================================="),console.log(ds),console.log("===================================="),gt(ds.data.data)},Nt=ds=>{const{value:tn}=ds.target;console.log(tn,"chibuzor"),Et({..._t,bank_code:tn})},Gt=async ds=>{console.log("gfggfgf",ds,_t);const tn=await VERIFY_BANK({account_number:_t.account_number,bank_code:_t.bank_code});if(console.log("===================================="),console.log(tn),console.log("===================================="),!tn.success){Bt(!1);return}Bt(!0),Et({..._t,account_name:tn.data.account_name,bank_name:tn.data.bank_name})},dr=async ds=>{const{value:tn,id:rn}=ds.target;if(!(tn.length>10)){if(tn.length<10){Bt(!1),Et({..._t,account_name:"",account_number:tn});return}console.log("===================================="),console.log(tn),console.log("===================================="),Et({..._t,account_number:tn})}};reactExports.useEffect(()=>{Rt()},[]);const ts=async()=>{var rn,un;et(!0),console.log(_t);let ds={amount:Dt.amount,symbol:_,bank_info:_t};const tn=await PAYOUT_TO_BANK(ds);if(et(!1),((rn=tn.data)==null?void 0:rn.success)===!1){console.log("===================================="),console.log(tn),alert(((un=tn==null?void 0:tn.data)==null?void 0:un.errorMessage)||"An error occurred!!"),console.log("====================================");return}At("Transaction succesful"),nt(!0)},es=()=>{Ft({amount:o})};return jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv",children:jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont",children:[jsxRuntimeExports.jsx(default_1$6,{className:"depositMoneyDiv_icon",onClick:s}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_1",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_title_cont",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_title",children:"Send Naira"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_para",children:"Send Naira directly to a Bank account"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div2",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Currency:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"https://i.imgur.com/JXm7zwC.png",alt:"",className:"depositMoneyDiv_cont_body_input_div_div_cont1_img"}),"Nigerian Naira"]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont2",children:_})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Bank:"}),jsxRuntimeExports.jsx("select",{name:"",id:"",placeholder:"0xXXXXXXXXXXXXXXX",defaultValue:"0",onChange:Nt,className:"depositMoneyDiv_cont_body_wallet_addr_div_input",children:mt.length>=1?mt.map((ds,tn)=>jsxRuntimeExports.jsx("option",{value:ds==null?void 0:ds.code,children:ds.name},tn)):jsxRuntimeExports.jsx("option",{value:"",children:"Show banks"})})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Account Number:"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"0xXXXXXXXXXXXXXXX",onChange:dr,value:_t.account_number,className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})]}),Ct?jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div2",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Account Name:"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:jsxRuntimeExports.jsxs("p",{children:[" ",_t.account_name]})})]}):null,jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Amount:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_input_div",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"0.00",value:Dt.amount,onChange:ds=>Ft({...Dt,amount:ds.target.value}),className:"depositMoneyDiv_cont_body_wallet_addr_div_input"}),jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_body_wallet_addr_div_btn",onClick:es,children:"Max"})]}),jsxRuntimeExports.jsxs("div",{className:"availegc_bal_div",children:[jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_title",children:"Available"}),jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_amount",children:"100 NGNT"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Remarks (optional):"}),jsxRuntimeExports.jsx("input",{type:"text",className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_divb",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Minimum single withdrawal amount: ₦2,000.00"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Maximum single withdrawal amount: ₦100,000,000.00"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_2",children:jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_2_btn",onClick:ts,children:"Withdraw NGNT"})})]})})},DashBoardTransfer=()=>{reactExports.useState(!1);const[s,o]=reactExports.useState(!1),[_,j]=reactExports.useState(!1),[et,st]=reactExports.useState(!1),[nt,ct]=reactExports.useState(!1),[At,mt]=reactExports.useState("");reactExports.useState(0);const[gt,_t]=reactExports.useState(0),[Et,Ct]=reactExports.useState(!1);reactExports.useState("0xxxxxxx"),reactExports.useState(""),reactExports.useState(!1);const[Bt,Dt]=reactExports.useState(!1);reactExports.useState(1e3);const[Ft,Rt]=reactExports.useState({amount:"",symbol:"NGNT",network:"Egochain",wallet_address:""}),[Nt,Gt]=reactExports.useState({username_email:"",amount:"",symbol:"NGNT"}),[dr,ts]=reactExports.useState(!0);window.location.pathname.split("/"),reactExports.useEffect(()=>{ts(!0),setTimeout(()=>{ts(!1)},2e3)},[]);const ds=()=>{o(!s)},tn=()=>{j(!_)},rn=()=>{ct(!nt),_t(0)};setTimeout(()=>{Dt(!1)},1e3);const un=l1=>{const{value:X1,id:kI}=l1.target;Rt({...Ft,[kI]:X1})},$n=l1=>{const{value:X1,id:kI}=l1.target;Gt({...Nt,[kI]:X1})};reactExports.useEffect(()=>{console.log("===================================="),console.log(Ft),console.log("====================================")},[Ft]);const{mutate:kn,isError:lo,error:Il,isPending:cu}=useMutation({mutationKey:"send_crypto_external",mutationFn:async l1=>await SEND_CRYPTO_FUNDS(l1),onSuccess:async l1=>{console.log(l1,"alal")}}),{mutate:Ko,isError:ru,error:Tn,isPending:ao}=useMutation({mutationKey:"send_crypto_internal",mutationFn:async l1=>await SEND_FUNDS_INTERNAL(l1),onSuccess:async l1=>{console.log(l1,"alal")}}),uu=async()=>{console.log("april"),await kn(Ft)},hu=async()=>{console.log("april"),await Ko(Nt)},{data:tA}=useQuery({queryKey:"accountNumber",queryFn:async()=>{const l1=await USER_ACCOUNT_NUMBER();if(console.log("===================================="),console.log(l1),l1.code===200){mt("23444");return}if(l1.status!==200){l1.data.errorMessage=="Cannot creeate Account, BVN not provided"?st(!0):(console.log("===================================="),console.log(l1.data.errorMessage),console.log("===================================="));return}return l1}}),Sv=async()=>{await tA()};reactExports.useEffect(()=>{Sv()},[]);const W0=()=>{set};return dr?jsxRuntimeExports.jsx("div",{className:"loading_div_area",children:jsxRuntimeExports.jsx(Lottie,{animationData:loading,loop:!1,autoPlay:!0,className:"loadingIcon",preserveAspectRatio:"xMidYMid meet"})}):jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_title",children:"Transfer Money"}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_sub_title",children:"How would you like to send money?"}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_cont",children:[jsxRuntimeExports.jsx("img",{src:"/img/send_icon.png",alt:"",className:"Transfer_withdraw_div_cont2_icon"}),jsxRuntimeExports.jsx("div",{className:"Transfer_withdraw_div_cont2_txt",children:"Transfer Money"})]}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body",children:jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area",children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:rn,children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:bankIcon,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Send To Bank Account"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:ds,children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:blockChainIcon,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Send To Blockchain address"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]}),jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1",onClick:tn,children:[jsxRuntimeExports.jsxs("div",{className:"dashBoardAddMoneyDiv_body_area1_cont1",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_icon",children:jsxRuntimeExports.jsx(Lottie,{animationData:fortUsers,loop:!1,autoPlay:!0,className:"loadingTransferIcon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsx("div",{className:"dashBoardAddMoneyDiv_body_area1_txt",children:"Send To Cube Users"})]}),jsxRuntimeExports.jsx(default_1$b,{className:"dashBoardAddMoneyDiv_body_area1_cont2_icon"})]})]})}),nt===!0?jsxRuntimeExports.jsx(WithdrawNairaComponent,{ToggleWithdrawNairaBankModal:()=>ct(!1)}):null,s===!0?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:ds,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_1",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_title_cont",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_title",children:"Send NGNT"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_para",children:"Send funds directly to a blockchain address"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"WalletAddress:"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0xXXXXXXXXXXXXXXX",id:"wallet_address",name:"wallet_address",onChange:un,value:Ft.wallet_address,className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div2",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Network:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"/img/bsc_icon.png",alt:"",className:"depositMoneyDiv_cont_body_input_div_div_cont1_img"}),"Egochain"]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont2",children:"EGO20"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Amount:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_input_div",children:[jsxRuntimeExports.jsx("input",{type:"number",id:"amount",name:"amount",onChange:un,placeholder:"0.00",value:Ft.amount,className:"depositMoneyDiv_cont_body_wallet_addr_div_input"}),jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_body_wallet_addr_div_btn",onClick:W0,children:"Max"})]}),jsxRuntimeExports.jsxs("div",{className:"availegc_bal_div",children:[jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_title",children:"Available"}),jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_amount",children:"100 NGNT"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Remarks (optional):"}),jsxRuntimeExports.jsx("input",{type:"text",className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_divb",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Minimum single withdrawal amount: 1000 NGNT"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Maximum single withdrawal amount: 1,000,000 NGNT"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Make sure the the receiver's wallet is a EGO20 wallet"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_2",children:jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_2_btn",onClick:uu,children:"Withdraw NGNT"})})]})}):null,_===!0?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:tn,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_1",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_title_cont",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_title",children:"Send NGNT"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_title_cont_para",children:"Send funds directly to a cube user"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_title",children:"Coin:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont1",children:[jsxRuntimeExports.jsx("img",{src:"https://i.imgur.com/JXm7zwC.png",alt:"",className:"depositMoneyDiv_cont_body_input_div_div_cont1_img"}),"Naira Token"]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_input_div_div_cont2",children:"NGNT"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Recipient Email or Username:"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb_input_div",children:jsxRuntimeExports.jsx("input",{type:"text",id:"username_email",name:"username_email",onChange:$n,value:Nt.username_email,placeholder:"@John Doe",className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Amount:"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_input_div",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"0.00",id:"amount",name:"username_email",onChange:$n,value:Nt.amount,className:"depositMoneyDiv_cont_body_wallet_addr_div_input"}),jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_body_wallet_addr_div_btn",children:"Max"})]}),jsxRuntimeExports.jsxs("div",{className:"availegc_bal_div",children:[jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_title",children:"Available"}),jsxRuntimeExports.jsx("div",{className:"availegc_bal_div_amount",children:"90 NGNT"})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_wallet_addr_divb",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_wallet_addr_div_title",children:"Withdrawal Remarks (optional):"}),jsxRuntimeExports.jsx("input",{type:"text",className:"depositMoneyDiv_cont_body_wallet_addr_div_input"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_divb",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Minimum single withdrawal amount: 10 usd"})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_cont_body_tips_div_1",children:[jsxRuntimeExports.jsx(default_1$c,{className:"depositMoneyDiv_cont_body_tips_div_1_icon"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_body_tips_div_1_txt",children:"Maximum single withdrawal amount: 1,000,000 usd"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_cont_2",children:jsxRuntimeExports.jsx("button",{className:"depositMoneyDiv_cont_2_btn",onClick:hu,children:"Withdraw NGNT"})})]})}):null,Et===!0?jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal",children:jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont",children:[jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_title",children:"BVN REQUIRED"}),jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_para",children:"Please complete your identity verification to use this feauture."}),jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont_btn_divs",children:[jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn1",onClick:()=>Ct(!1),children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn",children:"Complete verification"})]})]})}):null]})},Staticdata={egr_models_carous:[{id:0,name:"EGORAS DUAL FUEL TRICYCLE",prodName:"EGORAS DUAL FUEL TRICYCLE",prodId:"e0887a46-84a2-4652-a764-77d263e04c64",img:"/img/egoras_gen_images/egoras_gen3.png",model:"EGC-80",start_price:"1400000",specTitle1:"DUAL FUEL CAPABILITY",specPara1:"LPG & PETROL",specTitle2:"CHASSIS",specPara2:"TYPE SEMI MONOCOQUE",specTitle3:"BRAKES",specPara3:"FRONT AND REAR HYDRAULIC"},{id:1,name:"EGORAS 3KVA DUAL FUEL MANUAL GENERATOR ",prodName:"EGORAS  3KVA DUAL FUEL MANUAL GENERATOR (EGR-3000)",prodId:"55e36ba9-aa54-41ff-bb3b-6490604417c2",img:"/img/egr_gen1.png",model:"EGR 3000 M",start_price:"180000",specTitle1:"VOLTAGE",specPara1:"220V",specTitle2:"RUNNING CAPACITY",specPara2:"3KVA",specTitle3:"TYPE",specPara3:"MANUAL"},{id:2,name:"EGORAS 3KVA DUAL FUEL AUTOMATIC GENERATOR",prodName:"EGORAS 3KVA DUAL FUEL AUTOMATIC GENERATOR (EGR-3000)",prodId:"c97bce4f-8fa8-4a72-958f-eaac514c3fbd",img:"/img/egoras_gen_images/egoras_gen2.png",model:"EGR 3000 A",start_price:"210000",specTitle1:"VOLTAGE",specPara1:"220V",specTitle2:"RUNNING CAPACITY",specPara2:"3KVA",specTitle3:"TYPE",specPara3:"AUTOMATIC"},{id:3,name:"EGORAS DUAL FUEL 8KVA SOUNDPROOF GENERATOR",prodName:"EGORAS DUAL FUEL 8KVA SOUNDPROOF GENERATOR",prodId:"1addea5a-6a6f-44b0-a3c8-293db32288f9",img:"/img/egoras_gen_images/egoras_gen4.png",model:"EGR 8000 A",start_price:"600000",specTitle1:"CAPACITY",specPara1:"8KVA",specTitle2:"VOLTAGE",specPara2:"220V",specTitle3:"TYPE",specPara3:"SOUNDPROOF"},{id:4,name:"EGORAS 3KVA AUTOGAS AUTOMATIC GENERATOR",prodName:"EGORAS 3KVA AUTOGAS AUTOMATIC  GENERATOR(EGR-3000G)",prodId:"15f46250-ff88-46a0-b641-70ecafba4fff",img:"/img/egoras_gen_images/egoras_gen5.png",model:"EGR-3000G",start_price:"200000",specTitle1:"CAPACITY",specPara1:"3KVA",specTitle2:"VOLTAGE",specPara2:"220V",specTitle3:"TYPE",specPara3:"AUTOGAS"}],egr_models_carous2:[{id:"0",name:"EGORAS DUAL FUEL TRICYCLE",prodName:"EGORAS DUAL FUEL TRICYCLE",prodId:"e0887a46-84a2-4652-a764-77d263e04c64",img:"/img/egoras_gen_images/egoras_gen3.png",model:"EGC-80",start_price:"1400000",specTitle1:"DUAL FUEL CAPABILITY",specPara1:"LPG & PETROL",specTitle2:"CHASSIS",specPara2:"TYPE SEMI MONOCOQUE",specTitle3:"BRAKES",specPara3:"FRONT AND REAR HYDRAULIC"},{id:"1",name:"EGORAS 3KVA DUAL FUEL MANUAL GENERATOR ",prodName:"EGORAS  3KVA DUAL FUEL MANUAL GENERATOR (EGR-3000)",prodId:"55e36ba9-aa54-41ff-bb3b-6490604417c2",img:"/img/egr_gen1.png",model:"EGR 3000 M",start_price:"165000",specTitle1:"VOLTAGE",specPara1:"220V",specTitle2:"RUNNING CAPACITY",specPara2:"3KVA",specTitle3:"TYPE",specPara3:"MANUAL"},{id:"2",name:"EGORAS 3KVA DUAL FUEL AUTOMATIC GENERATOR",prodName:"EGORAS 3KVA DUAL FUEL AUTOMATIC GENERATOR (EGR-3000)",prodId:"c97bce4f-8fa8-4a72-958f-eaac514c3fbd",img:"/img/egoras_gen_images/egoras_gen2.png",model:"EGR 3000 A",start_price:"190000",specTitle1:"VOLTAGE",specPara1:"220V",specTitle2:"RUNNING CAPACITY",specPara2:"3KVA",specTitle3:"TYPE",specPara3:"AUTOMATIC"},{id:"3",name:"EGORAS DUAL FUEL 8KVA SOUNDPROOF GENERATOR",prodName:"EGORAS DUAL FUEL 8KVA SOUNDPROOF GENERATOR",prodId:"1addea5a-6a6f-44b0-a3c8-293db32288f9",img:"/img/egoras_gen_images/egoras_gen4.png",model:"EGR 8000 A",start_price:"500000",specTitle1:"CAPACITY",specPara1:"8KVA",specTitle2:"VOLTAGE",specPara2:"220V",specTitle3:"TYPE",specPara3:"SOUNDPROOF"},{id:"4",name:"EGORAS 3KVA AUTOGAS AUTOMATIC GENERATOR",prodName:"EGORAS 3KVA AUTOGAS AUTOMATIC  GENERATOR(EGR-3000G)",prodId:"15f46250-ff88-46a0-b641-70ecafba4fff",img:"/img/egoras_gen_images/egoras_gen5.png",model:"EGR-3000G",start_price:"155000",specTitle1:"CAPACITY",specPara1:"3KVA",specTitle2:"VOLTAGE",specPara2:"220V",specTitle3:"TYPE",specPara3:"AUTOGAS"}],options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],options2:[{value:"0",label:"River state"},{value:"1",label:"Bayelsa state"},{value:"2",label:"Lagos state"},{value:"3",label:"Edo state"}],productsTableData:[{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"},{prodName:"Egoras Dual Fuel",amount:2e5,prodBrand:"Egoras",Date:"21 MAY 2021",status:"Ordered"}],referralLeaderBoard:[{id:0,userName:"Cyntax",emailAddress:"samuelify225@gmail.com",refEarning:1e5,timeStamp:"22-10-23",refCount:"10"},{id:1,userName:"devy",emailAddress:"devon25@gmail.com",refEarning:95e3,timeStamp:"22-10-23",refCount:"9"},{id:2,userName:"blessed",emailAddress:"blessing25@gmail.com",refEarning:8e4,timeStamp:"22-10-23",refCount:"8"},{id:3,userName:"Vixen",emailAddress:"victoria25@gmail.com",refEarning:6e4,timeStamp:"22-10-23",refCount:"7"},{id:4,userName:"Kingzy",emailAddress:"kingsley25@gmail.com",refEarning:4e4,timeStamp:"22-10-23",refCount:"6"},{id:5,userName:"stelzy",emailAddress:"stella25@gmail.com",refEarning:35e3,timeStamp:"22-10-23",refCount:"5"},{id:6,userName:"Ebrinix",emailAddress:"EbriGoodness@gmail.com",refEarning:2e4,timeStamp:"22-10-23",refCount:"2"},{id:7,userName:"Sharpman",emailAddress:"sharpman220@gmail.com",refEarning:1e4,timeStamp:"22-10-23",refCount:"1"},{id:8,userName:"Lanxy",emailAddress:"Alex240@gmail.com",refEarning:15e4,timeStamp:"22-10-23",refCount:"15"},{id:9,userName:"Tracy",emailAddress:"Tracy450@gmail.com",refEarning:2e5,timeStamp:"22-10-23",refCount:"25"},{id:10,userName:"Harry",emailAddress:"Harrison450@gmail.com",refEarning:25e4,timeStamp:"22-10-23",refCount:"28"},{id:11,userName:"User11",emailAddress:"user11@example.com",refEarning:74790,timeStamp:"22-10-23",refCount:"13"},{id:12,userName:"User12",emailAddress:"user12@example.com",refEarning:27766,timeStamp:"22-10-23",refCount:"24"},{id:13,userName:"User13",emailAddress:"user13@example.com",refEarning:9156,timeStamp:"22-10-23",refCount:"23"},{id:14,userName:"User14",emailAddress:"user14@example.com",refEarning:57991,timeStamp:"22-10-23",refCount:"2"},{id:15,userName:"User15",emailAddress:"user15@example.com",refEarning:43339,timeStamp:"22-10-23",refCount:"15"},{id:16,userName:"User16",emailAddress:"user16@example.com",refEarning:40023,timeStamp:"22-10-23",refCount:"19"},{id:17,userName:"User17",emailAddress:"user17@example.com",refEarning:42716,timeStamp:"22-10-23",refCount:"5"},{id:18,userName:"User18",emailAddress:"user18@example.com",refEarning:37670,timeStamp:"22-10-23",refCount:"2"},{id:19,userName:"User19",emailAddress:"user19@example.com",refEarning:85195,timeStamp:"22-10-23",refCount:"25"},{id:20,userName:"User20",emailAddress:"user20@example.com",refEarning:92036,timeStamp:"22-10-23",refCount:"18"},{id:21,userName:"User21",emailAddress:"user21@example.com",refEarning:39718,timeStamp:"22-10-23",refCount:"10"},{id:22,userName:"User22",emailAddress:"user22@example.com",refEarning:29244,timeStamp:"22-10-23",refCount:"0"},{id:23,userName:"User23",emailAddress:"user23@example.com",refEarning:85795,timeStamp:"22-10-23",refCount:"17"},{id:24,userName:"User24",emailAddress:"user24@example.com",refEarning:61578,timeStamp:"22-10-23",refCount:"18"},{id:25,userName:"User25",emailAddress:"user25@example.com",refEarning:15168,timeStamp:"22-10-23",refCount:"8"},{id:26,userName:"User26",emailAddress:"user26@example.com",refEarning:15418,timeStamp:"22-10-23",refCount:"5"},{id:27,userName:"User27",emailAddress:"user27@example.com",refEarning:31488,timeStamp:"22-10-23",refCount:"17"},{id:28,userName:"User28",emailAddress:"user28@example.com",refEarning:18249,timeStamp:"22-10-23",refCount:"29"},{id:29,userName:"User29",emailAddress:"user29@example.com",refEarning:68400,timeStamp:"22-10-23",refCount:"28"},{id:30,userName:"User30",emailAddress:"user30@example.com",refEarning:13936,timeStamp:"22-10-23",refCount:"0"},{id:31,userName:"User31",emailAddress:"user31@example.com",refEarning:6750,timeStamp:"22-10-23",refCount:"29"},{id:32,userName:"User32",emailAddress:"user32@example.com",refEarning:10703,timeStamp:"22-10-23",refCount:"4"},{id:33,userName:"User33",emailAddress:"user33@example.com",refEarning:57737,timeStamp:"22-10-23",refCount:"27"},{id:34,userName:"User34",emailAddress:"user34@example.com",refEarning:60009,timeStamp:"22-10-23",refCount:"9"},{id:35,userName:"User35",emailAddress:"user35@example.com",refEarning:96604,timeStamp:"22-10-23",refCount:"22"},{id:36,userName:"User36",emailAddress:"user36@example.com",refEarning:95149,timeStamp:"22-10-23",refCount:"11"},{id:37,userName:"User37",emailAddress:"user37@example.com",refEarning:92500,timeStamp:"22-10-23",refCount:"13"},{id:38,userName:"User38",emailAddress:"user38@example.com",refEarning:77273,timeStamp:"22-10-23",refCount:"24"},{id:39,userName:"User39",emailAddress:"user39@example.com",refEarning:57657,timeStamp:"22-10-23",refCount:"13"},{id:40,userName:"User40",emailAddress:"user40@example.com",refEarning:68108,timeStamp:"22-10-23",refCount:"24"},{id:41,userName:"User41",emailAddress:"user41@example.com",refEarning:36752,timeStamp:"22-10-23",refCount:"0"},{id:42,userName:"User42",emailAddress:"user42@example.com",refEarning:34915,timeStamp:"22-10-23",refCount:"12"},{id:43,userName:"User43",emailAddress:"user43@example.com",refEarning:55899,timeStamp:"22-10-23",refCount:"20"},{id:44,userName:"User44",emailAddress:"user44@example.com",refEarning:3287,timeStamp:"22-10-23",refCount:"1"},{id:45,userName:"User45",emailAddress:"user45@example.com",refEarning:46605,timeStamp:"22-10-23",refCount:"3"},{id:46,userName:"User46",emailAddress:"user46@example.com",refEarning:45401,timeStamp:"22-10-23",refCount:"0"},{id:47,userName:"User47",emailAddress:"user47@example.com",refEarning:59870,timeStamp:"22-10-23",refCount:"11"},{id:48,userName:"User48",emailAddress:"user48@example.com",refEarning:50542,timeStamp:"22-10-23",refCount:"23"},{id:49,userName:"User49",emailAddress:"user49@example.com",refEarning:56897,timeStamp:"22-10-23",refCount:"16"},{id:50,userName:"User50",emailAddress:"user50@example.com",refEarning:73288,timeStamp:"22-10-23",refCount:"24"},{id:51,userName:"User51",emailAddress:"user51@example.com",refEarning:8228,timeStamp:"22-10-23",refCount:"12"},{id:52,userName:"User52",emailAddress:"user52@example.com",refEarning:50944,timeStamp:"22-10-23",refCount:"11"},{id:53,userName:"User53",emailAddress:"user53@example.com",refEarning:54422,timeStamp:"22-10-23",refCount:"18"},{id:54,userName:"User54",emailAddress:"user54@example.com",refEarning:548,timeStamp:"22-10-23",refCount:"18"},{id:55,userName:"User55",emailAddress:"user55@example.com",refEarning:70131,timeStamp:"22-10-23",refCount:"5"},{id:56,userName:"User56",emailAddress:"user56@example.com",refEarning:48374,timeStamp:"22-10-23",refCount:"0"},{id:57,userName:"User57",emailAddress:"user57@example.com",refEarning:5909,timeStamp:"22-10-23",refCount:"27"},{id:58,userName:"User58",emailAddress:"user58@example.com",refEarning:18261,timeStamp:"22-10-23",refCount:"7"},{id:59,userName:"User59",emailAddress:"user59@example.com",refEarning:97865,timeStamp:"22-10-23",refCount:"28"},{id:60,userName:"User60",emailAddress:"user60@example.com",refEarning:35800,timeStamp:"22-10-23",refCount:"6"},{id:61,userName:"User61",emailAddress:"user61@example.com",refEarning:74010,timeStamp:"22-10-23",refCount:"15"},{id:62,userName:"User62",emailAddress:"user62@example.com",refEarning:65376,timeStamp:"22-10-23",refCount:"13"},{id:63,userName:"User63",emailAddress:"user63@example.com",refEarning:73854,timeStamp:"22-10-23",refCount:"13"},{id:64,userName:"User64",emailAddress:"user64@example.com",refEarning:60015,timeStamp:"22-10-23",refCount:"26"},{id:65,userName:"User65",emailAddress:"user65@example.com",refEarning:64951,timeStamp:"22-10-23",refCount:"19"},{id:66,userName:"User66",emailAddress:"user66@example.com",refEarning:31769,timeStamp:"22-10-23",refCount:"5"},{id:67,userName:"User67",emailAddress:"user67@example.com",refEarning:25173,timeStamp:"22-10-23",refCount:"27"},{id:68,userName:"User68",emailAddress:"user68@example.com",refEarning:8389,timeStamp:"22-10-23",refCount:"8"},{id:69,userName:"User69",emailAddress:"user69@example.com",refEarning:6895,timeStamp:"22-10-23",refCount:"20"},{id:70,userName:"User70",emailAddress:"user70@example.com",refEarning:73498,timeStamp:"22-10-23",refCount:"4"},{id:71,userName:"User71",emailAddress:"user71@example.com",refEarning:94878,timeStamp:"22-10-23",refCount:"13"},{id:72,userName:"User72",emailAddress:"user72@example.com",refEarning:86891,timeStamp:"22-10-23",refCount:"28"},{id:73,userName:"User73",emailAddress:"user73@example.com",refEarning:62457,timeStamp:"22-10-23",refCount:"17"},{id:74,userName:"User74",emailAddress:"user74@example.com",refEarning:89438,timeStamp:"22-10-23",refCount:"4"},{id:75,userName:"User75",emailAddress:"user75@example.com",refEarning:78571,timeStamp:"22-10-23",refCount:"25"},{id:76,userName:"User76",emailAddress:"user76@example.com",refEarning:11673,timeStamp:"22-10-23",refCount:"12"},{id:77,userName:"User77",emailAddress:"user77@example.com",refEarning:23285,timeStamp:"22-10-23",refCount:"27"},{id:78,userName:"User78",emailAddress:"user78@example.com",refEarning:3222,timeStamp:"22-10-23",refCount:"29"},{id:79,userName:"User79",emailAddress:"user79@example.com",refEarning:69898,timeStamp:"22-10-23",refCount:"12"},{id:80,userName:"User80",emailAddress:"user80@example.com",refEarning:57169,timeStamp:"22-10-23",refCount:"23"},{id:81,userName:"User81",emailAddress:"user81@example.com",refEarning:11048,timeStamp:"22-10-23",refCount:"8"},{id:82,userName:"User82",emailAddress:"user82@example.com",refEarning:80860,timeStamp:"22-10-23",refCount:"20"},{id:83,userName:"User83",emailAddress:"user83@example.com",refEarning:31459,timeStamp:"22-10-23",refCount:"25"},{id:84,userName:"User84",emailAddress:"user84@example.com",refEarning:13405,timeStamp:"22-10-23",refCount:"4"},{id:85,userName:"User85",emailAddress:"user85@example.com",refEarning:25742,timeStamp:"22-10-23",refCount:"10"},{id:86,userName:"User86",emailAddress:"user86@example.com",refEarning:39797,timeStamp:"22-10-23",refCount:"2"},{id:87,userName:"User87",emailAddress:"user87@example.com",refEarning:35365,timeStamp:"22-10-23",refCount:"20"},{id:88,userName:"User88",emailAddress:"user88@example.com",refEarning:84097,timeStamp:"22-10-23",refCount:"13"},{id:89,userName:"User89",emailAddress:"user89@example.com",refEarning:37184,timeStamp:"22-10-23",refCount:"3"},{id:90,userName:"User90",emailAddress:"user90@example.com",refEarning:43261,timeStamp:"22-10-23",refCount:"18"},{id:91,userName:"User91",emailAddress:"user91@example.com",refEarning:86295,timeStamp:"22-10-23",refCount:"24"},{id:92,userName:"User92",emailAddress:"user92@example.com",refEarning:36734,timeStamp:"22-10-23",refCount:"17"},{id:93,userName:"User93",emailAddress:"user93@example.com",refEarning:49313,timeStamp:"22-10-23",refCount:"21"},{id:94,userName:"User94",emailAddress:"user94@example.com",refEarning:50962,timeStamp:"22-10-23",refCount:"26"},{id:95,userName:"User95",emailAddress:"user95@example.com",refEarning:79656,timeStamp:"22-10-23",refCount:"29"},{id:96,userName:"User96",emailAddress:"user96@example.com",refEarning:86857,timeStamp:"22-10-23",refCount:"6"},{id:97,userName:"User97",emailAddress:"user97@example.com",refEarning:99693,timeStamp:"22-10-23",refCount:"0"},{id:98,userName:"User98",emailAddress:"user98@example.com",refEarning:47681,timeStamp:"22-10-23",refCount:"12"},{id:99,userName:"User99",emailAddress:"user99@example.com",refEarning:79398,timeStamp:"22-10-23",refCount:"25"},{id:100,userName:"User100",emailAddress:"user100@example.com",refEarning:15496,timeStamp:"22-10-23",refCount:"26"}],TransactionsDummy:[{id:275,email:"ugojivincentuk@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"Vincent_LivingLarge1"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-07T15:59:24.000Z",updatedAt:"2023-10-07T15:59:24.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:274,email:"samuelify225@gmail.com",to_email:"ugojivincentuk@gmail.com",meta:'{"symbol":"NGN","to_username":"Vincent_LivingLarge1","from_username":"cyntax"}',amount:"50.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-07T15:53:47.000Z",updatedAt:"2023-10-07T15:53:47.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:221,email:"samuelify225@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","txh":"b926298c11a342cbb5cd0ca6e9aedea3","confirmation":"3/3","network":"Watu","wallet_address":"n/a"}',amount:"100.000000000000000000000000000000",type:"Credit",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-07T09:27:18.000Z",updatedAt:"2023-10-07T09:27:18.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:106,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"1.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-06T06:27:17.000Z",updatedAt:"2023-10-06T06:27:17.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:104,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-06T06:04:05.000Z",updatedAt:"2023-10-06T06:04:05.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:103,email:"egorasmarket@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"harry"}',amount:"1000.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-06T05:29:39.000Z",updatedAt:"2023-10-06T05:29:39.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:102,email:"samuelify225@gmail.com",to_email:"egorasmarket@gmail.com",meta:'{"symbol":"NGN","to_username":"harry","from_username":"cyntax"}',amount:"5.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-06T05:24:30.000Z",updatedAt:"2023-10-06T05:24:30.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:86,email:"fortapphq@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"Fortapp"}',amount:"70.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-05T19:54:25.000Z",updatedAt:"2023-10-05T19:54:25.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:80,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-05T11:14:13.000Z",updatedAt:"2023-10-05T11:14:13.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:79,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-05T11:12:42.000Z",updatedAt:"2023-10-05T11:12:42.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:78,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-05T11:09:42.000Z",updatedAt:"2023-10-05T11:09:42.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:75,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"20.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-05T10:35:06.000Z",updatedAt:"2023-10-05T10:35:06.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:62,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-03T19:39:35.000Z",updatedAt:"2023-10-03T19:39:35.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"},{id:61,email:"hitechsuite@gmail.com",to_email:"samuelify225@gmail.com",meta:'{"symbol":"NGN","to_username":"cyntax","from_username":"wrapsticks"}',amount:"10.000000000000000000000000000000",type:"INTERNAL",status:"SUCCESS",approved_by:"N/A",createdAt:"2023-10-03T18:25:23.000Z",updatedAt:"2023-10-03T18:25:23.000Z",image:"https://i.imgur.com/JXm7zwC.png",current_price:"755.000000000000000000000000000000"}]};var reactPaginate={exports:{}};(function(s,o){(function(_,j){s.exports=j(reactExports)})(commonjsGlobal,_=>(()=>{var j={703:(ct,At,mt)=>{var gt=mt(414);function _t(){}function Et(){}Et.resetWarningCache=_t,ct.exports=function(){function Ct(Ft,Rt,Nt,Gt,dr,ts){if(ts!==gt){var es=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw es.name="Invariant Violation",es}}function Bt(){return Ct}Ct.isRequired=Ct;var Dt={array:Ct,bigint:Ct,bool:Ct,func:Ct,number:Ct,object:Ct,string:Ct,symbol:Ct,any:Ct,arrayOf:Bt,element:Ct,elementType:Ct,instanceOf:Bt,node:Ct,objectOf:Bt,oneOf:Bt,oneOfType:Bt,shape:Bt,exact:Bt,checkPropTypes:Et,resetWarningCache:_t};return Dt.PropTypes=Dt,Dt}},697:(ct,At,mt)=>{ct.exports=mt(703)()},414:ct=>{ct.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:ct=>{ct.exports=_}},et={};function st(ct){var At=et[ct];if(At!==void 0)return At.exports;var mt=et[ct]={exports:{}};return j[ct](mt,mt.exports,st),mt.exports}st.n=ct=>{var At=ct&&ct.__esModule?()=>ct.default:()=>ct;return st.d(At,{a:At}),At},st.d=(ct,At)=>{for(var mt in At)st.o(At,mt)&&!st.o(ct,mt)&&Object.defineProperty(ct,mt,{enumerable:!0,get:At[mt]})},st.o=(ct,At)=>Object.prototype.hasOwnProperty.call(ct,At),st.r=ct=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ct,"__esModule",{value:!0})};var nt={};return(()=>{st.r(nt),st.d(nt,{default:()=>$n});var ct=st(98),At=st.n(ct),mt=st(697),gt=st.n(mt);function _t(){return _t=Object.assign?Object.assign.bind():function(kn){for(var lo=1;lo<arguments.length;lo++){var Il=arguments[lo];for(var cu in Il)Object.prototype.hasOwnProperty.call(Il,cu)&&(kn[cu]=Il[cu])}return kn},_t.apply(this,arguments)}var Et=function(kn){var lo=kn.pageClassName,Il=kn.pageLinkClassName,cu=kn.page,Ko=kn.selected,ru=kn.activeClassName,Tn=kn.activeLinkClassName,ao=kn.getEventListener,uu=kn.pageSelectedHandler,hu=kn.href,tA=kn.extraAriaContext,Sv=kn.pageLabelBuilder,W0=kn.rel,l1=kn.ariaLabel||"Page "+cu+(tA?" "+tA:""),X1=null;return Ko&&(X1="page",l1=kn.ariaLabel||"Page "+cu+" is your current page",lo=lo!==void 0?lo+" "+ru:ru,Il!==void 0?Tn!==void 0&&(Il=Il+" "+Tn):Il=Tn),At().createElement("li",{className:lo},At().createElement("a",_t({rel:W0,role:hu?void 0:"button",className:Il,href:hu,tabIndex:Ko?"-1":"0","aria-label":l1,"aria-current":X1,onKeyPress:uu},ao(uu)),Sv(cu)))};Et.propTypes={pageSelectedHandler:gt().func.isRequired,selected:gt().bool.isRequired,pageClassName:gt().string,pageLinkClassName:gt().string,activeClassName:gt().string,activeLinkClassName:gt().string,extraAriaContext:gt().string,href:gt().string,ariaLabel:gt().string,page:gt().number.isRequired,getEventListener:gt().func.isRequired,pageLabelBuilder:gt().func.isRequired,rel:gt().string};const Ct=Et;function Bt(){return Bt=Object.assign?Object.assign.bind():function(kn){for(var lo=1;lo<arguments.length;lo++){var Il=arguments[lo];for(var cu in Il)Object.prototype.hasOwnProperty.call(Il,cu)&&(kn[cu]=Il[cu])}return kn},Bt.apply(this,arguments)}var Dt=function(kn){var lo=kn.breakLabel,Il=kn.breakAriaLabel,cu=kn.breakClassName,Ko=kn.breakLinkClassName,ru=kn.breakHandler,Tn=kn.getEventListener,ao=cu||"break";return At().createElement("li",{className:ao},At().createElement("a",Bt({className:Ko,role:"button",tabIndex:"0","aria-label":Il,onKeyPress:ru},Tn(ru)),lo))};Dt.propTypes={breakLabel:gt().oneOfType([gt().string,gt().node]),breakAriaLabel:gt().string,breakClassName:gt().string,breakLinkClassName:gt().string,breakHandler:gt().func.isRequired,getEventListener:gt().func.isRequired};const Ft=Dt;function Rt(kn){var lo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return kn??lo}function Nt(kn){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lo){return typeof lo}:function(lo){return lo&&typeof Symbol=="function"&&lo.constructor===Symbol&&lo!==Symbol.prototype?"symbol":typeof lo},Nt(kn)}function Gt(){return Gt=Object.assign?Object.assign.bind():function(kn){for(var lo=1;lo<arguments.length;lo++){var Il=arguments[lo];for(var cu in Il)Object.prototype.hasOwnProperty.call(Il,cu)&&(kn[cu]=Il[cu])}return kn},Gt.apply(this,arguments)}function dr(kn,lo){for(var Il=0;Il<lo.length;Il++){var cu=lo[Il];cu.enumerable=cu.enumerable||!1,cu.configurable=!0,"value"in cu&&(cu.writable=!0),Object.defineProperty(kn,cu.key,cu)}}function ts(kn,lo){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Il,cu){return Il.__proto__=cu,Il},ts(kn,lo)}function es(kn,lo){if(lo&&(Nt(lo)==="object"||typeof lo=="function"))return lo;if(lo!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ds(kn)}function ds(kn){if(kn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn}function tn(kn){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lo){return lo.__proto__||Object.getPrototypeOf(lo)},tn(kn)}function rn(kn,lo,Il){return lo in kn?Object.defineProperty(kn,lo,{value:Il,enumerable:!0,configurable:!0,writable:!0}):kn[lo]=Il,kn}var un=function(kn){(function(ao,uu){if(typeof uu!="function"&&uu!==null)throw new TypeError("Super expression must either be null or a function");ao.prototype=Object.create(uu&&uu.prototype,{constructor:{value:ao,writable:!0,configurable:!0}}),Object.defineProperty(ao,"prototype",{writable:!1}),uu&&ts(ao,uu)})(Tn,kn);var lo,Il,cu,Ko,ru=(cu=Tn,Ko=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ao,uu=tn(cu);if(Ko){var hu=tn(this).constructor;ao=Reflect.construct(uu,arguments,hu)}else ao=uu.apply(this,arguments);return es(this,ao)});function Tn(ao){var uu,hu;return function(tA,Sv){if(!(tA instanceof Sv))throw new TypeError("Cannot call a class as a function")}(this,Tn),rn(ds(uu=ru.call(this,ao)),"handlePreviousPage",function(tA){var Sv=uu.state.selected;uu.handleClick(tA,null,Sv>0?Sv-1:void 0,{isPrevious:!0})}),rn(ds(uu),"handleNextPage",function(tA){var Sv=uu.state.selected,W0=uu.props.pageCount;uu.handleClick(tA,null,Sv<W0-1?Sv+1:void 0,{isNext:!0})}),rn(ds(uu),"handlePageSelected",function(tA,Sv){if(uu.state.selected===tA)return uu.callActiveCallback(tA),void uu.handleClick(Sv,null,void 0,{isActive:!0});uu.handleClick(Sv,null,tA)}),rn(ds(uu),"handlePageChange",function(tA){uu.state.selected!==tA&&(uu.setState({selected:tA}),uu.callCallback(tA))}),rn(ds(uu),"getEventListener",function(tA){return rn({},uu.props.eventListener,tA)}),rn(ds(uu),"handleClick",function(tA,Sv,W0){var l1=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},X1=l1.isPrevious,kI=X1!==void 0&&X1,q1=l1.isNext,UE=q1!==void 0&&q1,a1=l1.isBreak,LE=a1!==void 0&&a1,rS=l1.isActive,gD=rS!==void 0&&rS;tA.preventDefault?tA.preventDefault():tA.returnValue=!1;var NI=uu.state.selected,a$=uu.props.onClick,x$=W0;if(a$){var l$=a$({index:Sv,selected:NI,nextSelectedPage:W0,event:tA,isPrevious:kI,isNext:UE,isBreak:LE,isActive:gD});if(l$===!1)return;Number.isInteger(l$)&&(x$=l$)}x$!==void 0&&uu.handlePageChange(x$)}),rn(ds(uu),"handleBreakClick",function(tA,Sv){var W0=uu.state.selected;uu.handleClick(Sv,tA,W0<tA?uu.getForwardJump():uu.getBackwardJump(),{isBreak:!0})}),rn(ds(uu),"callCallback",function(tA){uu.props.onPageChange!==void 0&&typeof uu.props.onPageChange=="function"&&uu.props.onPageChange({selected:tA})}),rn(ds(uu),"callActiveCallback",function(tA){uu.props.onPageActive!==void 0&&typeof uu.props.onPageActive=="function"&&uu.props.onPageActive({selected:tA})}),rn(ds(uu),"getElementPageRel",function(tA){var Sv=uu.state.selected,W0=uu.props,l1=W0.nextPageRel,X1=W0.prevPageRel,kI=W0.selectedPageRel;return Sv-1===tA?X1:Sv===tA?kI:Sv+1===tA?l1:void 0}),rn(ds(uu),"pagination",function(){var tA=[],Sv=uu.props,W0=Sv.pageRangeDisplayed,l1=Sv.pageCount,X1=Sv.marginPagesDisplayed,kI=Sv.breakLabel,q1=Sv.breakClassName,UE=Sv.breakLinkClassName,a1=Sv.breakAriaLabels,LE=uu.state.selected;if(l1<=W0)for(var rS=0;rS<l1;rS++)tA.push(uu.getPageElement(rS));else{var gD=W0/2,NI=W0-gD;LE>l1-W0/2?gD=W0-(NI=l1-LE):LE<W0/2&&(NI=W0-(gD=LE));var a$,x$,l$=function(E$){return uu.getPageElement(E$)},pR=[];for(a$=0;a$<l1;a$++){var h$=a$+1;if(h$<=X1)pR.push({type:"page",index:a$,display:l$(a$)});else if(h$>l1-X1)pR.push({type:"page",index:a$,display:l$(a$)});else if(a$>=LE-gD&&a$<=LE+(LE===0&&W0>1?NI-1:NI))pR.push({type:"page",index:a$,display:l$(a$)});else if(kI&&pR.length>0&&pR[pR.length-1].display!==x$&&(W0>0||X1>0)){var w$=a$<LE?a1.backward:a1.forward;x$=At().createElement(Ft,{key:a$,breakAriaLabel:w$,breakLabel:kI,breakClassName:q1,breakLinkClassName:UE,breakHandler:uu.handleBreakClick.bind(null,a$),getEventListener:uu.getEventListener}),pR.push({type:"break",index:a$,display:x$})}}pR.forEach(function(E$,Vx){var b0=E$;E$.type==="break"&&pR[Vx-1]&&pR[Vx-1].type==="page"&&pR[Vx+1]&&pR[Vx+1].type==="page"&&pR[Vx+1].index-pR[Vx-1].index<=2&&(b0={type:"page",index:E$.index,display:l$(E$.index)}),tA.push(b0.display)})}return tA}),ao.initialPage!==void 0&&ao.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(ao.initialPage,") and forcePage (").concat(ao.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),hu=ao.initialPage?ao.initialPage:ao.forcePage?ao.forcePage:0,uu.state={selected:hu},uu}return lo=Tn,(Il=[{key:"componentDidMount",value:function(){var ao=this.props,uu=ao.initialPage,hu=ao.disableInitialCallback,tA=ao.extraAriaContext,Sv=ao.pageCount,W0=ao.forcePage;uu===void 0||hu||this.callCallback(uu),tA&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(Sv)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(Sv,"). Did you forget a Math.ceil()?")),uu!==void 0&&uu>Sv-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(uu," > ").concat(Sv-1,").")),W0!==void 0&&W0>Sv-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(W0," > ").concat(Sv-1,")."))}},{key:"componentDidUpdate",value:function(ao){this.props.forcePage!==void 0&&this.props.forcePage!==ao.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(ao.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var ao=this.state.selected,uu=this.props,hu=uu.pageCount,tA=ao+uu.pageRangeDisplayed;return tA>=hu?hu-1:tA}},{key:"getBackwardJump",value:function(){var ao=this.state.selected-this.props.pageRangeDisplayed;return ao<0?0:ao}},{key:"getElementHref",value:function(ao){var uu=this.props,hu=uu.hrefBuilder,tA=uu.pageCount,Sv=uu.hrefAllControls;if(hu)return Sv||ao>=0&&ao<tA?hu(ao+1,tA,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(ao){var uu=ao===this.state.selected;if(this.props.ariaLabelBuilder&&ao>=0&&ao<this.props.pageCount){var hu=this.props.ariaLabelBuilder(ao+1,uu);return this.props.extraAriaContext&&!uu&&(hu=hu+" "+this.props.extraAriaContext),hu}}},{key:"getPageElement",value:function(ao){var uu=this.state.selected,hu=this.props,tA=hu.pageClassName,Sv=hu.pageLinkClassName,W0=hu.activeClassName,l1=hu.activeLinkClassName,X1=hu.extraAriaContext,kI=hu.pageLabelBuilder;return At().createElement(Ct,{key:ao,pageSelectedHandler:this.handlePageSelected.bind(null,ao),selected:uu===ao,rel:this.getElementPageRel(ao),pageClassName:tA,pageLinkClassName:Sv,activeClassName:W0,activeLinkClassName:l1,extraAriaContext:X1,href:this.getElementHref(ao),ariaLabel:this.ariaLabelBuilder(ao),page:ao+1,pageLabelBuilder:kI,getEventListener:this.getEventListener})}},{key:"render",value:function(){var ao=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&ao!==void 0)return ao&&ao(this.props);var uu=this.props,hu=uu.disabledClassName,tA=uu.disabledLinkClassName,Sv=uu.pageCount,W0=uu.className,l1=uu.containerClassName,X1=uu.previousLabel,kI=uu.previousClassName,q1=uu.previousLinkClassName,UE=uu.previousAriaLabel,a1=uu.prevRel,LE=uu.nextLabel,rS=uu.nextClassName,gD=uu.nextLinkClassName,NI=uu.nextAriaLabel,a$=uu.nextRel,x$=this.state.selected,l$=x$===0,pR=x$===Sv-1,h$="".concat(Rt(kI)).concat(l$?" ".concat(Rt(hu)):""),w$="".concat(Rt(rS)).concat(pR?" ".concat(Rt(hu)):""),E$="".concat(Rt(q1)).concat(l$?" ".concat(Rt(tA)):""),Vx="".concat(Rt(gD)).concat(pR?" ".concat(Rt(tA)):""),b0=l$?"true":"false",o$=pR?"true":"false";return At().createElement("ul",{className:W0||l1,role:"navigation","aria-label":"Pagination"},At().createElement("li",{className:h$},At().createElement("a",Gt({className:E$,href:this.getElementHref(x$-1),tabIndex:l$?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":b0,"aria-label":UE,rel:a1},this.getEventListener(this.handlePreviousPage)),X1)),this.pagination(),At().createElement("li",{className:w$},At().createElement("a",Gt({className:Vx,href:this.getElementHref(x$+1),tabIndex:pR?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":o$,"aria-label":NI,rel:a$},this.getEventListener(this.handleNextPage)),LE)))}}])&&dr(lo.prototype,Il),Object.defineProperty(lo,"prototype",{writable:!1}),Tn}(ct.Component);rn(un,"propTypes",{pageCount:gt().number.isRequired,pageRangeDisplayed:gt().number,marginPagesDisplayed:gt().number,previousLabel:gt().node,previousAriaLabel:gt().string,prevPageRel:gt().string,prevRel:gt().string,nextLabel:gt().node,nextAriaLabel:gt().string,nextPageRel:gt().string,nextRel:gt().string,breakLabel:gt().oneOfType([gt().string,gt().node]),breakAriaLabels:gt().shape({forward:gt().string,backward:gt().string}),hrefBuilder:gt().func,hrefAllControls:gt().bool,onPageChange:gt().func,onPageActive:gt().func,onClick:gt().func,initialPage:gt().number,forcePage:gt().number,disableInitialCallback:gt().bool,containerClassName:gt().string,className:gt().string,pageClassName:gt().string,pageLinkClassName:gt().string,pageLabelBuilder:gt().func,activeClassName:gt().string,activeLinkClassName:gt().string,previousClassName:gt().string,nextClassName:gt().string,previousLinkClassName:gt().string,nextLinkClassName:gt().string,disabledClassName:gt().string,disabledLinkClassName:gt().string,breakClassName:gt().string,breakLinkClassName:gt().string,extraAriaContext:gt().string,ariaLabelBuilder:gt().func,eventListener:gt().string,renderOnZeroPageCount:gt().func,selectedPageRel:gt().string}),rn(un,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(kn){return kn},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const $n=un})(),nt})())})(reactPaginate);var reactPaginateExports=reactPaginate.exports;const Pagination=getDefaultExportFromCjs(reactPaginateExports);function Paginate({pageCount:s,handlePageClick:o}){return jsxRuntimeExports.jsx(Pagination,{pageCount:s,onPageChange:o,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",nextLabel:"Next >",pageRangeDisplayed:3,marginPagesDisplayed:1,previousLabel:"< Prev",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link"})}function createCommonjsModule(s,o){return o={exports:{}},s(o,o.exports),o.exports}var classnames=createCommonjsModule(function(s){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function _(){for(var j=[],et=0;et<arguments.length;et++){var st=arguments[et];if(st){var nt=typeof st;if(nt==="string"||nt==="number")j.push(st);else if(Array.isArray(st)){if(st.length){var ct=_.apply(null,st);ct&&j.push(ct)}}else if(nt==="object")if(st.toString===Object.prototype.toString)for(var At in st)o.call(st,At)&&st[At]&&j.push(At);else j.push(st.toString())}}return j.join(" ")}s.exports?(_.default=_,s.exports=_):window.classNames=_})()});function styleInject(s,o){o===void 0&&(o={});var _=o.insertAt;if(!(!s||typeof document>"u")){var j=document.head||document.getElementsByTagName("head")[0],et=document.createElement("style");et.type="text/css",_==="top"&&j.firstChild?j.insertBefore(et,j.firstChild):j.appendChild(et),et.styleSheet?et.styleSheet.cssText=s:et.appendChild(document.createTextNode(s))}}var css=`.shimmer-button {
  border-radius: 4px;
  height: 38px;
  width: 120px;
  margin-bottom: 20px; }
  .shimmer-button--sm {
    border-radius: 3px;
    height: 31px;
    width: 100px; }
  .shimmer-button--lg {
    height: 48px;
    width: 140px;
    border-radius: 5px; }
`;styleInject(css);var defineProperty=function(s,o,_){return o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s},ShimmerButton=function s(o){var _=o.size;return Z$3.createElement("div",{className:classnames(defineProperty({"shimmer shimmer-button":!0},"shimmer-button--"+_,!0))})};ShimmerButton.propTypes={size:PropTypes.oneOf(["lg","md","sm"])};ShimmerButton.defaultProps={size:"md"};PropTypes.number,PropTypes.bool,PropTypes.string;PropTypes.number,PropTypes.number,PropTypes.bool,PropTypes.string,PropTypes.bool,PropTypes.bool;var css$1=`.shimmer-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  margin-bottom: 20px;
  display: inline-block; }

.shimmer-thumbnail {
  min-width: 80px;
  width: 100%;
  height: 200px;
  margin-bottom: 20px;
  display: inline-block; }
`;styleInject(css$1);var css$2=`.shimmer-title {
  margin-bottom: 20px; }
  .shimmer-title--secondary {
    margin-bottom: 20px; }
    .shimmer-title--secondary .shimmer-title-line {
      height: 16px; }
  .shimmer-title-line {
    width: 100%;
    height: 24px;
    border-radius: 20px; }
    .shimmer-title-line:first-child {
      width: 100% !important; }
    .shimmer-title-line:last-child {
      width: 40%; }
`;styleInject(css$2);PropTypes.number,PropTypes.oneOf([10,15,20,30]),PropTypes.oneOf(["primary","secondary"]),PropTypes.string;var css$3=`.shimmer-card {
  border-radius: 8px;
  box-shadow: 0 0px 10px rgba(0, 0, 0, 0.1);
  background-color: #ffffff;
  width: 100%; }
  .shimmer-card:not(:first-child) {
    margin-top: 30px; }
  .shimmer-card--content-center {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center; }
    .shimmer-card--content-center * {
      width: 100%;
      margin: auto; }
`;styleInject(css$3);PropTypes.string,PropTypes.oneOfType([PropTypes.element,PropTypes.array]).isRequired,PropTypes.oneOf([!1,20,30]);PropTypes.number,PropTypes.oneOf([2,3,4]),PropTypes.oneOf([20,30]),PropTypes.bool,PropTypes.oneOf(["thumbnail","circular"]),PropTypes.number,PropTypes.bool,PropTypes.bool;var css$4=`.shimmer-gallery-puzzle {
  height: 540px; }

.circular-image-caption .shimmer-title-line {
  margin: auto; }
`;styleInject(css$4);PropTypes.number,PropTypes.oneOf([2,3,4]),PropTypes.oneOf([20,30]),PropTypes.bool,PropTypes.number;PropTypes.number.isRequired,PropTypes.bool;var css$5=`.shimmer-table-row {
  box-shadow: 0 0px 10px rgba(0, 0, 0, 0.1);
  display: flex;
  padding: 25px 0;
  background-color: #ffffff;
  border-radius: 5px;
  margin-bottom: 20px; }
  .shimmer-table-row--header {
    background-color: transparent;
    box-shadow: none;
    margin: 0; }
  .shimmer-table-row > .shimmer {
    margin: 0 30px; }

.shimmer-table-col {
  width: 100%;
  height: 10px;
  border-radius: 10px; }
`;styleInject(css$5);PropTypes.number,PropTypes.number;var css$6=`.shimmer-badge {
  width: 80px;
  height: 24px;
  border-radius: 20px;
  margin-bottom: 20px; }
`;styleInject(css$6);PropTypes.number;var css$7=`.shimmer-text {
  margin-bottom: 30px; }
  .shimmer-text-line {
    width: 100%;
    height: 8px;
    border-radius: 10px; }
    .shimmer-text-line:first-child {
      width: 100% !important; }
    .shimmer-text-line:last-child {
      width: 40%; }
`;styleInject(css$7);PropTypes.number,PropTypes.oneOf([10,15,20,30]),PropTypes.string;var css$8=`.shimmer-separator {
  height: 1px;
  background-color: #dddddd;
  margin: 40px 0; }
`;styleInject(css$8);PropTypes.oneOf(["text","image","both"]),PropTypes.bool;PropTypes.bool.isRequired,PropTypes.oneOf(["circular","thumbnail"]),PropTypes.number,PropTypes.number,PropTypes.bool,PropTypes.bool,PropTypes.bool,PropTypes.bool;PropTypes.bool,PropTypes.number,PropTypes.oneOf(["STYLE_ONE","STYLE_TWO","STYLE_THREE","STYLE_FOUR","STYLE_FIVE","STYLE_SIX","STYLE_SEVEN"]);PropTypes.oneOf(["SIMPLE","EDITOR"]),PropTypes.bool,PropTypes.bool;PropTypes.bool,PropTypes.bool,PropTypes.bool,PropTypes.oneOf(["circular","thumbnail"]),PropTypes.number,PropTypes.number;PropTypes.number,PropTypes.oneOf([2,3,4]),PropTypes.oneOf([20,30]),PropTypes.oneOf(["STYLE_ONE","STYLE_TWO","STYLE_THREE","STYLE_FOUR","STYLE_FIVE","STYLE_SIX","STYLE_SEVEN","STYLE_EIGHT"]);PropTypes.bool,PropTypes.bool,PropTypes.bool,PropTypes.bool,PropTypes.number,PropTypes.number,PropTypes.bool;PropTypes.bool,PropTypes.bool,PropTypes.bool;var css$9=`.shimmer {
  background: linear-gradient(to right, #f6f6f6 8%, #f0f0f0 18%, #f6f6f6 33%);
  background-size: 1000px 100%;
  animation: shimmer 2.2s linear infinite forwards; }

@-webkit-keyframes shimmer {
  0% {
    background-position: -100% 0; }
  100% {
    background-position: 100% 0; } }

@keyframes shimmer {
  0% {
    background-position: -1000px 0; }
  100% {
    background-position: 1000px 0; } }

/*
=====
Padding Styles
=====
*/
.p-30 {
  padding: 30px; }

.p-20 {
  padding: 20px; }

.p-15 {
  padding: 15px; }

/*
=====
Margin Styles
=====
*/
.m-0 {
  margin: 0; }

.m-auto {
  margin: auto; }

.ml-auto {
  margin-left: auto; }

.mr-auto {
  margin-right: auto; }

.m-15 {
  margin: 15px; }

.m-30 {
  margin: 30px; }

.mb-0 {
  margin-bottom: 0px; }

.mb-10 {
  margin-bottom: 10px; }

.mb-15 {
  margin-bottom: 15px; }

.mb-20 {
  margin-bottom: 20px; }

.mt-15 {
  margin-top: 15px; }

.mb-30 {
  margin-bottom: 30px; }

.mb-40 {
  margin-bottom: 40px; }

/*
=======
Content Size Styles
=======
*/
.w-10 {
  width: 10%; }

.w-20 {
  width: 20%; }

.w-30 {
  width: 30%; }

.w-40 {
  width: 40%; }

.w-50 {
  width: 50%; }

.w-60 {
  width: 60%; }

.w-70 {
  width: 70%; }

.w-80 {
  width: 80%; }

/*
========
Flex Styles
========
*/
.flex {
  display: flex; }

.flex-direction-column {
  flex-direction: column; }

.flex-horizontal-center {
  display: flex;
  flex-direction: column;
  align-items: center; }

.flex-vertical-center {
  align-items: center; }

.flex-content-between {
  justify-content: space-between; }

.flex-reverse {
  flex-direction: row-reverse; }

.flex-1 {
  flex-grow: 1; }

/*
=======
Grid Styles
=======
*/
.grid {
  display: grid; }

.grid-gap-10 {
  gap: 10px; }

.grid-gap-15 {
  gap: 15px; }

.grid-gap-20 {
  gap: 20px; }

.grid-gap-30 {
  gap: 30px; }

.grid-column-2 {
  grid-template-columns: auto auto; }

.grid-column-3 {
  grid-template-columns: auto auto auto; }

.grid-column-4 {
  grid-template-columns: auto auto auto auto; }

.text-center {
  text-align: center; }

.border-rounded {
  border-radius: 4px; }

.h-100 {
  height: 100% !important; }

.shimmer-hr {
  border-color: #f6f6f6; }

.shimmer-row {
  display: flex;
  margin: 0 -15px; }
  .shimmer-row .shimmer-col,
  .shimmer-row [class*="shimmer-col-"] {
    padding-left: 15px;
    padding-right: 15px;
    flex-basis: 0;
    flex-grow: 1;
    max-width: 100%; }
`;styleInject(css$9);var NorthEast={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(NorthEast,"__esModule",{value:!0});var default_1$5=NorthEast.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntimeExports;default_1$5=NorthEast.default=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"NorthEast");var SouthWest={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(SouthWest,"__esModule",{value:!0});var default_1$4=SouthWest.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntimeExports;default_1$4=SouthWest.default=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M15 19v-2H8.41L20 5.41 18.59 4 7 15.59V9H5v10z"}),"SouthWest");var CloseOutlined={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(CloseOutlined,"__esModule",{value:!0});var default_1$3=CloseOutlined.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports;default_1$3=CloseOutlined.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined");var Download={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(Download,"__esModule",{value:!0});var default_1$2=Download.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports;default_1$2=Download.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(s,o){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,j){_.__proto__=j}||function(_,j){for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&(_[et]=j[et])},extendStatics(s,o)};function __extends(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");extendStatics(s,o);function _(){this.constructor=s}s.prototype=o===null?Object.create(o):(_.prototype=o.prototype,new _)}var __assign=function(){return __assign=Object.assign||function(o){for(var _,j=1,et=arguments.length;j<et;j++){_=arguments[j];for(var st in _)Object.prototype.hasOwnProperty.call(_,st)&&(o[st]=_[st])}return o},__assign.apply(this,arguments)};function __awaiter(s,o,_,j){function et(st){return st instanceof _?st:new _(function(nt){nt(st)})}return new(_||(_=Promise))(function(st,nt){function ct(gt){try{mt(j.next(gt))}catch(_t){nt(_t)}}function At(gt){try{mt(j.throw(gt))}catch(_t){nt(_t)}}function mt(gt){gt.done?st(gt.value):et(gt.value).then(ct,At)}mt((j=j.apply(s,[])).next())})}function __generator(s,o){var _={label:0,sent:function(){if(st[0]&1)throw st[1];return st[1]},trys:[],ops:[]},j,et,st,nt;return nt={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(nt[Symbol.iterator]=function(){return this}),nt;function ct(mt){return function(gt){return At([mt,gt])}}function At(mt){if(j)throw new TypeError("Generator is already executing.");for(;_;)try{if(j=1,et&&(st=mt[0]&2?et.return:mt[0]?et.throw||((st=et.return)&&st.call(et),0):et.next)&&!(st=st.call(et,mt[1])).done)return st;switch(et=0,st&&(mt=[mt[0]&2,st.value]),mt[0]){case 0:case 1:st=mt;break;case 4:return _.label++,{value:mt[1],done:!1};case 5:_.label++,et=mt[1],mt=[0];continue;case 7:mt=_.ops.pop(),_.trys.pop();continue;default:if(st=_.trys,!(st=st.length>0&&st[st.length-1])&&(mt[0]===6||mt[0]===2)){_=0;continue}if(mt[0]===3&&(!st||mt[1]>st[0]&&mt[1]<st[3])){_.label=mt[1];break}if(mt[0]===6&&_.label<st[1]){_.label=st[1],st=mt;break}if(st&&_.label<st[2]){_.label=st[2],_.ops.push(mt);break}st[2]&&_.ops.pop(),_.trys.pop();continue}mt=o.call(s,_)}catch(gt){mt=[6,gt],et=0}finally{j=st=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}}function __spreadArray(s,o,_){if(arguments.length===2)for(var j=0,et=o.length,st;j<et;j++)(st||!(j in o))&&(st||(st=Array.prototype.slice.call(o,0,j)),st[j]=o[j]);return s.concat(st||o)}var Bounds=function(){function s(o,_,j,et){this.left=o,this.top=_,this.width=j,this.height=et}return s.prototype.add=function(o,_,j,et){return new s(this.left+o,this.top+_,this.width+j,this.height+et)},s.fromClientRect=function(o,_){return new s(_.left+o.windowBounds.left,_.top+o.windowBounds.top,_.width,_.height)},s.fromDOMRectList=function(o,_){var j=Array.from(_).find(function(et){return et.width!==0});return j?new s(j.left+o.windowBounds.left,j.top+o.windowBounds.top,j.width,j.height):s.EMPTY},s.EMPTY=new s(0,0,0,0),s}(),parseBounds=function(s,o){return Bounds.fromClientRect(s,o.getBoundingClientRect())},parseDocumentSize=function(s){var o=s.body,_=s.documentElement;if(!o||!_)throw new Error("Unable to get document size");var j=Math.max(Math.max(o.scrollWidth,_.scrollWidth),Math.max(o.offsetWidth,_.offsetWidth),Math.max(o.clientWidth,_.clientWidth)),et=Math.max(Math.max(o.scrollHeight,_.scrollHeight),Math.max(o.offsetHeight,_.offsetHeight),Math.max(o.clientHeight,_.clientHeight));return new Bounds(0,0,j,et)},toCodePoints$1=function(s){for(var o=[],_=0,j=s.length;_<j;){var et=s.charCodeAt(_++);if(et>=55296&&et<=56319&&_<j){var st=s.charCodeAt(_++);(st&64512)===56320?o.push(((et&1023)<<10)+(st&1023)+65536):(o.push(et),_--)}else o.push(et)}return o},fromCodePoint$1=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(String.fromCodePoint)return String.fromCodePoint.apply(String,s);var _=s.length;if(!_)return"";for(var j=[],et=-1,st="";++et<_;){var nt=s[et];nt<=65535?j.push(nt):(nt-=65536,j.push((nt>>10)+55296,nt%1024+56320)),(et+1===_||j.length>16384)&&(st+=String.fromCharCode.apply(String,j),j.length=0)}return st},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1$1=function(s){var o=s.length*.75,_=s.length,j,et=0,st,nt,ct,At;s[s.length-1]==="="&&(o--,s[s.length-2]==="="&&o--);var mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(o):new Array(o),gt=Array.isArray(mt)?mt:new Uint8Array(mt);for(j=0;j<_;j+=4)st=lookup$1$1[s.charCodeAt(j)],nt=lookup$1$1[s.charCodeAt(j+1)],ct=lookup$1$1[s.charCodeAt(j+2)],At=lookup$1$1[s.charCodeAt(j+3)],gt[et++]=st<<2|nt>>4,gt[et++]=(nt&15)<<4|ct>>2,gt[et++]=(ct&3)<<6|At&63;return mt},polyUint16Array$1=function(s){for(var o=s.length,_=[],j=0;j<o;j+=2)_.push(s[j+1]<<8|s[j]);return _},polyUint32Array$1=function(s){for(var o=s.length,_=[],j=0;j<o;j+=4)_.push(s[j+3]<<24|s[j+2]<<16|s[j+1]<<8|s[j]);return _},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(s,o,_){return s.slice?s.slice(o,_):new Uint16Array(Array.prototype.slice.call(s,o,_))},slice32$1=function(s,o,_){return s.slice?s.slice(o,_):new Uint32Array(Array.prototype.slice.call(s,o,_))},createTrieFromBase64$1=function(s,o){var _=decode$1$1(s),j=Array.isArray(_)?polyUint32Array$1(_):new Uint32Array(_),et=Array.isArray(_)?polyUint16Array$1(_):new Uint16Array(_),st=24,nt=slice16$1(et,st/2,j[4]/2),ct=j[5]===2?slice16$1(et,(st+j[4])/2):slice32$1(j,Math.ceil((st+j[4])/4));return new Trie$1(j[0],j[1],j[2],j[3],nt,ct)},Trie$1=function(){function s(o,_,j,et,st,nt){this.initialValue=o,this.errorValue=_,this.highStart=j,this.highValueIndex=et,this.index=st,this.data=nt}return s.prototype.get=function(o){var _;if(o>=0){if(o<55296||o>56319&&o<=65535)return _=this.index[o>>UTRIE2_SHIFT_2$1],_=(_<<UTRIE2_INDEX_SHIFT$1)+(o&UTRIE2_DATA_MASK$1),this.data[_];if(o<=65535)return _=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(o-55296>>UTRIE2_SHIFT_2$1)],_=(_<<UTRIE2_INDEX_SHIFT$1)+(o&UTRIE2_DATA_MASK$1),this.data[_];if(o<this.highStart)return _=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(o>>UTRIE2_SHIFT_1$1),_=this.index[_],_+=o>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,_=this.index[_],_=(_<<UTRIE2_INDEX_SHIFT$1)+(o&UTRIE2_DATA_MASK$1),this.data[_];if(o<=1114111)return this.data[this.highValueIndex]}return this.errorValue},s}(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="×",BREAK_ALLOWED$1="÷",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(s,o){o===void 0&&(o="strict");var _=[],j=[],et=[];return s.forEach(function(st,nt){var ct=UnicodeTrie$1.get(st);if(ct>LETTER_NUMBER_MODIFIER?(et.push(!0),ct-=LETTER_NUMBER_MODIFIER):et.push(!1),["normal","auto","loose"].indexOf(o)!==-1&&[8208,8211,12316,12448].indexOf(st)!==-1)return j.push(nt),_.push(CB);if(ct===CM||ct===ZWJ$1){if(nt===0)return j.push(nt),_.push(AL);var At=_[nt-1];return LINE_BREAKS.indexOf(At)===-1?(j.push(j[nt-1]),_.push(At)):(j.push(nt),_.push(AL))}if(j.push(nt),ct===CJ)return _.push(o==="strict"?NS:ID);if(ct===SA||ct===AI)return _.push(AL);if(ct===XX)return st>=131072&&st<=196605||st>=196608&&st<=262141?_.push(ID):_.push(AL);_.push(ct)}),[j,_,et]},isAdjacentWithSpaceIgnored=function(s,o,_,j){var et=j[_];if(Array.isArray(s)?s.indexOf(et)!==-1:s===et)for(var st=_;st<=j.length;){st++;var nt=j[st];if(nt===o)return!0;if(nt!==SP)break}if(et===SP)for(var st=_;st>0;){st--;var ct=j[st];if(Array.isArray(s)?s.indexOf(ct)!==-1:s===ct)for(var At=_;At<=j.length;){At++;var nt=j[At];if(nt===o)return!0;if(nt!==SP)break}if(ct!==SP)break}return!1},previousNonSpaceClassType=function(s,o){for(var _=s;_>=0;){var j=o[_];if(j===SP)_--;else return j}return 0},_lineBreakAtIndex=function(s,o,_,j,et){if(_[j]===0)return BREAK_NOT_ALLOWED$1;var st=j-1;if(Array.isArray(et)&&et[st]===!0)return BREAK_NOT_ALLOWED$1;var nt=st-1,ct=st+1,At=o[st],mt=nt>=0?o[nt]:0,gt=o[ct];if(At===CR$1&&gt===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(At)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(gt)!==-1||SPACE$1.indexOf(gt)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(st,o)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(s[st])===ZWJ$1||(At===EB||At===EM)&&UnicodeTrie$1.get(s[ct])===ZWJ$1||At===WJ||gt===WJ||At===GL||[SP,BA,HY].indexOf(At)===-1&&gt===GL||[CL,CP,EX,IS,SY].indexOf(gt)!==-1||previousNonSpaceClassType(st,o)===OP||isAdjacentWithSpaceIgnored(QU,OP,st,o)||isAdjacentWithSpaceIgnored([CL,CP],NS,st,o)||isAdjacentWithSpaceIgnored(B2,B2,st,o))return BREAK_NOT_ALLOWED$1;if(At===SP)return BREAK_ALLOWED$1;if(At===QU||gt===QU)return BREAK_NOT_ALLOWED$1;if(gt===CB||At===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(gt)!==-1||At===BB||mt===HL&&HYPHEN.indexOf(At)!==-1||At===SY&&gt===HL||gt===IN||ALPHABETICS.indexOf(gt)!==-1&&At===NU||ALPHABETICS.indexOf(At)!==-1&&gt===NU||At===PR&&[ID,EB,EM].indexOf(gt)!==-1||[ID,EB,EM].indexOf(At)!==-1&&gt===PO||ALPHABETICS.indexOf(At)!==-1&&PREFIX_POSTFIX.indexOf(gt)!==-1||PREFIX_POSTFIX.indexOf(At)!==-1&&ALPHABETICS.indexOf(gt)!==-1||[PR,PO].indexOf(At)!==-1&&(gt===NU||[OP,HY].indexOf(gt)!==-1&&o[ct+1]===NU)||[OP,HY].indexOf(At)!==-1&&gt===NU||At===NU&&[NU,SY,IS].indexOf(gt)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(gt)!==-1)for(var _t=st;_t>=0;){var Et=o[_t];if(Et===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Et)!==-1)_t--;else break}if([PR,PO].indexOf(gt)!==-1)for(var _t=[CL,CP].indexOf(At)!==-1?nt:st;_t>=0;){var Et=o[_t];if(Et===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(Et)!==-1)_t--;else break}if(JL===At&&[JL,JV,H2,H3].indexOf(gt)!==-1||[JV,H2].indexOf(At)!==-1&&[JV,JT].indexOf(gt)!==-1||[JT,H3].indexOf(At)!==-1&&gt===JT||KOREAN_SYLLABLE_BLOCK.indexOf(At)!==-1&&[IN,PO].indexOf(gt)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(gt)!==-1&&At===PR||ALPHABETICS.indexOf(At)!==-1&&ALPHABETICS.indexOf(gt)!==-1||At===IS&&ALPHABETICS.indexOf(gt)!==-1||ALPHABETICS.concat(NU).indexOf(At)!==-1&&gt===OP&&ea_OP.indexOf(s[ct])===-1||ALPHABETICS.concat(NU).indexOf(gt)!==-1&&At===CP)return BREAK_NOT_ALLOWED$1;if(At===RI$1&&gt===RI$1){for(var Ct=_[st],Bt=1;Ct>0&&(Ct--,o[Ct]===RI$1);)Bt++;if(Bt%2!==0)return BREAK_NOT_ALLOWED$1}return At===EB&&gt===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(s,o){o||(o={lineBreak:"normal",wordBreak:"normal"});var _=codePointsToCharacterClasses(s,o.lineBreak),j=_[0],et=_[1],st=_[2];(o.wordBreak==="break-all"||o.wordBreak==="break-word")&&(et=et.map(function(ct){return[NU,AL,SA].indexOf(ct)!==-1?ID:ct}));var nt=o.wordBreak==="keep-all"?st.map(function(ct,At){return ct&&s[At]>=19968&&s[At]<=40959}):void 0;return[j,et,nt]},Break=function(){function s(o,_,j,et){this.codePoints=o,this.required=_===BREAK_MANDATORY,this.start=j,this.end=et}return s.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},s}(),LineBreaker=function(s,o){var _=toCodePoints$1(s),j=cssFormattedClasses(_,o),et=j[0],st=j[1],nt=j[2],ct=_.length,At=0,mt=0;return{next:function(){if(mt>=ct)return{done:!0,value:null};for(var gt=BREAK_NOT_ALLOWED$1;mt<ct&&(gt=_lineBreakAtIndex(_,st,et,++mt,nt))===BREAK_NOT_ALLOWED$1;);if(gt!==BREAK_NOT_ALLOWED$1||mt===ct){var _t=new Break(_,gt,At,mt);return At=mt,{value:_t,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z$1=122,A=65,E$1=69,F$1=70,U=85,Z=90,isDigit=function(s){return s>=ZERO&&s<=57},isSurrogateCodePoint=function(s){return s>=55296&&s<=57343},isHex=function(s){return isDigit(s)||s>=A&&s<=F$1||s>=a&&s<=f},isLowerCaseLetter=function(s){return s>=a&&s<=z$1},isUpperCaseLetter=function(s){return s>=A&&s<=Z},isLetter=function(s){return isLowerCaseLetter(s)||isUpperCaseLetter(s)},isNonASCIICodePoint=function(s){return s>=CONTROL},isWhiteSpace=function(s){return s===LINE_FEED||s===CHARACTER_TABULATION||s===SPACE},isNameStartCodePoint=function(s){return isLetter(s)||isNonASCIICodePoint(s)||s===LOW_LINE},isNameCodePoint=function(s){return isNameStartCodePoint(s)||isDigit(s)||s===HYPHEN_MINUS},isNonPrintableCodePoint=function(s){return s>=NULL&&s<=BACKSPACE||s===LINE_TABULATION||s>=SHIFT_OUT&&s<=INFORMATION_SEPARATOR_ONE||s===DELETE},isValidEscape=function(s,o){return s!==REVERSE_SOLIDUS?!1:o!==LINE_FEED},isIdentifierStart=function(s,o,_){return s===HYPHEN_MINUS?isNameStartCodePoint(o)||isValidEscape(o,_):isNameStartCodePoint(s)?!0:!!(s===REVERSE_SOLIDUS&&isValidEscape(s,o))},isNumberStart=function(s,o,_){return s===PLUS_SIGN||s===HYPHEN_MINUS?isDigit(o)?!0:o===FULL_STOP&&isDigit(_):isDigit(s===FULL_STOP?o:s)},stringToNumber=function(s){var o=0,_=1;(s[o]===PLUS_SIGN||s[o]===HYPHEN_MINUS)&&(s[o]===HYPHEN_MINUS&&(_=-1),o++);for(var j=[];isDigit(s[o]);)j.push(s[o++]);var et=j.length?parseInt(fromCodePoint$1.apply(void 0,j),10):0;s[o]===FULL_STOP&&o++;for(var st=[];isDigit(s[o]);)st.push(s[o++]);var nt=st.length,ct=nt?parseInt(fromCodePoint$1.apply(void 0,st),10):0;(s[o]===E$1||s[o]===e)&&o++;var At=1;(s[o]===PLUS_SIGN||s[o]===HYPHEN_MINUS)&&(s[o]===HYPHEN_MINUS&&(At=-1),o++);for(var mt=[];isDigit(s[o]);)mt.push(s[o++]);var gt=mt.length?parseInt(fromCodePoint$1.apply(void 0,mt),10):0;return _*(et+ct*Math.pow(10,-nt))*Math.pow(10,At*gt)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=function(){function s(){this._value=[]}return s.prototype.write=function(o){this._value=this._value.concat(toCodePoints$1(o))},s.prototype.read=function(){for(var o=[],_=this.consumeToken();_!==EOF_TOKEN;)o.push(_),_=this.consumeToken();return o},s.prototype.consumeToken=function(){var o=this.consumeCodePoint();switch(o){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var _=this.peekCodePoint(0),j=this.peekCodePoint(1),et=this.peekCodePoint(2);if(isNameCodePoint(_)||isValidEscape(j,et)){var st=isIdentifierStart(_,j,et)?FLAG_ID:FLAG_UNRESTRICTED,nt=this.consumeName();return{type:5,value:nt,flags:st}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(o,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(o),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var ct=o,At=this.peekCodePoint(0),mt=this.peekCodePoint(1);if(isNumberStart(ct,At,mt))return this.reconsumeCodePoint(o),this.consumeNumericToken();if(isIdentifierStart(ct,At,mt))return this.reconsumeCodePoint(o),this.consumeIdentLikeToken();if(At===HYPHEN_MINUS&&mt===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(o,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(o),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var gt=this.consumeCodePoint();if(gt===ASTERISK&&(gt=this.consumeCodePoint(),gt===SOLIDUS))return this.consumeToken();if(gt===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var _t=this.peekCodePoint(0),Et=this.peekCodePoint(1),Ct=this.peekCodePoint(2);if(isIdentifierStart(_t,Et,Ct)){var nt=this.consumeName();return{type:7,value:nt}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(o,this.peekCodePoint(0)))return this.reconsumeCodePoint(o),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var Bt=this.peekCodePoint(0),Dt=this.peekCodePoint(1);return Bt===PLUS_SIGN&&(isHex(Dt)||Dt===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(o),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(o)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(o)?(this.reconsumeCodePoint(o),this.consumeNumericToken()):isNameStartCodePoint(o)?(this.reconsumeCodePoint(o),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(o)}},s.prototype.consumeCodePoint=function(){var o=this._value.shift();return typeof o>"u"?-1:o},s.prototype.reconsumeCodePoint=function(o){this._value.unshift(o)},s.prototype.peekCodePoint=function(o){return o>=this._value.length?-1:this._value[o]},s.prototype.consumeUnicodeRangeToken=function(){for(var o=[],_=this.consumeCodePoint();isHex(_)&&o.length<6;)o.push(_),_=this.consumeCodePoint();for(var j=!1;_===QUESTION_MARK&&o.length<6;)o.push(_),_=this.consumeCodePoint(),j=!0;if(j){var et=parseInt(fromCodePoint$1.apply(void 0,o.map(function(At){return At===QUESTION_MARK?ZERO:At})),16),st=parseInt(fromCodePoint$1.apply(void 0,o.map(function(At){return At===QUESTION_MARK?F$1:At})),16);return{type:30,start:et,end:st}}var nt=parseInt(fromCodePoint$1.apply(void 0,o),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),_=this.consumeCodePoint();for(var ct=[];isHex(_)&&ct.length<6;)ct.push(_),_=this.consumeCodePoint();var st=parseInt(fromCodePoint$1.apply(void 0,ct),16);return{type:30,start:nt,end:st}}else return{type:30,start:nt,end:nt}},s.prototype.consumeIdentLikeToken=function(){var o=this.consumeName();return o.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:o}):{type:20,value:o}},s.prototype.consumeUrlToken=function(){var o=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var _=this.peekCodePoint(0);if(_===APOSTROPHE||_===QUOTATION_MARK){var j=this.consumeStringToken(this.consumeCodePoint());return j.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:j.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var et=this.consumeCodePoint();if(et===EOF||et===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,o)};if(isWhiteSpace(et))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,o)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(et===QUOTATION_MARK||et===APOSTROPHE||et===LEFT_PARENTHESIS||isNonPrintableCodePoint(et))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(et===REVERSE_SOLIDUS)if(isValidEscape(et,this.peekCodePoint(0)))o.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else o.push(et)}},s.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},s.prototype.consumeBadUrlRemnants=function(){for(;;){var o=this.consumeCodePoint();if(o===RIGHT_PARENTHESIS||o===EOF)return;isValidEscape(o,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},s.prototype.consumeStringSlice=function(o){for(var _=5e4,j="";o>0;){var et=Math.min(_,o);j+=fromCodePoint$1.apply(void 0,this._value.splice(0,et)),o-=et}return this._value.shift(),j},s.prototype.consumeStringToken=function(o){var _="",j=0;do{var et=this._value[j];if(et===EOF||et===void 0||et===o)return _+=this.consumeStringSlice(j),{type:0,value:_};if(et===LINE_FEED)return this._value.splice(0,j),BAD_STRING_TOKEN;if(et===REVERSE_SOLIDUS){var st=this._value[j+1];st!==EOF&&st!==void 0&&(st===LINE_FEED?(_+=this.consumeStringSlice(j),j=-1,this._value.shift()):isValidEscape(et,st)&&(_+=this.consumeStringSlice(j),_+=fromCodePoint$1(this.consumeEscapedCodePoint()),j=-1))}j++}while(!0)},s.prototype.consumeNumber=function(){var o=[],_=FLAG_INTEGER,j=this.peekCodePoint(0);for((j===PLUS_SIGN||j===HYPHEN_MINUS)&&o.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)o.push(this.consumeCodePoint());j=this.peekCodePoint(0);var et=this.peekCodePoint(1);if(j===FULL_STOP&&isDigit(et))for(o.push(this.consumeCodePoint(),this.consumeCodePoint()),_=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)o.push(this.consumeCodePoint());j=this.peekCodePoint(0),et=this.peekCodePoint(1);var st=this.peekCodePoint(2);if((j===E$1||j===e)&&((et===PLUS_SIGN||et===HYPHEN_MINUS)&&isDigit(st)||isDigit(et)))for(o.push(this.consumeCodePoint(),this.consumeCodePoint()),_=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)o.push(this.consumeCodePoint());return[stringToNumber(o),_]},s.prototype.consumeNumericToken=function(){var o=this.consumeNumber(),_=o[0],j=o[1],et=this.peekCodePoint(0),st=this.peekCodePoint(1),nt=this.peekCodePoint(2);if(isIdentifierStart(et,st,nt)){var ct=this.consumeName();return{type:15,number:_,flags:j,unit:ct}}return et===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:_,flags:j}):{type:17,number:_,flags:j}},s.prototype.consumeEscapedCodePoint=function(){var o=this.consumeCodePoint();if(isHex(o)){for(var _=fromCodePoint$1(o);isHex(this.peekCodePoint(0))&&_.length<6;)_+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var j=parseInt(_,16);return j===0||isSurrogateCodePoint(j)||j>1114111?REPLACEMENT_CHARACTER:j}return o===EOF?REPLACEMENT_CHARACTER:o},s.prototype.consumeName=function(){for(var o="";;){var _=this.consumeCodePoint();if(isNameCodePoint(_))o+=fromCodePoint$1(_);else if(isValidEscape(_,this.peekCodePoint(0)))o+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(_),o}},s}(),Parser=function(){function s(o){this._tokens=o}return s.create=function(o){var _=new Tokenizer;return _.write(o),new s(_.read())},s.parseValue=function(o){return s.create(o).parseComponentValue()},s.parseValues=function(o){return s.create(o).parseComponentValues()},s.prototype.parseComponentValue=function(){for(var o=this.consumeToken();o.type===31;)o=this.consumeToken();if(o.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(o);var _=this.consumeComponentValue();do o=this.consumeToken();while(o.type===31);if(o.type===32)return _;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},s.prototype.parseComponentValues=function(){for(var o=[];;){var _=this.consumeComponentValue();if(_.type===32)return o;o.push(_),o.push()}},s.prototype.consumeComponentValue=function(){var o=this.consumeToken();switch(o.type){case 11:case 28:case 2:return this.consumeSimpleBlock(o.type);case 19:return this.consumeFunction(o)}return o},s.prototype.consumeSimpleBlock=function(o){for(var _={type:o,values:[]},j=this.consumeToken();;){if(j.type===32||isEndingTokenFor(j,o))return _;this.reconsumeToken(j),_.values.push(this.consumeComponentValue()),j=this.consumeToken()}},s.prototype.consumeFunction=function(o){for(var _={name:o.value,values:[],type:18};;){var j=this.consumeToken();if(j.type===32||j.type===3)return _;this.reconsumeToken(j),_.values.push(this.consumeComponentValue())}},s.prototype.consumeToken=function(){var o=this._tokens.shift();return typeof o>"u"?EOF_TOKEN:o},s.prototype.reconsumeToken=function(o){this._tokens.unshift(o)},s}(),isDimensionToken=function(s){return s.type===15},isNumberToken=function(s){return s.type===17},isIdentToken=function(s){return s.type===20},isStringToken=function(s){return s.type===0},isIdentWithValue=function(s,o){return isIdentToken(s)&&s.value===o},nonWhiteSpace=function(s){return s.type!==31},nonFunctionArgSeparator=function(s){return s.type!==31&&s.type!==4},parseFunctionArgs=function(s){var o=[],_=[];return s.forEach(function(j){if(j.type===4){if(_.length===0)throw new Error("Error parsing function args, zero tokens for arg");o.push(_),_=[];return}j.type!==31&&_.push(j)}),_.length&&o.push(_),o},isEndingTokenFor=function(s,o){return o===11&&s.type===12||o===28&&s.type===29?!0:o===2&&s.type===3},isLength=function(s){return s.type===17||s.type===15},isLengthPercentage=function(s){return s.type===16||isLength(s)},parseLengthPercentageTuple=function(s){return s.length>1?[s[0],s[1]]:[s[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(s,o,_){var j=s[0],et=s[1];return[getAbsoluteValue(j,o),getAbsoluteValue(typeof et<"u"?et:j,_)]},getAbsoluteValue=function(s,o){if(s.type===16)return s.number/100*o;if(isDimensionToken(s))switch(s.unit){case"rem":case"em":return 16*s.number;case"px":default:return s.number}return s.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(s,o){if(o.type===15)switch(o.unit){case DEG:return Math.PI*o.number/180;case GRAD:return Math.PI/200*o.number;case RAD:return o.number;case TURN:return Math.PI*2*o.number}throw new Error("Unsupported angle type")}},isAngle=function(s){return s.type===15&&(s.unit===DEG||s.unit===GRAD||s.unit===RAD||s.unit===TURN)},parseNamedSide=function(s){var o=s.filter(isIdentToken).map(function(_){return _.value}).join(" ");switch(o){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(s){return Math.PI*s/180},color$1={name:"color",parse:function(s,o){if(o.type===18){var _=SUPPORTED_COLOR_FUNCTIONS[o.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported color function "'+o.name+'"');return _(s,o.values)}if(o.type===5){if(o.value.length===3){var j=o.value.substring(0,1),et=o.value.substring(1,2),st=o.value.substring(2,3);return pack(parseInt(j+j,16),parseInt(et+et,16),parseInt(st+st,16),1)}if(o.value.length===4){var j=o.value.substring(0,1),et=o.value.substring(1,2),st=o.value.substring(2,3),nt=o.value.substring(3,4);return pack(parseInt(j+j,16),parseInt(et+et,16),parseInt(st+st,16),parseInt(nt+nt,16)/255)}if(o.value.length===6){var j=o.value.substring(0,2),et=o.value.substring(2,4),st=o.value.substring(4,6);return pack(parseInt(j,16),parseInt(et,16),parseInt(st,16),1)}if(o.value.length===8){var j=o.value.substring(0,2),et=o.value.substring(2,4),st=o.value.substring(4,6),nt=o.value.substring(6,8);return pack(parseInt(j,16),parseInt(et,16),parseInt(st,16),parseInt(nt,16)/255)}}if(o.type===20){var ct=COLORS[o.value.toUpperCase()];if(typeof ct<"u")return ct}return COLORS.TRANSPARENT}},isTransparent=function(s){return(255&s)===0},asString=function(s){var o=255&s,_=255&s>>8,j=255&s>>16,et=255&s>>24;return o<255?"rgba("+et+","+j+","+_+","+o/255+")":"rgb("+et+","+j+","+_+")"},pack=function(s,o,_,j){return(s<<24|o<<16|_<<8|Math.round(j*255)<<0)>>>0},getTokenColorValue=function(s,o){if(s.type===17)return s.number;if(s.type===16){var _=o===3?1:255;return o===3?s.number/100*_:Math.round(s.number/100*_)}return 0},rgb=function(s,o){var _=o.filter(nonFunctionArgSeparator);if(_.length===3){var j=_.map(getTokenColorValue),et=j[0],st=j[1],nt=j[2];return pack(et,st,nt,1)}if(_.length===4){var ct=_.map(getTokenColorValue),et=ct[0],st=ct[1],nt=ct[2],At=ct[3];return pack(et,st,nt,At)}return 0};function hue2rgb(s,o,_){return _<0&&(_+=1),_>=1&&(_-=1),_<1/6?(o-s)*_*6+s:_<1/2?o:_<2/3?(o-s)*6*(2/3-_)+s:s}var hsl=function(s,o){var _=o.filter(nonFunctionArgSeparator),j=_[0],et=_[1],st=_[2],nt=_[3],ct=(j.type===17?deg(j.number):angle.parse(s,j))/(Math.PI*2),At=isLengthPercentage(et)?et.number/100:0,mt=isLengthPercentage(st)?st.number/100:0,gt=typeof nt<"u"&&isLengthPercentage(nt)?getAbsoluteValue(nt,1):1;if(At===0)return pack(mt*255,mt*255,mt*255,1);var _t=mt<=.5?mt*(At+1):mt+At-mt*At,Et=mt*2-_t,Ct=hue2rgb(Et,_t,ct+1/3),Bt=hue2rgb(Et,_t,ct),Dt=hue2rgb(Et,_t,ct-1/3);return pack(Ct*255,Bt*255,Dt*255,gt)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(s,o){return color$1.parse(s,Parser.create(o).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(s,o){return o.map(function(_){if(isIdentToken(_))switch(_.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(s,o){var _=color$1.parse(s,o[0]),j=o[1];return j&&isLengthPercentage(j)?{color:_,stop:j}:{color:_,stop:null}},processColorStops=function(s,o){var _=s[0],j=s[s.length-1];_.stop===null&&(_.stop=ZERO_LENGTH),j.stop===null&&(j.stop=HUNDRED_PERCENT);for(var et=[],st=0,nt=0;nt<s.length;nt++){var ct=s[nt].stop;if(ct!==null){var At=getAbsoluteValue(ct,o);At>st?et.push(At):et.push(st),st=At}else et.push(null)}for(var mt=null,nt=0;nt<et.length;nt++){var gt=et[nt];if(gt===null)mt===null&&(mt=nt);else if(mt!==null){for(var _t=nt-mt,Et=et[mt-1],Ct=(gt-Et)/(_t+1),Bt=1;Bt<=_t;Bt++)et[mt+Bt-1]=Ct*Bt;mt=null}}return s.map(function(Dt,Ft){var Rt=Dt.color;return{color:Rt,stop:Math.max(Math.min(1,et[Ft]/o),0)}})},getAngleFromCorner=function(s,o,_){var j=o/2,et=_/2,st=getAbsoluteValue(s[0],o)-j,nt=et-getAbsoluteValue(s[1],_);return(Math.atan2(nt,st)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(s,o,_){var j=typeof s=="number"?s:getAngleFromCorner(s,o,_),et=Math.abs(o*Math.sin(j))+Math.abs(_*Math.cos(j)),st=o/2,nt=_/2,ct=et/2,At=Math.sin(j-Math.PI/2)*ct,mt=Math.cos(j-Math.PI/2)*ct;return[et,st-mt,st+mt,nt-At,nt+At]},distance=function(s,o){return Math.sqrt(s*s+o*o)},findCorner=function(s,o,_,j,et){var st=[[0,0],[0,o],[s,0],[s,o]];return st.reduce(function(nt,ct){var At=ct[0],mt=ct[1],gt=distance(_-At,j-mt);return(et?gt<nt.optimumDistance:gt>nt.optimumDistance)?{optimumCorner:ct,optimumDistance:gt}:nt},{optimumDistance:et?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(s,o,_,j,et){var st=0,nt=0;switch(s.size){case 0:s.shape===0?st=nt=Math.min(Math.abs(o),Math.abs(o-j),Math.abs(_),Math.abs(_-et)):s.shape===1&&(st=Math.min(Math.abs(o),Math.abs(o-j)),nt=Math.min(Math.abs(_),Math.abs(_-et)));break;case 2:if(s.shape===0)st=nt=Math.min(distance(o,_),distance(o,_-et),distance(o-j,_),distance(o-j,_-et));else if(s.shape===1){var ct=Math.min(Math.abs(_),Math.abs(_-et))/Math.min(Math.abs(o),Math.abs(o-j)),At=findCorner(j,et,o,_,!0),mt=At[0],gt=At[1];st=distance(mt-o,(gt-_)/ct),nt=ct*st}break;case 1:s.shape===0?st=nt=Math.max(Math.abs(o),Math.abs(o-j),Math.abs(_),Math.abs(_-et)):s.shape===1&&(st=Math.max(Math.abs(o),Math.abs(o-j)),nt=Math.max(Math.abs(_),Math.abs(_-et)));break;case 3:if(s.shape===0)st=nt=Math.max(distance(o,_),distance(o,_-et),distance(o-j,_),distance(o-j,_-et));else if(s.shape===1){var ct=Math.max(Math.abs(_),Math.abs(_-et))/Math.max(Math.abs(o),Math.abs(o-j)),_t=findCorner(j,et,o,_,!1),mt=_t[0],gt=_t[1];st=distance(mt-o,(gt-_)/ct),nt=ct*st}break}return Array.isArray(s.size)&&(st=getAbsoluteValue(s.size[0],j),nt=s.size.length===2?getAbsoluteValue(s.size[1],et):st),[st,nt]},linearGradient=function(s,o){var _=deg(180),j=[];return parseFunctionArgs(o).forEach(function(et,st){if(st===0){var nt=et[0];if(nt.type===20&&nt.value==="to"){_=parseNamedSide(et);return}else if(isAngle(nt)){_=angle.parse(s,nt);return}}var ct=parseColorStop(s,et);j.push(ct)}),{angle:_,stops:j,type:1}},prefixLinearGradient=function(s,o){var _=deg(180),j=[];return parseFunctionArgs(o).forEach(function(et,st){if(st===0){var nt=et[0];if(nt.type===20&&["top","left","right","bottom"].indexOf(nt.value)!==-1){_=parseNamedSide(et);return}else if(isAngle(nt)){_=(angle.parse(s,nt)+deg(270))%deg(360);return}}var ct=parseColorStop(s,et);j.push(ct)}),{angle:_,stops:j,type:1}},webkitGradient=function(s,o){var _=deg(180),j=[],et=1,st=0,nt=3,ct=[];return parseFunctionArgs(o).forEach(function(At,mt){var gt=At[0];if(mt===0){if(isIdentToken(gt)&&gt.value==="linear"){et=1;return}else if(isIdentToken(gt)&&gt.value==="radial"){et=2;return}}if(gt.type===18){if(gt.name==="from"){var _t=color$1.parse(s,gt.values[0]);j.push({stop:ZERO_LENGTH,color:_t})}else if(gt.name==="to"){var _t=color$1.parse(s,gt.values[0]);j.push({stop:HUNDRED_PERCENT,color:_t})}else if(gt.name==="color-stop"){var Et=gt.values.filter(nonFunctionArgSeparator);if(Et.length===2){var _t=color$1.parse(s,Et[1]),Ct=Et[0];isNumberToken(Ct)&&j.push({stop:{type:16,number:Ct.number*100,flags:Ct.flags},color:_t})}}}}),et===1?{angle:(_+deg(180))%deg(360),stops:j,type:et}:{size:nt,shape:st,stops:j,position:ct,type:et}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(s,o){var _=0,j=3,et=[],st=[];return parseFunctionArgs(o).forEach(function(nt,ct){var At=!0;if(ct===0){var mt=!1;At=nt.reduce(function(_t,Et){if(mt)if(isIdentToken(Et))switch(Et.value){case"center":return st.push(FIFTY_PERCENT),_t;case"top":case"left":return st.push(ZERO_LENGTH),_t;case"right":case"bottom":return st.push(HUNDRED_PERCENT),_t}else(isLengthPercentage(Et)||isLength(Et))&&st.push(Et);else if(isIdentToken(Et))switch(Et.value){case CIRCLE:return _=0,!1;case ELLIPSE:return _=1,!1;case"at":return mt=!0,!1;case CLOSEST_SIDE:return j=0,!1;case COVER:case FARTHEST_SIDE:return j=1,!1;case CONTAIN:case CLOSEST_CORNER:return j=2,!1;case FARTHEST_CORNER:return j=3,!1}else if(isLength(Et)||isLengthPercentage(Et))return Array.isArray(j)||(j=[]),j.push(Et),!1;return _t},At)}if(At){var gt=parseColorStop(s,nt);et.push(gt)}}),{size:j,shape:_,stops:et,position:st,type:2}},prefixRadialGradient=function(s,o){var _=0,j=3,et=[],st=[];return parseFunctionArgs(o).forEach(function(nt,ct){var At=!0;if(ct===0?At=nt.reduce(function(gt,_t){if(isIdentToken(_t))switch(_t.value){case"center":return st.push(FIFTY_PERCENT),!1;case"top":case"left":return st.push(ZERO_LENGTH),!1;case"right":case"bottom":return st.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(_t)||isLength(_t))return st.push(_t),!1;return gt},At):ct===1&&(At=nt.reduce(function(gt,_t){if(isIdentToken(_t))switch(_t.value){case CIRCLE:return _=0,!1;case ELLIPSE:return _=1,!1;case CONTAIN:case CLOSEST_SIDE:return j=0,!1;case FARTHEST_SIDE:return j=1,!1;case CLOSEST_CORNER:return j=2,!1;case COVER:case FARTHEST_CORNER:return j=3,!1}else if(isLength(_t)||isLengthPercentage(_t))return Array.isArray(j)||(j=[]),j.push(_t),!1;return gt},At)),At){var mt=parseColorStop(s,nt);et.push(mt)}}),{size:j,shape:_,stops:et,position:st,type:2}},isLinearGradient=function(s){return s.type===1},isRadialGradient=function(s){return s.type===2},image={name:"image",parse:function(s,o){if(o.type===22){var _={url:o.value,type:0};return s.cache.addImage(o.value),_}if(o.type===18){var j=SUPPORTED_IMAGE_FUNCTIONS[o.name];if(typeof j>"u")throw new Error('Attempting to parse an unsupported image function "'+o.name+'"');return j(s,o.values)}throw new Error("Unsupported image type "+o.type)}};function isSupportedImage(s){return!(s.type===20&&s.value==="none")&&(s.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[s.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(s,o){if(o.length===0)return[];var _=o[0];return _.type===20&&_.value==="none"?[]:o.filter(function(j){return nonFunctionArgSeparator(j)&&isSupportedImage(j)}).map(function(j){return image.parse(s,j)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(s,o){return o.map(function(_){if(isIdentToken(_))switch(_.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(s,o){return parseFunctionArgs(o).map(function(_){return _.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(s,o){return parseFunctionArgs(o).map(function(_){return _.filter(isIdentToken).map(function(j){return j.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(s){switch(s){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(s){s.AUTO="auto",s.CONTAIN="contain",s.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(s,o){return parseFunctionArgs(o).map(function(_){return _.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(s){return isIdentToken(s)||isLengthPercentage(s)},borderColorForSide=function(s){return{name:"border-"+s+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(s){return{name:"border-radius-"+s,initialValue:"0 0",prefix:!1,type:1,parse:function(o,_){return parseLengthPercentageTuple(_.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(s){return{name:"border-"+s+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(o,_){switch(_){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(s){return{name:"border-"+s+"-width",initialValue:"0",type:0,prefix:!1,parse:function(o,_){return isDimensionToken(_)?_.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(s,o){switch(o){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(s,o){return o.filter(isIdentToken).reduce(function(_,j){return _|parseDisplayValue(j.value)},0)}},parseDisplayValue=function(s){switch(s){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(s,o){switch(o){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(s,o){return o.type===20&&o.value==="normal"?0:o.type===17||o.type===15?o.number:0}},LINE_BREAK;(function(s){s.NORMAL="normal",s.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(s,o){switch(o){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(s,o){return isIdentToken(s)&&s.value==="normal"?1.2*o:s.type===17?o*s.number:isLengthPercentage(s)?getAbsoluteValue(s,o):o},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(s,o){return o.type===20&&o.value==="none"?null:image.parse(s,o)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(s,o){switch(o){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(s,o){switch(o){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(s){return{name:"margin-"+s,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(s,o){return o.filter(isIdentToken).map(function(_){switch(_.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(s,o){switch(o){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(s){return{name:"padding-"+s,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(s,o){switch(o){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(s,o){switch(o){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(s,o){return o.length===1&&isIdentWithValue(o[0],"none")?[]:parseFunctionArgs(o).map(function(_){for(var j={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},et=0,st=0;st<_.length;st++){var nt=_[st];isLength(nt)?(et===0?j.offsetX=nt:et===1?j.offsetY=nt:j.blur=nt,et++):j.color=color$1.parse(s,nt)}return j})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(s,o){switch(o){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(s,o){if(o.type===20&&o.value==="none")return null;if(o.type===18){var _=SUPPORTED_TRANSFORM_FUNCTIONS[o.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported transform function "'+o.name+'"');return _(o.values)}return null}},matrix=function(s){var o=s.filter(function(_){return _.type===17}).map(function(_){return _.number});return o.length===6?o:null},matrix3d=function(s){var o=s.filter(function(At){return At.type===17}).map(function(At){return At.number}),_=o[0],j=o[1];o[2],o[3];var et=o[4],st=o[5];o[6],o[7],o[8],o[9],o[10],o[11];var nt=o[12],ct=o[13];return o[14],o[15],o.length===16?[_,j,et,st,nt,ct]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(s,o){var _=o.filter(isLengthPercentage);return _.length!==2?DEFAULT:[_[0],_[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(s,o){switch(o){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(s){s.NORMAL="normal",s.BREAK_ALL="break-all",s.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(s,o){switch(o){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(s,o){if(o.type===20)return{auto:!0,order:0};if(isNumberToken(o))return{auto:!1,order:o.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(s,o){if(o.type===15)switch(o.unit.toLowerCase()){case"s":return 1e3*o.number;case"ms":return o.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(s,o){return isNumberToken(o)?o.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(s,o){return o.filter(isIdentToken).map(function(_){switch(_.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(_){return _!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(s,o){var _=[],j=[];return o.forEach(function(et){switch(et.type){case 20:case 0:_.push(et.value);break;case 17:_.push(et.number.toString());break;case 4:j.push(_.join(" ")),_.length=0;break}}),_.length&&j.push(_.join(" ")),j.map(function(et){return et.indexOf(" ")===-1?et:"'"+et+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(s,o){if(isNumberToken(o))return o.number;if(isIdentToken(o))switch(o.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(s,o){return o.filter(isIdentToken).map(function(_){return _.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(s,o){switch(o){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(s,o){return(s&o)!==0},content={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(s,o){if(o.length===0)return[];var _=o[0];return _.type===20&&_.value==="none"?[]:o}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(s,o){if(o.length===0)return null;var _=o[0];if(_.type===20&&_.value==="none")return null;for(var j=[],et=o.filter(nonWhiteSpace),st=0;st<et.length;st++){var nt=et[st],ct=et[st+1];if(nt.type===20){var At=ct&&isNumberToken(ct)?ct.number:1;j.push({counter:nt.value,increment:At})}}return j}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(s,o){if(o.length===0)return[];for(var _=[],j=o.filter(nonWhiteSpace),et=0;et<j.length;et++){var st=j[et],nt=j[et+1];if(isIdentToken(st)&&st.value!=="none"){var ct=nt&&isNumberToken(nt)?nt.number:0;_.push({counter:st.value,reset:ct})}}return _}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(s,o){return o.filter(isDimensionToken).map(function(_){return time.parse(s,_)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(s,o){if(o.length===0)return null;var _=o[0];if(_.type===20&&_.value==="none")return null;var j=[],et=o.filter(isStringToken);if(et.length%2!==0)return null;for(var st=0;st<et.length;st+=2){var nt=et[st].value,ct=et[st+1].value;j.push({open:nt,close:ct})}return j}},getQuote=function(s,o,_){if(!s)return"";var j=s[Math.min(o,s.length-1)];return j?_?j.open:j.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(s,o){return o.length===1&&isIdentWithValue(o[0],"none")?[]:parseFunctionArgs(o).map(function(_){for(var j={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},et=0,st=0;st<_.length;st++){var nt=_[st];isIdentWithValue(nt,"inset")?j.inset=!0:isLength(nt)?(et===0?j.offsetX=nt:et===1?j.offsetY=nt:et===2?j.blur=nt:j.spread=nt,et++):j.color=color$1.parse(s,nt)}return j})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(s,o){var _=[0,1,2],j=[];return o.filter(isIdentToken).forEach(function(et){switch(et.value){case"stroke":j.push(1);break;case"fill":j.push(0);break;case"markers":j.push(2);break}}),_.forEach(function(et){j.indexOf(et)===-1&&j.push(et)}),j}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(s,o){return isDimensionToken(o)?o.number:0}},CSSParsedDeclaration=function(){function s(o,_){var j,et;this.animationDuration=parse$1(o,duration,_.animationDuration),this.backgroundClip=parse$1(o,backgroundClip,_.backgroundClip),this.backgroundColor=parse$1(o,backgroundColor,_.backgroundColor),this.backgroundImage=parse$1(o,backgroundImage,_.backgroundImage),this.backgroundOrigin=parse$1(o,backgroundOrigin,_.backgroundOrigin),this.backgroundPosition=parse$1(o,backgroundPosition,_.backgroundPosition),this.backgroundRepeat=parse$1(o,backgroundRepeat,_.backgroundRepeat),this.backgroundSize=parse$1(o,backgroundSize,_.backgroundSize),this.borderTopColor=parse$1(o,borderTopColor,_.borderTopColor),this.borderRightColor=parse$1(o,borderRightColor,_.borderRightColor),this.borderBottomColor=parse$1(o,borderBottomColor,_.borderBottomColor),this.borderLeftColor=parse$1(o,borderLeftColor,_.borderLeftColor),this.borderTopLeftRadius=parse$1(o,borderTopLeftRadius,_.borderTopLeftRadius),this.borderTopRightRadius=parse$1(o,borderTopRightRadius,_.borderTopRightRadius),this.borderBottomRightRadius=parse$1(o,borderBottomRightRadius,_.borderBottomRightRadius),this.borderBottomLeftRadius=parse$1(o,borderBottomLeftRadius,_.borderBottomLeftRadius),this.borderTopStyle=parse$1(o,borderTopStyle,_.borderTopStyle),this.borderRightStyle=parse$1(o,borderRightStyle,_.borderRightStyle),this.borderBottomStyle=parse$1(o,borderBottomStyle,_.borderBottomStyle),this.borderLeftStyle=parse$1(o,borderLeftStyle,_.borderLeftStyle),this.borderTopWidth=parse$1(o,borderTopWidth,_.borderTopWidth),this.borderRightWidth=parse$1(o,borderRightWidth,_.borderRightWidth),this.borderBottomWidth=parse$1(o,borderBottomWidth,_.borderBottomWidth),this.borderLeftWidth=parse$1(o,borderLeftWidth,_.borderLeftWidth),this.boxShadow=parse$1(o,boxShadow,_.boxShadow),this.color=parse$1(o,color,_.color),this.direction=parse$1(o,direction,_.direction),this.display=parse$1(o,display,_.display),this.float=parse$1(o,float,_.cssFloat),this.fontFamily=parse$1(o,fontFamily,_.fontFamily),this.fontSize=parse$1(o,fontSize,_.fontSize),this.fontStyle=parse$1(o,fontStyle,_.fontStyle),this.fontVariant=parse$1(o,fontVariant,_.fontVariant),this.fontWeight=parse$1(o,fontWeight,_.fontWeight),this.letterSpacing=parse$1(o,letterSpacing,_.letterSpacing),this.lineBreak=parse$1(o,lineBreak,_.lineBreak),this.lineHeight=parse$1(o,lineHeight,_.lineHeight),this.listStyleImage=parse$1(o,listStyleImage,_.listStyleImage),this.listStylePosition=parse$1(o,listStylePosition,_.listStylePosition),this.listStyleType=parse$1(o,listStyleType,_.listStyleType),this.marginTop=parse$1(o,marginTop,_.marginTop),this.marginRight=parse$1(o,marginRight,_.marginRight),this.marginBottom=parse$1(o,marginBottom,_.marginBottom),this.marginLeft=parse$1(o,marginLeft,_.marginLeft),this.opacity=parse$1(o,opacity,_.opacity);var st=parse$1(o,overflow,_.overflow);this.overflowX=st[0],this.overflowY=st[st.length>1?1:0],this.overflowWrap=parse$1(o,overflowWrap,_.overflowWrap),this.paddingTop=parse$1(o,paddingTop,_.paddingTop),this.paddingRight=parse$1(o,paddingRight,_.paddingRight),this.paddingBottom=parse$1(o,paddingBottom,_.paddingBottom),this.paddingLeft=parse$1(o,paddingLeft,_.paddingLeft),this.paintOrder=parse$1(o,paintOrder,_.paintOrder),this.position=parse$1(o,position,_.position),this.textAlign=parse$1(o,textAlign,_.textAlign),this.textDecorationColor=parse$1(o,textDecorationColor,(j=_.textDecorationColor)!==null&&j!==void 0?j:_.color),this.textDecorationLine=parse$1(o,textDecorationLine,(et=_.textDecorationLine)!==null&&et!==void 0?et:_.textDecoration),this.textShadow=parse$1(o,textShadow,_.textShadow),this.textTransform=parse$1(o,textTransform,_.textTransform),this.transform=parse$1(o,transform$1,_.transform),this.transformOrigin=parse$1(o,transformOrigin,_.transformOrigin),this.visibility=parse$1(o,visibility,_.visibility),this.webkitTextStrokeColor=parse$1(o,webkitTextStrokeColor,_.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse$1(o,webkitTextStrokeWidth,_.webkitTextStrokeWidth),this.wordBreak=parse$1(o,wordBreak,_.wordBreak),this.zIndex=parse$1(o,zIndex,_.zIndex)}return s.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},s.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},s.prototype.isTransformed=function(){return this.transform!==null},s.prototype.isPositioned=function(){return this.position!==0},s.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},s.prototype.isFloating=function(){return this.float!==0},s.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},s}(),CSSParsedPseudoDeclaration=function(){function s(o,_){this.content=parse$1(o,content,_.content),this.quotes=parse$1(o,quotes,_.quotes)}return s}(),CSSParsedCounterDeclaration=function(){function s(o,_){this.counterIncrement=parse$1(o,counterIncrement,_.counterIncrement),this.counterReset=parse$1(o,counterReset,_.counterReset)}return s}(),parse$1=function(s,o,_){var j=new Tokenizer,et=_!==null&&typeof _<"u"?_.toString():o.initialValue;j.write(et);var st=new Parser(j.read());switch(o.type){case 2:var nt=st.parseComponentValue();return o.parse(s,isIdentToken(nt)?nt.value:o.initialValue);case 0:return o.parse(s,st.parseComponentValue());case 1:return o.parse(s,st.parseComponentValues());case 4:return st.parseComponentValue();case 3:switch(o.format){case"angle":return angle.parse(s,st.parseComponentValue());case"color":return color$1.parse(s,st.parseComponentValue());case"image":return image.parse(s,st.parseComponentValue());case"length":var ct=st.parseComponentValue();return isLength(ct)?ct:ZERO_LENGTH;case"length-percentage":var At=st.parseComponentValue();return isLengthPercentage(At)?At:ZERO_LENGTH;case"time":return time.parse(s,st.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(s){var o=s.getAttribute(elementDebuggerAttribute);switch(o){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(s,o){var _=getElementDebugType(s);return _===1||o===_},ElementContainer=function(){function s(o,_){if(this.context=o,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(_,3))debugger;this.styles=new CSSParsedDeclaration(o,window.getComputedStyle(_,null)),isHTMLElementNode(_)&&(this.styles.animationDuration.some(function(j){return j>0})&&(_.style.animationDuration="0s"),this.styles.transform!==null&&(_.style.transform="none")),this.bounds=parseBounds(this.context,_),isDebugging(_,4)&&(this.flags|=16)}return s}(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1$2[chars$1.charCodeAt(i$1)]=i$1;var decode$2=function(s){var o=s.length*.75,_=s.length,j,et=0,st,nt,ct,At;s[s.length-1]==="="&&(o--,s[s.length-2]==="="&&o--);var mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(o):new Array(o),gt=Array.isArray(mt)?mt:new Uint8Array(mt);for(j=0;j<_;j+=4)st=lookup$1$2[s.charCodeAt(j)],nt=lookup$1$2[s.charCodeAt(j+1)],ct=lookup$1$2[s.charCodeAt(j+2)],At=lookup$1$2[s.charCodeAt(j+3)],gt[et++]=st<<2|nt>>4,gt[et++]=(nt&15)<<4|ct>>2,gt[et++]=(ct&3)<<6|At&63;return mt},polyUint16Array=function(s){for(var o=s.length,_=[],j=0;j<o;j+=2)_.push(s[j+1]<<8|s[j]);return _},polyUint32Array=function(s){for(var o=s.length,_=[],j=0;j<o;j+=4)_.push(s[j+3]<<24|s[j+2]<<16|s[j+1]<<8|s[j]);return _},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(s,o,_){return s.slice?s.slice(o,_):new Uint16Array(Array.prototype.slice.call(s,o,_))},slice32=function(s,o,_){return s.slice?s.slice(o,_):new Uint32Array(Array.prototype.slice.call(s,o,_))},createTrieFromBase64=function(s,o){var _=decode$2(s),j=Array.isArray(_)?polyUint32Array(_):new Uint32Array(_),et=Array.isArray(_)?polyUint16Array(_):new Uint16Array(_),st=24,nt=slice16(et,st/2,j[4]/2),ct=j[5]===2?slice16(et,(st+j[4])/2):slice32(j,Math.ceil((st+j[4])/4));return new Trie(j[0],j[1],j[2],j[3],nt,ct)},Trie=function(){function s(o,_,j,et,st,nt){this.initialValue=o,this.errorValue=_,this.highStart=j,this.highValueIndex=et,this.index=st,this.data=nt}return s.prototype.get=function(o){var _;if(o>=0){if(o<55296||o>56319&&o<=65535)return _=this.index[o>>UTRIE2_SHIFT_2],_=(_<<UTRIE2_INDEX_SHIFT)+(o&UTRIE2_DATA_MASK),this.data[_];if(o<=65535)return _=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(o-55296>>UTRIE2_SHIFT_2)],_=(_<<UTRIE2_INDEX_SHIFT)+(o&UTRIE2_DATA_MASK),this.data[_];if(o<this.highStart)return _=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(o>>UTRIE2_SHIFT_1),_=this.index[_],_+=o>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,_=this.index[_],_=(_<<UTRIE2_INDEX_SHIFT)+(o&UTRIE2_DATA_MASK),this.data[_];if(o<=1114111)return this.data[this.highValueIndex]}return this.errorValue},s}(),chars$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i=0;i<chars$4.length;i++)lookup$4[chars$4.charCodeAt(i)]=i;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(s){for(var o=[],_=0,j=s.length;_<j;){var et=s.charCodeAt(_++);if(et>=55296&&et<=56319&&_<j){var st=s.charCodeAt(_++);(st&64512)===56320?o.push(((et&1023)<<10)+(st&1023)+65536):(o.push(et),_--)}else o.push(et)}return o},fromCodePoint=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(String.fromCodePoint)return String.fromCodePoint.apply(String,s);var _=s.length;if(!_)return"";for(var j=[],et=-1,st="";++et<_;){var nt=s[et];nt<=65535?j.push(nt):(nt-=65536,j.push((nt>>10)+55296,nt%1024+56320)),(et+1===_||j.length>16384)&&(st+=String.fromCharCode.apply(String,j),j.length=0)}return st},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="×",BREAK_ALLOWED="÷",codePointToClass=function(s){return UnicodeTrie.get(s)},_graphemeBreakAtIndex=function(s,o,_){var j=_-2,et=o[j],st=o[_-1],nt=o[_];if(st===CR&&nt===LF)return BREAK_NOT_ALLOWED;if(st===CR||st===LF||st===Control||nt===CR||nt===LF||nt===Control)return BREAK_ALLOWED;if(st===L&&[L,V,LV,LVT].indexOf(nt)!==-1||(st===LV||st===V)&&(nt===V||nt===T)||(st===LVT||st===T)&&nt===T||nt===ZWJ||nt===Extend||nt===SpacingMark||st===Prepend)return BREAK_NOT_ALLOWED;if(st===ZWJ&&nt===Extended_Pictographic){for(;et===Extend;)et=o[--j];if(et===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(st===RI&&nt===RI){for(var ct=0;et===RI;)ct++,et=o[--j];if(ct%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(s){var o=toCodePoints(s),_=o.length,j=0,et=0,st=o.map(codePointToClass);return{next:function(){if(j>=_)return{done:!0,value:null};for(var nt=BREAK_NOT_ALLOWED;j<_&&(nt=_graphemeBreakAtIndex(o,st,++j))===BREAK_NOT_ALLOWED;);if(nt!==BREAK_NOT_ALLOWED||j===_){var ct=fromCodePoint.apply(null,o.slice(et,j));return et=j,{value:ct,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(s){for(var o=GraphemeBreaker(s),_=[],j;!(j=o.next()).done;)j.value&&_.push(j.value.slice());return _},testRangeBounds=function(s){var o=123;if(s.createRange){var _=s.createRange();if(_.getBoundingClientRect){var j=s.createElement("boundtest");j.style.height=o+"px",j.style.display="block",s.body.appendChild(j),_.selectNode(j);var et=_.getBoundingClientRect(),st=Math.round(et.height);if(s.body.removeChild(j),st===o)return!0}}return!1},testIOSLineBreak=function(s){var o=s.createElement("boundtest");o.style.width="50px",o.style.display="block",o.style.fontSize="12px",o.style.letterSpacing="0px",o.style.wordSpacing="0px",s.body.appendChild(o);var _=s.createRange();o.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var j=o.firstChild,et=toCodePoints$1(j.data).map(function(At){return fromCodePoint$1(At)}),st=0,nt={},ct=et.every(function(At,mt){_.setStart(j,st),_.setEnd(j,st+At.length);var gt=_.getBoundingClientRect();st+=At.length;var _t=gt.x>nt.x||gt.y>nt.y;return nt=gt,mt===0?!0:_t});return s.body.removeChild(o),ct},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(s){var o=new Image,_=s.createElement("canvas"),j=_.getContext("2d");if(!j)return!1;o.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{j.drawImage(o,0,0),_.toDataURL()}catch{return!1}return!0},isGreenPixel=function(s){return s[0]===0&&s[1]===255&&s[2]===0&&s[3]===255},testForeignObject=function(s){var o=s.createElement("canvas"),_=100;o.width=_,o.height=_;var j=o.getContext("2d");if(!j)return Promise.reject(!1);j.fillStyle="rgb(0, 255, 0)",j.fillRect(0,0,_,_);var et=new Image,st=o.toDataURL();et.src=st;var nt=createForeignObjectSVG(_,_,0,0,et);return j.fillStyle="red",j.fillRect(0,0,_,_),loadSerializedSVG$1(nt).then(function(ct){j.drawImage(ct,0,0);var At=j.getImageData(0,0,_,_).data;j.fillStyle="red",j.fillRect(0,0,_,_);var mt=s.createElement("div");return mt.style.backgroundImage="url("+st+")",mt.style.height=_+"px",isGreenPixel(At)?loadSerializedSVG$1(createForeignObjectSVG(_,_,0,0,mt)):Promise.reject(!1)}).then(function(ct){return j.drawImage(ct,0,0),isGreenPixel(j.getImageData(0,0,_,_).data)}).catch(function(){return!1})},createForeignObjectSVG=function(s,o,_,j,et){var st="http://www.w3.org/2000/svg",nt=document.createElementNS(st,"svg"),ct=document.createElementNS(st,"foreignObject");return nt.setAttributeNS(null,"width",s.toString()),nt.setAttributeNS(null,"height",o.toString()),ct.setAttributeNS(null,"width","100%"),ct.setAttributeNS(null,"height","100%"),ct.setAttributeNS(null,"x",_.toString()),ct.setAttributeNS(null,"y",j.toString()),ct.setAttributeNS(null,"externalResourcesRequired","true"),nt.appendChild(ct),ct.appendChild(et),nt},loadSerializedSVG$1=function(s){return new Promise(function(o,_){var j=new Image;j.onload=function(){return o(j)},j.onerror=_,j.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(s))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var s=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:s}),s},get SUPPORT_WORD_BREAKING(){var s=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:s}),s},get SUPPORT_SVG_DRAWING(){var s=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:s}),s},get SUPPORT_FOREIGNOBJECT_DRAWING(){var s=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:s}),s},get SUPPORT_CORS_IMAGES(){var s=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:s}),s},get SUPPORT_RESPONSE_TYPE(){var s=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:s}),s},get SUPPORT_CORS_XHR(){var s="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:s}),s},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var s=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:s}),s}},TextBounds=function(){function s(o,_){this.text=o,this.bounds=_}return s}(),parseTextBounds=function(s,o,_,j){var et=breakText(o,_),st=[],nt=0;return et.forEach(function(ct){if(_.textDecorationLine.length||ct.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var At=createRange(j,nt,ct.length).getClientRects();if(At.length>1){var mt=segmentGraphemes(ct),gt=0;mt.forEach(function(Et){st.push(new TextBounds(Et,Bounds.fromDOMRectList(s,createRange(j,gt+nt,Et.length).getClientRects()))),gt+=Et.length})}else st.push(new TextBounds(ct,Bounds.fromDOMRectList(s,At)))}else{var _t=j.splitText(ct.length);st.push(new TextBounds(ct,getWrapperBounds(s,j))),j=_t}else FEATURES.SUPPORT_RANGE_BOUNDS||(j=j.splitText(ct.length));nt+=ct.length}),st},getWrapperBounds=function(s,o){var _=o.ownerDocument;if(_){var j=_.createElement("html2canvaswrapper");j.appendChild(o.cloneNode(!0));var et=o.parentNode;if(et){et.replaceChild(j,o);var st=parseBounds(s,j);return j.firstChild&&et.replaceChild(j.firstChild,j),st}}return Bounds.EMPTY},createRange=function(s,o,_){var j=s.ownerDocument;if(!j)throw new Error("Node has no owner document");var et=j.createRange();return et.setStart(s,o),et.setEnd(s,o+_),et},segmentGraphemes=function(s){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var o=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(o.segment(s)).map(function(_){return _.segment})}return splitGraphemes(s)},segmentWords=function(s,o){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var _=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(_.segment(s)).map(function(j){return j.segment})}return breakWords(s,o)},breakText=function(s,o){return o.letterSpacing!==0?segmentGraphemes(s):segmentWords(s,o)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(s,o){for(var _=LineBreaker(s,{lineBreak:o.lineBreak,wordBreak:o.overflowWrap==="break-word"?"break-word":o.wordBreak}),j=[],et,st=function(){if(et.value){var nt=et.value.slice(),ct=toCodePoints$1(nt),At="";ct.forEach(function(mt){wordSeparators.indexOf(mt)===-1?At+=fromCodePoint$1(mt):(At.length&&j.push(At),j.push(fromCodePoint$1(mt)),At="")}),At.length&&j.push(At)}};!(et=_.next()).done;)st();return j},TextContainer=function(){function s(o,_,j){this.text=transform(_.data,j.textTransform),this.textBounds=parseTextBounds(o,this.text,j,_)}return s}(),transform=function(s,o){switch(o){case 1:return s.toLowerCase();case 3:return s.replace(CAPITALIZE,capitalize);case 2:return s.toUpperCase();default:return s}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(s,o,_){return s.length>0?o+_.toUpperCase():s},ImageElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.src=j.currentSrc||j.src,et.intrinsicWidth=j.naturalWidth,et.intrinsicHeight=j.naturalHeight,et.context.cache.addImage(et.src),et}return o}(ElementContainer),CanvasElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.canvas=j,et.intrinsicWidth=j.width,et.intrinsicHeight=j.height,et}return o}(ElementContainer),SVGElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this,st=new XMLSerializer,nt=parseBounds(_,j);return j.setAttribute("width",nt.width+"px"),j.setAttribute("height",nt.height+"px"),et.svg="data:image/svg+xml,"+encodeURIComponent(st.serializeToString(j)),et.intrinsicWidth=j.width.baseVal.value,et.intrinsicHeight=j.height.baseVal.value,et.context.cache.addImage(et.svg),et}return o}(ElementContainer),LIElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.value=j.value,et}return o}(ElementContainer),OLElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.start=j.start,et.reversed=typeof j.reversed=="boolean"&&j.reversed===!0,et}return o}(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(s){return s.width>s.height?new Bounds(s.left+(s.width-s.height)/2,s.top,s.height,s.height):s.width<s.height?new Bounds(s.left,s.top+(s.height-s.width)/2,s.width,s.width):s},getInputValue=function(s){var o=s.type===PASSWORD?new Array(s.value.length+1).join("•"):s.value;return o.length===0?s.placeholder||"":o},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;switch(et.type=j.type.toLowerCase(),et.checked=j.checked,et.value=getInputValue(j),(et.type===CHECKBOX||et.type===RADIO)&&(et.styles.backgroundColor=3739148031,et.styles.borderTopColor=et.styles.borderRightColor=et.styles.borderBottomColor=et.styles.borderLeftColor=2779096575,et.styles.borderTopWidth=et.styles.borderRightWidth=et.styles.borderBottomWidth=et.styles.borderLeftWidth=1,et.styles.borderTopStyle=et.styles.borderRightStyle=et.styles.borderBottomStyle=et.styles.borderLeftStyle=1,et.styles.backgroundClip=[0],et.styles.backgroundOrigin=[0],et.bounds=reformatInputBounds(et.bounds)),et.type){case CHECKBOX:et.styles.borderTopRightRadius=et.styles.borderTopLeftRadius=et.styles.borderBottomRightRadius=et.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:et.styles.borderTopRightRadius=et.styles.borderTopLeftRadius=et.styles.borderBottomRightRadius=et.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return et}return o}(ElementContainer),SelectElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this,st=j.options[j.selectedIndex||0];return et.value=st&&st.text||"",et}return o}(ElementContainer),TextareaElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.value=j.value,et}return o}(ElementContainer),IFrameElementContainer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;et.src=j.src,et.width=parseInt(j.width,10)||0,et.height=parseInt(j.height,10)||0,et.backgroundColor=et.styles.backgroundColor;try{if(j.contentWindow&&j.contentWindow.document&&j.contentWindow.document.documentElement){et.tree=parseTree(_,j.contentWindow.document.documentElement);var st=j.contentWindow.document.documentElement?parseColor(_,getComputedStyle(j.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,nt=j.contentWindow.document.body?parseColor(_,getComputedStyle(j.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;et.backgroundColor=isTransparent(st)?isTransparent(nt)?et.styles.backgroundColor:nt:st}}catch{}return et}return o}(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(s,o,_,j){for(var et=o.firstChild,st=void 0;et;et=st)if(st=et.nextSibling,isTextNode(et)&&et.data.trim().length>0)_.textNodes.push(new TextContainer(s,et,_.styles));else if(isElementNode(et))if(isSlotElement(et)&&et.assignedNodes)et.assignedNodes().forEach(function(ct){return parseNodeTree(s,ct,_,j)});else{var nt=createContainer(s,et);nt.styles.isVisible()&&(createsRealStackingContext(et,nt,j)?nt.flags|=4:createsStackingContext(nt.styles)&&(nt.flags|=2),LIST_OWNERS.indexOf(et.tagName)!==-1&&(nt.flags|=8),_.elements.push(nt),et.slot,et.shadowRoot?parseNodeTree(s,et.shadowRoot,nt,j):!isTextareaElement(et)&&!isSVGElement(et)&&!isSelectElement(et)&&parseNodeTree(s,et,nt,j))}},createContainer=function(s,o){return isImageElement(o)?new ImageElementContainer(s,o):isCanvasElement(o)?new CanvasElementContainer(s,o):isSVGElement(o)?new SVGElementContainer(s,o):isLIElement(o)?new LIElementContainer(s,o):isOLElement(o)?new OLElementContainer(s,o):isInputElement(o)?new InputElementContainer(s,o):isSelectElement(o)?new SelectElementContainer(s,o):isTextareaElement(o)?new TextareaElementContainer(s,o):isIFrameElement(o)?new IFrameElementContainer(s,o):new ElementContainer(s,o)},parseTree=function(s,o){var _=createContainer(s,o);return _.flags|=4,parseNodeTree(s,o,_,_),_},createsRealStackingContext=function(s,o,_){return o.styles.isPositionedWithZIndex()||o.styles.opacity<1||o.styles.isTransformed()||isBodyElement(s)&&_.styles.isTransparent()},createsStackingContext=function(s){return s.isPositioned()||s.isFloating()},isTextNode=function(s){return s.nodeType===Node.TEXT_NODE},isElementNode=function(s){return s.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(s){return isElementNode(s)&&typeof s.style<"u"&&!isSVGElementNode(s)},isSVGElementNode=function(s){return typeof s.className=="object"},isLIElement=function(s){return s.tagName==="LI"},isOLElement=function(s){return s.tagName==="OL"},isInputElement=function(s){return s.tagName==="INPUT"},isHTMLElement=function(s){return s.tagName==="HTML"},isSVGElement=function(s){return s.tagName==="svg"},isBodyElement=function(s){return s.tagName==="BODY"},isCanvasElement=function(s){return s.tagName==="CANVAS"},isVideoElement=function(s){return s.tagName==="VIDEO"},isImageElement=function(s){return s.tagName==="IMG"},isIFrameElement=function(s){return s.tagName==="IFRAME"},isStyleElement=function(s){return s.tagName==="STYLE"},isScriptElement=function(s){return s.tagName==="SCRIPT"},isTextareaElement=function(s){return s.tagName==="TEXTAREA"},isSelectElement=function(s){return s.tagName==="SELECT"},isSlotElement=function(s){return s.tagName==="SLOT"},isCustomElement=function(s){return s.tagName.indexOf("-")>0},CounterState=function(){function s(){this.counters={}}return s.prototype.getCounterValue=function(o){var _=this.counters[o];return _&&_.length?_[_.length-1]:1},s.prototype.getCounterValues=function(o){var _=this.counters[o];return _||[]},s.prototype.pop=function(o){var _=this;o.forEach(function(j){return _.counters[j].pop()})},s.prototype.parse=function(o){var _=this,j=o.counterIncrement,et=o.counterReset,st=!0;j!==null&&j.forEach(function(ct){var At=_.counters[ct.counter];At&&ct.increment!==0&&(st=!1,At.length||At.push(1),At[Math.max(0,At.length-1)]+=ct.increment)});var nt=[];return st&&et.forEach(function(ct){var At=_.counters[ct.counter];nt.push(ct.counter),At||(At=_.counters[ct.counter]=[]),At.push(ct.reset)}),nt},s}(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},createAdditiveCounter=function(s,o,_,j,et,st){return s<o||s>_?createCounterText(s,et,st.length>0):j.integers.reduce(function(nt,ct,At){for(;s>=ct;)s-=ct,nt+=j.values[At];return nt},"")+st},createCounterStyleWithSymbolResolver=function(s,o,_,j){var et="";do _||s--,et=j(s)+et,s/=o;while(s*o>=o);return et},createCounterStyleFromRange=function(s,o,_,j,et){var st=_-o+1;return(s<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(s),st,j,function(nt){return fromCodePoint$1(Math.floor(nt%st)+o)})+et)},createCounterStyleFromSymbols=function(s,o,_){_===void 0&&(_=". ");var j=o.length;return createCounterStyleWithSymbolResolver(Math.abs(s),j,!1,function(et){return o[Math.floor(et%j)]})+_},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(s,o,_,j,et,st){if(s<-9999||s>9999)return createCounterText(s,4,et.length>0);var nt=Math.abs(s),ct=et;if(nt===0)return o[0]+ct;for(var At=0;nt>0&&At<=4;At++){var mt=nt%10;mt===0&&contains(st,CJK_ZEROS)&&ct!==""?ct=o[mt]+ct:mt>1||mt===1&&At===0||mt===1&&At===1&&contains(st,CJK_TEN_COEFFICIENTS)||mt===1&&At===1&&contains(st,CJK_TEN_HIGH_COEFFICIENTS)&&s>100||mt===1&&At>1&&contains(st,CJK_HUNDRED_COEFFICIENTS)?ct=o[mt]+(At>0?_[At-1]:"")+ct:mt===1&&At>0&&(ct=_[At-1]+ct),nt=Math.floor(nt/10)}return(s<0?j:"")+ct},CHINESE_INFORMAL_MULTIPLIERS="十百千萬",CHINESE_FORMAL_MULTIPLIERS="拾佰仟萬",JAPANESE_NEGATIVE="マイナス",KOREAN_NEGATIVE="마이너스",createCounterText=function(s,o,_){var j=_?". ":"",et=_?"、":"",st=_?", ":"",nt=_?" ":"";switch(o){case 0:return"•"+nt;case 1:return"◦"+nt;case 2:return"◾"+nt;case 5:var ct=createCounterStyleFromRange(s,48,57,!0,j);return ct.length<4?"0"+ct:ct;case 4:return createCounterStyleFromSymbols(s,"〇一二三四五六七八九",et);case 6:return createAdditiveCounter(s,1,3999,ROMAN_UPPER,3,j).toLowerCase();case 7:return createAdditiveCounter(s,1,3999,ROMAN_UPPER,3,j);case 8:return createCounterStyleFromRange(s,945,969,!1,j);case 9:return createCounterStyleFromRange(s,97,122,!1,j);case 10:return createCounterStyleFromRange(s,65,90,!1,j);case 11:return createCounterStyleFromRange(s,1632,1641,!0,j);case 12:case 49:return createAdditiveCounter(s,1,9999,ARMENIAN,3,j);case 35:return createAdditiveCounter(s,1,9999,ARMENIAN,3,j).toLowerCase();case 13:return createCounterStyleFromRange(s,2534,2543,!0,j);case 14:case 30:return createCounterStyleFromRange(s,6112,6121,!0,j);case 15:return createCounterStyleFromSymbols(s,"子丑寅卯辰巳午未申酉戌亥",et);case 16:return createCounterStyleFromSymbols(s,"甲乙丙丁戊己庚辛壬癸",et);case 17:case 48:return createCJKCounter(s,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"負",et,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(s,"零壹貳參肆伍陸柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"負",et,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(s,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"负",et,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(s,"零壹贰叁肆伍陆柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"负",et,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(s,"〇一二三四五六七八九","十百千万",JAPANESE_NEGATIVE,et,0);case 25:return createCJKCounter(s,"零壱弐参四伍六七八九","拾百千万",JAPANESE_NEGATIVE,et,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(s,"영일이삼사오육칠팔구","십백천만",KOREAN_NEGATIVE,st,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(s,"零一二三四五六七八九","十百千萬",KOREAN_NEGATIVE,st,0);case 32:return createCJKCounter(s,"零壹貳參四五六七八九","拾百千",KOREAN_NEGATIVE,st,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(s,2406,2415,!0,j);case 20:return createAdditiveCounter(s,1,19999,GEORGIAN,3,j);case 21:return createCounterStyleFromRange(s,2790,2799,!0,j);case 22:return createCounterStyleFromRange(s,2662,2671,!0,j);case 22:return createAdditiveCounter(s,1,10999,HEBREW,3,j);case 23:return createCounterStyleFromSymbols(s,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return createCounterStyleFromSymbols(s,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return createCounterStyleFromRange(s,3302,3311,!0,j);case 28:return createCounterStyleFromSymbols(s,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",et);case 29:return createCounterStyleFromSymbols(s,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",et);case 34:return createCounterStyleFromRange(s,3792,3801,!0,j);case 37:return createCounterStyleFromRange(s,6160,6169,!0,j);case 38:return createCounterStyleFromRange(s,4160,4169,!0,j);case 39:return createCounterStyleFromRange(s,2918,2927,!0,j);case 40:return createCounterStyleFromRange(s,1776,1785,!0,j);case 43:return createCounterStyleFromRange(s,3046,3055,!0,j);case 44:return createCounterStyleFromRange(s,3174,3183,!0,j);case 45:return createCounterStyleFromRange(s,3664,3673,!0,j);case 46:return createCounterStyleFromRange(s,3872,3881,!0,j);case 3:default:return createCounterStyleFromRange(s,48,57,!0,j)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=function(){function s(o,_,j){if(this.context=o,this.options=j,this.scrolledElements=[],this.referenceElement=_,this.counters=new CounterState,this.quoteDepth=0,!_.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(_.ownerDocument.documentElement,!1)}return s.prototype.toIFrame=function(o,_){var j=this,et=createIFrameContainer(o,_);if(!et.contentWindow)return Promise.reject("Unable to find iframe window");var st=o.defaultView.pageXOffset,nt=o.defaultView.pageYOffset,ct=et.contentWindow,At=ct.document,mt=iframeLoader(et).then(function(){return __awaiter(j,void 0,void 0,function(){var gt,_t;return __generator(this,function(Et){switch(Et.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),ct&&(ct.scrollTo(_.left,_.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ct.scrollY!==_.top||ct.scrollX!==_.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ct.scrollX-_.left,ct.scrollY-_.top,0,0))),gt=this.options.onclone,_t=this.clonedReferenceElement,typeof _t>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:At.fonts&&At.fonts.ready?[4,At.fonts.ready]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(At)]:[3,4];case 3:Et.sent(),Et.label=4;case 4:return typeof gt=="function"?[2,Promise.resolve().then(function(){return gt(At,_t)}).then(function(){return et})]:[2,et]}})})});return At.open(),At.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,st,nt),At.replaceChild(At.adoptNode(this.documentElement),At.documentElement),At.close(),mt},s.prototype.createElementClone=function(o){if(isDebugging(o,2))debugger;if(isCanvasElement(o))return this.createCanvasClone(o);if(isVideoElement(o))return this.createVideoClone(o);if(isStyleElement(o))return this.createStyleClone(o);var _=o.cloneNode(!1);return isImageElement(_)&&(isImageElement(o)&&o.currentSrc&&o.currentSrc!==o.src&&(_.src=o.currentSrc,_.srcset=""),_.loading==="lazy"&&(_.loading="eager")),isCustomElement(_)?this.createCustomElementClone(_):_},s.prototype.createCustomElementClone=function(o){var _=document.createElement("html2canvascustomelement");return copyCSSStyles(o.style,_),_},s.prototype.createStyleClone=function(o){try{var _=o.sheet;if(_&&_.cssRules){var j=[].slice.call(_.cssRules,0).reduce(function(st,nt){return nt&&typeof nt.cssText=="string"?st+nt.cssText:st},""),et=o.cloneNode(!1);return et.textContent=j,et}}catch(st){if(this.context.logger.error("Unable to access cssRules property",st),st.name!=="SecurityError")throw st}return o.cloneNode(!1)},s.prototype.createCanvasClone=function(o){var _;if(this.options.inlineImages&&o.ownerDocument){var j=o.ownerDocument.createElement("img");try{return j.src=o.toDataURL(),j}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",o)}}var et=o.cloneNode(!1);try{et.width=o.width,et.height=o.height;var st=o.getContext("2d"),nt=et.getContext("2d");if(nt)if(!this.options.allowTaint&&st)nt.putImageData(st.getImageData(0,0,o.width,o.height),0,0);else{var ct=(_=o.getContext("webgl2"))!==null&&_!==void 0?_:o.getContext("webgl");if(ct){var At=ct.getContextAttributes();(At==null?void 0:At.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",o)}nt.drawImage(o,0,0)}return et}catch{this.context.logger.info("Unable to clone canvas as it is tainted",o)}return et},s.prototype.createVideoClone=function(o){var _=o.ownerDocument.createElement("canvas");_.width=o.offsetWidth,_.height=o.offsetHeight;var j=_.getContext("2d");try{return j&&(j.drawImage(o,0,0,_.width,_.height),this.options.allowTaint||j.getImageData(0,0,_.width,_.height)),_}catch{this.context.logger.info("Unable to clone video as it is tainted",o)}var et=o.ownerDocument.createElement("canvas");return et.width=o.offsetWidth,et.height=o.offsetHeight,et},s.prototype.appendChildNode=function(o,_,j){(!isElementNode(_)||!isScriptElement(_)&&!_.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(_)))&&(!this.options.copyStyles||!isElementNode(_)||!isStyleElement(_))&&o.appendChild(this.cloneNode(_,j))},s.prototype.cloneChildNodes=function(o,_,j){for(var et=this,st=o.shadowRoot?o.shadowRoot.firstChild:o.firstChild;st;st=st.nextSibling)if(isElementNode(st)&&isSlotElement(st)&&typeof st.assignedNodes=="function"){var nt=st.assignedNodes();nt.length&&nt.forEach(function(ct){return et.appendChildNode(_,ct,j)})}else this.appendChildNode(_,st,j)},s.prototype.cloneNode=function(o,_){if(isTextNode(o))return document.createTextNode(o.data);if(!o.ownerDocument)return o.cloneNode(!1);var j=o.ownerDocument.defaultView;if(j&&isElementNode(o)&&(isHTMLElementNode(o)||isSVGElementNode(o))){var et=this.createElementClone(o);et.style.transitionProperty="none";var st=j.getComputedStyle(o),nt=j.getComputedStyle(o,":before"),ct=j.getComputedStyle(o,":after");this.referenceElement===o&&isHTMLElementNode(et)&&(this.clonedReferenceElement=et),isBodyElement(et)&&createPseudoHideStyles(et);var At=this.counters.parse(new CSSParsedCounterDeclaration(this.context,st)),mt=this.resolvePseudoContent(o,et,nt,PseudoElementType.BEFORE);isCustomElement(o)&&(_=!0),isVideoElement(o)||this.cloneChildNodes(o,et,_),mt&&et.insertBefore(mt,et.firstChild);var gt=this.resolvePseudoContent(o,et,ct,PseudoElementType.AFTER);return gt&&et.appendChild(gt),this.counters.pop(At),(st&&(this.options.copyStyles||isSVGElementNode(o))&&!isIFrameElement(o)||_)&&copyCSSStyles(st,et),(o.scrollTop!==0||o.scrollLeft!==0)&&this.scrolledElements.push([et,o.scrollLeft,o.scrollTop]),(isTextareaElement(o)||isSelectElement(o))&&(isTextareaElement(et)||isSelectElement(et))&&(et.value=o.value),et}return o.cloneNode(!1)},s.prototype.resolvePseudoContent=function(o,_,j,et){var st=this;if(j){var nt=j.content,ct=_.ownerDocument;if(!(!ct||!nt||nt==="none"||nt==="-moz-alt-content"||j.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,j));var At=new CSSParsedPseudoDeclaration(this.context,j),mt=ct.createElement("html2canvaspseudoelement");copyCSSStyles(j,mt),At.content.forEach(function(_t){if(_t.type===0)mt.appendChild(ct.createTextNode(_t.value));else if(_t.type===22){var Et=ct.createElement("img");Et.src=_t.value,Et.style.opacity="1",mt.appendChild(Et)}else if(_t.type===18){if(_t.name==="attr"){var Ct=_t.values.filter(isIdentToken);Ct.length&&mt.appendChild(ct.createTextNode(o.getAttribute(Ct[0].value)||""))}else if(_t.name==="counter"){var Bt=_t.values.filter(nonFunctionArgSeparator),Dt=Bt[0],Ft=Bt[1];if(Dt&&isIdentToken(Dt)){var Rt=st.counters.getCounterValue(Dt.value),Nt=Ft&&isIdentToken(Ft)?listStyleType.parse(st.context,Ft.value):3;mt.appendChild(ct.createTextNode(createCounterText(Rt,Nt,!1)))}}else if(_t.name==="counters"){var Gt=_t.values.filter(nonFunctionArgSeparator),Dt=Gt[0],dr=Gt[1],Ft=Gt[2];if(Dt&&isIdentToken(Dt)){var ts=st.counters.getCounterValues(Dt.value),es=Ft&&isIdentToken(Ft)?listStyleType.parse(st.context,Ft.value):3,ds=dr&&dr.type===0?dr.value:"",tn=ts.map(function($n){return createCounterText($n,es,!1)}).join(ds);mt.appendChild(ct.createTextNode(tn))}}}else if(_t.type===20)switch(_t.value){case"open-quote":mt.appendChild(ct.createTextNode(getQuote(At.quotes,st.quoteDepth++,!0)));break;case"close-quote":mt.appendChild(ct.createTextNode(getQuote(At.quotes,--st.quoteDepth,!1)));break;default:mt.appendChild(ct.createTextNode(_t.value))}}),mt.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var gt=et===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(_)?_.className.baseValue+=gt:_.className+=gt,mt}}},s.destroy=function(o){return o.parentNode?(o.parentNode.removeChild(o),!0):!1},s}(),PseudoElementType;(function(s){s[s.BEFORE=0]="BEFORE",s[s.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(s,o){var _=s.createElement("iframe");return _.className="html2canvas-container",_.style.visibility="hidden",_.style.position="fixed",_.style.left="-10000px",_.style.top="0px",_.style.border="0",_.width=o.width.toString(),_.height=o.height.toString(),_.scrolling="no",_.setAttribute(IGNORE_ATTRIBUTE,"true"),s.body.appendChild(_),_},imageReady=function(s){return new Promise(function(o){if(s.complete){o();return}if(!s.src){o();return}s.onload=o,s.onerror=o})},imagesReady=function(s){return Promise.all([].slice.call(s.images,0).map(imageReady))},iframeLoader=function(s){return new Promise(function(o,_){var j=s.contentWindow;if(!j)return _("No window assigned for iframe");var et=j.document;j.onload=s.onload=function(){j.onload=s.onload=null;var st=setInterval(function(){et.body.childNodes.length>0&&et.readyState==="complete"&&(clearInterval(st),o(s))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(s,o){for(var _=s.length-1;_>=0;_--){var j=s.item(_);ignoredStyleProperties.indexOf(j)===-1&&o.style.setProperty(j,s.getPropertyValue(j))}return o},serializeDoctype=function(s){var o="";return s&&(o+="<!DOCTYPE ",s.name&&(o+=s.name),s.internalSubset&&(o+=s.internalSubset),s.publicId&&(o+='"'+s.publicId+'"'),s.systemId&&(o+='"'+s.systemId+'"'),o+=">"),o},restoreOwnerScroll=function(s,o,_){s&&s.defaultView&&(o!==s.defaultView.pageXOffset||_!==s.defaultView.pageYOffset)&&s.defaultView.scrollTo(o,_)},restoreNodeScroll=function(s){var o=s[0],_=s[1],j=s[2];o.scrollLeft=_,o.scrollTop=j},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(s){createStyles(s,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(s,o){var _=s.ownerDocument;if(_){var j=_.createElement("style");j.textContent=o,s.appendChild(j)}},CacheStorage=function(){function s(){}return s.getOrigin=function(o){var _=s._link;return _?(_.href=o,_.href=_.href,_.protocol+_.hostname+_.port):"about:blank"},s.isSameOrigin=function(o){return s.getOrigin(o)===s._origin},s.setContext=function(o){s._link=o.document.createElement("a"),s._origin=s.getOrigin(o.location.href)},s._origin="about:blank",s}(),Cache=function(){function s(o,_){this.context=o,this._options=_,this._cache={}}return s.prototype.addImage=function(o){var _=Promise.resolve();return this.has(o)||(isBlobImage(o)||isRenderable(o))&&(this._cache[o]=this.loadImage(o)).catch(function(){}),_},s.prototype.match=function(o){return this._cache[o]},s.prototype.loadImage=function(o){return __awaiter(this,void 0,void 0,function(){var _,j,et,st,nt=this;return __generator(this,function(ct){switch(ct.label){case 0:return _=CacheStorage.isSameOrigin(o),j=!isInlineImage(o)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!_,et=!isInlineImage(o)&&!_&&!isBlobImage(o)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!j,!_&&this._options.allowTaint===!1&&!isInlineImage(o)&&!isBlobImage(o)&&!et&&!j?[2]:(st=o,et?[4,this.proxy(st)]:[3,2]);case 1:st=ct.sent(),ct.label=2;case 2:return this.context.logger.debug("Added image "+o.substring(0,256)),[4,new Promise(function(At,mt){var gt=new Image;gt.onload=function(){return At(gt)},gt.onerror=mt,(isInlineBase64Image(st)||j)&&(gt.crossOrigin="anonymous"),gt.src=st,gt.complete===!0&&setTimeout(function(){return At(gt)},500),nt._options.imageTimeout>0&&setTimeout(function(){return mt("Timed out ("+nt._options.imageTimeout+"ms) loading image")},nt._options.imageTimeout)})];case 3:return[2,ct.sent()]}})})},s.prototype.has=function(o){return typeof this._cache[o]<"u"},s.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},s.prototype.proxy=function(o){var _=this,j=this._options.proxy;if(!j)throw new Error("No proxy defined");var et=o.substring(0,256);return new Promise(function(st,nt){var ct=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",At=new XMLHttpRequest;At.onload=function(){if(At.status===200)if(ct==="text")st(At.response);else{var _t=new FileReader;_t.addEventListener("load",function(){return st(_t.result)},!1),_t.addEventListener("error",function(Et){return nt(Et)},!1),_t.readAsDataURL(At.response)}else nt("Failed to proxy resource "+et+" with status code "+At.status)},At.onerror=nt;var mt=j.indexOf("?")>-1?"&":"?";if(At.open("GET",""+j+mt+"url="+encodeURIComponent(o)+"&responseType="+ct),ct!=="text"&&At instanceof XMLHttpRequest&&(At.responseType=ct),_._options.imageTimeout){var gt=_._options.imageTimeout;At.timeout=gt,At.ontimeout=function(){return nt("Timed out ("+gt+"ms) proxying "+et)}}At.send()})},s}(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(s){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(s)},isInlineImage=function(s){return INLINE_IMG.test(s)},isInlineBase64Image=function(s){return INLINE_BASE64.test(s)},isBlobImage=function(s){return s.substr(0,4)==="blob"},isSVG=function(s){return s.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(s)},Vector=function(){function s(o,_){this.type=0,this.x=o,this.y=_}return s.prototype.add=function(o,_){return new s(this.x+o,this.y+_)},s}(),lerp=function(s,o,_){return new Vector(s.x+(o.x-s.x)*_,s.y+(o.y-s.y)*_)},BezierCurve=function(){function s(o,_,j,et){this.type=1,this.start=o,this.startControl=_,this.endControl=j,this.end=et}return s.prototype.subdivide=function(o,_){var j=lerp(this.start,this.startControl,o),et=lerp(this.startControl,this.endControl,o),st=lerp(this.endControl,this.end,o),nt=lerp(j,et,o),ct=lerp(et,st,o),At=lerp(nt,ct,o);return _?new s(this.start,j,nt,At):new s(At,ct,st,this.end)},s.prototype.add=function(o,_){return new s(this.start.add(o,_),this.startControl.add(o,_),this.endControl.add(o,_),this.end.add(o,_))},s.prototype.reverse=function(){return new s(this.end,this.endControl,this.startControl,this.start)},s}(),isBezierCurve=function(s){return s.type===1},BoundCurves=function(){function s(o){var _=o.styles,j=o.bounds,et=getAbsoluteValueForTuple(_.borderTopLeftRadius,j.width,j.height),st=et[0],nt=et[1],ct=getAbsoluteValueForTuple(_.borderTopRightRadius,j.width,j.height),At=ct[0],mt=ct[1],gt=getAbsoluteValueForTuple(_.borderBottomRightRadius,j.width,j.height),_t=gt[0],Et=gt[1],Ct=getAbsoluteValueForTuple(_.borderBottomLeftRadius,j.width,j.height),Bt=Ct[0],Dt=Ct[1],Ft=[];Ft.push((st+At)/j.width),Ft.push((Bt+_t)/j.width),Ft.push((nt+Dt)/j.height),Ft.push((mt+Et)/j.height);var Rt=Math.max.apply(Math,Ft);Rt>1&&(st/=Rt,nt/=Rt,At/=Rt,mt/=Rt,_t/=Rt,Et/=Rt,Bt/=Rt,Dt/=Rt);var Nt=j.width-At,Gt=j.height-Et,dr=j.width-_t,ts=j.height-Dt,es=_.borderTopWidth,ds=_.borderRightWidth,tn=_.borderBottomWidth,rn=_.borderLeftWidth,un=getAbsoluteValue(_.paddingTop,o.bounds.width),$n=getAbsoluteValue(_.paddingRight,o.bounds.width),kn=getAbsoluteValue(_.paddingBottom,o.bounds.width),lo=getAbsoluteValue(_.paddingLeft,o.bounds.width);this.topLeftBorderDoubleOuterBox=st>0||nt>0?getCurvePoints(j.left+rn/3,j.top+es/3,st-rn/3,nt-es/3,CORNER.TOP_LEFT):new Vector(j.left+rn/3,j.top+es/3),this.topRightBorderDoubleOuterBox=st>0||nt>0?getCurvePoints(j.left+Nt,j.top+es/3,At-ds/3,mt-es/3,CORNER.TOP_RIGHT):new Vector(j.left+j.width-ds/3,j.top+es/3),this.bottomRightBorderDoubleOuterBox=_t>0||Et>0?getCurvePoints(j.left+dr,j.top+Gt,_t-ds/3,Et-tn/3,CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width-ds/3,j.top+j.height-tn/3),this.bottomLeftBorderDoubleOuterBox=Bt>0||Dt>0?getCurvePoints(j.left+rn/3,j.top+ts,Bt-rn/3,Dt-tn/3,CORNER.BOTTOM_LEFT):new Vector(j.left+rn/3,j.top+j.height-tn/3),this.topLeftBorderDoubleInnerBox=st>0||nt>0?getCurvePoints(j.left+rn*2/3,j.top+es*2/3,st-rn*2/3,nt-es*2/3,CORNER.TOP_LEFT):new Vector(j.left+rn*2/3,j.top+es*2/3),this.topRightBorderDoubleInnerBox=st>0||nt>0?getCurvePoints(j.left+Nt,j.top+es*2/3,At-ds*2/3,mt-es*2/3,CORNER.TOP_RIGHT):new Vector(j.left+j.width-ds*2/3,j.top+es*2/3),this.bottomRightBorderDoubleInnerBox=_t>0||Et>0?getCurvePoints(j.left+dr,j.top+Gt,_t-ds*2/3,Et-tn*2/3,CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width-ds*2/3,j.top+j.height-tn*2/3),this.bottomLeftBorderDoubleInnerBox=Bt>0||Dt>0?getCurvePoints(j.left+rn*2/3,j.top+ts,Bt-rn*2/3,Dt-tn*2/3,CORNER.BOTTOM_LEFT):new Vector(j.left+rn*2/3,j.top+j.height-tn*2/3),this.topLeftBorderStroke=st>0||nt>0?getCurvePoints(j.left+rn/2,j.top+es/2,st-rn/2,nt-es/2,CORNER.TOP_LEFT):new Vector(j.left+rn/2,j.top+es/2),this.topRightBorderStroke=st>0||nt>0?getCurvePoints(j.left+Nt,j.top+es/2,At-ds/2,mt-es/2,CORNER.TOP_RIGHT):new Vector(j.left+j.width-ds/2,j.top+es/2),this.bottomRightBorderStroke=_t>0||Et>0?getCurvePoints(j.left+dr,j.top+Gt,_t-ds/2,Et-tn/2,CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width-ds/2,j.top+j.height-tn/2),this.bottomLeftBorderStroke=Bt>0||Dt>0?getCurvePoints(j.left+rn/2,j.top+ts,Bt-rn/2,Dt-tn/2,CORNER.BOTTOM_LEFT):new Vector(j.left+rn/2,j.top+j.height-tn/2),this.topLeftBorderBox=st>0||nt>0?getCurvePoints(j.left,j.top,st,nt,CORNER.TOP_LEFT):new Vector(j.left,j.top),this.topRightBorderBox=At>0||mt>0?getCurvePoints(j.left+Nt,j.top,At,mt,CORNER.TOP_RIGHT):new Vector(j.left+j.width,j.top),this.bottomRightBorderBox=_t>0||Et>0?getCurvePoints(j.left+dr,j.top+Gt,_t,Et,CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width,j.top+j.height),this.bottomLeftBorderBox=Bt>0||Dt>0?getCurvePoints(j.left,j.top+ts,Bt,Dt,CORNER.BOTTOM_LEFT):new Vector(j.left,j.top+j.height),this.topLeftPaddingBox=st>0||nt>0?getCurvePoints(j.left+rn,j.top+es,Math.max(0,st-rn),Math.max(0,nt-es),CORNER.TOP_LEFT):new Vector(j.left+rn,j.top+es),this.topRightPaddingBox=At>0||mt>0?getCurvePoints(j.left+Math.min(Nt,j.width-ds),j.top+es,Nt>j.width+ds?0:Math.max(0,At-ds),Math.max(0,mt-es),CORNER.TOP_RIGHT):new Vector(j.left+j.width-ds,j.top+es),this.bottomRightPaddingBox=_t>0||Et>0?getCurvePoints(j.left+Math.min(dr,j.width-rn),j.top+Math.min(Gt,j.height-tn),Math.max(0,_t-ds),Math.max(0,Et-tn),CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width-ds,j.top+j.height-tn),this.bottomLeftPaddingBox=Bt>0||Dt>0?getCurvePoints(j.left+rn,j.top+Math.min(ts,j.height-tn),Math.max(0,Bt-rn),Math.max(0,Dt-tn),CORNER.BOTTOM_LEFT):new Vector(j.left+rn,j.top+j.height-tn),this.topLeftContentBox=st>0||nt>0?getCurvePoints(j.left+rn+lo,j.top+es+un,Math.max(0,st-(rn+lo)),Math.max(0,nt-(es+un)),CORNER.TOP_LEFT):new Vector(j.left+rn+lo,j.top+es+un),this.topRightContentBox=At>0||mt>0?getCurvePoints(j.left+Math.min(Nt,j.width+rn+lo),j.top+es+un,Nt>j.width+rn+lo?0:At-rn+lo,mt-(es+un),CORNER.TOP_RIGHT):new Vector(j.left+j.width-(ds+$n),j.top+es+un),this.bottomRightContentBox=_t>0||Et>0?getCurvePoints(j.left+Math.min(dr,j.width-(rn+lo)),j.top+Math.min(Gt,j.height+es+un),Math.max(0,_t-(ds+$n)),Et-(tn+kn),CORNER.BOTTOM_RIGHT):new Vector(j.left+j.width-(ds+$n),j.top+j.height-(tn+kn)),this.bottomLeftContentBox=Bt>0||Dt>0?getCurvePoints(j.left+rn+lo,j.top+ts,Math.max(0,Bt-(rn+lo)),Dt-(tn+kn),CORNER.BOTTOM_LEFT):new Vector(j.left+rn+lo,j.top+j.height-(tn+kn))}return s}(),CORNER;(function(s){s[s.TOP_LEFT=0]="TOP_LEFT",s[s.TOP_RIGHT=1]="TOP_RIGHT",s[s.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",s[s.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(s,o,_,j,et){var st=4*((Math.sqrt(2)-1)/3),nt=_*st,ct=j*st,At=s+_,mt=o+j;switch(et){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(s,mt),new Vector(s,mt-ct),new Vector(At-nt,o),new Vector(At,o));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(s,o),new Vector(s+nt,o),new Vector(At,mt-ct),new Vector(At,mt));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(At,o),new Vector(At,o+ct),new Vector(s+nt,mt),new Vector(s,mt));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(At,mt),new Vector(At-nt,mt),new Vector(s,o+ct),new Vector(s,o))}},calculateBorderBoxPath=function(s){return[s.topLeftBorderBox,s.topRightBorderBox,s.bottomRightBorderBox,s.bottomLeftBorderBox]},calculateContentBoxPath=function(s){return[s.topLeftContentBox,s.topRightContentBox,s.bottomRightContentBox,s.bottomLeftContentBox]},calculatePaddingBoxPath=function(s){return[s.topLeftPaddingBox,s.topRightPaddingBox,s.bottomRightPaddingBox,s.bottomLeftPaddingBox]},TransformEffect=function(){function s(o,_,j){this.offsetX=o,this.offsetY=_,this.matrix=j,this.type=0,this.target=6}return s}(),ClipEffect=function(){function s(o,_){this.path=o,this.target=_,this.type=1}return s}(),OpacityEffect=function(){function s(o){this.opacity=o,this.type=2,this.target=6}return s}(),isTransformEffect=function(s){return s.type===0},isClipEffect=function(s){return s.type===1},isOpacityEffect=function(s){return s.type===2},equalPath=function(s,o){return s.length===o.length?s.some(function(_,j){return _===o[j]}):!1},transformPath=function(s,o,_,j,et){return s.map(function(st,nt){switch(nt){case 0:return st.add(o,_);case 1:return st.add(o+j,_);case 2:return st.add(o+j,_+et);case 3:return st.add(o,_+et)}return st})},StackingContext=function(){function s(o){this.element=o,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return s}(),ElementPaint=function(){function s(o,_){if(this.container=o,this.parent=_,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var j=this.container.bounds.left+this.container.styles.transformOrigin[0].number,et=this.container.bounds.top+this.container.styles.transformOrigin[1].number,st=this.container.styles.transform;this.effects.push(new TransformEffect(j,et,st))}if(this.container.styles.overflowX!==0){var nt=calculateBorderBoxPath(this.curves),ct=calculatePaddingBoxPath(this.curves);equalPath(nt,ct)?this.effects.push(new ClipEffect(nt,6)):(this.effects.push(new ClipEffect(nt,2)),this.effects.push(new ClipEffect(ct,4)))}}return s.prototype.getEffects=function(o){for(var _=[2,3].indexOf(this.container.styles.position)===-1,j=this.parent,et=this.effects.slice(0);j;){var st=j.effects.filter(function(At){return!isClipEffect(At)});if(_||j.container.styles.position!==0||!j.parent){if(et.unshift.apply(et,st),_=[2,3].indexOf(j.container.styles.position)===-1,j.container.styles.overflowX!==0){var nt=calculateBorderBoxPath(j.curves),ct=calculatePaddingBoxPath(j.curves);equalPath(nt,ct)||et.unshift(new ClipEffect(ct,6))}}else et.unshift.apply(et,st);j=j.parent}return et.filter(function(At){return contains(At.target,o)})},s}(),parseStackTree=function(s,o,_,j){s.container.elements.forEach(function(et){var st=contains(et.flags,4),nt=contains(et.flags,2),ct=new ElementPaint(et,s);contains(et.styles.display,2048)&&j.push(ct);var At=contains(et.flags,8)?[]:j;if(st||nt){var mt=st||et.styles.isPositioned()?_:o,gt=new StackingContext(ct);if(et.styles.isPositioned()||et.styles.opacity<1||et.styles.isTransformed()){var _t=et.styles.zIndex.order;if(_t<0){var Et=0;mt.negativeZIndex.some(function(Bt,Dt){return _t>Bt.element.container.styles.zIndex.order?(Et=Dt,!1):Et>0}),mt.negativeZIndex.splice(Et,0,gt)}else if(_t>0){var Ct=0;mt.positiveZIndex.some(function(Bt,Dt){return _t>=Bt.element.container.styles.zIndex.order?(Ct=Dt+1,!1):Ct>0}),mt.positiveZIndex.splice(Ct,0,gt)}else mt.zeroOrAutoZIndexOrTransformedOrOpacity.push(gt)}else et.styles.isFloating()?mt.nonPositionedFloats.push(gt):mt.nonPositionedInlineLevel.push(gt);parseStackTree(ct,gt,st?gt:_,At)}else et.styles.isInlineLevel()?o.inlineLevel.push(ct):o.nonInlineLevel.push(ct),parseStackTree(ct,o,_,At);contains(et.flags,8)&&processListItems(et,At)})},processListItems=function(s,o){for(var _=s instanceof OLElementContainer?s.start:1,j=s instanceof OLElementContainer?s.reversed:!1,et=0;et<o.length;et++){var st=o[et];st.container instanceof LIElementContainer&&typeof st.container.value=="number"&&st.container.value!==0&&(_=st.container.value),st.listValue=createCounterText(_,st.container.styles.listStyleType,!0),_+=j?-1:1}},parseStackingContexts=function(s){var o=new ElementPaint(s,null),_=new StackingContext(o),j=[];return parseStackTree(o,_,_,j),processListItems(o.container,j),_},parsePathForBorder=function(s,o){switch(o){case 0:return createPathFromCurves(s.topLeftBorderBox,s.topLeftPaddingBox,s.topRightBorderBox,s.topRightPaddingBox);case 1:return createPathFromCurves(s.topRightBorderBox,s.topRightPaddingBox,s.bottomRightBorderBox,s.bottomRightPaddingBox);case 2:return createPathFromCurves(s.bottomRightBorderBox,s.bottomRightPaddingBox,s.bottomLeftBorderBox,s.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(s.bottomLeftBorderBox,s.bottomLeftPaddingBox,s.topLeftBorderBox,s.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(s,o){switch(o){case 0:return createPathFromCurves(s.topLeftBorderBox,s.topLeftBorderDoubleOuterBox,s.topRightBorderBox,s.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(s.topRightBorderBox,s.topRightBorderDoubleOuterBox,s.bottomRightBorderBox,s.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(s.bottomRightBorderBox,s.bottomRightBorderDoubleOuterBox,s.bottomLeftBorderBox,s.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(s.bottomLeftBorderBox,s.bottomLeftBorderDoubleOuterBox,s.topLeftBorderBox,s.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(s,o){switch(o){case 0:return createPathFromCurves(s.topLeftBorderDoubleInnerBox,s.topLeftPaddingBox,s.topRightBorderDoubleInnerBox,s.topRightPaddingBox);case 1:return createPathFromCurves(s.topRightBorderDoubleInnerBox,s.topRightPaddingBox,s.bottomRightBorderDoubleInnerBox,s.bottomRightPaddingBox);case 2:return createPathFromCurves(s.bottomRightBorderDoubleInnerBox,s.bottomRightPaddingBox,s.bottomLeftBorderDoubleInnerBox,s.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(s.bottomLeftBorderDoubleInnerBox,s.bottomLeftPaddingBox,s.topLeftBorderDoubleInnerBox,s.topLeftPaddingBox)}},parsePathForBorderStroke=function(s,o){switch(o){case 0:return createStrokePathFromCurves(s.topLeftBorderStroke,s.topRightBorderStroke);case 1:return createStrokePathFromCurves(s.topRightBorderStroke,s.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(s.bottomRightBorderStroke,s.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(s.bottomLeftBorderStroke,s.topLeftBorderStroke)}},createStrokePathFromCurves=function(s,o){var _=[];return isBezierCurve(s)?_.push(s.subdivide(.5,!1)):_.push(s),isBezierCurve(o)?_.push(o.subdivide(.5,!0)):_.push(o),_},createPathFromCurves=function(s,o,_,j){var et=[];return isBezierCurve(s)?et.push(s.subdivide(.5,!1)):et.push(s),isBezierCurve(_)?et.push(_.subdivide(.5,!0)):et.push(_),isBezierCurve(j)?et.push(j.subdivide(.5,!0).reverse()):et.push(j),isBezierCurve(o)?et.push(o.subdivide(.5,!1).reverse()):et.push(o),et},paddingBox=function(s){var o=s.bounds,_=s.styles;return o.add(_.borderLeftWidth,_.borderTopWidth,-(_.borderRightWidth+_.borderLeftWidth),-(_.borderTopWidth+_.borderBottomWidth))},contentBox=function(s){var o=s.styles,_=s.bounds,j=getAbsoluteValue(o.paddingLeft,_.width),et=getAbsoluteValue(o.paddingRight,_.width),st=getAbsoluteValue(o.paddingTop,_.width),nt=getAbsoluteValue(o.paddingBottom,_.width);return _.add(j+o.borderLeftWidth,st+o.borderTopWidth,-(o.borderRightWidth+o.borderLeftWidth+j+et),-(o.borderTopWidth+o.borderBottomWidth+st+nt))},calculateBackgroundPositioningArea=function(s,o){return s===0?o.bounds:s===2?contentBox(o):paddingBox(o)},calculateBackgroundPaintingArea=function(s,o){return s===0?o.bounds:s===2?contentBox(o):paddingBox(o)},calculateBackgroundRendering=function(s,o,_){var j=calculateBackgroundPositioningArea(getBackgroundValueForIndex(s.styles.backgroundOrigin,o),s),et=calculateBackgroundPaintingArea(getBackgroundValueForIndex(s.styles.backgroundClip,o),s),st=calculateBackgroundSize(getBackgroundValueForIndex(s.styles.backgroundSize,o),_,j),nt=st[0],ct=st[1],At=getAbsoluteValueForTuple(getBackgroundValueForIndex(s.styles.backgroundPosition,o),j.width-nt,j.height-ct),mt=calculateBackgroundRepeatPath(getBackgroundValueForIndex(s.styles.backgroundRepeat,o),At,st,j,et),gt=Math.round(j.left+At[0]),_t=Math.round(j.top+At[1]);return[mt,gt,_t,nt,ct]},isAuto=function(s){return isIdentToken(s)&&s.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(s){return typeof s=="number"},calculateBackgroundSize=function(s,o,_){var j=o[0],et=o[1],st=o[2],nt=s[0],ct=s[1];if(!nt)return[0,0];if(isLengthPercentage(nt)&&ct&&isLengthPercentage(ct))return[getAbsoluteValue(nt,_.width),getAbsoluteValue(ct,_.height)];var At=hasIntrinsicValue(st);if(isIdentToken(nt)&&(nt.value===BACKGROUND_SIZE.CONTAIN||nt.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(st)){var mt=_.width/_.height;return mt<st!=(nt.value===BACKGROUND_SIZE.COVER)?[_.width,_.width/st]:[_.height*st,_.height]}return[_.width,_.height]}var gt=hasIntrinsicValue(j),_t=hasIntrinsicValue(et),Et=gt||_t;if(isAuto(nt)&&(!ct||isAuto(ct))){if(gt&&_t)return[j,et];if(!At&&!Et)return[_.width,_.height];if(Et&&At){var Ct=gt?j:et*st,Bt=_t?et:j/st;return[Ct,Bt]}var Dt=gt?j:_.width,Ft=_t?et:_.height;return[Dt,Ft]}if(At){var Rt=0,Nt=0;return isLengthPercentage(nt)?Rt=getAbsoluteValue(nt,_.width):isLengthPercentage(ct)&&(Nt=getAbsoluteValue(ct,_.height)),isAuto(nt)?Rt=Nt*st:(!ct||isAuto(ct))&&(Nt=Rt/st),[Rt,Nt]}var Gt=null,dr=null;if(isLengthPercentage(nt)?Gt=getAbsoluteValue(nt,_.width):ct&&isLengthPercentage(ct)&&(dr=getAbsoluteValue(ct,_.height)),Gt!==null&&(!ct||isAuto(ct))&&(dr=gt&&_t?Gt/j*et:_.height),dr!==null&&isAuto(nt)&&(Gt=gt&&_t?dr/et*j:_.width),Gt!==null&&dr!==null)return[Gt,dr];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(s,o){var _=s[o];return typeof _>"u"?s[0]:_},calculateBackgroundRepeatPath=function(s,o,_,j,et){var st=o[0],nt=o[1],ct=_[0],At=_[1];switch(s){case 2:return[new Vector(Math.round(j.left),Math.round(j.top+nt)),new Vector(Math.round(j.left+j.width),Math.round(j.top+nt)),new Vector(Math.round(j.left+j.width),Math.round(At+j.top+nt)),new Vector(Math.round(j.left),Math.round(At+j.top+nt))];case 3:return[new Vector(Math.round(j.left+st),Math.round(j.top)),new Vector(Math.round(j.left+st+ct),Math.round(j.top)),new Vector(Math.round(j.left+st+ct),Math.round(j.height+j.top)),new Vector(Math.round(j.left+st),Math.round(j.height+j.top))];case 1:return[new Vector(Math.round(j.left+st),Math.round(j.top+nt)),new Vector(Math.round(j.left+st+ct),Math.round(j.top+nt)),new Vector(Math.round(j.left+st+ct),Math.round(j.top+nt+At)),new Vector(Math.round(j.left+st),Math.round(j.top+nt+At))];default:return[new Vector(Math.round(et.left),Math.round(et.top)),new Vector(Math.round(et.left+et.width),Math.round(et.top)),new Vector(Math.round(et.left+et.width),Math.round(et.height+et.top)),new Vector(Math.round(et.left),Math.round(et.height+et.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=function(){function s(o){this._data={},this._document=o}return s.prototype.parseMetrics=function(o,_){var j=this._document.createElement("div"),et=this._document.createElement("img"),st=this._document.createElement("span"),nt=this._document.body;j.style.visibility="hidden",j.style.fontFamily=o,j.style.fontSize=_,j.style.margin="0",j.style.padding="0",j.style.whiteSpace="nowrap",nt.appendChild(j),et.src=SMALL_IMAGE,et.width=1,et.height=1,et.style.margin="0",et.style.padding="0",et.style.verticalAlign="baseline",st.style.fontFamily=o,st.style.fontSize=_,st.style.margin="0",st.style.padding="0",st.appendChild(this._document.createTextNode(SAMPLE_TEXT)),j.appendChild(st),j.appendChild(et);var ct=et.offsetTop-st.offsetTop+2;j.removeChild(st),j.appendChild(this._document.createTextNode(SAMPLE_TEXT)),j.style.lineHeight="normal",et.style.verticalAlign="super";var At=et.offsetTop-j.offsetTop+2;return nt.removeChild(j),{baseline:ct,middle:At}},s.prototype.getMetrics=function(o,_){var j=o+" "+_;return typeof this._data[j]>"u"&&(this._data[j]=this.parseMetrics(o,_)),this._data[j]},s}(),Renderer=function(){function s(o,_){this.context=o,this.options=_}return s}(),MASK_OFFSET=1e4,CanvasRenderer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et._activeEffects=[],et.canvas=j.canvas?j.canvas:document.createElement("canvas"),et.ctx=et.canvas.getContext("2d"),j.canvas||(et.canvas.width=Math.floor(j.width*j.scale),et.canvas.height=Math.floor(j.height*j.scale),et.canvas.style.width=j.width+"px",et.canvas.style.height=j.height+"px"),et.fontMetrics=new FontMetrics(document),et.ctx.scale(et.options.scale,et.options.scale),et.ctx.translate(-j.x,-j.y),et.ctx.textBaseline="bottom",et._activeEffects=[],et.context.logger.debug("Canvas renderer initialized ("+j.width+"x"+j.height+") with scale "+j.scale),et}return o.prototype.applyEffects=function(_){for(var j=this;this._activeEffects.length;)this.popEffect();_.forEach(function(et){return j.applyEffect(et)})},o.prototype.applyEffect=function(_){this.ctx.save(),isOpacityEffect(_)&&(this.ctx.globalAlpha=_.opacity),isTransformEffect(_)&&(this.ctx.translate(_.offsetX,_.offsetY),this.ctx.transform(_.matrix[0],_.matrix[1],_.matrix[2],_.matrix[3],_.matrix[4],_.matrix[5]),this.ctx.translate(-_.offsetX,-_.offsetY)),isClipEffect(_)&&(this.path(_.path),this.ctx.clip()),this._activeEffects.push(_)},o.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},o.prototype.renderStack=function(_){return __awaiter(this,void 0,void 0,function(){var j;return __generator(this,function(et){switch(et.label){case 0:return j=_.element.container.styles,j.isVisible()?[4,this.renderStackContent(_)]:[3,2];case 1:et.sent(),et.label=2;case 2:return[2]}})})},o.prototype.renderNode=function(_){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(j){switch(j.label){case 0:if(contains(_.container.flags,16))debugger;return _.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(_)]:[3,3];case 1:return j.sent(),[4,this.renderNodeContent(_)];case 2:j.sent(),j.label=3;case 3:return[2]}})})},o.prototype.renderTextWithLetterSpacing=function(_,j,et){var st=this;if(j===0)this.ctx.fillText(_.text,_.bounds.left,_.bounds.top+et);else{var nt=segmentGraphemes(_.text);nt.reduce(function(ct,At){return st.ctx.fillText(At,ct,_.bounds.top+et),ct+st.ctx.measureText(At).width},_.bounds.left)}},o.prototype.createFontStyle=function(_){var j=_.fontVariant.filter(function(nt){return nt==="normal"||nt==="small-caps"}).join(""),et=fixIOSSystemFonts(_.fontFamily).join(", "),st=isDimensionToken(_.fontSize)?""+_.fontSize.number+_.fontSize.unit:_.fontSize.number+"px";return[[_.fontStyle,j,_.fontWeight,st,et].join(" "),et,st]},o.prototype.renderTextNode=function(_,j){return __awaiter(this,void 0,void 0,function(){var et,st,nt,ct,At,mt,gt,_t,Et=this;return __generator(this,function(Ct){return et=this.createFontStyle(j),st=et[0],nt=et[1],ct=et[2],this.ctx.font=st,this.ctx.direction=j.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",At=this.fontMetrics.getMetrics(nt,ct),mt=At.baseline,gt=At.middle,_t=j.paintOrder,_.textBounds.forEach(function(Bt){_t.forEach(function(Dt){switch(Dt){case 0:Et.ctx.fillStyle=asString(j.color),Et.renderTextWithLetterSpacing(Bt,j.letterSpacing,mt);var Ft=j.textShadow;Ft.length&&Bt.text.trim().length&&(Ft.slice(0).reverse().forEach(function(Rt){Et.ctx.shadowColor=asString(Rt.color),Et.ctx.shadowOffsetX=Rt.offsetX.number*Et.options.scale,Et.ctx.shadowOffsetY=Rt.offsetY.number*Et.options.scale,Et.ctx.shadowBlur=Rt.blur.number,Et.renderTextWithLetterSpacing(Bt,j.letterSpacing,mt)}),Et.ctx.shadowColor="",Et.ctx.shadowOffsetX=0,Et.ctx.shadowOffsetY=0,Et.ctx.shadowBlur=0),j.textDecorationLine.length&&(Et.ctx.fillStyle=asString(j.textDecorationColor||j.color),j.textDecorationLine.forEach(function(Rt){switch(Rt){case 1:Et.ctx.fillRect(Bt.bounds.left,Math.round(Bt.bounds.top+mt),Bt.bounds.width,1);break;case 2:Et.ctx.fillRect(Bt.bounds.left,Math.round(Bt.bounds.top),Bt.bounds.width,1);break;case 3:Et.ctx.fillRect(Bt.bounds.left,Math.ceil(Bt.bounds.top+gt),Bt.bounds.width,1);break}}));break;case 1:j.webkitTextStrokeWidth&&Bt.text.trim().length&&(Et.ctx.strokeStyle=asString(j.webkitTextStrokeColor),Et.ctx.lineWidth=j.webkitTextStrokeWidth,Et.ctx.lineJoin=window.chrome?"miter":"round",Et.ctx.strokeText(Bt.text,Bt.bounds.left,Bt.bounds.top+mt)),Et.ctx.strokeStyle="",Et.ctx.lineWidth=0,Et.ctx.lineJoin="miter";break}})}),[2]})})},o.prototype.renderReplacedElement=function(_,j,et){if(et&&_.intrinsicWidth>0&&_.intrinsicHeight>0){var st=contentBox(_),nt=calculatePaddingBoxPath(j);this.path(nt),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(et,0,0,_.intrinsicWidth,_.intrinsicHeight,st.left,st.top,st.width,st.height),this.ctx.restore()}},o.prototype.renderNodeContent=function(_){return __awaiter(this,void 0,void 0,function(){var j,et,st,nt,ct,At,Nt,Nt,mt,gt,_t,Et,dr,Ct,Bt,ts,Dt,Ft,Rt,Nt,Gt,dr,ts;return __generator(this,function(es){switch(es.label){case 0:this.applyEffects(_.getEffects(4)),j=_.container,et=_.curves,st=j.styles,nt=0,ct=j.textNodes,es.label=1;case 1:return nt<ct.length?(At=ct[nt],[4,this.renderTextNode(At,st)]):[3,4];case 2:es.sent(),es.label=3;case 3:return nt++,[3,1];case 4:if(!(j instanceof ImageElementContainer))return[3,8];es.label=5;case 5:return es.trys.push([5,7,,8]),[4,this.context.cache.match(j.src)];case 6:return Nt=es.sent(),this.renderReplacedElement(j,et,Nt),[3,8];case 7:return es.sent(),this.context.logger.error("Error loading image "+j.src),[3,8];case 8:if(j instanceof CanvasElementContainer&&this.renderReplacedElement(j,et,j.canvas),!(j instanceof SVGElementContainer))return[3,12];es.label=9;case 9:return es.trys.push([9,11,,12]),[4,this.context.cache.match(j.svg)];case 10:return Nt=es.sent(),this.renderReplacedElement(j,et,Nt),[3,12];case 11:return es.sent(),this.context.logger.error("Error loading svg "+j.svg.substring(0,255)),[3,12];case 12:return j instanceof IFrameElementContainer&&j.tree?(mt=new o(this.context,{scale:this.options.scale,backgroundColor:j.backgroundColor,x:0,y:0,width:j.width,height:j.height}),[4,mt.render(j.tree)]):[3,14];case 13:gt=es.sent(),j.width&&j.height&&this.ctx.drawImage(gt,0,0,j.width,j.height,j.bounds.left,j.bounds.top,j.bounds.width,j.bounds.height),es.label=14;case 14:if(j instanceof InputElementContainer&&(_t=Math.min(j.bounds.width,j.bounds.height),j.type===CHECKBOX?j.checked&&(this.ctx.save(),this.path([new Vector(j.bounds.left+_t*.39363,j.bounds.top+_t*.79),new Vector(j.bounds.left+_t*.16,j.bounds.top+_t*.5549),new Vector(j.bounds.left+_t*.27347,j.bounds.top+_t*.44071),new Vector(j.bounds.left+_t*.39694,j.bounds.top+_t*.5649),new Vector(j.bounds.left+_t*.72983,j.bounds.top+_t*.23),new Vector(j.bounds.left+_t*.84,j.bounds.top+_t*.34085),new Vector(j.bounds.left+_t*.39363,j.bounds.top+_t*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):j.type===RADIO&&j.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(j.bounds.left+_t/2,j.bounds.top+_t/2,_t/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(j)&&j.value.length){switch(Et=this.createFontStyle(st),dr=Et[0],Ct=Et[1],Bt=this.fontMetrics.getMetrics(dr,Ct).baseline,this.ctx.font=dr,this.ctx.fillStyle=asString(st.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(j.styles.textAlign),ts=contentBox(j),Dt=0,j.styles.textAlign){case 1:Dt+=ts.width/2;break;case 2:Dt+=ts.width;break}Ft=ts.add(Dt,0,0,-ts.height/2+1),this.ctx.save(),this.path([new Vector(ts.left,ts.top),new Vector(ts.left+ts.width,ts.top),new Vector(ts.left+ts.width,ts.top+ts.height),new Vector(ts.left,ts.top+ts.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(j.value,Ft),st.letterSpacing,Bt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(j.styles.display,2048))return[3,20];if(j.styles.listStyleImage===null)return[3,19];if(Rt=j.styles.listStyleImage,Rt.type!==0)return[3,18];Nt=void 0,Gt=Rt.url,es.label=15;case 15:return es.trys.push([15,17,,18]),[4,this.context.cache.match(Gt)];case 16:return Nt=es.sent(),this.ctx.drawImage(Nt,j.bounds.left-(Nt.width+10),j.bounds.top),[3,18];case 17:return es.sent(),this.context.logger.error("Error loading list-style-image "+Gt),[3,18];case 18:return[3,20];case 19:_.listValue&&j.styles.listStyleType!==-1&&(dr=this.createFontStyle(st)[0],this.ctx.font=dr,this.ctx.fillStyle=asString(st.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ts=new Bounds(j.bounds.left,j.bounds.top+getAbsoluteValue(j.styles.paddingTop,j.bounds.width),j.bounds.width,computeLineHeight(st.lineHeight,st.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(_.listValue,ts),st.letterSpacing,computeLineHeight(st.lineHeight,st.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),es.label=20;case 20:return[2]}})})},o.prototype.renderStackContent=function(_){return __awaiter(this,void 0,void 0,function(){var j,et,Rt,st,nt,Rt,ct,At,Rt,mt,gt,Rt,_t,Et,Rt,Ct,Bt,Rt,Dt,Ft,Rt;return __generator(this,function(Nt){switch(Nt.label){case 0:if(contains(_.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(_.element)];case 1:Nt.sent(),j=0,et=_.negativeZIndex,Nt.label=2;case 2:return j<et.length?(Rt=et[j],[4,this.renderStack(Rt)]):[3,5];case 3:Nt.sent(),Nt.label=4;case 4:return j++,[3,2];case 5:return[4,this.renderNodeContent(_.element)];case 6:Nt.sent(),st=0,nt=_.nonInlineLevel,Nt.label=7;case 7:return st<nt.length?(Rt=nt[st],[4,this.renderNode(Rt)]):[3,10];case 8:Nt.sent(),Nt.label=9;case 9:return st++,[3,7];case 10:ct=0,At=_.nonPositionedFloats,Nt.label=11;case 11:return ct<At.length?(Rt=At[ct],[4,this.renderStack(Rt)]):[3,14];case 12:Nt.sent(),Nt.label=13;case 13:return ct++,[3,11];case 14:mt=0,gt=_.nonPositionedInlineLevel,Nt.label=15;case 15:return mt<gt.length?(Rt=gt[mt],[4,this.renderStack(Rt)]):[3,18];case 16:Nt.sent(),Nt.label=17;case 17:return mt++,[3,15];case 18:_t=0,Et=_.inlineLevel,Nt.label=19;case 19:return _t<Et.length?(Rt=Et[_t],[4,this.renderNode(Rt)]):[3,22];case 20:Nt.sent(),Nt.label=21;case 21:return _t++,[3,19];case 22:Ct=0,Bt=_.zeroOrAutoZIndexOrTransformedOrOpacity,Nt.label=23;case 23:return Ct<Bt.length?(Rt=Bt[Ct],[4,this.renderStack(Rt)]):[3,26];case 24:Nt.sent(),Nt.label=25;case 25:return Ct++,[3,23];case 26:Dt=0,Ft=_.positiveZIndex,Nt.label=27;case 27:return Dt<Ft.length?(Rt=Ft[Dt],[4,this.renderStack(Rt)]):[3,30];case 28:Nt.sent(),Nt.label=29;case 29:return Dt++,[3,27];case 30:return[2]}})})},o.prototype.mask=function(_){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(_.slice(0).reverse()),this.ctx.closePath()},o.prototype.path=function(_){this.ctx.beginPath(),this.formatPath(_),this.ctx.closePath()},o.prototype.formatPath=function(_){var j=this;_.forEach(function(et,st){var nt=isBezierCurve(et)?et.start:et;st===0?j.ctx.moveTo(nt.x,nt.y):j.ctx.lineTo(nt.x,nt.y),isBezierCurve(et)&&j.ctx.bezierCurveTo(et.startControl.x,et.startControl.y,et.endControl.x,et.endControl.y,et.end.x,et.end.y)})},o.prototype.renderRepeat=function(_,j,et,st){this.path(_),this.ctx.fillStyle=j,this.ctx.translate(et,st),this.ctx.fill(),this.ctx.translate(-et,-st)},o.prototype.resizeImage=function(_,j,et){var st;if(_.width===j&&_.height===et)return _;var nt=(st=this.canvas.ownerDocument)!==null&&st!==void 0?st:document,ct=nt.createElement("canvas");ct.width=Math.max(1,j),ct.height=Math.max(1,et);var At=ct.getContext("2d");return At.drawImage(_,0,0,_.width,_.height,0,0,j,et),ct},o.prototype.renderBackgroundImage=function(_){return __awaiter(this,void 0,void 0,function(){var j,et,st,nt,ct,At;return __generator(this,function(mt){switch(mt.label){case 0:j=_.styles.backgroundImage.length-1,et=function(gt){var _t,Et,Ct,un,Ko,ru,lo,Il,tn,Bt,un,Ko,ru,lo,Il,Dt,Ft,Rt,Nt,Gt,dr,ts,es,ds,tn,rn,un,$n,kn,lo,Il,cu,Ko,ru,Tn,ao,uu,hu,tA,Sv,W0,l1;return __generator(this,function(X1){switch(X1.label){case 0:if(gt.type!==0)return[3,5];_t=void 0,Et=gt.url,X1.label=1;case 1:return X1.trys.push([1,3,,4]),[4,st.context.cache.match(Et)];case 2:return _t=X1.sent(),[3,4];case 3:return X1.sent(),st.context.logger.error("Error loading background-image "+Et),[3,4];case 4:return _t&&(Ct=calculateBackgroundRendering(_,j,[_t.width,_t.height,_t.width/_t.height]),un=Ct[0],Ko=Ct[1],ru=Ct[2],lo=Ct[3],Il=Ct[4],tn=st.ctx.createPattern(st.resizeImage(_t,lo,Il),"repeat"),st.renderRepeat(un,tn,Ko,ru)),[3,6];case 5:isLinearGradient(gt)?(Bt=calculateBackgroundRendering(_,j,[null,null,null]),un=Bt[0],Ko=Bt[1],ru=Bt[2],lo=Bt[3],Il=Bt[4],Dt=calculateGradientDirection(gt.angle,lo,Il),Ft=Dt[0],Rt=Dt[1],Nt=Dt[2],Gt=Dt[3],dr=Dt[4],ts=document.createElement("canvas"),ts.width=lo,ts.height=Il,es=ts.getContext("2d"),ds=es.createLinearGradient(Rt,Gt,Nt,dr),processColorStops(gt.stops,Ft).forEach(function(kI){return ds.addColorStop(kI.stop,asString(kI.color))}),es.fillStyle=ds,es.fillRect(0,0,lo,Il),lo>0&&Il>0&&(tn=st.ctx.createPattern(ts,"repeat"),st.renderRepeat(un,tn,Ko,ru))):isRadialGradient(gt)&&(rn=calculateBackgroundRendering(_,j,[null,null,null]),un=rn[0],$n=rn[1],kn=rn[2],lo=rn[3],Il=rn[4],cu=gt.position.length===0?[FIFTY_PERCENT]:gt.position,Ko=getAbsoluteValue(cu[0],lo),ru=getAbsoluteValue(cu[cu.length-1],Il),Tn=calculateRadius(gt,Ko,ru,lo,Il),ao=Tn[0],uu=Tn[1],ao>0&&uu>0&&(hu=st.ctx.createRadialGradient($n+Ko,kn+ru,0,$n+Ko,kn+ru,ao),processColorStops(gt.stops,ao*2).forEach(function(kI){return hu.addColorStop(kI.stop,asString(kI.color))}),st.path(un),st.ctx.fillStyle=hu,ao!==uu?(tA=_.bounds.left+.5*_.bounds.width,Sv=_.bounds.top+.5*_.bounds.height,W0=uu/ao,l1=1/W0,st.ctx.save(),st.ctx.translate(tA,Sv),st.ctx.transform(1,0,0,W0,0,0),st.ctx.translate(-tA,-Sv),st.ctx.fillRect($n,l1*(kn-Sv)+Sv,lo,Il*l1),st.ctx.restore()):st.ctx.fill())),X1.label=6;case 6:return j--,[2]}})},st=this,nt=0,ct=_.styles.backgroundImage.slice(0).reverse(),mt.label=1;case 1:return nt<ct.length?(At=ct[nt],[5,et(At)]):[3,4];case 2:mt.sent(),mt.label=3;case 3:return nt++,[3,1];case 4:return[2]}})})},o.prototype.renderSolidBorder=function(_,j,et){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(st){return this.path(parsePathForBorder(et,j)),this.ctx.fillStyle=asString(_),this.ctx.fill(),[2]})})},o.prototype.renderDoubleBorder=function(_,j,et,st){return __awaiter(this,void 0,void 0,function(){var nt,ct;return __generator(this,function(At){switch(At.label){case 0:return j<3?[4,this.renderSolidBorder(_,et,st)]:[3,2];case 1:return At.sent(),[2];case 2:return nt=parsePathForBorderDoubleOuter(st,et),this.path(nt),this.ctx.fillStyle=asString(_),this.ctx.fill(),ct=parsePathForBorderDoubleInner(st,et),this.path(ct),this.ctx.fill(),[2]}})})},o.prototype.renderNodeBackgroundAndBorders=function(_){return __awaiter(this,void 0,void 0,function(){var j,et,st,nt,ct,At,mt,gt,_t=this;return __generator(this,function(Et){switch(Et.label){case 0:return this.applyEffects(_.getEffects(2)),j=_.container.styles,et=!isTransparent(j.backgroundColor)||j.backgroundImage.length,st=[{style:j.borderTopStyle,color:j.borderTopColor,width:j.borderTopWidth},{style:j.borderRightStyle,color:j.borderRightColor,width:j.borderRightWidth},{style:j.borderBottomStyle,color:j.borderBottomColor,width:j.borderBottomWidth},{style:j.borderLeftStyle,color:j.borderLeftColor,width:j.borderLeftWidth}],nt=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(j.backgroundClip,0),_.curves),et||j.boxShadow.length?(this.ctx.save(),this.path(nt),this.ctx.clip(),isTransparent(j.backgroundColor)||(this.ctx.fillStyle=asString(j.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(_.container)]):[3,2];case 1:Et.sent(),this.ctx.restore(),j.boxShadow.slice(0).reverse().forEach(function(Ct){_t.ctx.save();var Bt=calculateBorderBoxPath(_.curves),Dt=Ct.inset?0:MASK_OFFSET,Ft=transformPath(Bt,-Dt+(Ct.inset?1:-1)*Ct.spread.number,(Ct.inset?1:-1)*Ct.spread.number,Ct.spread.number*(Ct.inset?-2:2),Ct.spread.number*(Ct.inset?-2:2));Ct.inset?(_t.path(Bt),_t.ctx.clip(),_t.mask(Ft)):(_t.mask(Bt),_t.ctx.clip(),_t.path(Ft)),_t.ctx.shadowOffsetX=Ct.offsetX.number+Dt,_t.ctx.shadowOffsetY=Ct.offsetY.number,_t.ctx.shadowColor=asString(Ct.color),_t.ctx.shadowBlur=Ct.blur.number,_t.ctx.fillStyle=Ct.inset?asString(Ct.color):"rgba(0,0,0,1)",_t.ctx.fill(),_t.ctx.restore()}),Et.label=2;case 2:ct=0,At=0,mt=st,Et.label=3;case 3:return At<mt.length?(gt=mt[At],gt.style!==0&&!isTransparent(gt.color)&&gt.width>0?gt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(gt.color,gt.width,ct,_.curves,2)]:[3,11]):[3,13];case 4:return Et.sent(),[3,11];case 5:return gt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(gt.color,gt.width,ct,_.curves,3)];case 6:return Et.sent(),[3,11];case 7:return gt.style!==4?[3,9]:[4,this.renderDoubleBorder(gt.color,gt.width,ct,_.curves)];case 8:return Et.sent(),[3,11];case 9:return[4,this.renderSolidBorder(gt.color,ct,_.curves)];case 10:Et.sent(),Et.label=11;case 11:ct++,Et.label=12;case 12:return At++,[3,3];case 13:return[2]}})})},o.prototype.renderDashedDottedBorder=function(_,j,et,st,nt){return __awaiter(this,void 0,void 0,function(){var ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,es,ts,es;return __generator(this,function(ds){return this.ctx.save(),ct=parsePathForBorderStroke(st,et),At=parsePathForBorder(st,et),nt===2&&(this.path(At),this.ctx.clip()),isBezierCurve(At[0])?(mt=At[0].start.x,gt=At[0].start.y):(mt=At[0].x,gt=At[0].y),isBezierCurve(At[1])?(_t=At[1].end.x,Et=At[1].end.y):(_t=At[1].x,Et=At[1].y),et===0||et===2?Ct=Math.abs(mt-_t):Ct=Math.abs(gt-Et),this.ctx.beginPath(),nt===3?this.formatPath(ct):this.formatPath(At.slice(0,2)),Bt=j<3?j*3:j*2,Dt=j<3?j*2:j,nt===3&&(Bt=j,Dt=j),Ft=!0,Ct<=Bt*2?Ft=!1:Ct<=Bt*2+Dt?(Rt=Ct/(2*Bt+Dt),Bt*=Rt,Dt*=Rt):(Nt=Math.floor((Ct+Dt)/(Bt+Dt)),Gt=(Ct-Nt*Bt)/(Nt-1),dr=(Ct-(Nt+1)*Bt)/Nt,Dt=dr<=0||Math.abs(Dt-Gt)<Math.abs(Dt-dr)?Gt:dr),Ft&&(nt===3?this.ctx.setLineDash([0,Bt+Dt]):this.ctx.setLineDash([Bt,Dt])),nt===3?(this.ctx.lineCap="round",this.ctx.lineWidth=j):this.ctx.lineWidth=j*2+1.1,this.ctx.strokeStyle=asString(_),this.ctx.stroke(),this.ctx.setLineDash([]),nt===2&&(isBezierCurve(At[0])&&(ts=At[3],es=At[0],this.ctx.beginPath(),this.formatPath([new Vector(ts.end.x,ts.end.y),new Vector(es.start.x,es.start.y)]),this.ctx.stroke()),isBezierCurve(At[1])&&(ts=At[1],es=At[2],this.ctx.beginPath(),this.formatPath([new Vector(ts.end.x,ts.end.y),new Vector(es.start.x,es.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},o.prototype.render=function(_){return __awaiter(this,void 0,void 0,function(){var j;return __generator(this,function(et){switch(et.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),j=parseStackingContexts(_),[4,this.renderStack(j)];case 1:return et.sent(),this.applyEffects([]),[2,this.canvas]}})})},o}(Renderer),isTextInputElement=function(s){return s instanceof TextareaElementContainer||s instanceof SelectElementContainer?!0:s instanceof InputElementContainer&&s.type!==RADIO&&s.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(s,o){switch(s){case 0:return calculateBorderBoxPath(o);case 2:return calculateContentBoxPath(o);case 1:default:return calculatePaddingBoxPath(o)}},canvasTextAlign=function(s){switch(s){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(s){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?s.filter(function(o){return iOSBrokenFonts.indexOf(o)===-1}):s},ForeignObjectRenderer=function(s){__extends(o,s);function o(_,j){var et=s.call(this,_,j)||this;return et.canvas=j.canvas?j.canvas:document.createElement("canvas"),et.ctx=et.canvas.getContext("2d"),et.options=j,et.canvas.width=Math.floor(j.width*j.scale),et.canvas.height=Math.floor(j.height*j.scale),et.canvas.style.width=j.width+"px",et.canvas.style.height=j.height+"px",et.ctx.scale(et.options.scale,et.options.scale),et.ctx.translate(-j.x,-j.y),et.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+j.width+"x"+j.height+" at "+j.x+","+j.y+") with scale "+j.scale),et}return o.prototype.render=function(_){return __awaiter(this,void 0,void 0,function(){var j,et;return __generator(this,function(st){switch(st.label){case 0:return j=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,_),[4,loadSerializedSVG(j)];case 1:return et=st.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(et,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},o}(Renderer),loadSerializedSVG=function(s){return new Promise(function(o,_){var j=new Image;j.onload=function(){o(j)},j.onerror=_,j.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(s))})},Logger=function(){function s(o){var _=o.id,j=o.enabled;this.id=_,this.enabled=j,this.start=Date.now()}return s.prototype.debug=function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],o)):this.info.apply(this,o))},s.prototype.getTime=function(){return Date.now()-this.start},s.prototype.info=function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],o))},s.prototype.warn=function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],o)):this.info.apply(this,o))},s.prototype.error=function(){for(var o=[],_=0;_<arguments.length;_++)o[_]=arguments[_];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],o)):this.info.apply(this,o))},s.instances={},s}(),Context=function(){function s(o,_){var j;this.windowBounds=_,this.instanceName="#"+s.instanceCount++,this.logger=new Logger({id:this.instanceName,enabled:o.logging}),this.cache=(j=o.cache)!==null&&j!==void 0?j:new Cache(this,o)}return s.instanceCount=1,s}(),html2canvas=function(s,o){return o===void 0&&(o={}),renderElement(s,o)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(s,o){return __awaiter(void 0,void 0,void 0,function(){var _,j,et,st,nt,ct,At,mt,gt,_t,Et,Ct,Bt,Dt,Ft,Rt,Nt,Gt,dr,ts,ds,es,ds,tn,rn,un,$n,kn,lo,Il,cu,Ko,ru,Tn,ao,uu,hu,tA,Sv,W0;return __generator(this,function(l1){switch(l1.label){case 0:if(!s||typeof s!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(_=s.ownerDocument,!_)throw new Error("Element is not attached to a Document");if(j=_.defaultView,!j)throw new Error("Document is not attached to a Window");return et={allowTaint:(tn=o.allowTaint)!==null&&tn!==void 0?tn:!1,imageTimeout:(rn=o.imageTimeout)!==null&&rn!==void 0?rn:15e3,proxy:o.proxy,useCORS:(un=o.useCORS)!==null&&un!==void 0?un:!1},st=__assign({logging:($n=o.logging)!==null&&$n!==void 0?$n:!0,cache:o.cache},et),nt={windowWidth:(kn=o.windowWidth)!==null&&kn!==void 0?kn:j.innerWidth,windowHeight:(lo=o.windowHeight)!==null&&lo!==void 0?lo:j.innerHeight,scrollX:(Il=o.scrollX)!==null&&Il!==void 0?Il:j.pageXOffset,scrollY:(cu=o.scrollY)!==null&&cu!==void 0?cu:j.pageYOffset},ct=new Bounds(nt.scrollX,nt.scrollY,nt.windowWidth,nt.windowHeight),At=new Context(st,ct),mt=(Ko=o.foreignObjectRendering)!==null&&Ko!==void 0?Ko:!1,gt={allowTaint:(ru=o.allowTaint)!==null&&ru!==void 0?ru:!1,onclone:o.onclone,ignoreElements:o.ignoreElements,inlineImages:mt,copyStyles:mt},At.logger.debug("Starting document clone with size "+ct.width+"x"+ct.height+" scrolled to "+-ct.left+","+-ct.top),_t=new DocumentCloner(At,s,gt),Et=_t.clonedReferenceElement,Et?[4,_t.toIFrame(_,ct)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ct=l1.sent(),Bt=isBodyElement(Et)||isHTMLElement(Et)?parseDocumentSize(Et.ownerDocument):parseBounds(At,Et),Dt=Bt.width,Ft=Bt.height,Rt=Bt.left,Nt=Bt.top,Gt=parseBackgroundColor(At,Et,o.backgroundColor),dr={canvas:o.canvas,backgroundColor:Gt,scale:(ao=(Tn=o.scale)!==null&&Tn!==void 0?Tn:j.devicePixelRatio)!==null&&ao!==void 0?ao:1,x:((uu=o.x)!==null&&uu!==void 0?uu:0)+Rt,y:((hu=o.y)!==null&&hu!==void 0?hu:0)+Nt,width:(tA=o.width)!==null&&tA!==void 0?tA:Math.ceil(Dt),height:(Sv=o.height)!==null&&Sv!==void 0?Sv:Math.ceil(Ft)},mt?(At.logger.debug("Document cloned, using foreign object rendering"),ds=new ForeignObjectRenderer(At,dr),[4,ds.render(Et)]):[3,3];case 2:return ts=l1.sent(),[3,5];case 3:return At.logger.debug("Document cloned, element located at "+Rt+","+Nt+" with size "+Dt+"x"+Ft+" using computed rendering"),At.logger.debug("Starting DOM parsing"),es=parseTree(At,Et),Gt===es.styles.backgroundColor&&(es.styles.backgroundColor=COLORS.TRANSPARENT),At.logger.debug("Starting renderer for element at "+dr.x+","+dr.y+" with size "+dr.width+"x"+dr.height),ds=new CanvasRenderer(At,dr),[4,ds.render(es)];case 4:ts=l1.sent(),l1.label=5;case 5:return(!((W0=o.removeContainer)!==null&&W0!==void 0)||W0)&&(DocumentCloner.destroy(Ct)||At.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),At.logger.debug("Finished rendering"),[2,ts]}})})},parseBackgroundColor=function(s,o,_){var j=o.ownerDocument,et=j.documentElement?parseColor(s,getComputedStyle(j.documentElement).backgroundColor):COLORS.TRANSPARENT,st=j.body?parseColor(s,getComputedStyle(j.body).backgroundColor):COLORS.TRANSPARENT,nt=typeof _=="string"?parseColor(s,_):_===null?COLORS.TRANSPARENT:4294967295;return o===j.documentElement?isTransparent(et)?isTransparent(st)?nt:st:et:nt};const TableModal=({closeModal:s,data:o,metaData:_,userName:j,formattedDate:et,formattedTime:st})=>{const nt=reactExports.useRef(null),ct=()=>{const At=nt.current;html2canvas(At).then(function(mt){const gt=document.createElement("a");gt.href=mt.toDataURL("image/png"),gt.download="transaction_details.png",gt.click()})};return jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv",children:jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_contb",children:[jsxRuntimeExports.jsx(default_1$3,{className:"depositMoneyDiv_iconb",onClick:s}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body",ref:nt,children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_title",children:"Transaction Details"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont",children:[jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"Type"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:[" ",_.to_username===j&&o.type==="INTERNAL"?jsxRuntimeExports.jsxs("div",{className:"credit",children:[jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"stakingTable_body_row_data_img"}),"Credit"," ",jsxRuntimeExports.jsx(default_1$4,{className:"stakingTable_body_row_data_icon"})," "]}):_.to_username!==j&&o.type==="INTERNAL"?jsxRuntimeExports.jsxs("div",{className:"debit",children:[jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"stakingTable_body_row_data_img"}),"Debit"," ",jsxRuntimeExports.jsx(default_1$5,{className:"stakingTable_body_row_data_icon"})]}):o.type==="Credit"?jsxRuntimeExports.jsxs("div",{className:"credit",children:[jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"stakingTable_body_row_data_img"}),o.type," ",jsxRuntimeExports.jsx(default_1$4,{className:"stakingTable_body_row_data_icon"})," "]}):o.type==="Debit"?jsxRuntimeExports.jsxs("div",{className:"debit",children:[jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"stakingTable_body_row_data_img"}),o.type,jsxRuntimeExports.jsx(default_1$5,{className:"stakingTable_body_row_data_icon"})," "]}):jsxRuntimeExports.jsxs("div",{className:"normal",children:[" ",jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"stakingTable_body_row_data_img"}),o.type]})]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"Amount"}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:[_.symbol==="NGN"?"₦":null," ",numberWithCommas(parseFloat(o.amount).toFixed(2))," ",_.symbol==="USD"?"USDT":null," ",_.symbol==="EGC"?"EGC":null," ",_.symbol==="EGAX"?"EGAX":null," ",_.tokenOut==="USDT"?"USDT":null," ",_.tokenOut==="EGC"?"EGC":null," ",_.tokenOut==="EGAX"?"EGAX":null," ",_.tokenOut==="NGN"?"₦":null," "]})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"From"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:o.email})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"To"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:o.to_email})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"Date"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:et})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"Time"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:st})]}),jsxRuntimeExports.jsxs("div",{className:"depositMoneyDiv_table_body_cont_1",children:[" ",jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1",children:"Status"}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_cont_1_div1_txt",children:jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_data_last_div",children:o.status==="SUCCESS"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_success",children:o.status}):o.status==="PENDING"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_pending",children:o.status}):o.status==="DECLINED"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_error",children:o.status}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o.status})})})]})]}),jsxRuntimeExports.jsx("div",{className:"depositMoneyDiv_table_body_title_img_div",children:jsxRuntimeExports.jsx("img",{src:"/img/egoras-logo.png",alt:"",className:"depositMoneyDiv_table_body_title_img"})})]}),jsxRuntimeExports.jsxs("button",{onClick:ct,className:"SaveReceipt_btn",children:[jsxRuntimeExports.jsx(default_1$2,{}),"Save"]})]})})},TablePagination=({TableData:s,tableTitle:o,contentLoading:_,dummyData:j,userName:et,email:st})=>{const[nt,ct]=reactExports.useState("");reactExports.useState(!1);const[At,mt]=reactExports.useState(0),gt=7;function _t({selected:Rt}){mt(Rt)}const Et=s.map(Rt=>(Rt.type==="DEPOSIT"?Rt.type="Credit":(Rt.type==="CASHOUT"||Rt.type==="WITHDRAWAL")&&(Rt.type="Debit"),Rt)),Ct=Rt=>{ct(Rt)},Bt=At*gt,Dt=Math.ceil(Et.length/gt),Ft=Et.slice(Bt,Bt+gt);return jsxRuntimeExports.jsxs("div",{className:"TableCompWithDiv",children:[jsxRuntimeExports.jsxs("div",{className:"TableCompWithDiv_title",children:[o," "]}),jsxRuntimeExports.jsx("div",{className:"TableCompWithDiv_cont",children:_?jsxRuntimeExports.jsxs("table",{className:"TableCompWithDiv_cont_table",children:[jsxRuntimeExports.jsx("thead",{className:"TableCompWithDiv_cont_head",children:jsxRuntimeExports.jsxs("tr",{className:"TableCompWithDiv_cont_head_titles",children:[jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div TableCompWithDiv_cont_head_titles_div_first",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Product Brand"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div  TableCompWithDiv_cont_head_titles_div_last",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"stakingTable_body",children:j.map(Rt=>jsxRuntimeExports.jsxs("tr",{className:"stakingTable_body_row ",children:[jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first  ",children:jsxRuntimeExports.jsx(ShimmerButton,{size:"md",className:"custom_shimmer"})}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:jsxRuntimeExports.jsx(ShimmerButton,{size:"md",className:"custom_shimmer"})}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:jsxRuntimeExports.jsx(ShimmerButton,{size:"md",className:"custom_shimmer"})}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:jsxRuntimeExports.jsx(ShimmerButton,{size:"md",className:"custom_shimmer"})}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_last",children:jsxRuntimeExports.jsx(ShimmerButton,{size:"md",className:"custom_shimmer"})})]}))})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ft.length<=0?jsxRuntimeExports.jsx(NodataComp,{}):jsxRuntimeExports.jsxs("table",{className:"TableCompWithDiv_cont_table",children:[jsxRuntimeExports.jsx("thead",{className:"TableCompWithDiv_cont_head",children:jsxRuntimeExports.jsxs("tr",{className:"TableCompWithDiv_cont_head_titles",children:[jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div TableCompWithDiv_cont_head_titles_div_first",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"To"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"TableCompWithDiv_cont_head_titles_div  TableCompWithDiv_cont_head_titles_div_last",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"stakingTable_body",children:Ft.map(Rt=>{const Nt=JSON.parse(Rt.meta),Gt=new Date(Rt.createdAt),dr=`${Gt.getDate()}/${Gt.getMonth()+1}/${Gt.getFullYear()}`,ts=Rt.createdAt,es=new Date(ts),ds=es.getHours(),tn=es.getMinutes(),rn=`${ds%12}:${tn.toString().padStart(2,"0")}${ds<12?"am":"pm"}`;return jsxRuntimeExports.jsxs("tr",{className:"stakingTable_body_row ",id:Rt.id,onClick:()=>{Ct(Rt.id)},children:[Nt.to_username===et&&Rt.type==="INTERNAL"?jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first ",children:jsxRuntimeExports.jsxs("div",{className:"credit",children:[jsxRuntimeExports.jsx("img",{src:Rt.image,alt:"",className:"stakingTable_body_row_data_img"}),"Credit"," ",jsxRuntimeExports.jsx(default_1$4,{className:"stakingTable_body_row_data_icon"})," "]})}):Nt.to_username!==et&&Rt.type==="INTERNAL"?jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first ",children:jsxRuntimeExports.jsxs("div",{className:"debit",children:[jsxRuntimeExports.jsx("img",{src:Rt.image,alt:"",className:"stakingTable_body_row_data_img"}),"Debit"," ",jsxRuntimeExports.jsx(default_1$5,{className:"stakingTable_body_row_data_icon"})]})}):Rt.type==="Credit"?jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first ",children:jsxRuntimeExports.jsxs("div",{className:"credit",children:[jsxRuntimeExports.jsx("img",{src:Rt.image,alt:"",className:"stakingTable_body_row_data_img"}),Rt.type," ",jsxRuntimeExports.jsx(default_1$4,{className:"stakingTable_body_row_data_icon"})," "]})}):Rt.type==="Debit"?jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first ",children:jsxRuntimeExports.jsxs("div",{className:"debit",children:[jsxRuntimeExports.jsx("img",{src:Rt.image,alt:"",className:"stakingTable_body_row_data_img"}),Rt.type,jsxRuntimeExports.jsx(default_1$5,{className:"stakingTable_body_row_data_icon"})," "]})}):jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_first ",children:jsxRuntimeExports.jsxs("div",{className:"normal",children:[" ",jsxRuntimeExports.jsx("img",{src:Rt.image,alt:"",className:"stakingTable_body_row_data_img"}),Rt.type]})}),jsxRuntimeExports.jsxs("td",{className:"stakingTable_body_row_data",children:[Nt.symbol==="NGN"?"₦":null," ",numberWithCommas(parseFloat(Rt.amount).toFixed(2))," ",Nt.symbol==="USD"?"USDT":null," ",Nt.symbol==="EGC"?"EGC":null," ",Nt.symbol==="EGAX"?"EGAX":null," ",Nt.tokenOut==="USDT"?"USDT":null," ",Nt.tokenOut==="EGC"?"EGC":null," ",Nt.tokenOut==="EGAX"?"EGAX":null," ",Nt.tokenOut==="NGN"?"₦":null," "]}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:jsxRuntimeExports.jsxs("div",{className:"stakingTable_body_row_email",children:["@",`${Rt.to_email.slice(0,8)}...`]})}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:dr}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data",children:rn}),jsxRuntimeExports.jsx("td",{className:"stakingTable_body_row_data stakingTable_body_row_data_last",children:jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_data_last_div",children:Rt.status==="SUCCESS"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_success",children:Rt.status}):Rt.status==="PENDING"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_pending",children:Rt.status}):Rt.status==="DECLINED"?jsxRuntimeExports.jsx("div",{className:"stakingTable_body_row_status_error",children:Rt.status}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Rt.status})})})]})})})]})})}),Ft.length<=0?null:jsxRuntimeExports.jsx(Paginate,{pageCount:Dt,handlePageClick:_t}),nt===""?null:Ft.map(Rt=>{const Nt=JSON.parse(Rt.meta),Gt=new Date(Rt.createdAt),dr=`${Gt.getDate()}/${Gt.getMonth()+1}/${Gt.getFullYear()}`,ts=Rt.createdAt,es=new Date(ts),ds=es.getHours(),tn=es.getMinutes(),rn=`${ds%12}:${tn.toString().padStart(2,"0")}${ds<12?"am":"pm"}`;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Rt.id===nt?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(TableModal,{closeModal:Ct,data:Rt,metaData:Nt,userName:et,formattedDate:dr,formattedTime:rn})}):null})})]})},DashBoardTransactions=()=>{const[s,o]=reactExports.useState([]);reactExports.useState(0);const[_,j]=reactExports.useState(!0);reactExports.useState(!0),window.location.pathname.split("/"),reactExports.useEffect(()=>{j(!0),setTimeout(()=>{j(!1)},2e3)},[]);const{data:st,isPending:nt}=useQuery({queryKey:["transaction"],queryFn:async()=>{const At=await TRANSACTIONS();if(console.log("===================================="),console.log(At),At.code===200){o(At.data);return}return At}}),ct=async()=>{await st()};return reactExports.useEffect(()=>{ct()},[]),_?jsxRuntimeExports.jsx("div",{className:"loading_div_area",children:jsxRuntimeExports.jsx(Lottie,{animationData:loading,loop:!1,autoPlay:!0,className:"loadingIcon",preserveAspectRatio:"xMidYMid meet"})}):jsxRuntimeExports.jsxs("div",{className:"transactionPage",children:[jsxRuntimeExports.jsx("div",{className:"transactionPage_title",children:"All Transactions"}),jsxRuntimeExports.jsx("div",{className:"transactionPage_body",children:jsxRuntimeExports.jsx(TablePagination,{TableData:s,contentLoading:nt,dummyData:Staticdata.productsTableData.slice(0,8),userName:getUserInfo().username})})]})},LOGIN=async s=>{try{return(await server.post(LOGIN_ROUTE,s)).data}catch(o){return o.response||o.message}},REGISTER$1=async s=>{try{return(await server.post(REGISTER_ROUTE,s)).data}catch(o){return o.response||o.message}},ADD_TO_WATCHER=async s=>{try{return(await server.post(ADD_TO_WATCHER_ROUTE,s)).data}catch(o){return o.response||o.message}},FundEgax=()=>{const s=useDispatch(),{wallet_address:o}=useParams(),{details:_,bank_details:j}=useSelector(lo=>lo.user),[et,st]=reactExports.useState(!0),[nt,ct]=reactExports.useState(0),[At,mt]=reactExports.useState(!0),[gt,_t]=reactExports.useState(!1),[Et,Ct]=reactExports.useState(!1),[Bt,Dt]=reactExports.useState(!1),[Ft,Rt]=reactExports.useState(""),[Nt,Gt]=reactExports.useState(!1),[dr,ts]=reactExports.useState({address:"",amount:""});window.location.pathname.split("/"),reactExports.useEffect(()=>{mt(!0),setTimeout(()=>{mt(!1)},2e3)},[]),reactExports.useEffect(()=>{if(o){ts({...dr,address:o});return}},[]);const ds=lo=>{const{id:Il,value:cu}=lo.target;ts({...dr,[Il]:cu})},tn=()=>{st(!et),ct(0)},rn=()=>{_t(!gt)},un=lo=>{const{value:Il}=lo.target;Il.length>11||Rt(Il)},$n=async()=>{Ct(!0);const lo=await UPDATE_BVN({bvn:Ft});if(console.log(lo),!lo.success){alert("failed to update BVN");return}alert("successfully submitted bvn"),window.location.reload()};useQuery({queryKey:["accountNumber"],queryFn:async()=>{var Il,cu,Ko,ru;const lo=await GENERATE_WATU_BANK_ACCOUNT();return console.log("===================================="),lo.code===200?(console.log("solo",lo),s(updateBankDetails((cu=(Il=lo==null?void 0:lo.data)==null?void 0:Il.vA)==null?void 0:cu.data)),(ru=(Ko=lo==null?void 0:lo.data)==null?void 0:Ko.vA)==null?void 0:ru.data):lo.status!==200?(s(updateBankDetails({})),lo.data.errorMessage=="Cannot creeate Account, BVN not provided"?Gt(!0):(console.log("===================================="),console.log(lo.data.errorMessage),console.log("====================================")),{}):lo}});const kn=async()=>{if(dr.address===""||dr.amount==="")return;console.log(dr,"siii");const lo=await ADD_TO_WATCHER(dr);console.log(lo,"werey"),rn()};return At?jsxRuntimeExports.jsx("div",{className:"loading_div_area",children:jsxRuntimeExports.jsx(Lottie,{animationData:loading,loop:!1,autoPlay:!0,className:"loadingIcon",preserveAspectRatio:"xMidYMid meet"})}):jsxRuntimeExports.jsxs("div",{className:"",children:[et===!0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gt==!1?jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:tn,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1",children:jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area1_text",children:"Buy EGAX Directly"})}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2",children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2_inputArea1",children:[jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea_title",children:"Enter Address"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0xXXXXXXXXXXXXXXX",id:"address",name:"address",onChange:ds,disabled:o,value:dr.address,className:"depositMoneyDiv_cont_body_wallet_addr_div_input"}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea_title",children:"Enter Amount"}),jsxRuntimeExports.jsx(NumericFormat,{value:dr.amount,displayType:"number",thousandSeparator:!0,prefix:"₦ ",name:"amount",id:"amount",onChange:ds,className:"loginArea1_inputArea_input"})]}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea2",children:jsxRuntimeExports.jsx("button",{className:"receiveMoneyModalDiv_area2_inputArea2_btn",onClick:kn,children:"Continue"})})]})]})}):jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area",children:[jsxRuntimeExports.jsxs("div",{className:"backDiv",onClick:rn,children:[jsxRuntimeExports.jsx(default_1$a,{})," Back"]}),j!=null&&j.account_number?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1",children:[jsxRuntimeExports.jsx(Lottie,{animationData:bankIcon,loop:!1,autoPlay:!0,className:"receiveMoneyModalDiv_area1_img",preserveAspectRatio:"xMidYMid meet"}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area1_text",children:["Transfer NGN ",dr.amount," to Receive EGAX"]})]}),jsxRuntimeExports.jsxs("div",{className:"receiveMoneyModalDiv_area2",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div",children:jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_head",children:"1. Copy the account details provided below."}),jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_body_area1_head",children:"BANK NAME"}),jsxRuntimeExports.jsxs("div",{children:[j==null?void 0:j.bank_name," ("," ",j==null?void 0:j.account_name,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_body_area1_head",children:"ACCOUNT NUMBER"}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1_body",children:[j==null?void 0:j.account_number,j==null?void 0:j.accountName]})]}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1",children:[jsxRuntimeExports.jsx("div",{className:"fund_bank_account_details_div_cont1_body_area1_head",children:"AMOUNT"}),jsxRuntimeExports.jsxs("div",{className:"fund_bank_account_details_div_cont1_body_area1_body",children:["NGN ",dr.amount]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"receiveMoneyModalDiv_area2_inputArea2",children:jsxRuntimeExports.jsx("button",{className:"receiveMoneyModalDiv_area2_inputArea2_btn",children:"Copy Account Number"})})]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div",children:[jsxRuntimeExports.jsx("div",{className:"signup_div_section_div_title",children:"Submit BVN to Generate Account!"}),jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_container_form",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"signup_div_section_div_container_form_label",children:"BVN:"}),jsxRuntimeExports.jsx("div",{className:"password_div",children:jsxRuntimeExports.jsx("input",{type:"number",id:"password",name:"password",onChange:un,className:"signup_div_section_div_container_form_input_pasowrd",autoComplete:"off",value:Ft})}),jsxRuntimeExports.jsx("button",{className:"signup_div_section_div_container_form_btn",onClick:$n,children:Et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(_default,{color:"#fff",height:20})}):" Submits"})]})]})})})]})})}):null,Bt===!0?jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal",children:jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont",children:[jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_title",children:"BVN REQUIRED"}),jsxRuntimeExports.jsx("div",{className:"bvn_complete_modal_cont_para",children:"Please complete your identity verification to use this feauture."}),jsxRuntimeExports.jsxs("div",{className:"bvn_complete_modal_cont_btn_divs",children:[jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn1",onClick:()=>Dt(!1),children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"bvn_complete_modal_cont_btn",children:"Complete verification"})]})]})}):null]})},DashboardHome=()=>{const s=useDispatch();if(getUserInfo()===null||getUserInfo()===void 0||localStorage.getItem("x-token")===null){const o=window.location.href;return localStorage.setItem("redirectUrl",o),window.location.href="/login"}else{const o=localStorage.getItem("redirectUrl");o&&(window.location.href=o,localStorage.removeItem("redirectUrl"))}return reactExports.useEffect(()=>(s({type:"socket/connect"}),()=>{s({type:"socket/disconnect"})}),[s]),jsxRuntimeExports.jsxs("div",{className:"dashboard",children:[jsxRuntimeExports.jsx("div",{className:"dashBoardDiv1",children:jsxRuntimeExports.jsx(DashboardHeader,{})}),jsxRuntimeExports.jsx("div",{className:"container",children:jsxRuntimeExports.jsxs("div",{className:"dashBoardDiv2",children:[jsxRuntimeExports.jsx(DashboardSideBar,{}),jsxRuntimeExports.jsx("div",{className:"dashboardPages",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/app/home",element:jsxRuntimeExports.jsx(DashBoardDefaultPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/add-money",element:jsxRuntimeExports.jsx(DashBoardAddMoney,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/send-money",element:jsxRuntimeExports.jsx(DashBoardTransfer,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/fund-egax",element:jsxRuntimeExports.jsx(FundEgax,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/fund-egax/:wallet_address",element:jsxRuntimeExports.jsx(FundEgax,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/all-transactions",element:jsxRuntimeExports.jsx(DashBoardTransactions,{})})]})})]})}),jsxRuntimeExports.jsx("img",{src:"/img/login_bg.jpeg",alt:"",className:"signup_div_bg2"})]})};var R=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],xe="react-international-phone-",se=(...s)=>s.filter(o=>!!o).join(" ").trim(),Se=(...s)=>se(...s).split(" ").map(o=>`${xe}${o}`).join(" "),P=({addPrefix:s,rawClassNames:o})=>se(Se(...s),...o),le=({value:s,mask:o,maskSymbol:_,offset:j=0,trimNonMaskCharsLeftover:et=!1})=>{if(s.length<j)return s;let st=s.slice(0,j),nt=s.slice(j),ct=st,At=0;for(let mt of o.split("")){if(At>=nt.length){if(!et&&mt!==_){ct+=mt;continue}break}mt===_?(ct+=nt[At],At+=1):ct+=mt}return ct},F=s=>s?/^\d+$/.test(s):!1,z=s=>s.replace(/\D/g,""),ue=(s,o)=>{let _=s.style.display;_!=="block"&&(s.style.display="block");let j=s.getBoundingClientRect(),et=o.getBoundingClientRect(),st=et.top-j.top,nt=j.bottom-et.bottom;st>=0&&nt>=0||(Math.abs(st)<Math.abs(nt)?s.scrollTop+=st:s.scrollTop-=nt),s.style.display=_},de=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),pe=(s,o)=>{let _=o.disableDialCodeAndPrefix?!1:o.forceDialCode,j=o.disableDialCodeAndPrefix?!1:o.insertDialCodeOnEmpty,et=s,st=mt=>o.trimNonDigitsEnd?mt.trim():mt;if(!et)return j&&!et.length||_?st(`${o.prefix}${o.dialCode}${o.charAfterDialCode}`):st(et);if(et=z(et),et===o.dialCode&&!o.disableDialCodeAndPrefix)return st(`${o.prefix}${o.dialCode}${o.charAfterDialCode}`);if(o.dialCode.startsWith(et)&&!o.disableDialCodeAndPrefix)return st(_?`${o.prefix}${o.dialCode}${o.charAfterDialCode}`:`${o.prefix}${et}`);if(!et.startsWith(o.dialCode)&&!o.disableDialCodeAndPrefix){if(_)return st(`${o.prefix}${o.dialCode}${o.charAfterDialCode}`);if(et.length<o.dialCode.length)return st(`${o.prefix}${et}`)}let nt=()=>{let mt=o.dialCode.length,gt=et.slice(0,mt),_t=et.slice(mt);return{phoneLeftSide:gt,phoneRightSide:_t}},{phoneLeftSide:ct,phoneRightSide:At}=nt();return ct=`${o.prefix}${ct}${o.charAfterDialCode}`,At=le({value:At,mask:o.mask,maskSymbol:o.maskChar,trimNonMaskCharsLeftover:o.trimNonDigitsEnd||o.disableDialCodeAndPrefix&&At.length===0}),o.disableDialCodeAndPrefix&&(ct=""),st(`${ct}${At}`)},me=({phoneBeforeInput:s,phoneAfterInput:o,phoneAfterFormatted:_,cursorPositionAfterInput:j,leftOffset:et=0,deletion:st})=>{if(j<et)return et;if(!s)return _.length;let nt=null;for(let gt=j-1;gt>=0;gt-=1)if(F(o[gt])){nt=gt;break}if(nt===null){for(let gt=0;gt<o.length;gt+=1)if(F(_[gt]))return gt;return o.length}let ct=0;for(let gt=0;gt<nt;gt+=1)F(o[gt])&&(ct+=1);let At=0,mt=0;for(let gt=0;gt<_.length&&(At+=1,F(_[gt])&&(mt+=1),!(mt>=ct+1));gt+=1);if(st!=="backward")for(;!F(_[At])&&At<_.length;)At+=1;return At},O=({phone:s,prefix:o})=>s?`${o}${z(s)}`:"";function W({value:s,country:o,insertDialCodeOnEmpty:_,trimNonDigitsEnd:j,countries:et,prefix:st,charAfterDialCode:nt,forceDialCode:ct,disableDialCodeAndPrefix:At,defaultMask:mt,countryGuessingEnabled:gt,disableFormatting:_t}){let Et=s;At&&(Et=Et.startsWith(`${st}`)?Et:`${st}${o.dialCode}${Et}`);let Ct=gt?X({phone:Et,countries:et,currentCountryIso2:o==null?void 0:o.iso2}):void 0,Bt=(Ct==null?void 0:Ct.country)??o,Dt=pe(Et,{prefix:st,mask:Q({phone:Et,country:Bt,defaultMask:mt,disableFormatting:_t}),maskChar:J,dialCode:Bt.dialCode,trimNonDigitsEnd:j,charAfterDialCode:nt,forceDialCode:ct,insertDialCodeOnEmpty:_,disableDialCodeAndPrefix:At}),Ft=gt&&!(Ct!=null&&Ct.fullDialCodeMatch)?o:Bt;return{phone:O({phone:At?`${Ft.dialCode}${Dt}`:Dt,prefix:st}),inputValue:Dt,country:Ft}}var ke=s=>{if((s==null?void 0:s.toLocaleLowerCase().includes("delete"))??!1)return s!=null&&s.toLocaleLowerCase().includes("forward")?"forward":"backward"},fe=(s,{country:o,insertDialCodeOnEmpty:_,phoneBeforeInput:j,prefix:et,charAfterDialCode:st,forceDialCode:nt,disableDialCodeAndPrefix:ct,countryGuessingEnabled:At,defaultMask:mt,disableFormatting:gt,countries:_t})=>{let Et=s.nativeEvent,Ct=Et.inputType,Bt=ke(Ct),Dt=!!(Ct!=null&&Ct.startsWith("insertFrom")),Ft=Ct==="insertText",Rt=(Et==null?void 0:Et.data)||void 0,Nt=s.target.value,Gt=s.target.selectionStart??0;if(Ct!=null&&Ct.includes("history"))return{inputValue:j,phone:O({phone:j,prefix:et}),cursorPosition:j.length,country:o};if(Ft&&!F(Rt)&&Nt!==et)return{inputValue:j,phone:O({phone:ct?`${o.dialCode}${j}`:j,prefix:et}),cursorPosition:Gt-((Rt==null?void 0:Rt.length)??0),country:o};if(nt&&!Nt.startsWith(`${et}${o.dialCode}`)&&!Dt){let tn=Nt?j:`${et}${o.dialCode}${st}`;return{inputValue:tn,phone:O({phone:tn,prefix:et}),cursorPosition:et.length+o.dialCode.length+st.length,country:o}}let{phone:dr,inputValue:ts,country:es}=W({value:Nt,country:o,trimNonDigitsEnd:Bt==="backward",insertDialCodeOnEmpty:_,countryGuessingEnabled:At,countries:_t,prefix:et,charAfterDialCode:st,forceDialCode:nt,disableDialCodeAndPrefix:ct,disableFormatting:gt,defaultMask:mt}),ds=me({cursorPositionAfterInput:Gt,phoneBeforeInput:j,phoneAfterInput:Nt,phoneAfterFormatted:ts,leftOffset:nt?et.length+o.dialCode.length+st.length:0,deletion:Bt});return{phone:dr,inputValue:ts,cursorPosition:ds,country:es}},he=(s,o)=>{let _=Object.keys(s),j=Object.keys(o);if(_.length!==j.length)return!1;for(let et of _)if(s[et]!==o[et])return!1;return!0},ye=()=>{let s=reactExports.useRef(),o=reactExports.useRef(Date.now());return{check:()=>{let _=Date.now(),j=s.current?_-o.current:void 0;return s.current=o.current,o.current=_,j}}},Ie={size:20,overrideLastItemDebounceMS:-1};function ge(s,o){let{size:_,overrideLastItemDebounceMS:j,onChange:et}={...Ie,...o},[st,nt]=reactExports.useState(s),[ct,At]=reactExports.useState([st]),[mt,gt]=reactExports.useState(0),_t=ye();return[st,(Et,Ct)=>{if(typeof Et=="object"&&typeof st=="object"&&he(Et,st)||Et===st)return;let Bt=j>0,Dt=_t.check(),Ft=Bt&&Dt!==void 0?Dt>j:!0;if((Ct==null?void 0:Ct.overrideLastItem)!==void 0?Ct.overrideLastItem:!Ft)At(Rt=>[...Rt.slice(0,mt),Et]);else{let Rt=ct.length>=_;At(Nt=>[...Nt.slice(Rt?1:0,mt+1),Et]),Rt||gt(Nt=>Nt+1)}nt(Et),et==null||et(Et)},()=>{if(mt<=0)return{success:!1};let Et=ct[mt-1];return nt(Et),gt(Ct=>Ct-1),et==null||et(Et),{success:!0,value:Et}},()=>{if(mt+1>=ct.length)return{success:!1};let Et=ct[mt+1];return nt(Et),gt(Ct=>Ct+1),et==null||et(Et),{success:!0,value:Et}}]}var J=".",E={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:R,preferredCountries:[]},ee=({defaultCountry:s=E.defaultCountry,value:o=E.value,countries:_=E.countries,prefix:j=E.prefix,defaultMask:et=E.defaultMask,charAfterDialCode:st=E.charAfterDialCode,historySaveDebounceMS:nt=E.historySaveDebounceMS,disableCountryGuess:ct=E.disableCountryGuess,disableDialCodePrefill:At=E.disableDialCodePrefill,forceDialCode:mt=E.forceDialCode,disableDialCodeAndPrefix:gt=E.disableDialCodeAndPrefix,disableFormatting:_t=E.disableFormatting,onChange:Et,inputRef:Ct})=>{let Bt={countries:_,prefix:j,charAfterDialCode:st,forceDialCode:gt?!1:mt,disableDialCodeAndPrefix:gt,defaultMask:et,countryGuessingEnabled:!ct,disableFormatting:_t},Dt=reactExports.useRef(null),Ft=Ct||Dt,Rt=Il=>{Promise.resolve().then(()=>{var cu;typeof window>"u"||Ft.current!==(document==null?void 0:document.activeElement)||((cu=Ft.current)==null||cu.setSelectionRange(Il,Il))})},[{phone:Nt,inputValue:Gt,country:dr},ts,es,ds]=ge(()=>{let Il=$({value:s,field:"iso2",countries:_});Il||console.error(`[react-international-phone]: can not find a country with "${s}" iso2 code`);let cu=Il||$({value:"us",field:"iso2",countries:_}),{phone:Ko,inputValue:ru,country:Tn}=W({value:o,country:cu,insertDialCodeOnEmpty:!At,...Bt});return Rt(ru.length),{phone:Ko,inputValue:ru,country:Tn.iso2}},{overrideLastItemDebounceMS:nt,onChange:({inputValue:Il,phone:cu,country:Ko})=>{if(!Et)return;let ru=tn(Ko);Et({phone:cu,inputValue:Il,country:ru})}}),tn=reactExports.useCallback(Il=>$({value:Il,field:"iso2",countries:_}),[_]),rn=reactExports.useMemo(()=>tn(dr),[dr,tn]);reactExports.useEffect(()=>{let Il=Ft.current;if(!Il)return;let cu=Ko=>{if(!Ko.key)return;let ru=Ko.ctrlKey,Tn=Ko.metaKey,ao=Ko.shiftKey;if(Ko.key.toLowerCase()==="z"){if(de()){if(!Tn)return}else if(!ru)return;ao?ds():es()}};return Il.addEventListener("keydown",cu),()=>{Il.removeEventListener("keydown",cu)}},[Ft,es,ds]);let un=Il=>{Il.preventDefault();let{phone:cu,inputValue:Ko,country:ru,cursorPosition:Tn}=fe(Il,{country:rn,phoneBeforeInput:Gt,insertDialCodeOnEmpty:!1,...Bt});return ts({inputValue:Ko,phone:cu,country:ru.iso2}),Rt(Tn),o},$n=(Il,cu={focusOnInput:!1})=>{let Ko=$({value:Il,field:"iso2",countries:_});if(!Ko){console.error(`[react-international-phone]: can not find a country with "${Il}" iso2 code`);return}let ru=gt?"":`${j}${Ko.dialCode}${st}`;ts({inputValue:ru,phone:`${j}${Ko.dialCode}`,country:Ko.iso2}),cu.focusOnInput&&Promise.resolve().then(()=>{var Tn;(Tn=Ft.current)==null||Tn.focus()})},[kn,lo]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!kn){lo(!0),o!==Nt&&(Et==null||Et({inputValue:Gt,phone:Nt,country:rn}));return}if(o===Nt)return;let{phone:Il,inputValue:cu,country:Ko}=W({value:o,country:rn,insertDialCodeOnEmpty:!At,...Bt});ts({phone:Il,inputValue:cu,country:Ko.iso2})},[o]),{phone:Nt,inputValue:Gt,country:rn,setCountry:$n,handlePhoneValueChange:un,inputRef:Ft}},Q=({phone:s,country:o,defaultMask:_="............",disableFormatting:j=!1})=>{let et=o.format,st=ct=>j?ct.replace(new RegExp(`[^${J}]`,"g"),""):ct;if(!et)return st(_);if(typeof et=="string")return st(et);if(!et.default)return console.error(`[react-international-phone]: default mask for ${o.iso2} is not provided`),st(_);let nt=Object.keys(et).find(ct=>{if(ct==="default")return!1;if(!(ct.charAt(0)==="/"&&ct.charAt(ct.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${ct}" for ${o.iso2} is not valid`),!1;let At=new RegExp(ct.substring(1,ct.length-1)),mt=s.replace(o.dialCode,"");return At.test(z(mt))});return st(nt?et[nt]:et.default)},M=s=>{let[o,_,j,et,st,nt]=s;return{name:o,iso2:_,dialCode:j,format:et,priority:st,areaCodes:nt}},Ae=s=>`Field "${s}" is not supported`,$=({field:s,value:o,countries:_=R})=>{if(["priority"].includes(s))throw new Error(Ae(s));let j=_.find(et=>{let st=M(et);return o===st[s]});if(j)return M(j)},X=({phone:s,countries:o=R,currentCountryIso2:_})=>{var ct;let j={country:void 0,fullDialCodeMatch:!1};if(!s)return j;let et=z(s);if(!et)return j;let st=j,nt=({country:At,fullDialCodeMatch:mt})=>{var Et,Ct;let gt=At.dialCode===((Et=st.country)==null?void 0:Et.dialCode),_t=(At.priority??0)<(((Ct=st.country)==null?void 0:Ct.priority)??0);(!gt||_t)&&(st={country:At,fullDialCodeMatch:mt})};for(let At of o){let mt=M(At),{dialCode:gt,areaCodes:_t}=mt;if(et.startsWith(gt)){let Et=st.country?Number(gt)>=Number(st.country.dialCode):!0;if(_t){let Ct=et.substring(gt.length);for(let Bt of _t)if(Ct.startsWith(Bt))return{country:mt,fullDialCodeMatch:!0}}(Et||gt===et||!st.fullDialCodeMatch)&&nt({country:mt,fullDialCodeMatch:!0})}st.fullDialCodeMatch||et.length<gt.length&&gt.startsWith(et)&&(!st.country||Number(gt)<=Number(st.country.dialCode))&&nt({country:mt,fullDialCodeMatch:!1})}if(_){let At=$({value:_,field:"iso2",countries:o});if(!At)return st;let mt=At?(gt=>{if(!(gt!=null&&gt.areaCodes))return!1;let _t=et.substring(gt.dialCode.length);return gt.areaCodes.some(Et=>Et.startsWith(_t))})(At):!1;st&&((ct=st.country)==null?void 0:ct.dialCode)===At.dialCode&&st.country!==At&&st.fullDialCodeMatch&&(!At.areaCodes||mt)&&(st={country:At,fullDialCodeMatch:!0})}return st},Te=(s,o)=>{let _=parseInt(s,16);return Number(_+o).toString(16)},Ee="abcdefghijklmnopqrstuvwxyz",Le="1f1e6",Pe=Ee.split("").reduce((s,o,_)=>({...s,[o]:Te(Le,_)}),{}),$e=s=>[Pe[s[0]],Pe[s[1]]].join("-"),q=({iso2:s,size:o,src:_,protocol:j="https",disableLazyLoading:et,className:st,style:nt,...ct})=>{if(!s)return Z$3.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[st]}),width:o,height:o,...ct});let At=()=>{if(_)return _;let mt=$e(s);return`${j}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${mt}.svg`};return Z$3.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[st]}),src:At(),width:o,height:o,draggable:!1,"data-country":s,loading:et?void 0:"lazy",style:{width:o,height:o,...nt},alt:"",...ct})},He=1e3,ne=({show:s,dialCodePrefix:o="+",selectedCountry:_,countries:j=R,preferredCountries:et=[],flags:st,onSelect:nt,onClose:ct,...At})=>{let mt=reactExports.useRef(null),gt=reactExports.useRef(),_t=reactExports.useMemo(()=>{if(!et||!et.length)return j;let es=[],ds=[...j];for(let tn of et){let rn=ds.findIndex(un=>M(un).iso2===tn);if(rn!==-1){let un=ds.splice(rn,1)[0];es.push(un)}}return es.concat(ds)},[j,et]),Et=reactExports.useRef({updatedAt:void 0,value:""}),Ct=es=>{let ds=Et.current.updatedAt&&new Date().getTime()-Et.current.updatedAt.getTime()>He;Et.current={value:ds?es:`${Et.current.value}${es}`,updatedAt:new Date};let tn=_t.findIndex(rn=>M(rn).name.toLowerCase().startsWith(Et.current.value));tn!==-1&&Ft(tn)},Bt=reactExports.useCallback(es=>_t.findIndex(ds=>M(ds).iso2===es),[_t]),[Dt,Ft]=reactExports.useState(Bt(_)),Rt=()=>{gt.current!==_&&Ft(Bt(_))},Nt=reactExports.useCallback(es=>{Ft(Bt(es.iso2)),nt==null||nt(es)},[nt,Bt]),Gt=es=>{let ds=_t.length-1,tn=rn=>es==="prev"?rn-1:es==="next"?rn+1:es==="last"?ds:0;Ft(rn=>{let un=tn(rn);return un<0?0:un>ds?ds:un})},dr=es=>{if(es.stopPropagation(),es.key==="Enter"){es.preventDefault();let ds=M(_t[Dt]);Nt(ds);return}if(es.key==="Escape"){ct==null||ct();return}if(es.key==="ArrowUp"){es.preventDefault(),Gt("prev");return}if(es.key==="ArrowDown"){es.preventDefault(),Gt("next");return}if(es.key==="PageUp"){es.preventDefault(),Gt("first");return}if(es.key==="PageDown"){es.preventDefault(),Gt("last");return}es.key===" "&&es.preventDefault(),es.key.length===1&&!es.altKey&&!es.ctrlKey&&!es.metaKey&&Ct(es.key.toLocaleLowerCase())},ts=reactExports.useCallback(()=>{if(!mt.current||Dt===void 0)return;let es=M(_t[Dt]).iso2;if(es===gt.current)return;let ds=mt.current.querySelector(`[data-country="${es}"]`);ds&&(ue(mt.current,ds),gt.current=es)},[Dt,_t]);return reactExports.useEffect(()=>{ts()},[Dt,ts]),reactExports.useEffect(()=>{mt.current&&(s?mt.current.focus():Rt())},[s]),reactExports.useEffect(()=>{Rt()},[_]),Z$3.createElement("ul",{ref:mt,role:"listbox",className:P({addPrefix:["country-selector-dropdown"],rawClassNames:[At.className]}),style:{display:s?"block":"none",...At.style},onKeyDown:dr,onBlur:ct,tabIndex:-1,"aria-activedescendant":`react-international-phone__${M(_t[Dt]).iso2}-option`},_t.map((es,ds)=>{let tn=M(es),rn=tn.iso2===_,un=ds===Dt,$n=et.includes(tn.iso2),kn=ds===et.length-1,lo=st==null?void 0:st.find(Il=>Il.iso2===tn.iso2);return Z$3.createElement(Z$3.Fragment,{key:tn.iso2},Z$3.createElement("li",{"data-country":tn.iso2,role:"option","aria-selected":rn,"aria-label":`${tn.name} ${o}${tn.dialCode}`,id:`react-international-phone__${tn.iso2}-option`,className:P({addPrefix:["country-selector-dropdown__list-item",$n&&"country-selector-dropdown__list-item--preferred",rn&&"country-selector-dropdown__list-item--selected",un&&"country-selector-dropdown__list-item--focused"],rawClassNames:[At.listItemClassName]}),onClick:()=>Nt(tn),style:At.listItemStyle,title:tn.name},Z$3.createElement(q,{iso2:tn.iso2,src:lo==null?void 0:lo.src,className:P({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[At.listItemFlagClassName]}),style:At.listItemFlagStyle}),Z$3.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[At.listItemCountryNameClassName]}),style:At.listItemCountryNameStyle},tn.name),Z$3.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[At.listItemDialCodeClassName]}),style:At.listItemDialCodeStyle},o,tn.dialCode)),kn?Z$3.createElement("hr",{className:P({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[At.preferredListDividerClassName]}),style:At.preferredListDividerStyle}):null)}))},ae=({selectedCountry:s,onSelect:o,disabled:_,hideDropdown:j,countries:et=R,preferredCountries:st=[],flags:nt,renderButtonWrapper:ct,...At})=>{let[mt,gt]=reactExports.useState(!1),_t=reactExports.useMemo(()=>{if(s)return $({value:s,field:"iso2",countries:et})},[et,s]),Et=reactExports.useRef(null),Ct=Dt=>{Dt.key&&["ArrowUp","ArrowDown"].includes(Dt.key)&&(Dt.preventDefault(),gt(!0))},Bt=()=>{var Rt;let Dt={title:_t==null?void 0:_t.name,onClick:()=>gt(Nt=>!Nt),onMouseDown:Nt=>Nt.preventDefault(),onKeyDown:Ct,disabled:j||_,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":mt},Ft=Z$3.createElement("div",{className:P({addPrefix:["country-selector-button__button-content"],rawClassNames:[At.buttonContentWrapperClassName]}),style:At.buttonContentWrapperStyle},Z$3.createElement(q,{iso2:s,src:(Rt=nt==null?void 0:nt.find(Nt=>Nt.iso2===s))==null?void 0:Rt.src,className:P({addPrefix:["country-selector-button__flag-emoji",_&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[At.flagClassName]}),style:{visibility:s?"visible":"hidden",...At.flagStyle}}),!j&&Z$3.createElement("div",{className:P({addPrefix:["country-selector-button__dropdown-arrow",_&&"country-selector-button__dropdown-arrow--disabled",mt&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[At.dropdownArrowClassName]}),style:At.dropdownArrowStyle}));return ct?ct({children:Ft,rootProps:Dt}):Z$3.createElement("button",{...Dt,type:"button",className:P({addPrefix:["country-selector-button",mt&&"country-selector-button--active",_&&"country-selector-button--disabled",j&&"country-selector-button--hide-dropdown"],rawClassNames:[At.buttonClassName]}),"data-country":s,style:At.buttonStyle},Ft)};return Z$3.createElement("div",{className:P({addPrefix:["country-selector"],rawClassNames:[At.className]}),style:At.style,ref:Et},Bt(),Z$3.createElement(ne,{show:mt,countries:et,preferredCountries:st,flags:nt,onSelect:Dt=>{gt(!1),o==null||o(Dt)},selectedCountry:s,onClose:()=>{gt(!1)},...At.dropdownStyleProps}))},ie=({dialCode:s,prefix:o,disabled:_,style:j,className:et})=>Z$3.createElement("div",{className:P({addPrefix:["dial-code-preview",_&&"dial-code-preview--disabled"],rawClassNames:[et]}),style:j},`${o}${s}`),Ue=reactExports.forwardRef(({value:s,onChange:o,countries:_=R,preferredCountries:j=[],hideDropdown:et,showDisabledDialCodeAndPrefix:st,disableFocusAfterCountrySelect:nt,flags:ct,style:At,className:mt,inputStyle:gt,inputClassName:_t,countrySelectorStyleProps:Et,dialCodePreviewStyleProps:Ct,inputProps:Bt,placeholder:Dt,disabled:Ft,name:Rt,onFocus:Nt,onBlur:Gt,required:dr,autoFocus:ts,...es},ds)=>{let{phone:tn,inputValue:rn,inputRef:un,country:$n,setCountry:kn,handlePhoneValueChange:lo}=ee({value:s,countries:_,...es,onChange:cu=>{o==null||o(cu.phone,{country:cu.country,inputValue:cu.inputValue})}}),Il=es.disableDialCodeAndPrefix&&st&&($n==null?void 0:$n.dialCode);return reactExports.useImperativeHandle(ds,()=>un.current?Object.assign(un.current,{setCountry:kn,state:{phone:tn,inputValue:rn,country:$n}}):null,[un,kn,tn,rn,$n]),Z$3.createElement("div",{ref:ds,className:P({addPrefix:["input-container"],rawClassNames:[mt]}),style:At},Z$3.createElement(ae,{onSelect:cu=>kn(cu.iso2,{focusOnInput:!nt}),flags:ct,selectedCountry:$n.iso2,countries:_,preferredCountries:j,disabled:Ft,hideDropdown:et,...Et}),Il&&Z$3.createElement(ie,{dialCode:$n.dialCode,prefix:es.prefix??"+",disabled:Ft,...Ct}),Z$3.createElement("input",{onChange:lo,value:rn,type:"tel",ref:un,className:P({addPrefix:["input",Ft&&"input--disabled"],rawClassNames:[_t]}),placeholder:Dt,disabled:Ft,style:gt,name:Rt,onFocus:Nt,onBlur:Gt,autoFocus:ts,required:dr,...Bt}))}),Visibility={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(Visibility,"__esModule",{value:!0});var default_1$1=Visibility.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports;default_1$1=Visibility.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var VisibilityOff={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(VisibilityOff,"__esModule",{value:!0});var default_1=VisibilityOff.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=VisibilityOff.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");const v$1="5.1.7",fr$1=30,ip$1=25,op$1=69,w$1=600,h$1=600,nm$1="success",ddd$1=0,assets$1=[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"Layer 4 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[115.68,468.673,0],ix:2},a:{a:0,k:[26.859,26.86,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-20.859,20.86],[20.859,-20.86]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[26.859,26.86],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[100],e:[0]},{t:22}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 5 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[467.82,115.827,0],ix:2},a:{a:0,k:[26.86,26.859,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-20.86,20.859],[20.86,-20.859]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[26.86,26.859],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[0],e:[100]},{t:22}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 6 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[115.327,116.18,0],ix:2},a:{a:0,k:[26.859,26.859,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-20.859,-20.86],[20.859,20.86]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[26.859,26.86],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[100],e:[0]},{t:22}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 7 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[468.174,468.32,0],ix:2},a:{a:0,k:[26.86,26.86,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-20.86,-20.86],[20.86,20.86]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[26.86,26.86],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[0],e:[100]},{t:22}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 8 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[42.5,292.5,0],ix:2},a:{a:0,k:[35.5,6,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[6,6],[65,6]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[100],e:[0]},{t:22}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Layer 9 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[541,292,0],ix:2},a:{a:0,k:[35.5,6,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[6,6],[65,6]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[0],e:[100]},{t:22}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Layer 10 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[292,541.5,0],ix:2},a:{a:0,k:[6,35.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[6,65],[6,6]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[100],e:[0]},{t:22}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Layer 11 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[291.5,43,0],ix:2},a:{a:0,k:[6,35.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[6,65],[6,6]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:12,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:4,s:[0],e:[100]},{t:22}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:28,st:0,bm:0}]}],layers$1=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[367.859,367.859],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:25,s:[0],e:[0]},{i:{x:[.089],y:[1]},o:{x:[.655],y:[0]},n:["0p089_1_0p655_0"],t:36,s:[0],e:[100]},{t:50}],ix:1},e:{a:1,k:[{i:{x:[.333],y:[1]},o:{x:[.829],y:[0]},n:["0p333_1_0p829_0"],t:25,s:[0],e:[100]},{t:39}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.893382352941,.893382352941,.893382352941,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[1.93,-10.07],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:4,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:25,op:50,st:25,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[367.859,367.859],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},n:["0_1_0p333_0"],t:0,s:[0],e:[0]},{i:{x:[.089],y:[1]},o:{x:[.655],y:[0]},n:["0p089_1_0p655_0"],t:11,s:[0],e:[100]},{t:25}],ix:1},e:{a:1,k:[{i:{x:[.333],y:[1]},o:{x:[.829],y:[0]},n:["0p333_1_0p829_0"],t:0,s:[0],e:[100]},{t:14}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.893382352941,.893382352941,.893382352941,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:20,ix:5},lc:1,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[1.93,-10.07],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:4,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:25,st:0,bm:0},{ddd:0,ind:3,ty:0,nm:"Pre-comp 1",refId:"comp_0",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:54,s:[0],e:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:56,s:[100],e:[100]},{t:62}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2},a:{a:0,k:[300,300,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},n:["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],t:54,s:[86,86,100],e:[94,94,100]},{t:62}],ix:6}},ao:0,w:600,h:600,ip:54,op:354,st:54,bm:0},{ddd:0,ind:4,ty:4,nm:"Layer 2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[300,300,0],ix:2},a:{a:0,k:[137.378,109.309,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-84.878,.669],[-28.738,56.809],[84.878,-56.809]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:21,ix:5},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[137.378,109.308],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.185],y:[1]},o:{x:[.333],y:[0]},n:["0p185_1_0p333_0"],t:59,s:[0],e:[6]},{i:{x:[.306],y:[1]},o:{x:[.333],y:[0]},n:["0p306_1_0p333_0"],t:62,s:[6],e:[0]},{t:66}],ix:1},e:{a:1,k:[{i:{x:[.35],y:[1]},o:{x:[.333],y:[0]},n:["0p35_1_0p333_0"],t:54,s:[0],e:[100]},{i:{x:[.032],y:[1]},o:{x:[.333],y:[0]},n:["0p032_1_0p333_0"],t:62,s:[100],e:[94]},{t:66}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:54,op:354,st:54,bm:0},{ddd:0,ind:5,ty:4,nm:"Layer 1 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[299.988,299.91,0],ix:2},a:{a:0,k:[190.878,189.014,0],ix:1},s:{a:1,k:[{i:{x:[.046,.046,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},n:["0p046_1_0p333_0","0p046_1_0p333_0","0p667_1_0p333_0"],t:50,s:[0,0,100],e:[116,116,100]},{i:{x:[.019,.019,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[.032,.032,0]},n:["0p019_1_0p333_0p032","0p019_1_0p333_0p032","0p667_1_0p333_0"],t:61,s:[116,116,100],e:[100,100,100]},{t:67}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-4.067,-3.573],[0,0],[-2.665,-.588],[0,0],[-1.937,-5.043],[0,0],[-2.087,-1.753],[0,0],[.635,-5.357],[0,0],[-1.033,-2.517],[0,0],[3.063,-4.444],[0,0],[.259,-2.704],[0,0],[4.789,-2.513],[0,0],[1.492,-2.273],[0,0],[5.418,-.007],[0,0],[2.383,-1.32],[0,0],[4.806,2.501],[0,0],[2.727,-.064],[0,0],[3.093,4.437],[0,0],[2.448,1.205],[0,0],[.67,5.356],[0,0],[1.607,2.198],[0,0],[-1.904,5.047],[0,0],[.399,2.689],[0,0],[-4.043,3.583],[0,0],[-.901,2.564],[0,0],[-5.257,1.298],[0,0],[-1.995,1.85],[0,0],[-5.265,-1.284],[0,0],[-2.632,.713],[0,0]],o:[[0,0],[2.049,1.8],[0,0],[5.292,1.166],[0,0],[.976,2.539],[0,0],[4.146,3.481],[0,0],[-.32,2.698],[0,0],[2.05,4.998],[0,0],[-1.542,2.239],[0,0],[-.514,5.372],[0,0],[-2.412,1.266],[0,0],[-2.961,4.512],[0,0],[-2.728,.003],[0,0],[-4.73,2.62],[0,0],[-2.42,-1.26],[0,0],[-5.416,.129],[0,0],[-1.557,-2.233],[0,0],[-4.861,-2.393],[0,0],[-.338,-2.697],[0,0],[-3.192,-4.367],[0,0],[.959,-2.542],[0,0],[-.792,-5.339],[0,0],[2.036,-1.805],[0,0],[1.789,-5.09],[0,0],[2.647,-.653],[0,0],[3.961,-3.674],[0,0],[2.651,.646],[0,0],[5.226,-1.416]],v:[[49.728,-183.893],[75.948,-160.861],[83.134,-157.221],[117.251,-149.704],[128.834,-139.758],[141.329,-107.249],[146,-100.704],[172.734,-78.264],[178.36,-64.104],[174.265,-29.568],[175.352,-21.617],[188.578,10.606],[186.957,25.734],[167.211,54.389],[164.465,61.924],[161.152,96.546],[152.657,109.178],[121.785,125.385],[115.833,130.78],[96.742,159.871],[83.317,167.112],[48.39,167.159],[40.598,169.176],[10.101,186.072],[-5.177,186.263],[-36.157,170.138],[-44.005,168.317],[-78.921,169.146],[-92.553,162.244],[-112.489,133.642],[-118.596,128.399],[-149.931,112.972],[-158.793,100.558],[-163.119,66.033],[-166.084,58.567],[-186.661,30.418],[-188.724,15.336],[-176.447,-17.206],[-175.593,-25.182],[-180.697,-59.604],[-175.488,-73.898],[-149.422,-97.001],[-144.943,-103.66],[-133.405,-136.47],[-122.117,-146.703],[-88.233,-155.074],[-81.156,-158.891],[-55.62,-182.572],[-40.839,-186.4],[-6.899,-178.12],[1.156,-178.22],[34.84,-187.349]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,.788000009574,.522000002394,1],ix:4},o:{a:0,k:100,ix:5},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[190.878,189.015],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:50,op:350,st:50,bm:0}],markers$1=[],successLoader={v:v$1,fr:fr$1,ip:ip$1,op:op$1,w:w$1,h:h$1,nm:nm$1,ddd:ddd$1,assets:assets$1,layers:layers$1,markers:markers$1},SuccessModal=({SuccesTxt:s,successFunc:o})=>jsxRuntimeExports.jsx("div",{className:"successModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"successModalDiv_cont",children:[jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_animation",children:jsxRuntimeExports.jsx(Lottie,{animationData:successLoader,loop:!1,autoPlay:!0,className:"successModalDiv_cont_animation_icon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsxs("div",{className:"successModalDiv_cont_body",children:[jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_body_title",children:"Success"}),jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_body_para",children:s})]}),jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_button_div",children:jsxRuntimeExports.jsx("button",{className:"successModalDiv_cont_button",onClick:o,children:"Continue"})})]})}),v="5.7.4",fr=30,ip=0,op=162,w=72,h=72,nm="Comp 1",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 2",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:135,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:35,s:[45.812,23.438,0],to:[.458,.417,0],ti:[-.458,-.417,0]},{i:{x:.667,y:.667},o:{x:.167,y:.167},t:47,s:[48.562,25.938,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:1},o:{x:.167,y:0},t:120,s:[48.562,25.938,0],to:[-.458,-.417,0],ti:[.458,.417,0]},{t:131,s:[45.812,23.438,0]}],ix:2,l:2},a:{a:0,k:[-5.938,1.562,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:3,s:{a:1,k:[{i:{x:[.667,.667],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:35,s:[34.224,5.708]},{i:{x:[.667,.667],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:47,s:[5.224,5.708]},{i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:120,s:[5.224,5.708]},{t:131,s:[34.224,5.708]}],ix:2},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:35,s:[0,0],to:[-2.333,.333],ti:[2.333,-.333]},{i:{x:.667,y:.667},o:{x:.167,y:.167},t:47,s:[-14,2],to:[0,0],ti:[0,0]},{i:{x:.833,y:1},o:{x:.167,y:0},t:120,s:[-14,2],to:[2.333,-.333],ti:[-2.333,.333]},{t:131,s:[0,0]}],ix:3},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:35,s:[32]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:47,s:[32]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:120,s:[32]},{t:131,s:[32]}],ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-5.969,1.696],ix:2},a:{a:0,k:[-17.143,-.033],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:480,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 1",parent:4,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:35,s:[21.812,23.188,0],to:[.083,0,0],ti:[-.083,0,0]},{i:{x:.667,y:.667},o:{x:.167,y:.167},t:47,s:[22.312,23.188,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:1},o:{x:.167,y:0},t:120,s:[22.312,23.188,0],to:[-.083,0,0],ti:[.083,0,0]},{t:131,s:[21.812,23.188,0]}],ix:2,l:2},a:{a:0,k:[-5.938,1.562,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:3,s:{a:1,k:[{i:{x:[.667,.667],y:[1,1]},o:{x:[.333,.333],y:[0,0]},t:35,s:[34.224,5.708]},{i:{x:[.667,.667],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:47,s:[5.224,5.708]},{i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:120,s:[5.224,5.708]},{t:131,s:[34.224,5.708]}],ix:2},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:35,s:[0,0],to:[-2.333,.333],ti:[2.333,-.333]},{i:{x:.667,y:.667},o:{x:.167,y:.167},t:47,s:[-14,2],to:[0,0],ti:[0,0]},{i:{x:.833,y:1},o:{x:.167,y:0},t:120,s:[-14,2],to:[2.333,-.333],ti:[-2.333,.333]},{t:131,s:[0,0]}],ix:3},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:35,s:[32]},{i:{x:[.667],y:[1]},o:{x:[.167],y:[0]},t:47,s:[32]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:120,s:[32]},{t:131,s:[32]}],ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-5.969,1.446],ix:2},a:{a:0,k:[-17.143,-.033],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:480,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"mouth/Payment failed Outlines",parent:4,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:44,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:47,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:120,s:[100]},{t:123,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[34.5,39.5,0],ix:2,l:2},a:{a:0,k:[13.5,5,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.753,.444],[.51,.717],[1.924,1.132],[2.749,.012],[2.391,-1.379],[1.31,-1.81],[-.749,-.45],[-.533,.699],[-1.454,.839],[-2.2,-.009],[-1.904,-1.119],[-1.007,-1.344]],o:[[.753,-.444],[-1.295,-1.821],[-2.379,-1.399],[-2.749,-.012],[-1.933,1.114],[-.516,.712],[.749,.451],[1.018,-1.335],[1.913,-1.103],[2.199,.01],[1.447,.852],[.527,.704]],v:[[12.23,4.176],[12.736,2.029],[7.857,-2.454],[.031,-4.607],[-7.814,-2.521],[-12.729,1.919],[-12.242,4.07],[-10.001,3.562],[-6.258,.266],[.018,-1.404],[6.279,.32],[9.993,3.648]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[13.496,4.869],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:44,op:123,st:44,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle/Payment failed Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[36,36,0],ix:2,l:2},a:{a:0,k:[34.5,34.5,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.571,.571,.571],y:[1,1,1]},o:{x:[.192,.192,.192],y:[0,0,0]},t:47,s:[100,100,100]},{i:{x:[.677,.677,.677],y:[1,1,1]},o:{x:[.324,.324,.324],y:[0,0,0]},t:83,s:[86,86,100]},{t:120,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-18.778,0],[0,-18.778],[18.778,0],[0,18.778]],o:[[18.778,0],[0,18.778],[-18.778,0],[0,-18.778]],v:[[0,-34],[34,0],[0,34],[-34,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.921568687289,.341176470588,.341176470588,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[34.25,34.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:480,st:0,bm:0}],markers=[],errorLoader={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},ErrorModal=({ErrorTxt:s,errorFunc:o})=>jsxRuntimeExports.jsx("div",{className:"successModalDiv",children:jsxRuntimeExports.jsxs("div",{className:"successModalDiv_cont",children:[jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_animation",children:jsxRuntimeExports.jsx(Lottie,{animationData:errorLoader,loop:!1,autoPlay:!0,className:"successModalDiv_cont_animation_icon",preserveAspectRatio:"xMidYMid meet"})}),jsxRuntimeExports.jsxs("div",{className:"successModalDiv_cont_body",children:[jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_body_title",children:"Error"}),jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_body_para",children:s})]}),jsxRuntimeExports.jsx("div",{className:"successModalDiv_cont_button_div",children:jsxRuntimeExports.jsx("button",{className:"errorModalDiv_cont_button",onClick:o,children:"Continue"})})]})}),Signup=()=>{reactExports.useState(!1);const[s,o]=reactExports.useState(!0),[_,j]=reactExports.useState(!1),[et,st]=reactExports.useState(!1),[nt,ct]=reactExports.useState(""),[At,mt]=reactExports.useState(!1),[gt,_t]=reactExports.useState(!1),[Et,Ct]=reactExports.useState(!1),[Bt,Dt]=reactExports.useState({email:"",password:"",username:"",phone:"",countrycode:""}),Ft=()=>{mt(!At)},{mutate:Rt,isPending:Nt}=useMutation({mutationKey:"register",mutationFn:async ts=>await REGISTER$1(ts),onSuccess:ts=>{if(console.log(ts,"alal"),ts.code===200){j(!0);return}if(ts.status!==200){st(!0),ct(ts.data.errorMessage);return}}}),Gt=async()=>{console.log("april"),await Rt(Bt)},dr=ts=>{const{value:es,id:ds}=ts.target;Dt({...Bt,[ds]:es})};return reactExports.useEffect(()=>{o(!!Nt)},[Nt]),jsxRuntimeExports.jsxs("div",{className:"signup_div",children:[jsxRuntimeExports.jsxs("section",{className:"signup_div_section",children:[jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div",children:[jsxRuntimeExports.jsx("div",{className:"signup_div_section_div_title",onClick:Gt,children:"Create an Account"}),jsxRuntimeExports.jsx("div",{className:"signup_div_section_div_container_form_cont",children:jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_container_form",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"signup_div_section_div_container_form_label",children:"*Email Address:"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",className:"signup_div_section_div_container_form_input",value:Bt.email,onChange:dr}),jsxRuntimeExports.jsx("label",{htmlFor:"username",className:"signup_div_section_div_container_form_label",style:{display:"none"},children:"*User Name:"}),jsxRuntimeExports.jsx("input",{id:"dyey",type:"text",value:!0,name:"userName",className:"signup_div_section_div_container_form_input",style:{display:"none"}}),jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"signup_div_section_div_container_form_label",children:"*Password:"}),jsxRuntimeExports.jsxs("div",{className:"password_div",children:[jsxRuntimeExports.jsx("input",{type:At?"text":"password",id:"password",value:Bt.password,onChange:dr,name:"password",className:"signup_div_section_div_container_form_input_pasowrd",autoComplete:"off"}),At?jsxRuntimeExports.jsx(default_1,{onClick:Ft,className:"otp_modal_container_body_icon2"}):jsxRuntimeExports.jsx(default_1$1,{onClick:Ft,className:"otp_modal_container_body_icon2"})]}),jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"signup_div_section_div_container_form_label",children:"*Confirm Password:"}),jsxRuntimeExports.jsxs("div",{className:"password_div",children:[jsxRuntimeExports.jsx("input",{type:gt?"text":"password",id:"confirm",name:"confirm",className:"signup_div_section_div_container_form_input_pasowrd",autoComplete:"off"}),Et?jsxRuntimeExports.jsx("div",{className:"password_mismatch_div",children:"Passowrd does not match!"}):null]}),jsxRuntimeExports.jsx("label",{htmlFor:"username",className:"signup_div_section_div_container_form_label",children:"*User Name:"}),jsxRuntimeExports.jsx("input",{id:"username",type:"text",value:Bt.username,onChange:dr,name:"userName",className:"signup_div_section_div_container_form_input",autoComplete:"off"}),jsxRuntimeExports.jsx("label",{htmlFor:"referral",className:"signup_div_section_div_container_form_label",children:"Phone Number:"}),jsxRuntimeExports.jsx(Ue,{id:"phoneNumber",defaultCountry:"ng",value:Bt.phone,onChange:(ts,es)=>{Dt({...Bt,countrycode:es.country.dialCode,phone:es.inputValue})}}),jsxRuntimeExports.jsx("button",{className:"signup_div_section_div_container_form_btn",onClick:Gt,disabled:s,children:Nt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(_default,{color:"#fff",height:20})}):" Create Account"})]})}),jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_para",children:["Already have an acccount?","   ",jsxRuntimeExports.jsx("a",{href:"/login",className:"signup_div_section_div_para_link",children:"Login"})]})]})}),jsxRuntimeExports.jsx("img",{src:"/img/login_bg.jpeg",alt:"",className:"signup_div_bg"})]}),_?jsxRuntimeExports.jsx(SuccessModal,{SuccesTxt:"You have successfully Signed up",successFunc:()=>window.location.href="/login"}):null,et?jsxRuntimeExports.jsx(ErrorModal,{ErrorTxt:nt,errorFunc:()=>{st(!1)}}):null]})},Login=()=>{const s=useDispatch(),[o,_]=reactExports.useState({email:"",password:""}),[j,et]=reactExports.useState(!0),[st,nt]=reactExports.useState(!1),[ct,At]=reactExports.useState(!1),[mt,gt]=reactExports.useState(""),[_t,Et]=reactExports.useState(!1),Ct=()=>{Et(!_t)},Bt=useQueryClient(),Dt=ts=>{const{value:es,id:ds}=ts.target;_({...o,[ds]:es})},{mutate:Ft,isError:Rt,error:Nt,isPending:Gt}=useMutation({mutationKey:"login",mutationFn:async ts=>await LOGIN(ts),onSuccess:async ts=>{var es,ds,tn;if(console.log(ts,"alal"),ts.code===200){Bt.setQueryData("login",ts.data.user),localStorage.setItem("x-token",(es=ts==null?void 0:ts.data)==null?void 0:es.token),s(setDetails((ds=ts==null?void 0:ts.data)==null?void 0:ds.user)),localStorage.setItem("user-info",JSON.stringify((tn=ts==null?void 0:ts.data)==null?void 0:tn.user)),console.log(Bt.getQueryData("login")),nt(!0);return}if(ts.status!==200){s(setDetails({})),At(!0),gt(ts.data.errorMessage);return}}}),dr=async()=>{console.log("april"),await Ft(o)};return reactExports.useEffect(()=>{et(!!Gt)},[Gt]),jsxRuntimeExports.jsxs("div",{className:"signup_div",children:[jsxRuntimeExports.jsxs("section",{className:"signup_div_section",children:[jsxRuntimeExports.jsx("div",{className:"custom_container",children:jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div",children:[jsxRuntimeExports.jsx("div",{className:"signup_div_section_div_title",children:"Welcome Back"}),jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_container_form",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"signup_div_section_div_container_form_label",children:"*Email Address:"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",onChange:Dt,value:o.email,name:"email",className:"signup_div_section_div_container_form_input",autoComplete:"off"}),jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"signup_div_section_div_container_form_label",children:"*Password:"}),jsxRuntimeExports.jsxs("div",{className:"password_div",children:[jsxRuntimeExports.jsx("input",{type:_t?"text":"password",id:"password",name:"password",onChange:Dt,className:"signup_div_section_div_container_form_input_pasowrd",autoComplete:"off",value:o.password}),_t?jsxRuntimeExports.jsx(default_1,{onClick:Ct,className:"otp_modal_container_body_icon2"}):jsxRuntimeExports.jsx(default_1$1,{onClick:Ct,className:"otp_modal_container_body_icon2"})]}),jsxRuntimeExports.jsx("div",{className:"forgot_password_link_div",children:jsxRuntimeExports.jsxs("div",{className:"forgot_password_link_div_1",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"checkbox-1",name:"checkbox"}),jsxRuntimeExports.jsx("label",{for:"checkbox-1",className:"checkBox_agree_div_body_label",children:jsxRuntimeExports.jsx("div",{className:"checkBox_agree_div_body_txt",children:"Remember me"})})]})}),jsxRuntimeExports.jsx("button",{className:"signup_div_section_div_container_form_btn",onClick:dr,disabled:j,children:Gt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(_default,{color:"#fff",height:20})}):" Login"})]}),jsxRuntimeExports.jsxs("div",{className:"signup_div_section_div_para",children:["Don't have an account?","   ",jsxRuntimeExports.jsx("a",{href:"/register",className:"signup_div_section_div_para_link",children:"Signup"})]})]})}),jsxRuntimeExports.jsx("img",{src:"/img/login_bg.jpeg",alt:"",className:"signup_div_bg"})]}),st?jsxRuntimeExports.jsx(SuccessModal,{SuccesTxt:"You have successfully logged in",successFunc:()=>window.location.href="/app/home"}):null,ct?jsxRuntimeExports.jsx(ErrorModal,{ErrorTxt:mt,errorFunc:()=>{At(!1)}}):null]})};function App(){const o=window.location.pathname.split("/");return jsxRuntimeExports.jsxs("div",{className:"App",children:[o[1]==="app"?null:jsxRuntimeExports.jsx(Header,{}),o[1]==="app"?jsxRuntimeExports.jsx(DashboardHome,{}):jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Signup,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})})]}),o[1]==="event"?null:jsxRuntimeExports.jsx(Footer,{})]})}function _typeof$1(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(_){return typeof _}:_typeof$1=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$1(s)}function _classCallCheck(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(s,j.key,j)}}function _createClass(s,o,_){return o&&_defineProperties(s.prototype,o),s}function _possibleConstructorReturn(s,o){return o&&(_typeof$1(o)==="object"||typeof o=="function")?o:_assertThisInitialized(s)}function _getPrototypeOf(s){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf(s)}function _assertThisInitialized(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _inherits(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),o&&_setPrototypeOf(s,o)}function _setPrototypeOf(s,o){return _setPrototypeOf=Object.setPrototypeOf||function(j,et){return j.__proto__=et,j},_setPrototypeOf(s,o)}function _defineProperty$3(s,o,_){return o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s}var PersistGate=function(s){_inherits(o,s);function o(){var _,j;_classCallCheck(this,o);for(var et=arguments.length,st=new Array(et),nt=0;nt<et;nt++)st[nt]=arguments[nt];return j=_possibleConstructorReturn(this,(_=_getPrototypeOf(o)).call.apply(_,[this].concat(st))),_defineProperty$3(_assertThisInitialized(j),"state",{bootstrapped:!1}),_defineProperty$3(_assertThisInitialized(j),"_unsubscribe",void 0),_defineProperty$3(_assertThisInitialized(j),"handlePersistorState",function(){var ct=j.props.persistor,At=ct.getState(),mt=At.bootstrapped;mt&&(j.props.onBeforeLift?Promise.resolve(j.props.onBeforeLift()).finally(function(){return j.setState({bootstrapped:!0})}):j.setState({bootstrapped:!0}),j._unsubscribe&&j._unsubscribe())}),j}return _createClass(o,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),o}(reactExports.PureComponent);_defineProperty$3(PersistGate,"defaultProps",{children:null,loading:null});var KEY_PREFIX="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(_){return typeof _}:_typeof=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof(s)}function ownKeys$2(s,o){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(s);o&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(s,et).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$2(s){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$2(_,!0).forEach(function(j){_defineProperty$2(s,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):ownKeys$2(_).forEach(function(j){Object.defineProperty(s,j,Object.getOwnPropertyDescriptor(_,j))})}return s}function _defineProperty$2(s,o,_){return o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s}function autoMergeLevel1(s,o,_,j){j.debug;var et=_objectSpread$2({},_);return s&&_typeof(s)==="object"&&Object.keys(s).forEach(function(st){st!=="_persist"&&o[st]===_[st]&&(et[st]=s[st])}),et}function createPersistoid(s){var o=s.blacklist||null,_=s.whitelist||null,j=s.transforms||[],et=s.throttle||0,st="".concat(s.keyPrefix!==void 0?s.keyPrefix:KEY_PREFIX).concat(s.key),nt=s.storage,ct;s.serialize===!1?ct=function(ts){return ts}:typeof s.serialize=="function"?ct=s.serialize:ct=defaultSerialize;var At=s.writeFailHandler||null,mt={},gt={},_t=[],Et=null,Ct=null,Bt=function(ts){Object.keys(ts).forEach(function(es){Rt(es)&&mt[es]!==ts[es]&&_t.indexOf(es)===-1&&_t.push(es)}),Object.keys(mt).forEach(function(es){ts[es]===void 0&&Rt(es)&&_t.indexOf(es)===-1&&mt[es]!==void 0&&_t.push(es)}),Et===null&&(Et=setInterval(Dt,et)),mt=ts};function Dt(){if(_t.length===0){Et&&clearInterval(Et),Et=null;return}var dr=_t.shift(),ts=j.reduce(function(es,ds){return ds.in(es,dr,mt)},mt[dr]);if(ts!==void 0)try{gt[dr]=ct(ts)}catch(es){console.error("redux-persist/createPersistoid: error serializing state",es)}else delete gt[dr];_t.length===0&&Ft()}function Ft(){Object.keys(gt).forEach(function(dr){mt[dr]===void 0&&delete gt[dr]}),Ct=nt.setItem(st,ct(gt)).catch(Nt)}function Rt(dr){return!(_&&_.indexOf(dr)===-1&&dr!=="_persist"||o&&o.indexOf(dr)!==-1)}function Nt(dr){At&&At(dr)}var Gt=function(){for(;_t.length!==0;)Dt();return Ct||Promise.resolve()};return{update:Bt,flush:Gt}}function defaultSerialize(s){return JSON.stringify(s)}function getStoredState(s){var o=s.transforms||[],_="".concat(s.keyPrefix!==void 0?s.keyPrefix:KEY_PREFIX).concat(s.key),j=s.storage;s.debug;var et;return s.deserialize===!1?et=function(nt){return nt}:typeof s.deserialize=="function"?et=s.deserialize:et=defaultDeserialize,j.getItem(_).then(function(st){if(st)try{var nt={},ct=et(st);return Object.keys(ct).forEach(function(At){nt[At]=o.reduceRight(function(mt,gt){return gt.out(mt,At,ct)},et(ct[At]))}),nt}catch(At){throw At}else return})}function defaultDeserialize(s){return JSON.parse(s)}function purgeStoredState(s){var o=s.storage,_="".concat(s.keyPrefix!==void 0?s.keyPrefix:KEY_PREFIX).concat(s.key);return o.removeItem(_,warnIfRemoveError)}function warnIfRemoveError(s){}function ownKeys$1(s,o){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(s);o&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(s,et).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$1(s){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(_,!0).forEach(function(j){_defineProperty$1(s,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):ownKeys$1(_).forEach(function(j){Object.defineProperty(s,j,Object.getOwnPropertyDescriptor(_,j))})}return s}function _defineProperty$1(s,o,_){return o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s}function _objectWithoutProperties(s,o){if(s==null)return{};var _=_objectWithoutPropertiesLoose(s,o),j,et;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(s);for(et=0;et<st.length;et++)j=st[et],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(s,j)&&(_[j]=s[j])}return _}function _objectWithoutPropertiesLoose(s,o){if(s==null)return{};var _={},j=Object.keys(s),et,st;for(st=0;st<j.length;st++)et=j[st],!(o.indexOf(et)>=0)&&(_[et]=s[et]);return _}var DEFAULT_TIMEOUT=5e3;function persistReducer(s,o){var _=s.version!==void 0?s.version:DEFAULT_VERSION;s.debug;var j=s.stateReconciler===void 0?autoMergeLevel1:s.stateReconciler,et=s.getStoredState||getStoredState,st=s.timeout!==void 0?s.timeout:DEFAULT_TIMEOUT,nt=null,ct=!1,At=!0,mt=function(_t){return _t._persist.rehydrated&&nt&&!At&&nt.update(_t),_t};return function(gt,_t){var Et=gt||{},Ct=Et._persist,Bt=_objectWithoutProperties(Et,["_persist"]),Dt=Bt;if(_t.type===PERSIST){var Ft=!1,Rt=function(tn,rn){Ft||(_t.rehydrate(s.key,tn,rn),Ft=!0)};if(st&&setTimeout(function(){!Ft&&Rt(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(s.key,'"')))},st),At=!1,nt||(nt=createPersistoid(s)),Ct)return _objectSpread$1({},o(Dt,_t),{_persist:Ct});if(typeof _t.rehydrate!="function"||typeof _t.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return _t.register(s.key),et(s).then(function(ds){var tn=s.migrate||function(rn,un){return Promise.resolve(rn)};tn(ds,_).then(function(rn){Rt(rn)},function(rn){Rt(void 0,rn)})},function(ds){Rt(void 0,ds)}),_objectSpread$1({},o(Dt,_t),{_persist:{version:_,rehydrated:!1}})}else{if(_t.type===PURGE)return ct=!0,_t.result(purgeStoredState(s)),_objectSpread$1({},o(Dt,_t),{_persist:Ct});if(_t.type===FLUSH)return _t.result(nt&&nt.flush()),_objectSpread$1({},o(Dt,_t),{_persist:Ct});if(_t.type===PAUSE)At=!0;else if(_t.type===REHYDRATE){if(ct)return _objectSpread$1({},Dt,{_persist:_objectSpread$1({},Ct,{rehydrated:!0})});if(_t.key===s.key){var Nt=o(Dt,_t),Gt=_t.payload,dr=j!==!1&&Gt!==void 0?j(Gt,gt,Nt,s):Nt,ts=_objectSpread$1({},dr,{_persist:_objectSpread$1({},Ct,{rehydrated:!0})});return mt(ts)}}}if(!Ct)return o(gt,_t);var es=o(Dt,_t);return es===Dt?gt:mt(_objectSpread$1({},es,{_persist:Ct}))}}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function _arrayWithoutHoles(s){if(Array.isArray(s)){for(var o=0,_=new Array(s.length);o<s.length;o++)_[o]=s[o];return _}}function ownKeys(s,o){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(s);o&&(j=j.filter(function(et){return Object.getOwnPropertyDescriptor(s,et).enumerable})),_.push.apply(_,j)}return _}function _objectSpread(s){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(_,!0).forEach(function(j){_defineProperty(s,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):ownKeys(_).forEach(function(j){Object.defineProperty(s,j,Object.getOwnPropertyDescriptor(_,j))})}return s}function _defineProperty(s,o,_){return o in s?Object.defineProperty(s,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[o]=_,s}var initialState={registry:[],bootstrapped:!1},persistorReducer=function s(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState,_=arguments.length>1?arguments[1]:void 0;switch(_.type){case REGISTER:return _objectSpread({},o,{registry:[].concat(_toConsumableArray(o.registry),[_.key])});case REHYDRATE:var j=o.registry.indexOf(_.key),et=_toConsumableArray(o.registry);return et.splice(j,1),_objectSpread({},o,{registry:et,bootstrapped:et.length===0});default:return o}};function persistStore(s,o,_){var j=createStore(persistorReducer,initialState,void 0),et=function(At){j.dispatch({type:REGISTER,key:At})},st=function(At,mt,gt){var _t={type:REHYDRATE,payload:mt,err:gt,key:At};s.dispatch(_t),j.dispatch(_t)},nt=_objectSpread({},j,{purge:function(){var At=[];return s.dispatch({type:PURGE,result:function(gt){At.push(gt)}}),Promise.all(At)},flush:function(){var At=[];return s.dispatch({type:FLUSH,result:function(gt){At.push(gt)}}),Promise.all(At)},pause:function(){s.dispatch({type:PAUSE})},persist:function(){s.dispatch({type:PERSIST,register:et,rehydrate:st})}});return nt.persist(),nt}var dist={};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(s,o){(function(_){s.exports=_()})(function(){return function _(j,et,st){function nt(mt,gt){if(!et[mt]){if(!j[mt]){var _t=typeof commonjsRequire=="function"&&commonjsRequire;if(!gt&&_t)return _t(mt,!0);if(ct)return ct(mt,!0);var Et=new Error("Cannot find module '"+mt+"'");throw Et.code="MODULE_NOT_FOUND",Et}var Ct=et[mt]={exports:{}};j[mt][0].call(Ct.exports,function(Bt){var Dt=j[mt][1][Bt];return nt(Dt||Bt)},Ct,Ct.exports,_,j,et,st)}return et[mt].exports}for(var ct=typeof commonjsRequire=="function"&&commonjsRequire,At=0;At<st.length;At++)nt(st[At]);return nt}({1:[function(_,j,et){(function(st){var nt=st.MutationObserver||st.WebKitMutationObserver,ct;if(nt){var At=0,mt=new nt(Bt),gt=st.document.createTextNode("");mt.observe(gt,{characterData:!0}),ct=function(){gt.data=At=++At%2}}else if(!st.setImmediate&&typeof st.MessageChannel<"u"){var _t=new st.MessageChannel;_t.port1.onmessage=Bt,ct=function(){_t.port2.postMessage(0)}}else"document"in st&&"onreadystatechange"in st.document.createElement("script")?ct=function(){var Ft=st.document.createElement("script");Ft.onreadystatechange=function(){Bt(),Ft.onreadystatechange=null,Ft.parentNode.removeChild(Ft),Ft=null},st.document.documentElement.appendChild(Ft)}:ct=function(){setTimeout(Bt,0)};var Et,Ct=[];function Bt(){Et=!0;for(var Ft,Rt,Nt=Ct.length;Nt;){for(Rt=Ct,Ct=[],Ft=-1;++Ft<Nt;)Rt[Ft]();Nt=Ct.length}Et=!1}j.exports=Dt;function Dt(Ft){Ct.push(Ft)===1&&!Et&&ct()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(_,j,et){var st=_(1);function nt(){}var ct={},At=["REJECTED"],mt=["FULFILLED"],gt=["PENDING"];j.exports=_t;function _t(ts){if(typeof ts!="function")throw new TypeError("resolver must be a function");this.state=gt,this.queue=[],this.outcome=void 0,ts!==nt&&Dt(this,ts)}_t.prototype.catch=function(ts){return this.then(null,ts)},_t.prototype.then=function(ts,es){if(typeof ts!="function"&&this.state===mt||typeof es!="function"&&this.state===At)return this;var ds=new this.constructor(nt);if(this.state!==gt){var tn=this.state===mt?ts:es;Ct(ds,tn,this.outcome)}else this.queue.push(new Et(ds,ts,es));return ds};function Et(ts,es,ds){this.promise=ts,typeof es=="function"&&(this.onFulfilled=es,this.callFulfilled=this.otherCallFulfilled),typeof ds=="function"&&(this.onRejected=ds,this.callRejected=this.otherCallRejected)}Et.prototype.callFulfilled=function(ts){ct.resolve(this.promise,ts)},Et.prototype.otherCallFulfilled=function(ts){Ct(this.promise,this.onFulfilled,ts)},Et.prototype.callRejected=function(ts){ct.reject(this.promise,ts)},Et.prototype.otherCallRejected=function(ts){Ct(this.promise,this.onRejected,ts)};function Ct(ts,es,ds){st(function(){var tn;try{tn=es(ds)}catch(rn){return ct.reject(ts,rn)}tn===ts?ct.reject(ts,new TypeError("Cannot resolve promise with itself")):ct.resolve(ts,tn)})}ct.resolve=function(ts,es){var ds=Ft(Bt,es);if(ds.status==="error")return ct.reject(ts,ds.value);var tn=ds.value;if(tn)Dt(ts,tn);else{ts.state=mt,ts.outcome=es;for(var rn=-1,un=ts.queue.length;++rn<un;)ts.queue[rn].callFulfilled(es)}return ts},ct.reject=function(ts,es){ts.state=At,ts.outcome=es;for(var ds=-1,tn=ts.queue.length;++ds<tn;)ts.queue[ds].callRejected(es);return ts};function Bt(ts){var es=ts&&ts.then;if(ts&&(typeof ts=="object"||typeof ts=="function")&&typeof es=="function")return function(){es.apply(ts,arguments)}}function Dt(ts,es){var ds=!1;function tn(kn){ds||(ds=!0,ct.reject(ts,kn))}function rn(kn){ds||(ds=!0,ct.resolve(ts,kn))}function un(){es(rn,tn)}var $n=Ft(un);$n.status==="error"&&tn($n.value)}function Ft(ts,es){var ds={};try{ds.value=ts(es),ds.status="success"}catch(tn){ds.status="error",ds.value=tn}return ds}_t.resolve=Rt;function Rt(ts){return ts instanceof this?ts:ct.resolve(new this(nt),ts)}_t.reject=Nt;function Nt(ts){var es=new this(nt);return ct.reject(es,ts)}_t.all=Gt;function Gt(ts){var es=this;if(Object.prototype.toString.call(ts)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ds=ts.length,tn=!1;if(!ds)return this.resolve([]);for(var rn=new Array(ds),un=0,$n=-1,kn=new this(nt);++$n<ds;)lo(ts[$n],$n);return kn;function lo(Il,cu){es.resolve(Il).then(Ko,function(ru){tn||(tn=!0,ct.reject(kn,ru))});function Ko(ru){rn[cu]=ru,++un===ds&&!tn&&(tn=!0,ct.resolve(kn,rn))}}}_t.race=dr;function dr(ts){var es=this;if(Object.prototype.toString.call(ts)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ds=ts.length,tn=!1;if(!ds)return this.resolve([]);for(var rn=-1,un=new this(nt);++rn<ds;)$n(ts[rn]);return un;function $n(kn){es.resolve(kn).then(function(lo){tn||(tn=!0,ct.resolve(un,lo))},function(lo){tn||(tn=!0,ct.reject(un,lo))})}}},{1:1}],3:[function(_,j,et){(function(st){typeof st.Promise!="function"&&(st.Promise=_(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(_,j,et){var st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lu){return typeof lu}:function(lu){return lu&&typeof Symbol=="function"&&lu.constructor===Symbol&&lu!==Symbol.prototype?"symbol":typeof lu};function nt(lu,wA){if(!(lu instanceof wA))throw new TypeError("Cannot call a class as a function")}function ct(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var At=ct();function mt(){try{if(!At||!At.open)return!1;var lu=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),wA=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!lu||wA)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function gt(lu,wA){lu=lu||[],wA=wA||{};try{return new Blob(lu,wA)}catch(r$){if(r$.name!=="TypeError")throw r$;for(var p0=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,s$=new p0,c$=0;c$<lu.length;c$+=1)s$.append(lu[c$]);return s$.getBlob(wA.type)}}typeof Promise>"u"&&_(3);var _t=Promise;function Et(lu,wA){wA&&lu.then(function(p0){wA(null,p0)},function(p0){wA(p0)})}function Ct(lu,wA,p0){typeof wA=="function"&&lu.then(wA),typeof p0=="function"&&lu.catch(p0)}function Bt(lu){return typeof lu!="string"&&(console.warn(lu+" used as a key, but it is not a string."),lu=String(lu)),lu}function Dt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Ft="local-forage-detect-blob-support",Rt=void 0,Nt={},Gt=Object.prototype.toString,dr="readonly",ts="readwrite";function es(lu){for(var wA=lu.length,p0=new ArrayBuffer(wA),s$=new Uint8Array(p0),c$=0;c$<wA;c$++)s$[c$]=lu.charCodeAt(c$);return p0}function ds(lu){return new _t(function(wA){var p0=lu.transaction(Ft,ts),s$=gt([""]);p0.objectStore(Ft).put(s$,"key"),p0.onabort=function(c$){c$.preventDefault(),c$.stopPropagation(),wA(!1)},p0.oncomplete=function(){var c$=navigator.userAgent.match(/Chrome\/(\d+)/),r$=navigator.userAgent.match(/Edge\//);wA(r$||!c$||parseInt(c$[1],10)>=43)}}).catch(function(){return!1})}function tn(lu){return typeof Rt=="boolean"?_t.resolve(Rt):ds(lu).then(function(wA){return Rt=wA,Rt})}function rn(lu){var wA=Nt[lu.name],p0={};p0.promise=new _t(function(s$,c$){p0.resolve=s$,p0.reject=c$}),wA.deferredOperations.push(p0),wA.dbReady?wA.dbReady=wA.dbReady.then(function(){return p0.promise}):wA.dbReady=p0.promise}function un(lu){var wA=Nt[lu.name],p0=wA.deferredOperations.pop();if(p0)return p0.resolve(),p0.promise}function $n(lu,wA){var p0=Nt[lu.name],s$=p0.deferredOperations.pop();if(s$)return s$.reject(wA),s$.promise}function kn(lu,wA){return new _t(function(p0,s$){if(Nt[lu.name]=Nt[lu.name]||tA(),lu.db)if(wA)rn(lu),lu.db.close();else return p0(lu.db);var c$=[lu.name];wA&&c$.push(lu.version);var r$=At.open.apply(At,c$);wA&&(r$.onupgradeneeded=function(y$){var C$=r$.result;try{C$.createObjectStore(lu.storeName),y$.oldVersion<=1&&C$.createObjectStore(Ft)}catch(B$){if(B$.name==="ConstraintError")console.warn('The database "'+lu.name+'" has been upgraded from version '+y$.oldVersion+" to version "+y$.newVersion+', but the storage "'+lu.storeName+'" already exists.');else throw B$}}),r$.onerror=function(y$){y$.preventDefault(),s$(r$.error)},r$.onsuccess=function(){var y$=r$.result;y$.onversionchange=function(C$){C$.target.close()},p0(y$),un(lu)}})}function lo(lu){return kn(lu,!1)}function Il(lu){return kn(lu,!0)}function cu(lu,wA){if(!lu.db)return!0;var p0=!lu.db.objectStoreNames.contains(lu.storeName),s$=lu.version<lu.db.version,c$=lu.version>lu.db.version;if(s$&&(lu.version!==wA&&console.warn('The database "'+lu.name+`" can't be downgraded from version `+lu.db.version+" to version "+lu.version+"."),lu.version=lu.db.version),c$||p0){if(p0){var r$=lu.db.version+1;r$>lu.version&&(lu.version=r$)}return!0}return!1}function Ko(lu){return new _t(function(wA,p0){var s$=new FileReader;s$.onerror=p0,s$.onloadend=function(c$){var r$=btoa(c$.target.result||"");wA({__local_forage_encoded_blob:!0,data:r$,type:lu.type})},s$.readAsBinaryString(lu)})}function ru(lu){var wA=es(atob(lu.data));return gt([wA],{type:lu.type})}function Tn(lu){return lu&&lu.__local_forage_encoded_blob}function ao(lu){var wA=this,p0=wA._initReady().then(function(){var s$=Nt[wA._dbInfo.name];if(s$&&s$.dbReady)return s$.dbReady});return Ct(p0,lu,lu),p0}function uu(lu){rn(lu);for(var wA=Nt[lu.name],p0=wA.forages,s$=0;s$<p0.length;s$++){var c$=p0[s$];c$._dbInfo.db&&(c$._dbInfo.db.close(),c$._dbInfo.db=null)}return lu.db=null,lo(lu).then(function(r$){return lu.db=r$,cu(lu)?Il(lu):r$}).then(function(r$){lu.db=wA.db=r$;for(var y$=0;y$<p0.length;y$++)p0[y$]._dbInfo.db=r$}).catch(function(r$){throw $n(lu,r$),r$})}function hu(lu,wA,p0,s$){s$===void 0&&(s$=1);try{var c$=lu.db.transaction(lu.storeName,wA);p0(null,c$)}catch(r$){if(s$>0&&(!lu.db||r$.name==="InvalidStateError"||r$.name==="NotFoundError"))return _t.resolve().then(function(){if(!lu.db||r$.name==="NotFoundError"&&!lu.db.objectStoreNames.contains(lu.storeName)&&lu.version<=lu.db.version)return lu.db&&(lu.version=lu.db.version+1),Il(lu)}).then(function(){return uu(lu).then(function(){hu(lu,wA,p0,s$-1)})}).catch(p0);p0(r$)}}function tA(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Sv(lu){var wA=this,p0={db:null};if(lu)for(var s$ in lu)p0[s$]=lu[s$];var c$=Nt[p0.name];c$||(c$=tA(),Nt[p0.name]=c$),c$.forages.push(wA),wA._initReady||(wA._initReady=wA.ready,wA.ready=ao);var r$=[];function y$(){return _t.resolve()}for(var C$=0;C$<c$.forages.length;C$++){var B$=c$.forages[C$];B$!==wA&&r$.push(B$._initReady().catch(y$))}var T$=c$.forages.slice(0);return _t.all(r$).then(function(){return p0.db=c$.db,lo(p0)}).then(function(P$){return p0.db=P$,cu(p0,wA._defaultConfig.version)?Il(p0):P$}).then(function(P$){p0.db=c$.db=P$,wA._dbInfo=p0;for(var N$=0;N$<T$.length;N$++){var mL=T$[N$];mL!==wA&&(mL._dbInfo.db=p0.db,mL._dbInfo.version=p0.version)}})}function W0(lu,wA){var p0=this;lu=Bt(lu);var s$=new _t(function(c$,r$){p0.ready().then(function(){hu(p0._dbInfo,dr,function(y$,C$){if(y$)return r$(y$);try{var B$=C$.objectStore(p0._dbInfo.storeName),T$=B$.get(lu);T$.onsuccess=function(){var P$=T$.result;P$===void 0&&(P$=null),Tn(P$)&&(P$=ru(P$)),c$(P$)},T$.onerror=function(){r$(T$.error)}}catch(P$){r$(P$)}})}).catch(r$)});return Et(s$,wA),s$}function l1(lu,wA){var p0=this,s$=new _t(function(c$,r$){p0.ready().then(function(){hu(p0._dbInfo,dr,function(y$,C$){if(y$)return r$(y$);try{var B$=C$.objectStore(p0._dbInfo.storeName),T$=B$.openCursor(),P$=1;T$.onsuccess=function(){var N$=T$.result;if(N$){var mL=N$.value;Tn(mL)&&(mL=ru(mL));var QQ=lu(mL,N$.key,P$++);QQ!==void 0?c$(QQ):N$.continue()}else c$()},T$.onerror=function(){r$(T$.error)}}catch(N$){r$(N$)}})}).catch(r$)});return Et(s$,wA),s$}function X1(lu,wA,p0){var s$=this;lu=Bt(lu);var c$=new _t(function(r$,y$){var C$;s$.ready().then(function(){return C$=s$._dbInfo,Gt.call(wA)==="[object Blob]"?tn(C$.db).then(function(B$){return B$?wA:Ko(wA)}):wA}).then(function(B$){hu(s$._dbInfo,ts,function(T$,P$){if(T$)return y$(T$);try{var N$=P$.objectStore(s$._dbInfo.storeName);B$===null&&(B$=void 0);var mL=N$.put(B$,lu);P$.oncomplete=function(){B$===void 0&&(B$=null),r$(B$)},P$.onabort=P$.onerror=function(){var QQ=mL.error?mL.error:mL.transaction.error;y$(QQ)}}catch(QQ){y$(QQ)}})}).catch(y$)});return Et(c$,p0),c$}function kI(lu,wA){var p0=this;lu=Bt(lu);var s$=new _t(function(c$,r$){p0.ready().then(function(){hu(p0._dbInfo,ts,function(y$,C$){if(y$)return r$(y$);try{var B$=C$.objectStore(p0._dbInfo.storeName),T$=B$.delete(lu);C$.oncomplete=function(){c$()},C$.onerror=function(){r$(T$.error)},C$.onabort=function(){var P$=T$.error?T$.error:T$.transaction.error;r$(P$)}}catch(P$){r$(P$)}})}).catch(r$)});return Et(s$,wA),s$}function q1(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){hu(wA._dbInfo,ts,function(r$,y$){if(r$)return c$(r$);try{var C$=y$.objectStore(wA._dbInfo.storeName),B$=C$.clear();y$.oncomplete=function(){s$()},y$.onabort=y$.onerror=function(){var T$=B$.error?B$.error:B$.transaction.error;c$(T$)}}catch(T$){c$(T$)}})}).catch(c$)});return Et(p0,lu),p0}function UE(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){hu(wA._dbInfo,dr,function(r$,y$){if(r$)return c$(r$);try{var C$=y$.objectStore(wA._dbInfo.storeName),B$=C$.count();B$.onsuccess=function(){s$(B$.result)},B$.onerror=function(){c$(B$.error)}}catch(T$){c$(T$)}})}).catch(c$)});return Et(p0,lu),p0}function a1(lu,wA){var p0=this,s$=new _t(function(c$,r$){if(lu<0){c$(null);return}p0.ready().then(function(){hu(p0._dbInfo,dr,function(y$,C$){if(y$)return r$(y$);try{var B$=C$.objectStore(p0._dbInfo.storeName),T$=!1,P$=B$.openKeyCursor();P$.onsuccess=function(){var N$=P$.result;if(!N$){c$(null);return}lu===0||T$?c$(N$.key):(T$=!0,N$.advance(lu))},P$.onerror=function(){r$(P$.error)}}catch(N$){r$(N$)}})}).catch(r$)});return Et(s$,wA),s$}function LE(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){hu(wA._dbInfo,dr,function(r$,y$){if(r$)return c$(r$);try{var C$=y$.objectStore(wA._dbInfo.storeName),B$=C$.openKeyCursor(),T$=[];B$.onsuccess=function(){var P$=B$.result;if(!P$){s$(T$);return}T$.push(P$.key),P$.continue()},B$.onerror=function(){c$(B$.error)}}catch(P$){c$(P$)}})}).catch(c$)});return Et(p0,lu),p0}function rS(lu,wA){wA=Dt.apply(this,arguments);var p0=this.config();lu=typeof lu!="function"&&lu||{},lu.name||(lu.name=lu.name||p0.name,lu.storeName=lu.storeName||p0.storeName);var s$=this,c$;if(!lu.name)c$=_t.reject("Invalid arguments");else{var r$=lu.name===p0.name&&s$._dbInfo.db,y$=r$?_t.resolve(s$._dbInfo.db):lo(lu).then(function(C$){var B$=Nt[lu.name],T$=B$.forages;B$.db=C$;for(var P$=0;P$<T$.length;P$++)T$[P$]._dbInfo.db=C$;return C$});lu.storeName?c$=y$.then(function(C$){if(C$.objectStoreNames.contains(lu.storeName)){var B$=C$.version+1;rn(lu);var T$=Nt[lu.name],P$=T$.forages;C$.close();for(var N$=0;N$<P$.length;N$++){var mL=P$[N$];mL._dbInfo.db=null,mL._dbInfo.version=B$}var QQ=new _t(function(GQ,P7){var ZQ=At.open(lu.name,B$);ZQ.onerror=function(Lq){var Tee=ZQ.result;Tee.close(),P7(Lq)},ZQ.onupgradeneeded=function(){var Lq=ZQ.result;Lq.deleteObjectStore(lu.storeName)},ZQ.onsuccess=function(){var Lq=ZQ.result;Lq.close(),GQ(Lq)}});return QQ.then(function(GQ){T$.db=GQ;for(var P7=0;P7<P$.length;P7++){var ZQ=P$[P7];ZQ._dbInfo.db=GQ,un(ZQ._dbInfo)}}).catch(function(GQ){throw($n(lu,GQ)||_t.resolve()).catch(function(){}),GQ})}}):c$=y$.then(function(C$){rn(lu);var B$=Nt[lu.name],T$=B$.forages;C$.close();for(var P$=0;P$<T$.length;P$++){var N$=T$[P$];N$._dbInfo.db=null}var mL=new _t(function(QQ,GQ){var P7=At.deleteDatabase(lu.name);P7.onerror=function(){var ZQ=P7.result;ZQ&&ZQ.close(),GQ(P7.error)},P7.onblocked=function(){console.warn('dropInstance blocked for database "'+lu.name+'" until all open connections are closed')},P7.onsuccess=function(){var ZQ=P7.result;ZQ&&ZQ.close(),QQ(ZQ)}});return mL.then(function(QQ){B$.db=QQ;for(var GQ=0;GQ<T$.length;GQ++){var P7=T$[GQ];un(P7._dbInfo)}}).catch(function(QQ){throw($n(lu,QQ)||_t.resolve()).catch(function(){}),QQ})})}return Et(c$,wA),c$}var gD={_driver:"asyncStorage",_initStorage:Sv,_support:mt(),iterate:l1,getItem:W0,setItem:X1,removeItem:kI,clear:q1,length:UE,key:a1,keys:LE,dropInstance:rS};function NI(){return typeof openDatabase=="function"}var a$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x$="~~local_forage_type~",l$=/^~~local_forage_type~([^~]+)~/,pR="__lfsc__:",h$=pR.length,w$="arbf",E$="blob",Vx="si08",b0="ui08",o$="uic8",m$="si16",t0="si32",_$="ur16",D$="ui32",M$="fl32",p$="fl64",F$=h$+w$.length,R$=Object.prototype.toString;function O$(lu){var wA=lu.length*.75,p0=lu.length,s$,c$=0,r$,y$,C$,B$;lu[lu.length-1]==="="&&(wA--,lu[lu.length-2]==="="&&wA--);var T$=new ArrayBuffer(wA),P$=new Uint8Array(T$);for(s$=0;s$<p0;s$+=4)r$=a$.indexOf(lu[s$]),y$=a$.indexOf(lu[s$+1]),C$=a$.indexOf(lu[s$+2]),B$=a$.indexOf(lu[s$+3]),P$[c$++]=r$<<2|y$>>4,P$[c$++]=(y$&15)<<4|C$>>2,P$[c$++]=(C$&3)<<6|B$&63;return T$}function j$(lu){var wA=new Uint8Array(lu),p0="",s$;for(s$=0;s$<wA.length;s$+=3)p0+=a$[wA[s$]>>2],p0+=a$[(wA[s$]&3)<<4|wA[s$+1]>>4],p0+=a$[(wA[s$+1]&15)<<2|wA[s$+2]>>6],p0+=a$[wA[s$+2]&63];return wA.length%3===2?p0=p0.substring(0,p0.length-1)+"=":wA.length%3===1&&(p0=p0.substring(0,p0.length-2)+"=="),p0}function U$(lu,wA){var p0="";if(lu&&(p0=R$.call(lu)),lu&&(p0==="[object ArrayBuffer]"||lu.buffer&&R$.call(lu.buffer)==="[object ArrayBuffer]")){var s$,c$=pR;lu instanceof ArrayBuffer?(s$=lu,c$+=w$):(s$=lu.buffer,p0==="[object Int8Array]"?c$+=Vx:p0==="[object Uint8Array]"?c$+=b0:p0==="[object Uint8ClampedArray]"?c$+=o$:p0==="[object Int16Array]"?c$+=m$:p0==="[object Uint16Array]"?c$+=_$:p0==="[object Int32Array]"?c$+=t0:p0==="[object Uint32Array]"?c$+=D$:p0==="[object Float32Array]"?c$+=M$:p0==="[object Float64Array]"?c$+=p$:wA(new Error("Failed to get type for BinaryArray"))),wA(c$+j$(s$))}else if(p0==="[object Blob]"){var r$=new FileReader;r$.onload=function(){var y$=x$+lu.type+"~"+j$(this.result);wA(pR+E$+y$)},r$.readAsArrayBuffer(lu)}else try{wA(JSON.stringify(lu))}catch(y$){console.error("Couldn't convert value into a JSON string: ",lu),wA(null,y$)}}function z$(lu){if(lu.substring(0,h$)!==pR)return JSON.parse(lu);var wA=lu.substring(F$),p0=lu.substring(h$,F$),s$;if(p0===E$&&l$.test(wA)){var c$=wA.match(l$);s$=c$[1],wA=wA.substring(c$[0].length)}var r$=O$(wA);switch(p0){case w$:return r$;case E$:return gt([r$],{type:s$});case Vx:return new Int8Array(r$);case b0:return new Uint8Array(r$);case o$:return new Uint8ClampedArray(r$);case m$:return new Int16Array(r$);case _$:return new Uint16Array(r$);case t0:return new Int32Array(r$);case D$:return new Uint32Array(r$);case M$:return new Float32Array(r$);case p$:return new Float64Array(r$);default:throw new Error("Unkown type: "+p0)}}var kQ={serialize:U$,deserialize:z$,stringToBuffer:O$,bufferToString:j$};function YQ(lu,wA,p0,s$){lu.executeSql("CREATE TABLE IF NOT EXISTS "+wA.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p0,s$)}function mO(lu){var wA=this,p0={db:null};if(lu)for(var s$ in lu)p0[s$]=typeof lu[s$]!="string"?lu[s$].toString():lu[s$];var c$=new _t(function(r$,y$){try{p0.db=openDatabase(p0.name,String(p0.version),p0.description,p0.size)}catch(C$){return y$(C$)}p0.db.transaction(function(C$){YQ(C$,p0,function(){wA._dbInfo=p0,r$()},function(B$,T$){y$(T$)})},y$)});return p0.serializer=kQ,c$}function f$(lu,wA,p0,s$,c$,r$){lu.executeSql(p0,s$,c$,function(y$,C$){C$.code===C$.SYNTAX_ERR?y$.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[wA.storeName],function(B$,T$){T$.rows.length?r$(B$,C$):YQ(B$,wA,function(){B$.executeSql(p0,s$,c$,r$)},r$)},r$):r$(y$,C$)},r$)}function b$(lu,wA){var p0=this;lu=Bt(lu);var s$=new _t(function(c$,r$){p0.ready().then(function(){var y$=p0._dbInfo;y$.db.transaction(function(C$){f$(C$,y$,"SELECT * FROM "+y$.storeName+" WHERE key = ? LIMIT 1",[lu],function(B$,T$){var P$=T$.rows.length?T$.rows.item(0).value:null;P$&&(P$=y$.serializer.deserialize(P$)),c$(P$)},function(B$,T$){r$(T$)})})}).catch(r$)});return Et(s$,wA),s$}function I$(lu,wA){var p0=this,s$=new _t(function(c$,r$){p0.ready().then(function(){var y$=p0._dbInfo;y$.db.transaction(function(C$){f$(C$,y$,"SELECT * FROM "+y$.storeName,[],function(B$,T$){for(var P$=T$.rows,N$=P$.length,mL=0;mL<N$;mL++){var QQ=P$.item(mL),GQ=QQ.value;if(GQ&&(GQ=y$.serializer.deserialize(GQ)),GQ=lu(GQ,QQ.key,mL+1),GQ!==void 0){c$(GQ);return}}c$()},function(B$,T$){r$(T$)})})}).catch(r$)});return Et(s$,wA),s$}function V$(lu,wA,p0,s$){var c$=this;lu=Bt(lu);var r$=new _t(function(y$,C$){c$.ready().then(function(){wA===void 0&&(wA=null);var B$=wA,T$=c$._dbInfo;T$.serializer.serialize(wA,function(P$,N$){N$?C$(N$):T$.db.transaction(function(mL){f$(mL,T$,"INSERT OR REPLACE INTO "+T$.storeName+" (key, value) VALUES (?, ?)",[lu,P$],function(){y$(B$)},function(QQ,GQ){C$(GQ)})},function(mL){if(mL.code===mL.QUOTA_ERR){if(s$>0){y$(V$.apply(c$,[lu,B$,p0,s$-1]));return}C$(mL)}})})}).catch(C$)});return Et(r$,p0),r$}function X$(lu,wA,p0){return V$.apply(this,[lu,wA,p0,1])}function JQ(lu,wA){var p0=this;lu=Bt(lu);var s$=new _t(function(c$,r$){p0.ready().then(function(){var y$=p0._dbInfo;y$.db.transaction(function(C$){f$(C$,y$,"DELETE FROM "+y$.storeName+" WHERE key = ?",[lu],function(){c$()},function(B$,T$){r$(T$)})})}).catch(r$)});return Et(s$,wA),s$}function I7(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){var r$=wA._dbInfo;r$.db.transaction(function(y$){f$(y$,r$,"DELETE FROM "+r$.storeName,[],function(){s$()},function(C$,B$){c$(B$)})})}).catch(c$)});return Et(p0,lu),p0}function TK(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){var r$=wA._dbInfo;r$.db.transaction(function(y$){f$(y$,r$,"SELECT COUNT(key) as c FROM "+r$.storeName,[],function(C$,B$){var T$=B$.rows.item(0).c;s$(T$)},function(C$,B$){c$(B$)})})}).catch(c$)});return Et(p0,lu),p0}function zQ(lu,wA){var p0=this,s$=new _t(function(c$,r$){p0.ready().then(function(){var y$=p0._dbInfo;y$.db.transaction(function(C$){f$(C$,y$,"SELECT key FROM "+y$.storeName+" WHERE id = ? LIMIT 1",[lu+1],function(B$,T$){var P$=T$.rows.length?T$.rows.item(0).key:null;c$(P$)},function(B$,T$){r$(T$)})})}).catch(r$)});return Et(s$,wA),s$}function Tq(lu){var wA=this,p0=new _t(function(s$,c$){wA.ready().then(function(){var r$=wA._dbInfo;r$.db.transaction(function(y$){f$(y$,r$,"SELECT key FROM "+r$.storeName,[],function(C$,B$){for(var T$=[],P$=0;P$<B$.rows.length;P$++)T$.push(B$.rows.item(P$).key);s$(T$)},function(C$,B$){c$(B$)})})}).catch(c$)});return Et(p0,lu),p0}function yK(lu){return new _t(function(wA,p0){lu.transaction(function(s$){s$.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c$,r$){for(var y$=[],C$=0;C$<r$.rows.length;C$++)y$.push(r$.rows.item(C$).name);wA({db:lu,storeNames:y$})},function(c$,r$){p0(r$)})},function(s$){p0(s$)})})}function nee(lu,wA){wA=Dt.apply(this,arguments);var p0=this.config();lu=typeof lu!="function"&&lu||{},lu.name||(lu.name=lu.name||p0.name,lu.storeName=lu.storeName||p0.storeName);var s$=this,c$;return lu.name?c$=new _t(function(r$){var y$;lu.name===p0.name?y$=s$._dbInfo.db:y$=openDatabase(lu.name,"","",0),lu.storeName?r$({db:y$,storeNames:[lu.storeName]}):r$(yK(y$))}).then(function(r$){return new _t(function(y$,C$){r$.db.transaction(function(B$){function T$(QQ){return new _t(function(GQ,P7){B$.executeSql("DROP TABLE IF EXISTS "+QQ,[],function(){GQ()},function(ZQ,Lq){P7(Lq)})})}for(var P$=[],N$=0,mL=r$.storeNames.length;N$<mL;N$++)P$.push(T$(r$.storeNames[N$]));_t.all(P$).then(function(){y$()}).catch(function(QQ){C$(QQ)})},function(B$){C$(B$)})})}):c$=_t.reject("Invalid arguments"),Et(c$,wA),c$}var Cee={_driver:"webSQLStorage",_initStorage:mO,_support:NI(),iterate:I$,getItem:b$,setItem:X$,removeItem:JQ,clear:I7,length:TK,key:zQ,keys:Tq,dropInstance:nee};function Bee(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ree(lu,wA){var p0=lu.name+"/";return lu.storeName!==wA.storeName&&(p0+=lu.storeName+"/"),p0}function eS(){var lu="_localforage_support_test";try{return localStorage.setItem(lu,!0),localStorage.removeItem(lu),!1}catch{return!0}}function A$(){return!eS()||localStorage.length>0}function g$(lu){var wA=this,p0={};if(lu)for(var s$ in lu)p0[s$]=lu[s$];return p0.keyPrefix=ree(lu,wA._defaultConfig),A$()?(wA._dbInfo=p0,p0.serializer=kQ,_t.resolve()):_t.reject()}function d$(lu){var wA=this,p0=wA.ready().then(function(){for(var s$=wA._dbInfo.keyPrefix,c$=localStorage.length-1;c$>=0;c$--){var r$=localStorage.key(c$);r$.indexOf(s$)===0&&localStorage.removeItem(r$)}});return Et(p0,lu),p0}function v$(lu,wA){var p0=this;lu=Bt(lu);var s$=p0.ready().then(function(){var c$=p0._dbInfo,r$=localStorage.getItem(c$.keyPrefix+lu);return r$&&(r$=c$.serializer.deserialize(r$)),r$});return Et(s$,wA),s$}function L$(lu,wA){var p0=this,s$=p0.ready().then(function(){for(var c$=p0._dbInfo,r$=c$.keyPrefix,y$=r$.length,C$=localStorage.length,B$=1,T$=0;T$<C$;T$++){var P$=localStorage.key(T$);if(P$.indexOf(r$)===0){var N$=localStorage.getItem(P$);if(N$&&(N$=c$.serializer.deserialize(N$)),N$=lu(N$,P$.substring(y$),B$++),N$!==void 0)return N$}}});return Et(s$,wA),s$}function W$(lu,wA){var p0=this,s$=p0.ready().then(function(){var c$=p0._dbInfo,r$;try{r$=localStorage.key(lu)}catch{r$=null}return r$&&(r$=r$.substring(c$.keyPrefix.length)),r$});return Et(s$,wA),s$}function Q$(lu){var wA=this,p0=wA.ready().then(function(){for(var s$=wA._dbInfo,c$=localStorage.length,r$=[],y$=0;y$<c$;y$++){var C$=localStorage.key(y$);C$.indexOf(s$.keyPrefix)===0&&r$.push(C$.substring(s$.keyPrefix.length))}return r$});return Et(p0,lu),p0}function H$(lu){var wA=this,p0=wA.keys().then(function(s$){return s$.length});return Et(p0,lu),p0}function HQ(lu,wA){var p0=this;lu=Bt(lu);var s$=p0.ready().then(function(){var c$=p0._dbInfo;localStorage.removeItem(c$.keyPrefix+lu)});return Et(s$,wA),s$}function Y$(lu,wA,p0){var s$=this;lu=Bt(lu);var c$=s$.ready().then(function(){wA===void 0&&(wA=null);var r$=wA;return new _t(function(y$,C$){var B$=s$._dbInfo;B$.serializer.serialize(wA,function(T$,P$){if(P$)C$(P$);else try{localStorage.setItem(B$.keyPrefix+lu,T$),y$(r$)}catch(N$){(N$.name==="QuotaExceededError"||N$.name==="NS_ERROR_DOM_QUOTA_REACHED")&&C$(N$),C$(N$)}})})});return Et(c$,p0),c$}function J$(lu,wA){if(wA=Dt.apply(this,arguments),lu=typeof lu!="function"&&lu||{},!lu.name){var p0=this.config();lu.name=lu.name||p0.name,lu.storeName=lu.storeName||p0.storeName}var s$=this,c$;return lu.name?c$=new _t(function(r$){lu.storeName?r$(ree(lu,s$._defaultConfig)):r$(lu.name+"/")}).then(function(r$){for(var y$=localStorage.length-1;y$>=0;y$--){var C$=localStorage.key(y$);C$.indexOf(r$)===0&&localStorage.removeItem(C$)}}):c$=_t.reject("Invalid arguments"),Et(c$,wA),c$}var q$={_driver:"localStorageWrapper",_initStorage:g$,_support:Bee(),iterate:L$,getItem:v$,setItem:Y$,removeItem:HQ,clear:d$,length:H$,key:W$,keys:Q$,dropInstance:J$},_7=function(wA,p0){return wA===p0||typeof wA=="number"&&typeof p0=="number"&&isNaN(wA)&&isNaN(p0)},PK=function(wA,p0){for(var s$=wA.length,c$=0;c$<s$;){if(_7(wA[c$],p0))return!0;c$++}return!1},Fq=Array.isArray||function(lu){return Object.prototype.toString.call(lu)==="[object Array]"},KQ={},Z$={},Q9={INDEXEDDB:gD,WEBSQL:Cee,LOCALSTORAGE:q$},K$=[Q9.INDEXEDDB._driver,Q9.WEBSQL._driver,Q9.LOCALSTORAGE._driver],DK=["dropInstance"],gX=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(DK),gK={description:"",driver:K$.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kq(lu,wA){lu[wA]=function(){var p0=arguments;return lu.ready().then(function(){return lu[wA].apply(lu,p0)})}}function AA(){for(var lu=1;lu<arguments.length;lu++){var wA=arguments[lu];if(wA)for(var p0 in wA)wA.hasOwnProperty(p0)&&(Fq(wA[p0])?arguments[0][p0]=wA[p0].slice():arguments[0][p0]=wA[p0])}return arguments[0]}var q0=function(){function lu(wA){nt(this,lu);for(var p0 in Q9)if(Q9.hasOwnProperty(p0)){var s$=Q9[p0],c$=s$._driver;this[p0]=c$,KQ[c$]||this.defineDriver(s$)}this._defaultConfig=AA({},gK),this._config=AA({},this._defaultConfig,wA),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return lu.prototype.config=function(p0){if((typeof p0>"u"?"undefined":st(p0))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var s$ in p0){if(s$==="storeName"&&(p0[s$]=p0[s$].replace(/\W/g,"_")),s$==="version"&&typeof p0[s$]!="number")return new Error("Database version must be a number.");this._config[s$]=p0[s$]}return"driver"in p0&&p0.driver?this.setDriver(this._config.driver):!0}else return typeof p0=="string"?this._config[p0]:this._config},lu.prototype.defineDriver=function(p0,s$,c$){var r$=new _t(function(y$,C$){try{var B$=p0._driver,T$=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p0._driver){C$(T$);return}for(var P$=gX.concat("_initStorage"),N$=0,mL=P$.length;N$<mL;N$++){var QQ=P$[N$],GQ=!PK(DK,QQ);if((GQ||p0[QQ])&&typeof p0[QQ]!="function"){C$(T$);return}}var P7=function(){for(var Tee=function(hte){return function(){var dte=new Error("Method "+hte+" is not implemented by the current driver"),aee=_t.reject(dte);return Et(aee,arguments[arguments.length-1]),aee}},DY=0,ute=DK.length;DY<ute;DY++){var Xee=DK[DY];p0[Xee]||(p0[Xee]=Tee(Xee))}};P7();var ZQ=function(Tee){KQ[B$]&&console.info("Redefining LocalForage driver: "+B$),KQ[B$]=p0,Z$[B$]=Tee,y$()};"_support"in p0?p0._support&&typeof p0._support=="function"?p0._support().then(ZQ,C$):ZQ(!!p0._support):ZQ(!0)}catch(Lq){C$(Lq)}});return Ct(r$,s$,c$),r$},lu.prototype.driver=function(){return this._driver||null},lu.prototype.getDriver=function(p0,s$,c$){var r$=KQ[p0]?_t.resolve(KQ[p0]):_t.reject(new Error("Driver not found."));return Ct(r$,s$,c$),r$},lu.prototype.getSerializer=function(p0){var s$=_t.resolve(kQ);return Ct(s$,p0),s$},lu.prototype.ready=function(p0){var s$=this,c$=s$._driverSet.then(function(){return s$._ready===null&&(s$._ready=s$._initDriver()),s$._ready});return Ct(c$,p0,p0),c$},lu.prototype.setDriver=function(p0,s$,c$){var r$=this;Fq(p0)||(p0=[p0]);var y$=this._getSupportedDrivers(p0);function C$(){r$._config.driver=r$.driver()}function B$(N$){return r$._extend(N$),C$(),r$._ready=r$._initStorage(r$._config),r$._ready}function T$(N$){return function(){var mL=0;function QQ(){for(;mL<N$.length;){var GQ=N$[mL];return mL++,r$._dbInfo=null,r$._ready=null,r$.getDriver(GQ).then(B$).catch(QQ)}C$();var P7=new Error("No available storage method found.");return r$._driverSet=_t.reject(P7),r$._driverSet}return QQ()}}var P$=this._driverSet!==null?this._driverSet.catch(function(){return _t.resolve()}):_t.resolve();return this._driverSet=P$.then(function(){var N$=y$[0];return r$._dbInfo=null,r$._ready=null,r$.getDriver(N$).then(function(mL){r$._driver=mL._driver,C$(),r$._wrapLibraryMethodsWithReady(),r$._initDriver=T$(y$)})}).catch(function(){C$();var N$=new Error("No available storage method found.");return r$._driverSet=_t.reject(N$),r$._driverSet}),Ct(this._driverSet,s$,c$),this._driverSet},lu.prototype.supports=function(p0){return!!Z$[p0]},lu.prototype._extend=function(p0){AA(this,p0)},lu.prototype._getSupportedDrivers=function(p0){for(var s$=[],c$=0,r$=p0.length;c$<r$;c$++){var y$=p0[c$];this.supports(y$)&&s$.push(y$)}return s$},lu.prototype._wrapLibraryMethodsWithReady=function(){for(var p0=0,s$=gX.length;p0<s$;p0++)kq(this,gX[p0])},lu.prototype.createInstance=function(p0){return new lu(p0)},lu}(),gR=new q0;j.exports=gR},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports;(function(s){var o=_(localforageExports);Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;function _(st){return st&&st.__esModule?st:{default:st}}function j(st){const nt=o.default.createInstance({name:st});return{db:nt,getItem:nt.getItem,setItem:nt.setItem,removeItem:nt.removeItem}}var et=j;s.default=et})(dist);const createIndexedDBStorage=getDefaultExportFromCjs(dist),socketSlice=createSlice({name:"socket",initialState:{isConnected:!1,messages:[]},reducers:{setConnectionStatus:(s,o)=>{s.isConnected=o.payload},addMessage:(s,o)=>{s.messages.push(o.payload)}}}),{setConnectionStatus,addMessage}=socketSlice.actions,socketSlice$1=socketSlice.reducer,PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(s=>{PACKET_TYPES_REVERSE[PACKET_TYPES[s]]=s});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,encodePacket=({type:s,data:o},_,j)=>withNativeBlob$1&&o instanceof Blob?_?j(o):encodeBlobAsBase64(o,j):withNativeArrayBuffer$2&&(o instanceof ArrayBuffer||isView$1(o))?_?j(o):encodeBlobAsBase64(new Blob([o]),j):j(PACKET_TYPES[s]+(o||"")),encodeBlobAsBase64=(s,o)=>{const _=new FileReader;return _.onload=function(){const j=_.result.split(",")[1];o("b"+(j||""))},_.readAsDataURL(s)};function toArray(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(s,o){if(withNativeBlob$1&&s.data instanceof Blob)return s.data.arrayBuffer().then(toArray).then(o);if(withNativeArrayBuffer$2&&(s.data instanceof ArrayBuffer||isView$1(s.data)))return o(toArray(s.data));encodePacket(s,!1,_=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),o(TEXT_ENCODER.encode(_))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<chars.length;s++)lookup$1[chars.charCodeAt(s)]=s;const decode$1=s=>{let o=s.length*.75,_=s.length,j,et=0,st,nt,ct,At;s[s.length-1]==="="&&(o--,s[s.length-2]==="="&&o--);const mt=new ArrayBuffer(o),gt=new Uint8Array(mt);for(j=0;j<_;j+=4)st=lookup$1[s.charCodeAt(j)],nt=lookup$1[s.charCodeAt(j+1)],ct=lookup$1[s.charCodeAt(j+2)],At=lookup$1[s.charCodeAt(j+3)],gt[et++]=st<<2|nt>>4,gt[et++]=(nt&15)<<4|ct>>2,gt[et++]=(ct&3)<<6|At&63;return mt},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(s,o)=>{if(typeof s!="string")return{type:"message",data:mapBinary(s,o)};const _=s.charAt(0);return _==="b"?{type:"message",data:decodeBase64Packet(s.substring(1),o)}:PACKET_TYPES_REVERSE[_]?s.length>1?{type:PACKET_TYPES_REVERSE[_],data:s.substring(1)}:{type:PACKET_TYPES_REVERSE[_]}:ERROR_PACKET},decodeBase64Packet=(s,o)=>{if(withNativeArrayBuffer$1){const _=decode$1(s);return mapBinary(_,o)}else return{base64:!0,data:s}},mapBinary=(s,o)=>{switch(o){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},SEPARATOR="",encodePayload=(s,o)=>{const _=s.length,j=new Array(_);let et=0;s.forEach((st,nt)=>{encodePacket(st,!1,ct=>{j[nt]=ct,++et===_&&o(j.join(SEPARATOR))})})},decodePayload=(s,o)=>{const _=s.split(SEPARATOR),j=[];for(let et=0;et<_.length;et++){const st=decodePacket(_[et],o);if(j.push(st),st.type==="error")break}return j};function createPacketEncoderStream(){return new TransformStream({transform(s,o){encodePacketToBinary(s,_=>{const j=_.length;let et;if(j<126)et=new Uint8Array(1),new DataView(et.buffer).setUint8(0,j);else if(j<65536){et=new Uint8Array(3);const st=new DataView(et.buffer);st.setUint8(0,126),st.setUint16(1,j)}else{et=new Uint8Array(9);const st=new DataView(et.buffer);st.setUint8(0,127),st.setBigUint64(1,BigInt(j))}s.data&&typeof s.data!="string"&&(et[0]|=128),o.enqueue(et),o.enqueue(_)})}})}let TEXT_DECODER;function totalLength(s){return s.reduce((o,_)=>o+_.length,0)}function concatChunks(s,o){if(s[0].length===o)return s.shift();const _=new Uint8Array(o);let j=0;for(let et=0;et<o;et++)_[et]=s[0][j++],j===s[0].length&&(s.shift(),j=0);return s.length&&j<s[0].length&&(s[0]=s[0].slice(j)),_}function createPacketDecoderStream(s,o){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const _=[];let j=0,et=-1,st=!1;return new TransformStream({transform(nt,ct){for(_.push(nt);;){if(j===0){if(totalLength(_)<1)break;const At=concatChunks(_,1);st=(At[0]&128)===128,et=At[0]&127,et<126?j=3:et===126?j=1:j=2}else if(j===1){if(totalLength(_)<2)break;const At=concatChunks(_,2);et=new DataView(At.buffer,At.byteOffset,At.length).getUint16(0),j=3}else if(j===2){if(totalLength(_)<8)break;const At=concatChunks(_,8),mt=new DataView(At.buffer,At.byteOffset,At.length),gt=mt.getUint32(0);if(gt>Math.pow(2,21)-1){ct.enqueue(ERROR_PACKET);break}et=gt*Math.pow(2,32)+mt.getUint32(4),j=3}else{if(totalLength(_)<et)break;const At=concatChunks(_,et);ct.enqueue(decodePacket(st?At:TEXT_DECODER.decode(At),o)),j=0}if(et===0||et>s){ct.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(s){if(s)return mixin(s)}function mixin(s){for(var o in Emitter.prototype)s[o]=Emitter.prototype[o];return s}Emitter.prototype.on=Emitter.prototype.addEventListener=function(s,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(o),this};Emitter.prototype.once=function(s,o){function _(){this.off(s,_),o.apply(this,arguments)}return _.fn=o,this.on(s,_),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(s,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var _=this._callbacks["$"+s];if(!_)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var j,et=0;et<_.length;et++)if(j=_[et],j===o||j.fn===o){_.splice(et,1);break}return _.length===0&&delete this._callbacks["$"+s],this};Emitter.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),_=this._callbacks["$"+s],j=1;j<arguments.length;j++)o[j-1]=arguments[j];if(_){_=_.slice(0);for(var j=0,et=_.length;j<et;++j)_[j].apply(this,o)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Emitter.prototype.hasListeners=function(s){return!!this.listeners(s).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?o=>Promise.resolve().then(o):(o,_)=>_(o,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(s,...o){return o.reduce((_,j)=>(s.hasOwnProperty(j)&&(_[j]=s[j]),_),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(s,o){o.useNativeTimers?(s.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),s.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(s.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),s.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(s){return typeof s=="string"?utf8Length(s):Math.ceil((s.byteLength||s.size)*BASE64_OVERHEAD)}function utf8Length(s){let o=0,_=0;for(let j=0,et=s.length;j<et;j++)o=s.charCodeAt(j),o<128?_+=1:o<2048?_+=2:o<55296||o>=57344?_+=3:(j++,_+=4);return _}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(s){let o="";for(let _ in s)s.hasOwnProperty(_)&&(o.length&&(o+="&"),o+=encodeURIComponent(_)+"="+encodeURIComponent(s[_]));return o}function decode(s){let o={},_=s.split("&");for(let j=0,et=_.length;j<et;j++){let st=_[j].split("=");o[decodeURIComponent(st[0])]=decodeURIComponent(st[1])}return o}class TransportError extends Error{constructor(o,_,j){super(o),this.description=_,this.context=j,this.type="TransportError"}}class Transport extends Emitter{constructor(o){super(),this.writable=!1,installTimerFunctions(this,o),this.opts=o,this.query=o.query,this.socket=o.socket,this.supportsBinary=!o.forceBase64}onError(o,_,j){return super.emitReserved("error",new TransportError(o,_,j)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(o){this.readyState==="open"&&this.write(o)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(o){const _=decodePacket(o,this.socket.binaryType);this.onPacket(_)}onPacket(o){super.emitReserved("packet",o)}onClose(o){this.readyState="closed",super.emitReserved("close",o)}pause(o){}createUri(o,_={}){return o+"://"+this._hostname()+this._port()+this.opts.path+this._query(_)}_hostname(){const o=this.opts.hostname;return o.indexOf(":")===-1?o:"["+o+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(o){const _=encode(o);return _.length?"?"+_:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(o){this.readyState="pausing";const _=()=>{this.readyState="paused",o()};if(this._polling||!this.writable){let j=0;this._polling&&(j++,this.once("pollComplete",function(){--j||_()})),this.writable||(j++,this.once("drain",function(){--j||_()}))}else _()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(o){const _=j=>{if(this.readyState==="opening"&&j.type==="open"&&this.onOpen(),j.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(j)};decodePayload(o,this.socket.binaryType).forEach(_),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const o=()=>{this.write([{type:"close"}])};this.readyState==="open"?o():this.once("open",o)}write(o){this.writable=!1,encodePayload(o,_=>{this.doWrite(_,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const o=this.opts.secure?"https":"http",_=this.query||{};return this.opts.timestampRequests!==!1&&(_[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!_.sid&&(_.b64=1),this.createUri(o,_)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(s){}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(o){if(super(o),typeof location<"u"){const _=location.protocol==="https:";let j=location.port;j||(j=_?"443":"80"),this.xd=typeof location<"u"&&o.hostname!==location.hostname||j!==o.port}}doWrite(o,_){const j=this.request({method:"POST",data:o});j.on("success",_),j.on("error",(et,st)=>{this.onError("xhr post error",et,st)})}doPoll(){const o=this.request();o.on("data",this.onData.bind(this)),o.on("error",(_,j)=>{this.onError("xhr poll error",_,j)}),this.pollXhr=o}}let Request$1=class cte extends Emitter{constructor(o,_,j){super(),this.createRequest=o,installTimerFunctions(this,j),this._opts=j,this._method=j.method||"GET",this._uri=_,this._data=j.data!==void 0?j.data:null,this._create()}_create(){var o;const _=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");_.xdomain=!!this._opts.xd;const j=this._xhr=this.createRequest(_);try{j.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){j.setDisableHeaderCheck&&j.setDisableHeaderCheck(!0);for(let et in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(et)&&j.setRequestHeader(et,this._opts.extraHeaders[et])}}catch{}if(this._method==="POST")try{j.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{j.setRequestHeader("Accept","*/*")}catch{}(o=this._opts.cookieJar)===null||o===void 0||o.addCookies(j),"withCredentials"in j&&(j.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(j.timeout=this._opts.requestTimeout),j.onreadystatechange=()=>{var et;j.readyState===3&&((et=this._opts.cookieJar)===null||et===void 0||et.parseCookies(j.getResponseHeader("set-cookie"))),j.readyState===4&&(j.status===200||j.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof j.status=="number"?j.status:0)},0))},j.send(this._data)}catch(et){this.setTimeoutFn(()=>{this._onError(et)},0);return}typeof document<"u"&&(this._index=cte.requestsCount++,cte.requests[this._index]=this)}_onError(o){this.emitReserved("error",o,this._xhr),this._cleanup(!0)}_cleanup(o){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,o)try{this._xhr.abort()}catch{}typeof document<"u"&&delete cte.requests[this._index],this._xhr=null}}_onLoad(){const o=this._xhr.responseText;o!==null&&(this.emitReserved("data",o),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const s="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(s,unloadHandler,!1)}}function unloadHandler(){for(let s in Request$1.requests)Request$1.requests.hasOwnProperty(s)&&Request$1.requests[s].abort()}const hasXHR2=function(){const s=newRequest({xdomain:!1});return s&&s.responseType!==null}();class XHR extends BaseXHR{constructor(o){super(o);const _=o&&o.forceBase64;this.supportsBinary=hasXHR2&&!_}request(o={}){return Object.assign(o,{xd:this.xd},this.opts),new Request$1(newRequest,this.uri(),o)}}function newRequest(s){const o=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!o||hasCORS))return new XMLHttpRequest}catch{}if(!o)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const o=this.uri(),_=this.opts.protocols,j=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(j.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(o,_,j)}catch(et){return this.emitReserved("error",et)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=o=>this.onClose({description:"websocket connection closed",context:o}),this.ws.onmessage=o=>this.onData(o.data),this.ws.onerror=o=>this.onError("websocket error",o)}write(o){this.writable=!1;for(let _=0;_<o.length;_++){const j=o[_],et=_===o.length-1;encodePacket(j,this.supportsBinary,st=>{try{this.doWrite(j,st)}catch{}et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const o=this.opts.secure?"wss":"ws",_=this.query||{};return this.opts.timestampRequests&&(_[this.opts.timestampParam]=randomString()),this.supportsBinary||(_.b64=1),this.createUri(o,_)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(o,_,j){return isReactNative?new WebSocketCtor(o,_,j):_?new WebSocketCtor(o,_):new WebSocketCtor(o)}doWrite(o,_){this.ws.send(_)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(o){return this.emitReserved("error",o)}this._transport.closed.then(()=>{this.onClose()}).catch(o=>{this.onError("webtransport error",o)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(o=>{const _=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),j=o.readable.pipeThrough(_).getReader(),et=createPacketEncoderStream();et.readable.pipeTo(o.writable),this._writer=et.writable.getWriter();const st=()=>{j.read().then(({done:ct,value:At})=>{ct||(this.onPacket(At),st())}).catch(ct=>{})};st();const nt={type:"open"};this.query.sid&&(nt.data=`{"sid":"${this.query.sid}"}`),this._writer.write(nt).then(()=>this.onOpen())})})}write(o){this.writable=!1;for(let _=0;_<o.length;_++){const j=o[_],et=_===o.length-1;this._writer.write(j).then(()=>{et&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var o;(o=this._transport)===null||o===void 0||o.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(s){if(s.length>8e3)throw"URI too long";const o=s,_=s.indexOf("["),j=s.indexOf("]");_!=-1&&j!=-1&&(s=s.substring(0,_)+s.substring(_,j).replace(/:/g,";")+s.substring(j,s.length));let et=re.exec(s||""),st={},nt=14;for(;nt--;)st[parts[nt]]=et[nt]||"";return _!=-1&&j!=-1&&(st.source=o,st.host=st.host.substring(1,st.host.length-1).replace(/;/g,":"),st.authority=st.authority.replace("[","").replace("]","").replace(/;/g,":"),st.ipv6uri=!0),st.pathNames=pathNames(st,st.path),st.queryKey=queryKey(st,st.query),st}function pathNames(s,o){const _=/\/{2,9}/g,j=o.replace(_,"/").split("/");return(o.slice(0,1)=="/"||o.length===0)&&j.splice(0,1),o.slice(-1)=="/"&&j.splice(j.length-1,1),j}function queryKey(s,o){const _={};return o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(j,et,st){et&&(_[et]=st)}),_}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(s=>s())},!1);class SocketWithoutUpgrade extends Emitter{constructor(o,_){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,o&&typeof o=="object"&&(_=o,o=null),o){const j=parse(o);_.hostname=j.host,_.secure=j.protocol==="https"||j.protocol==="wss",_.port=j.port,j.query&&(_.query=j.query)}else _.host&&(_.hostname=parse(_.host).host);installTimerFunctions(this,_),this.secure=_.secure!=null?_.secure:typeof location<"u"&&location.protocol==="https:",_.hostname&&!_.port&&(_.port=this.secure?"443":"80"),this.hostname=_.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=_.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},_.transports.forEach(j=>{const et=j.prototype.name;this.transports.push(et),this._transportsByName[et]=j}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},_),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(o){const _=Object.assign({},this.opts.query);_.EIO=protocol$1,_.transport=o,this.id&&(_.sid=this.id);const j=Object.assign({},this.opts,{query:_,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[o]);return new this._transportsByName[o](j)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const o=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const _=this.createTransport(o);_.open(),this.setTransport(_)}setTransport(o){this.transport&&this.transport.removeAllListeners(),this.transport=o,o.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",_=>this._onClose("transport close",_))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",o),this.emitReserved("heartbeat"),o.type){case"open":this.onHandshake(JSON.parse(o.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const _=new Error("server error");_.code=o.data,this._onError(_);break;case"message":this.emitReserved("data",o.data),this.emitReserved("message",o.data);break}}onHandshake(o){this.emitReserved("handshake",o),this.id=o.sid,this.transport.query.sid=o.sid,this._pingInterval=o.pingInterval,this._pingTimeout=o.pingTimeout,this._maxPayload=o.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const o=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+o,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},o),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const o=this._getWritablePackets();this.transport.send(o),this._prevBufferLen=o.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let _=1;for(let j=0;j<this.writeBuffer.length;j++){const et=this.writeBuffer[j].data;if(et&&(_+=byteLength(et)),j>0&&_>this._maxPayload)return this.writeBuffer.slice(0,j);_+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const o=Date.now()>this._pingTimeoutTime;return o&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),o}write(o,_,j){return this._sendPacket("message",o,_,j),this}send(o,_,j){return this._sendPacket("message",o,_,j),this}_sendPacket(o,_,j,et){if(typeof _=="function"&&(et=_,_=void 0),typeof j=="function"&&(et=j,j=null),this.readyState==="closing"||this.readyState==="closed")return;j=j||{},j.compress=j.compress!==!1;const st={type:o,data:_,options:j};this.emitReserved("packetCreate",st),this.writeBuffer.push(st),et&&this.once("flush",et),this.flush()}close(){const o=()=>{this._onClose("forced close"),this.transport.close()},_=()=>{this.off("upgrade",_),this.off("upgradeError",_),o()},j=()=>{this.once("upgrade",_),this.once("upgradeError",_)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?j():o()}):this.upgrading?j():o()),this}_onError(o){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",o),this._onClose("transport error",o)}_onClose(o,_){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const j=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);j!==-1&&OFFLINE_EVENT_LISTENERS.splice(j,1)}this.readyState="closed",this.id=null,this.emitReserved("close",o,_),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let o=0;o<this._upgrades.length;o++)this._probe(this._upgrades[o])}_probe(o){let _=this.createTransport(o),j=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const et=()=>{j||(_.send([{type:"ping",data:"probe"}]),_.once("packet",_t=>{if(!j)if(_t.type==="pong"&&_t.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",_),!_)return;SocketWithoutUpgrade.priorWebsocketSuccess=_.name==="websocket",this.transport.pause(()=>{j||this.readyState!=="closed"&&(gt(),this.setTransport(_),_.send([{type:"upgrade"}]),this.emitReserved("upgrade",_),_=null,this.upgrading=!1,this.flush())})}else{const Et=new Error("probe error");Et.transport=_.name,this.emitReserved("upgradeError",Et)}}))};function st(){j||(j=!0,gt(),_.close(),_=null)}const nt=_t=>{const Et=new Error("probe error: "+_t);Et.transport=_.name,st(),this.emitReserved("upgradeError",Et)};function ct(){nt("transport closed")}function At(){nt("socket closed")}function mt(_t){_&&_t.name!==_.name&&st()}const gt=()=>{_.removeListener("open",et),_.removeListener("error",nt),_.removeListener("close",ct),this.off("close",At),this.off("upgrading",mt)};_.once("open",et),_.once("error",nt),_.once("close",ct),this.once("close",At),this.once("upgrading",mt),this._upgrades.indexOf("webtransport")!==-1&&o!=="webtransport"?this.setTimeoutFn(()=>{j||_.open()},200):_.open()}onHandshake(o){this._upgrades=this._filterUpgrades(o.upgrades),super.onHandshake(o)}_filterUpgrades(o){const _=[];for(let j=0;j<o.length;j++)~this.transports.indexOf(o[j])&&_.push(o[j]);return _}}let Socket$1=class extends SocketWithUpgrade{constructor(o,_={}){const j=typeof o=="object"?o:_;(!j.transports||j.transports&&typeof j.transports[0]=="string")&&(j.transports=(j.transports||["polling","websocket","webtransport"]).map(et=>transports[et]).filter(et=>!!et)),super(o,j)}};function url(s,o="",_){let j=s;_=_||typeof location<"u"&&location,s==null&&(s=_.protocol+"//"+_.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=_.protocol+s:s=_.host+s),/^(https?|wss?):\/\//.test(s)||(typeof _<"u"?s=_.protocol+"//"+s:s="https://"+s),j=parse(s)),j.port||(/^(http|ws)$/.test(j.protocol)?j.port="80":/^(http|ws)s$/.test(j.protocol)&&(j.port="443")),j.path=j.path||"/";const st=j.host.indexOf(":")!==-1?"["+j.host+"]":j.host;return j.id=j.protocol+"://"+st+":"+j.port+o,j.href=j.protocol+"://"+st+(_&&_.port===j.port?"":":"+j.port),j}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,toString$1=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$1.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$1.call(File)==="[object FileConstructor]";function isBinary(s){return withNativeArrayBuffer&&(s instanceof ArrayBuffer||isView(s))||withNativeBlob&&s instanceof Blob||withNativeFile&&s instanceof File}function hasBinary(s,o){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let _=0,j=s.length;_<j;_++)if(hasBinary(s[_]))return!0;return!1}if(isBinary(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return hasBinary(s.toJSON(),!0);for(const _ in s)if(Object.prototype.hasOwnProperty.call(s,_)&&hasBinary(s[_]))return!0;return!1}function deconstructPacket(s){const o=[],_=s.data,j=s;return j.data=_deconstructPacket(_,o),j.attachments=o.length,{packet:j,buffers:o}}function _deconstructPacket(s,o){if(!s)return s;if(isBinary(s)){const _={_placeholder:!0,num:o.length};return o.push(s),_}else if(Array.isArray(s)){const _=new Array(s.length);for(let j=0;j<s.length;j++)_[j]=_deconstructPacket(s[j],o);return _}else if(typeof s=="object"&&!(s instanceof Date)){const _={};for(const j in s)Object.prototype.hasOwnProperty.call(s,j)&&(_[j]=_deconstructPacket(s[j],o));return _}return s}function reconstructPacket(s,o){return s.data=_reconstructPacket(s.data,o),delete s.attachments,s}function _reconstructPacket(s,o){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<o.length)return o[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let _=0;_<s.length;_++)s[_]=_reconstructPacket(s[_],o);else if(typeof s=="object")for(const _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(s[_]=_reconstructPacket(s[_],o));return s}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(o){this.replacer=o}encode(o){return(o.type===PacketType.EVENT||o.type===PacketType.ACK)&&hasBinary(o)?this.encodeAsBinary({type:o.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:o.nsp,data:o.data,id:o.id}):[this.encodeAsString(o)]}encodeAsString(o){let _=""+o.type;return(o.type===PacketType.BINARY_EVENT||o.type===PacketType.BINARY_ACK)&&(_+=o.attachments+"-"),o.nsp&&o.nsp!=="/"&&(_+=o.nsp+","),o.id!=null&&(_+=o.id),o.data!=null&&(_+=JSON.stringify(o.data,this.replacer)),_}encodeAsBinary(o){const _=deconstructPacket(o),j=this.encodeAsString(_.packet),et=_.buffers;return et.unshift(j),et}}function isObject(s){return Object.prototype.toString.call(s)==="[object Object]"}class Decoder extends Emitter{constructor(o){super(),this.reviver=o}add(o){let _;if(typeof o=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");_=this.decodeString(o);const j=_.type===PacketType.BINARY_EVENT;j||_.type===PacketType.BINARY_ACK?(_.type=j?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(_),_.attachments===0&&super.emitReserved("decoded",_)):super.emitReserved("decoded",_)}else if(isBinary(o)||o.base64)if(this.reconstructor)_=this.reconstructor.takeBinaryData(o),_&&(this.reconstructor=null,super.emitReserved("decoded",_));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+o)}decodeString(o){let _=0;const j={type:Number(o.charAt(0))};if(PacketType[j.type]===void 0)throw new Error("unknown packet type "+j.type);if(j.type===PacketType.BINARY_EVENT||j.type===PacketType.BINARY_ACK){const st=_+1;for(;o.charAt(++_)!=="-"&&_!=o.length;);const nt=o.substring(st,_);if(nt!=Number(nt)||o.charAt(_)!=="-")throw new Error("Illegal attachments");j.attachments=Number(nt)}if(o.charAt(_+1)==="/"){const st=_+1;for(;++_&&!(o.charAt(_)===","||_===o.length););j.nsp=o.substring(st,_)}else j.nsp="/";const et=o.charAt(_+1);if(et!==""&&Number(et)==et){const st=_+1;for(;++_;){const nt=o.charAt(_);if(nt==null||Number(nt)!=nt){--_;break}if(_===o.length)break}j.id=Number(o.substring(st,_+1))}if(o.charAt(++_)){const st=this.tryParse(o.substr(_));if(Decoder.isPayloadValid(j.type,st))j.data=st;else throw new Error("invalid payload")}return j}tryParse(o){try{return JSON.parse(o,this.reviver)}catch{return!1}}static isPayloadValid(o,_){switch(o){case PacketType.CONNECT:return isObject(_);case PacketType.DISCONNECT:return _===void 0;case PacketType.CONNECT_ERROR:return typeof _=="string"||isObject(_);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(_)&&(typeof _[0]=="number"||typeof _[0]=="string"&&RESERVED_EVENTS$1.indexOf(_[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(_)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(o){this.packet=o,this.buffers=[],this.reconPack=o}takeBinaryData(o){if(this.buffers.push(o),this.buffers.length===this.reconPack.attachments){const _=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),_}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(s,o,_){return s.on(o,_),function(){s.off(o,_)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(o,_,j){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=o,this.nsp=_,j&&j.auth&&(this.auth=j.auth),this._opts=Object.assign({},j),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const o=this.io;this.subs=[on(o,"open",this.onopen.bind(this)),on(o,"packet",this.onpacket.bind(this)),on(o,"error",this.onerror.bind(this)),on(o,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...o){return o.unshift("message"),this.emit.apply(this,o),this}emit(o,..._){var j,et,st;if(RESERVED_EVENTS.hasOwnProperty(o))throw new Error('"'+o.toString()+'" is a reserved event name');if(_.unshift(o),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(_),this;const nt={type:PacketType.EVENT,data:_};if(nt.options={},nt.options.compress=this.flags.compress!==!1,typeof _[_.length-1]=="function"){const gt=this.ids++,_t=_.pop();this._registerAckCallback(gt,_t),nt.id=gt}const ct=(et=(j=this.io.engine)===null||j===void 0?void 0:j.transport)===null||et===void 0?void 0:et.writable,At=this.connected&&!(!((st=this.io.engine)===null||st===void 0)&&st._hasPingExpired());return this.flags.volatile&&!ct||(At?(this.notifyOutgoingListeners(nt),this.packet(nt)):this.sendBuffer.push(nt)),this.flags={},this}_registerAckCallback(o,_){var j;const et=(j=this.flags.timeout)!==null&&j!==void 0?j:this._opts.ackTimeout;if(et===void 0){this.acks[o]=_;return}const st=this.io.setTimeoutFn(()=>{delete this.acks[o];for(let ct=0;ct<this.sendBuffer.length;ct++)this.sendBuffer[ct].id===o&&this.sendBuffer.splice(ct,1);_.call(this,new Error("operation has timed out"))},et),nt=(...ct)=>{this.io.clearTimeoutFn(st),_.apply(this,ct)};nt.withError=!0,this.acks[o]=nt}emitWithAck(o,..._){return new Promise((j,et)=>{const st=(nt,ct)=>nt?et(nt):j(ct);st.withError=!0,_.push(st),this.emit(o,..._)})}_addToQueue(o){let _;typeof o[o.length-1]=="function"&&(_=o.pop());const j={id:this._queueSeq++,tryCount:0,pending:!1,args:o,flags:Object.assign({fromQueue:!0},this.flags)};o.push((et,...st)=>j!==this._queue[0]?void 0:(et!==null?j.tryCount>this._opts.retries&&(this._queue.shift(),_&&_(et)):(this._queue.shift(),_&&_(null,...st)),j.pending=!1,this._drainQueue())),this._queue.push(j),this._drainQueue()}_drainQueue(o=!1){if(!this.connected||this._queue.length===0)return;const _=this._queue[0];_.pending&&!o||(_.pending=!0,_.tryCount++,this.flags=_.flags,this.emit.apply(this,_.args))}packet(o){o.nsp=this.nsp,this.io._packet(o)}onopen(){typeof this.auth=="function"?this.auth(o=>{this._sendConnectPacket(o)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(o){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},o):o})}onerror(o){this.connected||this.emitReserved("connect_error",o)}onclose(o,_){this.connected=!1,delete this.id,this.emitReserved("disconnect",o,_),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(o=>{if(!this.sendBuffer.some(j=>String(j.id)===o)){const j=this.acks[o];delete this.acks[o],j.withError&&j.call(this,new Error("socket has been disconnected"))}})}onpacket(o){if(o.nsp===this.nsp)switch(o.type){case PacketType.CONNECT:o.data&&o.data.sid?this.onconnect(o.data.sid,o.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(o);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(o);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const j=new Error(o.data.message);j.data=o.data.data,this.emitReserved("connect_error",j);break}}onevent(o){const _=o.data||[];o.id!=null&&_.push(this.ack(o.id)),this.connected?this.emitEvent(_):this.receiveBuffer.push(Object.freeze(_))}emitEvent(o){if(this._anyListeners&&this._anyListeners.length){const _=this._anyListeners.slice();for(const j of _)j.apply(this,o)}super.emit.apply(this,o),this._pid&&o.length&&typeof o[o.length-1]=="string"&&(this._lastOffset=o[o.length-1])}ack(o){const _=this;let j=!1;return function(...et){j||(j=!0,_.packet({type:PacketType.ACK,id:o,data:et}))}}onack(o){const _=this.acks[o.id];typeof _=="function"&&(delete this.acks[o.id],_.withError&&o.data.unshift(null),_.apply(this,o.data))}onconnect(o,_){this.id=o,this.recovered=_&&this._pid===_,this._pid=_,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(o=>this.emitEvent(o)),this.receiveBuffer=[],this.sendBuffer.forEach(o=>{this.notifyOutgoingListeners(o),this.packet(o)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(o=>o()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(o){return this.flags.compress=o,this}get volatile(){return this.flags.volatile=!0,this}timeout(o){return this.flags.timeout=o,this}onAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(o),this}prependAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(o),this}offAny(o){if(!this._anyListeners)return this;if(o){const _=this._anyListeners;for(let j=0;j<_.length;j++)if(o===_[j])return _.splice(j,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(o),this}prependAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(o),this}offAnyOutgoing(o){if(!this._anyOutgoingListeners)return this;if(o){const _=this._anyOutgoingListeners;for(let j=0;j<_.length;j++)if(o===_[j])return _.splice(j,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(o){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const _=this._anyOutgoingListeners.slice();for(const j of _)j.apply(this,o.data)}}}function Backoff(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),_=Math.floor(o*this.jitter*s);s=Math.floor(o*10)&1?s+_:s-_}return Math.min(s,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(s){this.ms=s};Backoff.prototype.setMax=function(s){this.max=s};Backoff.prototype.setJitter=function(s){this.jitter=s};class Manager extends Emitter{constructor(o,_){var j;super(),this.nsps={},this.subs=[],o&&typeof o=="object"&&(_=o,o=void 0),_=_||{},_.path=_.path||"/socket.io",this.opts=_,installTimerFunctions(this,_),this.reconnection(_.reconnection!==!1),this.reconnectionAttempts(_.reconnectionAttempts||1/0),this.reconnectionDelay(_.reconnectionDelay||1e3),this.reconnectionDelayMax(_.reconnectionDelayMax||5e3),this.randomizationFactor((j=_.randomizationFactor)!==null&&j!==void 0?j:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(_.timeout==null?2e4:_.timeout),this._readyState="closed",this.uri=o;const et=_.parser||parser;this.encoder=new et.Encoder,this.decoder=new et.Decoder,this._autoConnect=_.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(o){return arguments.length?(this._reconnection=!!o,o||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(o){return o===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)}reconnectionDelay(o){var _;return o===void 0?this._reconnectionDelay:(this._reconnectionDelay=o,(_=this.backoff)===null||_===void 0||_.setMin(o),this)}randomizationFactor(o){var _;return o===void 0?this._randomizationFactor:(this._randomizationFactor=o,(_=this.backoff)===null||_===void 0||_.setJitter(o),this)}reconnectionDelayMax(o){var _;return o===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,(_=this.backoff)===null||_===void 0||_.setMax(o),this)}timeout(o){return arguments.length?(this._timeout=o,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(o){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const _=this.engine,j=this;this._readyState="opening",this.skipReconnect=!1;const et=on(_,"open",function(){j.onopen(),o&&o()}),st=ct=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ct),o?o(ct):this.maybeReconnectOnOpen()},nt=on(_,"error",st);if(this._timeout!==!1){const ct=this._timeout,At=this.setTimeoutFn(()=>{et(),st(new Error("timeout")),_.close()},ct);this.opts.autoUnref&&At.unref(),this.subs.push(()=>{this.clearTimeoutFn(At)})}return this.subs.push(et),this.subs.push(nt),this}connect(o){return this.open(o)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const o=this.engine;this.subs.push(on(o,"ping",this.onping.bind(this)),on(o,"data",this.ondata.bind(this)),on(o,"error",this.onerror.bind(this)),on(o,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(o){try{this.decoder.add(o)}catch(_){this.onclose("parse error",_)}}ondecoded(o){nextTick(()=>{this.emitReserved("packet",o)},this.setTimeoutFn)}onerror(o){this.emitReserved("error",o)}socket(o,_){let j=this.nsps[o];return j?this._autoConnect&&!j.active&&j.connect():(j=new Socket(this,o,_),this.nsps[o]=j),j}_destroy(o){const _=Object.keys(this.nsps);for(const j of _)if(this.nsps[j].active)return;this._close()}_packet(o){const _=this.encoder.encode(o);for(let j=0;j<_.length;j++)this.engine.write(_[j],o.options)}cleanup(){this.subs.forEach(o=>o()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(o,_){var j;this.cleanup(),(j=this.engine)===null||j===void 0||j.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o,_),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const o=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const _=this.backoff.duration();this._reconnecting=!0;const j=this.setTimeoutFn(()=>{o.skipReconnect||(this.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(et=>{et?(o._reconnecting=!1,o.reconnect(),this.emitReserved("reconnect_error",et)):o.onreconnect()}))},_);this.opts.autoUnref&&j.unref(),this.subs.push(()=>{this.clearTimeoutFn(j)})}}onreconnect(){const o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)}}const cache={};function lookup(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};const _=url(s,o.path||"/socket.io"),j=_.source,et=_.id,st=_.path,nt=cache[et]&&st in cache[et].nsps,ct=o.forceNew||o["force new connection"]||o.multiplex===!1||nt;let At;return ct?At=new Manager(j,o):(cache[et]||(cache[et]=new Manager(j,o)),At=cache[et]),_.query&&!o.query&&(o.query=_.queryKey),At.socket(_.path,o)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const socketMiddleware=s=>{console.log(s,"all store data");let o;return _=>j=>{const{dispatch:et,getState:st}=s;j.type==="socket/connect"&&(o=lookup(BASE_SERVER),o.on("connect",()=>{et(setConnectionStatus(!0)),console.log("socket is now  connected",o)}),o.on("disconnect",()=>{et(setConnectionStatus(!1))}),o.on("message",nt=>{et(addMessage(nt))}),o.on("deposit",nt=>{console.log("fetch new deposit",nt)})),j.type==="socket/disconnect"&&o&&o.disconnect(),_(j)}},userConfig={key:"user",storage:createIndexedDBStorage("cube_platform")},persistUser=persistReducer(userConfig,userSlice),store=configureStore({reducer:{user:persistUser,socket:socketSlice$1},middleware:s=>s({serializableCheck:!1}).concat(socketMiddleware)}),persistor=persistStore(store),queryClient=new QueryClient({defaultOptions:{mutations:{},queries:{}}});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(PersistGate,{loading:null,persistor,children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(App,{})})})})}));export{commonjsGlobal as c,getDefaultExportFromCjs as g};
